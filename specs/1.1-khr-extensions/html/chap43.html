<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="The Khronos® Vulkan Working Group">
<title>Vulkan® 1.1.137 - A Specification (with KHR extensions)</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: #fff; color: #222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: black; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #0068b0; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #333; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: Noto, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Noto, sans-serif; font-weight: normal; font-style: normal; color: black; text-rendering: optimizeLegibility; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #4d4d4d; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #264357; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; list-style-position: outside; font-family: Noto, sans-serif; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #ddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #ddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #5e93b8; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #5e93b8; }

blockquote, blockquote p { line-height: 1.6; color: #333; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #ddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: #fff; margin-bottom: 1.25em; border: solid 1px #d8d8ce; }
table thead, table tfoot { background: #eee; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #6d6e71; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f8; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 0; background-color: transparent; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; word-wrap: break-word; }
*:not(pre) > code.nobreak { word-wrap: normal; }
*:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.6; color: #264357; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #333333; }

kbd { font-family: Consolas, "Liberation Mono", Courier, monospace; display: inline-block; color: black; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 1.5em; padding-right: 1.5em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #5e93b8; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #333; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #333; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 0 solid #ddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: Noto, sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: black; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #fff; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #ddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #ddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: none; padding: 1.25em; }

#footer-text { color: black; line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 0 solid #ddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: black; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: black; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: initial; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: Noto, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddd; color: #5e93b8; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: black; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px hidden #666; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 1.25em 1.5625em 1.125em 1.5625em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eee; background-color: #264357; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1.25em 1.5625em 1.125em 1.5625em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.6; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 0.75em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #333; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: black; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #5e93b8; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 0.75em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #333; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #5e93b8; }

.quoteblock.abstract { margin: 0 0 0.75em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #d8d8ce; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: #eee; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.375em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.375em -0.75em; }

ul.inline > li { margin-left: 0.75em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 0.75em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist > table tr > td:first-of-type img { max-width: initial; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px #fff; -webkit-box-shadow: 0 0 0 1px #ddd; box-shadow: 0 0 0 1px #ddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #29475c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { border-bottom: 1px solid #ddd; }

.sect1 { padding-bottom: 0; }

#toctitle { color: #00406F; font-weight: normal; margin-top: 1.5em; }

.sidebarblock { border-color: #aaa; }

code { -webkit-border-radius: 4px; border-radius: 4px; }

p.tableblock.header { color: #6d6e71; }

.literalblock pre, .listingblock pre { background: #eee; }

/* From https://github.com/KhronosGroup/Vulkan-Docs/pull/901 */
a code { color: inherit; }

/* Make VUID anchor handles*/
li > p > a[id^="VUID-"] { visibility: hidden; position: absolute; z-index: 1001; width: 2.2ex; margin-left: -2.2ex; display: block; text-decoration: none !important; text-align: center; font-weight: normal; }
li > p > a[id^="VUID-"]:before { content: "\00A7"; font-size: 1em; display: block; padding-top: 0em; background: #fff }
li > p:hover > a[id^="VUID-"], li > p > a[id^="VUID-"]:hover { visibility: visible; }
li > p > a[id^="VUID-"].link { color: black; text-decoration: none; } /* TODO: not quite sure what these two do */
li > p > a[id^="VUID-"].link:hover { color: black; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<style>
    #loading_msg {
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        margin-top: 1ex;
        margin-bottom: 1ex;
        max-width: 62.5em;
        position: relative;
        padding-left: 1.5em;
        padding-right: 1.5em;
    }
    .loadable {display: none !important;}
</style>
<script>
    function unhideLoadableContent(){
        document.getElementById("loading_msg").style.display = "none";
        var loadables = document.getElementsByClassName("loadable");
        for( var i = 0; i < loadables.length; ++i ) loadables[i].classList.remove("loadable");
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
</head>
<body class="book toc2 toc-left" style="max-width: 100%;">
<div id="header">
<h1>Vulkan<sup>®</sup> 1.1.137 - A Specification (with KHR extensions)</h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan Working Group</span><br>
<span id="revnumber">version 1.1.137,</span>
<span id="revdate">2020-04-07 05:33:04Z</span>
<br><span id="revremark">from git branch: github-master commit: 019f62b11de9358d3383ead2e1a8c5bc2fda23ad</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="chap1.html#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap1.html#introduction-conventions">1.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap2.html#fundamentals">2. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap2.html#fundamentals-host-environment">2.1. Host and Device Environment</a></li>
<li><a href="chap2.html#fundamentals-execmodel">2.2. Execution Model</a></li>
<li><a href="chap2.html#fundamentals-objectmodel-overview">2.3. Object Model</a></li>
<li><a href="chap2.html#fundamentals-abi">2.4. Application Binary Interface</a></li>
<li><a href="chap2.html#fundamentals-commandsyntax">2.5. Command Syntax and Duration</a></li>
<li><a href="chap2.html#fundamentals-threadingbehavior">2.6. Threading Behavior</a></li>
<li><a href="chap2.html#fundamentals-errors">2.7. Errors</a></li>
<li><a href="chap2.html#fundamentals-numerics">2.8. Numeric Representation and Computation</a></li>
<li><a href="chap2.html#fundamentals-fixedconv">2.9. Fixed-Point Data Conversions</a></li>
<li><a href="chap2.html#fundamentals-common-objects">2.10. Common Object Types</a></li>
</ul>
</li>
<li><a href="chap3.html#initialization">3. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap3.html#initialization-functionpointers">3.1. Command Function Pointers</a></li>
<li><a href="chap3.html#initialization-instances">3.2. Instances</a></li>
</ul>
</li>
<li><a href="chap4.html#devsandqueues">4. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap4.html#devsandqueues-physical-device-enumeration">4.1. Physical Devices</a></li>
<li><a href="chap4.html#devsandqueues-devices">4.2. Devices</a></li>
<li><a href="chap4.html#devsandqueues-queues">4.3. Queues</a></li>
</ul>
</li>
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<li><a href="chap5.html#commandbuffers">5. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap5.html#commandbuffers-lifecycle">5.1. Command Buffer Lifecycle</a></li>
<li><a href="chap5.html#commandbuffers-pools">5.2. Command Pools</a></li>
<li><a href="chap5.html#commandbuffer-allocation">5.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap5.html#commandbuffers-recording">5.4. Command Buffer Recording</a></li>
<li><a href="chap5.html#commandbuffers-submission">5.5. Command Buffer Submission</a></li>
<li><a href="chap5.html#commandbuffers-submission-progress">5.6. Queue Forward Progress</a></li>
<li><a href="chap5.html#commandbuffers-secondary">5.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap5.html#commandbuffers-devicemask">5.8. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap6.html#synchronization">6. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap6.html#synchronization-dependencies">6.1. Execution and Memory Dependencies</a></li>
<li><a href="chap6.html#synchronization-implicit">6.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap6.html#synchronization-fences">6.3. Fences</a></li>
<li><a href="chap6.html#synchronization-semaphores">6.4. Semaphores</a></li>
<li><a href="chap6.html#synchronization-events">6.5. Events</a></li>
<li><a href="chap6.html#synchronization-pipeline-barriers">6.6. Pipeline Barriers</a></li>
<li><a href="chap6.html#synchronization-memory-barriers">6.7. Memory Barriers</a></li>
<li><a href="chap6.html#synchronization-wait-idle">6.8. Wait Idle Operations</a></li>
<li><a href="chap6.html#synchronization-submission-host-writes">6.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap6.html#synchronization-device-group">6.10. Synchronization and Multiple Physical Devices</a></li>
</ul>
</li>
<li><a href="chap7.html#renderpass">7. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap7.html#renderpass-creation">7.1. Render Pass Creation</a></li>
<li><a href="chap7.html#renderpass-compatibility">7.2. Render Pass Compatibility</a></li>
<ul class="sectlevel1"><li><a href="index.html#preamble">0. Preamble</a></li></ul>
<li><a href="chap7.html#_framebuffers">7.3. Framebuffers</a></li>
<li><a href="chap7.html#renderpass-commands">7.4. Render Pass Commands</a></li>
</ul>
</li>
<li><a href="chap8.html#shaders">8. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap8.html#shader-modules">8.1. Shader Modules</a></li>
<li><a href="chap8.html#shaders-execution">8.2. Shader Execution</a></li>
<li><a href="chap8.html#shaders-execution-memory-ordering">8.3. Shader Memory Access Ordering</a></li>
<li><a href="chap8.html#shaders-inputs">8.4. Shader Inputs and Outputs</a></li>
<li><a href="chap8.html#shaders-vertex">8.5. Vertex Shaders</a></li>
<li><a href="chap8.html#shaders-tessellation-control">8.6. Tessellation Control Shaders</a></li>
<li><a href="chap8.html#shaders-tessellation-evaluation">8.7. Tessellation Evaluation Shaders</a></li>
<li><a href="chap8.html#shaders-geometry">8.8. Geometry Shaders</a></li>
<li><a href="chap8.html#shaders-fragment">8.9. Fragment Shaders</a></li>
<li><a href="chap8.html#shaders-compute">8.10. Compute Shaders</a></li>
<li><a href="chap8.html#shaders-interpolation-decorations">8.11. Interpolation Decorations</a></li>
<li><a href="chap8.html#shaders-ray-generation">8.12. Ray Generation Shaders</a></li>
<li><a href="chap8.html#shaders-intersection">8.13. Intersection Shaders</a></li>
<li><a href="chap8.html#shaders-any-hit">8.14. Any-Hit Shaders</a></li>
<li><a href="chap8.html#shaders-closest-hit">8.15. Closest Hit Shaders</a></li>
<li><a href="chap8.html#shaders-miss">8.16. Miss Shaders</a></li>
<li><a href="chap8.html#shaders-callable">8.17. Callable Shaders</a></li>
<li><a href="chap8.html#shaders-staticuse">8.18. Static Use</a></li>
<li><a href="chap8.html#shaders-scope">8.19. Scope</a></li>
<li><a href="chap8.html#shaders-group-operations">8.20. Group Operations</a></li>
<li><a href="chap8.html#shaders-quad-operations">8.21. Quad Group Operations</a></li>
<li><a href="chap8.html#shaders-derivative-operations">8.22. Derivative Operations</a></li>
<li><a href="chap8.html#_helper_invocations">8.23. Helper Invocations</a></li>
</ul>
</li>
<li><a href="chap9.html#pipelines">9. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap9.html#pipelines-compute">9.1. Compute Pipelines</a></li>
<li><a href="chap9.html#pipelines-graphics">9.2. Graphics Pipelines</a></li>
<li><a href="chap9.html#pipelines-destruction">9.3. Pipeline destruction</a></li>
<li><a href="chap9.html#pipelines-multiple">9.4. Multiple Pipeline Creation</a></li>
<li><a href="chap9.html#pipelines-pipeline-derivatives">9.5. Pipeline Derivatives</a></li>
<li><a href="chap9.html#pipelines-cache">9.6. Pipeline Cache</a></li>
<li><a href="chap9.html#pipelines-specialization-constants">9.7. Specialization Constants</a></li>
<li><a href="chap9.html#pipeline-library">9.8. Pipeline Libraries</a></li>
<li><a href="chap9.html#pipelines-binding">9.9. Pipeline Binding</a></li>
<li><a href="chap9.html#pipelines-dynamic-state">9.10. Dynamic State</a></li>
<li><a href="chap9.html#pipelines-shader-information">9.11. Pipeline Shader Information</a></li>
<li><a href="chap9.html#pipelines-ray-tracing">9.12. Ray Tracing Pipeline</a></li>
</ul>
</li>
<li><a href="chap10.html#memory">10. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap10.html#memory-host">10.1. Host Memory</a></li>
<li><a href="chap10.html#memory-device">10.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap11.html#resources">11. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#resources-buffers">11.1. Buffers</a></li>
<li><a href="chap11.html#resources-buffer-views">11.2. Buffer Views</a></li>
<li><a href="chap11.html#resources-images">11.3. Images</a></li>
<li><a href="chap11.html#resources-image-layouts">11.4. Image Layouts</a></li>
<li><a href="chap11.html#resources-image-views">11.5. Image Views</a></li>
<li><a href="chap11.html#resources-association">11.6. Resource Memory Association</a></li>
<li><a href="chap11.html#resources-sharing">11.7. Resource Sharing Mode</a></li>
<li><a href="chap11.html#resources-memory-aliasing">11.8. Memory Aliasing</a></li>
<li><a href="chap11.html#resources-acceleration-structures">11.9. Acceleration Structures</a></li>
</ul>
</li>
<li><a href="chap12.html#samplers">12. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap12.html#samplers-YCbCr-conversion">12.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></li>
</ul>
</li>
<li><a href="chap13.html#descriptorsets">13. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap13.html#descriptorsets-types">13.1. Descriptor Types</a></li>
<li><a href="chap13.html#descriptorsets-sets">13.2. Descriptor Sets</a></li>
<li><a href="chap13.html#_physical_storage_buffer_access">13.3. Physical Storage Buffer Access</a></li>
</ul>
</li>
<li><a href="chap14.html#interfaces">14. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap14.html#interfaces-iointerfaces">14.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap14.html#interfaces-vertexinput">14.2. Vertex Input Interface</a></li>
<li><a href="chap14.html#interfaces-fragmentoutput">14.3. Fragment Output Interface</a></li>
<li><a href="chap14.html#interfaces-inputattachment">14.4. Fragment Input Attachment Interface</a></li>
<li><a href="chap14.html#interfaces-resources">14.5. Shader Resource Interface</a></li>
<li><a href="chap14.html#interfaces-builtin-variables">14.6. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap15.html#textures">15. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap15.html#_image_operations_overview">15.1. Image Operations Overview</a></li>
<li><a href="chap15.html#_conversion_formulas">15.2. Conversion Formulas</a></li>
<li><a href="chap15.html#_texel_input_operations">15.3. Texel Input Operations</a></li>
<li><a href="chap15.html#_texel_output_operations">15.4. Texel Output Operations</a></li>
<li><a href="chap15.html#textures-normalized-operations">15.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap15.html#_unnormalized_texel_coordinate_operations">15.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap15.html#textures-integer-coordinate-operations">15.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap15.html#textures-sample-operations">15.8. Image Sample Operations</a></li>
<li><a href="chap15.html#textures-instructions">15.9. Image Operation Steps</a></li>
</ul>
</li>
<li><a href="chap16.html#queries">16. Queries</a>
<ul class="sectlevel2">
<li><a href="chap16.html#queries-pools">16.1. Query Pools</a></li>
<li><a href="chap16.html#queries-operation">16.2. Query Operation</a></li>
<li><a href="chap16.html#queries-occlusion">16.3. Occlusion Queries</a></li>
<li><a href="chap16.html#queries-pipestats">16.4. Pipeline Statistics Queries</a></li>
<li><a href="chap16.html#queries-timestamps">16.5. Timestamp Queries</a></li>
<li><a href="chap16.html#queries-performance">16.6. Performance Queries</a></li>
</ul>
</li>
<li><a href="chap17.html#clears">17. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap17.html#clears-outside">17.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap17.html#clears-inside">17.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap17.html#clears-values">17.3. Clear Values</a></li>
<li><a href="chap17.html#clears-filling-buffers">17.4. Filling Buffers</a></li>
<li><a href="chap17.html#clears-updating-buffers">17.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap18.html#copies">18. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap18.html#_common_operation">18.1. Common Operation</a></li>
<li><a href="chap18.html#copies-buffers">18.2. Copying Data Between Buffers</a></li>
<li><a href="chap18.html#copies-images">18.3. Copying Data Between Images</a></li>
<li><a href="chap18.html#copies-buffers-images">18.4. Copying Data Between Buffers and Images</a></li>
<li><a href="chap18.html#copies-imagescaling">18.5. Image Copies with Scaling</a></li>
<li><a href="chap18.html#copies-resolve">18.6. Resolving Multisample Images</a></li>
</ul>
</li>
<li><a href="chap19.html#drawing">19. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#drawing-primitive-topologies">19.1. Primitive Topologies</a></li>
<li><a href="chap19.html#drawing-primitive-order">19.2. Primitive Order</a></li>
<li><a href="chap19.html#drawing-primitive-shading">19.3. Programmable Primitive Shading</a></li>
</ul>
</li>
<li><a href="chap20.html#fxvertex">20. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap20.html#fxvertex-attrib">20.1. Vertex Attributes</a></li>
<li><a href="chap20.html#fxvertex-input">20.2. Vertex Input Description</a></li>
<li><a href="chap20.html#fxvertex-example">20.3. Example</a></li>
</ul>
</li>
<li><a href="chap21.html#tessellation">21. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap21.html#_tessellator">21.1. Tessellator</a></li>
<li><a href="chap21.html#_tessellator_patch_discard">21.2. Tessellator Patch Discard</a></li>
<li><a href="chap21.html#tessellation-tessellator-spacing">21.3. Tessellator Spacing</a></li>
<li><a href="chap21.html#tessellation-primitive-order">21.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap21.html#tessellation-vertex-winding-order">21.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap21.html#tessellation-triangle-tessellation">21.6. Triangle Tessellation</a></li>
<li><a href="chap21.html#tessellation-quad-tessellation">21.7. Quad Tessellation</a></li>
<li><a href="chap21.html#tessellation-isoline-tessellation">21.8. Isoline Tessellation</a></li>
<li><a href="chap21.html#tessellation-point-mode">21.9. Tessellation Point Mode</a></li>
<li><a href="chap21.html#_tessellation_pipeline_state">21.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap22.html#geometry">22. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap22.html#geometry-input">22.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap22.html#geometry-output">22.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap22.html#geometry-invocations">22.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap22.html#geometry-ordering">22.4. Geometry Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap23.html#vertexpostproc">23. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap23.html#vertexpostproc-flatshading">23.1. Flat Shading</a></li>
<li><a href="chap23.html#vertexpostproc-clipping">23.2. Primitive Clipping</a></li>
<li><a href="chap23.html#vertexpostproc-clipping-shader-outputs">23.3. Clipping Shader Outputs</a></li>
<li><a href="chap23.html#vertexpostproc-coord-transform">23.4. Coordinate Transformations</a></li>
<li><a href="chap23.html#vertexpostproc-viewport">23.5. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap24.html#primsrast">24. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap24.html#primsrast-discard">24.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap24.html#primrast-order">24.2. Rasterization Order</a></li>
<li><a href="chap24.html#primsrast-multisampling">24.3. Multisampling</a></li>
<li><a href="chap24.html#primsrast-sampleshading">24.4. Sample Shading</a></li>
<li><a href="chap24.html#primsrast-points">24.5. Points</a></li>
<li><a href="chap24.html#primsrast-lines">24.6. Line Segments</a></li>
<li><a href="chap24.html#primsrast-polygons">24.7. Polygons</a></li>
</ul>
</li>
<li><a href="chap25.html#fragops">25. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap25.html#fragops-early">25.1. Early Per-Fragment Tests</a></li>
<li><a href="chap25.html#fragops-scissor">25.2. Scissor Test</a></li>
<li><a href="chap25.html#fragops-samplemask">25.3. Sample Mask</a></li>
<li><a href="chap25.html#fragops-early-mode">25.4. Early Fragment Test Mode</a></li>
<li><a href="chap25.html#fragops-late">25.5. Late Per-Fragment Tests</a></li>
<li><a href="chap25.html#fragops-covg">25.6. Multisample Coverage</a></li>
<li><a href="chap25.html#fragops-ds-state">25.7. Depth and Stencil Operations</a></li>
<li><a href="chap25.html#fragops-dbt">25.8. Depth Bounds Test</a></li>
<li><a href="chap25.html#fragops-stencil">25.9. Stencil Test</a></li>
<li><a href="chap25.html#fragops-depth">25.10. Depth Test</a></li>
<li><a href="chap25.html#fragops-samplecount">25.11. Sample Counting</a></li>
<li><a href="chap25.html#fragops-coverage-reduction">25.12. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap26.html#framebuffer">26. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap26.html#framebuffer-blending">26.1. Blending</a></li>
<li><a href="chap26.html#framebuffer-logicop">26.2. Logical Operations</a></li>
<li><a href="chap26.html#framebuffer-color-write-mask">26.3. Color Write Mask</a></li>
</ul>
</li>
<li><a href="chap27.html#dispatch">27. Dispatching Commands</a></li>
<li><a href="chap28.html#sparsememory">28. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap28.html#sparsememory-sparseresourcefeatures">28.1. Sparse Resource Features</a></li>
<li><a href="chap28.html#sparsememory-fully-resident">28.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap28.html#sparsememory-partially-resident-buffers">28.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap28.html#sparsememory-partially-resident-images">28.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap28.html#sparsememory-sparse-memory-aliasing">28.5. Sparse Memory Aliasing</a></li>
<li><a href="chap28.html#_sparse_resource_implementation_guidelines">28.6. Sparse Resource Implementation Guidelines</a></li>
<li><a href="chap28.html#sparsememory-resourceapi">28.7. Sparse Resource API</a></li>
<li><a href="chap28.html#sparsememory-examples">28.8. Examples</a></li>
</ul>
</li>
<li><a href="chap29.html#wsi">29. Window System Integration (WSI)</a>
<ul class="sectlevel2">
<li><a href="chap29.html#_wsi_platform">29.1. WSI Platform</a></li>
<li><a href="chap29.html#_wsi_surface">29.2. WSI Surface</a></li>
<li><a href="chap29.html#display">29.3. Presenting Directly to Display Devices</a></li>
<li><a href="chap29.html#_querying_for_wsi_support">29.4. Querying for WSI Support</a></li>
<li><a href="chap29.html#_surface_queries">29.5. Surface Queries</a></li>
<li><a href="chap29.html#_device_group_queries">29.6. Device Group Queries</a></li>
<li><a href="chap29.html#_wsi_swapchain">29.7. WSI Swapchain</a></li>
</ul>
</li>
<li><a href="chap30.html#deferred-host-operations">30. Deferred Host Operations</a>
<ul class="sectlevel2">
<li><a href="chap30.html#_requesting_deferral">30.1. Requesting Deferral</a></li>
<li><a href="chap30.html#_deferred_host_operations_api">30.2. Deferred Host Operations API</a></li>
</ul>
</li>
<li><a href="chap31.html#ray-traversal">31. Ray Traversal</a>
<ul class="sectlevel2">
<li><a href="chap31.html#_ray_intersection_candidate_determination">31.1. Ray Intersection Candidate Determination</a></li>
<li><a href="chap31.html#_ray_intersection_culling">31.2. Ray Intersection Culling</a></li>
<li><a href="chap31.html#_ray_intersection_confirmation">31.3. Ray Intersection Confirmation</a></li>
<li><a href="chap31.html#_ray_closest_hit_determination">31.4. Ray Closest Hit Determination</a></li>
<li><a href="chap31.html#_ray_result_determination">31.5. Ray Result Determination</a></li>
</ul>
</li>
<li><a href="chap32.html#ray-tracing">32. Ray Tracing</a>
<ul class="sectlevel2">
<li><a href="chap32.html#ray-tracing-shader-call">32.1. Shader Call Instructions</a></li>
<li><a href="chap32.html#ray-tracing-commands">32.2. Ray Tracing Commands</a></li>
<li><a href="chap32.html#shader-binding-table">32.3. Shader Binding Table</a></li>
<li><a href="chap32.html#acceleration-structure">32.4. Acceleration Structures</a></li>
<li><a href="chap32.html#host-acceleration-structure">32.5. Host Acceleration Structure Operations</a></li>
</ul>
</li>
<li><a href="chap33.html#extendingvulkan">33. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap33.html#extendingvulkan-instanceanddevicefunctionality">33.1. Instance and Device Functionality</a></li>
<li><a href="chap33.html#extendingvulkan-coreversions">33.2. Core Versions</a></li>
<li><a href="chap33.html#extendingvulkan-layers">33.3. Layers</a></li>
<li><a href="chap33.html#extendingvulkan-extensions">33.4. Extensions</a></li>
<li><a href="chap33.html#extendingvulkan-extensions-extensiondependencies">33.5. Extension Dependencies</a></li>
<li><a href="chap33.html#_compatibility_guarantees_informative">33.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap34.html#features">34. Features</a>
<ul class="sectlevel2">
<li><a href="chap34.html#features-requirements">34.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="chap35.html#limits">35. Limits</a>
<ul class="sectlevel2">
<li><a href="chap35.html#limits-minmax">35.1. Limit Requirements</a></li>
</ul>
</li>
<li><a href="chap36.html#formats">36. Formats</a>
<ul class="sectlevel2">
<li><a href="chap36.html#formats-definition">36.1. Format Definition</a></li>
<li><a href="chap36.html#formats-properties">36.2. Format Properties</a></li>
<li><a href="chap36.html#features-required-format-support">36.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap37.html#capabilities">37. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap37.html#capabilities-image">37.1. Additional Image Capabilities</a></li>
<li><a href="chap37.html#capabilities-buffer">37.2. Additional Buffer Capabilities</a></li>
<li><a href="chap37.html#capabilities-semaphore">37.3. Optional Semaphore Capabilities</a></li>
<li><a href="chap37.html#capabilities-fence">37.4. Optional Fence Capabilities</a></li>
</ul>
</li>
<li><a href="chap38.html#_debugging">38. Debugging</a></li>
<li><a href="chap39.html#spirvenv">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap39.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap39.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap39.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap39.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap39.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
</ul>
</li>
<li><a href="chap40.html#memory-model">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap40.html#memory-model-agent">Agent</a></li>
<li><a href="chap40.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap40.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap40.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap40.html#memory-model-references">Reference</a></li>
<li><a href="chap40.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap40.html#shader-call-related">Shader Call Related</a></li>
<li><a href="chap40.html#shader-call-order">Shader Call Order</a></li>
<li><a href="chap40.html#memory-model-scope">Scope</a></li>
<li><a href="chap40.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap40.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap40.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap40.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap40.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap40.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap40.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap40.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap40.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap40.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap40.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap40.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap40.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap40.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap40.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap40.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap40.html#memory-model-acyclicity">Acyclicity</a></li>
<li><a href="chap40.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap40.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap40.html#memory-model-informative-descriptions">Informative Descriptions</a></li>
<li><a href="chap40.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
</ul>
</li>
<li><a href="chap41.html#_compressed_image_formats">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap41.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap41.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap41.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap42.html#versions">Appendix D: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap42.html#versions-1.1">Version 1.1</a></li>
</ul>
</li>
<li><a href="#extensions">Appendix E: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="#extension-appendices-list">List of Current Extensions</a></li>
<li><a href="#provisional-extension-appendices-list">List of Provisional Extensions</a></li>
<li><a href="#deprecated-extension-appendices-list">List of Deprecated Extensions</a></li>
</ul>
</li>
<li><a href="chap44.html#boilerplate">Appendix F: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap44.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap44.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap44.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
</ul>
</li>
<li><a href="chap45.html#invariance">Appendix G: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap45.html#_repeatability">Repeatability</a></li>
<li><a href="chap45.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap45.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap45.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap46.html#glossary">Glossary</a></li>
<li><a href="chap47.html#_common_abbreviations">Common Abbreviations</a></li>
<li><a href="chap48.html#_prefixes">Prefixes</a></li>
<li><a href="chap49.html#credits">Appendix H: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap49.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap49.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
</div>

<div id="loading_msg"><p>Loading... please wait.</p></div>
<div id="content"><div class="sect1">
<h2 id="extensions"><a class="anchor" href="#extensions"></a>Appendix E: Layers &amp; Extensions (Informative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Extensions to the Vulkan API <strong class="purple">can</strong> be defined by authors, groups of authors,
and the Khronos Vulkan Working Group.
In order not to compromise the readability of the Vulkan Specification, the
core Specification does not incorporate most extensions.
The online Registry of extensions is available at URL</p>
</div>
<div class="paragraph">
<p><a href="https://www.khronos.org/registry/vulkan/" class="bare">https://www.khronos.org/registry/vulkan/</a></p>
</div>
<div class="paragraph">
<p>and allows generating versions of the Specification incorporating different
extensions.</p>
</div>
<div class="paragraph">
<p>Most of the content previously in this appendix does not specify <strong>use</strong> of
specific Vulkan extensions and layers, but rather specifies the processes by
which extensions and layers are created.
As of version 1.0.21 of the Vulkan Specification, this content has been
migrated to the <a href="chap1.html#vulkan-styleguide">Vulkan Documentation and Extensions</a>
document.
Authors creating extensions and layers <strong class="purple">must</strong> follow the mandatory procedures
in that document.</p>
</div>
<div class="paragraph">
<p>The remainder of this appendix documents a set of extensions chosen when
this document was built.
Versions of the Specification published in the Registry include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Core API + mandatory extensions required of all Vulkan implementations.</p>
</li>
<li>
<p>Core API + all registered and published Khronos (<code>KHR</code>) extensions.</p>
</li>
<li>
<p>Core API + all registered and published extensions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Extensions are grouped as Khronos <code>KHR</code>, multivendor <code>EXT</code>, and then
alphabetically by author ID.
Within each group, extensions are listed in alphabetical order by their
name.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>As of the initial Vulkan 1.1 public release, the <code>KHX</code> author ID is no
longer used.
All <code>KHX</code> extensions have been promoted to <code>KHR</code> status.
Previously, this author ID was used to indicate that an extension was
experimental, and is being considered for standardization in future <code>KHR</code> or
core Vulkan API versions.
We no longer use this mechanism for exposing experimental functionality.</p>
</div>
<div class="paragraph">
<p>Some vendors may use an alternate author ID ending in <code>X</code> for some of their
extensions.
The exact meaning of such an author ID is defined by each vendor, and may
not be equivalent to <code>KHX</code>, but it is likely to indicate a lesser degree of
interface stability than a non-<code>X</code> extension from the same vendor.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="extension-appendices-list"><a class="anchor" href="#extension-appendices-list"></a>List of Current Extensions</h3>
<div class="ulist">
<ul>
<li>
<p><code><a href="#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_android_surface">VK_KHR_android_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_depth_stencil_resolve">VK_KHR_depth_stencil_resolve</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_display">VK_KHR_display</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_draw_indirect_count">VK_KHR_draw_indirect_count</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_driver_properties">VK_KHR_driver_properties</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_fence_fd">VK_KHR_external_fence_fd</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_fence_win32">VK_KHR_external_fence_win32</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_memory_fd">VK_KHR_external_memory_fd</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_memory_win32">VK_KHR_external_memory_win32</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_get_display_properties2">VK_KHR_get_display_properties2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_image_format_list">VK_KHR_image_format_list</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_imageless_framebuffer">VK_KHR_imageless_framebuffer</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_incremental_present">VK_KHR_incremental_present</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_performance_query">VK_KHR_performance_query</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_pipeline_executable_properties">VK_KHR_pipeline_executable_properties</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_sampler_mirror_clamp_to_edge">VK_KHR_sampler_mirror_clamp_to_edge</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_separate_depth_stencil_layouts">VK_KHR_separate_depth_stencil_layouts</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_atomic_int64">VK_KHR_shader_atomic_int64</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_clock">VK_KHR_shader_clock</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_float16_int8">VK_KHR_shader_float16_int8</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_non_semantic_info">VK_KHR_shader_non_semantic_info</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_subgroup_extended_types">VK_KHR_shader_subgroup_extended_types</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shared_presentable_image">VK_KHR_shared_presentable_image</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_spirv_1_4">VK_KHR_spirv_1_4</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_surface_protected_capabilities">VK_KHR_surface_protected_capabilities</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_swapchain_mutable_format">VK_KHR_swapchain_mutable_format</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_timeline_semaphore">VK_KHR_timeline_semaphore</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_uniform_buffer_standard_layout">VK_KHR_uniform_buffer_standard_layout</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_wayland_surface">VK_KHR_wayland_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_win32_keyed_mutex">VK_KHR_win32_keyed_mutex</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_win32_surface">VK_KHR_win32_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_xcb_surface">VK_KHR_xcb_surface</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_xlib_surface">VK_KHR_xlib_surface</a></code></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="VK_KHR_8bit_storage"><a class="anchor" href="#VK_KHR_8bit_storage"></a>VK_KHR_8bit_storage</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_8bit_storage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>178</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_8bit_storage:%20&amp;body=@alegal-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata"><a class="anchor" href="#_other_extension_metadata"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-02-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_8bit_storage.html"><code>SPV_KHR_8bit_storage</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description"><a class="anchor" href="#_description"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_8bit_storage</code> extension allows use of 8-bit types in uniform and
storage buffers, and push constant blocks.
This extension introduces several new optional features which map to SPIR-V
capabilities and allow access to 8-bit data in <code>Block</code>-decorated objects
in the <code>Uniform</code> and the <code>StorageBuffer</code> storage classes, and objects
in the <code>PushConstant</code> storage class.</p>
</div>
<div class="paragraph">
<p>The <code>StorageBuffer8BitAccess</code> capability <strong class="purple">must</strong> be supported by all
implementations of this extension.
The other capabilities are optional.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_2"><a class="anchor" href="#_new_enum_constants_2"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_8BIT_STORAGE_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_2"><a class="anchor" href="#_new_structures_2"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDevice8BitStorageFeaturesKHR">VkPhysicalDevice8BitStorageFeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities"><a class="anchor" href="#_new_spir_v_capabilities"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-8bitstorage"><code>StorageBuffer8BitAccess</code></a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-8bitstorage"><code>UniformAndStorageBuffer8BitAccess</code></a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-8bitstorage"><code>StoragePushConstant8</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2"><a class="anchor" href="#_promotion_to_vulkan_1_2"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.2, with the KHR
suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the
<code>StorageBuffer8BitAccess</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues"><a class="anchor" href="#_issues"></a>Issues</h4>

</div>
<div class="sect3">
<h4 id="_version_history"><a class="anchor" href="#_version_history"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-02-05 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_android_surface"><a class="anchor" href="#VK_KHR_android_surface"></a>VK_KHR_android_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_android_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>9</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_android_surface:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_2"><a class="anchor" href="#_other_extension_metadata_2"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-01-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_2"><a class="anchor" href="#_description_2"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_android_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an <a href="chap29.html#ANativeWindow">ANativeWindow</a>,
Android’s native surface type.
The <a href="chap29.html#ANativeWindow">ANativeWindow</a> represents the producer endpoint of any buffer
queue, regardless of consumer endpoint.
Common consumer endpoints for <code>ANativeWindows</code> are the system window
compositor, video encoders, and application-specific compositors importing
the images through a <code>SurfaceTexture</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_2"><a class="anchor" href="#_new_object_types_2"></a>New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_3"><a class="anchor" href="#_new_enum_constants_3"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_2"><a class="anchor" href="#_new_enums_2"></a>New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_3"><a class="anchor" href="#_new_structures_3"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkAndroidSurfaceCreateInfoKHR">VkAndroidSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_2"><a class="anchor" href="#_new_functions_2"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCreateAndroidSurfaceKHR">vkCreateAndroidSurfaceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_2"><a class="anchor" href="#_issues_2"></a>Issues</h4>
<div class="paragraph">
<p>1) Does Android need a way to query for compatibility between a particular
physical device (and queue family?) and a specific Android display?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Currently on Android, any physical device is expected to be able to present
to the system compositor, and all queue families must support the necessary
image layout transitions and synchronization operations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_2"><a class="anchor" href="#_version_history_2"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_android_surface to VK_KHR_android_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to surface creation function.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Removed VK_ERROR_INVALID_ANDROID_WINDOW_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2016-01-14 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the VK_KHR_android_surface
to the VK_KHR_surface extension.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_buffer_device_address"><a class="anchor" href="#VK_KHR_buffer_device_address"></a>VK_KHR_buffer_device_address</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_buffer_device_address</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>258</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_buffer_device_address:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_3"><a class="anchor" href="#_other_extension_metadata_3"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-24</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_3"><a class="anchor" href="#_description_3"></a>Description</h4>
<div class="paragraph">
<p>This extension allows the application to query a 64-bit buffer device
address value for a buffer, which can be used to access the buffer memory
via the <code>PhysicalStorageBuffer</code> storage class in the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference.txt"><code>GL_EXT_buffer_reference</code></a>
GLSL extension and
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_physical_storage_buffer.html"><code>SPV_KHR_physical_storage_buffer</code></a>
SPIR-V extension.</p>
</div>
<div class="paragraph">
<p>This extension also allows opaque addresses for buffers and memory objects
to be queried and later supplied by a trace capture and replay tool, so that
addresses used at replay time match the addresses used when the trace was
captured.
To enable tools to insert these queries, new memory allocation flags must be
specified for memory objects that will be bound to buffers accessed via the
<code>PhysicalStorageBuffer</code> storage class.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_3"><a class="anchor" href="#_new_object_types_3"></a>New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_4"><a class="anchor" href="#_new_enum_constants_4"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BUFFER_DEVICE_ADDRESS_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_DEVICE_ADDRESS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_OPAQUE_CAPTURE_ADDRESS_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_OPAQUE_CAPTURE_ADDRESS_ALLOCATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_MEMORY_OPAQUE_CAPTURE_ADDRESS_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_SHADER_DEVICE_ADDRESS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_CREATE_DEVICE_ADDRESS_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkMemoryAllocateFlagBits">VkMemoryAllocateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_ALLOCATE_DEVICE_ADDRESS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_MEMORY_ALLOCATE_DEVICE_ADDRESS_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_OPAQUE_CAPTURE_ADDRESS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_3"><a class="anchor" href="#_new_enums_3"></a>New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_4"><a class="anchor" href="#_new_structures_4"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceBufferDeviceAddressFeaturesKHR">VkPhysicalDeviceBufferDeviceAddressFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap13.html#VkBufferDeviceAddressInfoKHR">VkBufferDeviceAddressInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBufferOpaqueCaptureAddressCreateInfoKHR">VkBufferOpaqueCaptureAddressCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryOpaqueCaptureAddressAllocateInfoKHR">VkMemoryOpaqueCaptureAddressAllocateInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkDeviceMemoryOpaqueCaptureAddressInfoKHR">VkDeviceMemoryOpaqueCaptureAddressInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_3"><a class="anchor" href="#_new_functions_3"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#vkGetBufferDeviceAddressKHR">vkGetBufferDeviceAddressKHR</a></p>
</li>
<li>
<p><a href="chap13.html#vkGetBufferOpaqueCaptureAddressKHR">vkGetBufferOpaqueCaptureAddressKHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetDeviceMemoryOpaqueCaptureAddressKHR">vkGetDeviceMemoryOpaqueCaptureAddressKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables"><a class="anchor" href="#_new_built_in_variables"></a>New Built-In Variables</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_2"><a class="anchor" href="#_new_spir_v_capabilities_2"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-physicalstoragebufferaddresses"><code>PhysicalStorageBufferAddresses</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_2"><a class="anchor" href="#_promotion_to_vulkan_1_2_2"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_3"><a class="anchor" href="#_issues_3"></a>Issues</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_3"><a class="anchor" href="#_version_history_3"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-06-24 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions based on VK_EXT_buffer_device_address</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_create_renderpass2"><a class="anchor" href="#VK_KHR_create_renderpass2"></a>VK_KHR_create_renderpass2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_create_renderpass2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>110</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_multiview">VK_KHR_multiview</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_maintenance2">VK_KHR_maintenance2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_create_renderpass2:%20&amp;body=@tobias%20"><span class="icon black"><i class="fa fa-github"></i></span>tobias</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_4"><a class="anchor" href="#_other_extension_metadata_4"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Last Modified Date</dt>
<dd>
<p>2018-02-07</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Contributors</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector</p>
</li>
<li>
<p>Jeff Bolz</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_4"><a class="anchor" href="#_description_4"></a>Description</h4>
<div class="paragraph">
<p>This extension provides a new entry point to create render passes in a way
that can be easily extended by other extensions through the substructures of
render pass creation.
The Vulkan 1.0 render pass creation sub-structures do not include
<code>sType</code>/<code>pNext</code> members.
Additionally, the renderpass begin/next/end commands have been augmented
with new extensible structures for passing additional subpass information.</p>
</div>
<div class="paragraph">
<p>The <a href="chap7.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a> and
<a href="chap7.html#VkInputAttachmentAspectReference">VkInputAttachmentAspectReference</a> structures that extended the original
<a href="chap7.html#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a> are not accepted into the new creation
functions, and instead their parameters are folded into this extension as
follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Elements of <a href="chap7.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>pViewMasks</code> are
now specified in <a href="chap7.html#VkSubpassDescription2KHR">VkSubpassDescription2KHR</a>::<code>viewMask</code>.</p>
</li>
<li>
<p>Elements of <a href="chap7.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>pViewOffsets</code>
are now specified in <a href="chap7.html#VkSubpassDependency2KHR">VkSubpassDependency2KHR</a>::<code>viewOffset</code>.</p>
</li>
<li>
<p><a href="chap7.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>correlationMaskCount</code> and
<a href="chap7.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>pCorrelationMasks</code> are
directly specified in <a href="chap7.html#VkRenderPassCreateInfo2KHR">VkRenderPassCreateInfo2KHR</a>.</p>
</li>
<li>
<p><a href="chap7.html#VkInputAttachmentAspectReference">VkInputAttachmentAspectReference</a>::<code>aspectMask</code> is now
specified in the relevant input attachment description in
<a href="chap7.html#VkAttachmentDescription2KHR">VkAttachmentDescription2KHR</a>::<code>aspectMask</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The details of these mappings are explained fully in the new structures.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_5"><a class="anchor" href="#_new_enum_constants_5"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_DESCRIPTION_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_DEPENDENCY_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_END_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_5"><a class="anchor" href="#_new_structures_5"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkAttachmentDescription2KHR">VkAttachmentDescription2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkAttachmentReference2KHR">VkAttachmentReference2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSubpassDescription2KHR">VkSubpassDescription2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSubpassDependency2KHR">VkSubpassDependency2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkRenderPassCreateInfo2KHR">VkRenderPassCreateInfo2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSubpassBeginInfoKHR">VkSubpassBeginInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSubpassEndInfoKHR">VkSubpassEndInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_4"><a class="anchor" href="#_new_functions_4"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#vkCreateRenderPass2KHR">vkCreateRenderPass2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkCmdBeginRenderPass2KHR">vkCmdBeginRenderPass2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkCmdNextSubpass2KHR">vkCmdNextSubpass2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkCmdEndRenderPass2KHR">vkCmdEndRenderPass2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_3"><a class="anchor" href="#_promotion_to_vulkan_1_2_3"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_4"><a class="anchor" href="#_version_history_4"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-02-07 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_depth_stencil_resolve"><a class="anchor" href="#VK_KHR_depth_stencil_resolve"></a>VK_KHR_depth_stencil_resolve</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_depth_stencil_resolve</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>200</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_depth_stencil_resolve:%20&amp;body=@janharald%20"><span class="icon black"><i class="fa fa-github"></i></span>janharald</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_5"><a class="anchor" href="#_other_extension_metadata_5"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Last Modified Date</dt>
<dd>
<p>2018-04-09</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Contributors</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Andrew Garrard, Samsung Electronics</p>
</li>
<li>
<p>Soowan Park, Samsung Electronics</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_5"><a class="anchor" href="#_description_5"></a>Description</h4>
<div class="paragraph">
<p>This extension adds support for automatically resolving multisampled
depth/stencil attachments in a subpass in a similar manner as for color
attachments.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_6"><a class="anchor" href="#_new_enum_constants_6"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_DESCRIPTION_DEPTH_STENCIL_RESOLVE_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEPTH_STENCIL_RESOLVE_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_4"><a class="anchor" href="#_new_enums_4"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkResolveModeFlagBitsKHR">VkResolveModeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_6"><a class="anchor" href="#_new_structures_6"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceDepthStencilResolvePropertiesKHR">VkPhysicalDeviceDepthStencilResolvePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSubpassDescriptionDepthStencilResolveKHR">VkSubpassDescriptionDepthStencilResolveKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_5"><a class="anchor" href="#_new_functions_5"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_4"><a class="anchor" href="#_promotion_to_vulkan_1_2_4"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_5"><a class="anchor" href="#_version_history_5"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-04-09 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_display"><a class="anchor" href="#VK_KHR_display"></a>VK_KHR_display</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_display</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>23</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_display:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Norbert Nopper <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_display:%20&amp;body=@FslNopper%20"><span class="icon black"><i class="fa fa-github"></i></span>FslNopper</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_6"><a class="anchor" href="#_other_extension_metadata_6"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_6"><a class="anchor" href="#_description_6"></a>Description</h4>
<div class="paragraph">
<p>This extension provides the API to enumerate displays and available modes on
a given device.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_4"><a class="anchor" href="#_new_object_types_4"></a>New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkDisplayKHR">VkDisplayKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDisplayModeKHR">VkDisplayModeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_7"><a class="anchor" href="#_new_enum_constants_7"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_5"><a class="anchor" href="#_new_enums_5"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_7"><a class="anchor" href="#_new_structures_7"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkDisplayPropertiesKHR">VkDisplayPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDisplayModeParametersKHR">VkDisplayModeParametersKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDisplayModePropertiesKHR">VkDisplayModePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDisplayModeCreateInfoKHR">VkDisplayModeCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDisplayPlanePropertiesKHR">VkDisplayPlanePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_6"><a class="anchor" href="#_new_functions_6"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceDisplayPropertiesKHR">vkGetPhysicalDeviceDisplayPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceDisplayPlanePropertiesKHR">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDisplayPlaneSupportedDisplaysKHR">vkGetDisplayPlaneSupportedDisplaysKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDisplayModePropertiesKHR">vkGetDisplayModePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkCreateDisplayModeKHR">vkCreateDisplayModeKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkCreateDisplayPlaneSurfaceKHR">vkCreateDisplayPlaneSurfaceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_4"><a class="anchor" href="#_issues_4"></a>Issues</h4>
<div class="paragraph">
<p>1) Which properties of a mode should be fixed in the mode info vs. settable
in some other function when setting the mode? E.g., do we need to double the
size of the mode pool to include both stereo and non-stereo modes? YUV and
RGB scanout even if they both take RGB input images? BGR vs. RGB input? etc.</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Many modern displays support at most a handful of
resolutions and timings natively.
Other “modes” are expected to be supported using scaling hardware on the
display engine or GPU.
Other properties, such as rotation and mirroring should not require
duplicating hardware modes just to express all combinations.
Further, these properties may be implemented on a per-display or per-overlay
granularity.</p>
</div>
<div class="paragraph">
<p>To avoid the exponential growth of modes as mutable properties are added, as
was the case with <code>EGLConfig</code>/WGL pixel formats/<code>GLXFBConfig</code>, this
specification should separate out hardware properties and configurable state
into separate objects.
Modes and overlay planes will express capabilities of the hardware, while a
separate structure will allow applications to configure scaling, rotation,
mirroring, color keys, LUT values, alpha masks, etc.
for a given swapchain independent of the mode in use.
Constraints on these settings will be established by properties of the
immutable objects.</p>
</div>
<div class="paragraph">
<p>Note the resolution of this issue may affect issue 5 as well.</p>
</div>
<div class="paragraph">
<p>2) What properties of a display itself are useful?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: This issue is too broad.
It was meant to prompt general discussion, but resolving this issue amounts
to completing this specification.
All interesting properties should be included.
The issue will remain as a placeholder since removing it would make it hard
to parse existing discussion notes that refer to issues by number.</p>
</div>
<div class="paragraph">
<p>3) How are multiple overlay planes within a display or mode enumerated?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: They are referred to by an index.
Each display will report the number of overlay planes it contains.</p>
</div>
<div class="paragraph">
<p>4) Should swapchains be created relative to a mode or a display?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: When using this extension, swapchains are created
relative to a mode and a plane.
The mode implies the display object the swapchain will present to.
If the specified mode is not the display’s current mode, the new mode will
be applied when the first image is presented to the swapchain, and the
default operating system mode, if any, will be restored when the swapchain
is destroyed.</p>
</div>
<div class="paragraph">
<p>5) Should users query generic ranges from displays and construct their own
modes explicitly using those constraints rather than querying a fixed set of
modes (Most monitors only have one real “mode” these days, even though
many support relatively arbitrary scaling, either on the monitor side or in
the GPU display engine, making “modes” something of a relic/compatibility
construct).</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Expose both.
Display info structures will expose a set of predefined modes, as well as
any attributes necessary to construct a customized mode.</p>
</div>
<div class="paragraph">
<p>6) Is it fine if we return the display and display mode handles in the
structure used to query their properties?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>7) Is there a possibility that not all displays of a device work with all of
the present queues of a device? If yes, how do we determine which displays
work with which present queues?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No known hardware has such limitations, but
determining such limitations is supported automatically using the existing
<code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> and <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> query mechanisms.</p>
</div>
<div class="paragraph">
<p>8) Should all presentation need to be done relative to an overlay plane, or
can a display mode + display be used alone to target an output?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Require specifying a plane explicitly.</p>
</div>
<div class="paragraph">
<p>9) Should displays have an associated window system display, such as an
<code>HDC</code> or <code>Display</code>*?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No.
Displays are independent of any windowing system in use on the system.
Further, neither <code>HDC</code> nor <code>Display</code>* refer to a physical display
object.</p>
</div>
<div class="paragraph">
<p>10) Are displays queried from a physical GPU or from a device instance?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Developers prefer to query modes directly from the
physical GPU so they can use display information as an input to their device
selection algorithms prior to device creation.
This avoids the need to create dummy device instances to enumerate displays.</p>
</div>
<div class="paragraph">
<p>This preference must be weighed against the extra initialization that must
be done by driver vendors prior to device instance creation to support this
usage.</p>
</div>
<div class="paragraph">
<p>11) Should displays and/or modes be dispatchable objects? If functions are
to take displays, overlays, or modes as their first parameter, they must be
dispatchable objects as defined in Khronos bug 13529.
If they are not added to the list of dispatchable objects, functions
operating on them must take some higher-level object as their first
parameter.
There is no performance case against making them dispatchable objects, but
they would be the first extension objects to be dispatchable.</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Do not make displays or modes dispatchable.
They will dispatch based on their associated physical device.</p>
</div>
<div class="paragraph">
<p>12) Should hardware cursor capabilities be exposed?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Defer.
This could be a separate extension on top of the base WSI specs.</p>
</div>
<div class="paragraph">
<p>if they are one physical display device to an end user, but may internally
be implemented as two side-by-side displays using the same display engine
(and sometimes cabling) resources as two physically separate display
devices.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Tiled displays will appear as a single display object in this
API.</p>
</div>
<div class="paragraph">
<p>14) Should the raw EDID data be included in the display information?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
A future extension could be added which reports the EDID if necessary.
This may be complicated by the outcome of issue 13.</p>
</div>
<div class="paragraph">
<p>15) Should min and max scaling factor capabilities of overlays be exposed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is exposed indirectly by allowing applications to query the min/max
position and extent of the source and destination regions from which image
contents are fetched by the display engine when using a particular mode and
overlay pair.</p>
</div>
<div class="paragraph">
<p>16) Should devices be able to expose planes that can be moved between
displays? If so, how?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications can determine which displays a given plane supports using
<a href="chap29.html#vkGetDisplayPlaneSupportedDisplaysKHR">vkGetDisplayPlaneSupportedDisplaysKHR</a>.</p>
</div>
<div class="paragraph">
<p>17) Should there be a way to destroy display modes? If so, does it support
destroying “built in” modes?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Not in this extension.
A future extension could add this functionality.</p>
</div>
<div class="paragraph">
<p>18) What should the lifetime of display and built-in display mode objects
be?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The lifetime of the instance.
These objects cannot be destroyed.
A future extension may be added to expose a way to destroy these objects
and/or support display hotplug.</p>
</div>
<div class="paragraph">
<p>19) Should persistent mode for smart panels be enabled/disabled at swapchain
creation time, or on a per-present basis.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: On a per-present basis.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples"><a class="anchor" href="#_examples"></a>Examples</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code>VK_KHR_display</code> and <code><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code>
extensions was removed from the appendix after revision 1.0.43.
The display enumeration example code was ported to the cube demo that is
shipped with the official Khronos SDK, and is being kept up-to-date in that
location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_6"><a class="anchor" href="#_version_history_6"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-02-24 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-03-12 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Added overlay enumeration for a display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-03-17 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed typos and namings as discussed in Bugzilla.</p>
</li>
<li>
<p>Reordered and grouped functions.</p>
</li>
<li>
<p>Added functions to query count of display, mode and overlay.</p>
</li>
<li>
<p>Added native display handle, which is maybe needed on some platforms to
create a native Window.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-03-18 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Removed primary and virtualPostion members (see comment of James Jones
in Bugzilla).</p>
</li>
<li>
<p>Added native overlay handle to info structure.</p>
</li>
<li>
<p>Replaced , with ; in struct.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-03-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added WSI extension suffix to all items.</p>
</li>
<li>
<p>Made the whole API more &quot;Vulkanish&quot;.</p>
</li>
<li>
<p>Replaced all functions with a single vkGetDisplayInfoKHR function to
better match the rest of the API.</p>
</li>
<li>
<p>Made the display, display mode, and overlay objects be first class
objects, not subclasses of VkBaseObject as they do not support the
common functions anyways.</p>
</li>
<li>
<p>Renamed *Info structures to *Properties.</p>
</li>
<li>
<p>Removed overlayIndex field from VkOverlayProperties as there is an
implicit index already as a result of moving to a &quot;Vulkanish&quot; API.</p>
</li>
<li>
<p>Displays are not get through device, but through physical GPU to match
the rest of the Vulkan API.
Also this is something ISVs explicitly requested.</p>
</li>
<li>
<p>Added issue (6) and (7).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-03-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added an issues section</p>
</li>
<li>
<p>Added rotation and mirroring flags</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-03-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Combined the duplicate issues sections introduced in last change.</p>
</li>
<li>
<p>Added proposed resolutions to several issues.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-04-01 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased extension against Vulkan 0.82.0</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-04-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues (10) and (11).</p>
</li>
<li>
<p>Added more straw-man issue resolutions, and cleaned up the proposed
resolution for issue (4).</p>
</li>
<li>
<p>Updated the rotation and mirroring enums to have proper bitmask
semantics.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-04-15 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added proposed resolution for issues (1) and (2).</p>
</li>
<li>
<p>Added issues (12), (13), (14), and (15)</p>
</li>
<li>
<p>Removed pNativeHandle field from overlay structure.</p>
</li>
<li>
<p>Fixed small compilation errors in example code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-07-29 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rewrote the guts of the extension against the latest WSI swapchain
specifications and the latest Vulkan API.</p>
</li>
<li>
<p>Address overlay planes by their index rather than an object handle and
refer to them as &quot;planes&quot; rather than &quot;overlays&quot; to make it slightly
clearer that even a display with no &quot;overlays&quot; still has at least one
base &quot;plane&quot; that images can be displayed on.</p>
</li>
<li>
<p>Updated most of the issues.</p>
</li>
<li>
<p>Added an &quot;extension type&quot; section to the specification header.</p>
</li>
<li>
<p>Re-used the VK_EXT_KHR_surface surface transform enumerations rather
than redefining them here.</p>
</li>
<li>
<p>Updated the example code to use the new semantics.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-08-21 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &quot;revision&quot; to &quot;version&quot;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added alpha flags enum.</p>
</li>
<li>
<p>Added premultiplied alpha support.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added description section to the spec.</p>
</li>
<li>
<p>Added issues 16 - 18.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Planes are now a property of the entire device rather than individual
displays.
This allows planes to be moved between multiple displays on devices
that support it.</p>
</li>
<li>
<p>Added a function to create a VkSurfaceKHR object describing a display
plane and mode to align with the new per-platform surface creation
conventions.</p>
</li>
<li>
<p>Removed detailed mode timing data.
It was agreed that the mode extents and refresh rate are sufficient for
current use cases.
Other information could be added back2 in as an extension if it is
needed in the future.</p>
</li>
<li>
<p>Added support for smart/persistent/buffered display devices.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_display to VK_KHR_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-11-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated example code to match revision 17 changes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to creation functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Added VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR, and use
VkDisplayPlaneAlphaFlagBitsKHR for
VkDisplayPlanePropertiesKHR::alphaMode instead of
VkDisplayPlaneAlphaFlagsKHR, since it only represents one mode.</p>
</li>
<li>
<p>Added reserved flags bitmask to VkDisplayPlanePropertiesKHR.</p>
</li>
<li>
<p>Use VkSurfaceTransformFlagBitsKHR instead of obsolete
VkSurfaceTransformKHR.</p>
</li>
<li>
<p>Renamed vkGetDisplayPlaneSupportedDisplaysKHR parameters for clarity.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-12-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added missing &quot;planeIndex&quot; parameter to
vkGetDisplayPlaneSupportedDisplaysKHR()</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2017-03-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Closed all remaining issues.
The specification and implementations have been shipping with the
proposed resolutions for some time now.</p>
</li>
<li>
<p>Removed the sample code and noted it has been integrated into the
official Vulkan SDK cube demo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_display_swapchain"><a class="anchor" href="#VK_KHR_display_swapchain"></a>VK_KHR_display_swapchain</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_display_swapchain</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>10</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_display">VK_KHR_display</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_display_swapchain:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_7"><a class="anchor" href="#_other_extension_metadata_7"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_7"><a class="anchor" href="#_description_7"></a>Description</h4>
<div class="paragraph">
<p>This extension provides an API to create a swapchain directly on a device’s
display without any underlying window system.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_5"><a class="anchor" href="#_new_object_types_5"></a>New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_8"><a class="anchor" href="#_new_enum_constants_8"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_6"><a class="anchor" href="#_new_enums_6"></a>New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_8"><a class="anchor" href="#_new_structures_8"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_7"><a class="anchor" href="#_new_functions_7"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_5"><a class="anchor" href="#_issues_5"></a>Issues</h4>
<div class="paragraph">
<p>1) Should swapchains sharing images each hold a reference to the images, or
should it be up to the application to destroy the swapchains and images in
an order that avoids the need for reference counting?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Take a reference.
The lifetime of presentable images is already complex enough.</p>
</div>
<div class="paragraph">
<p>2) Should the <code>srcRect</code> and <code>dstRect</code> parameters be specified as
part of the present command, or at swapchain creation time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: As part of the presentation command.
This allows moving and scaling the image on the screen without the need to
respecify the mode or create a new swapchain and presentable images.</p>
</div>
<div class="paragraph">
<p>3) Should <code>srcRect</code> and <code>dstRect</code> be specified as rects, or separate
offset/extent values?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: As rects.
Specifying them separately might make it easier for hardware to expose
support for one but not the other, but in such cases applications must just
take care to obey the reported capabilities and not use non-zero offsets or
extents that require scaling, as appropriate.</p>
</div>
<div class="paragraph">
<p>4) How can applications create multiple swapchains that use the same images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: By calling <a href="chap29.html#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a>.</p>
</div>
<div class="paragraph">
<p>An earlier resolution used <a href="chap29.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>, chaining multiple
<a href="chap29.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structures through <code>pNext</code>.
In order to allow each swapchain to also allow other extension structs, a
level of indirection was used: <a href="chap29.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>pNext</code>
pointed to a different structure, which had both <code>sType</code> and <code>pNext</code>
members for additional extensions, and also had a pointer to the next
<a href="chap29.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure.
The number of swapchains to be created could only be found by walking this
linked list of alternating structures, and the <code>pSwapchains</code> out
parameter was reinterpreted to be an array of <a href="chap29.html#VkSwapchainKHR">VkSwapchainKHR</a> handles.</p>
</div>
<div class="paragraph">
<p>Another option considered was a method to specify a “shared” swapchain
when creating a new swapchain, such that groups of swapchains using the same
images could be built up one at a time.
This was deemed unusable because drivers need to know all of the displays an
image will be used on when determining which internal formats and layouts to
use for that image.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_2"><a class="anchor" href="#_examples_2"></a>Examples</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code><a href="#VK_KHR_display">VK_KHR_display</a></code> and <code>VK_KHR_display_swapchain</code>
extensions was removed from the appendix after revision 1.0.43.
The display swapchain creation example code was ported to the cube demo that
is shipped with the official Khronos SDK, and is being kept up-to-date in
that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_7"><a class="anchor" href="#_version_history_7"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-07-29 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-08-21 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &quot;revision&quot; to &quot;version&quot;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Allow creating multiple swap chains that share the same images using a
single call to vkCreateSwapChainKHR().</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-09-10 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Removed underscores from SWAP_CHAIN in two enums.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added support for smart panels/buffered displays.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_display_swapchain to VK_KHR_display_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated sample code based on the changes to VK_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replaced VkDisplaySwapchainCreateInfoKHR with
vkCreateSharedSwapchainsKHR, changing resolution of issue #4.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2017-03-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Closed all remaining issues.
The specification and implementations have been shipping with the
proposed resolutions for some time now.</p>
</li>
<li>
<p>Removed the sample code and noted it has been integrated into the
official Vulkan SDK cube demo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_draw_indirect_count"><a class="anchor" href="#VK_KHR_draw_indirect_count"></a>VK_KHR_draw_indirect_count</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_draw_indirect_count</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>170</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_draw_indirect_count:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_8"><a class="anchor" href="#_other_extension_metadata_8"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-25</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Derrick Owens, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_8"><a class="anchor" href="#_description_8"></a>Description</h4>
<div class="paragraph">
<p>This extension is based off the <code><a href="#VK_AMD_draw_indirect_count">[VK_AMD_draw_indirect_count]</a></code> extension.
This extension allows an application to source the number of draw calls for
indirect draw calls from a buffer.
This enables applications to generate arbitrary amounts of draw commands and
execute them without host intervention.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_8"><a class="anchor" href="#_new_functions_8"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap19.html#vkCmdDrawIndirectCountKHR">vkCmdDrawIndirectCountKHR</a></p>
</li>
<li>
<p><a href="chap19.html#vkCmdDrawIndexedIndirectCountKHR">vkCmdDrawIndexedIndirectCountKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_5"><a class="anchor" href="#_promotion_to_vulkan_1_2_5"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the entry
points <a href="#vkCmdDrawIndirectCount">vkCmdDrawIndirectCount</a> and <a href="#vkCmdDrawIndexedIndirectCount">vkCmdDrawIndexedIndirectCount</a>
are optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_8"><a class="anchor" href="#_version_history_8"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-25 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft based off VK_AMD_draw_indirect_count</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_driver_properties"><a class="anchor" href="#VK_KHR_driver_properties"></a>VK_KHR_driver_properties</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_driver_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>197</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_driver_properties:%20&amp;body=@drakos-amd%20"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_9"><a class="anchor" href="#_other_extension_metadata_9"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-04-11</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_9"><a class="anchor" href="#_description_9"></a>Description</h4>
<div class="paragraph">
<p>This extension provides a new physical device query which allows retrieving
information about the driver implementation, allowing applications to
determine which physical device corresponds to which particular vendor’s
driver, and which conformance test suite version the driver implementation
is compliant with.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_6"><a class="anchor" href="#_new_object_types_6"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_9"><a class="anchor" href="#_new_enum_constants_9"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DRIVER_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>VK_MAX_DRIVER_NAME_SIZE_KHR</code></p>
</li>
<li>
<p><code>VK_MAX_DRIVER_INFO_SIZE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_7"><a class="anchor" href="#_new_enums_7"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_9"><a class="anchor" href="#_new_structures_9"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkConformanceVersionKHR">VkConformanceVersionKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPhysicalDeviceDriverPropertiesKHR">VkPhysicalDeviceDriverPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_9"><a class="anchor" href="#_new_functions_9"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_6"><a class="anchor" href="#_promotion_to_vulkan_1_2_6"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_6"><a class="anchor" href="#_issues_6"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_3"><a class="anchor" href="#_examples_3"></a>Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_9"><a class="anchor" href="#_version_history_9"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-04-11 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence_fd"><a class="anchor" href="#VK_KHR_external_fence_fd"></a>VK_KHR_external_fence_fd</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>116</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_fence">VK_KHR_external_fence</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_fence_fd:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_10"><a class="anchor" href="#_other_extension_metadata_10"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_10"><a class="anchor" href="#_description_10"></a>Description</h4>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to export fence payload to and import
fence payload from POSIX file descriptors.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_7"><a class="anchor" href="#_new_object_types_7"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_10"><a class="anchor" href="#_new_enum_constants_10"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_FENCE_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FENCE_GET_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_8"><a class="anchor" href="#_new_enums_8"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs"><a class="anchor" href="#_new_structs"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkImportFenceFdInfoKHR">VkImportFenceFdInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkFenceGetFdInfoKHR">VkFenceGetFdInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_10"><a class="anchor" href="#_new_functions_10"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#vkImportFenceFdKHR">vkImportFenceFdKHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkGetFenceFdKHR">vkGetFenceFdKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_7"><a class="anchor" href="#_issues_7"></a>Issues</h4>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></code>.
That extension’s issues apply equally to this extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_10"><a class="anchor" href="#_version_history_10"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence_win32"><a class="anchor" href="#VK_KHR_external_fence_win32"></a>VK_KHR_external_fence_win32</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>115</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_fence">VK_KHR_external_fence</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_fence_win32:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_11"><a class="anchor" href="#_other_extension_metadata_11"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_11"><a class="anchor" href="#_description_11"></a>Description</h4>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to export fence payload to and import
fence payload from Windows handles.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_8"><a class="anchor" href="#_new_object_types_8"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_11"><a class="anchor" href="#_new_enum_constants_11"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_FENCE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_FENCE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FENCE_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_9"><a class="anchor" href="#_new_enums_9"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_2"><a class="anchor" href="#_new_structs_2"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkImportFenceWin32HandleInfoKHR">VkImportFenceWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkExportFenceWin32HandleInfoKHR">VkExportFenceWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkFenceGetWin32HandleInfoKHR">VkFenceGetWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_11"><a class="anchor" href="#_new_functions_11"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#vkImportFenceWin32HandleKHR">vkImportFenceWin32HandleKHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkGetFenceWin32HandleKHR">vkGetFenceWin32HandleKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_8"><a class="anchor" href="#_issues_8"></a>Issues</h4>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code>.
That extension’s issues apply equally to this extension.</p>
</div>
<div class="paragraph">
<p>1) Should D3D12 fence handle types be supported, like they are for
semaphores?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Doing so would require extending the fence signal and wait operations to
provide values to signal / wait for, like <code>VkD3D12FenceSubmitInfoKHR</code>
does.
A D3D12 fence can be signaled by importing it into a <a href="chap6.html#VkSemaphore">VkSemaphore</a>
instead of a <a href="chap6.html#VkFence">VkFence</a>, and applications can check status or wait on the
D3D12 fence using non-Vulkan APIs.
The convenience of being able to do these operations on <code>VkFence</code>
objects doesn’t justify the extra API complexity.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_11"><a class="anchor" href="#_version_history_11"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory_fd"><a class="anchor" href="#VK_KHR_external_memory_fd"></a>VK_KHR_external_memory_fd</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>75</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_memory_fd:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_12"><a class="anchor" href="#_other_extension_metadata_12"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_12"><a class="anchor" href="#_description_12"></a>Description</h4>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export POSIX file descriptor
handles from Vulkan memory objects and to import Vulkan memory objects from
POSIX file descriptor handles exported from other Vulkan memory objects or
from similar resources in other APIs.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_9"><a class="anchor" href="#_new_object_types_9"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_12"><a class="anchor" href="#_new_enum_constants_12"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_FD_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_10"><a class="anchor" href="#_new_enums_10"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_3"><a class="anchor" href="#_new_structs_3"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkImportMemoryFdInfoKHR">VkImportMemoryFdInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryFdPropertiesKHR">VkMemoryFdPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryGetFdInfoKHR">VkMemoryGetFdInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_12"><a class="anchor" href="#_new_functions_12"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#vkGetMemoryFdKHR">vkGetMemoryFdKHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetMemoryFdPropertiesKHR">vkGetMemoryFdPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_9"><a class="anchor" href="#_issues_9"></a>Issues</h4>
<div class="paragraph">
<p>1) Does the application need to close the file descriptor returned by
<a href="chap10.html#vkGetMemoryFdKHR">vkGetMemoryFdKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to a driver instance to import
the memory.
A successful get call transfers ownership of the file descriptor to the
application, and a successful import transfers it back to the driver.
Destroying the original memory object will not close the file descriptor or
remove its reference to the underlying memory resource associated with it.</p>
</div>
<div class="paragraph">
<p>2) Do drivers ever need to expose multiple file descriptors per memory
object?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This would indicate there are actually multiple memory objects, rather than
a single memory object.</p>
</div>
<div class="paragraph">
<p>3) How should the valid size and memory type for POSIX file descriptor
memory handles created outside of Vulkan be specified?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The valid memory types are queried directly from the external
handle.
The size will be specified by future extensions that introduce such external
memory handle types.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_12"><a class="anchor" href="#_version_history_12"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory_win32"><a class="anchor" href="#VK_KHR_external_memory_win32"></a>VK_KHR_external_memory_win32</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>74</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_memory_win32:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_13"><a class="anchor" href="#_other_extension_metadata_13"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_13"><a class="anchor" href="#_description_13"></a>Description</h4>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export Windows handles from Vulkan
memory objects and to import Vulkan memory objects from Windows handles
exported from other Vulkan memory objects or from similar resources in other
APIs.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_10"><a class="anchor" href="#_new_object_types_10"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_13"><a class="anchor" href="#_new_enum_constants_13"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_WIN32_HANDLE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_11"><a class="anchor" href="#_new_enums_11"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_4"><a class="anchor" href="#_new_structs_4"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkImportMemoryWin32HandleInfoKHR">VkImportMemoryWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkExportMemoryWin32HandleInfoKHR">VkExportMemoryWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryWin32HandlePropertiesKHR">VkMemoryWin32HandlePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryGetWin32HandleInfoKHR">VkMemoryGetWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_13"><a class="anchor" href="#_new_functions_13"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#vkGetMemoryWin32HandleKHR">vkGetMemoryWin32HandleKHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetMemoryWin32HandlePropertiesKHR">vkGetMemoryWin32HandlePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_10"><a class="anchor" href="#_issues_10"></a>Issues</h4>
<div class="paragraph">
<p>1) Do applications need to call <code>CloseHandle</code>() on the values returned
from <a href="chap10.html#vkGetMemoryWin32HandleKHR">vkGetMemoryWin32HandleKHR</a> when <code>handleType</code> is
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to another driver instance to
import the object.
A successful get call transfers ownership of the handle to the application.
Destroying the memory object will not destroy the handle or the handle’s
reference to the underlying memory resource.</p>
</div>
<div class="paragraph">
<p>2) Should the language regarding KMT/Windows 7 handles be moved to a
separate extension so that it can be deprecated over time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Support for them can be deprecated by drivers if they choose, by no longer
returning them in the supported handle types of the instance level queries.</p>
</div>
<div class="paragraph">
<p>3) How should the valid size and memory type for windows memory handles
created outside of Vulkan be specified?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The valid memory types are queried directly from the external
handle.
The size is determined by the associated image or buffer memory requirements
for external handle types that require dedicated allocations, and by the
size specified when creating the object from which the handle was exported
for other external handle types.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_13"><a class="anchor" href="#_version_history_13"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore_fd"><a class="anchor" href="#VK_KHR_external_semaphore_fd"></a>VK_KHR_external_semaphore_fd</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>80</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_semaphore_fd:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_14"><a class="anchor" href="#_other_extension_metadata_14"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_14"><a class="anchor" href="#_description_14"></a>Description</h4>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to export semaphore payload to and
import semaphore payload from POSIX file descriptors.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_11"><a class="anchor" href="#_new_object_types_11"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_14"><a class="anchor" href="#_new_enum_constants_14"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_SEMAPHORE_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_GET_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_12"><a class="anchor" href="#_new_enums_12"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_5"><a class="anchor" href="#_new_structs_5"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkImportSemaphoreFdInfoKHR">VkImportSemaphoreFdInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkSemaphoreGetFdInfoKHR">VkSemaphoreGetFdInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_14"><a class="anchor" href="#_new_functions_14"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#vkImportSemaphoreFdKHR">vkImportSemaphoreFdKHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkGetSemaphoreFdKHR">vkGetSemaphoreFdKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_11"><a class="anchor" href="#_issues_11"></a>Issues</h4>
<div class="paragraph">
<p>1) Does the application need to close the file descriptor returned by
<a href="chap6.html#vkGetSemaphoreFdKHR">vkGetSemaphoreFdKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to a driver instance to import
the semaphore.
A successful get call transfers ownership of the file descriptor to the
application, and a successful import transfers it back to the driver.
Destroying the original semaphore object will not close the file descriptor
or remove its reference to the underlying semaphore resource associated with
it.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_14"><a class="anchor" href="#_version_history_14"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore_win32"><a class="anchor" href="#VK_KHR_external_semaphore_win32"></a>VK_KHR_external_semaphore_win32</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>79</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_semaphore_win32:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_15"><a class="anchor" href="#_other_extension_metadata_15"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_15"><a class="anchor" href="#_description_15"></a>Description</h4>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to export semaphore payload to and
import semaphore payload from Windows handles.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_12"><a class="anchor" href="#_new_object_types_12"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_15"><a class="anchor" href="#_new_enum_constants_15"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_SEMAPHORE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_SEMAPHORE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_D3D12_FENCE_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_13"><a class="anchor" href="#_new_enums_13"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_6"><a class="anchor" href="#_new_structs_6"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkImportSemaphoreWin32HandleInfoKHR">VkImportSemaphoreWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkExportSemaphoreWin32HandleInfoKHR">VkExportSemaphoreWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkD3D12FenceSubmitInfoKHR">VkD3D12FenceSubmitInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkSemaphoreGetWin32HandleInfoKHR">VkSemaphoreGetWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_15"><a class="anchor" href="#_new_functions_15"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#vkImportSemaphoreWin32HandleKHR">vkImportSemaphoreWin32HandleKHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkGetSemaphoreWin32HandleKHR">vkGetSemaphoreWin32HandleKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_12"><a class="anchor" href="#_issues_12"></a>Issues</h4>
<div class="paragraph">
<p>1) Do applications need to call <code>CloseHandle</code>() on the values returned
from <a href="chap6.html#vkGetSemaphoreWin32HandleKHR">vkGetSemaphoreWin32HandleKHR</a> when <code>handleType</code> is
<code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to another driver instance to
import the object.
A successful get call transfers ownership of the handle to the application.
Destroying the semaphore object will not destroy the handle or the handle’s
reference to the underlying semaphore resource.</p>
</div>
<div class="paragraph">
<p>2) Should the language regarding KMT/Windows 7 handles be moved to a
separate extension so that it can be deprecated over time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Support for them can be deprecated by drivers if they choose, by no longer
returning them in the supported handle types of the instance level queries.</p>
</div>
<div class="paragraph">
<p>3) Should applications be allowed to specify additional object attributes
for shared handles?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications will be allowed to provide similar attributes to those they
would to any other handle creation API.</p>
</div>
<div class="paragraph">
<p>4) How do applications communicate the desired fence values to use with
<code>D3D12_FENCE</code>-based Vulkan semaphores?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: There are a couple of options.
The values for the signaled and reset states could be communicated up front
when creating the object and remain static for the life of the Vulkan
semaphore, or they could be specified using auxiliary structures when
submitting semaphore signal and wait operations, similar to what is done
with the keyed mutex extensions.
The latter is more flexible and consistent with the keyed mutex usage, but
the former is a much simpler API.</p>
</div>
<div class="paragraph">
<p>Since Vulkan tends to favor flexibility and consistency over simplicity, a
new structure specifying D3D12 fence acquire and release values is added to
the <a href="chap5.html#vkQueueSubmit">vkQueueSubmit</a> function.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_15"><a class="anchor" href="#_version_history_15"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_display_properties2"><a class="anchor" href="#VK_KHR_get_display_properties2"></a>VK_KHR_get_display_properties2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_display_properties2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>122</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_display">VK_KHR_display</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_get_display_properties2:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_16"><a class="anchor" href="#_other_extension_metadata_16"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_16"><a class="anchor" href="#_description_16"></a>Description</h4>
<div class="paragraph">
<p>This extension provides new entry points to query device display properties
and capabilities in a way that can be easily extended by other extensions,
without introducing any further entry points.
This extension can be considered the <code><a href="#VK_KHR_display">VK_KHR_display</a></code> equivalent of the
<code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code> extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_13"><a class="anchor" href="#_new_object_types_13"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_16"><a class="anchor" href="#_new_enum_constants_16"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_MODE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_CAPABILITIES_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_14"><a class="anchor" href="#_new_enums_14"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_10"><a class="anchor" href="#_new_structures_10"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkDisplayProperties2KHR">VkDisplayProperties2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDisplayPlaneProperties2KHR">VkDisplayPlaneProperties2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDisplayModeProperties2KHR">VkDisplayModeProperties2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDisplayPlaneInfo2KHR">VkDisplayPlaneInfo2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDisplayPlaneCapabilities2KHR">VkDisplayPlaneCapabilities2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_16"><a class="anchor" href="#_new_functions_16"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceDisplayProperties2KHR">vkGetPhysicalDeviceDisplayProperties2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceDisplayPlaneProperties2KHR">vkGetPhysicalDeviceDisplayPlaneProperties2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDisplayModeProperties2KHR">vkGetDisplayModeProperties2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDisplayPlaneCapabilities2KHR">vkGetDisplayPlaneCapabilities2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_13"><a class="anchor" href="#_issues_13"></a>Issues</h4>
<div class="paragraph">
<p>1) What should this extension be named?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>VK_KHR_get_display_properties2</code>.
Other alternatives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_display2</code></p>
</li>
<li>
<p>One extension, combined with <code>VK_KHR_surface_capabilites2</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>2) Should extensible input structs be added for these new functions:</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceDisplayProperties2KHR">vkGetPhysicalDeviceDisplayProperties2KHR</a>: No.
The only current input is a <a href="chap4.html#VkPhysicalDevice">VkPhysicalDevice</a>.
Other inputs wouldn’t make sense.</p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceDisplayPlaneProperties2KHR">vkGetPhysicalDeviceDisplayPlaneProperties2KHR</a>: No.
The only current input is a <a href="chap4.html#VkPhysicalDevice">VkPhysicalDevice</a>.
Other inputs wouldn’t make sense.</p>
</li>
<li>
<p><a href="chap29.html#vkGetDisplayModeProperties2KHR">vkGetDisplayModeProperties2KHR</a>: No.
The only current inputs are a <a href="chap4.html#VkPhysicalDevice">VkPhysicalDevice</a> and a
<a href="chap29.html#VkDisplayModeKHR">VkDisplayModeKHR</a>.
Other inputs wouldn’t make sense.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>3) Should additional display query functions be extended?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkGetDisplayPlaneSupportedDisplaysKHR">vkGetDisplayPlaneSupportedDisplaysKHR</a>: No.
Extensions should instead extend
<a href="chap29.html#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a>().</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_16"><a class="anchor" href="#_version_history_16"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_surface_capabilities2"><a class="anchor" href="#VK_KHR_get_surface_capabilities2"></a>VK_KHR_get_surface_capabilities2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_surface_capabilities2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>120</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_get_surface_capabilities2:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_17"><a class="anchor" href="#_other_extension_metadata_17"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-27</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_17"><a class="anchor" href="#_description_17"></a>Description</h4>
<div class="paragraph">
<p>This extension provides new entry points to query device surface
capabilities in a way that can be easily extended by other extensions,
without introducing any further entry points.
This extension can be considered the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> equivalent of the
<code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code> extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_14"><a class="anchor" href="#_new_object_types_14"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_17"><a class="anchor" href="#_new_enum_constants_17"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SURFACE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_FORMAT_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_15"><a class="anchor" href="#_new_enums_15"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_11"><a class="anchor" href="#_new_structures_11"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkSurfaceFormat2KHR">VkSurfaceFormat2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_17"><a class="anchor" href="#_new_functions_17"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceSurfaceFormats2KHR">vkGetPhysicalDeviceSurfaceFormats2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_14"><a class="anchor" href="#_issues_14"></a>Issues</h4>
<div class="paragraph">
<p>1) What should this extension be named?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>VK_KHR_get_surface_capabilities2</code>.
Other alternatives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_surface2</code></p>
</li>
<li>
<p>One extension, combining a separate display-specific query extension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>2) Should additional WSI query functions be extended?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>: Yes.
The need for this motivated the extension.</p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>: No.
Currently only has boolean output.
Extensions should instead extend
<a href="chap29.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a>: Yes.</p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a>: No.
Recent discussion concluded this introduced too much variability for
applications to deal with.
Extensions should instead extend
<a href="chap29.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceXlibPresentationSupportKHR">vkGetPhysicalDeviceXlibPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceXcbPresentationSupportKHR">vkGetPhysicalDeviceXcbPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceWin32PresentationSupportKHR">vkGetPhysicalDeviceWin32PresentationSupportKHR</a>: Not in this
extension.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_17"><a class="anchor" href="#_version_history_17"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_image_format_list"><a class="anchor" href="#VK_KHR_image_format_list"></a>VK_KHR_image_format_list</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_image_format_list</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>148</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_image_format_list:%20&amp;body=@jekstrand%20"><span class="icon black"><i class="fa fa-github"></i></span>jekstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_18"><a class="anchor" href="#_other_extension_metadata_18"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-20</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_18"><a class="anchor" href="#_description_18"></a>Description</h4>
<div class="paragraph">
<p>On some implementations, setting the
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> on image creation can cause access
to that image to perform worse than an equivalent image created without
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> because the implementation does not
know what view formats will be paired with the image.</p>
</div>
<div class="paragraph">
<p>This extension allows an application to provide the list of all formats that
<strong class="purple">can</strong> be used with an image when it is created.
The implementation may then be able to create a more efficient image that
supports the subset of formats required by the application without having to
support all formats in the format compatibility class of the image format.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_15"><a class="anchor" href="#_new_object_types_15"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_18"><a class="anchor" href="#_new_enum_constants_18"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_LIST_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_16"><a class="anchor" href="#_new_enums_16"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_7"><a class="anchor" href="#_new_structs_7"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkImageFormatListCreateInfoKHR">VkImageFormatListCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_18"><a class="anchor" href="#_new_functions_18"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_7"><a class="anchor" href="#_promotion_to_vulkan_1_2_7"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_15"><a class="anchor" href="#_issues_15"></a>Issues</h4>

</div>
<div class="sect3">
<h4 id="_version_history_18"><a class="anchor" href="#_version_history_18"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-20 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_imageless_framebuffer"><a class="anchor" href="#VK_KHR_imageless_framebuffer"></a>VK_KHR_imageless_framebuffer</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_imageless_framebuffer</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>109</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_maintenance2">VK_KHR_maintenance2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_image_format_list">VK_KHR_image_format_list</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_imageless_framebuffer:%20&amp;body=@tobias%20"><span class="icon black"><i class="fa fa-github"></i></span>tobias</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_19"><a class="anchor" href="#_other_extension_metadata_19"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Last Modified Date</dt>
<dd>
<p>2018-12-14</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Contributors</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector</p>
</li>
<li>
<p>Graham Wihlidal</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_19"><a class="anchor" href="#_description_19"></a>Description</h4>
<div class="paragraph">
<p>This extension allows framebuffers to be created without the need for
creating images first, allowing more flexibility in how they are used, and
avoiding the need for many of the confusing compatibility rules.</p>
</div>
<div class="paragraph">
<p>Framebuffers are now created with a small amount of additional metadata
about the image views that will be used in
<a href="chap7.html#VkFramebufferAttachmentsCreateInfoKHR">VkFramebufferAttachmentsCreateInfoKHR</a>, and the actual image views are
provided at render pass begin time via
<a href="chap7.html#VkRenderPassAttachmentBeginInfoKHR">VkRenderPassAttachmentBeginInfoKHR</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_19"><a class="anchor" href="#_new_enum_constants_19"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGELESS_FRAMEBUFFER_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FRAMEBUFFER_ATTACHMENTS_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FRAMEBUFFER_ATTACHMENT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_ATTACHMENT_BEGIN_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkFramebufferCreateFlagBits">VkFramebufferCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_12"><a class="anchor" href="#_new_structures_12"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceImagelessFramebufferFeaturesKHR">VkPhysicalDeviceImagelessFramebufferFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkFramebufferAttachmentsCreateInfoKHR">VkFramebufferAttachmentsCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkFramebufferAttachmentImageInfoKHR">VkFramebufferAttachmentImageInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkRenderPassAttachmentBeginInfoKHR">VkRenderPassAttachmentBeginInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_8"><a class="anchor" href="#_promotion_to_vulkan_1_2_8"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_19"><a class="anchor" href="#_version_history_19"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-12-14 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_incremental_present"><a class="anchor" href="#VK_KHR_incremental_present"></a>VK_KHR_incremental_present</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_incremental_present</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>85</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_incremental_present:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_20"><a class="anchor" href="#_other_extension_metadata_20"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-11-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Mika Isojarvi, Google</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_20"><a class="anchor" href="#_description_20"></a>Description</h4>
<div class="paragraph">
<p>This device extension extends <a href="chap29.html#vkQueuePresentKHR">vkQueuePresentKHR</a>, from the
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension, allowing an application to specify a list
of rectangular, modified regions of each image to present.
This should be used in situations where an application is only changing a
small portion of the presentable images within a swapchain, since it enables
the presentation engine to avoid wasting time presenting parts of the
surface that have not changed.</p>
</div>
<div class="paragraph">
<p>This extension is leveraged from the <code>EGL_KHR_swap_buffers_with_damage</code>
extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_16"><a class="anchor" href="#_new_object_types_16"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_20"><a class="anchor" href="#_new_enum_constants_20"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_REGIONS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_17"><a class="anchor" href="#_new_enums_17"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_13"><a class="anchor" href="#_new_structures_13"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkRectLayerKHR">VkRectLayerKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkPresentRegionKHR">VkPresentRegionKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkPresentRegionsKHR">VkPresentRegionsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_19"><a class="anchor" href="#_new_functions_19"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_4"><a class="anchor" href="#_examples_4"></a>Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_16"><a class="anchor" href="#_issues_16"></a>Issues</h4>
<div class="paragraph">
<p>1) How should we handle steroescopic-3D swapchains? We need to add a layer
for each rectangle.
One approach is to create another struct containing the <a href="chap2.html#VkRect2D">VkRect2D</a> plus
layer, and have <a href="chap29.html#VkPresentRegionsKHR">VkPresentRegionsKHR</a> point to an array of that struct.
Another approach is to have two parallel arrays, <code>pRectangles</code> and
<code>pLayers</code>, where <code>pRectangles</code>[i] and <code>pLayers</code>[i] must be used
together.
Which approach should we use, and if the array of a new structure, what
should that be called?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Create a new structure, which is a <a href="chap2.html#VkRect2D">VkRect2D</a> plus a layer,
and will be called <a href="chap29.html#VkRectLayerKHR">VkRectLayerKHR</a>.</p>
</div>
<div class="paragraph">
<p>2) Where is the origin of the <a href="chap29.html#VkRectLayerKHR">VkRectLayerKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The upper left corner of the presentable image(s) of the
swapchain, per the definition of framebuffer coordinates.</p>
</div>
<div class="paragraph">
<p>3) Does the rectangular region, <a href="chap29.html#VkRectLayerKHR">VkRectLayerKHR</a>, specify pixels of the
swapchain’s image(s), or of the surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Of the image(s).
Some presentation engines may scale the pixels of a swapchain’s image(s) to
the size of the surface.
The size of the swapchain’s image(s) will be consistent, where the size of
the surface may vary over time.</p>
</div>
<div class="paragraph">
<p>4) What if all of the rectangles for a given swapchain contain a width
and/or height of zero?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The application is indicating that no pixels changed since the
last present.
The presentation engine may use such a hint and not update any pixels for
the swapchain.
However, all other semantics of <a href="chap29.html#vkQueuePresentKHR">vkQueuePresentKHR</a> must still be
honored, including waiting for semaphores to signal.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_20"><a class="anchor" href="#_version_history_20"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-11-02 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_performance_query"><a class="anchor" href="#VK_KHR_performance_query"></a>VK_KHR_performance_query</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_performance_query</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>117</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alon Or-bach <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_performance_query:%20&amp;body=@alonorbach%20"><span class="icon black"><i class="fa fa-github"></i></span>alonorbach</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_21"><a class="anchor" href="#_other_extension_metadata_21"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-10-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Barker, Unity Technologies</p>
</li>
<li>
<p>Kenneth Benzie, Codeplay</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Peter Lohrmann, AMD</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Niklas Smedberg, Unity Technologies</p>
</li>
<li>
<p>Igor Ostrowski, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_21"><a class="anchor" href="#_description_21"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_performance_query</code> extension adds a mechanism to allow querying
of performance counters for use in applications and by profiling tools.</p>
</div>
<div class="paragraph">
<p>Each queue family <strong class="purple">may</strong> expose counters that <strong class="purple">can</strong> be enabled on a queue of
that family.
We extend <a href="chap16.html#VkQueryType">VkQueryType</a> to add a new query type for performance queries,
and chain a structure on <a href="chap16.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a> to specify the
performance queries to enable.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_17"><a class="anchor" href="#_new_object_types_17"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_21"><a class="anchor" href="#_new_enum_constants_21"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PERFORMANCE_QUERY_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PERFORMANCE_QUERY_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_COUNTER_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_COUNTER_DESCRIPTION_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUERY_POOL_PERFORMANCE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_QUERY_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_PROFILING_LOCK_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap16.html#VkQueryType">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_PERFORMANCE_QUERY_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_18"><a class="anchor" href="#_new_enums_18"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkPerformanceCounterScopeKHR">VkPerformanceCounterScopeKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPerformanceCounterStorageKHR">VkPerformanceCounterStorageKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPerformanceCounterUnitKHR">VkPerformanceCounterUnitKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPerformanceCounterDescriptionFlagBitsKHR">VkPerformanceCounterDescriptionFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap16.html#VkAcquireProfilingLockFlagBitsKHR">VkAcquireProfilingLockFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_14"><a class="anchor" href="#_new_structures_14"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDevicePerformanceQueryFeaturesKHR">VkPhysicalDevicePerformanceQueryFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDevicePerformanceQueryPropertiesKHR">VkPhysicalDevicePerformanceQueryPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPerformanceCounterKHR">VkPerformanceCounterKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPerformanceCounterDescriptionKHR">VkPerformanceCounterDescriptionKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPerformanceCounterDescriptionFlagsKHR">VkPerformanceCounterDescriptionFlagsKHR</a></p>
</li>
<li>
<p><a href="chap16.html#VkQueryPoolPerformanceCreateInfoKHR">VkQueryPoolPerformanceCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap16.html#VkPerformanceCounterResultKHR">VkPerformanceCounterResultKHR</a></p>
</li>
<li>
<p><a href="chap16.html#VkAcquireProfilingLockInfoKHR">VkAcquireProfilingLockInfoKHR</a></p>
</li>
<li>
<p><a href="chap16.html#VkAcquireProfilingLockFlagsKHR">VkAcquireProfilingLockFlagsKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkPerformanceQuerySubmitInfoKHR">VkPerformanceQuerySubmitInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_20"><a class="anchor" href="#_new_functions_20"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR">vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR</a></p>
</li>
<li>
<p><a href="chap16.html#vkGetPhysicalDeviceQueueFamilyPerformanceQueryPassesKHR">vkGetPhysicalDeviceQueueFamilyPerformanceQueryPassesKHR</a></p>
</li>
<li>
<p><a href="chap16.html#vkAcquireProfilingLockKHR">vkAcquireProfilingLockKHR</a></p>
</li>
<li>
<p><a href="chap16.html#vkReleaseProfilingLockKHR">vkReleaseProfilingLockKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_17"><a class="anchor" href="#_issues_17"></a>Issues</h4>
<div class="paragraph">
<p>1) Should this extension include a mechanism to begin a query in command
buffer <em>A</em> and end the query in command buffer <em>B</em>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> No - queries are tied to command buffer creation and thus have to
be encapsulated within a single command buffer.</p>
</div>
<div class="paragraph">
<p>2) Should this extension include a mechanism to begin and end queries
globally on the queue, not using the existing command buffer commands?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> No - for the same reasoning as the resolution of 1).</p>
</div>
<div class="paragraph">
<p>3) Should this extension expose counters that require multiple passes?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes - users should re-submit a command buffer with the same
commands in it multiple times, specifying the pass to count as the query
parameter in VkPerformanceQuerySubmitInfoKHR.</p>
</div>
<div class="paragraph">
<p>4) How to handle counters across parallel workloads?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> In the spirit of Vulkan, a counter description flag
<code>VK_PERFORMANCE_COUNTER_DESCRIPTION_CONCURRENTLY_IMPACTED_KHR</code> denotes
that the accuracy of a counter result is affected by parallel workloads.</p>
</div>
<div class="paragraph">
<p>5) How to handle secondary command buffers?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Secondary command buffers inherit any counter pass index
specified in the parent primary command buffer.
Note: this is no longer an issue after change from issue 10 resolution</p>
</div>
<div class="paragraph">
<p>6) What commands does the profiling lock have to be held for?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> For any command buffer that is being queried with a performance
query pool, the profiling lock <strong class="purple">must</strong> be held while that command buffer is in
the <em>recording</em>, <em>executable</em>, or <em>pending state</em>.</p>
</div>
<div class="paragraph">
<p>7) Should we support <a href="chap16.html#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes.</p>
</div>
<div class="paragraph">
<p>8) Should we allow performance queries to interact with multiview?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes, but the performance queries must be performed once for each
pass per view.</p>
</div>
<div class="paragraph">
<p>9) Should a <code>queryCount &gt; 1</code> be usable for performance queries?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes.
Some vendors will have costly performance counter query pool creation, and
would rather if a certain set of counters were to be used multiple times
that a <code>queryCount &gt; 1</code> can be used to amortize the instantiation cost.</p>
</div>
<div class="paragraph">
<p>10) Should we introduce an indirect mechanism to set the counter pass index?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Specify the counter pass index at submit time instead to avoid
requiring re-recording of command buffers when multiple counter passes
needed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_5"><a class="anchor" href="#_examples_5"></a>Examples</h4>
<div class="paragraph">
<p>The following example shows how to find what performance counters a queue
family supports, setup a query pool to record these performance counters,
how to add the query pool to the command buffer to record information, and
how to get the results from the query pool.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// A previously created physical device</span>
VkPhysicalDevice physicalDevice;

<span class="comment">// One of the queue families our device supports</span>
uint32_t queueFamilyIndex;

uint32_t counterCount;

<span class="comment">// Get the count of counters supported</span>
vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR(
  physicalDevice,
  queueFamilyIndex,
  &amp;counterCount,
  <span class="predefined-constant">NULL</span>,
  <span class="predefined-constant">NULL</span>);

VkPerformanceCounterKHR* counters =
  malloc(<span class="keyword">sizeof</span>(VkPerformanceCounterKHR) * counterCount);
VkPerformanceCounterDescriptionKHR* counterDescriptions =
  malloc(<span class="keyword">sizeof</span>(VkPerformanceCounterDescriptionKHR) * counterCount);

<span class="comment">// Get the counters supported</span>
vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR(
  physicalDevice,
  queueFamilyIndex,
  &amp;counterCount,
  counters,
  counterDescriptions);

<span class="comment">// Try to enable the first 8 counters</span>
uint32_t enabledCounters[<span class="integer">8</span>];

<span class="directive">const</span> uint32_t enabledCounterCount = min(counterCount, <span class="integer">8</span>));

<span class="keyword">for</span> (uint32_t i = <span class="integer">0</span>; i &lt; enabledCounterCount; i++) {
  enabledCounters[i] = i;
}

<span class="comment">// A previously created device that had the performanceCounterQueryPools feature</span>
<span class="comment">// set to VK_TRUE</span>
VkDevice device;

VkQueryPoolPerformanceCreateInfoKHR performanceQueryCreateInfo = {
  VK_STRUCTURE_TYPE_QUERY_POOL_PERFORMANCE_CREATE_INFO_KHR,
  <span class="predefined-constant">NULL</span>,

  <span class="comment">// Specify the queue family that this performance query is performed on</span>
  queueFamilyIndex,

  <span class="comment">// The number of counters to enable</span>
  enabledCounterCount,

  <span class="comment">// The array of indices of counters to enable</span>
  enabledCounters
};


<span class="comment">// Get the number of passes our counters will require.</span>
uint32_t numPasses;

vkGetPhysicalDeviceQueueFamilyPerformanceQueryPassesKHR(
  physicalDevice,
  &amp;performanceQueryCreateInfo,
  &amp;numPasses);

VkQueryPoolCreateInfo queryPoolCreateInfo = {
  VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO,
  &amp;performanceQueryCreateInfo,
  <span class="integer">0</span>,

  <span class="comment">// Using our new query type here</span>
  VK_QUERY_TYPE_PERFORMANCE_QUERY_KHR,

  <span class="integer">1</span>,

  <span class="integer">0</span>
};

VkQueryPool queryPool;

VkResult result = vkCreateQueryPool(
  device,
  &amp;queryPoolCreateInfo,
  <span class="predefined-constant">NULL</span>,
  &amp;queryPool);

assert(VK_SUCCESS == result);

<span class="comment">// A queue from queueFamilyIndex</span>
VkQueue queue;

<span class="comment">// A command buffer we want to record counters on</span>
VkCommandBuffer commandBuffer;

VkCommandBufferBeginInfo commandBufferBeginInfo = {
  VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO,
  <span class="predefined-constant">NULL</span>,
  <span class="integer">0</span>,
  <span class="predefined-constant">NULL</span>
};

VkAcquireProfilingLockInfoKHR lockInfo = {
  VK_STRUCTURE_TYPE_ACQUIRE_PROFILING_LOCK_INFO_KHR,
  <span class="predefined-constant">NULL</span>,
  <span class="integer">0</span>,
  UINT64_MAX <span class="comment">// Wait forever for the lock</span>
};

<span class="comment">// Acquire the profiling lock before we record command buffers</span>
<span class="comment">// that will use performance queries</span>

result = vkAcquireProfilingLockKHR(device, &amp;lockInfo);

assert(VK_SUCCESS == result);

result = vkBeginCommandBuffer(commandBuffer, &amp;commandBufferBeginInfo);

assert(VK_SUCCESS == result);

vkCmdResetQueryPool(
  commandBuffer,
  queryPool,
  <span class="integer">0</span>,
  <span class="integer">1</span>);

vkCmdBeginQuery(
  commandBuffer,
  queryPool,
  <span class="integer">0</span>,
  <span class="integer">0</span>);

<span class="comment">// Perform the commands you want to get performance information on</span>
<span class="comment">// ...</span>

<span class="comment">// Perform a barrier to ensure all previous commands were complete before</span>
<span class="comment">// ending the query</span>
vkCmdPipelineBarrier(commandBuffer,
  VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT,
  VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT,
  <span class="integer">0</span>,
  <span class="integer">0</span>,
  <span class="predefined-constant">NULL</span>,
  <span class="integer">0</span>,
  <span class="predefined-constant">NULL</span>,
  <span class="integer">0</span>,
  <span class="predefined-constant">NULL</span>);

vkCmdEndQuery(
  commandBuffer,
  queryPool,
  <span class="integer">0</span>);

result = vkEndCommandBuffer(commandBuffer);

assert(VK_SUCCESS == result);

<span class="keyword">for</span> (uint32_t counterPass = <span class="integer">0</span>; counterPass &lt; numPasses; counterPass++) {

  VkPerformanceQuerySubmitInfoKHR performanceQuerySubmitInfo = {
    VK_STRUCTURE_TYPE_PERFORMANCE_QUERY_SUBMIT_INFO_KHR,
    <span class="predefined-constant">NULL</span>,
    counterPass
  };


  <span class="comment">// Submit the command buffer and wait for its completion</span>
  <span class="comment">// ...</span>
}

<span class="comment">// Release the profiling lock after the command buffer is no longer in the</span>
<span class="comment">// pending state.</span>
vkReleaseProfilingLockKHR(device);

result = vkResetCommandBuffer(commandBuffer, <span class="integer">0</span>);

assert(VK_SUCCESS == result);

<span class="comment">// Create an array to hold the results of all counters</span>
VkPerformanceCounterResultKHR* recordedCounters = malloc(
  <span class="keyword">sizeof</span>(VkPerformanceCounterResultKHR) * enabledCounterCount);

result = vkGetQueryPoolResults(
  device,
  queryPool,
  <span class="integer">0</span>,
  <span class="integer">1</span>,
  <span class="keyword">sizeof</span>(VkPerformanceCounterResultKHR) * enabledCounterCount,
  recordedCounters,
  <span class="keyword">sizeof</span>(VkPerformanceCounterResultKHR),
  <span class="predefined-constant">NULL</span>);

<span class="comment">// recordedCounters is filled with our counters, we'll look at one for posterity</span>
<span class="keyword">switch</span> (counters[<span class="integer">0</span>].storage) {
  <span class="keyword">case</span> VK_PERFORMANCE_COUNTER_STORAGE_INT32:
    <span class="comment">// use recordCounters[0].int32 to get at the counter result!</span>
    <span class="keyword">break</span>;
  <span class="keyword">case</span> VK_PERFORMANCE_COUNTER_STORAGE_INT64:
    <span class="comment">// use recordCounters[0].int64 to get at the counter result!</span>
    <span class="keyword">break</span>;
  <span class="keyword">case</span> VK_PERFORMANCE_COUNTER_STORAGE_UINT32:
    <span class="comment">// use recordCounters[0].uint32 to get at the counter result!</span>
    <span class="keyword">break</span>;
  <span class="keyword">case</span> VK_PERFORMANCE_COUNTER_STORAGE_UINT64:
    <span class="comment">// use recordCounters[0].uint64 to get at the counter result!</span>
    <span class="keyword">break</span>;
  <span class="keyword">case</span> VK_PERFORMANCE_COUNTER_STORAGE_FLOAT32:
    <span class="comment">// use recordCounters[0].float32 to get at the counter result!</span>
    <span class="keyword">break</span>;
  <span class="keyword">case</span> VK_PERFORMANCE_COUNTER_STORAGE_FLOAT64:
    <span class="comment">// use recordCounters[0].float64 to get at the counter result!</span>
    <span class="keyword">break</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_21"><a class="anchor" href="#_version_history_21"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-10-08</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_pipeline_executable_properties"><a class="anchor" href="#VK_KHR_pipeline_executable_properties"></a>VK_KHR_pipeline_executable_properties</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_pipeline_executable_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>270</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_pipeline_executable_properties:%20&amp;body=@jekstrand%20"><span class="icon black"><i class="fa fa-github"></i></span>jekstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_22"><a class="anchor" href="#_other_extension_metadata_22"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Romanick, Intel</p>
</li>
<li>
<p>Kenneth Graunke, Intel</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Piers Daniel, Nvidia</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_22"><a class="anchor" href="#_description_22"></a>Description</h4>
<div class="paragraph">
<p>When a pipeline is created, its state and shaders are compiled into zero or
more device-specific executables, which are used when executing commands
against that pipeline.
This extension adds a mechanism to query properties and statistics about the
different executables produced by the pipeline compilation process.
This is intended to be used by debugging and performance tools to allow them
to provide more detailed information to the user.
Certain compile-time shader statistics provided through this extension may
be useful to developers for debugging or performance analysis.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_22"><a class="anchor" href="#_new_enum_constants_22"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PIPELINE_EXECUTABLE_PROPERTIES_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_STATISTIC_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_INTERNAL_REPRESENTATION_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_CAPTURE_STATISTICS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_19"><a class="anchor" href="#_new_enums_19"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#VkPipelineExecutableStatisticFormatKHR">VkPipelineExecutableStatisticFormatKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_15"><a class="anchor" href="#_new_structures_15"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDevicePipelineExecutablePropertiesFeaturesKHR">VkPhysicalDevicePipelineExecutablePropertiesFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap9.html#VkPipelineInfoKHR">VkPipelineInfoKHR</a></p>
</li>
<li>
<p><a href="chap9.html#VkPipelineExecutablePropertiesKHR">VkPipelineExecutablePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap9.html#VkPipelineExecutableInfoKHR">VkPipelineExecutableInfoKHR</a></p>
</li>
<li>
<p><a href="chap9.html#VkPipelineExecutableStatisticValueKHR">VkPipelineExecutableStatisticValueKHR</a></p>
</li>
<li>
<p><a href="chap9.html#VkPipelineExecutableStatisticKHR">VkPipelineExecutableStatisticKHR</a></p>
</li>
<li>
<p><a href="chap9.html#VkPipelineExecutableInternalRepresentationKHR">VkPipelineExecutableInternalRepresentationKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_21"><a class="anchor" href="#_new_functions_21"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#vkGetPipelineExecutablePropertiesKHR">vkGetPipelineExecutablePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap9.html#vkGetPipelineExecutableStatisticsKHR">vkGetPipelineExecutableStatisticsKHR</a></p>
</li>
<li>
<p><a href="chap9.html#vkGetPipelineExecutableInternalRepresentationsKHR">vkGetPipelineExecutableInternalRepresentationsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_18"><a class="anchor" href="#_issues_18"></a>Issues</h4>
<div class="paragraph">
<p>1) What should we call the pieces of the pipeline which are produced by the
compilation process and about which you can query properties and statistics?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Call them &quot;executables&quot;.
The name &quot;binary&quot; was used in early drafts of the extension but it was
determined that &quot;pipeline binary&quot; could have a fairly broad meaning (such as
a binary serialized form of an entire pipeline) and was too big of a
namespace for the very specific needs of this extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_22"><a class="anchor" href="#_version_history_22"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-05-28 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_push_descriptor"><a class="anchor" href="#VK_KHR_push_descriptor"></a>VK_KHR_push_descriptor</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_push_descriptor</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>81</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_push_descriptor:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_23"><a class="anchor" href="#_other_extension_metadata_23"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_23"><a class="anchor" href="#_description_23"></a>Description</h4>
<div class="paragraph">
<p>This extension allows descriptors to be written into the command buffer,
while the implementation is responsible for managing their memory.
Push descriptors may enable easier porting from older APIs and in some cases
can be more efficient than writing descriptors into descriptor sets.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_18"><a class="anchor" href="#_new_object_types_18"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_23"><a class="anchor" href="#_new_enum_constants_23"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PUSH_DESCRIPTOR_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap13.html#VkDescriptorSetLayoutCreateFlagBits">VkDescriptorSetLayoutCreateFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap13.html#VkDescriptorUpdateTemplateType">VkDescriptorUpdateTemplateType</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_20"><a class="anchor" href="#_new_enums_20"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_16"><a class="anchor" href="#_new_structures_16"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDevicePushDescriptorPropertiesKHR">VkPhysicalDevicePushDescriptorPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_22"><a class="anchor" href="#_new_functions_22"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#vkCmdPushDescriptorSetKHR">vkCmdPushDescriptorSetKHR</a></p>
</li>
<li>
<p><a href="chap13.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_19"><a class="anchor" href="#_issues_19"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_6"><a class="anchor" href="#_examples_6"></a>Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_23"><a class="anchor" href="#_version_history_23"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-15 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-09-12 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Added interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_sampler_mirror_clamp_to_edge"><a class="anchor" href="#VK_KHR_sampler_mirror_clamp_to_edge"></a>VK_KHR_sampler_mirror_clamp_to_edge</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_sampler_mirror_clamp_to_edge</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>15</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_sampler_mirror_clamp_to_edge:%20&amp;body=@tobski%20"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_24"><a class="anchor" href="#_other_extension_metadata_24"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-08-17</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_24"><a class="anchor" href="#_description_24"></a>Description</h4>
<div class="paragraph">
<p><code>VK_KHR_sampler_mirror_clamp_to_edge</code> extends the set of sampler address
modes to include an additional mode
(<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>) that effectively uses a
texture map twice as large as the original image in which the additional
half of the new image is a mirror image of the original image.</p>
</div>
<div class="paragraph">
<p>This new mode relaxes the need to generate images whose opposite edges match
by using the original image to generate a matching “mirror image”.
This mode allows the texture to be mirrored only once in the negative s, t,
and r directions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_24"><a class="anchor" href="#_new_enum_constants_24"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkSamplerAddressMode">VkSamplerAddressMode</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_9"><a class="anchor" href="#_promotion_to_vulkan_1_2_9"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2.
However, if Vulkan 1.2 is supported and this extension is not, the
<a href="chap12.html#VkSamplerAddressMode">VkSamplerAddressMode</a>
<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code> is optional.
Since the original extension did not use an author suffix on the enum
<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>, it is used by both core
and extension implementations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example"><a class="anchor" href="#_example"></a>Example</h4>
<div class="paragraph">
<p>Creating a sampler with the new address mode in each dimension</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    VkSamplerCreateInfo createInfo =
    {
        VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO <span class="comment">// sType</span>
        <span class="comment">// Other members set to application-desired values</span>
    };

    createInfo.addressModeU = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;
    createInfo.addressModeV = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;
    createInfo.addressModeW = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;

    VkSampler sampler;
    VkResult result = vkCreateSampler(
        device,
        &amp;createInfo,
        &amp;sampler);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_issues_20"><a class="anchor" href="#_issues_20"></a>Issues</h4>
<div class="paragraph">
<p>1) Why are both KHR and core versions of the
<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code> token present?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This functionality was intended to be required in Vulkan 1.0.
We realized shortly before public release that not all implementations could
support it, and moved the functionality into an optional extension, but did
not apply the KHR extension suffix.
Adding a KHR-suffixed alias of the non-suffixed enum has been done to comply
with our own naming rules.</p>
</div>
<div class="paragraph">
<p>In a related change, before spec revision 1.1.121 this extension was
hardwiring into the spec Makefile so it was always included with the
Specification, even in the core-only versions.
This has now been reverted, and it is treated as any other extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_24"><a class="anchor" href="#_version_history_24"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-02-16 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-08-14 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add KHR-suffixed alias of non-suffixed enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2019-08-17 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add an issue explaining the reason for the extension API not being
suffixed with KHR.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_separate_depth_stencil_layouts"><a class="anchor" href="#VK_KHR_separate_depth_stencil_layouts"></a>VK_KHR_separate_depth_stencil_layouts</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_separate_depth_stencil_layouts</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>242</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_separate_depth_stencil_layouts:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_25"><a class="anchor" href="#_other_extension_metadata_25"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-25</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_25"><a class="anchor" href="#_description_25"></a>Description</h4>
<div class="paragraph">
<p>This extension allows image memory barriers for depth/stencil images to have
just one of the <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code> aspect bits set, rather than require both.
This allows their layouts to be set independently.
To support depth/stencil images with different layouts for the depth and
stencil aspects, the depth/stencil attachment interface has been updated to
support a separate layout for stencil.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_19"><a class="anchor" href="#_new_object_types_19"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_25"><a class="anchor" href="#_new_enum_constants_25"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SEPARATE_DEPTH_STENCIL_LAYOUTS_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_STENCIL_LAYOUT_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_STENCIL_LAYOUT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_STENCIL_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_21"><a class="anchor" href="#_new_enums_21"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_17"><a class="anchor" href="#_new_structures_17"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap34.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceSeparateDepthStencilLayoutsFeaturesKHR">VkPhysicalDeviceSeparateDepthStencilLayoutsFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkAttachmentReference2KHR">VkAttachmentReference2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkAttachmentReferenceStencilLayoutKHR">VkAttachmentReferenceStencilLayoutKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkAttachmentDescription2KHR">VkAttachmentDescription2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkAttachmentDescriptionStencilLayoutKHR">VkAttachmentDescriptionStencilLayoutKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_23"><a class="anchor" href="#_new_functions_23"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_3"><a class="anchor" href="#_new_spir_v_capabilities_3"></a>New SPIR-V Capabilities</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_10"><a class="anchor" href="#_promotion_to_vulkan_1_2_10"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_21"><a class="anchor" href="#_issues_21"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_25"><a class="anchor" href="#_version_history_25"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-06-25 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_atomic_int64"><a class="anchor" href="#VK_KHR_shader_atomic_int64"></a>VK_KHR_shader_atomic_int64</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_atomic_int64</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>181</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shader_atomic_int64:%20&amp;body=@ahagan%20"><span class="icon black"><i class="fa fa-github"></i></span>ahagan</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_26"><a class="anchor" href="#_other_extension_metadata_26"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_gpu_shader_int64.txt"><code>GL_ARB_gpu_shader_int64</code></a>
and
<a href="https://github.com/KhronosGroup/GLSL/tree/master/extensions/ext/GL_EXT_shader_atomic_int64.txt"><code>GL_EXT_shader_atomic_int64</code></a>
extensions for GLSL source languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_26"><a class="anchor" href="#_description_26"></a>Description</h4>
<div class="paragraph">
<p>This extension advertises the SPIR-V <strong>Int64Atomics</strong> capability for Vulkan,
which allows a shader to contain 64-bit atomic operations on signed and
unsigned integers.
The supported operations include OpAtomicMin, OpAtomicMax, OpAtomicAnd,
OpAtomicOr, OpAtomicXor, OpAtomicAdd, OpAtomicExchange, and
OpAtomicCompareExchange.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_26"><a class="anchor" href="#_new_enum_constants_26"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_ATOMIC_INT64_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_4"><a class="anchor" href="#_new_spir_v_capabilities_4"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-int64atomics"><code>Int64Atomics</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_18"><a class="anchor" href="#_new_structures_18"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceShaderAtomicInt64FeaturesKHR">VkPhysicalDeviceShaderAtomicInt64FeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_11"><a class="anchor" href="#_promotion_to_vulkan_1_2_11"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_26"><a class="anchor" href="#_version_history_26"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-05 (Aaron Hagan)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_clock"><a class="anchor" href="#VK_KHR_shader_clock"></a>VK_KHR_shader_clock</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_clock</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>182</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shader_clock:%20&amp;body=@ahagan%20"><span class="icon black"><i class="fa fa-github"></i></span>ahagan</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_27"><a class="anchor" href="#_other_extension_metadata_27"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-4-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_shader_clock.html"><code>SPV_KHR_shader_clock</code></a>.</p>
</li>
<li>
<p>This extension enables
<a href="https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_shader_clock.txt"><code>ARB_shader_clock</code></a>
for GLSL source languages.</p>
</li>
<li>
<p>This extension enables
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shader_realtime_clock.txt"><code>EXT_shader_realtime_clock</code></a>
for GLSL source languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan, AMD</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_27"><a class="anchor" href="#_description_27"></a>Description</h4>
<div class="paragraph">
<p>This extension advertises the SPIR-V <code>ShaderClockKHR</code> capability for
Vulkan, which allows a shader to query a real-time or monotonically
incrementing counter at the subgroup level or across the device level.
The two valid SPIR-V scopes for <code>OpReadClockKHR</code> are <code>Subgroup</code> and
<code>Device</code>.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shading languages, the
<code>clockRealtime</code>*<code>EXT</code>() timing functions map to the
<code>OpReadClockKHR</code> instruction with a scope of <code>Device</code>, and the
<code>clock</code>*<code>ARB</code>() timing functions map to the <code>OpReadClockKHR</code>
instruction with a scope of <code>Subgroup</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_20"><a class="anchor" href="#_new_object_types_20"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_27"><a class="anchor" href="#_new_enum_constants_27"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_CLOCK_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_5"><a class="anchor" href="#_new_spir_v_capabilities_5"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-shaderclock"><code>ShaderClockKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_19"><a class="anchor" href="#_new_structures_19"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceShaderClockFeaturesKHR">VkPhysicalDeviceShaderClockFeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_27"><a class="anchor" href="#_version_history_27"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-4-25 (Aaron Hagan)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_float16_int8"><a class="anchor" href="#VK_KHR_shader_float16_int8"></a>VK_KHR_shader_float16_int8</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_float16_int8</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>83</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shader_float16_int8:%20&amp;body=@alegal-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_28"><a class="anchor" href="#_other_extension_metadata_28"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-07</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_28"><a class="anchor" href="#_description_28"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_shader_float16_int8</code> extension allows use of 16-bit
floating-point types and 8-bit integer types in shaders for arithmetic
operations.</p>
</div>
<div class="paragraph">
<p>It introduces two new optional features <code>shaderFloat16</code> and
<code>shaderInt8</code> which directly map to the <code>Float16</code> and the <code>Int8</code>
SPIR-V capabilities.
The <code>VK_KHR_shader_float16_int8</code> extension also specifies precision
requirements for half-precision floating-point SPIR-V operations.
This extension does not enable use of 8-bit integer types or 16-bit
floating-point types in any <a href="chap14.html#interfaces-iointerfaces">shader input and
output interfaces</a> and therefore does not supersede the
<code><a href="#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></code> or <code><a href="#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></code> extensions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_28"><a class="anchor" href="#_new_enum_constants_28"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_FLOAT16_INT8_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_20"><a class="anchor" href="#_new_structures_20"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceShaderFloat16Int8FeaturesKHR">VkPhysicalDeviceShaderFloat16Int8FeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_24"><a class="anchor" href="#_new_functions_24"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_12"><a class="anchor" href="#_promotion_to_vulkan_1_2_12"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_28"><a class="anchor" href="#_version_history_28"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-03-07 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_float_controls"><a class="anchor" href="#VK_KHR_shader_float_controls"></a>VK_KHR_shader_float_controls</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_float_controls</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>198</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shader_float_controls:%20&amp;body=@alegal-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_29"><a class="anchor" href="#_other_extension_metadata_29"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-11</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_float_controls.html"><code>SPV_KHR_float_controls</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_29"><a class="anchor" href="#_description_29"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_shader_float_controls</code> extension enables efficient use of
floating-point computations through the ability to query and override the
implementation’s default behavior for rounding modes, denormals, signed
zero, and infinity.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_29"><a class="anchor" href="#_new_enum_constants_29"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FLOAT_CONTROLS_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_22"><a class="anchor" href="#_new_enums_22"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_21"><a class="anchor" href="#_new_structures_21"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceFloatControlsPropertiesKHR">VkPhysicalDeviceFloatControlsPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_25"><a class="anchor" href="#_new_functions_25"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_6"><a class="anchor" href="#_new_spir_v_capabilities_6"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-shaderfloatcontrols"><code>DenormPreserve</code></a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-shaderfloatcontrols"><code>DenormFlushToZero</code></a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-shaderfloatcontrols"><code>SignedZeroInfNanPreserve</code></a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-shaderfloatcontrols"><code>RoundingModeRTE</code></a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-shaderfloatcontrols"><code>RoundingModeRTZ</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_13"><a class="anchor" href="#_promotion_to_vulkan_1_2_13"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_22"><a class="anchor" href="#_issues_22"></a>Issues</h4>
<div class="paragraph">
<p>1) Which instructions must flush denorms?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Only floating-point conversion, floating-point arithmetic,
floating-point relational (except <code>OpIsNaN</code>, <code>OpIsInf</code>), and
floating-point GLSL.std.450 extended instructions must flush denormals.</p>
</div>
<div class="paragraph">
<p>2) What is the denorm behavior for intermediate results?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: When a SPIR-V instruction is implemented as a sequence of other
instructions:
 - in the <code>DenormFlushToZero</code> execution mode the intermediate
   instructions may flush denormals, the final result of the sequence <strong class="purple">must</strong>
   not be denormal.
 - in the <code>DenormPreserve</code> execution mode denormals must be preserved
   throughout the whole sequence.</p>
</div>
<div class="paragraph">
<p>3) Do denorm and rounding mode controls apply to <code>OpSpecConstantOp</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, except when the opcode is <code>OpQuantizeToF16</code>.</p>
</div>
<div class="paragraph">
<p>4) The SPIR-V specification says that <code>OpConvertFToU</code> and
<code>OpConvertFToS</code> unconditionally round towards zero.
Do the rounding mode controls specified through the execution modes apply to
them?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, these instructions unconditionally round towards zero.</p>
</div>
<div class="paragraph">
<p>5) Do any of the &quot;Pack&quot; GLSL.std.450 instructions count as conversion
instructions and have the rounding mode apply?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, only instructions listed in the section &quot;3.32.11.
Conversion Instructions&quot; of the SPIR-V specification count as conversion
instructions.</p>
</div>
<div class="paragraph">
<p>6) When using inf/nan-ignore mode, what is expected of <code>OpIsNan</code> and
   <code>OpIsInf</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: These instructions must always accurately detect inf/nan if it
is passed to them.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_controls_v4_incompatibility"><a class="anchor" href="#VK_KHR_shader_controls_v4_incompatibility"></a>Version 4 API incompatibility</h4>
<div class="paragraph">
<p>The original versions of <code>VK_KHR_shader_float_controls</code> shipped with
booleans named “separateDenormSettings” and
“separateRoundingModeSettings”, which at first glance could have indicated
“they can all independently set, or not”.
However the spec language as written indicated that the 32-bit value could
always be set independently, and only the 16- and 64-bit controls needed to
be the same if these values were <code>VK_FALSE</code>.</p>
</div>
<div class="paragraph">
<p>As a result of this slight disparity, and lack of test coverage for this
facet of the extension, we ended up with two different behaviors in the
wild, where some implementations worked as written, and others worked based
on the naming.
As these are hard limits in hardware with reasons for exposure as written,
it was not possible to standardise on a single way to make this work within
the existing API.</p>
</div>
<div class="paragraph">
<p>No known users of this part of the extension exist in the wild, and as such
the Vulkan WG took the unusual step of retroactively changing the once
boolean value into a tri-state enum, breaking source compatibility.
This was however done in such a way as to retain ABI compatibility, in case
any code using this did exist; with the numerical values 0 and 1 retaining
their original specified meaning, and a new value signifying the additional
“all need to be set together” state.
If any applications exist today, compiled binaries will continue to work as
written in most cases, but will need changes before the code can be
recompiled.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_29"><a class="anchor" href="#_version_history_29"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 4, 2019-06-18 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Modified settings restrictions, see
<a href="#VK_KHR_shader_controls_v4_incompatibility">Version 4 API incompatibility</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2018-09-11 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Minor restructuring</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-04-17 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues and resolutions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-04-11 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_non_semantic_info"><a class="anchor" href="#VK_KHR_shader_non_semantic_info"></a>VK_KHR_shader_non_semantic_info</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_non_semantic_info</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>294</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shader_non_semantic_info:%20&amp;body=@baldurk%20"><span class="icon black"><i class="fa fa-github"></i></span>baldurk</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_30"><a class="anchor" href="#_other_extension_metadata_30"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-10-16</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_non_semantic_info.html"><code>SPV_KHR_non_semantic_info</code></a>
SPIR-V extension.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_30"><a class="anchor" href="#_description_30"></a>Description</h4>
<div class="paragraph">
<p>This extension allows the use of the <code>SPV_KHR_non_semantic_info</code> extension
in SPIR-V shader modules.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_21"><a class="anchor" href="#_new_object_types_21"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_30"><a class="anchor" href="#_new_enum_constants_30"></a>New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_7"><a class="anchor" href="#_new_spir_v_capabilities_7"></a>New SPIR-V Capabilities</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_22"><a class="anchor" href="#_new_structures_22"></a>New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_30"><a class="anchor" href="#_version_history_30"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-10-16 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_subgroup_extended_types"><a class="anchor" href="#VK_KHR_shader_subgroup_extended_types"></a>VK_KHR_shader_subgroup_extended_types</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_subgroup_extended_types</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>176</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Neil Henning <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shader_subgroup_extended_types:%20&amp;body=@sheredom%20"><span class="icon black"><i class="fa fa-github"></i></span>sheredom</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_31"><a class="anchor" href="#_other_extension_metadata_31"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_31"><a class="anchor" href="#_description_31"></a>Description</h4>
<div class="paragraph">
<p>This extension enables the Non Uniform Group Operations in SPIR-V to support
8-bit integer, 16-bit integer, 64-bit integer, 16-bit floating-point, and
vectors of these types.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_22"><a class="anchor" href="#_new_object_types_22"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_31"><a class="anchor" href="#_new_enum_constants_31"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_SUBGROUP_EXTENDED_TYPES_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_23"><a class="anchor" href="#_new_enums_23"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_23"><a class="anchor" href="#_new_structures_23"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceShaderSubgroupExtendedTypesFeaturesKHR">VkPhysicalDeviceShaderSubgroupExtendedTypesFeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_26"><a class="anchor" href="#_new_functions_26"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_2"><a class="anchor" href="#_new_built_in_variables_2"></a>New Built-In Variables</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_8"><a class="anchor" href="#_new_spir_v_capabilities_8"></a>New SPIR-V Capabilities</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_14"><a class="anchor" href="#_promotion_to_vulkan_1_2_14"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_23"><a class="anchor" href="#_issues_23"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_31"><a class="anchor" href="#_version_history_31"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-01-08 (Neil Henning)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shared_presentable_image"><a class="anchor" href="#VK_KHR_shared_presentable_image"></a>VK_KHR_shared_presentable_image</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shared_presentable_image</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>112</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alon Or-bach <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shared_presentable_image:%20&amp;body=@alonorbach%20"><span class="icon black"><i class="fa fa-github"></i></span>alonorbach</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_32"><a class="anchor" href="#_other_extension_metadata_32"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alon Or-bach, Samsung Electronics</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Pablo Ceballos, Google</p>
</li>
<li>
<p>Chris Forbes, Google</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Graham Connor, Imagination Technologies</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Johannes Van Waveren, Oculus</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_32"><a class="anchor" href="#_description_32"></a>Description</h4>
<div class="paragraph">
<p>This extension extends <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> to enable creation of a shared
presentable image.
This allows the application to use the image while the presention engine is
accessing it, in order to reduce the latency between rendering and
presentation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_23"><a class="anchor" href="#_new_object_types_23"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_32"><a class="anchor" href="#_new_enum_constants_32"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap29.html#VkPresentModeKHR">VkPresentModeKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code></p>
</li>
<li>
<p><code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SHARED_PRESENT_SURFACE_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_24"><a class="anchor" href="#_new_enums_24"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_24"><a class="anchor" href="#_new_structures_24"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_27"><a class="anchor" href="#_new_functions_27"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkGetSwapchainStatusKHR">vkGetSwapchainStatusKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_24"><a class="anchor" href="#_issues_24"></a>Issues</h4>
<div class="paragraph">
<p>1) Should we allow a Vulkan WSI swapchain to toggle between normal usage and
shared presentation usage?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
WSI swapchains are typically recreated with new properties instead of having
their properties changed.
This can also save resources, assuming that fewer images are needed for
shared presentation, and assuming that most VR applications do not need to
switch between normal and shared usage.</p>
</div>
<div class="paragraph">
<p>2) Should we have a query for determining how the presentation engine
refresh is triggered?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is done via which presentation modes a surface supports.</p>
</div>
<div class="paragraph">
<p>3) Should the object representing a shared presentable image be an extension
of a <a href="chap29.html#VkSwapchainKHR">VkSwapchainKHR</a> or a separate object?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Extension of a swapchain due to overlap in creation properties
and to allow common functionality between shared and normal presentable
images and swapchains.</p>
</div>
<div class="paragraph">
<p>4) What should we call the extension and the new structures it creates?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Shared presentable image / shared present.</p>
</div>
<div class="paragraph">
<p>5) Should the <code>minImageCount</code> and <code>presentMode</code> values of the
<a href="chap29.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> be ignored, or required to be compatible
values?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>minImageCount</code> must be set to 1, and <code>presentMode</code>
should be set to either <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>.</p>
</div>
<div class="paragraph">
<p>6) What should the layout of the shared presentable image be?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: After acquiring the shared presentable image, the application
must transition it to the <code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code> layout
prior to it being used.
After this initial transition, any image usage that was requested during
swapchain creation <strong class="purple">can</strong> be performed on the image without layout transitions
being performed.</p>
</div>
<div class="paragraph">
<p>7) Do we need a new API for the trigger to refresh new content?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <a href="chap29.html#vkQueuePresentKHR">vkQueuePresentKHR</a> to act as API to trigger a refresh, as
will allow combination with other compatible extensions to
<a href="chap29.html#vkQueuePresentKHR">vkQueuePresentKHR</a>.</p>
</div>
<div class="paragraph">
<p>8) How should an application detect a <code>VK_ERROR_OUT_OF_DATE_KHR</code> error
on a swapchain using the <code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>
present mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Introduce <a href="chap29.html#vkGetSwapchainStatusKHR">vkGetSwapchainStatusKHR</a> to allow applications to
query the status of a swapchain using a shared presentation mode.</p>
</div>
<div class="paragraph">
<p>9) What should subsequent calls to <a href="chap29.html#vkQueuePresentKHR">vkQueuePresentKHR</a> for
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> swapchains be defined to
do?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: State that implementations may use it as a hint for updated
content.</p>
</div>
<div class="paragraph">
<p>10) Can the ownership of a shared presentable image be transferred to a
different queue?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It is not possible to transfer ownership of a shared presentable image
obtained from a swapchain created using <code>VK_SHARING_MODE_EXCLUSIVE</code>
after it has been presented.</p>
</div>
<div class="paragraph">
<p>11) How should <a href="chap5.html#vkQueueSubmit">vkQueueSubmit</a> behave if a command buffer uses an image
from a <code>VK_ERROR_OUT_OF_DATE_KHR</code> swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <a href="chap5.html#vkQueueSubmit">vkQueueSubmit</a> is expected to return the
<code>VK_ERROR_DEVICE_LOST</code> error.</p>
</div>
<div class="paragraph">
<p>12) Can Vulkan provide any guarantee on the order of rendering, to enable
beam chasing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This could be achieved via use of render passes to ensure strip
rendering.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_32"><a class="anchor" href="#_version_history_32"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-20 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_spirv_1_4"><a class="anchor" href="#VK_KHR_spirv_1_4"></a>VK_KHR_spirv_1_4</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_spirv_1_4</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>237</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.1</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_spirv_1_4:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_33"><a class="anchor" href="#_other_extension_metadata_33"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-04-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires SPIR-V 1.4.</p>
</li>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_33"><a class="anchor" href="#_description_33"></a>Description</h4>
<div class="paragraph">
<p>This extension allows the use of SPIR-V 1.4 shader modules.
SPIR-V 1.4’s new features primarily make it an easier target for compilers
from high-level languages, rather than exposing new hardware functionality.</p>
</div>
<div class="paragraph">
<p>SPIR-V 1.4 incorporates features that are also available separately as
extensions.
SPIR-V 1.4 shader modules do not need to enable those extensions with the
<code>OpExtension</code> opcode, since they are integral parts of SPIR-V 1.4.</p>
</div>
<div class="paragraph">
<p>SPIR-V 1.4 introduces new floating point execution mode capabilities, also
available via <code>SPV_KHR_float_controls</code>.
Implementations are not required to support all of these new capabilities;
support can be queried using
<a href="chap35.html#VkPhysicalDeviceFloatControlsPropertiesKHR">VkPhysicalDeviceFloatControlsPropertiesKHR</a> from the
<code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code> extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_24"><a class="anchor" href="#_new_object_types_24"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_33"><a class="anchor" href="#_new_enum_constants_33"></a>New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_25"><a class="anchor" href="#_new_enums_25"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_25"><a class="anchor" href="#_new_structures_25"></a>New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_28"><a class="anchor" href="#_new_functions_28"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_15"><a class="anchor" href="#_promotion_to_vulkan_1_2_15"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_25"><a class="anchor" href="#_issues_25"></a>Issues</h4>
<div class="paragraph">
<p>1.
Should we have an extension specific to this SPIR-V version, or add a
version-generic query for SPIR-V version? SPIR-V 1.4 doesn’t need any other
API changes.</p>
</div>
<div class="paragraph">
<p>RESOLVED: Just expose SPIR-V 1.4.</p>
</div>
<div class="paragraph">
<p>Most new SPIR-V versions introduce optionally-required capabilities or have
implementation-defined limits, and would need more API and specification
changes specific to that version to make them available in Vulkan.
For example, to support the subgroup capabilities added in SPIR-V 1.3
required introducing <a href="chap35.html#VkPhysicalDeviceSubgroupProperties">VkPhysicalDeviceSubgroupProperties</a> to allow
querying the supported group operation categories, maximum supported
subgroup size, etc.
While we could expose the parts of a new SPIR-V version that don’t need
accompanying changes generically, we’ll still end up writing extensions
specific to each version for the remaining parts.
Thus the generic mechanism won’t reduce future spec-writing effort.
In addition, making it clear which parts of a future version are supported
by the generic mechanism and which can’t be used without specific support
would be difficult to get right ahead of time.</p>
</div>
<div class="paragraph">
<p>2.
Can different stages of the same pipeline use shaders with different SPIR-V
versions?</p>
</div>
<div class="paragraph">
<p>RESOLVED: Yes.</p>
</div>
<div class="paragraph">
<p>Mixing SPIR-V versions 1.0-1.3 in the same pipeline has not been disallowed,
so it would be inconsistent to disallow mixing 1.4 with previous versions..
SPIR-V 1.4 does not introduce anything that should cause new difficulties
here.</p>
</div>
<div class="paragraph">
<p>3.
Must Vulkan extensions corresponding to SPIR-V extensions that were promoted
to core in 1.4 be enabled in order to use that functionality in a SPIR-V 1.4
module?</p>
</div>
<div class="paragraph">
<p>RESOLVED: No, with caveats.</p>
</div>
<div class="paragraph">
<p>The SPIR-V 1.4 module does not need to declare the SPIR-V extensions, since
the functionality is now part of core, so there is no need to enable the
Vulkan extension that allows SPIR-V modules to declare the SPIR-V extension.
However, when the functionality that is now core in SPIR-V 1.4 is optionally
supported, the query for support is provided by a Vulkan extension, and that
query can only be used if the extension is enabled.</p>
</div>
<div class="paragraph">
<p>This applies to any SPIR-V version; specifically for SPIR-V 1.4 this only
applies to the functionality from <code>SPV_KHR_float_controls</code>, which was made
available in Vulkan by <code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code>.
Even though the extension was promoted in SPIR-V 1.4, the capabilities are
still optional in implementations that support <code>VK_KHR_spirv_1_4</code>.</p>
</div>
<div class="paragraph">
<p>A SPIR-V 1.4 module doesn’t need to enable <code>SPV_KHR_float_controls</code> in order
to use the capabilities, so if the application has <em>a priori</em> knowledge that
the implementation supports the capabilities, it doesn’t need to enable
<code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code>.
However, if it doesn’t have this knowledge and has to query for support at
runtime, it must enable <code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code> in order to use
<a href="chap35.html#VkPhysicalDeviceFloatControlsPropertiesKHR">VkPhysicalDeviceFloatControlsPropertiesKHR</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_33"><a class="anchor" href="#_version_history_33"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-04-01 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Internal draft versions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_surface"><a class="anchor" href="#VK_KHR_surface"></a>VK_KHR_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>25</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_surface:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_surface:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_34"><a class="anchor" href="#_other_extension_metadata_34"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_34"><a class="anchor" href="#_description_34"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_surface</code> extension is an instance extension.
It introduces <a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> objects, which abstract native platform
surface or window objects for use with Vulkan.
It also provides a way to determine whether a queue family in a physical
device supports presenting to particular surface.</p>
</div>
<div class="paragraph">
<p>Separate extensions for each platform provide the mechanisms for creating
<a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> objects, but once created they may be used in this and
other platform-independent extensions, in particular the
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_25"><a class="anchor" href="#_new_object_types_25"></a>New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_34"><a class="anchor" href="#_new_enum_constants_34"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_26"><a class="anchor" href="#_new_enums_26"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkPresentModeKHR">VkPresentModeKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkColorSpaceKHR">VkColorSpaceKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_26"><a class="anchor" href="#_new_structures_26"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkSurfaceFormatKHR">VkSurfaceFormatKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_29"><a class="anchor" href="#_new_functions_29"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkDestroySurfaceKHR">vkDestroySurfaceKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_examples_7"><a class="anchor" href="#_examples_7"></a>Examples</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code>VK_KHR_surface</code> and <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code>
extensions was removed from the appendix after revision 1.0.29.
This WSI example code was ported to the cube demo that is shipped with the
official Khronos SDK, and is being kept up-to-date in that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_issues_26"><a class="anchor" href="#_issues_26"></a>Issues</h4>
<div class="paragraph">
<p>1) Should this extension include a method to query whether a physical device
supports presenting to a specific window or native surface on a given
platform?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Without this, applications would need to create a device instance to
determine whether a particular window can be presented to.
Knowing that a device supports presentation to a platform in general is not
sufficient, as a single machine might support multiple seats, or instances
of the platform that each use different underlying physical devices.
Additionally, on some platforms, such as the X Window System, different
drivers and devices might be used for different windows depending on which
section of the desktop they exist on.</p>
</div>
<div class="paragraph">
<p>2) Should the <a href="chap29.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>,
<a href="chap29.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a>, and
<a href="chap29.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a> functions be in this
extension and operate on physical devices, rather than being in
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> (i.e. device extension) and being dependent on
<a href="chap4.html#VkDevice">VkDevice</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
While it might be useful to depend on <code>VkDevice</code> (and therefore on
enabled extensions and features) for the queries, Vulkan was released only
with the <a href="chap4.html#VkPhysicalDevice">VkPhysicalDevice</a> versions.
Many cases can be resolved by a Valid Usage.
And\or by a separate <code>pNext</code> chain version of the query struct specific
to a given extension or parameters, via extensible versions of the queries:
<code>vkGetPhysicalDeviceSurfaceCapabilities2KHR</code>,
<code>vkGetPhysicalDeviceSurfaceFormats2KHR</code>, and
<code>vkGetPhysicalDeviceSurfacePresentModes2EXT</code>.</p>
</div>
<div class="paragraph">
<p>3) Should Vulkan include support Xlib or XCB as the API for accessing the X
Window System platform?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Both.
XCB is a more modern and efficient API, but Xlib usage is deeply ingrained
in many applications and likely will remain in use for the foreseeable
future.
Not all drivers necessarily need to support both, but including both as
options in the core specification will probably encourage support, which
should in turn ease adoption of the Vulkan API in older codebases.
Additionally, the performance improvements possible with XCB likely will not
have a measurable impact on the performance of Vulkan presentation and other
minimal window system interactions defined here.</p>
</div>
<div class="paragraph">
<p>4) Should the GBM platform be included in the list of platform enums?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Deferred, and will be addressed with a platform-specific
extension to be written in the future.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_34"><a class="anchor" href="#_version_history_34"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-05-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG KHR spec, other KHR specs, patches
attached to bugs.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-05-22 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Created initial Description section.</p>
</li>
<li>
<p>Removed query for whether a platform requires the use of a queue for
presentation, since it was decided that presentation will always be
modeled as being part of the queue.</p>
</li>
<li>
<p>Fixed typos and other minor mistakes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-05-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Improved the Description section.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed compilation errors in example code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 1 and 2 and made related spec updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Merged the platform type mappings table previously removed from
VK_KHR_swapchain with the platform description table in this spec.</p>
</li>
<li>
<p>Added issues 3 and 4 documenting choices made when building the
initial list of native platforms supported.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-06-11 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Updated table 1 per input from the KHR TSG.</p>
</li>
<li>
<p>Updated issue 4 (GBM) per discussion with Daniel Stone.
He will create a platform-specific extension sometime in the future.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated enum-extending values using new convention.</p>
</li>
<li>
<p>Fixed the value of VK_SURFACE_PLATFORM_INFO_TYPE_SUPPORTED_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased on Vulkan API version 126.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-06-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Marked issues 2 and 3 resolved.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-06-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Examples now show use of function pointers for extension functions.</p>
</li>
<li>
<p>Eliminated extraneous whitespace.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-07-07 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added error section describing when each error is expected to be
reported.</p>
</li>
<li>
<p>Replaced the term &quot;queue node index&quot; with &quot;queue family index&quot; in the
spec as that is the agreed term to be used in the latest version of
the core header and spec.</p>
</li>
<li>
<p>Replaced bool32_t with VkBool32.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-08-06 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated spec against latest core API header version.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-08-20 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &quot;revision&quot; to &quot;version&quot;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
<li>
<p>Did miscellaneous cleanup, etc.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-08-20 (Ian Elliott—​porting a 2015-07-29 change from
James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the surface transform enums here from VK_WSI_swapchain so they
could be re-used by VK_WSI_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fix example code compilation errors.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-09-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replaced VkSurfaceDescriptionKHR with the VkSurfaceKHR object, which
is created via layered extensions.
Added VkDestroySurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-09-28 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_swapchain to VK_EXT_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-09-30 (Jeff Vigil)</p>
<div class="ulist">
<ul>
<li>
<p>Add error result VK_ERROR_SURFACE_LOST_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-10-15 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the resolution of issue #2 and include the surface capability
queries in this extension.</p>
</li>
<li>
<p>Renamed SurfaceProperties to SurfaceCapabilities as it better reflects
that the values returned are the capabilities of the surface on a
particular device.</p>
</li>
<li>
<p>Other minor cleanup and consistency changes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_surface to VK_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkDestroySurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 24, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Removed VkSurfaceTransformKHR.
Use VkSurfaceTransformFlagBitsKHR instead.</p>
</li>
<li>
<p>Rename VkSurfaceCapabilitiesKHR member maxImageArraySize to
maxImageArrayLayers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 25, 2016-01-14 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the
VK_KHR_android_surface to the VK_KHR_surface extension.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Update the example code, to not have so many characters per line, and
to split out a new example to show how to obtain function pointers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>A note was added at the beginning of the example code, stating that it
will be removed from future versions of the appendix.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_surface_protected_capabilities"><a class="anchor" href="#VK_KHR_surface_protected_capabilities"></a>VK_KHR_surface_protected_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_surface_protected_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>240</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.1</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Sandeep Shinde <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_surface_protected_capabilities:%20&amp;body=@sashinde%20"><span class="icon black"><i class="fa fa-github"></i></span>sashinde</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_35"><a class="anchor" href="#_other_extension_metadata_35"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-18</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Sandeep Shinde, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_35"><a class="anchor" href="#_description_35"></a>Description</h4>
<div class="paragraph">
<p>This extension extends <a href="chap29.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a>, providing
applications a way to query whether swapchains <strong class="purple">can</strong> be created with the
<code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code> flag set.</p>
</div>
<div class="paragraph">
<p>Vulkan 1.1 added (optional) support for protect memory and protected
resources including buffers (<code>VK_BUFFER_CREATE_PROTECTED_BIT</code>), images
(<code>VK_IMAGE_CREATE_PROTECTED_BIT</code>), and swapchains
(<code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code>).
However, on implementations which support multiple windowing systems, not
all window systems <strong class="purple">may</strong> be able to provide a protected display path.</p>
</div>
<div class="paragraph">
<p>This extension provides a way to query if a protected swapchain created for
a surface (and thus a specific windowing system) <strong class="purple">can</strong> be displayed on
screen.
It extends the existing <a href="chap29.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a> structure with a new
<a href="chap29.html#VkSurfaceProtectedCapabilitiesKHR">VkSurfaceProtectedCapabilitiesKHR</a> structure from which the application
<strong class="purple">can</strong> obtain information about support for protected swapchain creation
through <a href="chap29.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_26"><a class="anchor" href="#_new_object_types_26"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_35"><a class="anchor" href="#_new_enum_constants_35"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_PROTECTED_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_27"><a class="anchor" href="#_new_enums_27"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_27"><a class="anchor" href="#_new_structures_27"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkSurfaceProtectedCapabilitiesKHR">VkSurfaceProtectedCapabilitiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_30"><a class="anchor" href="#_new_functions_30"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_27"><a class="anchor" href="#_issues_27"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_35"><a class="anchor" href="#_version_history_35"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-12-18 (Sandeep Shinde, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_swapchain"><a class="anchor" href="#VK_KHR_swapchain"></a>VK_KHR_swapchain</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_swapchain</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>70</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_swapchain:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_swapchain:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_36"><a class="anchor" href="#_other_extension_metadata_36"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Mathias Heyer, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_36"><a class="anchor" href="#_description_36"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_swapchain</code> extension is the device-level companion to the
<code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension.
It introduces <a href="chap29.html#VkSwapchainKHR">VkSwapchainKHR</a> objects, which provide the ability to
present rendering results to a surface.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_27"><a class="anchor" href="#_new_object_types_27"></a>New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkSwapchainKHR">VkSwapchainKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_36"><a class="anchor" href="#_new_enum_constants_36"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_SWAPCHAIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_28"><a class="anchor" href="#_new_enums_28"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_28"><a class="anchor" href="#_new_structures_28"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkPresentInfoKHR">VkPresentInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImageSwapchainCreateInfoKHR">VkImageSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindImageMemorySwapchainInfoKHR">VkBindImageMemorySwapchainInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_31"><a class="anchor" href="#_new_functions_31"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetSwapchainImagesKHR">vkGetSwapchainImagesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkQueuePresentKHR">vkQueuePresentKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDeviceGroupPresentCapabilitiesKHR">vkGetDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDeviceGroupSurfacePresentModesKHR">vkGetDeviceGroupSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDevicePresentRectanglesKHR">vkGetPhysicalDevicePresentRectanglesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_28"><a class="anchor" href="#_issues_28"></a>Issues</h4>
<div class="paragraph">
<p>1) Does this extension allow the application to specify the memory backing
of the presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Unlike standard images, the implementation will allocate the memory backing
of the presentable image.</p>
</div>
<div class="paragraph">
<p>2) What operations are allowed on presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This is determined by the image usage flags specified when
creating the presentable image’s swapchain.</p>
</div>
<div class="paragraph">
<p>3) Does this extension support MSAA presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Presentable images are always single-sampled.
Multi-sampled rendering must use regular images.
To present the rendering results the application must manually resolve the
multi- sampled image to a single-sampled presentable image prior to
presentation.</p>
</div>
<div class="paragraph">
<p>4) Does this extension support stereo/multi-view presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The number of views associated with a presentable image is determined by the
<code>imageArrayLayers</code> specified when creating a swapchain.
All presentable images in a given swapchain use the same array size.</p>
</div>
<div class="paragraph">
<p>5) Are the layers of stereo presentable images half-sized?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The image extents always match those requested by the application.</p>
</div>
<div class="paragraph">
<p>6) Do the “present” and “acquire next image” commands operate on a
queue? If not, do they need to include explicit semaphore objects to
interlock them with queue operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The present command operates on a queue.
The image ownership operation it represents happens in order with other
operations on the queue, so no explicit semaphore object is required to
synchronize its actions.</p>
</div>
<div class="paragraph">
<p>Applications may want to acquire the next image in separate threads from
those in which they manage their queue, or in multiple threads.
To make such usage easier, the acquire next image command takes a semaphore
to signal as a method of explicit synchronization.
The application must later queue a wait for this semaphore before queuing
execution of any commands using the image.</p>
</div>
<div class="paragraph">
<p>7) Does <a href="chap29.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> block if no images are available?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The command takes a timeout parameter.
Special values for the timeout are 0, which makes the call a non-blocking
operation, and <code>UINT64_MAX</code>, which blocks indefinitely.
Values in between will block for up to the specified time.
The call will return when an image becomes available or an error occurs.
It may, but is not required to, return before the specified timeout expires
if the swapchain becomes out of date.</p>
</div>
<div class="paragraph">
<p>8) Can multiple presents be queued using one <a href="chap29.html#vkQueuePresentKHR">vkQueuePresentKHR</a> call?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
<a href="chap29.html#VkPresentInfoKHR">VkPresentInfoKHR</a> contains a list of swapchains and corresponding image
indices that will be presented.
When supported, all presentations queued with a single
<a href="chap29.html#vkQueuePresentKHR">vkQueuePresentKHR</a> call will be applied atomically as one operation.
The same swapchain must not appear in the list more than once.
Later extensions may provide applications stronger guarantees of atomicity
for such present operations, and/or allow them to query whether atomic
presentation of a particular group of swapchains is possible.</p>
</div>
<div class="paragraph">
<p>9) How do the presentation and acquire next image functions notify the
application the targeted surface has changed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Two new result codes are introduced for this purpose:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code> - Presentation will still succeed, subject to
the window resize behavior, but the swapchain is no longer configured
optimally for the surface it targets.
Applications should query updated surface information and recreate their
swapchain at the next convenient opportunity.</p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code> - Failure.
The swapchain is no longer compatible with the surface it targets.
The application must query updated surface information and recreate the
swapchain before presentation will succeed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These can be returned by both <a href="chap29.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> and
<a href="chap29.html#vkQueuePresentKHR">vkQueuePresentKHR</a>.</p>
</div>
<div class="paragraph">
<p>10) Does the <a href="chap29.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> command return a semaphore to the
application via an output parameter, or accept a semaphore to signal from
the application as an object handle parameter?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Accept a semaphore to signal as an object handle.
This avoids the need to specify whether the application must destroy the
semaphore or whether it is owned by the swapchain, and if the latter, what
its lifetime is and whether it can be re-used for other operations once it
is received from <a href="chap29.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>.</p>
</div>
<div class="paragraph">
<p>11) What types of swapchain queuing behavior should be exposed? Options
include swap interval specification, mailbox/most recent vs. FIFO queue
management, targeting specific vertical blank intervals or absolute times
for a given present operation, and probably others.
For some of these, whether they are specified at swapchain creation time or
as per-present parameters needs to be decided as well.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The base swapchain extension will expose 3 possible behaviors
(of which, FIFO will always be supported):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Immediate present: Does not wait for vertical blanking period to update
the current image, likely resulting in visible tearing.
No internal queue is used.
Present requests are applied immediately.</p>
</li>
<li>
<p>Mailbox queue: Waits for the next vertical blanking period to update the
current image.
No tearing should be observed.
An internal single-entry queue is used to hold pending presentation
requests.
If the queue is full when a new presentation request is received, the
new request replaces the existing entry, and any images associated with
the prior entry become available for re-use by the application.</p>
</li>
<li>
<p>FIFO queue: Waits for the next vertical blanking period to update the
current image.
No tearing should be observed.
An internal queue containing <span class="eq"><code>numSwapchainImages</code> - 1</span> entries
is used to hold pending presentation requests.
New requests are appended to the end of the queue, and one request is
removed from the beginning of the queue and processed during each
vertical blanking period in which the queue is non-empty</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Not all surfaces will support all of these modes, so the modes supported
will be returned using a surface info query.
All surfaces must support the FIFO queue mode.
Applications must choose one of these modes up front when creating a
swapchain.
Switching modes can be accomplished by recreating the swapchain.</p>
</div>
<div class="paragraph">
<p>12) Can <code>VK_PRESENT_MODE_MAILBOX_KHR</code> provide non-blocking guarantees
for <a href="chap29.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>? If so, what is the proper criteria?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The difficulty is not immediately obvious here.
Naively, if at least 3 images are requested, mailbox mode should always have
an image available for the application if the application does not own any
images when the call to <a href="chap29.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> was made.
However, some presentation engines may have more than one “current” image,
and would still need to block in some cases.
The right requirement appears to be that if the application allocates the
surface’s minimum number of images + 1 then it is guaranteed non-blocking
behavior when it does not currently own any images.</p>
</div>
<div class="paragraph">
<p>13) Is there a way to create and initialize a new swapchain for a surface
that has generated a <code>VK_SUBOPTIMAL_KHR</code> return code while still using
the old swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Not as part of this specification.
This could be useful to allow the application to create an “optimal”
replacement swapchain and rebuild all its command buffers using it in a
background thread at a low priority while continuing to use the
“suboptimal” swapchain in the main thread.
It could probably use the same “atomic replace” semantics proposed for
recreating direct-to-device swapchains without incurring a mode switch.
However, after discussion, it was determined some platforms probably could
not support concurrent swapchains for the same surface though, so this will
be left out of the base KHR extensions.
A future extension could add this for platforms where it is supported.</p>
</div>
<div class="paragraph">
<p>14) Should there be a special value for
<a href="chap29.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>maxImageCount</code> to indicate there are no
practical limits on the number of images in a swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
There where often be cases where there is no practical limit to the number
of images in a swapchain other than the amount of available resources (I.e.,
memory) in the system.
Trying to derive a hard limit from things like memory size is prone to
failure.
It is better in such cases to leave it to applications to figure such soft
limits out via trial/failure iterations.</p>
</div>
<div class="paragraph">
<p>15) Should there be a special value for
<a href="chap29.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentExtent</code> to indicate the size of
the platform surface is undefined?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
On some platforms (Wayland, for example), the surface size is defined by the
images presented to it rather than the other way around.</p>
</div>
<div class="paragraph">
<p>16) Should there be a special value for
<a href="chap29.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>maxImageExtent</code> to indicate there is no
practical limit on the surface size?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It seems unlikely such a system would exist.
0 could be used to indicate the platform places no limits on the extents
beyond those imposed by Vulkan for normal images, but this query could just
as easily return those same limits, so a special “unlimited” value does
not seem useful for this field.</p>
</div>
<div class="paragraph">
<p>17) How should surface rotation and mirroring be exposed to applications?
How do they specify rotation and mirroring transforms applied prior to
presentation?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Applications can query both the supported and current transforms
of a surface.
Both are specified relative to the device’s “natural” display rotation and
direction.
The supported transforms indicates which orientations the presentation
engine accepts images in.
For example, a presentation engine that does not support transforming
surfaces as part of presentation, and which is presenting to a surface that
is displayed with a 90-degree rotation, would return only one supported
transform bit: <code>VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR</code>.
Applications must transform their rendering by the transform they specify
when creating the swapchain in <code>preTransform</code> field.</p>
</div>
<div class="paragraph">
<p>18) Can surfaces ever not support <code>VK_MIRROR_NONE</code>? Can they support
vertical and horizontal mirroring simultaneously? Relatedly, should
<code>VK_MIRROR_NONE</code>[_BIT] be zero, or bit one, and should applications be
allowed to specify multiple pre and current mirror transform bits, or
exactly one?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Since some platforms may not support presenting with a transform
other than the native window’s current transform, and prerotation/mirroring
are specified relative to the device’s natural rotation and direction,
rather than relative to the surface’s current rotation and direction, it is
necessary to express lack of support for no mirroring.
To allow this, the <code>MIRROR_NONE</code> enum must occupy a bit in the flags.
Since <code>MIRROR_NONE</code> must be a bit in the bitmask rather than a bitmask
with no values set, allowing more than one bit to be set in the bitmask
would make it possible to describe undefined transforms such as
<code>VK_MIRROR_NONE_BIT</code> | <code>VK_MIRROR_HORIZONTAL_BIT</code>, or a transform
that includes both “no mirroring” and “horizontal mirroring”
simultaneously.
Therefore, it is desirable to allow specifying all supported mirroring
transforms using only one bit.
The question then becomes, should there be a
<code>VK_MIRROR_HORIZONTAL_AND_VERTICAL_BIT</code> to represent a simultaneous
horizontal and vertical mirror transform? However, such a transform is
equivalent to a 180 degree rotation, so presentation engines and
applications that wish to support or use such a transform can express it
through rotation instead.
Therefore, 3 exclusive bits are sufficient to express all needed mirroring
transforms.</p>
</div>
<div class="paragraph">
<p>19) Should support for sRGB be required?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: In the advent of UHD and HDR display devices, proper color space
information is vital to the display pipeline represented by the swapchain.
The app can discover the supported format/color-space pairs and select a
pair most suited to its rendering needs.
Currently only the sRGB color space is supported, future extensions may
provide support for more color spaces.
See issues 23 and 24.</p>
</div>
<div class="paragraph">
<p>20) Is there a mechanism to modify or replace an existing swapchain with one
targeting the same surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is described above in the text.</p>
</div>
<div class="paragraph">
<p>21) Should there be a way to set prerotation and mirroring using native APIs
when presenting using a Vulkan swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The transforms that can be expressed in this extension are a subset of those
possible on native platforms.
If a platform exposes a method to specify the transform of presented images
for a given surface using native methods and exposes more transforms or
other properties for surfaces than Vulkan supports, it might be impossible,
difficult, or inconvenient to set some of those properties using Vulkan KHR
extensions and some using the native interfaces.
To avoid overwriting properties set using native commands when presenting
using a Vulkan swapchain, the application can set the pretransform to
“inherit”, in which case the current native properties will be used, or if
none are available, a platform-specific default will be used.
Platforms that do not specify a reasonable default or do not provide native
mechanisms to specify such transforms should not include the inherit bits in
the <code>supportedTransforms</code> bitmask they return in
<a href="chap29.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>.</p>
</div>
<div class="paragraph">
<p>22) Should the content of presentable images be clipped by objects obscuring
their target surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Applications can choose which behavior they prefer.
Allowing the content to be clipped could enable more optimal presentation
methods on some platforms, but some applications might rely on the content
of presentable images to perform techniques such as partial updates or
motion blurs.</p>
</div>
<div class="paragraph">
<p>23) What is the purpose of specifying a <a href="chap29.html#VkColorSpaceKHR">VkColorSpaceKHR</a> along with
<a href="chap36.html#VkFormat">VkFormat</a> when creating a swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: While Vulkan itself is color space agnostic (e.g. even the
meaning of R, G, B and A can be freely defined by the rendering
application), the swapchain eventually will have to present the images on a
display device with specific color reproduction characteristics.
If any color space transformations are necessary before an image can be
displayed, the color space of the presented image must be known to the
swapchain.
A swapchain will only support a restricted set of color format and -space
pairs.
This set can be discovered via <a href="chap29.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a>.
As it can be expected that most display devices support the sRGB color
space, at least one format/color-space pair has to be exposed, where the
color space is <code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>.</p>
</div>
<div class="paragraph">
<p>24) How are sRGB formats and the sRGB color space related?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: While Vulkan exposes a number of SRGB texture formats, using
such formats does not guarantee working in a specific color space.
It merely means that the hardware can directly support applying the
non-linear transfer functions defined by the sRGB standard color space when
reading from or writing to images of that these formats.
Still, it is unlikely that a swapchain will expose a <code>*_SRGB</code> format
along with any color space other than
<code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>.</p>
</div>
<div class="paragraph">
<p>On the other hand, non-<code>*_SRGB</code> formats will be very likely exposed in
pair with a SRGB color space.
This means, the hardware will not apply any transfer function when reading
from or writing to such images, yet they will still be presented on a device
with sRGB display characteristics.
In this case the application is responsible for applying the transfer
function, for instance by using shader math.</p>
</div>
<div class="paragraph">
<p>25) How are the lifetime of surfaces and swapchains targeting them related?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A surface must outlive any swapchains targeting it.
A <a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> owns the binding of the native window to the Vulkan
driver.</p>
</div>
<div class="paragraph">
<p>26) How can the client control the way the alpha channel of swapchain images
is treated by the presentation engine during compositing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We should add new enum values to allow the client to negotiate
with the presentation engine on how to treat image alpha values during the
compositing process.
Since not all platforms can practically control this through the Vulkan
driver, a value of <code>VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR</code> is provided like
for surface transforms.</p>
</div>
<div class="paragraph">
<p>27) Is <a href="chap29.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a> the right function to return
<code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>, or should the various
platform-specific <a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> factory functions catch this error
earlier?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: For most platforms, the <a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> structure is a simple
container holding the data that identifies a native window or other object
representing a surface on a particular platform.
For the surface factory functions to return this error, they would likely
need to register a reference on the native objects with the native display
server somehow, and ensure no other such references exist.
Surfaces were not intended to be that heavyweight.</p>
</div>
<div class="paragraph">
<p>Swapchains are intended to be the objects that directly manipulate native
windows and communicate with the native presentation mechanisms.
Swapchains will already need to communicate with the native display server
to negotiate allocation and/or presentation of presentable images for a
native surface.
Therefore, it makes more sense for swapchain creation to be the point at
which native object exclusivity is enforced.
Platforms may choose to enforce further restrictions on the number of
<a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> objects that may be created for the same native window if
such a requirement makes sense on a particular platform, but a global
requirement is only sensible at the swapchain level.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_8"><a class="anchor" href="#_examples_8"></a>Examples</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> and <code>VK_KHR_swapchain</code>
extensions was removed from the appendix after revision 1.0.29.
This WSI example code was ported to the cube demo that is shipped with the
official Khronos SDK, and is being kept up-to-date in that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_36"><a class="anchor" href="#_version_history_36"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-05-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG KHR spec, other KHR specs, patches
attached to bugs.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-05-22 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Made many agreed-upon changes from 2015-05-21 KHR TSG meeting.
This includes using only a queue for presentation, and having an
explicit function to acquire the next image.</p>
</li>
<li>
<p>Fixed typos and other minor mistakes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-05-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Improved the Description section.</p>
</li>
<li>
<p>Added or resolved issues that were found in improving the Description.
For example, pSurfaceDescription is used consistently, instead of
sometimes using pSurface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed some grammatical errors and typos</p>
</li>
<li>
<p>Filled in the description of imageUseFlags when creating a swapchain.</p>
</li>
<li>
<p>Added a description of swapInterval.</p>
</li>
<li>
<p>Replaced the paragraph describing the order of operations on a queue
for image ownership and presentation.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Imported relevant issues from the (abandoned)
vk_wsi_persistent_swapchain_images extension.</p>
</li>
<li>
<p>Added issues 6 and 7, regarding behavior of the acquire next image and
present commands with respect to queues.</p>
</li>
<li>
<p>Updated spec language and examples to align with proposed resolutions
to issues 6 and 7.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 8, regarding atomic presentation of multiple swapchains</p>
</li>
<li>
<p>Updated spec language and examples to align with proposed resolution
to issue 8.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed compilation errors in example code, and made related spec fixes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 9, and the related VK_SUBOPTIMAL_KHR result code.</p>
</li>
<li>
<p>Renamed VK_OUT_OF_DATE_KHR to VK_ERROR_OUT_OF_DATE_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added inline proposed resolutions (marked with [JRJ]) to some XXX
questions/issues.
These should be moved to the issues section in a subsequent update if
the proposals are adopted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Converted vkAcquireNextImageKHR back to a non-queue operation that
uses a VkSemaphore object for explicit synchronization.</p>
</li>
<li>
<p>Added issue 10 to determine whether vkAcquireNextImageKHR generates or
returns semaphores, or whether it operates on a semaphore provided by
the application.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Marked issues 6, 7, and 8 resolved.</p>
</li>
<li>
<p>Renamed VkSurfaceCapabilityPropertiesKHR to VkSurfacePropertiesKHR to
better convey the mutable nature of the info it contains.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 11 with a proposed resolution, and the related issue 12.</p>
</li>
<li>
<p>Updated various sections of the spec to match the proposed resolution
to issue 11.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved some structures to VK_EXT_KHR_swap_chain to resolve the spec’s
issues 1 and 2.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added code for example 4 demonstrating how an application might make
use of the two different present and acquire next image KHR result
codes.</p>
</li>
<li>
<p>Added issue 13.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 14 - 16 and related spec language.</p>
</li>
<li>
<p>Fixed some spelling errors.</p>
</li>
<li>
<p>Added language describing the meaningful return values for
vkAcquireNextImageKHR and vkQueuePresentKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-06-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 17 and 18, as well as related spec language.</p>
</li>
<li>
<p>Removed some erroneous text added by mistake in the last update.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-06-15 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed special value from &quot;-1&quot; to &quot;0&quot; so that the data types can be
unsigned.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-06-15 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Clarified the values of VkSurfacePropertiesKHR::minImageCount and the
timeout parameter of the vkAcquireNextImageKHR function.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Misc.
cleanup.
Removed resolved inline issues and fixed typos.</p>
</li>
<li>
<p>Fixed clarification of VkSurfacePropertiesKHR::minImageCount made in
version 18.</p>
</li>
<li>
<p>Added a brief &quot;Image Ownership&quot; definition to the list of terms used
in the spec.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated enum-extending values using new convention.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added language describing how to use
VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.</p>
</li>
<li>
<p>Cleaned up an XXX comment regarding the description of which queues
vkQueuePresentKHR can be used on.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased on Vulkan API version 126.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2015-06-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated language for issue 12 to read as a proposed resolution.</p>
</li>
<li>
<p>Marked issues 11, 12, 13, 16, and 17 resolved.</p>
</li>
<li>
<p>Temporarily added links to the relevant bugs under the remaining
unresolved issues.</p>
</li>
<li>
<p>Added issues 19 and 20 as well as proposed resolutions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 24, 2015-06-19 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed special value for VkSurfacePropertiesKHR::currentExtent back
to &quot;-1&quot; from &quot;0&quot;.
This value will never need to be unsigned, and &quot;0&quot; is actually a legal
value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 25, 2015-06-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Examples now show use of function pointers for extension functions.</p>
</li>
<li>
<p>Eliminated extraneous whitespace.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 26, 2015-06-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Resolved Issues 9 &amp; 10 per KHR TSG meeting.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 27, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added oldSwapchain member to VkSwapchainCreateInfoKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 28, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added the &quot;inherit&quot; bits to the rotation and mirroring flags and the
associated issue 21.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 29, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added the &quot;clipped&quot; flag to VkSwapchainCreateInfoKHR, and the
associated issue 22.</p>
</li>
<li>
<p>Specified that presenting an image does not modify it.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 30, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added language to the spec that clarifies the behavior of
vkCreateSwapchainKHR() when the oldSwapchain field of
VkSwapchainCreateInfoKHR is not NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 31, 2015-06-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Example of new VkSwapchainCreateInfoKHR members, &quot;oldSwapchain&quot; and
&quot;clipped&quot;.</p>
</li>
<li>
<p>Example of using VkSurfacePropertiesKHR::{min|max}ImageCount to set
VkSwapchainCreateInfoKHR::minImageCount.</p>
</li>
<li>
<p>Rename vkGetSurfaceInfoKHR()'s 4th parameter to &quot;pDataSize&quot;, for
consistency with other functions.</p>
</li>
<li>
<p>Add macro with C-string name of extension (just to header file).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 32, 2015-06-26 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Minor adjustments to the language describing the behavior of
&quot;oldSwapchain&quot;</p>
</li>
<li>
<p>Fixed the version date on my previous two updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 33, 2015-06-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Add usage flags to VkSwapchainCreateInfoKHR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 34, 2015-06-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Rename vkQueuePresentKHR()'s 2nd parameter to &quot;pPresentInfo&quot;, for
consistency with other functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 35, 2015-06-26 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Merged the VkRotationFlagBitsKHR and VkMirrorFlagBitsKHR enums into a
single VkSurfaceTransformFlagBitsKHR enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 36, 2015-06-26 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added a VkSurfaceTransformKHR enum that is not a bitmask.
Each value in VkSurfaceTransformKHR corresponds directly to one of the
bits in VkSurfaceTransformFlagBitsKHR so transforming from one to the
other is easy.
Having a separate enum means that currentTransform and preTransform
are now unambiguous by definition.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 37, 2015-06-29 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected one of the signatures of vkAcquireNextImageKHR, which had
the last two parameters switched from what it is elsewhere in the
specification and header files.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 38, 2015-06-30 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo in description of the vkGetSwapchainInfoKHR()
function.</p>
</li>
<li>
<p>Corrected a typo in header file comment for VkPresentInfoKHR::sType.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 39, 2015-07-07 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added error section describing when each error is expected to be
reported.</p>
</li>
<li>
<p>Replaced bool32_t with VkBool32.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 40, 2015-07-10 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Updated to work with version 138 of the &quot;vulkan.h&quot; header.
This includes declaring the VkSwapchainKHR type using the new
VK_DEFINE_NONDISP_HANDLE macro, and no longer extending VkObjectType
(which was eliminated).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 41 2015-07-09 (Mathias Heyer)</p>
<div class="ulist">
<ul>
<li>
<p>Added color space language.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 42, 2015-07-10 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated query mechanism to reflect the convention changes done in the
core spec.</p>
</li>
<li>
<p>Removed &quot;queue&quot; from the name of
VK_STRUCTURE_TYPE_QUEUE_PRESENT_INFO_KHR to be consistent with the
established naming convention.</p>
</li>
<li>
<p>Removed reference to the no longer existing VkObjectType enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 43, 2015-07-17 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added support for concurrent sharing of swapchain images across queue
families.</p>
</li>
<li>
<p>Updated sample code based on recent changes</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 44, 2015-07-27 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Noted that support for VK_PRESENT_MODE_FIFO_KHR is required.
That is ICDs may optionally support IMMEDIATE and MAILBOX, but must
support FIFO.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 45, 2015-08-07 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo in spec file (type and variable name had wrong case
for the imageColorSpace member of the VkSwapchainCreateInfoKHR
struct).</p>
</li>
<li>
<p>Corrected a typo in header file (last parameter in
PFN_vkGetSurfacePropertiesKHR was missing &quot;KHR&quot; at the end of type:
VkSurfacePropertiesKHR).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 46, 2015-08-20 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &quot;revision&quot; to &quot;version&quot;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
<li>
<p>Made improvements to several descriptions.</p>
</li>
<li>
<p>Changed the status of several issues from PROPOSED to RESOLVED,
leaving no unresolved issues.</p>
</li>
<li>
<p>Resolved several TODOs, did miscellaneous cleanup, etc.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 47, 2015-08-20 (Ian Elliott—​porting a 2015-07-29 change from
James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the surface transform enums to VK_WSI_swapchain so they could be
re-used by VK_WSI_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 48, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Various minor cleanups.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 49, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 50, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Update Example #4 to include code that illustrates how to use the
oldSwapchain field.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 51, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fix example code compilation errors.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 52, 2015-09-08 (Matthaeus G. Chajdas)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 53, 2015-09-10 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Removed underscore from SWAP_CHAIN left in
VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 54, 2015-09-11 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Described the execution and memory coherence requirements for image
transitions to and from VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 55, 2015-09-11 (Ray Smith)</p>
<div class="ulist">
<ul>
<li>
<p>Added errors for destroying and binding memory to presentable images</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 56, 2015-09-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added fence argument to vkAcquireNextImageKHR</p>
</li>
<li>
<p>Added example of how to meter a host thread based on presentation
rate.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 57, 2015-09-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replace VkSurfaceDescriptionKHR with VkSurfaceKHR.</p>
</li>
<li>
<p>Added issue 25 with agreed resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 58, 2015-09-28 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_device_swapchain to VK_EXT_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 59, 2015-09-29 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed vkDestroySwapchainKHR() to return void.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 60, 2015-10-01 (Jeff Vigil)</p>
<div class="ulist">
<ul>
<li>
<p>Added error result VK_ERROR_SURFACE_LOST_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 61, 2015-10-05 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added the VkCompositeAlpha enum and corresponding structure fields.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 62, 2015-10-12 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added VK_PRESENT_MODE_FIFO_RELAXED_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 63, 2015-10-15 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Moved surface capability queries to VK_EXT_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 64, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_swapchain to VK_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 65, 2015-10-28 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Added optional pResult member to VkPresentInfoKHR, so that
per-swapchain results can be obtained from vkQueuePresentKHR().</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 66, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to create and destroy functions.</p>
</li>
<li>
<p>Updated resource transition language.</p>
</li>
<li>
<p>Updated sample code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 67, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Add reserved flags bitmask to VkSwapchainCreateInfoKHR.</p>
</li>
<li>
<p>Modify naming and member ordering to match API style conventions, and
so the VkSwapchainCreateInfoKHR image property members mirror
corresponding VkImageCreateInfo members but with an 'image' prefix.</p>
</li>
<li>
<p>Make VkPresentInfoKHR::pResults non-const; it is an output array
parameter.</p>
</li>
<li>
<p>Make pPresentInfo parameter to vkQueuePresentKHR const.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 68, 2016-04-05 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the &quot;validity&quot; include for vkAcquireNextImage to be in its
proper place, after the prototype and list of parameters.</p>
</li>
<li>
<p>Clarified language about presentable images, including how they are
acquired, when applications can and cannot use them, etc.
As part of this, removed language about &quot;ownership&quot; of presentable
images, and replaced it with more-consistent language about
presentable images being &quot;acquired&quot; by the application.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Update the example code, to use the final API command names, to not
have so many characters per line, and to split out a new example to
show how to obtain function pointers.
This code is more similar to the LunarG &quot;cube&quot; demo program.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>A note was added at the beginning of the example code, stating that it
will be removed from future versions of the appendix.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 69, 2017-09-07 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Added interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 70, 2017-10-06 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_swapchain_mutable_format"><a class="anchor" href="#VK_KHR_swapchain_mutable_format"></a>VK_KHR_swapchain_mutable_format</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_swapchain_mutable_format</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>201</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_maintenance2">VK_KHR_maintenance2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_image_format_list">VK_KHR_image_format_list</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_swapchain_mutable_format:%20&amp;body=@drakos-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>drakos-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_37"><a class="anchor" href="#_other_extension_metadata_37"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_37"><a class="anchor" href="#_description_37"></a>Description</h4>
<div class="paragraph">
<p>This extension allows processing of swapchain images as different formats to
that used by the window system, which is particularly useful for switching
between sRGB and linear RGB formats.</p>
</div>
<div class="paragraph">
<p>It adds a new swapchain creation flag that enables creating image views from
presentable images with a different format than the one used to create the
swapchain.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_28"><a class="anchor" href="#_new_object_types_28"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_37"><a class="anchor" href="#_new_enum_constants_37"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap29.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_29"><a class="anchor" href="#_new_enums_29"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_29"><a class="anchor" href="#_new_structures_29"></a>New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_32"><a class="anchor" href="#_new_functions_32"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_29"><a class="anchor" href="#_issues_29"></a>Issues</h4>
<div class="paragraph">
<p>1) Are there any new capabilities needed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It is expected that all implementations exposing this extension support
swapchain image format mutability.</p>
</div>
<div class="paragraph">
<p>2) Do we need a separate <code>VK_SWAPCHAIN_CREATE_EXTENDED_USAGE_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This extension requires <code>VK_KHR_maintenance2</code> and presentable images of
swapchains created with <code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code> are
created internally in a way equivalent to specifying both
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> and
<code>VK_IMAGE_CREATE_EXTENDED_USAGE_BIT_KHR</code>.</p>
</div>
<div class="paragraph">
<p>3) Do we need a separate structure to allow specifying an image format list
for swapchains?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
We simply use the same <a href="chap11.html#VkImageFormatListCreateInfoKHR">VkImageFormatListCreateInfoKHR</a> structure
introduced by <code>VK_KHR_image_format_list</code>.
The structure is required to be included in the <code>pNext</code> chain of
<a href="chap29.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> for swapchains created with
<code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_37"><a class="anchor" href="#_version_history_37"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-03-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_timeline_semaphore"><a class="anchor" href="#VK_KHR_timeline_semaphore"></a>VK_KHR_timeline_semaphore</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_timeline_semaphore</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>208</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_timeline_semaphore:%20&amp;body=@jekstrand%20"><span class="icon black"><i class="fa fa-github"></i></span>jekstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_38"><a class="anchor" href="#_other_extension_metadata_38"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension interacts with
<code><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code></p>
</li>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Yuriy O’Donnell, Epic Games</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_38"><a class="anchor" href="#_description_38"></a>Description</h4>
<div class="paragraph">
<p>This extension introduces a new type of semaphore that has an integer
payload identifying a point in a timeline.
Such timeline semaphores support the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Host query - A host operation that allows querying the payload of the
timeline semaphore.</p>
</li>
<li>
<p>Host wait - A host operation that allows a blocking wait for a timeline
semaphore to reach a specified value.</p>
</li>
<li>
<p>Host signal - A host operation that allows advancing the timeline
semaphore to a specified value.</p>
</li>
<li>
<p>Device wait - A device operation that allows waiting for a timeline
semaphore to reach a specified value.</p>
</li>
<li>
<p>Device signal - A device operation that allows advancing the timeline
semaphore to a specified value.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_29"><a class="anchor" href="#_new_object_types_29"></a>New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_38"><a class="anchor" href="#_new_enum_constants_38"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TIMELINE_SEMAPHORE_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TIMELINE_SEMAPHORE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_TYPE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_TIMELINE_SEMAPHORE_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_WAIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_SIGNAL_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_30"><a class="anchor" href="#_new_enums_30"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkSemaphoreTypeKHR">VkSemaphoreTypeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_8"><a class="anchor" href="#_new_structs_8"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceTimelineSemaphoreFeaturesKHR">VkPhysicalDeviceTimelineSemaphoreFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceTimelineSemaphorePropertiesKHR">VkPhysicalDeviceTimelineSemaphorePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkSemaphoreTypeCreateInfoKHR">VkSemaphoreTypeCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkTimelineSemaphoreSubmitInfoKHR">VkTimelineSemaphoreSubmitInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkSemaphoreWaitInfoKHR">VkSemaphoreWaitInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkSemaphoreSignalInfoKHR">VkSemaphoreSignalInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_33"><a class="anchor" href="#_new_functions_33"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#vkGetSemaphoreCounterValueKHR">vkGetSemaphoreCounterValueKHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkWaitSemaphoresKHR">vkWaitSemaphoresKHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkSignalSemaphoreKHR">vkSignalSemaphoreKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_16"><a class="anchor" href="#_promotion_to_vulkan_1_2_16"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_30"><a class="anchor" href="#_issues_30"></a>Issues</h4>
<div class="paragraph">
<p>1) Do we need a new object type for this?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, we just introduce a new type of semaphore object, as
<code>VK_KHR_external_semaphore_win32</code> already uses semaphores as the destination
for importing D3D12 fence objects, which are semantically close/identical to
the proposed synchronization primitive.</p>
</div>
<div class="paragraph">
<p>2) What type of payload the new synchronization primitive has?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A 64-bit unsigned integer that can only be set to monotonically
increasing values by signal operations and is not changed by wait
operations.</p>
</div>
<div class="paragraph">
<p>3) Does the new synchronization primitive have the same signal-before-wait
requirement as the existing semaphores do?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Timeline semaphores support signaling and waiting entirely asynchronously.
It is the responsibility of the client to avoid deadlock.</p>
</div>
<div class="paragraph">
<p>4) Does the new synchronization primitive allow resetting its payload?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, allowing the payload value to &quot;go backwards&quot; is problematic.
Applications looking for reset behavior should create a new instance of the
sychronization primitive instead.</p>
</div>
<div class="paragraph">
<p>5) How do we enable host waits on the synchronization primitive?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Both a non-blocking query of the current payload value of the
synchronization primitive, and a blocking wait operation are provided.</p>
</div>
<div class="paragraph">
<p>6) How do we enable device waits and signals on the synchronization
primitive?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Similar to <code>VK_KHR_external_semaphore_win32</code>, this extension
introduces a new structure that can be chained to <a href="chap5.html#VkSubmitInfo">VkSubmitInfo</a> to
specify the values signaled semaphores should be set to, and the values
waited semaphores need to reach.</p>
</div>
<div class="paragraph">
<p>7) Can the new synchronization primitive be used to synchronize presentation
and swapchain image acquisition operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Some implementations may have problems with supporting that
directly, thus it’s not allowed in this extension.</p>
</div>
<div class="paragraph">
<p>8) Do we want to support external sharing of the new synchronization
primitive type?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Timeline semaphore specific external sharing capabilities can be queried
using <a href="chap37.html#vkGetPhysicalDeviceExternalSemaphoreProperties">vkGetPhysicalDeviceExternalSemaphoreProperties</a> by chaining the
new <a href="chap6.html#VkSemaphoreTypeCreateInfoKHR">VkSemaphoreTypeCreateInfoKHR</a> structure to its
<code>pExternalSemaphoreInfo</code> structure.
This allows having a different set of external semaphore handle types
supported for timeline semaphores vs binary semaphores.</p>
</div>
<div class="paragraph">
<p>9) Do we need to add a host signal operation for the new synchronization
primitive type?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This helps in situations where one host thread submits a workload but
another host thread has the information on when the workload is ready to be
executed.</p>
</div>
<div class="paragraph">
<p>10) How should the new synchronization primitive interact with the ordering
requirements of the original <code>VkSemaphore</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Prior to calling any command which <strong class="purple">may</strong> cause a wait operation
on a binary semaphore, the client <strong class="purple">must</strong> ensure that the semaphore signal
operation that has been submitted for execution and any semaphore signal
operations on which it depends (if any) <strong class="purple">must</strong> have also been submitted for
execution.</p>
</div>
<div class="paragraph">
<p>11) Should we have separate feature bits for different sub-features of
timeline semaphores?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The only feature which cannot be supported universally is timeline semaphore
import/export.
For import/export, the client is already required to query available
external handle types via
<a href="chap37.html#vkGetPhysicalDeviceExternalSemaphoreProperties">vkGetPhysicalDeviceExternalSemaphoreProperties</a> and provide the
semaphore type by adding a <a href="chap6.html#VkSemaphoreTypeCreateInfoKHR">VkSemaphoreTypeCreateInfoKHR</a> structure to
the <code>pNext</code> chain of <a href="chap37.html#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a> so no
new feature bit is required.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_38"><a class="anchor" href="#_version_history_38"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-05-10 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-06-12 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added an initialValue parameter to timeline semaphore creation</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_uniform_buffer_standard_layout"><a class="anchor" href="#VK_KHR_uniform_buffer_standard_layout"></a>VK_KHR_uniform_buffer_standard_layout</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_uniform_buffer_standard_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>254</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_uniform_buffer_standard_layout:%20&amp;body=@gnl21%20"><span class="icon black"><i class="fa fa-github"></i></span>gnl21</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_39"><a class="anchor" href="#_other_extension_metadata_39"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-25</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_39"><a class="anchor" href="#_description_39"></a>Description</h4>
<div class="paragraph">
<p>This extension enables tighter array and struct packing to be used with
uniform buffers.</p>
</div>
<div class="paragraph">
<p>It modifies the alignment rules for uniform buffers, allowing for tighter
packing of arrays and structures.
This allows, for example, the std430 layout, as defined in
<a href="https://www.khronos.org/registry/OpenGL/specs/gl/GLSLangSpec.4.60.pdf">GLSL</a>
to be supported in uniform buffers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_39"><a class="anchor" href="#_new_enum_constants_39"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_UNIFORM_BUFFER_STANDARD_LAYOUT_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_30"><a class="anchor" href="#_new_structures_30"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceUniformBufferStandardLayoutFeaturesKHR">VkPhysicalDeviceUniformBufferStandardLayoutFeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_31"><a class="anchor" href="#_issues_31"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_17"><a class="anchor" href="#_promotion_to_vulkan_1_2_17"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_39"><a class="anchor" href="#_version_history_39"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-01-25 (Graeme Leese)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_vulkan_memory_model"><a class="anchor" href="#VK_KHR_vulkan_memory_model"></a>VK_KHR_vulkan_memory_model</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_vulkan_memory_model</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>212</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_vulkan_memory_model:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_40"><a class="anchor" href="#_other_extension_metadata_40"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.2 Core</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_vulkan_memory_model.html"><code>SPV_KHR_vulkan_memory_model</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Alan Baker, Google</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Robert Simpson, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Brian Sumner, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_40"><a class="anchor" href="#_description_40"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_vulkan_memory_model</code> extension allows use of the
<a href="chap40.html#memory-model">Vulkan Memory Model</a>, which formally defines how to
synchronize memory accesses to the same memory locations performed by
multiple shader invocations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_40"><a class="anchor" href="#_new_enum_constants_40"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VULKAN_MEMORY_MODEL_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_31"><a class="anchor" href="#_new_structures_31"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceVulkanMemoryModelFeaturesKHR">VkPhysicalDeviceVulkanMemoryModelFeaturesKHR</a></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Version 3 of the spec added a member
(<code>vulkanMemoryModelAvailabilityVisibilityChains</code>) to
<a href="chap34.html#VkPhysicalDeviceVulkanMemoryModelFeaturesKHR">VkPhysicalDeviceVulkanMemoryModelFeaturesKHR</a>, which is an incompatible
change from version 2.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_9"><a class="anchor" href="#_new_spir_v_capabilities_9"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-memorymodel"><code>VulkanMemoryModelKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_2_18"><a class="anchor" href="#_promotion_to_vulkan_1_2_18"></a>Promotion to Vulkan 1.2</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_32"><a class="anchor" href="#_issues_32"></a>Issues</h4>

</div>
<div class="sect3">
<h4 id="_version_history_40"><a class="anchor" href="#_version_history_40"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-06-24 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2018-12-10 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Add vulkanMemoryModelAvailabilityVisibilityChains member to the
VkPhysicalDeviceVulkanMemoryModelFeaturesKHR structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_wayland_surface"><a class="anchor" href="#VK_KHR_wayland_surface"></a>VK_KHR_wayland_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_wayland_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>7</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_wayland_surface:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_wayland_surface:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_41"><a class="anchor" href="#_other_extension_metadata_41"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_41"><a class="anchor" href="#_description_41"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_wayland_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a Wayland
<code>wl_surface</code>, as well as a query to determine support for rendering to a
Wayland compositor.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_30"><a class="anchor" href="#_new_object_types_30"></a>New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_41"><a class="anchor" href="#_new_enum_constants_41"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_31"><a class="anchor" href="#_new_enums_31"></a>New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_32"><a class="anchor" href="#_new_structures_32"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkWaylandSurfaceCreateInfoKHR">VkWaylandSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_34"><a class="anchor" href="#_new_functions_34"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCreateWaylandSurfaceKHR">vkCreateWaylandSurfaceKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_33"><a class="anchor" href="#_issues_33"></a>Issues</h4>
<div class="paragraph">
<p>1) Does Wayland need a way to query for compatibility between a particular
physical device and a specific Wayland display? This would be a more general
query than <a href="chap29.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>: if the
Wayland-specific query returned <code>VK_TRUE</code> for a (<a href="chap4.html#VkPhysicalDevice">VkPhysicalDevice</a>,
<code>struct wl_display*</code>) pair, then the physical device could be assumed to
support presentation to any <a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> for surfaces on the display.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
<a href="chap29.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a> was added to address
this issue.</p>
</div>
<div class="paragraph">
<p>2) Should we require surfaces created with <a href="chap29.html#vkCreateWaylandSurfaceKHR">vkCreateWaylandSurfaceKHR</a>
to support the <code>VK_PRESENT_MODE_MAILBOX_KHR</code> present mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Wayland is an inherently mailbox window system and mailbox support is
required for some Wayland compositor interactions to work as expected.
While handling these interactions may be possible with
<code>VK_PRESENT_MODE_FIFO_KHR</code>, it is much more difficult to do without
deadlock and requiring all Wayland applications to be able to support
implementations which only support <code>VK_PRESENT_MODE_FIFO_KHR</code> would be
an onerous restriction on application developers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_41"><a class="anchor" href="#_version_history_41"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added vkGetPhysicalDeviceWaylandPresentationSupportKHR() to resolve
issue #1.</p>
</li>
<li>
<p>Adjusted wording of issue #1 to match the agreed-upon solution.</p>
</li>
<li>
<p>Renamed &quot;window&quot; parameters to &quot;surface&quot; to match Wayland conventions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_wayland_surface to VK_KHR_wayland_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateWaylandSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-02-08 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added the requirement that implementations support
<code>VK_PRESENT_MODE_MAILBOX_KHR</code>.</p>
</li>
<li>
<p>Added wording about interactions between <a href="chap29.html#vkQueuePresentKHR">vkQueuePresentKHR</a> and
the Wayland requests sent to the compositor.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_win32_keyed_mutex"><a class="anchor" href="#VK_KHR_win32_keyed_mutex"></a>VK_KHR_win32_keyed_mutex</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_win32_keyed_mutex</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>76</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory_win32">VK_KHR_external_memory_win32</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Carsten Rohde <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_win32_keyed_mutex:%20&amp;body=@crohde%20"><span class="icon black"><i class="fa fa-github"></i></span>crohde</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_42"><a class="anchor" href="#_other_extension_metadata_42"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_42"><a class="anchor" href="#_description_42"></a>Description</h4>
<div class="paragraph">
<p>Applications that wish to import Direct3D 11 memory objects into the Vulkan
API may wish to use the native keyed mutex mechanism to synchronize access
to the memory between Vulkan and Direct3D.
This extension provides a way for an application to access the keyed mutex
associated with an imported Vulkan memory object when submitting command
buffers to a queue.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_31"><a class="anchor" href="#_new_object_types_31"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_42"><a class="anchor" href="#_new_enum_constants_42"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WIN32_KEYED_MUTEX_ACQUIRE_RELEASE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_32"><a class="anchor" href="#_new_enums_32"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_9"><a class="anchor" href="#_new_structs_9"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkWin32KeyedMutexAcquireReleaseInfoKHR">VkWin32KeyedMutexAcquireReleaseInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_35"><a class="anchor" href="#_new_functions_35"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_34"><a class="anchor" href="#_issues_34"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_42"><a class="anchor" href="#_version_history_42"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_win32_surface"><a class="anchor" href="#VK_KHR_win32_surface"></a>VK_KHR_win32_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_win32_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>10</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_win32_surface:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_win32_surface:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_43"><a class="anchor" href="#_other_extension_metadata_43"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-04-24</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_43"><a class="anchor" href="#_description_43"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_win32_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a Win32 <code>HWND</code>, as
well as a query to determine support for rendering to the windows desktop.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_32"><a class="anchor" href="#_new_object_types_32"></a>New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_43"><a class="anchor" href="#_new_enum_constants_43"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_33"><a class="anchor" href="#_new_enums_33"></a>New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_33"><a class="anchor" href="#_new_structures_33"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkWin32SurfaceCreateInfoKHR">VkWin32SurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_36"><a class="anchor" href="#_new_functions_36"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCreateWin32SurfaceKHR">vkCreateWin32SurfaceKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceWin32PresentationSupportKHR">vkGetPhysicalDeviceWin32PresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_35"><a class="anchor" href="#_issues_35"></a>Issues</h4>
<div class="paragraph">
<p>1) Does Win32 need a way to query for compatibility between a particular
physical device and a specific screen? Compatibility between a physical
device and a window generally only depends on what screen the window is on.
However, there is not an obvious way to identify a screen without already
having a window on the screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
While it may be useful, there is not a clear way to do this on Win32.
However, a method was added to query support for presenting to the windows
desktop as a whole.</p>
</div>
<div class="paragraph">
<p>2) If a native window object (<code>HWND</code>) is used by one graphics API, and
then is later used by a different graphics API (one of which is Vulkan), can
these uses interfere with each other?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>Uses of a window object by multiple graphics APIs results in undefined
behavior.
Such behavior may succeed when using one Vulkan implementation but fail when
using a different Vulkan implementation.
Potential failures include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating then destroying a flip presentation model DXGI swapchain on a
window object can prevent <a href="chap29.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a> from succeeding on
the same window object.</p>
</li>
<li>
<p>Creating then destroying a <a href="chap29.html#VkSwapchainKHR">VkSwapchainKHR</a> on a window object can
prevent creation of a bitblt model DXGI swapchain on the same window
object.</p>
</li>
<li>
<p>Creating then destroying a <a href="chap29.html#VkSwapchainKHR">VkSwapchainKHR</a> on a window object can
effectively <code>SetPixelFormat</code> to a different format than the format
chosen by an OpenGL application.</p>
</li>
<li>
<p>Creating then destroying a <a href="chap29.html#VkSwapchainKHR">VkSwapchainKHR</a> on a window object on
one <a href="chap4.html#VkPhysicalDevice">VkPhysicalDevice</a> can prevent <a href="chap29.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a> from
succeeding on the same window object, but on a different
<a href="chap4.html#VkPhysicalDevice">VkPhysicalDevice</a> that is associated with a different Vulkan ICD.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In all cases the problem can be worked around by creating a new window
object.</p>
</div>
<div class="paragraph">
<p>Technical details include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating a DXGI swapchain over a window object can alter the object for
the remainder of its lifetime.
The alteration persists even after the DXGI swapchain has been
destroyed.
This alteration can make it impossible for a conformant Vulkan
implementation to create a <a href="chap29.html#VkSwapchainKHR">VkSwapchainKHR</a> over the same window
object.
Mention of this alteration can be found in the remarks section of the
MSDN documentation for <code>DXGI_SWAP_EFFECT</code>.</p>
</li>
<li>
<p>Calling GDI’s <code>SetPixelFormat</code> (needed by OpenGL’s WGL layer) on a
window object alters the object for the remainder of its lifetime.
The MSDN documentation for <code>SetPixelFormat</code> explains that a window
object’s pixel format can be set only one time.</p>
</li>
<li>
<p>Creating a <a href="chap29.html#VkSwapchainKHR">VkSwapchainKHR</a> over a window object can alter the
object for the remaining life of its lifetime.
Either of the above alterations may occur as a side-effect of
<a href="chap29.html#VkSwapchainKHR">VkSwapchainKHR</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_43"><a class="anchor" href="#_version_history_43"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for win32 desktops.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_win32_surface to VK_KHR_win32_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateWin32SurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-04-24 (Jeff Juliano)</p>
<div class="ulist">
<ul>
<li>
<p>Add issue 2 addressing reuse of a native window object in a different
Graphics API, or by a different Vulkan ICD.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_xcb_surface"><a class="anchor" href="#VK_KHR_xcb_surface"></a>VK_KHR_xcb_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_xcb_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_xcb_surface:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_xcb_surface:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_44"><a class="anchor" href="#_other_extension_metadata_44"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_44"><a class="anchor" href="#_description_44"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_xcb_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an X11 <code>Window</code>, using
the XCB client-side library, as well as a query to determine support for
rendering via XCB.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_33"><a class="anchor" href="#_new_object_types_33"></a>New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_44"><a class="anchor" href="#_new_enum_constants_44"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_34"><a class="anchor" href="#_new_enums_34"></a>New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_34"><a class="anchor" href="#_new_structures_34"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkXcbSurfaceCreateInfoKHR">VkXcbSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_37"><a class="anchor" href="#_new_functions_37"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCreateXcbSurfaceKHR">vkCreateXcbSurfaceKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceXcbPresentationSupportKHR">vkGetPhysicalDeviceXcbPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_36"><a class="anchor" href="#_issues_36"></a>Issues</h4>
<div class="paragraph">
<p>1) Does XCB need a way to query for compatibility between a particular
physical device and a specific screen? This would be a more general query
than <a href="chap29.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>: If it returned
<code>VK_TRUE</code>, then the physical device could be assumed to support
presentation to any window on that screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this is needed for toolkits that want to create a
<a href="chap4.html#VkDevice">VkDevice</a> before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_44"><a class="anchor" href="#_version_history_44"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for an (xcb_connection_t*,
xcb_visualid_t) pair.</p>
</li>
<li>
<p>Removed &quot;root&quot; parameter from CreateXcbSurfaceKHR(), as it is redundant
when a window on the same screen is specified as well.</p>
</li>
<li>
<p>Adjusted wording of issue #1 and added agreed upon resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-14 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Removed &quot;root&quot; parameter from CreateXcbSurfaceKHR() in one more place.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_xcb_surface to VK_KHR_xcb_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-10-23 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateXcbSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_xlib_surface"><a class="anchor" href="#VK_KHR_xlib_surface"></a>VK_KHR_xlib_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_xlib_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>5</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_xlib_surface:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_xlib_surface:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_45"><a class="anchor" href="#_other_extension_metadata_45"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_45"><a class="anchor" href="#_description_45"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_xlib_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap29.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an X11 <code>Window</code>, using
the Xlib client-side library, as well as a query to determine support for
rendering via Xlib.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_34"><a class="anchor" href="#_new_object_types_34"></a>New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_45"><a class="anchor" href="#_new_enum_constants_45"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_35"><a class="anchor" href="#_new_enums_35"></a>New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_35"><a class="anchor" href="#_new_structures_35"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkXlibSurfaceCreateInfoKHR">VkXlibSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_38"><a class="anchor" href="#_new_functions_38"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#vkCreateXlibSurfaceKHR">vkCreateXlibSurfaceKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceXlibPresentationSupportKHR">vkGetPhysicalDeviceXlibPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_37"><a class="anchor" href="#_issues_37"></a>Issues</h4>
<div class="paragraph">
<p>1) Does X11 need a way to query for compatibility between a particular
physical device and a specific screen? This would be a more general query
than <a href="chap29.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>; if it returned
<code>VK_TRUE</code>, then the physical device could be assumed to support
presentation to any window on that screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this is needed for toolkits that want to create a
<a href="chap4.html#VkDevice">VkDevice</a> before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_45"><a class="anchor" href="#_version_history_45"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for (Display*, VisualID) pair.</p>
</li>
<li>
<p>Removed &quot;root&quot; parameter from CreateXlibSurfaceKHR(), as it is
redundant when a window on the same screen is specified as well.</p>
</li>
<li>
<p>Added appropriate X errors.</p>
</li>
<li>
<p>Adjusted wording of issue #1 and added agreed upon resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-14 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension from VK_EXT_KHR_x11_surface to
VK_EXT_KHR_xlib_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_xlib_surface to VK_KHR_xlib_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateXlibSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="provisional-extension-appendices-list"><a class="anchor" href="#provisional-extension-appendices-list"></a>List of Provisional Extensions</h3>
<div class="ulist">
<ul>
<li>
<p><code><a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_ray_tracing">VK_KHR_ray_tracing</a></code></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="VK_KHR_deferred_host_operations"><a class="anchor" href="#VK_KHR_deferred_host_operations"></a>VK_KHR_deferred_host_operations</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_deferred_host_operations</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>269</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p><strong>This is a <em>provisional</em> extension and <strong class="purple">must</strong> be used with caution.
See the <a href="chap44.html#boilerplate-provisional-header">description</a> of provisional header files for enablement and stability details.</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Josh Barczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_deferred_host_operations:%20&amp;body=@jbarczak%20"><span class="icon black"><i class="fa fa-github"></i></span>jbarczak</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_46"><a class="anchor" href="#_other_extension_metadata_46"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-03-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Yuriy O’Donnell, Epic</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Contributors to VK_KHR_ray_tracing</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_46"><a class="anchor" href="#_description_46"></a>Description</h4>
<div class="paragraph">
<p>The <a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a> extension defines the infrastructure
and usage patterns for deferrable commands, but does not specify any
commands as deferrable.
This is left to additional dependent extensions.
Commands <strong class="purple">must</strong> not be deferred unless the deferral is specifically allowed
by another extension which depends on <a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_35"><a class="anchor" href="#_new_object_types_35"></a>New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeferredOperationKHR">VkDeferredOperationKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_46"><a class="anchor" href="#_new_enum_constants_46"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_THREAD_IDLE_KHR</code></p>
</li>
<li>
<p><code>VK_THREAD_DONE_KHR</code></p>
</li>
<li>
<p><code>VK_OPERATION_DEFERRED_KHR</code></p>
</li>
<li>
<p><code>VK_OPERATION_NOT_DEFERRED_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEFERRED_OPERATION_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_DEFERRED_OPERATION_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_36"><a class="anchor" href="#_new_enums_36"></a>New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_36"><a class="anchor" href="#_new_structures_36"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeferredOperationInfoKHR">VkDeferredOperationInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_39"><a class="anchor" href="#_new_functions_39"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkCreateDeferredOperationKHR">vkCreateDeferredOperationKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkDestroyDeferredOperationKHR">vkDestroyDeferredOperationKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetDeferredOperationMaxConcurrencyKHR">vkGetDeferredOperationMaxConcurrencyKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetDeferredOperationResultKHR">vkGetDeferredOperationResultKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkDeferredOperationJoinKHR">vkDeferredOperationJoinKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_code_examples"><a class="anchor" href="#_code_examples"></a>Code Examples</h4>
<div class="paragraph">
<p>The following examples will illustrate the concept of deferrable operations
using a hypothetical example.
The command <code>vkDoSomethingExpensiveEXT</code> denotes a deferrable command.
The structure <code>VkExpensiveOperationArgsEXT</code> represents the arguments
which it would normally accept.</p>
</div>
<div class="paragraph">
<p>The following example illustrates how a vulkan application might request
deferral of an expensive operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="cpp"><span class="comment">// create a deferred operation</span>
VkDeferredOperationKHR hOp;
VkResult result = vkCreateDeferredOperationKHR(device, pCallbacks, &amp;hOp);
assert(result == VK_SUCCESS);

<span class="comment">// initialize deferral structure</span>
VkDeferredOperationInfoKHR deferral;
deferral.sType      = VK_STRUCTURE_TYPE_DEFERRED_OPERATION_INFO_KHR;
deferral.pNext      = <span class="predefined-constant">nullptr</span>;
deferral.operationHandle = hOp;

VkExpensiveOperationArgsEXT kArgs;
<span class="comment">//</span>
<span class="comment">// ... intialize kArgs as normal ...</span>
<span class="comment">//</span>
kArgs.pNext = &amp;deferral;

result = vkDoSomethingExpensive(&amp;kArgs);
assert( result == VK_OPERATION_DEFERRED_KHR );

<span class="comment">// operation was deferred.  Execute it asynchronously</span>
std::async::launch(
    [ hOp ] ( )
    {
        vkDeferredOperationJoinKHR(device, hOp);

        result = vkGetDeferredOperationResultKHR(device, hOp);

        <span class="comment">// deferred operation is now complete.  'result' indicates success or failure</span>

        vkDestroyDeferredOperationKHR(device, hOp, pCallbacks);
    }
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows a subroutine which guarantees completion of a
deferred operation, in the presence of multiple worker threads, and returns
the result of the operation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="cpp">VkResult FinishDeferredOperation(VkDeferredOperationKHR hOp)
{
    <span class="comment">// Attempt to join the operation until the implementation indicates that we should stop</span>

    VkResult result = vkDeferredOperationJoinKHR(device, hOp);
    <span class="keyword">while</span>( result == VK_THREAD_IDLE_KHR )
    {
        std::this_thread::yield();
        result = vkDeferredOperationJoinKHR(device, hOp);
    }

    <span class="keyword">switch</span>( result )
    {
    <span class="keyword">case</span> VK_SUCCESS:
        {
            <span class="comment">// deferred operation has finished.  Query its result</span>
            result = vkGetDeferredOperationResultKHR(device, hOp);
        }
        <span class="keyword">break</span>;

    <span class="keyword">case</span> VK_THREAD_DONE_KHR:
        {
            <span class="comment">// deferred operation is being wrapped up by another thread</span>
            <span class="comment">//  wait for that thread to finish</span>
            <span class="keyword">do</span>
            {
                std::this_thread::yield();
                result = vkGetDeferredOperationResultKHR(device, hOp);
            } <span class="keyword">while</span>( result == VK_NOT_READY );
        }
        <span class="keyword">break</span>;

    <span class="keyword">default</span>:
        assert(<span class="predefined-constant">false</span>); <span class="comment">// other conditions are illegal.</span>
        <span class="keyword">break</span>;
    }

    <span class="keyword">return</span> result;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_issues_38"><a class="anchor" href="#_issues_38"></a>Issues</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should this entension have a VkPhysicalDevice*FeaturesKHR structure?</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>RESOLVED: No.
This extension does not add any functionality on its own and requires a
dependent extension to actually enable functionality and thus there is no
value in adding a feature structure.
If necessary, any dependent extension could add a feature boolean if it
wanted to indicate that it is adding optional deferral support.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_46"><a class="anchor" href="#_version_history_46"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-12-05 (Josh Barczak, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2020-03-06 (Daniel Koch, Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Add missing VK_OBJECT_TYPE_DEFERRED_OPERATION_KHR enum</p>
</li>
<li>
<p>fix sample code</p>
</li>
<li>
<p>Clarified deferred operation parameter lifetimes (#2018,!3647)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_pipeline_library"><a class="anchor" href="#VK_KHR_pipeline_library"></a>VK_KHR_pipeline_library</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_pipeline_library</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>291</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p><strong>This is a <em>provisional</em> extension and <strong class="purple">must</strong> be used with caution.
See the <a href="chap44.html#boilerplate-provisional-header">description</a> of provisional header files for enablement and stability details.</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_pipeline_library:%20&amp;body=@pixeljetstream%20"><span class="icon black"><i class="fa fa-github"></i></span>pixeljetstream</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_47"><a class="anchor" href="#_other_extension_metadata_47"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-01-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>See contributors to <code><a href="#VK_KHR_ray_tracing">VK_KHR_ray_tracing</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_47"><a class="anchor" href="#_description_47"></a>Description</h4>
<div class="paragraph">
<p>A pipeline library is a special pipeline that cannot be bound, instead it
defines a set of shaders and shader groups which can be linked into other
pipelines.
This extension defines the infrastructure for pipeline libraries, but does
not specify the creation or usage of pipeline libraries.
This is left to additional dependent extensions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_36"><a class="anchor" href="#_new_object_types_36"></a>New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_47"><a class="anchor" href="#_new_enum_constants_47"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap9.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_LIBRARY_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_37"><a class="anchor" href="#_new_enums_37"></a>New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_37"><a class="anchor" href="#_new_structures_37"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_40"><a class="anchor" href="#_new_functions_40"></a>New Functions</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_47"><a class="anchor" href="#_version_history_47"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-01-08 (Christoph Kubisch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_ray_tracing"><a class="anchor" href="#VK_KHR_ray_tracing"></a>VK_KHR_ray_tracing</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_ray_tracing</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>151</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>8</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_EXT_descriptor_indexing">VK_EXT_descriptor_indexing</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></code></p>
</li>
<li>
<p><strong>This is a <em>provisional</em> extension and <strong class="purple">must</strong> be used with caution.
See the <a href="chap44.html#boilerplate-provisional-header">description</a> of provisional header files for enablement and stability details.</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_ray_tracing:%20&amp;body=@dgkoch%20"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_48"><a class="anchor" href="#_other_extension_metadata_48"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-02-28</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_ray_tracing.html"><code>SPV_KHR_ray_tracing</code></a>
and
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_ray_query.html"><code>SPV_KHR_ray_query</code></a>
SPIR-V extensions.</p>
</li>
<li>
<p>This extension requires the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_ray_tracing.txt"><code>GLSL_EXT_ray_tracing</code></a>
and
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_ray_query.txt"><code>GLSL_EXT_ray_query</code></a>
extensions for GLSL source languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthäus Chajdas, AMD</p>
</li>
<li>
<p>Greg Grebe, AMD</p>
</li>
<li>
<p>Nicolai Hähnle, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Dave Oldcorn, AMD</p>
</li>
<li>
<p>Skyler Saleh, AMD</p>
</li>
<li>
<p>Mathieu Robart, Arm</p>
</li>
<li>
<p>Marius Bjorge, Arm</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Sebastian Tafuri, EA</p>
</li>
<li>
<p>Henrik Rydgard, Embark</p>
</li>
<li>
<p>Juan Cañada, Epic Games</p>
</li>
<li>
<p>Patrick Kelly, Epic Games</p>
</li>
<li>
<p>Yuriy O’Donnell, Epic Games</p>
</li>
<li>
<p>Michael Doggett, Facebook/Oculus</p>
</li>
<li>
<p>Don Scorgie, Imagination</p>
</li>
<li>
<p>Dae Kim, Imagination</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Pascal Gautron, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Ashwin Lele, NVIDIA</p>
</li>
<li>
<p>Robert Stepinski, NVIDIA</p>
</li>
<li>
<p>Martin Stich, NVIDIA</p>
</li>
<li>
<p>Nuno Subtil, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>Jeroen van Schijndel, OTOY</p>
</li>
<li>
<p>Juul Joosten, OTOY</p>
</li>
<li>
<p>Alex Bourd, Qualcomm</p>
</li>
<li>
<p>Roman Larionov, Qualcomm</p>
</li>
<li>
<p>David McAllister, Qualcomm</p>
</li>
<li>
<p>Andrew Garrard, Samsung</p>
</li>
<li>
<p>Lewis Gordon, Samsung</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Jasper Bekkers, Traverse Research</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_48"><a class="anchor" href="#_description_48"></a>Description</h4>
<div class="paragraph">
<p>Rasterization has been the dominant method to produce interactive graphics,
but increasing performance of graphics hardware has made ray tracing a
viable option for interactive rendering.
Being able to integrate ray tracing with traditional rasterization makes it
easier for applications to incrementally add ray traced effects to existing
applications or to do hybrid approaches with rasterization for primary
visibility and ray tracing for secondary queries.</p>
</div>
<div class="paragraph">
<p>To enable ray tracing, this extension adds a few different categories of new
functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Acceleration structure objects and build commands</p>
</li>
<li>
<p>A new pipeline type with new shader domains</p>
</li>
<li>
<p>An indirection table to link shader groups with acceleration structure
items</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, ray queries are available to other shader types outside of the
dedicated ray tracing pipeline.
Unlike <code>OpTraceRayKHR</code>, ray queries are not able to launch additional
shaders, instead returning traversal results to the calling shader.</p>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_ray_tracing</code></p>
</li>
<li>
<p><code>SPV_KHR_ray_query</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_37"><a class="anchor" href="#_new_object_types_37"></a>New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkAccelerationStructureKHR">VkAccelerationStructureKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_48"><a class="anchor" href="#_new_enum_constants_48"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_PIPELINE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_BUILD_GEOMETRY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_ACCELERATION_STRUCTURE_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_ACCELERATION_STRUCTURE_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_MEMORY_REQUIREMENTS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CREATE_GEOMETRY_TYPE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_TRIANGLES_DATA_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_AABBS_DATA_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_INSTANCES_DATA_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_DEVICE_ADDRESS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_VERSION_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_PIPELINE_INTERFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_SHADER_GROUP_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_ACCELERATION_STRUCTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_ACCELERATION_STRUCTURE_TO_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_MEMORY_TO_ACCELERATION_STRUCTURE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_ANY_HIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_MISS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_INTERSECTION_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CALLABLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_RAY_TRACING_SHADER_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_ACCELERATION_STRUCTURE_BUILD_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_RAY_TRACING_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkPipelineBindPoint">VkPipelineBindPoint</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap13.html#VkDescriptorType">VkDescriptorType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkAccessFlagBits">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_ACCELERATION_STRUCTURE_READ_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_ACCESS_ACCELERATION_STRUCTURE_WRITE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap16.html#VkQueryType">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_COMPACTED_SIZE_KHR</code></p>
</li>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_SERIALIZATION_SIZE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_ACCELERATION_STRUCTURE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEBUG_REPORT_OBJECT_TYPE_ACCELERATION_STRUCTURE_KHR_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap19.html#VkIndexType">VkIndexType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDEX_TYPE_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_VERSION_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_38"><a class="anchor" href="#_new_enums_38"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkAccelerationStructureMemoryRequirementsTypeKHR">VkAccelerationStructureMemoryRequirementsTypeKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkAccelerationStructureBuildTypeKHR">VkAccelerationStructureBuildTypeKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkAccelerationStructureTypeKHR">VkAccelerationStructureTypeKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBuildAccelerationStructureFlagBitsKHR">VkBuildAccelerationStructureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkCopyAccelerationStructureModeKHR">VkCopyAccelerationStructureModeKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkGeometryFlagBitsKHR">VkGeometryFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkGeometryInstanceFlagBitsKHR">VkGeometryInstanceFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkGeometryTypeKHR">VkGeometryTypeKHR</a></p>
</li>
<li>
<p><a href="chap9.html#VkRayTracingShaderGroupTypeKHR">VkRayTracingShaderGroupTypeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_38"><a class="anchor" href="#_new_structures_38"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkAabbPositionsKHR">VkAabbPositionsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureBuildGeometryInfoKHR">VkAccelerationStructureBuildGeometryInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureBuildOffsetInfoKHR">VkAccelerationStructureBuildOffsetInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkAccelerationStructureCreateGeometryTypeInfoKHR">VkAccelerationStructureCreateGeometryTypeInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkAccelerationStructureCreateInfoKHR">VkAccelerationStructureCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkAccelerationStructureDeviceAddressInfoKHR">VkAccelerationStructureDeviceAddressInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureGeometryAabbsDataKHR">VkAccelerationStructureGeometryAabbsDataKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureGeometryDataKHR">VkAccelerationStructureGeometryDataKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureGeometryInstancesDataKHR">VkAccelerationStructureGeometryInstancesDataKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureGeometryKHR">VkAccelerationStructureGeometryKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureGeometryTrianglesDataKHR">VkAccelerationStructureGeometryTrianglesDataKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureInstanceKHR">VkAccelerationStructureInstanceKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkAccelerationStructureMemoryRequirementsInfoKHR">VkAccelerationStructureMemoryRequirementsInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureVersionKHR">VkAccelerationStructureVersionKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindAccelerationStructureMemoryInfoKHR">VkBindAccelerationStructureMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkTraceRaysIndirectCommandKHR">VkTraceRaysIndirectCommandKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkCopyAccelerationStructureInfoKHR">VkCopyAccelerationStructureInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkCopyAccelerationStructureToMemoryInfoKHR">VkCopyAccelerationStructureToMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkCopyMemoryToAccelerationStructureInfoKHR">VkCopyMemoryToAccelerationStructureInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceOrHostAddressKHR">VkDeviceOrHostAddressKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceOrHostAddressConstKHR">VkDeviceOrHostAddressConstKHR</a></p>
</li>
<li>
<p><a href="chap34.html#VkPhysicalDeviceRayTracingFeaturesKHR">VkPhysicalDeviceRayTracingFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceRayTracingPropertiesKHR">VkPhysicalDeviceRayTracingPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap9.html#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap9.html#VkRayTracingShaderGroupCreateInfoKHR">VkRayTracingShaderGroupCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkStridedBufferRegionKHR">VkStridedBufferRegionKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkTransformMatrixKHR">VkTransformMatrixKHR</a></p>
</li>
<li>
<p><a href="chap13.html#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_41"><a class="anchor" href="#_new_functions_41"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#vkBindAccelerationStructureMemoryKHR">vkBindAccelerationStructureMemoryKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkBuildAccelerationStructureKHR">vkBuildAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdBuildAccelerationStructureIndirectKHR">vkCmdBuildAccelerationStructureIndirectKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdBuildAccelerationStructureKHR">vkCmdBuildAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdCopyAccelerationStructureKHR">vkCmdCopyAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdCopyAccelerationStructureToMemoryKHR">vkCmdCopyAccelerationStructureToMemoryKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdCopyMemoryToAccelerationStructureKHR">vkCmdCopyMemoryToAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdTraceRaysIndirectKHR">vkCmdTraceRaysIndirectKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdTraceRaysKHR">vkCmdTraceRaysKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdWriteAccelerationStructuresPropertiesKHR">vkCmdWriteAccelerationStructuresPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkCreateAccelerationStructureKHR">vkCreateAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap9.html#vkCreateRayTracingPipelinesKHR">vkCreateRayTracingPipelinesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCopyAccelerationStructureKHR">vkCopyAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCopyAccelerationStructureToMemoryKHR">vkCopyAccelerationStructureToMemoryKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCopyMemoryToAccelerationStructureKHR">vkCopyMemoryToAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkDestroyAccelerationStructureKHR">vkDestroyAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkGetAccelerationStructureDeviceAddressKHR">vkGetAccelerationStructureDeviceAddressKHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkGetAccelerationStructureMemoryRequirementsKHR">vkGetAccelerationStructureMemoryRequirementsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetDeviceAccelerationStructureCompatibilityKHR">vkGetDeviceAccelerationStructureCompatibilityKHR</a></p>
</li>
<li>
<p><a href="chap9.html#vkGetRayTracingCaptureReplayShaderGroupHandlesKHR">vkGetRayTracingCaptureReplayShaderGroupHandlesKHR</a></p>
</li>
<li>
<p><a href="chap9.html#vkGetRayTracingShaderGroupHandlesKHR">vkGetRayTracingShaderGroupHandlesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkWriteAccelerationStructuresPropertiesKHR">vkWriteAccelerationStructuresPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_or_modified_built_in_variables"><a class="anchor" href="#_new_or_modified_built_in_variables"></a>New or Modified Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-launchid"><code>LaunchIDKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-launchsize"><code>LaunchSizeKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-worldrayorigin"><code>WorldRayOriginKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-worldraydirection"><code>WorldRayDirectionKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-objectrayorigin"><code>ObjectRayOriginKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-objectraydirection"><code>ObjectRayDirectionKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-raytmin"><code>RayTminKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-raytmax"><code>RayTmaxKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-instancecustomindex"><code>InstanceCustomIndexKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-instanceid"><code>InstanceId</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-objecttoworld"><code>ObjectToWorldKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-worldtoobject"><code>WorldToObjectKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-hitkind"><code>HitKindKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-incomingrayflags"><code>IncomingRayFlagsKHR</code></a></p>
</li>
<li>
<p>(modified)<code>PrimitiveId</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_10"><a class="anchor" href="#_new_spir_v_capabilities_10"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-khr-raytracing">RayTracingProvisionalKHR</a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-khr-raytracing">RayQueryProvisionalKHR</a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-khr-raytracing">RayTraversalPrimitiveCullingProvisionalKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_39"><a class="anchor" href="#_issues_39"></a>Issues</h4>
<div class="paragraph">
<p>(1) How does this extension differ from VK_NV_ray_tracing?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>DISCUSSION</strong>:</p>
</div>
<div class="paragraph">
<p>The following is a summary of the main functional differences between
VK_KHR_ray_tracing and VK_NV_ray_tracing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>added support for indirect ray tracing (<a href="chap32.html#vkCmdTraceRaysIndirectKHR">vkCmdTraceRaysIndirectKHR</a>)</p>
</li>
<li>
<p>uses SPV_KHR_ray_tracing instead of SPV_NV_ray_tracing</p>
<div class="ulist">
<ul>
<li>
<p>refer to KHR SPIR-V enums instead of NV SPIR-V enums (which are
functionally equivalent and aliased to the same values).</p>
</li>
<li>
<p>added <code>RayGeometryIndexKHR</code> built-in</p>
</li>
</ul>
</div>
</li>
<li>
<p>added acceleration structure serialization / deserialization
(<code>VK_COPY_ACCELERATION_STRUCTURE_MODE_SERIALIZE_KHR</code>,
<code>VK_COPY_ACCELERATION_STRUCTURE_MODE_DESERIALIZE_KHR</code>,
<a href="chap32.html#vkCmdCopyAccelerationStructureToMemoryKHR">vkCmdCopyAccelerationStructureToMemoryKHR</a>,
<a href="chap32.html#vkCmdCopyMemoryToAccelerationStructureKHR">vkCmdCopyMemoryToAccelerationStructureKHR</a>)</p>
</li>
<li>
<p>removed vkCompileDeferredNV compilation functionality and replaced with
<a href="chap30.html#deferred-host-operations">deferred host operations</a> interactions for
ray tracing</p>
</li>
<li>
<p>document <a href="chap32.html#acceleration-structure-inactive-prims">inactive primitives and
instances</a></p>
</li>
<li>
<p>added <a href="chap34.html#VkPhysicalDeviceRayTracingFeaturesKHR">VkPhysicalDeviceRayTracingFeaturesKHR</a> structure</p>
</li>
<li>
<p>extended <a href="chap35.html#VkPhysicalDeviceRayTracingPropertiesKHR">VkPhysicalDeviceRayTracingPropertiesKHR</a></p>
<div class="ulist">
<ul>
<li>
<p><code>maxRecursionDepth</code> has a minimum of 1 instead of 31</p>
</li>
<li>
<p>require <code>shaderGroupHandleSize</code> to be 32 bytes</p>
</li>
</ul>
</div>
</li>
<li>
<p>added indirect and batched acceleration structure builds
(<a href="chap32.html#vkCmdBuildAccelerationStructureIndirectKHR">vkCmdBuildAccelerationStructureIndirectKHR</a>)</p>
</li>
<li>
<p>added <a href="chap32.html#host-acceleration-structure">host acceleration structure</a>
commands</p>
</li>
<li>
<p>reworked geometry structures so they could be better shared between
device, host, and indirect builds</p>
</li>
<li>
<p>added <code>geometryArrayOfPointers</code> and made instances more like
triangles and AABBs.</p>
</li>
<li>
<p>changed SBT parameters to a structure and added size
(<a href="chap32.html#VkStridedBufferRegionKHR">VkStridedBufferRegionKHR</a>)</p>
</li>
<li>
<p>explicitly made <a href="chap11.html#VkAccelerationStructureKHR">VkAccelerationStructureKHR</a> use device addresses</p>
</li>
<li>
<p>added ability to capture and replay shader group handles and
acceleration structures</p>
</li>
<li>
<p>added acceleration structure compatibility check function
(<a href="chap32.html#vkGetDeviceAccelerationStructureCompatibilityKHR">vkGetDeviceAccelerationStructureCompatibilityKHR</a>)</p>
</li>
<li>
<p>add parameter for requesting memory requirements for host and/or device
build</p>
</li>
<li>
<p>added <a href="chap9.html#pipeline-library">pipeline library</a> support for ray tracing</p>
</li>
<li>
<p>added <a href="chap31.html#ray-traversal-watertight">watertightness guarantees</a></p>
</li>
<li>
<p>added format feature for acceleration structure build vertex formats
(<code>VK_FORMAT_FEATURE_ACCELERATION_STRUCTURE_VERTEX_BUFFER_BIT_KHR</code>)</p>
</li>
<li>
<p>added no-null-shader pipeline flags
(<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_*_SHADERS_BIT_KHR</code>)</p>
</li>
<li>
<p>added <a href="chap32.html#ray-tracing-shader-call">memory model interactions</a> with ray
tracing and define how subgroups work and can be repacked</p>
</li>
<li>
<p>added <a href="chap31.html#ray-traversal">ray query</a> and SPV_KHR_ray_query support</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_sample_code"><a class="anchor" href="#_sample_code"></a>Sample Code</h4>
<div class="paragraph">
<p>Example ray generation GLSL shader</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c"><span class="preprocessor">#version</span> <span class="integer">450</span> core
<span class="preprocessor">#extension</span> GL_EXT_ray_tracing : require
layout(set = <span class="integer">0</span>, binding = <span class="integer">0</span>, rgba8) uniform image2D image;
layout(set = <span class="integer">0</span>, binding = <span class="integer">1</span>) uniform accelerationStructureEXT as;
layout(location = <span class="integer">0</span>) rayPayloadEXT <span class="predefined-type">float</span> payload;

<span class="directive">void</span> main()
{
   vec4 col = vec4(<span class="integer">0</span>, <span class="integer">0</span>, <span class="integer">0</span>, <span class="integer">1</span>);

   vec3 origin = vec3(<span class="predefined-type">float</span>(gl_LaunchIDEXT.x)/<span class="predefined-type">float</span>(gl_LaunchSizeEXT.x), <span class="predefined-type">float</span>(gl_LaunchIDEXT.y)/<span class="predefined-type">float</span>(gl_LaunchSizeEXT.y), <span class="float">1</span><span class="float">.0</span>);
   vec3 dir = vec3(<span class="float">0</span><span class="float">.0</span>, <span class="float">0</span><span class="float">.0</span>, -<span class="float">1</span><span class="float">.0</span>);

   traceRayEXT(as, <span class="integer">0</span>, <span class="hex">0xff</span>, <span class="integer">0</span>, <span class="integer">1</span>, <span class="integer">0</span>, origin, <span class="float">0</span><span class="float">.0</span>, dir, <span class="integer">100</span><span class="float">0</span><span class="float">.0</span>, <span class="integer">0</span>);

   col.y = payload;

   imageStore(image, ivec2(gl_LaunchIDEXT.xy), col);
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_48"><a class="anchor" href="#_version_history_48"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-12-05 (Members of the Vulkan Ray Tracing TSG)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions (forked from NV_ray_tracing)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-12-20 (Daniel Koch, Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Add const version of DeviceOrHostAddress (!3515)</p>
</li>
<li>
<p>Add VU to clarify that only handles in the current pipeline are valid
(!3518)</p>
</li>
<li>
<p>Restore some missing VUs and add in-place update language (#1902,
!3522)</p>
</li>
<li>
<p>rename VkAccelerationStructureInstanceKHR member from
accelerationStructure to accelerationStructureReference to better
match its type (!3523)</p>
</li>
<li>
<p>Allow VK_ERROR_INVALID_OPAQUE_CAPTURE_ADDRESS for pipeline creation if
shader group handles cannot be re-used.
(!3523)</p>
</li>
<li>
<p>update documentation for the VK_ERROR_INVALID_OPAQUE_CAPTURE_ADDRESS
error code and add missing documentation for new return codes from
VK_KHR_deferred_host_operations (!3523)</p>
</li>
<li>
<p>list new query types for VK_KHR_ray_tracing (!3523)</p>
</li>
<li>
<p>Fix VU statements for VkAccelerationStructureGeometryKHR referring to
correct union members and update to use more current wording (!3523)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2020-01-10 (Daniel Koch, Jon Leech, Christoph Kubisch)</p>
<div class="ulist">
<ul>
<li>
<p>Fix 'instance of' and 'that/which contains/defines' markup issues
(!3528)</p>
</li>
<li>
<p>factor out VK_KHR_pipeline_library as stand-alone extension (!3540)</p>
</li>
<li>
<p>Resolve Vulkan-hpp issues (!3543)</p>
</li>
<li>
<p>add missing require for VkGeometryInstanceFlagsKHR</p>
</li>
<li>
<p>de-alias VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CREATE_INFO_NV
since the KHR structure is no longer equivalent</p>
</li>
<li>
<p>add len to pDataSize attribute for
vkWriteAccelerationStructuresPropertiesKHR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2020-01-23 (Daniel Koch, Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Improve vkWriteAccelerationStructuresPropertiesKHR, add return value
and VUs (#1947)</p>
</li>
<li>
<p>Clarify language to allow multiple raygen shaders (#1959)</p>
</li>
<li>
<p>Various editorial feedback (!3556)</p>
</li>
<li>
<p>Add language to help deal with looped self-intersecting fans (#1901)</p>
</li>
<li>
<p>Change vkCmdTraceRays{Indirect}KHR args to pointers (!3559)</p>
</li>
<li>
<p>Add scratch address validation language (#1941, !3551)</p>
</li>
<li>
<p>Fix definition and add hierarchy information for shader call scope
(#1977, !3571)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2020-02-04 (Eric Werness, Jeff Bolz, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>remove vestigial accelerationStructureUUID (!3582)</p>
</li>
<li>
<p>update definition of repack instructions and improve memory model
interactions (#1910, #1913, !3584)</p>
</li>
<li>
<p>Fix wrong sType for VkPhysicalDeviceRayTracingFeaturesKHR (#1988)</p>
</li>
<li>
<p>Use provisional SPIR-V capabilities (#1987)</p>
</li>
<li>
<p>require rayTracingPrimitiveCulling if rayQuery is supported (#1927)</p>
</li>
<li>
<p>Miss shaders do not have object parameters (!3592)</p>
</li>
<li>
<p>Fix missing required types in XML (!3592)</p>
</li>
<li>
<p>clarify matching conditions for update (!3592)</p>
</li>
<li>
<p>add goal that host and device builds be similar (!3592)</p>
</li>
<li>
<p>clarify that <code>maxPrimitiveCount</code> limit should apply to triangles
and AABBs (!3592)</p>
</li>
<li>
<p>Require alignment for instance arrayOfPointers (!3592)</p>
</li>
<li>
<p>Zero is a valid value for instance flags (!3592)</p>
</li>
<li>
<p>Add some alignment VUs that got lost in refactoring (!3592)</p>
</li>
<li>
<p>Recommend TMin epsilon rather than culling (!3592)</p>
</li>
<li>
<p>Get angle from dot product not cross product (!3592)</p>
</li>
<li>
<p>Clarify that AH can access the payload and attributes (!3592)</p>
</li>
<li>
<p>Match DXR behavior for inactive primitive definition (!3592)</p>
</li>
<li>
<p>Use a more generic term than degenerate for inactive to avoid
confusion (!3592)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2020-02-20 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>fix some dangling NV references (#1996)</p>
</li>
<li>
<p>rename VkCmdTraceRaysIndirectCommandKHR to
VkTraceRaysIndirectCommandKHR (!3607)</p>
</li>
<li>
<p>update contributor list (!3611)</p>
</li>
<li>
<p>use uint64_t instead of VkAccelerationStructureReferenceKHR in
VkAccelerationStructureInstanceKHR (#2004)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2020-02-28 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>remove HitTKHR SPIR-V builtin (spirv/spirv-extensions#7)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2020-03-06 (Tobias Hector, Dae Kim, Daniel Koch, Jeff Bolz,
Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>explicitly state that Tmax is updated when new closest intersection is
accepted (#2020,!3536)</p>
</li>
<li>
<p>Made references to min and max t values consistent (!3644)</p>
</li>
<li>
<p>finish enumerating differences relative to NV_ray_tracing in issues
(1) and (2) (#1974,!3642)</p>
</li>
<li>
<p>fix formatting in some math equations (!3642)</p>
</li>
<li>
<p>Restrict the Hit Kind operand of <code>OpReportIntersectionKHR</code> to
7-bits (spirv/spirv-extensions#8,!3646)</p>
</li>
<li>
<p>Say raytracing '<strong class="purple">should</strong>' be watertight (#2008,!3631)</p>
</li>
<li>
<p>Clarify memory requirements for ray tracing buffers (#2005,!3649)</p>
</li>
<li>
<p>Add callable size limits (#1997,!3652)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-extension-appendices-list"><a class="anchor" href="#deprecated-extension-appendices-list"></a>List of Deprecated Extensions</h3>
<div class="ulist">
<ul>
<li>
<p><code><a href="#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_descriptor_update_template">VK_KHR_descriptor_update_template</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_device_group">VK_KHR_device_group</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_fence">VK_KHR_external_fence</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_fence_capabilities">VK_KHR_external_fence_capabilities</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_maintenance2">VK_KHR_maintenance2</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_maintenance3">VK_KHR_maintenance3</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_multiview">VK_KHR_multiview</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_relaxed_block_layout">VK_KHR_relaxed_block_layout</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_shader_draw_parameters">VK_KHR_shader_draw_parameters</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a></code></p>
</li>
<li>
<p><code><a href="#VK_KHR_variable_pointers">VK_KHR_variable_pointers</a></code></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="VK_KHR_16bit_storage"><a class="anchor" href="#VK_KHR_16bit_storage"></a>VK_KHR_16bit_storage</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_16bit_storage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>84</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_16bit_storage:%20&amp;body=@janharaldfredriksen-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_49"><a class="anchor" href="#_other_extension_metadata_49"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_16bit_storage.html"><code>SPV_KHR_16bit_storage</code></a></p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, ARM</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Joerg Wagner, ARM</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_49"><a class="anchor" href="#_description_49"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_16bit_storage</code> extension allows use of 16-bit types in shader
input and output interfaces, and push constant blocks.
This extension introduces several new optional features which map to SPIR-V
capabilities and allow access to 16-bit data in <code>Block</code>-decorated objects
in the <code>Uniform</code> and the <code>StorageBuffer</code> storage classes, and objects
in the <code>PushConstant</code> storage class.
This extension allows 16-bit variables to be declared and used as
user-defined shader inputs and outputs but does not change location
assignment and component assignment rules.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_49"><a class="anchor" href="#_new_enum_constants_49"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_16BIT_STORAGE_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_39"><a class="anchor" href="#_new_structures_39"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDevice16BitStorageFeaturesKHR">VkPhysicalDevice16BitStorageFeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_11"><a class="anchor" href="#_new_spir_v_capabilities_11"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-16bitstorage"><code>StorageBuffer16BitAccess</code></a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-16bitstorage"><code>UniformAndStorageBuffer16BitAccess</code></a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-16bitstorage"><code>StoragePushConstant16</code></a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-16bitstorage"><code>StorageInputOutput16</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1"><a class="anchor" href="#_promotion_to_vulkan_1_1"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_40"><a class="anchor" href="#_issues_40"></a>Issues</h4>

</div>
<div class="sect3">
<h4 id="_version_history_49"><a class="anchor" href="#_version_history_49"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_bind_memory2"><a class="anchor" href="#VK_KHR_bind_memory2"></a>VK_KHR_bind_memory2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_bind_memory2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>158</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_bind_memory2:%20&amp;body=@tobski%20"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_50"><a class="anchor" href="#_other_extension_metadata_50"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_50"><a class="anchor" href="#_description_50"></a>Description</h4>
<div class="paragraph">
<p>This extension provides versions of <a href="chap11.html#vkBindBufferMemory">vkBindBufferMemory</a> and
<a href="chap11.html#vkBindImageMemory">vkBindImageMemory</a> that allow multiple bindings to be performed at
once, and are extensible.</p>
</div>
<div class="paragraph">
<p>This extension also introduces <code>VK_IMAGE_CREATE_ALIAS_BIT_KHR</code>, which
allows “identical” images that alias the same memory to interpret the
contents consistently, even across image layout changes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_38"><a class="anchor" href="#_new_object_types_38"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_50"><a class="anchor" href="#_new_enum_constants_50"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_BUFFER_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_ALIAS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_39"><a class="anchor" href="#_new_enums_39"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_40"><a class="anchor" href="#_new_structures_40"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkBindBufferMemoryInfoKHR">VkBindBufferMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindImageMemoryInfoKHR">VkBindImageMemoryInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_42"><a class="anchor" href="#_new_functions_42"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#vkBindBufferMemory2KHR">vkBindBufferMemory2KHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkBindImageMemory2KHR">vkBindImageMemory2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_3"><a class="anchor" href="#_new_built_in_variables_3"></a>New Built-In Variables</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_12"><a class="anchor" href="#_new_spir_v_capabilities_12"></a>New SPIR-V Capabilities</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_2"><a class="anchor" href="#_promotion_to_vulkan_1_1_2"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_41"><a class="anchor" href="#_issues_41"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_50"><a class="anchor" href="#_version_history_50"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-19 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Pulled bind memory functions into their own extension</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_dedicated_allocation"><a class="anchor" href="#VK_KHR_dedicated_allocation"></a>VK_KHR_dedicated_allocation</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_dedicated_allocation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>128</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_dedicated_allocation:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_51"><a class="anchor" href="#_other_extension_metadata_51"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_51"><a class="anchor" href="#_description_51"></a>Description</h4>
<div class="paragraph">
<p>This extension enables resources to be bound to a dedicated allocation,
rather than suballocated.
For any particular resource, applications <strong class="purple">can</strong> query whether a dedicated
allocation is recommended, in which case using a dedicated allocation <strong class="purple">may</strong>
improve the performance of access to that resource.
Normal device memory allocations must support multiple resources per
allocation, memory aliasing and sparse binding, which could interfere with
some optimizations.
Applications should query the implementation for when a dedicated allocation
<strong class="purple">may</strong> be beneficial by adding a <code>VkMemoryDedicatedRequirementsKHR</code>
structure to the <code>pNext</code> chain of the <code>VkMemoryRequirements2</code>
structure passed as the <code>pMemoryRequirements</code> parameter of a call to
<code>vkGetBufferMemoryRequirements2</code> or <code>vkGetImageMemoryRequirements2</code>.
Certain external handle types and external images or buffers <strong class="purple">may</strong> also
depend on dedicated allocations on implementations that associate image or
buffer metadata with OS-level memory objects.</p>
</div>
<div class="paragraph">
<p>This extension adds a two small structures to memory requirements querying
and memory allocation: a new structure that flags whether an image/buffer
should have a dedicated allocation, and a structure indicating the image or
buffer that an allocation will be bound to.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_39"><a class="anchor" href="#_new_object_types_39"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_51"><a class="anchor" href="#_new_enum_constants_51"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_DEDICATED_REQUIREMENTS_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_DEDICATED_ALLOCATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_40"><a class="anchor" href="#_new_enums_40"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_41"><a class="anchor" href="#_new_structures_41"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkMemoryDedicatedRequirementsKHR">VkMemoryDedicatedRequirementsKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryDedicatedAllocateInfoKHR">VkMemoryDedicatedAllocateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_43"><a class="anchor" href="#_new_functions_43"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_3"><a class="anchor" href="#_promotion_to_vulkan_1_1_3"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_42"><a class="anchor" href="#_issues_42"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_9"><a class="anchor" href="#_examples_9"></a>Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="comment">// Create an image with a dedicated allocation based on the</span>
    <span class="comment">// implementation's preference</span>

    VkImageCreateInfo imageCreateInfo =
    {
        <span class="comment">// Image creation parameters</span>
    };

    VkImage image;
    VkResult result = vkCreateImage(
        device,
        &amp;imageCreateInfo,
        <span class="predefined-constant">NULL</span>,                               <span class="comment">// pAllocator</span>
        &amp;image);

    VkMemoryDedicatedRequirementsKHR dedicatedRequirements =
    {
        VK_STRUCTURE_TYPE_MEMORY_DEDICATED_REQUIREMENTS_KHR,
        <span class="predefined-constant">NULL</span>,                               <span class="comment">// pNext</span>
    };

    VkMemoryRequirements2 memoryRequirements =
    {
        VK_STRUCTURE_TYPE_MEMORY_REQUIREMENTS_2,
        &amp;dedicatedRequirements,             <span class="comment">// pNext</span>
    };

    <span class="directive">const</span> VkImageMemoryRequirementsInfo2 imageRequirementsInfo =
    {
        VK_STRUCTURE_TYPE_IMAGE_MEMORY_REQUIREMENTS_INFO_2,
        <span class="predefined-constant">NULL</span>,                               <span class="comment">// pNext</span>
        image
    };

    vkGetImageMemoryRequirements2(
        device,
        &amp;imageRequirementsInfo,
        &amp;memoryRequirements);

    <span class="keyword">if</span> (dedicatedRequirements.prefersDedicatedAllocation) {
        <span class="comment">// Allocate memory with VkMemoryDedicatedAllocateInfoKHR::image</span>
        <span class="comment">// pointing to the image we are allocating the memory for</span>

        VkMemoryDedicatedAllocateInfoKHR dedicatedInfo =
        {
            VK_STRUCTURE_TYPE_MEMORY_DEDICATED_ALLOCATE_INFO_KHR,   <span class="comment">// sType</span>
            <span class="predefined-constant">NULL</span>,                                                   <span class="comment">// pNext</span>
            image,                                                  <span class="comment">// image</span>
            VK_NULL_HANDLE,                                         <span class="comment">// buffer</span>
        };

        VkMemoryAllocateInfo memoryAllocateInfo =
        {
            VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO,                 <span class="comment">// sType</span>
            &amp;dedicatedInfo,                                         <span class="comment">// pNext</span>
            memoryRequirements.size,                                <span class="comment">// allocationSize</span>
            FindMemoryTypeIndex(memoryRequirements.memoryTypeBits), <span class="comment">// memoryTypeIndex</span>
        };

        VkDeviceMemory memory;
        vkAllocateMemory(
            device,
            &amp;memoryAllocateInfo,
            <span class="predefined-constant">NULL</span>,                       <span class="comment">// pAllocator</span>
            &amp;memory);

        <span class="comment">// Bind the image to the memory</span>

        vkBindImageMemory(
            device,
            image,
            memory,
            <span class="integer">0</span>);
    } <span class="keyword">else</span> {
        <span class="comment">// Take the normal memory sub-allocation path</span>
    }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_51"><a class="anchor" href="#_version_history_51"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Copy content from VK_NV_dedicated_allocation</p>
</li>
<li>
<p>Add some references to external object interactions to the overview.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-03-27 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Rework the extension to be query-based</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-07-31 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify that memory objects created with
VkMemoryDedicatedAllocateInfoKHR can only have the specified resource
bound and no others.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_descriptor_update_template"><a class="anchor" href="#VK_KHR_descriptor_update_template"></a>VK_KHR_descriptor_update_template</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_descriptor_update_template</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>86</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Markus Tavenrath <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_descriptor_update_template:%20&amp;body=@mtavenrath%20"><span class="icon black"><i class="fa fa-github"></i></span>mtavenrath</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_52"><a class="anchor" href="#_other_extension_metadata_52"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code></p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_52"><a class="anchor" href="#_description_52"></a>Description</h4>
<div class="paragraph">
<p>Applications may wish to update a fixed set of descriptors in a large number
of descriptors sets very frequently, i.e. during initializaton phase or if
it is required to rebuild descriptor sets for each frame.
For those cases it is also not unlikely that all information required to
update a single descriptor set is stored in a single struct.
This extension provides a way to update a fixed set of descriptors in a
single <a href="chap13.html#VkDescriptorSet">VkDescriptorSet</a> with a pointer to a user defined data structure
describing the new descriptors.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_40"><a class="anchor" href="#_new_object_types_40"></a>New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><code>VkDescriptorUpdateTemplateKHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_52"><a class="anchor" href="#_new_enum_constants_52"></a>New Enum Constants</h4>
<div class="paragraph">
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_41"><a class="anchor" href="#_new_enums_41"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#VkDescriptorUpdateTemplateCreateFlagsKHR">VkDescriptorUpdateTemplateCreateFlagsKHR</a></p>
</li>
<li>
<p><a href="chap13.html#VkDescriptorUpdateTemplateTypeKHR">VkDescriptorUpdateTemplateTypeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_42"><a class="anchor" href="#_new_structures_42"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#VkDescriptorUpdateTemplateEntryKHR">VkDescriptorUpdateTemplateEntryKHR</a></p>
</li>
<li>
<p><a href="chap13.html#VkDescriptorUpdateTemplateCreateInfoKHR">VkDescriptorUpdateTemplateCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_44"><a class="anchor" href="#_new_functions_44"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#vkCreateDescriptorUpdateTemplateKHR">vkCreateDescriptorUpdateTemplateKHR</a></p>
</li>
<li>
<p><a href="chap13.html#vkDestroyDescriptorUpdateTemplateKHR">vkDestroyDescriptorUpdateTemplateKHR</a></p>
</li>
<li>
<p><a href="chap13.html#vkUpdateDescriptorSetWithTemplateKHR">vkUpdateDescriptorSetWithTemplateKHR</a></p>
</li>
<li>
<p><a href="chap13.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_4"><a class="anchor" href="#_promotion_to_vulkan_1_1_4"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p><a href="chap13.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a> is included as an interaction
with <code><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code>.
If Vulkan 1.1 and <code>VK_KHR_push_descriptor</code> are supported, this is included
by <code><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code>.</p>
</div>
<div class="paragraph">
<p>The base functionality in this extension is included in core Vulkan 1.1,
with the KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_52"><a class="anchor" href="#_version_history_52"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-01-11 (Markus Tavenrath)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_device_group"><a class="anchor" href="#VK_KHR_device_group"></a>VK_KHR_device_group</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_device_group</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>61</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_device_group:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_53"><a class="anchor" href="#_other_extension_metadata_53"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_53"><a class="anchor" href="#_description_53"></a>Description</h4>
<div class="paragraph">
<p>This extension provides functionality to use a logical device that consists
of multiple physical devices, as created with the
<code><a href="#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a></code> extension.
A device group can allocate memory across the subdevices, bind memory from
one subdevice to a resource on another subdevice, record command buffers
where some work executes on an arbitrary subset of the subdevices, and
potentially present a swapchain image from one or more subdevices.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_41"><a class="anchor" href="#_new_object_types_41"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_53"><a class="anchor" href="#_new_enum_constants_53"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_FLAGS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_RENDER_PASS_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_COMMAND_BUFFER_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_BIND_SPARSE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_SWAPCHAIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_BUFFER_MEMORY_DEVICE_GROUP_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_DEVICE_GROUP_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_VIEW_INDEX_FROM_DEVICE_INDEX_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DISPATCH_BASE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkDependencyFlagBits">VkDependencyFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPENDENCY_DEVICE_GROUP_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap29.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_42"><a class="anchor" href="#_new_enums_42"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkPeerMemoryFeatureFlagBitsKHR">VkPeerMemoryFeatureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryAllocateFlagBitsKHR">VkMemoryAllocateFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_43"><a class="anchor" href="#_new_structures_43"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkMemoryAllocateFlagsInfoKHR">VkMemoryAllocateFlagsInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkDeviceGroupRenderPassBeginInfoKHR">VkDeviceGroupRenderPassBeginInfoKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkDeviceGroupCommandBufferBeginInfoKHR">VkDeviceGroupCommandBufferBeginInfoKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkDeviceGroupSubmitInfoKHR">VkDeviceGroupSubmitInfoKHR</a></p>
</li>
<li>
<p><a href="chap28.html#VkDeviceGroupBindSparseInfoKHR">VkDeviceGroupBindSparseInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindBufferMemoryDeviceGroupInfoKHR">VkBindBufferMemoryDeviceGroupInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindImageMemoryDeviceGroupInfoKHR">VkBindImageMemoryDeviceGroupInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImageSwapchainCreateInfoKHR">VkImageSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindImageMemorySwapchainInfoKHR">VkBindImageMemorySwapchainInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_45"><a class="anchor" href="#_new_functions_45"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#vkGetDeviceGroupPeerMemoryFeaturesKHR">vkGetDeviceGroupPeerMemoryFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap5.html#vkCmdSetDeviceMaskKHR">vkCmdSetDeviceMaskKHR</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdDispatchBaseKHR">vkCmdDispatchBaseKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDeviceGroupPresentCapabilitiesKHR">vkGetDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDeviceGroupSurfacePresentModesKHR">vkGetDeviceGroupSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDevicePresentRectanglesKHR">vkGetPhysicalDevicePresentRectanglesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_4"><a class="anchor" href="#_new_built_in_variables_4"></a>New Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-deviceindex"><code>DeviceIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_13"><a class="anchor" href="#_new_spir_v_capabilities_13"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities"><code>DeviceGroup</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_5"><a class="anchor" href="#_promotion_to_vulkan_1_1_5"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>The following enums, types and commands are included as interactions with
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_SWAPCHAIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
<li>
<p><a href="chap29.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImageSwapchainCreateInfoKHR">VkImageSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindImageMemorySwapchainInfoKHR">VkBindImageMemorySwapchainInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDeviceGroupPresentCapabilitiesKHR">vkGetDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDeviceGroupSurfacePresentModesKHR">vkGetDeviceGroupSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDevicePresentRectanglesKHR">vkGetPhysicalDevicePresentRectanglesKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If Vulkan 1.1 and <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> are supported, these are included
by <code>VK_KHR_swapchain</code>.</p>
</div>
<div class="paragraph">
<p>The base functionality in this extension is included in core Vulkan 1.1,
with the KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_43"><a class="anchor" href="#_issues_43"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_10"><a class="anchor" href="#_examples_10"></a>Examples</h4>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_53"><a class="anchor" href="#_version_history_53"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-19 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-05-19 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Removed extended memory bind functions to VK_KHR_bind_memory2, added
dependency on that extension, and device-group-specific structs for
those functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-10-06 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected Vulkan 1.1 interactions with the WSI extensions.
All Vulkan 1.1 WSI interactions are with the VK_KHR_swapchain
extension.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2017-10-10 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Rename &quot;SFR&quot; bits and structure members to use the phrase &quot;split
instance bind regions&quot;.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_device_group_creation"><a class="anchor" href="#VK_KHR_device_group_creation"></a>VK_KHR_device_group_creation</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_device_group_creation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>71</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_device_group_creation:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_54"><a class="anchor" href="#_other_extension_metadata_54"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_54"><a class="anchor" href="#_description_54"></a>Description</h4>
<div class="paragraph">
<p>This extension provides instance-level commands to enumerate groups of
physical devices, and to create a logical device from a subset of one of
those groups.
Such a logical device can then be used with new features in the
<code><a href="#VK_KHR_device_group">VK_KHR_device_group</a></code> extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_42"><a class="anchor" href="#_new_object_types_42"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_54"><a class="anchor" href="#_new_enum_constants_54"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GROUP_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_DEVICE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkMemoryHeapFlagBits">VkMemoryHeapFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_HEAP_MULTI_INSTANCE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_43"><a class="anchor" href="#_new_enums_43"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_44"><a class="anchor" href="#_new_structures_44"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkPhysicalDeviceGroupPropertiesKHR">VkPhysicalDeviceGroupPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkDeviceGroupDeviceCreateInfoKHR">VkDeviceGroupDeviceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_46"><a class="anchor" href="#_new_functions_46"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#vkEnumeratePhysicalDeviceGroupsKHR">vkEnumeratePhysicalDeviceGroupsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_6"><a class="anchor" href="#_promotion_to_vulkan_1_1_6"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_44"><a class="anchor" href="#_issues_44"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_11"><a class="anchor" href="#_examples_11"></a>Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    VkDeviceCreateInfo devCreateInfo = { VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO };
    <span class="comment">// (not shown) fill out devCreateInfo as usual.</span>
    uint32_t deviceGroupCount = <span class="integer">0</span>;
    VkPhysicalDeviceGroupPropertiesKHR *props = <span class="predefined-constant">NULL</span>;

    <span class="comment">// Query the number of device groups</span>
    vkEnumeratePhysicalDeviceGroupsKHR(g_vkInstance, &amp;deviceGroupCount, <span class="predefined-constant">NULL</span>);

    <span class="comment">// Allocate and initialize structures to query the device groups</span>
    props = (VkPhysicalDeviceGroupPropertiesKHR *)malloc(deviceGroupCount*<span class="keyword">sizeof</span>(VkPhysicalDeviceGroupPropertiesKHR));
    <span class="keyword">for</span> (i = <span class="integer">0</span>; i &lt; deviceGroupCount; ++i) {
        props[i].sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GROUP_PROPERTIES_KHR;
        props[i].pNext = <span class="predefined-constant">NULL</span>;
    }
    vkEnumeratePhysicalDeviceGroupsKHR(g_vkInstance, &amp;deviceGroupCount, props);

    <span class="comment">// If the first device group has more than one physical device. create</span>
    <span class="comment">// a logical device using all of the physical devices.</span>
    VkDeviceGroupDeviceCreateInfoKHR deviceGroupInfo = { VK_STRUCTURE_TYPE_DEVICE_GROUP_DEVICE_CREATE_INFO_KHR };
    <span class="keyword">if</span> (props[<span class="integer">0</span>].physicalDeviceCount &gt; <span class="integer">1</span>) {
        deviceGroupInfo.physicalDeviceCount = props[<span class="integer">0</span>].physicalDeviceCount;
        deviceGroupInfo.pPhysicalDevices = props[<span class="integer">0</span>].physicalDevices;
        devCreateInfo.pNext = &amp;deviceGroupInfo;
    }

    vkCreateDevice(props[<span class="integer">0</span>].physicalDevices[<span class="integer">0</span>], &amp;devCreateInfo, <span class="predefined-constant">NULL</span>, &amp;g_vkDevice);
    free(props);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_54"><a class="anchor" href="#_version_history_54"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-19 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence"><a class="anchor" href="#VK_KHR_external_fence"></a>VK_KHR_external_fence</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>114</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_fence_capabilities">VK_KHR_external_fence_capabilities</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_fence:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_55"><a class="anchor" href="#_other_extension_metadata_55"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_55"><a class="anchor" href="#_description_55"></a>Description</h4>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to create fences from which non-Vulkan
handles that reference the underlying synchronization primitive can be
exported.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_43"><a class="anchor" href="#_new_object_types_43"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_55"><a class="anchor" href="#_new_enum_constants_55"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_FENCE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_44"><a class="anchor" href="#_new_enums_44"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkFenceImportFlagBitsKHR">VkFenceImportFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_10"><a class="anchor" href="#_new_structs_10"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkExportFenceCreateInfoKHR">VkExportFenceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_47"><a class="anchor" href="#_new_functions_47"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_7"><a class="anchor" href="#_promotion_to_vulkan_1_1_7"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_45"><a class="anchor" href="#_issues_45"></a>Issues</h4>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code>.
That extension’s issues apply equally to this extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_55"><a class="anchor" href="#_version_history_55"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence_capabilities"><a class="anchor" href="#VK_KHR_external_fence_capabilities"></a>VK_KHR_external_fence_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>113</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_fence_capabilities:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_56"><a class="anchor" href="#_other_extension_metadata_56"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_56"><a class="anchor" href="#_description_56"></a>Description</h4>
<div class="paragraph">
<p>An application may wish to reference device fences in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of “external” fence
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_44"><a class="anchor" href="#_new_object_types_44"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_56"><a class="anchor" href="#_new_enum_constants_56"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_FENCE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_FENCE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_45"><a class="anchor" href="#_new_enums_45"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#VkExternalFenceHandleTypeFlagBitsKHR">VkExternalFenceHandleTypeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkExternalFenceFeatureFlagBitsKHR">VkExternalFenceFeatureFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_11"><a class="anchor" href="#_new_structs_11"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#VkPhysicalDeviceExternalFenceInfoKHR">VkPhysicalDeviceExternalFenceInfoKHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkExternalFencePropertiesKHR">VkExternalFencePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPhysicalDeviceIDPropertiesKHR">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_48"><a class="anchor" href="#_new_functions_48"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#vkGetPhysicalDeviceExternalFencePropertiesKHR">vkGetPhysicalDeviceExternalFencePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_8"><a class="anchor" href="#_promotion_to_vulkan_1_1_8"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_46"><a class="anchor" href="#_issues_46"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_56"><a class="anchor" href="#_version_history_56"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory"><a class="anchor" href="#VK_KHR_external_memory"></a>VK_KHR_external_memory</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>73</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_memory:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_57"><a class="anchor" href="#_other_extension_metadata_57"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_NV_dedicated_allocation">[VK_NV_dedicated_allocation]</a></code>.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliot, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Chad Versace, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_57"><a class="anchor" href="#_description_57"></a>Description</h4>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export non-Vulkan handles from
Vulkan memory objects such that the underlying resources can be referenced
outside the scope of the Vulkan logical device that created them.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_45"><a class="anchor" href="#_new_object_types_45"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_57"><a class="anchor" href="#_new_enum_constants_57"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_BUFFER_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_IMAGE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_ALLOCATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_INVALID_EXTERNAL_HANDLE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_46"><a class="anchor" href="#_new_enums_46"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_12"><a class="anchor" href="#_new_structs_12"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkExternalMemoryImageCreateInfoKHR">VkExternalMemoryImageCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkExternalMemoryBufferCreateInfoKHR">VkExternalMemoryBufferCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkExportMemoryAllocateInfoKHR">VkExportMemoryAllocateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_49"><a class="anchor" href="#_new_functions_49"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_9"><a class="anchor" href="#_promotion_to_vulkan_1_1_9"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_47"><a class="anchor" href="#_issues_47"></a>Issues</h4>
<div class="paragraph">
<p>1) How do applications correlate two physical devices across process or
Vulkan instance boundaries?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: New device ID fields have been introduced by
<code><a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a></code>.
These fields, combined with the existing
<a href="chap4.html#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>driverVersion</code> field can be used to
identify compatible devices across processes, drivers, and APIs.
<a href="chap4.html#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>pipelineCacheUUID</code> is not sufficient
for this purpose because despite its description in the specification, it
need only identify a unique pipeline cache format in practice.
Multiple devices may be able to use the same pipeline cache data, and hence
it would be desirable for all of them to have the same pipeline cache UUID.
However, only the same concrete physical device can be used when sharing
memory, so an actual unique device ID was introduced.
Further, the pipeline cache UUID was specific to Vulkan, but correlation
with other, non-extensible APIs is required to enable interoperation with
those APIs.</p>
</div>
<div class="paragraph">
<p>2) If memory objects are shared between processes and APIs, is this
considered aliasing according to the rules outlined in the
<a href="chap11.html#resources-memory-aliasing">Memory Aliasing</a> section?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications must take care to obey all restrictions imposed on aliased
resources when using memory across multiple Vulkan instances or other APIs.</p>
</div>
<div class="paragraph">
<p>3) Are new image layouts or metadata required to specify image layouts and
layout transitions compatible with non-Vulkan APIs, or with other instances
of the same Vulkan driver?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Separate instances of the same Vulkan driver running on the same
GPU should have identical internal layout semantics, so applications have
the tools they need to ensure views of images are consistent between the two
instances.
Other APIs will fall into two categories: Those that are Vulkan- compatible,
and those that are Vulkan-incompatible.
Vulkan-incompatible APIs will require the image to be in the GENERAL layout
whenever they are accessing them.</p>
</div>
<div class="paragraph">
<p>Note this does not attempt to address cross-device transitions, nor
transitions to engines on the same device which are not visible within the
Vulkan API.
Both of these are beyond the scope of this extension.</p>
</div>
<div class="paragraph">
<p>4) Is a new barrier flag or operation of some type needed to prepare
external memory for handoff to another Vulkan instance or API and/or receive
it from another instance or API?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Some implementations need to perform additional cache management when
transitioning memory between address spaces, and other APIs, instances, or
processes may operate in a separate address space.
Options for defining this transition include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A new structure that can be added to the <code>pNext</code> list in
<a href="chap6.html#VkMemoryBarrier">VkMemoryBarrier</a>, <a href="chap6.html#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a>, and
<a href="chap6.html#VkImageMemoryBarrier">VkImageMemoryBarrier</a>.</p>
</li>
<li>
<p>A new bit in <a href="chap6.html#VkAccessFlags">VkAccessFlags</a> that can be set to indicate an
“external” access.</p>
</li>
<li>
<p>A new bit in <a href="chap6.html#VkDependencyFlags">VkDependencyFlags</a></p>
</li>
<li>
<p>A new special queue family that represents an “external” queue.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A new structure has the advantage that the type of external transition can
be described in as much detail as necessary.
However, there is not currently a known need for anything beyond
differentiating between external and internal accesses, so this is likely an
over-engineered solution.
The access flag bit has the advantage that it can be applied at buffer,
image, or global granularity, and semantically it maps pretty well to the
operation being described.
Additionally, the API already includes <code>VK_ACCESS_MEMORY_READ_BIT</code> and
<code>VK_ACCESS_MEMORY_WRITE_BIT</code> which appear to be intended for this
purpose.
However, there is no obvious pipeline stage that would correspond to an
external access, and therefore no clear way to use
<code>VK_ACCESS_MEMORY_READ_BIT</code> or <code>VK_ACCESS_MEMORY_WRITE_BIT</code>.
<a href="chap6.html#VkDependencyFlags">VkDependencyFlags</a> and <a href="chap6.html#VkPipelineStageFlags">VkPipelineStageFlags</a> operate at command
granularity rather than image or buffer granularity, which would make an
entire pipeline barrier an internal→external or external→internal barrier.
This may not be a problem in practice, but seems like the wrong scope.
Another downside of <a href="chap6.html#VkDependencyFlags">VkDependencyFlags</a> is that it lacks inherent
directionality: There are not <code>src</code> and <code>dst</code> variants of it in the
barrier or dependency description semantics, so two bits might need to be
added to describe both internal→external and external→internal
transitions.
Transitioning a resource to a special queue family corresponds well with the
operation of transitioning to a separate Vulkan instance, in that both
operations ideally include scheduling a barrier on both sides of the
transition: Both the releasing and the acquiring queue or process.
Using a special queue family requires adding an additional reserved queue
family index.
Re-using <code>VK_QUEUE_FAMILY_IGNORED</code> would have left it unclear how to
transition a concurrent usage resource from one process to another, since
the semantics would have likely been equivalent to the currently-ignored
transition of
<code>VK_QUEUE_FAMILY_IGNORED</code> → <code>VK_QUEUE_FAMILY_IGNORED</code>.
Fortunately, creating a new reserved queue family index is not invasive.</p>
</div>
<div class="paragraph">
<p>Based on the above analysis, the approach of transitioning to a special
“external” queue family was chosen.</p>
</div>
<div class="paragraph">
<p>5) Do internal driver memory arrangements and/or other internal driver image
properties need to be exported and imported when sharing images across
processes or APIs.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Some vendors claim this is necessary on their implementations,
but it was determined that the security risks of allowing opaque meta data
to be passed from applications to the driver were too high.
Therefore, implementations which require metadata will need to associate it
with the objects represented by the external handles, and rely on the
dedicated allocation mechanism to associate the exported and imported memory
objects with a single image or buffer.</p>
</div>
<div class="paragraph">
<p>6) Most prior interoperation and cross-process sharing APIs have been based
on image-level sharing.
Should Vulkan sharing be based on memory-object sharing or image sharing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: These extensions have assumed memory-level sharing is the
correct granularity.
Vulkan is a lower-level API than most prior APIs, and as such attempts to
closely align with to the underlying primitives of the hardware and
system-level drivers it abstracts.
In general, the resource that holds the backing store for both images and
buffers of various types is memory.
Images and buffers are merely metadata containing brief descriptions of the
layout of bits within that memory.</p>
</div>
<div class="paragraph">
<p>Because memory object-based sharing is aligned with the overall Vulkan API
design, it exposes the full power of Vulkan on external objects.
External memory can be used as backing for sparse images, for example,
whereas such usage would be awkward at best with a sharing mechanism based
on higher-level primitives such as images.
Further, aligning the mechanism with the API in this way provides some hope
of trivial compatibility with future API enhancements.
If new objects backed by memory objects are added to the API, they too can
be used across processes with minimal additions to the base external memory
APIs.</p>
</div>
<div class="paragraph">
<p>Earlier APIs implemented interop at a higher level, and this necessitated
entirely separate sharing APIs for images and buffers.
To co-exist and interoperate with those APIs, the Vulkan external sharing
mechanism must accommodate their model.
However, if it can be agreed that memory-based sharing is the more desirable
and forward-looking design, legacy interoperation considerations can be
considered another reason to favor memory-based sharing: While native and
legacy driver primitives that may be used to implement sharing may not be as
low-level as the API here suggests, raw memory is still the least common
denominator among the types.
Image-based sharing can be cleanly derived from a set of base memory- object
sharing APIs with minimal effort, whereas image-based sharing does not
generalize well to buffer or raw-memory sharing.
Therefore, following the general Vulkan design principle of minimalism, it
is better to expose even interopability with image-based native and external
primitives via the memory sharing API, and place sufficient limits on their
usage to ensure they can be used only as backing for equivalent Vulkan
images.
This provides a consistent API for applications regardless of which platform
or external API they are targeting, which makes development of multi-API and
multi-platform applications simpler.</p>
</div>
<div class="paragraph">
<p>7) Should Vulkan define a common external handle type and provide Vulkan
functions to facilitate cross-process sharing of such handles rather than
relying on native handles to define the external objects?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Cross-process sharing of resources is best left to native platforms.
There are myriad security and extensibility issues with such a mechanism,
and attempting to re-solve all those issues within Vulkan does not align
with Vulkan’s purpose as a graphics API.
If desired, such a mechanism could be built as a layer or helper library on
top of the opaque native handle defined in this family of extensions.</p>
</div>
<div class="paragraph">
<p>8) Must implementations provide additional guarantees about state implicitly
included in memory objects for those memory objects that may be exported?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must ensure that sharing memory objects does not
transfer any information between the exporting and importing instances and
APIs other than that required to share the data contained in the memory
objects explicitly shared.
As specific examples, data from previously freed memory objects that used
the same underlying physical memory, and data from memory obects using
adjacent physical memory must not be visible to applications importing an
exported memory object.</p>
</div>
<div class="paragraph">
<p>9) Must implementations validate external handles the application provides
as input to memory import operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must return an error to the application if the
provided memory handle cannot be used to complete the requested import
operation.
However, implementations need not validate handles are of the exact type
specified by the application.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_57"><a class="anchor" href="#_version_history_57"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory_capabilities"><a class="anchor" href="#VK_KHR_external_memory_capabilities"></a>VK_KHR_external_memory_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>72</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_memory_capabilities:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_58"><a class="anchor" href="#_other_extension_metadata_58"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-17</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_NV_dedicated_allocation">[VK_NV_dedicated_allocation]</a></code>.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliot, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_58"><a class="anchor" href="#_description_58"></a>Description</h4>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of “external” memory
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_46"><a class="anchor" href="#_new_object_types_46"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_58"><a class="anchor" href="#_new_enum_constants_58"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_IMAGE_FORMAT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_IMAGE_FORMAT_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_BUFFER_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_BUFFER_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_47"><a class="anchor" href="#_new_enums_47"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#VkExternalMemoryHandleTypeFlagBitsKHR">VkExternalMemoryHandleTypeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkExternalMemoryFeatureFlagBitsKHR">VkExternalMemoryFeatureFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_13"><a class="anchor" href="#_new_structs_13"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#VkExternalMemoryPropertiesKHR">VkExternalMemoryPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkPhysicalDeviceExternalImageFormatInfoKHR">VkPhysicalDeviceExternalImageFormatInfoKHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkExternalImageFormatPropertiesKHR">VkExternalImageFormatPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkPhysicalDeviceExternalBufferInfoKHR">VkPhysicalDeviceExternalBufferInfoKHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkExternalBufferPropertiesKHR">VkExternalBufferPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPhysicalDeviceIDPropertiesKHR">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_50"><a class="anchor" href="#_new_functions_50"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#vkGetPhysicalDeviceExternalBufferPropertiesKHR">vkGetPhysicalDeviceExternalBufferPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_10"><a class="anchor" href="#_promotion_to_vulkan_1_1_10"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_48"><a class="anchor" href="#_issues_48"></a>Issues</h4>
<div class="paragraph">
<p>1) Why do so many external memory capabilities need to be queried on a
per-memory-handle-type basis?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: This is because some handle types are based on
OS-native objects that have far more limited capabilities than the very
generic Vulkan memory objects.
Not all memory handle types can name memory objects that support 3D images,
for example.
Some handle types cannot even support the deferred image and memory binding
behavior of Vulkan and require specifying the image when allocating or
importing the memory object.</p>
</div>
<div class="paragraph">
<p>2) Do the <a href="chap37.html#VkExternalImageFormatPropertiesKHR">VkExternalImageFormatPropertiesKHR</a> and
<a href="chap37.html#VkExternalBufferPropertiesKHR">VkExternalBufferPropertiesKHR</a> structs need to include a list of memory
type bits that support the given handle type?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No.
The memory types that don’t support the handle types will simply be filtered
out of the results returned by <a href="chap11.html#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a> and
<a href="chap11.html#vkGetBufferMemoryRequirements">vkGetBufferMemoryRequirements</a> when a set of handle types was specified
at image or buffer creation time.</p>
</div>
<div class="paragraph">
<p>3) Should the non-opaque handle types be moved to their own extension?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Perhaps.
However, defining the handle type bits does very little and does not require
any platform-specific types on its own, and it’s easier to maintain the
bitfield values in a single extension for now.
Presumably more handle types could be added by separate extensions though,
and it would be midly weird to have some platform-specific ones defined in
the core spec and some in extensions</p>
</div>
<div class="paragraph">
<p>4) Do we need a <code>D3D11_TILEPOOL</code> type?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No.
This is technically possible, but the synchronization is awkward.
D3D11 surfaces must be synchronized using shared mutexes, and these
synchronization primitives are shared by the entire memory object, so D3D11
shared allocations divided among multiple buffer and image bindings may be
difficult to synchronize.</p>
</div>
<div class="paragraph">
<p>5) Should the Windows 7-compatible handle types be named “KMT” handles or
“GLOBAL_SHARE” handles?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: KMT, simply because it is more concise.</p>
</div>
<div class="paragraph">
<p>6) How do applications identify compatible devices and drivers across
instance, process, and API boundaries when sharing memory?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: New device properties are exposed that allow
applications to correctly correlate devices and drivers.
A device and driver UUID that must both match to ensure sharing
compatibility between two Vulkan instances, or a Vulkan instance and an
extensible external API are added.
To allow correlating with Direct3D devices, a device LUID is added that
corresponds to a DXGI adapter LUID.
A driver ID is not needed for Direct3D because mismatched driver component
versions are not a currently supported configuration on the Windows OS.
Should support for such configurations be introduced at the OS level,
further Vulkan extensions would be needed to correlate userspace component
builds.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_58"><a class="anchor" href="#_version_history_58"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore"><a class="anchor" href="#VK_KHR_external_semaphore"></a>VK_KHR_external_semaphore</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>78</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_semaphore:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_59"><a class="anchor" href="#_other_extension_metadata_59"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Chad Versace, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_59"><a class="anchor" href="#_description_59"></a>Description</h4>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to create semaphores from which
non-Vulkan handles that reference the underlying synchronization primitive
can be exported.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_47"><a class="anchor" href="#_new_object_types_47"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_59"><a class="anchor" href="#_new_enum_constants_59"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_SEMAPHORE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_INVALID_EXTERNAL_HANDLE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_48"><a class="anchor" href="#_new_enums_48"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkSemaphoreImportFlagBitsKHR">VkSemaphoreImportFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_14"><a class="anchor" href="#_new_structs_14"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkExportSemaphoreCreateInfoKHR">VkExportSemaphoreCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_51"><a class="anchor" href="#_new_functions_51"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_11"><a class="anchor" href="#_promotion_to_vulkan_1_1_11"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_49"><a class="anchor" href="#_issues_49"></a>Issues</h4>
<div class="paragraph">
<p>1) Should there be restrictions on what side effects can occur when waiting
on imported semaphores that are in an invalid state?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Normally, validating such state would be the responsibility of the
application, and the implementation would be free to enter an undefined
state if valid usage rules were violated.
However, this could cause security concerns when using imported semaphores,
as it would require the importing application to trust the exporting
application to ensure the state is valid.
Requiring this level of trust is undesirable for many potential use cases.</p>
</div>
<div class="paragraph">
<p>2) Must implementations validate external handles the application provides
as input to semaphore state import operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must return an error to the application if the
provided semaphore state handle cannot be used to complete the requested
import operation.
However, implementations need not validate handles are of the exact type
specified by the application.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_59"><a class="anchor" href="#_version_history_59"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore_capabilities"><a class="anchor" href="#VK_KHR_external_semaphore_capabilities"></a>VK_KHR_external_semaphore_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>77</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_semaphore_capabilities:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_60"><a class="anchor" href="#_other_extension_metadata_60"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_60"><a class="anchor" href="#_description_60"></a>Description</h4>
<div class="paragraph">
<p>An application may wish to reference device semaphores in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of “external” semaphore
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_48"><a class="anchor" href="#_new_object_types_48"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_60"><a class="anchor" href="#_new_enum_constants_60"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_SEMAPHORE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_SEMAPHORE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_49"><a class="anchor" href="#_new_enums_49"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#VkExternalSemaphoreHandleTypeFlagBitsKHR">VkExternalSemaphoreHandleTypeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkExternalSemaphoreFeatureFlagBitsKHR">VkExternalSemaphoreFeatureFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_15"><a class="anchor" href="#_new_structs_15"></a>New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#VkPhysicalDeviceExternalSemaphoreInfoKHR">VkPhysicalDeviceExternalSemaphoreInfoKHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkExternalSemaphorePropertiesKHR">VkExternalSemaphorePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPhysicalDeviceIDPropertiesKHR">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_52"><a class="anchor" href="#_new_functions_52"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#vkGetPhysicalDeviceExternalSemaphorePropertiesKHR">vkGetPhysicalDeviceExternalSemaphorePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_12"><a class="anchor" href="#_promotion_to_vulkan_1_1_12"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_50"><a class="anchor" href="#_issues_50"></a>Issues</h4>

</div>
<div class="sect3">
<h4 id="_version_history_60"><a class="anchor" href="#_version_history_60"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_memory_requirements2"><a class="anchor" href="#VK_KHR_get_memory_requirements2"></a>VK_KHR_get_memory_requirements2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_memory_requirements2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>147</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_get_memory_requirements2:%20&amp;body=@jekstrand%20"><span class="icon black"><i class="fa fa-github"></i></span>jekstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_61"><a class="anchor" href="#_other_extension_metadata_61"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_61"><a class="anchor" href="#_description_61"></a>Description</h4>
<div class="paragraph">
<p>This extension provides new entry points to query memory requirements of
images and buffers in a way that can be easily extended by other extensions,
without introducing any further entry points.
The Vulkan 1.0 <a href="chap11.html#VkMemoryRequirements">VkMemoryRequirements</a> and
<a href="chap28.html#VkSparseImageMemoryRequirements">VkSparseImageMemoryRequirements</a> structures do not include <code>sType</code>
and <code>pNext</code> members.
This extension wraps them in new structures with these members, so an
application can query a chain of memory requirements structures by
constructing the chain and letting the implementation fill them in.
A new command is added for each <code>vkGet*MemoryRequrements</code> command in
core Vulkan 1.0.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_49"><a class="anchor" href="#_new_object_types_49"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_61"><a class="anchor" href="#_new_enum_constants_61"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SPARSE_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_REQUIREMENTS_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SPARSE_IMAGE_MEMORY_REQUIREMENTS_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_50"><a class="anchor" href="#_new_enums_50"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_45"><a class="anchor" href="#_new_structures_45"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkBufferMemoryRequirementsInfo2KHR">VkBufferMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImageMemoryRequirementsInfo2KHR">VkImageMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="chap28.html#VkImageSparseMemoryRequirementsInfo2KHR">VkImageSparseMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkMemoryRequirements2KHR">VkMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="chap28.html#VkSparseImageMemoryRequirements2KHR">VkSparseImageMemoryRequirements2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_53"><a class="anchor" href="#_new_functions_53"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#vkGetImageMemoryRequirements2KHR">vkGetImageMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkGetBufferMemoryRequirements2KHR">vkGetBufferMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="chap28.html#vkGetImageSparseMemoryRequirements2KHR">vkGetImageSparseMemoryRequirements2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_13"><a class="anchor" href="#_promotion_to_vulkan_1_1_13"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_51"><a class="anchor" href="#_issues_51"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_61"><a class="anchor" href="#_version_history_61"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_physical_device_properties2"><a class="anchor" href="#VK_KHR_get_physical_device_properties2"></a>VK_KHR_get_physical_device_properties2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_physical_device_properties2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>60</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_get_physical_device_properties2:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_62"><a class="anchor" href="#_other_extension_metadata_62"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_62"><a class="anchor" href="#_description_62"></a>Description</h4>
<div class="paragraph">
<p>This extension provides new entry points to query device features, device
properties, and format properties in a way that can be easily extended by
other extensions, without introducing any further entry points.
The Vulkan 1.0 feature/limit/formatproperty structures do not include
<code>sType</code>/<code>pNext</code> members.
This extension wraps them in new structures with <code>sType</code>/<code>pNext</code>
members, so an application can query a chain of feature/limit/formatproperty
structures by constructing the chain and letting the implementation fill
them in.
A new command is added for each <code>vkGetPhysicalDevice*</code> command in core
Vulkan 1.0.
The new feature structure (and a chain of extension structures) can also be
passed in to device creation to enable features.</p>
</div>
<div class="paragraph">
<p>This extension also allows applications to use the physical-device
components of device extensions before <a href="chap4.html#vkCreateDevice">vkCreateDevice</a> is called.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_50"><a class="anchor" href="#_new_object_types_50"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_62"><a class="anchor" href="#_new_enum_constants_62"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SPARSE_IMAGE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SPARSE_IMAGE_FORMAT_INFO_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_51"><a class="anchor" href="#_new_enums_51"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_46"><a class="anchor" href="#_new_structures_46"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceFeatures2KHR">VkPhysicalDeviceFeatures2KHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPhysicalDeviceProperties2KHR">VkPhysicalDeviceProperties2KHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkFormatProperties2KHR">VkFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkImageFormatProperties2KHR">VkImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkPhysicalDeviceImageFormatInfo2KHR">VkPhysicalDeviceImageFormatInfo2KHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkQueueFamilyProperties2KHR">VkQueueFamilyProperties2KHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkPhysicalDeviceMemoryProperties2KHR">VkPhysicalDeviceMemoryProperties2KHR</a></p>
</li>
<li>
<p><a href="chap28.html#VkSparseImageFormatProperties2KHR">VkSparseImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap28.html#VkPhysicalDeviceSparseImageFormatInfo2KHR">VkPhysicalDeviceSparseImageFormatInfo2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_54"><a class="anchor" href="#_new_functions_54"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#vkGetPhysicalDeviceFeatures2KHR">vkGetPhysicalDeviceFeatures2KHR</a></p>
</li>
<li>
<p><a href="chap4.html#vkGetPhysicalDeviceProperties2KHR">vkGetPhysicalDeviceProperties2KHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkGetPhysicalDeviceFormatProperties2KHR">vkGetPhysicalDeviceFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap37.html#vkGetPhysicalDeviceImageFormatProperties2KHR">vkGetPhysicalDeviceImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap4.html#vkGetPhysicalDeviceQueueFamilyProperties2KHR">vkGetPhysicalDeviceQueueFamilyProperties2KHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetPhysicalDeviceMemoryProperties2KHR">vkGetPhysicalDeviceMemoryProperties2KHR</a></p>
</li>
<li>
<p><a href="chap28.html#vkGetPhysicalDeviceSparseImageFormatProperties2KHR">vkGetPhysicalDeviceSparseImageFormatProperties2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_14"><a class="anchor" href="#_promotion_to_vulkan_1_1_14"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_52"><a class="anchor" href="#_issues_52"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_12"><a class="anchor" href="#_examples_12"></a>Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="comment">// Get features with a hypothetical future extension.</span>
    VkHypotheticalExtensionFeaturesKHR hypotheticalFeatures =
    {
        VK_STRUCTURE_TYPE_HYPOTHETICAL_FEATURES_KHR,                            <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                                                   <span class="comment">// pNext</span>
    };

    VkPhysicalDeviceFeatures2KHR features =
    {
        VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR,                       <span class="comment">// sType</span>
        &amp;hypotheticalFeatures,                                                  <span class="comment">// pNext</span>
    };

    <span class="comment">// After this call, features and hypotheticalFeatures have been filled out.</span>
    vkGetPhysicalDeviceFeatures2KHR(physicalDevice, &amp;features);

    <span class="comment">// Properties/limits can be chained and queried similarly.</span>

    <span class="comment">// Enable some features:</span>
    VkHypotheticalExtensionFeaturesKHR enabledHypotheticalFeatures =
    {
        VK_STRUCTURE_TYPE_HYPOTHETICAL_FEATURES_KHR,                            <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                                                   <span class="comment">// pNext</span>
    };

    VkPhysicalDeviceFeatures2KHR enabledFeatures =
    {
        VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR,                       <span class="comment">// sType</span>
        &amp;enabledHypotheticalFeatures,                                           <span class="comment">// pNext</span>
    };

    enabledFeatures.features.xyz = VK_TRUE;
    enabledHypotheticalFeatures.abc = VK_TRUE;

    VkDeviceCreateInfo deviceCreateInfo =
    {
        VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO,                                   <span class="comment">// sType</span>
        &amp;enabledFeatures,                                                       <span class="comment">// pNext</span>
        ...
        <span class="predefined-constant">NULL</span>,                                                                   <span class="comment">// pEnabledFeatures</span>
    }

    VkDevice device;
    vkCreateDevice(physicalDevice, &amp;deviceCreateInfo, <span class="predefined-constant">NULL</span>, &amp;device);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_62"><a class="anchor" href="#_version_history_62"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-09-12 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2016-11-02 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Added ability for applications to use the physical-device components of
device extensions before vkCreateDevice is called.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance1"><a class="anchor" href="#VK_KHR_maintenance1"></a>VK_KHR_maintenance1</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>70</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_maintenance1:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_63"><a class="anchor" href="#_other_extension_metadata_63"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-13</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Neil Henning, Codeplay Software Ltd.</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_63"><a class="anchor" href="#_description_63"></a>Description</h4>
<div class="paragraph">
<p><code>VK_KHR_maintenance1</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow 2D and 2D array image views to be created from 3D images, which
can then be used as color framebuffer attachments.
This allows applications to render to slices of a 3D image.</p>
</li>
<li>
<p>Support <a href="chap18.html#vkCmdCopyImage">vkCmdCopyImage</a> between 2D array layers and 3D slices.
This extension allows copying from layers of a 2D array image to slices
of a 3D image and vice versa.</p>
</li>
<li>
<p>Allow negative height to be specified in the
<a href="chap23.html#VkViewport">VkViewport</a>::<code>height</code> field to perform y-inversion of the
clip-space to framebuffer-space transform.
This allows apps to avoid having to use <code>gl_Position.y = -gl_Position.y</code>
in shaders also targeting other APIs.</p>
</li>
<li>
<p>Allow implementations to express support for doing just transfers and
clears of image formats that they otherwise support no other format
features for.
This is done by adding new format feature flags
<code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code> and
<code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>.</p>
</li>
<li>
<p>Support <a href="chap17.html#vkCmdFillBuffer">vkCmdFillBuffer</a> on transfer-only queues.
Previously <a href="chap17.html#vkCmdFillBuffer">vkCmdFillBuffer</a> was defined to only work on command
buffers allocated from command pools which support graphics or compute
queues.
It is now allowed on queues that just support transfer operations.</p>
</li>
<li>
<p>Fix the inconsistency of how error conditions are returned between the
<a href="chap9.html#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a> and <a href="chap9.html#vkCreateComputePipelines">vkCreateComputePipelines</a>
functions and the <a href="chap13.html#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a> and
<a href="chap5.html#vkAllocateCommandBuffers">vkAllocateCommandBuffers</a> functions.</p>
</li>
<li>
<p>Add new <code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code> error so implementations
can give a more precise reason for <a href="chap13.html#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a>
failures.</p>
</li>
<li>
<p>Add a new command <a href="chap5.html#vkTrimCommandPoolKHR">vkTrimCommandPoolKHR</a> which gives the
implementation an opportunity to release any unused command pool memory
back to the system.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_51"><a class="anchor" href="#_new_object_types_51"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_63"><a class="anchor" href="#_new_enum_constants_63"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_52"><a class="anchor" href="#_new_enums_52"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_47"><a class="anchor" href="#_new_structures_47"></a>New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_55"><a class="anchor" href="#_new_functions_55"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#vkTrimCommandPoolKHR">vkTrimCommandPoolKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_15"><a class="anchor" href="#_promotion_to_vulkan_1_1_15"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_53"><a class="anchor" href="#_issues_53"></a>Issues</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Are viewports with zero height allowed?</p>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, although they have low utility.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_63"><a class="anchor" href="#_version_history_63"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-26 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-03-13 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add issue for zero-height viewports</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance2"><a class="anchor" href="#VK_KHR_maintenance2"></a>VK_KHR_maintenance2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>118</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Michael Worcester <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_maintenance2:%20&amp;body=@michaelworcester%20"><span class="icon black"><i class="fa fa-github"></i></span>michaelworcester</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_64"><a class="anchor" href="#_other_extension_metadata_64"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Stuart Smith, Imagination Technologies</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_64"><a class="anchor" href="#_description_64"></a>Description</h4>
<div class="paragraph">
<p><code>VK_KHR_maintenance2</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow the application to specify which aspect of an input attachment
might be read for a given subpass.</p>
</li>
<li>
<p>Allow implementations to express the clipping behavior of points.</p>
</li>
<li>
<p>Allow creating images with usage flags that may not be supported for the
base image’s format, but are supported for image views of the image that
have a different but compatible format.</p>
</li>
<li>
<p>Allow creating uncompressed image views of compressed images.</p>
</li>
<li>
<p>Allow the application to select between an upper-left and lower-left
origin for the tessellation domain space.</p>
</li>
<li>
<p>Adds two new image layouts for depth stencil images to allow either the
depth or stencil aspect to be read-only while the other aspect is
writable.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_input_attachment_specification"><a class="anchor" href="#_input_attachment_specification"></a>Input Attachment Specification</h4>
<div class="paragraph">
<p>Input attachment specification allows an application to specify which aspect
of a multi-aspect image (e.g. a combined depth stencil format) will be
accessed via a <code>subpassLoad</code> operation.</p>
</div>
<div class="paragraph">
<p>On some implementations there <strong class="purple">may</strong> be a performance penalty if the
implementation does not know (at <a href="chap7.html#vkCreateRenderPass">vkCreateRenderPass</a> time) which
aspect(s) of multi-aspect images <strong class="purple">can</strong> be accessed as input attachments.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_52"><a class="anchor" href="#_new_object_types_52"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_64"><a class="anchor" href="#_new_enum_constants_64"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_INPUT_ATTACHMENT_ASPECT_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_POINT_CLIPPING_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_USAGE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_DOMAIN_ORIGIN_STATE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_BLOCK_TEXEL_VIEW_COMPATIBLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_EXTENDED_USAGE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageLayout">VkImageLayout</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_ALL_CLIP_PLANES_KHR</code></p>
</li>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_USER_CLIP_PLANES_ONLY_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_53"><a class="anchor" href="#_new_enums_53"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap23.html#VkPointClippingBehaviorKHR">VkPointClippingBehaviorKHR</a></p>
</li>
<li>
<p><a href="chap21.html#VkTessellationDomainOriginKHR">VkTessellationDomainOriginKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_48"><a class="anchor" href="#_new_structures_48"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDevicePointClippingPropertiesKHR">VkPhysicalDevicePointClippingPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkRenderPassInputAttachmentAspectCreateInfoKHR">VkRenderPassInputAttachmentAspectCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkInputAttachmentAspectReferenceKHR">VkInputAttachmentAspectReferenceKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImageViewUsageCreateInfoKHR">VkImageViewUsageCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap21.html#VkPipelineTessellationDomainOriginStateCreateInfoKHR">VkPipelineTessellationDomainOriginStateCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_56"><a class="anchor" href="#_new_functions_56"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_16"><a class="anchor" href="#_promotion_to_vulkan_1_1_16"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_input_attachment_specification_example"><a class="anchor" href="#_input_attachment_specification_example"></a>Input Attachment Specification Example</h4>
<div class="paragraph">
<p>Consider the case where a render pass has two subpasses and two attachments.</p>
</div>
<div class="paragraph">
<p>Attachment 0 has the format <code>VK_FORMAT_D24_UNORM_S8_UINT</code>, attachment 1
has some color format.</p>
</div>
<div class="paragraph">
<p>Subpass 0 writes to attachment 0, subpass 1 reads only the depth information
from attachment 0 (using inputAttachmentRead) and writes to attachment 1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    VkInputAttachmentAspectReferenceKHR references[] = {
        {
            .subpass = <span class="integer">1</span>,
            .inputAttachmentIndex = <span class="integer">0</span>,
            .aspectMask = VK_IMAGE_ASPECT_DEPTH_BIT
        }
    };

    VkRenderPassInputAttachmentAspectCreateInfoKHR specifyAspects = {
        .sType = VK_STRUCTURE_TYPE_RENDER_PASS_INPUT_ATTACHMENT_ASPECT_CREATE_INFO_KHR,
        .pNext = <span class="predefined-constant">NULL</span>,
        .aspectReferenceCount = <span class="integer">1</span>,
        .pAspectReferences = references
    };


    VkRenderPassCreateInfo createInfo = {
        ...
        .pNext = &amp;specifyAspects,
        ...
    }

    vkCreateRenderPass(...);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_issues_54"><a class="anchor" href="#_issues_54"></a>Issues</h4>
<div class="paragraph">
<p>1) What is the default tessellation domain origin?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Vulkan 1.0 originally inadvertently documented a lower-left
origin, but the conformance tests and all implementations implemented an
upper-left origin.
This extension adds a control to select between lower-left (for
compatibility with OpenGL) and upper-left, and we retroactively fix
unextended Vulkan to have a default of an upper-left origin.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_64"><a class="anchor" href="#_version_history_64"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-04-28</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance3"><a class="anchor" href="#VK_KHR_maintenance3"></a>VK_KHR_maintenance3</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance3</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>169</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_maintenance3:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_65"><a class="anchor" href="#_other_extension_metadata_65"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_65"><a class="anchor" href="#_description_65"></a>Description</h4>
<div class="paragraph">
<p><code>VK_KHR_maintenance3</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A limit on the maximum number of descriptors that are supported in a
single descriptor set layout.
Some implementations have a limit on the total size of descriptors in a
set, which cannot be expressed in terms of the limits in Vulkan 1.0.</p>
</li>
<li>
<p>A limit on the maximum size of a single memory allocation.
Some platforms have kernel interfaces that limit the maximum size of an
allocation.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_53"><a class="anchor" href="#_new_object_types_53"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_65"><a class="anchor" href="#_new_enum_constants_65"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_3_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_SUPPORT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_54"><a class="anchor" href="#_new_enums_54"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_49"><a class="anchor" href="#_new_structures_49"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceMaintenance3PropertiesKHR">VkPhysicalDeviceMaintenance3PropertiesKHR</a></p>
</li>
<li>
<p><a href="chap13.html#VkDescriptorSetLayoutSupportKHR">VkDescriptorSetLayoutSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_57"><a class="anchor" href="#_new_functions_57"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#vkGetDescriptorSetLayoutSupportKHR">vkGetDescriptorSetLayoutSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_17"><a class="anchor" href="#_promotion_to_vulkan_1_1_17"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_55"><a class="anchor" href="#_issues_55"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_65"><a class="anchor" href="#_version_history_65"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-22</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_multiview"><a class="anchor" href="#VK_KHR_multiview"></a>VK_KHR_multiview</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_multiview</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>54</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_multiview:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_66"><a class="anchor" href="#_other_extension_metadata_66"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
<li>
<p>Requires the <a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_multiview.html"><code>SPV_KHR_multiview</code></a>
SPIR-V extension.</p>
</li>
<li>
<p>Requires
<a href="https://raw.githubusercontent.com/KhronosGroup/GLSL/master/extensions/ext/GL_EXT_multiview.txt"><code>GL_EXT_multiview</code></a>
for GLSL source languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_66"><a class="anchor" href="#_description_66"></a>Description</h4>
<div class="paragraph">
<p>This extension has the same goal as the OpenGL ES <code>GL_OVR_multiview</code>
extension - it enables rendering to multiple “views” by recording a single
set of commands to be executed with slightly different behavior for each
view.
It includes a concise way to declare a render pass with multiple views, and
gives implementations freedom to render the views in the most efficient way
possible.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_54"><a class="anchor" href="#_new_object_types_54"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_66"><a class="anchor" href="#_new_enum_constants_66"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_MULTIVIEW_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkDependencyFlagBits">VkDependencyFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPENDENCY_VIEW_LOCAL_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_55"><a class="anchor" href="#_new_enums_55"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_50"><a class="anchor" href="#_new_structures_50"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceMultiviewFeaturesKHR">VkPhysicalDeviceMultiviewFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceMultiviewPropertiesKHR">VkPhysicalDeviceMultiviewPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkRenderPassMultiviewCreateInfoKHR">VkRenderPassMultiviewCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_58"><a class="anchor" href="#_new_functions_58"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_5"><a class="anchor" href="#_new_built_in_variables_5"></a>New Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-viewindex"><code>ViewIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_14"><a class="anchor" href="#_new_spir_v_capabilities_14"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities-multiview"><code>MultiView</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_18"><a class="anchor" href="#_promotion_to_vulkan_1_1_18"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_56"><a class="anchor" href="#_issues_56"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_13"><a class="anchor" href="#_examples_13"></a>Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_66"><a class="anchor" href="#_version_history_66"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-28 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_relaxed_block_layout"><a class="anchor" href="#VK_KHR_relaxed_block_layout"></a>VK_KHR_relaxed_block_layout</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_relaxed_block_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>145</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_relaxed_block_layout:%20&amp;body=@johnkslang%20"><span class="icon black"><i class="fa fa-github"></i></span>johnkslang</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_67"><a class="anchor" href="#_other_extension_metadata_67"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-26</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_67"><a class="anchor" href="#_description_67"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_relaxed_block_layout</code> extension allows implementations to
indicate they can support more variation in block <code>Offset</code> decorations.
For example, placing a vector of three floats at an offset of
<span class="eq">16×N +  4</span>.</p>
</div>
<div class="paragraph">
<p>See <a href="chap14.html#interfaces-resources-layout">Offset and Stride Assignment</a> for
details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_19"><a class="anchor" href="#_promotion_to_vulkan_1_1_19"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_67"><a class="anchor" href="#_version_history_67"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-26 (JohnK)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_sampler_ycbcr_conversion"><a class="anchor" href="#VK_KHR_sampler_ycbcr_conversion"></a>VK_KHR_sampler_ycbcr_conversion</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_sampler_ycbcr_conversion</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>157</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>14</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andrew Garrard <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_sampler_ycbcr_conversion:%20&amp;body=@fluppeteer%20"><span class="icon black"><i class="fa fa-github"></i></span>fluppeteer</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_68"><a class="anchor" href="#_other_extension_metadata_68"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andrew Garrard, Samsung Electronics</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Romain Guy, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tom Cooksey, ARM Ltd</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM Ltd</p>
</li>
<li>
<p>Jan Outters, Samsung Electronics</p>
</li>
<li>
<p>Alon Or-bach, Samsung Electronics</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_68"><a class="anchor" href="#_description_68"></a>Description</h4>
<div class="paragraph">
<p>This extension provides the ability to perform specified color space
conversions during texture sampling operations.
It also adds a selection of multi-planar formats, including the ability to
bind memory to the planes of an image collectively or separately.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_67"><a class="anchor" href="#_new_enum_constants_67"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_PLANE_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_PLANE_MEMORY_REQUIREMENTS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SAMPLER_YCBCR_CONVERSION_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkFormat">VkFormat</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_G8B8G8R8_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8G8_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8R8_2PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8R8_2PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6_UNORM_PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6G10X6_UNORM_2PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4_UNORM_PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4G12X4_UNORM_2PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16B16G16R16_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B16G16R16G16_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16R16_2PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16R16_2PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageAspectFlagBits">VkImageAspectFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_0_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_1_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_2_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_DISJOINT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_MIDPOINT_CHROMA_SAMPLES_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_COSITED_CHROMA_SAMPLES_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_LINEAR_FILTER_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_SEPARATE_RECONSTRUCTION_FILTER_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_CHROMA_RECONSTRUCTION_EXPLICIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_CHROMA_RECONSTRUCTION_EXPLICIT_FORCEABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_DISJOINT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_56"><a class="anchor" href="#_new_enums_56"></a>New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkSamplerYcbcrModelConversionKHR">VkSamplerYcbcrModelConversionKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkSamplerYcbcrRangeKHR">VkSamplerYcbcrRangeKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkChromaLocationKHR">VkChromaLocationKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_51"><a class="anchor" href="#_new_structures_51"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkSamplerYcbcrConversionInfoKHR">VkSamplerYcbcrConversionInfoKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkSamplerYcbcrConversionCreateInfoKHR">VkSamplerYcbcrConversionCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindImagePlaneMemoryInfoKHR">VkBindImagePlaneMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImagePlaneMemoryRequirementsInfoKHR">VkImagePlaneMemoryRequirementsInfoKHR</a></p>
</li>
<li>
<p><a href="chap34.html#VkPhysicalDeviceSamplerYcbcrConversionFeaturesKHR">VkPhysicalDeviceSamplerYcbcrConversionFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap37.html#VkSamplerYcbcrConversionImageFormatPropertiesKHR">VkSamplerYcbcrConversionImageFormatPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_59"><a class="anchor" href="#_new_functions_59"></a>New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#vkCreateSamplerYcbcrConversionKHR">vkCreateSamplerYcbcrConversionKHR</a></p>
</li>
<li>
<p><a href="chap12.html#vkDestroySamplerYcbcrConversionKHR">vkDestroySamplerYcbcrConversionKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_objects"><a class="anchor" href="#_new_objects"></a>New Objects</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkSamplerYcbcrConversionKHR">VkSamplerYcbcrConversionKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_20"><a class="anchor" href="#_promotion_to_vulkan_1_1_20"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_68"><a class="anchor" href="#_version_history_68"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-01-24 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-01-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>After initial feedback</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-01-27 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Higher bit depth formats, renaming, swizzle</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2017-02-22 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added query function, formats as RGB, clarifications</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2017-04 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Simplified query and removed output conversions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-4-24 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Tidying, incorporated new image query, restored transfer functions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2017-04-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added cosited option/midpoint requirement for formats,
&quot;bypassConversion&quot;</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2017-04-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Simplified further</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2017-04-27 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Disjoint no more</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2017-04-28 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Restored disjoint</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2017-04-29 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Now Ycbcr conversion, and KHR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2017-06-06 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added conversion to image view creation</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2017-07-13 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Allowed cosited-only chroma samples for formats</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2017-08-11 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Reflected quantization changes in BT.2100-1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_draw_parameters"><a class="anchor" href="#VK_KHR_shader_draw_parameters"></a>VK_KHR_shader_draw_parameters</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_draw_parameters</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>64</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shader_draw_parameters:%20&amp;body=@dgkoch%20"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_69"><a class="anchor" href="#_other_extension_metadata_69"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_shader_draw_parameters.html"><code>SPV_KHR_shader_draw_parameters</code></a>
SPIR-V extension.</p>
</li>
<li>
<p>Requires
<a href="https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_shader_draw_parameters.txt"><code>GL_ARB_shader_draw_parameters</code></a>
for GLSL source languages.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA Corporation</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Stuart Smith, IMG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_69"><a class="anchor" href="#_description_69"></a>Description</h4>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_shader_draw_parameters</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The extension provides access to three additional built-in shader variables
in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BaseInstance</code>, which contains the <code>firstInstance</code> parameter
passed to draw commands,</p>
</li>
<li>
<p><code>BaseVertex</code>, which contains the <code>firstVertex</code> or
<code>vertexOffset</code> parameter passed to draw commands, and</p>
</li>
<li>
<p><code>DrawIndex</code>, which contains the index of the draw call currently
being processed from an indirect draw call.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following variables from
<code>GL_ARB_shader_draw_parameters</code> can map to these SPIR-V built-in
decorations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in int gl_BaseInstanceARB;</code> → <code>BaseInstance</code>,</p>
</li>
<li>
<p><code>in int gl_BaseVertexARB;</code> → <code>BaseVertex</code>, and</p>
</li>
<li>
<p><code>in int gl_DrawIDARB;</code> → <code>DrawIndex</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_55"><a class="anchor" href="#_new_object_types_55"></a>New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_68"><a class="anchor" href="#_new_enum_constants_68"></a>New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_57"><a class="anchor" href="#_new_enums_57"></a>New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_52"><a class="anchor" href="#_new_structures_52"></a>New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_60"><a class="anchor" href="#_new_functions_60"></a>New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_6"><a class="anchor" href="#_new_built_in_variables_6"></a>New Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-baseinstance"><code>BaseInstance</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-basevertex"><code>BaseVertex</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-drawindex"><code>DrawIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_15"><a class="anchor" href="#_new_spir_v_capabilities_15"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities">DrawParameters</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_21"><a class="anchor" href="#_promotion_to_vulkan_1_1_21"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, however
a <a href="chap34.html#features-shaderDrawParameters">feature bit was added</a> to distinguish
whether it is actually available or not.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_57"><a class="anchor" href="#_issues_57"></a>Issues</h4>
<div class="paragraph">
<p>1) Is this the same functionality as <code>GL_ARB_shader_draw_parameters</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: It’s actually a superset as it also adds in support for arrayed
drawing commands.</p>
</div>
<div class="paragraph">
<p>In GL for <code>GL_ARB_shader_draw_parameters</code>, <code>gl_BaseVertexARB</code> holds the
integer value passed to the parameter to the command that resulted in the
current shader invocation.
In the case where the command has no <code>baseVertex</code> parameter, the value of
<code>gl_BaseVertexARB</code> is zero.
This means that <code>gl_BaseVertexARB</code> = <code>baseVertex</code> (for
<code>glDrawElements</code> commands with <code>baseVertex</code>) or 0.
In particular there are no <code>glDrawArrays</code> commands that take a
<code>baseVertex</code> parameter.</p>
</div>
<div class="paragraph">
<p>Now in Vulkan, we have <code>BaseVertex</code> = <code>vertexOffset</code> (for indexed
drawing commands) or <code>firstVertex</code> (for arrayed drawing commands), and
so Vulkan’s version is really a superset of GL functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_69"><a class="anchor" href="#_version_history_69"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-05 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_storage_buffer_storage_class"><a class="anchor" href="#VK_KHR_storage_buffer_storage_class"></a>VK_KHR_storage_buffer_storage_class</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_storage_buffer_storage_class</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>132</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_storage_buffer_storage_class:%20&amp;body=@alegal-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_70"><a class="anchor" href="#_other_extension_metadata_70"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_storage_buffer_storage_class.html"><code>SPV_KHR_storage_buffer_storage_class</code></a>
SPIR-V extension.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, ARM</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_70"><a class="anchor" href="#_description_70"></a>Description</h4>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_storage_buffer_storage_class</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension provides a new SPIR-V <code>StorageBuffer</code> storage class.
A <code>Block</code>-decorated object in this class is equivalent to a
<code>BufferBlock</code>-decorated object in the <code>Uniform</code> storage class.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_69"><a class="anchor" href="#_new_enum_constants_69"></a>New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_53"><a class="anchor" href="#_new_structures_53"></a>New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_22"><a class="anchor" href="#_promotion_to_vulkan_1_1_22"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_58"><a class="anchor" href="#_issues_58"></a>Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_70"><a class="anchor" href="#_version_history_70"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_variable_pointers"><a class="anchor" href="#VK_KHR_variable_pointers"></a>VK_KHR_variable_pointers</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_variable_pointers</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>121</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap42.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_variable_pointers:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_extension_metadata_71"><a class="anchor" href="#_other_extension_metadata_71"></a>Other Extension Metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_variable_pointers.html"><code>SPV_KHR_variable_pointers</code></a>
SPIR-V extension.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Weifeng Zhang, Qualcomm</p>
</li>
<li>
<p>Stephen Clarke, Imagination Technologies</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_71"><a class="anchor" href="#_description_71"></a>Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_variable_pointers</code> extension allows implementations to indicate
their level of support for the <code>SPV_KHR_variable_pointers</code> SPIR-V extension.
The SPIR-V extension allows shader modules to use invocation-private
pointers into uniform and/or storage buffers, where the pointer values can
be dynamic and non-uniform.</p>
</div>
<div class="paragraph">
<p>The <code>SPV_KHR_variable_pointers</code> extension introduces two capabilities.
The first, <code>VariablePointersStorageBuffer</code>, <strong class="purple">must</strong> be supported by all
implementations of this extension.
The second, <code>VariablePointers</code>, is optional.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_70"><a class="anchor" href="#_new_enum_constants_70"></a>New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VARIABLE_POINTER_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_54"><a class="anchor" href="#_new_structures_54"></a>New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceVariablePointersFeaturesKHR">VkPhysicalDeviceVariablePointersFeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_16"><a class="anchor" href="#_new_spir_v_capabilities_16"></a>New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-variablepointers">VariablePointersStorageBuffer</a></p>
</li>
<li>
<p><a href="chap39.html#spirvenv-capabilities-table-variablepointers">VariablePointers</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_23"><a class="anchor" href="#_promotion_to_vulkan_1_1_23"></a>Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted, however support for the
<a href="chap34.html#features-variablePointersStorageBuffer"><code>variablePointersStorageBuffer</code></a> feature is made optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_59"><a class="anchor" href="#_issues_59"></a>Issues</h4>
<div class="paragraph">
<p>1) Do we need an optional property for the SPIR-V
<code>VariablePointersStorageBuffer</code> capability or should it be mandatory when
this extension is advertised?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Add it as a distinct feature, but make support mandatory.
Adding it as a feature makes the extension easier to include in a future
core API version.
In the extension, the feature is mandatory, so that presence of the
extension guarantees some functionality.
When included in a core API version, the feature would be optional.</p>
</div>
<div class="paragraph">
<p>2) Can support for these capabilities vary between shader stages?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, if the capability is supported in any stage it must be
supported in all stages.</p>
</div>
<div class="paragraph">
<p>3) Should the capabilities be features or limits?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Features, primarily for consistency with other similar
extensions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_71"><a class="anchor" href="#_version_history_71"></a>Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-14 (Jesse Hall and John Kessenich)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div></div>
<div id="footer">
<div id="footer-text">
Version 1.1.137<br>
Last updated 2020-03-26 01:48:59 -0700
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>


</body>
</html>