<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Jon Leech">
<title>The Khronos Vulkan&#174; API Registry</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="katex/katex.min.css">
<script src="katex/katex.min.js"></script>
<script src="katex/contrib/auto-render.min.js"></script>
    <!-- Use KaTeX to render math once document is loaded, see
         https://github.com/Khan/KaTeX/tree/master/contrib/auto-render -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(
            document.body,
            {
                delimiters: [
                    { left: "$$", right: "$$", display: true},
                    { left: "\\[", right: "\\]", display: true},
                    { left: "$", right: "$", display: false},
                    { left: "\\(", right: "\\)", display: false}
                ]
            }
        );
    });
</script></head>
<body class="book toc2 toc-left" style="max-width: 100;">
<div id="header">
<h1>The Khronos Vulkan<sup>&#174;</sup> API Registry</h1>
<div class="details">
<span id="author" class="author">Jon Leech</span><br>
<span id="revnumber">version 1.0.54,</span>
<span id="revdate">Wed, 12 Jul 2017 01:05:25 +0000</span>
<br><span id="revremark">from git branch: 1.0 commit: dbfd1b68c449c1f339e3dfd5b90b458cf5424882</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_schema_choices">1.1. Schema Choices</a></li>
</ul>
</li>
<li><a href="#starting">2. Getting Started</a>
<ul class="sectlevel2">
<li><a href="#_header_generation_script_code_genvk_py_code">2.1. Header Generation Script - <code>genvk.py</code></a></li>
<li><a href="#_registry_processing_script_code_reg_py_code">2.2. Registry Processing Script - <code>reg.py</code></a></li>
<li><a href="#_output_generator_script_code_generator_py_code">2.3. Output Generator Script - <code>generator.py</code></a></li>
</ul>
</li>
<li><a href="#schema">3. Vulkan Registry Schema</a>
<ul class="sectlevel2">
<li><a href="#schema:profile">3.1. Profiles</a></li>
<li><a href="#schema:apiname">3.2. API Names</a></li>
</ul>
</li>
<li><a href="#schema:root">4. Registry Root (<code>registry</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_registry_code_tags">4.1. Attributes of <code>registry</code> tags</a></li>
<li><a href="#_contents_of_code_registry_code_tags">4.2. Contents of <code>registry</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-vendorids">5. Vendor IDs (<code>vendorids</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_vendorid_code_tags">5.1. Attributes of <code>vendorid</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-tags">6. Author IDs (<code>tags</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_tag_code_tags">6.1. Attributes of <code>tag</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-types">7. API types (<code>types</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_type_code_tags">7.1. Attributes of <code>type</code> tags</a></li>
<li><a href="#_contents_of_code_type_code_tags">7.2. Contents of <code>type</code> tags</a>
<ul class="sectlevel3">
<li><a href="#_enumerated_types_code_category_code_code_enum_code">7.2.1. Enumerated types - <code>category</code> <code>"enum"</code></a></li>
<li><a href="#_structure_types_code_category_code_code_struct_code_or_code_union_code">7.2.2. Structure types - <code>category</code> <code>"struct"</code> or <code>"union"</code></a></li>
<li><a href="#_all_other_types">7.2.3. All other types</a></li>
</ul>
</li>
<li><a href="#tag-types:example">7.3. Example of a <code>types</code> tag</a></li>
</ul>
</li>
<li><a href="#tag-enums">8. Enumerant Blocks (<code>enums</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_enums_code_tags">8.1. Attributes of <code>enums</code> tags</a></li>
<li><a href="#_contents_of_code_enums_code_tags">8.2. Contents of <code>enums</code> tags</a></li>
<li><a href="#_example_of_code_enums_code_tags">8.3. Example of <code>enums</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-enum">9. Enumerants (<code>enum</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_enum_code_tags">9.1. Attributes of <code>enum</code> tags</a></li>
<li><a href="#_contents_of_code_enum_code_tags">9.2. Contents of <code>enum</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-unused">10. Unused Enumerants (<code>unused</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_unused_code_tags">10.1. Attributes of <code>unused</code> tags</a></li>
<li><a href="#_contents_of_code_unused_code_tags">10.2. Contents of <code>unused</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-commands">11. Command Blocks (<code>commands</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_commands_code_tags">11.1. Attributes of <code>commands</code> tags</a></li>
<li><a href="#_contents_of_code_commands_code_tags">11.2. Contents of <code>commands</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-command">12. Commands (<code>command</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_command_code_tags">12.1. Attributes of <code>command</code> tags</a></li>
<li><a href="#_contents_of_code_command_code_tags">12.2. Contents of <code>command</code> tags</a></li>
<li><a href="#tag-command:proto">12.3. Command prototype (<code>proto</code> tags)</a>
<ul class="sectlevel3">
<li><a href="#_attributes_of_code_proto_code_tags">12.3.1. Attributes of <code>proto</code> tags</a></li>
<li><a href="#_contents_of_code_proto_code_tags">12.3.2. Contents of <code>proto</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-command:param">12.4. Command parameter (<code>param</code> tags)</a>
<ul class="sectlevel3">
<li><a href="#tag-command:param:attr">12.4.1. Attributes of <code>param</code> tags</a></li>
<li><a href="#_contents_of_code_param_code_tags">12.4.2. Contents of <code>param</code> tags</a></li>
</ul>
</li>
<li><a href="#_example_of_a_code_commands_code_tag">12.5. Example of a <code>commands</code> tag</a></li>
</ul>
</li>
<li><a href="#tag-feature">13. API Features and Versions (<code>feature</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_feature_code_tags">13.1. Attributes of <code>feature</code> tags</a></li>
<li><a href="#_contents_of_code_feature_code_tags">13.2. Contents of <code>feature</code> tags</a></li>
<li><a href="#_example_of_a_code_feature_code_tag">13.3. Example of a <code>feature</code> tag</a></li>
</ul>
</li>
<li><a href="#tag-extensions">14. Extension Blocks (<code>extensions</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_extensions_code_tags">14.1. Attributes of <code>extensions</code> tags</a></li>
<li><a href="#_contents_of_code_extensions_code_tags">14.2. Contents of <code>extensions</code> tags</a></li>
</ul>
</li>
<li><a href="#tag-extension">15. API Extensions (<code>extension</code> tag)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_extension_code_tags">15.1. Attributes of <code>extension</code> tags</a></li>
<li><a href="#_contents_of_code_extension_code_tags">15.2. Contents of <code>extension</code> tags</a></li>
<li><a href="#_example_of_an_code_extensions_code_tag">15.3. Example of an <code>extensions</code> tag</a></li>
</ul>
</li>
<li><a href="#tag-required">16. Required and Removed Interfaces (<code>require</code> and <code>remove</code> tags)</a>
<ul class="sectlevel2">
<li><a href="#_attributes_of_code_require_code_and_code_remove_code_tags">16.1. Attributes of <code>require</code> and <code>remove</code> tags</a></li>
<li><a href="#_contents_of_code_require_code_and_code_remove_code_tags">16.2. Contents of <code>require</code> and <code>remove</code> tags</a>
<ul class="sectlevel3">
<li><a href="#_command_tags">16.2.1. Command Tags</a></li>
<li><a href="#_enum_tags">16.2.2. Enum tags</a></li>
<li><a href="#_type_tags">16.2.3. Type tags</a></li>
</ul>
</li>
<li><a href="#tag-required-examples">16.3. Examples of Extension Enumerants</a></li>
</ul>
</li>
<li><a href="#examples">17. Examples / FAQ / How Do I?</a>
<ul class="sectlevel2">
<li><a href="#_general_strategy">17.1. General Strategy</a></li>
<li><a href="#_api_feature_dependencies">17.2. API Feature Dependencies</a>
<ul class="sectlevel3">
<li><a href="#_api_feature_walkthrough">17.2.1. API Feature Walkthrough</a></li>
</ul>
</li>
<li><a href="#_how_to_add_a_compile_time_constant">17.3. How To Add A Compile Time Constant</a></li>
<li><a href="#_how_to_add_a_struct_or_union_type">17.4. How To Add A Struct or Union Type</a></li>
<li><a href="#_how_to_add_an_enumerated_type">17.5. How To Add An Enumerated Type</a></li>
<li><a href="#_how_to_add_a_command">17.6. How to Add A Command</a></li>
<li><a href="#_more_complicated_api_representations">17.7. More Complicated API Representations</a></li>
<li><a href="#_more_complicated_output_formats_and_other_languages">17.8. More Complicated Output Formats And Other Languages</a></li>
<li><a href="#_additional_semantic_tagging">17.9. Additional Semantic Tagging</a></li>
<li><a href="#general:stability">17.10. Stability of the XML Database and Schema</a></li>
</ul>
</li>
<li><a href="#changelog">18. Change Log</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Copyright (c) 2014-2017 Khronos Group. This work is licensed under a
<a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons
Attribution 4.0 International License</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document describes the Khronos Vulkan API Registry schema, and
provides some additional information about using the registry and
scripts to generate a variety of outputs, including C header files as
well as several types of asciidoc include files used in the Vulkan API
specification and reference pages. The underlying XML files and scripts
are located on the Khronos public Github server at URL</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs" class="bare">https://github.com/KhronosGroup/Vulkan-Docs</a></p>
</div>
<div class="paragraph">
<p>The authoritative copy of the Registry is maintained in the 1.0
branch.</p>
</div>
<div class="paragraph">
<p>The registry uses an XML representation of the Vulkan API, together with
a set of Python scripts to manipulate the registry once loaded. The
scripts rely on the Python <code>etree</code> package to parse and operate on XML.
An XML schema and validator target are included.</p>
</div>
<div class="paragraph">
<p>The schema is based on, but not identical to that used for the previously
published OpenGL, OpenGL ES and EGL API registries. It was extended to
represent additional types and concepts not needed for those APIs, such as
structure and enumerant types, as well as additional types
of registered information specific to Vulkan.</p>
</div>
<div class="paragraph">
<p>The processed C header file corresponding to the registry is checked in
under <code>src/vulkan/vulkan.h</code>.</p>
</div>
<div class="sect2">
<h3 id="_schema_choices">1.1. Schema Choices</h3>
<div class="paragraph">
<p>The XML schema is not pure XML all the way down. In particular, command
return types/names and parameters, and structure members, are described in
mixed-mode tag containing C declarations of the appropriate information,
with some XML nodes annotating particular parts of the declaration such as
its base type and name. This choice is based on prior experience with the
SGI <code>.spec</code> file format used to describe OpenGL, and greatly eases human
reading and writing the XML, and generating C-oriented output. The cost is
that people writing output generators for other languages will have to
include enough logic to parse the C declarations and extract the relevant
information.</p>
</div>
<div class="paragraph">
<p>People who do not find the supplied Python scripts to suit their needs
are likely to write their own parsers, interpreters, and/or converters
operating on the registry XML. We hope that we have provided enough
information in this document, the RNC schema (<code>registry.rnc</code>), and
comments in the Registry (<code>vk.xml</code>) itself to enable such projects. If
not and you need clarifications; if you have other problems using the
registry; or if you have proposed changes and enhancements, then please
file issues on Khronos' public Github project at</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/issues" class="bare">https://github.com/KhronosGroup/Vulkan-Docs/issues</a></p>
</div>
<div class="paragraph">
<p>Please tag your issues with <code>[Registry]</code> in the subject line to help us
categorize them. We have considered separating the registry from the
specification source into a separate repository, but since there is so
much specification valid usage language imbedded in the registry XML,
this is unlikely to happen.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="starting">2. Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See
<a href="https://gitlab.khronos.org/vulkan/vulkan/blob/1.0/src/spec/README.adoc"><code>src/spec/README.adoc</code></a>
in the <code>Vulkan-Docs</code> repository for information on required toolchain
components such as Python 3, g++, and GNU make.</p>
</div>
<div class="paragraph">
<p>Once you have the right tools installed, perform the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Check out the <code>Vulkan-Docs</code> repository linked above from Khronos
Github (there are instructions at the link)</p>
</li>
<li>
<p>Go to <code>vulkan/src/spec</code> in your checked-out repo</p>
</li>
<li>
<p>Invoke <code>make clean ; make install ; make test</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This should regenerate <code>vulkan.h</code> install it in <code>../vulkan/vulkan.h</code>,
and verify that the header builds properly. The result should be
identical to the version you just pulled from Github. They can be
compared by, for example:</p>
</div>
<div class="paragraph">
<p><code>git diff ../vulkan/vulkan.h</code></p>
</div>
<div class="paragraph">
<p>The <code>install</code> target also generates source code for a simple extension
loader library in <code>../ext_loader/</code>.</p>
</div>
<div class="paragraph">
<p>Other Makefile targets in <code>src/spec</code> include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>validate</code> - validate <code>vk.xml</code> against the XML schema. Recommended
if you are making nontrivial changes.</p>
</li>
<li>
<p>The asciidoc includes used by the Specification and Reference Pages
are built using the 'make generated' target in <code>doc/specs/vulkan/</code>,
although they use the scripts and XML in this directory. These files
are generated dynamically when building the specs, since their
contents depend on the exact set of extensions the Specification is
being built to include.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you just want to modify the API, changing <code>vk.xml</code> and running <code>make</code>
should be all that is needed. See <a href="#examples">Examples / FAQ / How Do I?</a> for some examples of
modifying the XML.</p>
</div>
<div class="paragraph">
<p>If you want to use the registry for reasons other than generating the
header file, extension loader, and asciidoc includes, or to generate
headers for languages other than C, start with the Makefile rules and
inspect the files <code>vk.xml</code>, <code>genvk.py</code>, <code>reg.py</code>, and <code>generator.py</code>.</p>
</div>
<div class="paragraph">
<p>If you are using other platforms, issues or merge requests with additional
documentation on using the tools on those platforms would be very helpful.</p>
</div>
<div class="sect2">
<h3 id="_header_generation_script_code_genvk_py_code">2.1. Header Generation Script - <code>genvk.py</code></h3>
<div class="paragraph">
<p>When generating header files using the <code>genvk.py</code> script, an API name
and profile name are required, as shown in the Makefile examples.
Additionally, specific API versions and extensions can be required or
excluded. Based on this information, the generator script extracts the
relevant interfaces and creates a C-language header file for them.
<code>genvk.py</code> contains predefined generator options for the latest Vulkan
Specification release (currently 1.0).</p>
</div>
<div class="paragraph">
<p>The generator script is intended to be generalizable to other languages by
writing new generator classes. Such generators would have to rewrite the C
types and definitions in the XML to something appropriate to their language.</p>
</div>
</div>
<div class="sect2">
<h3 id="_registry_processing_script_code_reg_py_code">2.2. Registry Processing Script - <code>reg.py</code></h3>
<div class="paragraph">
<p>XML processing is done in <code>reg.py</code>, which contains several objects and
methods for loading registries and extracting interfaces and extensions for
use in header generation. There is some internal documentation in the form
of comments, although nothing more extensive exists yet.</p>
</div>
</div>
<div class="sect2">
<h3 id="_output_generator_script_code_generator_py_code">2.3. Output Generator Script - <code>generator.py</code></h3>
<div class="paragraph">
<p>Once the registry is loaded, the <code>COutputGenerator</code> class defined in
<code>generator.py</code> is used to create a header file. The
<code>DocOutputGenerator</code> class is used to create the asciidoc include
files. Output generators for other purposes can be added as needed.
There are a variety of output generators included:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cgenerator.py</code> - generate C header file</p>
</li>
<li>
<p><code>docgenerator.py</code> - generate asciidoc includes for APIs</p>
</li>
<li>
<p><code>hostsyncgenerator.py</code> - generate host sync table includes for APIs</p>
</li>
<li>
<p><code>validitygenerator.py</code> - generate validity language includes</p>
</li>
<li>
<p><code>pygenerator.py</code> - generate a Python dictionary-based encoding of portions
of the registry, used during spec generation</p>
</li>
<li>
<p><code>extensionStubSource.py</code> - generate a simple C extension loader.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="schema">3. Vulkan Registry Schema</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The format of the Vulkan registry is a top level <code>registry</code> tag
containing <code>types</code>, <code>enums</code>, <code>commands</code>, <code>feature</code>, and
<code>extension</code> tags describing the different elements of an API, as
explained below. This description corresponds to a formal Relax NG schema
file, <code>registry.rnc</code>, against which the XML registry files can be
validated.</p>
</div>
<div class="paragraph">
<p>At present the only registry in this schema is the core Vulkan API registry,
<code>vk.xml</code>.</p>
</div>
<div class="sect2">
<h3 id="schema:profile">3.1. Profiles</h3>
<div class="paragraph">
<p>Types and enumerants can have different definitions depending on the API
profile requested. This capability is not used in the current Vulkan API but
may be in the future. Features and extensions can include some elements
conditionally depending on the API profile requested.</p>
</div>
</div>
<div class="sect2">
<h3 id="schema:apiname">3.2. API Names</h3>
<div class="paragraph">
<p>The schema supports, but does not currently use an <code>api</code> attribute on
several tags. This is an arbitrary string, specified at header generation
time, for labelling properties of a specific API or API profile. The string
can be, but is not necessarily, an actual API name. Names starting with <code>vk</code>
are suggested if and when we start defining profiles of Vulkan.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="schema:root">4. Registry Root (<code>registry</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>registry</code> contains the entire definition of one or more related
APIs.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_registry_code_tags">4.1. Attributes of <code>registry</code> tags</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_code_registry_code_tags">4.2. Contents of <code>registry</code> tags</h3>
<div class="paragraph">
<p>Zero or more of each of the following tags, normally in this order
(although order should not be important):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>comment</code> - Contains arbitrary text, such as a copyright
statement.</p>
</li>
<li>
<p><a href="#tag-vendorids"><code>vendorids</code></a> - defines Khronos vendor IDs,
described in detail in the &#8220;Layers and Extensions&#8221; appendix of the
Vulkan Specification.</p>
</li>
<li>
<p><a href="#tag-tags"><code>tags</code></a> - defines author IDs used for
extensions and layers.
Author IDs are described in detail in the &#8220;Layers &amp; Extensions&#8221;
section of the &#8220;Vulkan Documentation and Extensions: Procedures and
Conventions&#8221; document.</p>
</li>
<li>
<p><a href="#tag-types"><code>types</code></a> - defines API types. Usually only one
tag is used.</p>
</li>
<li>
<p><a href="#tag-enums"><code>enums</code></a> - defines API token names and values.
Usually multiple tags are used. Related groups may be tagged as an
enumerated type corresponding to a <code>type</code> tag, and resulting in a
C <code>enum</code> declaration. This ability is heavily used in the Vulkan
API.</p>
</li>
<li>
<p><a href="#tag-commands"><code>commands</code></a> - defines API commands
(functions). Usually only one tag is used.</p>
</li>
<li>
<p><a href="#tag-feature"><code>feature</code></a> - defines API feature interfaces
(API versions, more or less). One tag per feature set.</p>
</li>
<li>
<p><a href="#tag-extensions"><code>extensions</code></a> - defines API extension
interfaces. Usually only one tag is used, wrapping many extensions.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-vendorids">5. Vendor IDs (<code>vendorids</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>vendorids</code> tag contains individual <code>vendorid</code> tags defining
vendor IDs for physical devices which do not have PCI vendor IDs.</p>
</div>
<div class="paragraph">
<p>Each <code>vendorid</code> tag contains information defining a single vendor ID.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_vendorid_code_tags">5.1. Attributes of <code>vendorid</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required.
The author ID, as registered with Khronos.
This must match an author ID in the <code>name</code> field of a <code>tag</code> tag.</p>
</li>
<li>
<p><code>id</code> - required. The reserved vendor ID, as a hexadecimal number.</p>
</li>
<li>
<p><code>comment</code> - optional. Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-tags">6. Author IDs (<code>tags</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>tags</code> tag contains individual <code>tag</code> tags defining each of the
reserved author IDs used by extension and layer authors.</p>
</div>
<div class="paragraph">
<p>Each <code>tag</code> tag contains information defining a single author ID.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_tag_code_tags">6.1. Attributes of <code>tag</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required. The author ID, as registered with Khronos.
A short, upper-case string, usually an abbreviation of an author,
project or company name.</p>
</li>
<li>
<p><code>author</code> - required.
The author name, such as a full company or project name.</p>
</li>
<li>
<p><code>contact</code> - required.
The contact who registered or is currently responsible for extensions
and layers using the ID, including sufficient contact information to
reach the contact such as individual name together with email address,
Github username, or other contact information.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-types">7. API types (<code>types</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>types</code> tag contains individual <code>type</code> tags describing each
of the derived types used in the API.</p>
</div>
<div class="paragraph">
<p>Each <code>type</code> tag contains information which can be used to generate C
code corresponding to the type. In many cases, this is simply legal C code
with attributes or embedded tags denoting the type name and other types used
in defining this type. In some cases, additional attribute and embedded type
information is used to generate more complicated C types.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_type_code_tags">7.1. Attributes of <code>type</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>requires</code> - optional. Another type name this type requires to
complete its definition.</p>
</li>
<li>
<p><code>name</code> - optional. Name of this type (if not defined in the tag
body).</p>
</li>
<li>
<p><code>api</code> - optional. An API name (see <code>feature</code> below) which
specializes this definition of the named type, so that the same API
types may have different definitions for e.g. GL ES and GL. This is
unlikely to be used in Vulkan, where a single API supports desktop
and mobile devices, but the functionality is retained.</p>
</li>
<li>
<p><code>category</code> - optional. A string which indicates that this type
contains a more complex structured definition. At present the only
accepted categories are <code>basetype</code>, <code>bitmask</code>, <code>define</code>, <code>enum</code>,
<code>funcpointer</code>, <code>group</code>, <code>handle</code>, <code>include</code>, <code>struct</code>, and <code>union</code>,
as described below.</p>
</li>
<li>
<p><code>comment</code> - optional. Arbitrary string (unused).</p>
</li>
<li>
<p><code>parent</code> only applicable if category is <code>handle</code>. Notes another
type with the <code>handle</code> category that acts as a parent object for
this type.</p>
</li>
<li>
<p><code>returnedonly</code> only applicable if category is <code>struct</code> or
<code>union</code>. Notes that this struct/union is going to be filled in by
the API, rather than an application filling it out and passing it to
the API.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_code_type_code_tags">7.2. Contents of <code>type</code> tags</h3>
<div class="paragraph">
<p>The valid contents depend on the <code>category</code> attribute.</p>
</div>
<div class="sect3">
<h4 id="_enumerated_types_code_category_code_code_enum_code">7.2.1. Enumerated types - <code>category</code> <code>"enum"</code></h4>
<div class="paragraph">
<p>If the <code>category</code> tag has the value <code>enum</code>, the type is a C
enumeration. The body of the tag is ignored in this case. The value of
the <code>name</code> attribute must be provided and must match the <code>name</code>
attribute of a <a href="#tag-enums"><code>enums</code></a> tag. The enumerant values defined
within the <code>enums</code> tag are used to generate a C <code>enum</code> type
declaration.</p>
</div>
</div>
<div class="sect3">
<h4 id="_structure_types_code_category_code_code_struct_code_or_code_union_code">7.2.2. Structure types - <code>category</code> <code>"struct"</code> or <code>"union"</code></h4>
<div class="paragraph">
<p>If the <code>category</code> tag has the values <code>struct</code> or <code>union</code>, the
type is a C structure or union, respectively. In this case, the <code>name</code>
attribute must be provided, and the contents of the <code>type</code> tag are a
series of <code>member</code> tags defining the members of the aggregate type, in
order.</p>
</div>
<div class="sect4">
<h5 id="_structure_member_code_member_code_tags">Structure member (<code>member</code>) tags</h5>
<div class="paragraph">
<p>The <code>member</code> tag defines the type and name of a structure or union
member.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_of_code_member_code_tags">Attributes of <code>member</code> tags</h5>
<div class="ulist">
<ul>
<li>
<p><code>validextensionstructs</code> - only valid on the <code>pNext</code> member of a
struct.
This is a comma-separated list of structures that may be accepted by
<code>pNext</code> instead of <code>NULL</code>.
This should usually only be put on the top-level structure that is
extended, for all possible chained structures - the chained structures
themselves should be tagged with <code>noautovalidity</code>.
This will generate a validity statement on the top level structure
that validates the entire chain in one go, rather than each chained
structure repeating the list of valid structs.</p>
</li>
<li>
<p><code>values</code> - only valid on the <code>sType</code> member of a struct. This is a
comma-separated list of enumerant values that are valid for the
structure type; usually there is only a single value.</p>
</li>
<li>
<p><code>len</code> - if the member is an array, len may be one or more of the
following things, separated by commas (one for each array
indirection): another member of that struct; <code>"null-terminated"</code> for
a string; <code>"1"</code> to indicate it is just a pointer (used for nested
pointers); or an equation (a LaTeX math expression delimited by
<code>\($` and `$\)</code>.</p>
</li>
<li>
<p><code>externsync</code> - denotes that the member should be externally
synchronized when accessed by Vulkan</p>
</li>
<li>
<p><code>optional</code> - a value of <code>"true"</code> or <code>"false"</code> determines whether this
member can be omitted by providing <code>NULL</code> (for pointers),
<code>VK_NULL_HANDLE</code> (for handles), 0 (for bitmasks), or 0 for values
that are the size of an array in the same structure. If the member
is a pointer to one of those types, multiple values may be provided,
separated by commas - one for each pointer indirection.</p>
</li>
<li>
<p><code>noautovalidity</code> - prevents automatic validity language being
generated for the tagged item. Only suppresses item-specific
validity - parenting issues etc. are still captured.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_contents_of_code_member_code_tags">Contents of <code>member</code> tags</h5>
<div class="paragraph">
<p>The text elements of a <code>member</code> tag, with all other tags removed,
is a legal C declaration of a struct or union member. In addition it may
contain two semantic tags:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>type</code> tag is optional. It contains text which is a valid type
name found in another <code>type</code> tag, and indicates that this type
must be previously defined for the definition of the command to
succeed. Builtin C types should not be wrapper in <code>type</code> tags.</p>
</li>
<li>
<p>The <code>name</code> tag is required, and contains the struct/union member
name being described.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_all_other_types">7.2.3. All other types</h4>
<div class="paragraph">
<p>If the <code>category</code> attribute is one of <code>basetype</code>, <code>bitmask</code>,
<code>define</code>, <code>funcpointer</code>, <code>group</code>, <code>handle</code> or
<code>include</code>, or is not specified, <code>type</code> contains text which is legal
C code for a type declaration. It may also contain embedded tags:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>type</code> - nested type tags contain other type names which are
required by the definition of this type.</p>
</li>
<li>
<p><code>apientry</code>/ - insert a platform calling convention macro here
during header generation, used mostly for function pointer types.</p>
</li>
<li>
<p><code>name</code> - contains the name of this type (if not defined in the tag
attributes).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There is no restriction on which sorts of definitions may be made in a given
category, although the contents of tags with <code>category</code> <code>enum</code>,
<code>struct</code> or <code>union</code> are interpreted specially as described above.</p>
</div>
<div class="paragraph">
<p>However, when generating the header, types within each category are grouped
together, and categories are generated in the order given by the following
list. Therefore, types in a category should correspond to the intended
purpose given for that category. If this recommendation is not followed, it
is possible that the resulting header file will not compile due to
out-of-order type dependencies.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>include</code> (<code>#include</code>) directives)</p>
</li>
<li>
<p><code>define</code> (macro <code>#define</code> directives)</p>
</li>
<li>
<p><code>basetype</code> (scalar typedefs, such as the definition of <code>VkFlags</code>)</p>
</li>
<li>
<p><code>handle</code> (invocations of macros defining scalar types such as
<code>VkInstance</code>)</p>
</li>
<li>
<p><code>enum</code> (enumeration types and <code>#define</code> for constant values)</p>
</li>
<li>
<p><code>group</code> (currently unused)</p>
</li>
<li>
<p><code>bitmask</code> (enumeration types whose members are bitmasks)</p>
</li>
<li>
<p><code>funcpointer</code> (function pointer typedefs)</p>
</li>
<li>
<p><code>struct</code> and <code>union</code> together (struct and union types)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tag-types:example">7.3. Example of a <code>types</code> tag</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;types&gt;
    &lt;type name="stddef"&gt;#include &amp;lt;stddef.h&amp;gt;&lt;/type&gt;
    &lt;type requires="stddef"&gt;typedef ptrdiff_t &lt;name&gt;VKlongint&lt;/name&gt;;&lt;/type&gt;
    &lt;type name="VkEnum" category="enum"/&gt;
    &lt;type category="struct" name="VkStruct"&gt;
	&lt;member&gt;&lt;type&gt;VkEnum&lt;/type&gt; &lt;name&gt;srcEnum&lt;/name&gt;&lt;/member&gt;
	&lt;member&gt;&lt;type&gt;VkEnum&lt;/type&gt; &lt;name&gt;dstEnum&lt;/name&gt;&lt;/member&gt;
    &lt;/type&gt;
&lt;/types&gt;

&lt;enums name="VkEnum" type="enum"&gt;
    &lt;enum value="0" name="VK_ENUM_ZERO"/&gt;
    &lt;enum value="42" name="VK_ENUM_FORTY_TWO"/&gt;
&lt;/enums&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>VkStruct</code> type is defined to require the types <code>VkEnum</code> and
<code>VKlongint</code> as well. If <code>VkStruct</code> is in turn required by a command
or another type during header generation, it will result in the following
declarations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">#include &lt;stddef.h&gt;
typedef ptrdiff_t VKlongint.

typedef enum {
    VK_ENUM_ZERO = 0,
    VK_ENUM_FORTY_TWO = 42
} VkEnum;

typedef struct {
    VkEnum    dstEnum;
    VkLongint dstVal;
} VkStruct;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the angle brackets around <code>stddef.h</code> are represented as XML
entities in the registry. This could also be done using a CDATA block but
unless there are many characters requiring special representation in XML,
using entities is preferred.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-enums">8. Enumerant Blocks (<code>enums</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>enums</code> tags contain individual <code>enum</code> tags describing each of
the token names used in the API. In some cases these correspond to a C
<code>enum</code>, and in some cases they are simply compile time constants (e.g.
<code>#define</code>).</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_enums_code_tags">8.1. Attributes of <code>enums</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - optional. String naming the C <code>enum</code> type whose members are
defined by this enum group. If present, this attribute should match the
<code>name</code> attribute of a corresponding <code>type</code> tag.</p>
</li>
<li>
<p><code>type</code> - optional. String describing the data type of the values of
this group of enums. At present the only accepted categories are <code>enum</code>
and <code>bitmask</code>, as described below.</p>
</li>
<li>
<p><code>start</code>, <code>end</code> - optional. Integers defining the start and end of
a reserved range of enumerants for a particular vendor or purpose.
<code>start</code> must be less than or equal to <code>end</code>. These fields define
formal enumerant allocations, and are made by the Khronos Registrar on
request from implementers following the enum allocation policy.</p>
</li>
<li>
<p><code>vendor</code> - optional. String describing the vendor or purpose to whom
a reserved range of enumerants is allocated.</p>
</li>
<li>
<p><code>comment</code> - optional. Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_code_enums_code_tags">8.2. Contents of <code>enums</code> tags</h3>
<div class="paragraph">
<p>Each <code>enums</code> block contains zero or more <code>enum</code> and <code>unused</code> tags, in
arbitrary order (although they are typically ordered by sorting on enumerant
values, to improve human readability).</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_code_enums_code_tags">8.3. Example of <code>enums</code> tags</h3>
<div class="paragraph">
<p><a href="#tag-types:example">An example</a> showing a tag with attribute
<code>type</code>`="enum"` is given above. The following example is for
non-enumerated tokens.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;enums&gt;
    &lt;enum value="256" name="VK_MAX_EXTENSION_NAME"/&gt;
    &lt;enum value="MAX_FLOAT"  name="VK_LOD_CLAMP_NONE"/&gt;
&lt;/enums&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When processed into a C header, and assuming all these tokens were
required, this results in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">#define VK_MAX_EXTENSION_NAME	256
#define VK_LOD_CLAMP_NONE	MAX_FLOAT</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-enum">9. Enumerants (<code>enum</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each <code>enum</code> tag defines a single Vulkan (or other API) token.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_enum_code_tags">9.1. Attributes of <code>enum</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>value</code> or <code>bitpos</code> - exactly one of these is allowed and
required. <code>value</code> is an enumerant value in the form of a legal C
constant (usually a literal decimal or hexadecimal integer, though
arbitrary strings are allowed). <code>bitpos</code> is a literal integer bit
position in a bitmask.</p>
</li>
<li>
<p><code>name</code> - required. Enumerant name, a legal C preprocessor token
name.</p>
</li>
<li>
<p><code>api</code> - optional. An API name which specializes this definition
of the named enum, so that different APIs may have different values
for the same token. May be used to address a subtle
incompatibilities.</p>
</li>
<li>
<p><code>type</code> - optional. Used only when <code>value</code> is specified. C
suffix for the value to force it to a specific type. Currently only
<code>u</code> and <code>ull</code> are used, for <code>unsigned</code> 32- and 64-bit integer
values, respectively. Separated from <code>value</code> since this eases
parsing and sorting of values, and rarely used.</p>
</li>
<li>
<p><code>alias</code> - optional. Name of another enumerant this is an alias
of, used where token names have been changed as a result of profile
changes or for consistency purposes. An enumerant alias is simply a
different <code>name</code> for the exact same <code>value</code> or <code>bitpos</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_code_enum_code_tags">9.2. Contents of <code>enum</code> tags</h3>
<div class="paragraph">
<p><code>enum</code> tags have no allowed contents. All information is contained
in the attributes.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-unused">10. Unused Enumerants (<code>unused</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each <code>unused</code> tag defines a range of enumerants which is allocated, but
not yet assigned to specific enums. This just tracks the unused values for
the Registrar&#8217;s use, and is not used for header generation.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_unused_code_tags">10.1. Attributes of <code>unused</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>start</code> - required, <code>end</code> - optional. Integers defining the
start and end of an unused range of enumerants. <code>start</code> must be
≤ <code>end</code>. If <code>end</code> is not present, then <code>start</code> defines a
single unused enumerant. This range should not exceed the range
reserved by the surrounding <code>enums</code> tag.</p>
</li>
<li>
<p><code>vendor</code> - optional. String describing the vendor or purposes to
whom a reserved range of enumerants is allocated. Usually identical
to the <code>vendor</code> attribute of the surrounding <code>enums</code> block.</p>
</li>
<li>
<p><code>comment</code> - optional. Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_code_unused_code_tags">10.2. Contents of <code>unused</code> tags</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-commands">11. Command Blocks (<code>commands</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>commands</code> tag contains definitions of each of the functions
(commands) used in the API.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_commands_code_tags">11.1. Attributes of <code>commands</code> tags</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_code_commands_code_tags">11.2. Contents of <code>commands</code> tags</h3>
<div class="paragraph">
<p>Each <code>commands</code> block contains zero or more <code>command</code> tags, in
arbitrary order (although they are typically ordered by sorting on the
command name, to improve human readability).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-command">12. Commands (<code>command</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>command</code> tag contains a structured definition of a single API
command (function).</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_command_code_tags">12.1. Attributes of <code>command</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>queues</code> - optional. A string identifying the command queues this
command can be placed on. The format of the string is one or more of
the terms <code>"compute"</code>, <code>"transfer"</code>, and <code>"graphics"</code>, with multiple
terms separated by commas (<code>","</code>).</p>
</li>
<li>
<p><code>successcodes</code> - optional. A string describing possible
successful return codes from the command, as a comma-separated list
of Vulkan result code names.</p>
</li>
<li>
<p><code>errorcodes</code> - optional. A string describing possible error
return codes from the command, as a comma-separated list of Vulkan
result code names.</p>
</li>
<li>
<p><code>renderpass</code> - optional. A string identifying whether the command
can be issued only inside a render pass (<code>"inside"</code>), only outside a
render pass (<code>"outside"</code>), or both (<code>"both"</code>).</p>
</li>
<li>
<p><code>cmdbufferlevel</code> - optional. A string identifying the command
buffer levels that this command can be called by. The format of the
string is one or more of the terms <code>"primary"</code> and <code>"secondary"</code>,
with multiple terms separated by commas (<code>","</code>).</p>
</li>
<li>
<p><code>pipeline</code> - optional. A string identifying the pipeline type
that this command uses when executed. The format of the string is one of
the terms <code>"compute"</code>, <code>"transfer"</code>, or <code>"graphics"</code>.</p>
</li>
<li>
<p><code>comment</code> - optional. Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_code_command_code_tags">12.2. Contents of <code>command</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>proto</code> is required and must be the first element. It is a tag
defining the C function prototype of a command as described below,
up to the function name and return type but not including function
parameters.</p>
</li>
<li>
<p><code>param</code> elements for each command parameter follow, defining its
name and type, as described below. If a command takes no arguments,
it has no <code>param</code> tags.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Following these elements, the remaining elements in a <code>command</code>
tag are optional and may be in any order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alias</code> - optional. Has no attributes and contains a string which
is the name of another command this command is an alias of, used
when promoting a function from vendor to Khronos extension or
Khronos extension to core API status. A command alias describes the
case where there are two function names which resolve to the <em>same</em>
entry point in the underlying layer stack.</p>
</li>
<li>
<p><code>description</code> - optional. Unused text.</p>
</li>
<li>
<p><code>implicitexternsyncparams</code> - optional. Contains a list of <code>param</code>
tags, each containing asciidoc source text describing an object which is
not a parameter of the command but is related to one, and which also
<a href="#tag-command:param:attr">requires external synchronization</a>. The text
is intended to be incorporated into the API specification.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="tag-command:proto">12.3. Command prototype (<code>proto</code> tags)</h3>
<div class="paragraph">
<p>The <code>proto</code> tag defines the return type and name of a command.</p>
</div>
<div class="sect3">
<h4 id="_attributes_of_code_proto_code_tags">12.3.1. Attributes of <code>proto</code> tags</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_contents_of_code_proto_code_tags">12.3.2. Contents of <code>proto</code> tags</h4>
<div class="paragraph">
<p>The text elements of a <code>proto</code> tag, with all other tags removed, is
legal C code describing the return type and name of a command. In addition
to text, it may contain two semantic tags:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>type</code> tag is optional, and contains text which is a valid
type name found in a <code>type</code> tag. It indicates that this type must
be previously defined for the definition of the command to succeed.
Builtin C types, and any derived types which are expected to be
found in other header files, should not be wrapped in <code>type</code> tags.</p>
</li>
<li>
<p>The <code>name</code> tag is required, and contains the command name being
described.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tag-command:param">12.4. Command parameter (<code>param</code> tags)</h3>
<div class="paragraph">
<p>The <code>param</code> tag defines the type and name of a parameter. Its contents
are very similar to the <code>member</code> tag used to define struct and union
members.</p>
</div>
<div class="sect3">
<h4 id="tag-command:param:attr">12.4.1. Attributes of <code>param</code> tags</h4>
<div class="ulist">
<ul>
<li>
<p><code>len</code> - if the param is an array, len may be one or more of the
following things, separated by commas (one for each array
indirection): another param of that command; <code>"null-terminated"</code> for
a string; <code>"1"</code> to indicate it is just a pointer (used for nested
pointers); or an equation (a simple expression prefixed with
<code>"math:"</code>)</p>
</li>
<li>
<p><code>optional</code> - a value of <code>"true"</code> or <code>"false"</code> determines whether this
member can be omitted by providing <code>NULL</code> (for pointers),
<code>VK_NULL_HANDLE</code> (for handles), 0 (for bitmasks), or 0 for values
that are the size of an array in the same command. If the member is
a pointer to one of those types, multiple values may be provided,
separated by commas - one for each pointer indirection.</p>
</li>
<li>
<p><code>noautovalidity</code> - prevents automatic validity language being
generated for the tagged item. Only suppresses item-specific
validity - parenting issues etc. are still captured.</p>
</li>
<li>
<p><code>externsync</code> - optional. A value of <code>"true"</code> indicates that this
parameter (e.g. the object a handle refers to, or the contents of an
array a pointer refers to) is modified by the command, and is not
protected against modification in multiple app threads. If only certain
members of an object or elements of an array are modified, multiple
strings may be provided, separated by commas. Each string describes a
member which is modified. For example, the <code>vkQueueSubmit</code> command
includes <code>externsync</code> attributes for the <code>pSubmits</code> array indicating
that only specific members of each element of the array are modified:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;param len="submitCount" externsync="pSubmits[].pWaitSemaphores[],pSubmits[].pSignalSemaphores[]"&gt;const &lt;type&gt;VkSubmitInfo&lt;/type&gt;* &lt;name&gt;pSubmits&lt;/name&gt;&lt;/param&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Parameters which do not have an <code>externsync</code> attribute are assumed to not
require external synchronization.</p>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_contents_of_code_param_code_tags">12.4.2. Contents of <code>param</code> tags</h4>
<div class="paragraph">
<p>The text elements of a <code>param</code> tag, with all other tags removed, is
legal C code describing the type and name of a function parameter. In
addition it may contain two semantic tags:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>type</code> tag is optional, and contains text which is a valid
type name found in <code>type</code> tag, and indicates that this type must
be previously defined for the definition of the command to succeed.
Builtin C types, and any derived types which are expected to be
found in other header files, should not be wrapped in <code>type</code> tags.</p>
</li>
<li>
<p>The <code>name</code> tag is required, and contains the parameter name being
described.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_code_commands_code_tag">12.5. Example of a <code>commands</code> tag</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;commands&gt;
    &lt;command&gt;
	&lt;proto&gt;&lt;type&gt;VkResult&lt;/type&gt; &lt;name&gt;vkCreateInstance&lt;/name&gt;&lt;/proto&gt;
	&lt;param&gt;const &lt;type&gt;VkInstanceCreateInfo&lt;/type&gt;* &lt;name&gt;pCreateInfo&lt;/name&gt;&lt;/param&gt;
	&lt;param&gt;&lt;type&gt;VkInstance&lt;/type&gt;* &lt;name&gt;pInstance&lt;/name&gt;&lt;/param&gt;
    &lt;/command&gt;
&lt;/commands&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When processed into a C header, this results in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">VkResult vkCreateInstance(
    const VkInstanceCreateInfo* pCreateInfo,
    VkInstance* pInstance);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-feature">13. API Features and Versions (<code>feature</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>API features are described in individual <code>feature</code> tags. A feature is
the set of interfaces (enumerants and commands) defined by a particular API
and version, such as Vulkan 1.0, and includes all profiles of that API and
version.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_feature_code_tags">13.1. Attributes of <code>feature</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>api</code> - required. <a href="#schema:apiname">API name</a> this feature is for,
such as <code>vk</code>.</p>
</li>
<li>
<p><code>name</code> - required. Version name, used as the C preprocessor token
under which the version&#8217;s interfaces are protected against multiple
inclusion. Example: <code>"VK_VERSION_1_0"</code>.</p>
</li>
<li>
<p><code>number</code> - required. Feature version number, usually a string
interpreted as <code>majorNumber.minorNumber</code>. Example: <code>4.2</code>.</p>
</li>
<li>
<p><code>protect</code> - optional. An additional preprocessor token used to
protect a feature definition. Usually another feature or extension
<code>name</code>. Rarely used, for odd circumstances where the definition
of a feature or extension requires another to be defined first.</p>
</li>
<li>
<p><code>comment</code> - optional. Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_code_feature_code_tags">13.2. Contents of <code>feature</code> tags</h3>
<div class="paragraph">
<p>Zero or more <a href="#tag-required"><code>require</code> and <code>remove</code> tags</a>, in arbitrary
order. Each tag describes a set of interfaces that is respectively required
for, or removed from, this feature, as described below.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_code_feature_code_tag">13.3. Example of a <code>feature</code> tag</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;feature api="vulkan" name="VK_VERSION_1_0" number="1.0"&gt;
    &lt;require comment="Header boilerplate"&gt;
	&lt;type name="vk_platform"/&gt;
    &lt;/require&gt;
    &lt;require comment="API constants"&gt;
	&lt;enum name="VK_MAX_PHYSICAL_DEVICE_NAME"/&gt;
	&lt;enum name="VK_LOD_CLAMP_NONE"/&gt;
    &lt;/require&gt;
    &lt;require comment="Device initialization"&gt;
	&lt;command name="vkCreateInstance"/&gt;
    &lt;/require&gt;
&lt;/feature&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When processed into a C header for Vulkan, this results in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">#ifndef VK_VERSION_1_0
#define VK_VERSION_1_0 1
#define VK_MAX_EXTENSION_NAME	256
#define VK_LOD_CLAMP_NONE	MAX_FLOAT
typedef VkResult (VKAPI_PTR *PFN_vkCreateInstance)(const VkInstanceCreateInfo* pCreateInfo, VkInstance* pInstance);
#ifndef VK_NO_PROTOTYPES
VKAPI_ATTR VkResult VKAPI_CALL vkCreateInstance(
    const VkInstanceCreateInfo*			pCreateInfo,
    VkInstance*					pInstance);
#endif
#endif /* VK_VERSION_1_0 */</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-extensions">14. Extension Blocks (<code>extensions</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>extensions</code> tag contains definitions of each of the extenions
which are defined for the API.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_extensions_code_tags">14.1. Attributes of <code>extensions</code> tags</h3>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_code_extensions_code_tags">14.2. Contents of <code>extensions</code> tags</h3>
<div class="paragraph">
<p>Each <code>extensions</code> block contains zero or more <code>extension</code> tags,
each describing an API extension, in arbitrary order (although they are
typically ordered by sorting on the extension name, to improve human
readability).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-extension">15. API Extensions (<code>extension</code> tag)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>API extensions are described in individual <code>extension</code> tags. An
extension is the set of interfaces defined by a particular API extension
specification, such as <code>ARB_multitexture</code>. <code>extension</code> is
similar to <code>feature</code>, but instead of having <code>version</code> and
<code>profile</code> attributes, instead has a <code>supported</code> attribute,
which describes the set of API names which the extension can potentially
be implemented against.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_extension_code_tags">15.1. Attributes of <code>extension</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required. Extension name, following the conventions in
the Vulkan Specification. Example: <code>name="VK_VERSION_1_0"</code>.</p>
</li>
<li>
<p><code>number</code> - required. A decimal number which is the registered,
unique extension number for <code>name</code>.</p>
</li>
<li>
<p><code>author</code> - optional. The author name, such as a full company
name. If not present, this can be taken from the corresponding
<code>tag</code> attribute. However, <code>EXT</code> and other multi-vendor extensions
may not have a well-defined author or contact in the tag.</p>
</li>
<li>
<p><code>contact</code> - optional. The contact who registered or is currently
responsible for extensions and layers using the tag, including
sufficient contact information to reach the contact such as
individual name together with email address, Github username, or
other contact information. If not present, this can be taken from
the corresponding <code>tag</code> attribute just like <code>author</code>.</p>
</li>
<li>
<p><code>type</code> - optional. Must be either <code>'device'</code> or <code>'instance'</code>, if
present.</p>
</li>
<li>
<p><code>requires</code> - optional. Comma-separated list of extension names this
extension requires to be supported.</p>
</li>
<li>
<p><code>protect</code> - optional. An additional preprocessor token used to
protect an extension definition. Usually another feature or
extension <code>name</code>. Rarely used, for odd circumstances where the
definition of an extension requires another extension or a header
file to be defined first.</p>
</li>
<li>
<p><code>supported</code> - required. A regular expression with an implicit <code>^</code> and
<code>$</code> bracketing it, which should match the <code>api</code> tag of a set of
<code>feature</code> tags.</p>
</li>
<li>
<p><code>comment</code> - optional. Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_code_extension_code_tags">15.2. Contents of <code>extension</code> tags</h3>
<div class="paragraph">
<p>Zero or more <a href="#tag-required"><code>require</code> and <code>remove</code> tags</a>, in arbitrary
order. Each tag describes a set of interfaces that is respectively required
for, or removed from, this extension, as described below.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_an_code_extensions_code_tag">15.3. Example of an <code>extensions</code> tag</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;extension name="VK_KHR_display_swapchain" number="4" supported="vulkan"&gt;
    &lt;require&gt;
	&lt;enum value="9" name="VK_KHR_DISPLAY_SWAPCHAIN_SPEC_VERSION"/&gt;
	&lt;enum value="4" name="VK_KHR_DISPLAY_SWAPCHAIN_EXTENSION_NUMBER"/&gt;
	&lt;enum value="&amp;quot;VK_KHR_display_swapchain&amp;quot;"
	      name="VK_KHR_DISPLAY_SWAPCHAIN_EXTENSION_NAME"/&gt;
	&lt;type name="VkDisplayPresentInfoKHR"/&gt;
	&lt;command name="vkCreateSharedSwapchainsKHR"/&gt;
    &lt;/require&gt;
&lt;/extension&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>supported</code> attribute says that the extension is defined for the
default profile (<code>vulkan</code>). When processed into a C header for the
<code>vulkan</code> profile, this results in header contents something like
(assuming corresponding definitions of the specified <code>type</code> and
<code>command</code> elsewhere in the XML):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">#define VK_KHR_display_swapchain 1
#define VK_KHR_DISPLAY_SWAPCHAIN_SPEC_VERSION 9
#define VK_KHR_DISPLAY_SWAPCHAIN_EXTENSION_NUMBER 4
#define VK_KHR_DISPLAY_SWAPCHAIN_EXTENSION_NAME "VK_KHR_display_swapchain"

typedef struct VkDisplayPresentInfoKHR {
    VkStructureType				sType;
    const void*					pNext;
    VkRect2D					srcRect;
    VkRect2D					dstRect;
    VkBool32					persistent;
} VkDisplayPresentInfoKHR;

typedef VkResult (VKAPI_PTR *PFN_vkCreateSharedSwapchainsKHR)(
    VkDevice device, uint32_t swapchainCount,
    const VkSwapchainCreateInfoKHR* pCreateInfos,
    const VkAllocationCallbacks* pAllocator,
    VkSwapchainKHR* pSwapchains);

#ifndef VK_NO_PROTOTYPES
VKAPI_ATTR VkResult VKAPI_CALL vkCreateSharedSwapchainsKHR(
    VkDevice					device,
    uint32_t					swapchainCount,
    const VkSwapchainCreateInfoKHR*		pCreateInfos,
    const VkAllocationCallbacks*		pAllocator,
    VkSwapchainKHR*				pSwapchains);
#endif</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tag-required">16. Required and Removed Interfaces (<code>require</code> and <code>remove</code> tags)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>require</code> block defines a set of interfaces (types, enumerants and
commands) 'required' by a <code>feature</code>
or <code>extension</code>. A <code>remove</code> block defines a set of interfaces
'removed' by a <code>feature</code>. This is primarily for
future profiles of an API which may choose to deprecate and/or remove
some interfaces.
Extensions should never remove interfaces, although this
usage is allowed by the schema). Except for the tag name and behavior,
the contents of <code>require</code> and <code>remove</code> tags are identical.</p>
</div>
<div class="sect2">
<h3 id="_attributes_of_code_require_code_and_code_remove_code_tags">16.1. Attributes of <code>require</code> and <code>remove</code> tags</h3>
<div class="ulist">
<ul>
<li>
<p><code>profile</code> - optional. String name of an API profile. Interfaces
in the tag are only required (or removed) if the specified profile
is being generated. If not specified, interfaces are required (or
removed) for all API profiles.</p>
</li>
<li>
<p><code>comment</code> - optional. Arbitrary string (unused).</p>
</li>
<li>
<p><code>api</code> - optional. An <a href="#schema:apiname">API name</a>.
Interfaces in the tag are only required (or removed) if the
specified API is being generated. If not specified, interfaces are
required (or removed) for all APIs.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>api</code> attribute is only supported inside <code>extension</code> tags,
since <code>feature</code> tags already define a specific API.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_contents_of_code_require_code_and_code_remove_code_tags">16.2. Contents of <code>require</code> and <code>remove</code> tags</h3>
<div class="paragraph">
<p>Zero or more of the following tags, in any order:</p>
</div>
<div class="sect3">
<h4 id="_command_tags">16.2.1. Command Tags</h4>
<div class="paragraph">
<p><code>command</code> specifies an required (or removed) command defined
in a <code>commands</code> block. The tag has no content, but contains
attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required. Name of the command.</p>
</li>
<li>
<p><code>comment</code> - optional. Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_enum_tags">16.2.2. Enum tags</h4>
<div class="paragraph">
<p><code>enum</code> specifies an required (or removed) enumerant defined in a
<code>enums</code> block. All forms of this tag support the following attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required. Name of the enumerant.</p>
</li>
<li>
<p><code>comment</code> - optional. Arbitrary string (unused).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are two forms of <code>enum</code> tags:</p>
</div>
<div class="paragraph">
<p><em>Reference enums</em> simply pull in the definition of an enumerant given in
a separate <code>enums</code> block. Reference enums are the most common usage,
and no attributes other than <code>name</code> and <code>comment</code> are supported
for them.</p>
</div>
<div class="paragraph">
<p><em>Extension enums</em> define the value of an enumerant inline in an
<code>extensions</code> block. There are several variants, depending on which
additional tags are defined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Attributes <code>value</code> and (optionally) <code>type</code> define a constant
value in the same fashion as an <code>enum</code> tag in an
<a href="#tag-enum"><code>enums</code></a> block.</p>
</li>
<li>
<p>Attribute <code>bitpos</code> defines a constant bitmask value in the same
fashion as an <a href="#tag-enum"><code>enum</code></a> tag in an <code>enums</code> block.</p>
</li>
<li>
<p>Attribute <code>extends</code> allows an extension enumerant to be added to
a separately defined enumerated type whose name is specified by the
contents of the <code>extends</code> attribute (e.g. a <code>type</code> tag with
<code>category</code> "enum", pulling in an <code>enums</code> block). There are two
ways to extend an enumerated type:</p>
<div class="ulist">
<ul>
<li>
<p>If <code>bitpos</code> is also specified, the tag defines a bitmask value,
but adds its definition to the enumeranted type specified by
<code>extends</code> instead of as a compile time constant.</p>
</li>
<li>
<p>If <code>offset</code> is also specified, the tag adds a new enumerant
value to the enumerated type specified by <code>extends</code>. The actual
value defined depends on the extension number (the <code>number</code>
attribute of the <code>extensions</code> tag) and the offset, as defined in
the &#8220;Layers and Extensions&#8221; appendix of the Vulkan Specification.
The <code>dir</code> attribute may also be specified as <code>dir="-"</code> if the
calculated value should be negative instead of positive. Negative
enumerant values are normally used only for Vulkan error codes.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples of <a href="#tag-required-examples">various types of extension
enumerants</a> are given below.</p>
</div>
</div>
<div class="sect3">
<h4 id="_type_tags">16.2.3. Type tags</h4>
<div class="paragraph">
<p><code>type</code> specifies a required (or removed) type defined in a
<code>types</code> block. Most types are picked up implicitly by using the
<code>type</code> tags of commands, but in a few cases, additional types need
to be specified explicitly. It is unlikely that a type would ever be
removed, although this usage is allowed by the schema. The tag has no
content, but contains elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code> - required. Name of the type.</p>
</li>
<li>
<p><code>comment</code> - optional. Arbitrary string (unused).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tag-required-examples">16.3. Examples of Extension Enumerants</h3>
<div class="paragraph">
<p>Examples of each of the supported extension enumerant <code>enum</code> tags are
given below. Note that extension enumerants are supported only inside
<code>extension</code> blocks - not in <code>feature</code> blocks.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>However, we will have to define additional XML tags and/or syntax for
future core versions of Vulkan, to properly tag and group core
enumerants for Vulkan 1.0, 1.1, etc.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;extensions&gt;
    &lt;extension name="VK_KHR_test_extension" number="1" supported="vulkan"&gt;
	&lt;require&gt;
	    &lt;enum value="42" name="VK_KHR_theanswer"/&gt;
	    &lt;enum bitpos="29" name="VK_KHR_bitmask"/&gt;
	    &lt;enum offset="0" dir="-" extends="VkResult"
		  name="VK_ERROR_SURFACE_LOST_KHR"/&gt;
	    &lt;enum offset="1" extends="VkResult"
		  name="VK_SUBOPTIMAL_KHR"/&gt;
	    &lt;enum bitpos="31" extends="VkResult"
		  name="VK_KHR_EXTENSION_BIT"/&gt;
	&lt;/require&gt;
    &lt;/extension&gt;
&lt;/extensions&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The corresponding header file will include definitions like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">typedef enum VkResult {
    &lt;previously defined VkResult enumerant values},
    VK_ERROR_SURFACE_LOST_KHR = -1000000000,
    VK_SUBOPTIMAL_KHR = 1000000001,
    VK_KHR_EXTENSION_BIT = 0x80000000,
};

#define VK_KHR_test_extension 1
#define VK_KHR_theanswer 42
#define VK_KHR_bitmask 0x20000000</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples">17. Examples / FAQ / How Do I?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For people new to the Registry, it will not be immediately obvious how
to make changes. This section includes some tips and examples that will
help you make changes to the Vulkan headers by changing the Registry XML
description.</p>
</div>
<div class="paragraph">
<p>First, follow the steps described to <a href="#starting">get the Vulkan Github
repository</a> containing the registry and assemble the tools necessary to
work with the XML registry. Once you are able to regenerate <code>vulkan.h</code> from
<code>vk.xml</code>, you can start making changes.</p>
</div>
<div class="sect2">
<h3 id="_general_strategy">17.1. General Strategy</h3>
<div class="paragraph">
<p>If you are <em>adding</em> to the API, perform the following steps to <em>create</em>
the description of that API element:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For each type, enum group, compile time constant, and command being
added, create appropriate new <code>type</code>, <code>enums</code>, <code>enum</code>, or
<code>command</code> tags defining the interface in question.</p>
</li>
<li>
<p>Make sure that all added types and commands appropriately tag their
dependencies on other types by adding nested <code>type</code> tags.</p>
</li>
<li>
<p>Make sure that each new tag defines the name of the corresponding
type, enum group, constant, or command, and that structure/union
types and commands tag the types and names of all their members and
parameters. This is essential for the automatic dependency process
to work.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you are <em>modifying</em> existing APIs, just make appropriate changes
in the existing tags.</p>
</div>
<div class="paragraph">
<p>Once the definition is added, proceed to the next section to create
dependencies on the changed feature.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_feature_dependencies">17.2. API Feature Dependencies</h3>
<div class="paragraph">
<p>When you add new API elements, they will not result in corresponding changes
in the generated header unless they are <em>required</em> by the interface
being generated. This makes it possible to include different API versions
and extensions in a single registry and pull them out as needed. So you must
introduce a dependency on new features in the corresponding <code>feature</code>
tag.</p>
</div>
<div class="paragraph">
<p>Initially, the only API feature is Vulkan 1.0, so there is only one
<code>feature</code> tag in <code>vk.xml</code>. You can find it by searching
for the following block of <code>vk.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- SECTION: Vulkan API interface definitions --&gt;
&lt;feature api="vulkan" name="VK_VERSION_1_0" number="1.0"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Inside the <code>feature</code> tag are nested multiple <code>require</code> tags. These
are just being used as a logical grouping mechanism for related parts of
Vulkan 1.0 at present, though they may have more meaningful roles in the
future if different API profiles are defined.</p>
</div>
<div class="sect3">
<h4 id="_api_feature_walkthrough">17.2.1. API Feature Walkthrough</h4>
<div class="paragraph">
<p>This section walks through the first few required API features in the
<code>vk.xml</code> <code>feature</code> tag, showing how each requirement pulls in type,
token, and command definitions and turns those into definitions in the C
header file <code>vulkan.h</code> .</p>
</div>
<div class="paragraph">
<p>Consider the first few lines of the <code>feature</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;require comment="Header boilerplate"&gt;
    &lt;type name="vk_platform"/&gt;
&lt;/require&gt;
&lt;require comment="API constants"&gt;
    &lt;enum name="VK_MAX_PHYSICAL_DEVICE_NAME"/&gt;
    &lt;enum name="VK_MAX_EXTENSION_NAME"/&gt;
    ...
&lt;/require&gt;
&lt;require comment="Device initialization"&gt;
    &lt;command name="vkCreateInstance"/&gt;
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first <code>require</code> block says to require a type named <code>vk_platform</code>.
If you look at the beginning of the <code>types</code> section, there is a
corresponding definition section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;type name="vk_platform"&gt;#include "vk_platform.h"
#define VK_MAKE_VERSION(major, minor, patch) \
    ((major &amp;lt;&amp;lt; 22) | (minor &amp;lt;&amp;lt; 12) | patch)
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>This section is invoked by the requirement and emits a bunch of
boilerplate C code. The explicit dependency is not strictly required
since <code>vk_platform</code> will be required by many other types, but placing it
first causes this to appear first in the output file.</p>
</div>
<div class="paragraph">
<p>Note that <code>vk_platform</code> does not correspond to an actual C type, but
instead to a collection of freeform preprocessor includes and macros and
comments. Most other <code>type</code> tags do define a specific type and are
much simpler, but this approach can be used to inject arbitrary C into
<code>vulkan.h</code> <strong>when there is no other way</strong>. In general inserting arbitrary
C is strongly discouraged outside of specific special cases like this.</p>
</div>
<div class="paragraph">
<p>The next <code>require</code> block pulls in some compile time constants. These
correspond to the definitions found in the first <code>enums</code> section of
<code>vk.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- SECTION: Vulkan enumerant (token) definitions. --&gt;

&lt;enums comment="Misc. hardcoded constants - not an enumerated type"&gt;
	&lt;!-- This is part of the header boilerplate --&gt;
    &lt;enum value="256"	     name="VK_MAX_PHYSICAL_DEVICE_NAME"/&gt;
    &lt;enum value="256"	     name="VK_MAX_EXTENSION_NAME"/&gt;
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The third <code>require</code> block starts pulling in some Vulkan commands. The
first command corresponds to the following definition found in the
<code>commands</code> section of <code>vk.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;commands&gt;
    &lt;command&gt;
	&lt;proto&gt;&lt;type&gt;VkResult&lt;/type&gt; &lt;name&gt;vkCreateInstance&lt;/name&gt;&lt;/proto&gt;
	&lt;param&gt;const &lt;type&gt;VkInstanceCreateInfo&lt;/type&gt;* &lt;name&gt;pCreateInfo&lt;/name&gt;&lt;/param&gt;
	&lt;param&gt;&lt;type&gt;VkInstance&lt;/type&gt;* &lt;name&gt;pInstance&lt;/name&gt;&lt;/param&gt;
    &lt;/command&gt;
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In turn, the <code>command</code> tag requires the <code>types</code> <code>VkResult</code>,
<code>VkInstanceCreateInfo</code>, and <code>VkInstance</code> as part of its
definition. The definitions of these types are determined as follows:</p>
</div>
<div class="paragraph">
<p>For <code>VkResult</code>, the corresponding required <code>type</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;type name="VkResult" category="enum"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since this is an enumeration type, it simply links to an <code>enums</code> tag
with the same name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;enums name="VkResult" type="enum" comment="Error and return codes"&gt;
    &lt;!-- Return codes for successful operation execution (positive values) --&gt;
    &lt;enum value="0"	name="VK_SUCCESS"/&gt;
    &lt;enum value="1"	name="VK_UNSUPPORTED"/&gt;
    &lt;enum value="2"	name="VK_NOT_READY"/&gt;
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>For <code>VkInstanceCreateInfo</code>, the required <code>type</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;type category="struct" name="VkInstanceCreateInfo"&gt;
    &lt;member&gt;&lt;type&gt;VkStructureType&lt;/type&gt;	&lt;name&gt;sType&lt;/name&gt;&lt;/member&gt;			     &lt;!-- Should be VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO --&gt;
    &lt;member&gt;const void*				&lt;name&gt;pNext&lt;/name&gt;&lt;/member&gt;			     &lt;!-- Pointer to next structure --&gt;
    &lt;member&gt;const &lt;type&gt;VkApplicationInfo&lt;/type&gt;* &lt;name&gt;pAppInfo&lt;/name&gt;&lt;/member&gt;
    &lt;member&gt;const &lt;type&gt;VkAllocCallbacks&lt;/type&gt;* &lt;name&gt;pAllocCb&lt;/name&gt;&lt;/member&gt;
    &lt;member&gt;&lt;type&gt;uint32_t&lt;/type&gt;		&lt;name&gt;extensionCount&lt;/name&gt;&lt;/member&gt;
    &lt;member&gt;const &lt;type&gt;char&lt;/type&gt;*const*	&lt;name&gt;ppEnabledExtensionNames&lt;/name&gt;&lt;/member&gt;	     &lt;!-- layer or extension name to be enabled --&gt;
&lt;/type&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a structure type, defining a C <code>struct</code> with all the members
defined in each <code>member</code> tag in order. In addition, it requires some
other types, whose definitions are located by name in exactly the same
fashion.</p>
</div>
<div class="paragraph">
<p>For the final direct dependency of the command, <code>VkInstance</code>, the
required <code>type</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- Types which can be void pointers or class pointers, selected at compile time --&gt;
&lt;type&gt;VK_DEFINE_BASE_HANDLE(&lt;name&gt;VkObject&lt;/name&gt;)&lt;/type&gt;
&lt;type&gt;VK_DEFINE_DISP_SUBCLASS_HANDLE(&lt;name&gt;VkInstance&lt;/name&gt;, &lt;type&gt;VkObject&lt;/type&gt;)&lt;/type&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the type <code>VkInstance</code> is defined by a special compile time
macro which defines it as a derived class of <code>VkObject</code> (for <code>C``</code>) or a
less typesafe definition (for C). This macro is not part of the type
dependency analysis, just the boilerplate used in the header.</p>
</div>
<div class="paragraph">
<p>If these are the only <code>feature</code> dependencies in <code>vk.xml</code>, the
resulting <code>vulkan.h</code> header will look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">#ifndef VULKAN_H_
#define VULKAN_H_ 1

#ifdef __cplusplus
extern "C" {
#endif

/*
** Copyright (c) 2015-2017 The Khronos Group Inc.
    ...
*/

/*
** This header is generated from the Khronos Vulkan XML API Registry.
**
** Generated on date 20170208
*/


#define VK_VERSION_1_0 1
#include "vk_platform.h"
#define VK_MAKE_VERSION(major, minor, patch) \
    ((major &lt;&lt; 22) | (minor &lt;&lt; 12) | patch)

// Vulkan API version supported by this file
#define VK_API_VERSION VK_MAKE_VERSION(0, 104, 0)

#if defined (__cplusplus) &amp;&amp; (VK_UINTPTRLEAST64_MAX == UINTPTR_MAX)
    #define VK_TYPE_SAFE_COMPATIBLE_HANDLES 1
#endif

#if defined(VK_TYPE_SAFE_COMPATIBLE_HANDLES) &amp;&amp; !defined(VK_DISABLE_TYPE_SAFE_HANDLES)
    #define VK_DEFINE_PTR_HANDLE(_obj) struct _obj##_T { char _dummy; }; typedef _obj##_T* _obj;
    #define VK_DEFINE_PTR_SUBCLASS_HANDLE(_obj, _base) struct _obj##_T : public _base##_T {}; typedef _obj##_T* _obj;

    #define VK_DEFINE_BASE_HANDLE(_obj) VK_DEFINE_PTR_HANDLE(_obj)
    #define VK_DEFINE_DISP_SUBCLASS_HANDLE(_obj, _base) VK_DEFINE_PTR_SUBCLASS_HANDLE(_obj, _base)
    #define VK_DEFINE_NONDISP_SUBCLASS_HANDLE(_obj, _base) VK_DEFINE_PTR_SUBCLASS_HANDLE(_obj, _base)
#else
    #define VK_DEFINE_BASE_HANDLE(_obj) typedef VkUintPtrLeast64 _obj;
    #define VK_DEFINE_DISP_SUBCLASS_HANDLE(_obj, _base) typedef uintptr_t _obj;
    #define VK_DEFINE_NONDISP_SUBCLASS_HANDLE(_obj, _base) typedef VkUintPtrLeast64 _obj;
#endif

typedef enum {
    VK_SUCCESS = 0,
    VK_UNSUPPORTED = 1,
    VK_NOT_READY = 2,
    ...
} VkResult;
typedef enum {
    VK_STRUCTURE_TYPE_APPLICATION_INFO = 0,
    ...
} VKStructureType;
typedef struct {
    VkStructureType				sType;
    const void*					pNext;
    const char*					pAppName;
    uint32_t					appVersion;
    const char*					pEngineName;
    uint32_t					engineVersion;
    uint32_t					apiVersion;
} VkApplicationInfo;
typedef enum {
    VK_SYSTEM_ALLOC_TYPE_API_OBJECT = 0,
    ...
} VkSystemAllocType;
typedef void* (VKAPI_PTR *PFN_vkAllocFunction)(
    void*			    pUserData,
    size_t			    size,
    size_t			    alignment,
    VkSystemAllocType		    allocType);
typedef void (VKAPI_PTR *PFN_vkFreeFunction)(
    void*			    pUserData,
    void*			    pMem);
typedef struct {
    void*					pUserData;
    PFN_vkAllocFunction				pfnAlloc;
    PFN_vkFreeFunction				pfnFree;
} VkAllocCallbacks;
typedef struct {
    VkStructureType				sType;
    const void*					pNext;
    const VkApplicationInfo*			pAppInfo;
    const VkAllocCallbacks*			pAllocCb;
    uint32_t					extensionCount;
    const char*const*				ppEnabledExtensionNames;
} VkInstanceCreateInfo;
VK_DEFINE_BASE_HANDLE(VkObject)
VK_DEFINE_DISP_SUBCLASS_HANDLE(VkInstance, VkObject)
#define VK_MAX_PHYSICAL_DEVICE_NAME	  256
#define VK_MAX_EXTENSION_NAME		  256
typedef VkResult (VKAPI_PTR *PFN_vkCreateInstance)(const VkInstanceCreateInfo* pCreateInfo, VkInstance* pInstance);
#ifndef VK_NO_PROTOTYPES
VKAPI_ATTR VkResult VKAPI_CALL vkCreateInstance(
    const VkInstanceCreateInfo*			pCreateInfo,
    VkInstance*					pInstance);
#endif

#ifdef __cplusplus
}
#endif

#endif</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that several additional types are pulled in by the type dependency
analysis, but only those types, commands, and tokens required by the
specified features are generated.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_add_a_compile_time_constant">17.3. How To Add A Compile Time Constant</h3>
<div class="paragraph">
<p>Go to the <code>feature</code> tag and search for the nested block labelled</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;require comment="API constants"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this block, add an (appropriately indented) tag like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">    &lt;enum name="VK_THE_ANSWER"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then go to the <code>enums</code> block labelled</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;enums comment="Misc. hardcoded constants - not an enumerated type"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this block, add a tag whose <code>name</code> attribute matches the <code>name</code>
you defined above and whose <code>value</code> attribute is the value to give the
constant:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">    &lt;enum value="42"	name="VK_THE_ANSWER"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_add_a_struct_or_union_type">17.4. How To Add A Struct or Union Type</h3>
<div class="paragraph">
<p>For this example, assume we want to define a type
corresponding to a C <code>struct</code> defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">typedef struct {
    VkStructureType	     sType;
    const void*		     pNext;
    const VkApplicationInfo* pAppInfo;
    const VkAllocCallbacks*  pAllocCb;
    uint32_t		     extensionCount;
    const char*const*	     ppEnabledExtensionNames;
} VkInstanceCreateInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If <code>VkInstanceCreateInfo</code> is the type of a parameter of a command in
the API, make sure that command&#8217;s definition (see below for how to add a
command) puts <code>VkInstanceCreateInfo</code> in nested <code>type</code> tags where
it is used.</p>
</div>
<div class="paragraph">
<p>Otherwise, if the struct type is not used directly by a command in the API,
nor required by a chain of type dependencies for other commands, an explicit
<code>type</code> dependency should be added to the <code>feature</code> tag. Go to the
<code>types</code> tag and search for the nested block labelled</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;require comment="API types not used by commands"&gt;
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this block, add a tag whose <code>name</code> attribute matches the <code>name</code>
of the struct type being defined:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;require comment="API types not used by commands"&gt;
    &lt;type name="VkInstanceCreateInfo"/&gt;
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then go to the <code>types</code> tag and add a new <code>type</code> tag defining
the struct names and members, somewhere below
the corresponding comment, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;types&gt;
    ...
    &lt;!-- Struct types --&gt;
	&lt;type category="struct" name="VkInstanceCreateInfo"&gt;
	    &lt;member&gt;&lt;type&gt;VkStructureType&lt;/type&gt;
		    &lt;name&gt;sType&lt;/name&gt;&lt;/member&gt;
	    &lt;member&gt;const void*
		    &lt;name&gt;pNext&lt;/name&gt;&lt;/member&gt;
	    &lt;member&gt;const &lt;type&gt;VkApplicationInfo&lt;/type&gt;*
		    &lt;name&gt;pAppInfo&lt;/name&gt;&lt;/member&gt;
	    &lt;member&gt;const &lt;type&gt;VkAllocCallbacks&lt;/type&gt;*
		    &lt;name&gt;pAllocCb&lt;/name&gt;&lt;/member&gt;
	    &lt;member&gt;&lt;type&gt;uint32_t&lt;/type&gt;
		    &lt;name&gt;extensionCount&lt;/name&gt;&lt;/member&gt;
	    &lt;member&gt;const &lt;type&gt;char&lt;/type&gt;*const*
		    &lt;name&gt;ppEnabledExtensionNames&lt;/name&gt;&lt;/member&gt;
	&lt;/type&gt;
	...</code></pre>
</div>
</div>
<div class="paragraph">
<p>If any of the member types are types also defined in the header, make sure
to enclose those type names in nested <code>type</code> tags, as shown above. Basic
C types should not be tagged.</p>
</div>
<div class="paragraph">
<p>If the type is a C <code>union</code>, rather than a <code>struct</code>, then set the
value of the <code>category</code> attribute to <code>"union"</code> instead of
<code>"struct"</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_add_an_enumerated_type">17.5. How To Add An Enumerated Type</h3>
<div class="paragraph">
<p>For this example, assume we want to define a type corresponding to a C
<code>enum</code> defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">typedef enum {
    VK_DEVICE_CREATE_VALIDATION_BIT = 0x00000001,
    VK_DEVICE_CREATE_MULTI_DEVICE_IQ_MATCH_BIT = 0x00000002;
} VkDeviceCreateFlagBits.</code></pre>
</div>
</div>
<div class="paragraph">
<p>If <code>VkDeviceCreateFlagBits</code> is the type of a parameter to a command in
the API, or of a member in a structure or union, make sure that command
parameter or struct member&#8217;s definition puts <code>VkDeviceCreateFlagBits</code>
in nested <code>type</code> tags where it is used.</p>
</div>
<div class="paragraph">
<p>Otherwise, if the enumerated type is not used directly by a command in the
API, nor required by a chain of type dependencies for commands and structs,
an explicit <code>type</code> dependency should be added to the <code>feature</code> tag
in exactly the same fashion as described above for <code>struct</code> types.</p>
</div>
<div class="paragraph">
<p>Next, go to the line labelled</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- SECTION: Vulkan enumerant (token) definitions. --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Below this line, add an <code>enums</code> tag whose <code>name</code> attribute matches
the <code>type</code> name <code>VkDeviceCreateFlagBits</code>, and whose contents
correspond to the individual fields of the enumerated type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;enums name="VkDeviceCreateFlagBits" type="bitmask"&gt;
    &lt;enum bitpos="0" name="VK_DEVICE_CREATE_VALIDATION_BIT"/&gt;
    &lt;enum bitpos="1" name="VK_DEVICE_CREATE_MULTI_DEVICE_IQ_MATCH_BIT"/&gt;
&lt;/enums&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Several other attributes of the <code>enums</code> tag can be set. In this case,
the <code>type</code> attribute is set to <code>"bitmask"</code>, indicating that the
individual enumerants represent elements of a bitmask.</p>
</div>
<div class="paragraph">
<p>The individual <code>enum</code> tags define the enumerants, just like the
definition for compile time constants described above. In this case, because
the enumerants are bits in a bitmask, their values are specified using the
<code>bitpos</code> attribute. The value of this attribute must be an integer in
the range $[0,31]$ specifying a single bit number, and the resulting value
is printed as a hexadecimal constant corresponding to that bit.</p>
</div>
<div class="paragraph">
<p>It is also possible to specify enumerant values using the <code>value</code>
attribute, in which case the specified numeric value is passed through to
the C header unchanged.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_add_a_command">17.6. How to Add A Command</h3>
<div class="paragraph">
<p>For this example, assume we want to define the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">VKAPI_ATTR VkResult VKAPI_CALL vkCreateInstance(
    const VkInstanceCreateInfo*			pCreateInfo,
    VkInstance*					pInstance);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Commands must always be explicitly required in the <code>feature</code> tag. In
that tag, you can use an existing <code>require</code> block including API features
which the new command should be grouped with, or define a new block. For
this example, add a new block, and require the command by using the
<code>command</code> tag inside that block:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- SECTION: Vulkan API interface definitions --&gt;
&lt;feature api="vulkan" name="VK_VERSION_1_0" number="1.0"&gt;
    ...
    &lt;require comment="Device initialization"&gt;
	&lt;command name="vkCreateInstance"/&gt;
    &lt;/require&gt;
    ...
&lt;/feature&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>require</code> block may include a <code>comment</code> attribute whose value
is a descriptive comment of the contents required within that block. The
comment is not currently used in header generation, but might be in the
future, so use comments which are polite and meaningful to users of
<code>vulkan.h</code>.</p>
</div>
<div class="paragraph">
<p>Then go to the <code>commands</code> tag and add a new <code>command</code> tag defining
the command, preferably sorted into alphabetic order with other commands for
ease of reading, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- SECTION: Vulkan command definitions --&gt;
&lt;commands&gt;
    ...
    &lt;command&gt;
	&lt;proto&gt;&lt;type&gt;VkResult&lt;/type&gt;
	       &lt;name&gt;vkCreateInstance&lt;/name&gt;&lt;/proto&gt;
	&lt;param&gt;const &lt;type&gt;VkInstanceCreateInfo&lt;/type&gt;*
	       &lt;name&gt;pCreateInfo&lt;/name&gt;&lt;/param&gt;
	&lt;param&gt;&lt;type&gt;VkInstance&lt;/type&gt;*
	       &lt;name&gt;pInstance&lt;/name&gt;&lt;/param&gt;
    &lt;/command&gt;
    ...
&lt;/commands&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>proto</code> tag defines the return type and function name of the
command. The <code>param</code> tags define the command&#8217;s parameters in the order
in which they are passed, including the parameter type and name. The contents
are laid out in the same way as the structure <code>member</code> tags described
previously.</p>
</div>
</div>
<div class="sect2">
<h3 id="_more_complicated_api_representations">17.7. More Complicated API Representations</h3>
<div class="paragraph">
<p>The registry schema can represent a good deal of additional information, for
example by creating multiple <code>feature</code> tags defining different API
versions and extensions. This capability is not yet relevant to Vulkan.
Those capabilities will be documented as they are needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_more_complicated_output_formats_and_other_languages">17.8. More Complicated Output Formats And Other Languages</h3>
<div class="paragraph">
<p>The registry schema is oriented towards C-language APIs. Types and commands
are defined using syntax which is a subset of C, especially for structure
members and command parameters. It would be possible to use a
language-independent syntax for representing such information, but since we
are writing a C API, any such representation would have to be converted into
C anyway at some stage.</p>
</div>
<div class="paragraph">
<p>The <code>vulkan.h</code> header is written using an <em>output generator</em> object
in the Python scripts. This output generator is specialized for C, but the
design of the scripts is intended to support writing output generators for
other languages as well as purposes such as documentation (e.g. generating
asciidoc fragments corresponding to types and commands for use in the API
specification and reference pages). When targeting other languages, the
amount of parsing required to convert type declarations into other languages
is small. However, it will probably be necessary to modify some of the
boilerplate C text, or specialize the tags by language, to support such
generators.</p>
</div>
</div>
<div class="sect2">
<h3 id="_additional_semantic_tagging">17.9. Additional Semantic Tagging</h3>
<div class="paragraph">
<p>The schema is being extended to support semantic tags describing
various properties of API features, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>constraints on allowed scalar values to function parameters
(non-<code>NULL</code>, normalized floating-point, etc.)</p>
</li>
<li>
<p>length of arrays corresponding to function pointer parameters</p>
</li>
<li>
<p>miscellaneous properties of commands such as whether the application
or system is responsible for threadsafe use; which queues they may
be issued on; whether they are aliases or otherwise related to other
commands; etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These tags will be used by other tools for purposes such as helping
create validation layers, generating serialization code, and so on. We
would like to eventually represent everything about the API that is
amenable to automatic processing within the registry schema. Please make
suggestions on the Github issue tracker.</p>
</div>
</div>
<div class="sect2">
<h3 id="general:stability">17.10. Stability of the XML Database and Schema</h3>
<div class="paragraph">
<p>The Vulkan XML schema is evolving in response to corresponding changes
in the Vulkan API and ecosystem. Most such change will probably be
confined to adding attributes to existing tags and properly expressing
the relationships to them, and making API changes corresponding to
accepted feature requests. Changes to the schema should be described in
the <a href="#changelog">change log</a> of this document. Changes to the <code>.xml</code>
files and Python scripts are logged in Github history.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changelog">18. Change Log</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>2017-02-20 - change to asciidoctor markup and move into the
specification source directory for ease of building.</p>
</li>
<li>
<p>2016-09-27 - remove <code>validity</code> and <code>usage</code> tags, since these
explicit usage statements have been moved to the specification source.</p>
</li>
<li>
<p>2016-08-26 - Update for the single-branch model.</p>
</li>
<li>
<p>2016-07-28 - Add <code>type</code> and <code>requires</code> attributes to <code>extension</code>
tags.</p>
</li>
<li>
<p>2016-02-22 - Change math markup in <code>len</code> attributes to use
asciidoc <code>\($` and `$\)</code> delimiters.</p>
</li>
<li>
<p>2016-02-19 - Add <code>successcodes</code> and <code>errorcodes</code> attributes of
<code>command</code> tags. Add a subsection to the introduction describing
the schema choices and how to file issues against the registry.</p>
</li>
<li>
<p>2016-02-07 - Add <code>vendorids</code> tags for Khronos vendor IDs.</p>
</li>
<li>
<p>2015-12-10 - Add <code>author</code> and <code>contact</code> attributes for
<code>extension</code> tags.</p>
</li>
<li>
<p>2015-12-07 - Move <code>vulkan/vulkan.h</code> to a subdirectory.</p>
</li>
<li>
<p>2015-12-01 - Add <code>tags</code> tags for author tags.</p>
</li>
<li>
<p>2015-11-18 - Bring documentation and schema up to date for extension
enumerants.</p>
</li>
<li>
<p>2015-11-02 - Bring documentation and schema up to date with several
recent merges, including <code>validity</code> tags. Still out of date WRT
extension enumerants, but that will change soon.</p>
</li>
<li>
<p>2015-09-08 - Rename <code>threadsafe</code> attribute to <code>externsync</code>, and
<code>implicitunsafeparams</code> tag to <code>implicitexternsync</code>.</p>
</li>
<li>
<p>2015-09-07 - Update <code>command</code> tag description to remove the
<code>threadsafe</code> attribute and replace it with a combination of
<code>threadunsafe</code> attributes on individual parameters, and
<code>implicitunsafeparams</code> tags describing additional unsafe objects
for the command.</p>
</li>
<li>
<p>2015-08-04 - Add <code>basetype</code> and <code>funcpointer</code> <code>category</code> values
for type tags, and explain the intended use and order in which types
in each category are emitted.</p>
</li>
<li>
<p>2015-07-02 - Update description of Makefile targets. Add descriptions of
<code>threadsafe</code>, <code>queues</code>, and <code>renderpass</code> attributes of
<a href="#tag-command"><code>command</code></a> tags, and of <code>modified</code> attributes of
<a href="#tag-command:param"><code>param</code></a> tags.</p>
</li>
<li>
<p>2015-06-17 - add descriptions of allowed <code>category</code> attribute
values of <code>type</code> tags, used to group and sort related categories
of declarations together in the generated header.</p>
</li>
<li>
<p>2015-06-04 - Add <a href="#examples">examples of making changes and additions</a>
to the registry.</p>
</li>
<li>
<p>2015-06-03 - Move location to new <code>vulkan</code> Git repository. Add
definition of <code>type</code> tags for C struct/unions. Start adding
<a href="#examples">examples of making changes</a>.</p>
</li>
<li>
<p>2015-06-02 - Branch from OpenGL specfile documentation and bring up
to date with current Vulkan schema.</p>
</li>
<li>
<p>2015-07-10 - Remove contractions to match the style guide.</p>
</li>
<li>
<p>2015-07-19 - Move this document from LaTeX to asciidoc source format and
make minor changes to markup.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0.54<br>
Last updated 2017-03-25 01:46:36 PDT
</div>
</div>


</body>
</html>