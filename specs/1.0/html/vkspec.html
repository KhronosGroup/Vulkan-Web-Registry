<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="author" content="The Khronos速 Vulkan Working Group">
<title>Vulkan速 1.0.135 - A Specification</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: #fff; color: #222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: black; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #0068b0; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #333; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: Noto, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Noto, sans-serif; font-weight: normal; font-style: normal; color: black; text-rendering: optimizeLegibility; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #4d4d4d; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #264357; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; list-style-position: outside; font-family: Noto, sans-serif; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #ddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #ddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #5e93b8; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #5e93b8; }

blockquote, blockquote p { line-height: 1.6; color: #333; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #ddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: #fff; margin-bottom: 1.25em; border: solid 1px #d8d8ce; }
table thead, table tfoot { background: #eee; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #6d6e71; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f8; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 0; background-color: transparent; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; word-wrap: break-word; }
*:not(pre) > code.nobreak { word-wrap: normal; }
*:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.6; color: #264357; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #333333; }

kbd { font-family: Consolas, "Liberation Mono", Courier, monospace; display: inline-block; color: black; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 1.5em; padding-right: 1.5em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #5e93b8; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #333; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #333; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 0 solid #ddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: Noto, sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: black; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #fff; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #ddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #ddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: none; padding: 1.25em; }

#footer-text { color: black; line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 0 solid #ddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: black; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: black; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: initial; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: Noto, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddd; color: #5e93b8; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: black; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px hidden #666; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 1.25em 1.5625em 1.125em 1.5625em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eee; background-color: #264357; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1.25em 1.5625em 1.125em 1.5625em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.6; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 0.75em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #333; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: black; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #5e93b8; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 0.75em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #333; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #5e93b8; }

.quoteblock.abstract { margin: 0 0 0.75em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #d8d8ce; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: #eee; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.375em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.375em -0.75em; }

ul.inline > li { margin-left: 0.75em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 0.75em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist > table tr > td:first-of-type img { max-width: initial; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px #fff; -webkit-box-shadow: 0 0 0 1px #ddd; box-shadow: 0 0 0 1px #ddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #29475c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { border-bottom: 1px solid #ddd; }

.sect1 { padding-bottom: 0; }

#toctitle { color: #00406F; font-weight: normal; margin-top: 1.5em; }

.sidebarblock { border-color: #aaa; }

code { -webkit-border-radius: 4px; border-radius: 4px; }

p.tableblock.header { color: #6d6e71; }

.literalblock pre, .listingblock pre { background: #eee; }

/* From https://github.com/KhronosGroup/Vulkan-Docs/pull/901 */
a code { color: inherit; }

/* Make VUID anchor handles*/
li > p > a[id^="VUID-"] { visibility: hidden; position: absolute; z-index: 1001; width: 2.2ex; margin-left: -2.2ex; display: block; text-decoration: none !important; text-align: center; font-weight: normal; }
li > p > a[id^="VUID-"]:before { content: "\00A7"; font-size: 1em; display: block; padding-top: 0em; background: #fff }
li > p:hover > a[id^="VUID-"], li > p > a[id^="VUID-"]:hover { visibility: visible; }
li > p > a[id^="VUID-"].link { color: black; text-decoration: none; } /* TODO: not quite sure what these two do */
li > p > a[id^="VUID-"].link:hover { color: black; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<link rel="stylesheet" href="../katex/katex.min.css">
<script src="../katex/katex.min.js"></script>
<script src="../katex/contrib/auto-render.min.js"></script>
    <!-- Use KaTeX to render math once document is loaded, see
         https://github.com/Khan/KaTeX/tree/master/contrib/auto-render -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(
            document.body,
            {
                delimiters: [
                    { left: "$$", right: "$$", display: true},
                    { left: "\\[", right: "\\]", display: true},
                    { left: "$", right: "$", display: false},
                    { left: "\\(", right: "\\)", display: false}
                ]
            }
        );
    });
</script></head>
<body class="book toc2 toc-left" style="max-width: 100%;">
<div id="header">
<h1>Vulkan<sup>速</sup> 1.0.135 - A Specification </h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>速</sup> Vulkan Working Group</span><br>
<span id="revnumber">version 1.0.135,</span>
<span id="revdate">2020-03-17 11:44:25Z</span>
<br><span id="revremark">from git branch: github-master commit: 18caa8e0b823981992e6df876ec56d4cfa8bc89f</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#introduction-conventions">1.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="#fundamentals">2. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="#fundamentals-host-environment">2.1. Host and Device Environment</a></li>
<li><a href="#fundamentals-execmodel">2.2. Execution Model</a></li>
<li><a href="#fundamentals-objectmodel-overview">2.3. Object Model</a></li>
<li><a href="#fundamentals-abi">2.4. Application Binary Interface</a></li>
<li><a href="#fundamentals-commandsyntax">2.5. Command Syntax and Duration</a></li>
<li><a href="#fundamentals-threadingbehavior">2.6. Threading Behavior</a></li>
<li><a href="#fundamentals-errors">2.7. Errors</a></li>
<li><a href="#fundamentals-numerics">2.8. Numeric Representation and Computation</a></li>
<li><a href="#fundamentals-fixedconv">2.9. Fixed-Point Data Conversions</a></li>
<li><a href="#fundamentals-common-objects">2.10. Common Object Types</a></li>
</ul>
</li>
<li><a href="#initialization">3. Initialization</a>
<ul class="sectlevel2">
<li><a href="#initialization-functionpointers">3.1. Command Function Pointers</a></li>
<li><a href="#initialization-instances">3.2. Instances</a></li>
</ul>
</li>
<li><a href="#devsandqueues">4. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="#devsandqueues-physical-device-enumeration">4.1. Physical Devices</a></li>
<li><a href="#devsandqueues-devices">4.2. Devices</a></li>
<li><a href="#devsandqueues-queues">4.3. Queues</a></li>
</ul>
</li>
<li><a href="#commandbuffers">5. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="#commandbuffers-lifecycle">5.1. Command Buffer Lifecycle</a></li>
<li><a href="#commandbuffers-pools">5.2. Command Pools</a></li>
<li><a href="#commandbuffer-allocation">5.3. Command Buffer Allocation and Management</a></li>
<li><a href="#commandbuffers-recording">5.4. Command Buffer Recording</a></li>
<li><a href="#commandbuffers-submission">5.5. Command Buffer Submission</a></li>
<li><a href="#commandbuffers-submission-progress">5.6. Queue Forward Progress</a></li>
<li><a href="#commandbuffers-secondary">5.7. Secondary Command Buffer Execution</a></li>
</ul>
</li>
<li><a href="#synchronization">6. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="#synchronization-dependencies">6.1. Execution and Memory Dependencies</a></li>
<li><a href="#synchronization-implicit">6.2. Implicit Synchronization Guarantees</a></li>
<li><a href="#synchronization-fences">6.3. Fences</a></li>
<li><a href="#synchronization-semaphores">6.4. Semaphores</a></li>
<li><a href="#synchronization-events">6.5. Events</a></li>
<li><a href="#synchronization-pipeline-barriers">6.6. Pipeline Barriers</a></li>
<li><a href="#synchronization-memory-barriers">6.7. Memory Barriers</a></li>
<li><a href="#synchronization-wait-idle">6.8. Wait Idle Operations</a></li>
<li><a href="#synchronization-submission-host-writes">6.9. Host Write Ordering Guarantees</a></li>
</ul>
</li>
<li><a href="#renderpass">7. Render Pass</a>
<ul class="sectlevel2">
<li><a href="#renderpass-creation">7.1. Render Pass Creation</a></li>
<li><a href="#renderpass-compatibility">7.2. Render Pass Compatibility</a></li>
<li><a href="#_framebuffers">7.3. Framebuffers</a></li>
<li><a href="#renderpass-commands">7.4. Render Pass Commands</a></li>
</ul>
</li>
<li><a href="#shaders">8. Shaders</a>
<ul class="sectlevel2">
<li><a href="#shader-modules">8.1. Shader Modules</a></li>
<li><a href="#shaders-execution">8.2. Shader Execution</a></li>
<li><a href="#shaders-execution-memory-ordering">8.3. Shader Memory Access Ordering</a></li>
<li><a href="#shaders-inputs">8.4. Shader Inputs and Outputs</a></li>
<li><a href="#shaders-vertex">8.5. Vertex Shaders</a></li>
<li><a href="#shaders-tessellation-control">8.6. Tessellation Control Shaders</a></li>
<li><a href="#shaders-tessellation-evaluation">8.7. Tessellation Evaluation Shaders</a></li>
<li><a href="#shaders-geometry">8.8. Geometry Shaders</a></li>
<li><a href="#shaders-fragment">8.9. Fragment Shaders</a></li>
<li><a href="#shaders-compute">8.10. Compute Shaders</a></li>
<li><a href="#shaders-interpolation-decorations">8.11. Interpolation Decorations</a></li>
<li><a href="#shaders-staticuse">8.12. Static Use</a></li>
<li><a href="#shaders-scope">8.13. Scope</a></li>
<li><a href="#shaders-derivative-operations">8.14. Derivative Operations</a></li>
<li><a href="#_helper_invocations">8.15. Helper Invocations</a></li>
</ul>
</li>
<li><a href="#pipelines">9. Pipelines</a>
<ul class="sectlevel2">
<li><a href="#pipelines-compute">9.1. Compute Pipelines</a></li>
<li><a href="#pipelines-graphics">9.2. Graphics Pipelines</a></li>
<li><a href="#pipelines-destruction">9.3. Pipeline destruction</a></li>
<li><a href="#pipelines-multiple">9.4. Multiple Pipeline Creation</a></li>
<li><a href="#pipelines-pipeline-derivatives">9.5. Pipeline Derivatives</a></li>
<li><a href="#pipelines-cache">9.6. Pipeline Cache</a></li>
<li><a href="#pipelines-specialization-constants">9.7. Specialization Constants</a></li>
<li><a href="#pipelines-binding">9.8. Pipeline Binding</a></li>
<li><a href="#pipelines-dynamic-state">9.9. Dynamic State</a></li>
</ul>
</li>
<li><a href="#memory">10. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="#memory-host">10.1. Host Memory</a></li>
<li><a href="#memory-device">10.2. Device Memory</a></li>
</ul>
</li>
<li><a href="#resources">11. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="#resources-buffers">11.1. Buffers</a></li>
<li><a href="#resources-buffer-views">11.2. Buffer Views</a></li>
<li><a href="#resources-images">11.3. Images</a></li>
<li><a href="#resources-image-layouts">11.4. Image Layouts</a></li>
<li><a href="#resources-image-views">11.5. Image Views</a></li>
<li><a href="#resources-association">11.6. Resource Memory Association</a></li>
<li><a href="#resources-sharing">11.7. Resource Sharing Mode</a></li>
<li><a href="#resources-memory-aliasing">11.8. Memory Aliasing</a></li>
</ul>
</li>
<li><a href="#samplers">12. Samplers</a></li>
<li><a href="#descriptorsets">13. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="#descriptorsets-types">13.1. Descriptor Types</a></li>
<li><a href="#descriptorsets-sets">13.2. Descriptor Sets</a></li>
</ul>
</li>
<li><a href="#interfaces">14. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="#interfaces-iointerfaces">14.1. Shader Input and Output Interfaces</a></li>
<li><a href="#interfaces-vertexinput">14.2. Vertex Input Interface</a></li>
<li><a href="#interfaces-fragmentoutput">14.3. Fragment Output Interface</a></li>
<li><a href="#interfaces-inputattachment">14.4. Fragment Input Attachment Interface</a></li>
<li><a href="#interfaces-resources">14.5. Shader Resource Interface</a></li>
<li><a href="#interfaces-builtin-variables">14.6. Built-In Variables</a></li>
</ul>
</li>
<li><a href="#textures">15. Image Operations</a>
<ul class="sectlevel2">
<li><a href="#_image_operations_overview">15.1. Image Operations Overview</a></li>
<li><a href="#_conversion_formulas">15.2. Conversion Formulas</a></li>
<li><a href="#_texel_input_operations">15.3. Texel Input Operations</a></li>
<li><a href="#_texel_output_operations">15.4. Texel Output Operations</a></li>
<li><a href="#textures-normalized-operations">15.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="#_unnormalized_texel_coordinate_operations">15.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="#textures-integer-coordinate-operations">15.7. Integer Texel Coordinate Operations</a></li>
<li><a href="#textures-sample-operations">15.8. Image Sample Operations</a></li>
<li><a href="#textures-instructions">15.9. Image Operation Steps</a></li>
</ul>
</li>
<li><a href="#queries">16. Queries</a>
<ul class="sectlevel2">
<li><a href="#queries-pools">16.1. Query Pools</a></li>
<li><a href="#queries-operation">16.2. Query Operation</a></li>
<li><a href="#queries-occlusion">16.3. Occlusion Queries</a></li>
<li><a href="#queries-pipestats">16.4. Pipeline Statistics Queries</a></li>
<li><a href="#queries-timestamps">16.5. Timestamp Queries</a></li>
</ul>
</li>
<li><a href="#clears">17. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="#clears-outside">17.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="#clears-inside">17.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="#clears-values">17.3. Clear Values</a></li>
<li><a href="#clears-filling-buffers">17.4. Filling Buffers</a></li>
<li><a href="#clears-updating-buffers">17.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="#copies">18. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="#_common_operation">18.1. Common Operation</a></li>
<li><a href="#copies-buffers">18.2. Copying Data Between Buffers</a></li>
<li><a href="#copies-images">18.3. Copying Data Between Images</a></li>
<li><a href="#copies-buffers-images">18.4. Copying Data Between Buffers and Images</a></li>
<li><a href="#copies-imagescaling">18.5. Image Copies with Scaling</a></li>
<li><a href="#copies-resolve">18.6. Resolving Multisample Images</a></li>
</ul>
</li>
<li><a href="#drawing">19. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="#drawing-primitive-topologies">19.1. Primitive Topologies</a></li>
<li><a href="#drawing-primitive-order">19.2. Primitive Order</a></li>
<li><a href="#drawing-primitive-shading">19.3. Programmable Primitive Shading</a></li>
</ul>
</li>
<li><a href="#fxvertex">20. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="#fxvertex-attrib">20.1. Vertex Attributes</a></li>
<li><a href="#fxvertex-input">20.2. Vertex Input Description</a></li>
<li><a href="#fxvertex-example">20.3. Example</a></li>
</ul>
</li>
<li><a href="#tessellation">21. Tessellation</a>
<ul class="sectlevel2">
<li><a href="#_tessellator">21.1. Tessellator</a></li>
<li><a href="#_tessellator_patch_discard">21.2. Tessellator Patch Discard</a></li>
<li><a href="#tessellation-tessellator-spacing">21.3. Tessellator Spacing</a></li>
<li><a href="#tessellation-primitive-order">21.4. Tessellation Primitive Ordering</a></li>
<li><a href="#tessellation-vertex-winding-order">21.5. Tessellator Vertex Winding Order</a></li>
<li><a href="#tessellation-triangle-tessellation">21.6. Triangle Tessellation</a></li>
<li><a href="#tessellation-quad-tessellation">21.7. Quad Tessellation</a></li>
<li><a href="#tessellation-isoline-tessellation">21.8. Isoline Tessellation</a></li>
<li><a href="#tessellation-point-mode">21.9. Tessellation Point Mode</a></li>
<li><a href="#_tessellation_pipeline_state">21.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="#geometry">22. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="#geometry-input">22.1. Geometry Shader Input Primitives</a></li>
<li><a href="#geometry-output">22.2. Geometry Shader Output Primitives</a></li>
<li><a href="#geometry-invocations">22.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="#geometry-ordering">22.4. Geometry Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="#vertexpostproc">23. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="#vertexpostproc-flatshading">23.1. Flat Shading</a></li>
<li><a href="#vertexpostproc-clipping">23.2. Primitive Clipping</a></li>
<li><a href="#vertexpostproc-clipping-shader-outputs">23.3. Clipping Shader Outputs</a></li>
<li><a href="#vertexpostproc-coord-transform">23.4. Coordinate Transformations</a></li>
<li><a href="#vertexpostproc-viewport">23.5. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="#primsrast">24. Rasterization</a>
<ul class="sectlevel2">
<li><a href="#primsrast-discard">24.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="#primrast-order">24.2. Rasterization Order</a></li>
<li><a href="#primsrast-multisampling">24.3. Multisampling</a></li>
<li><a href="#primsrast-sampleshading">24.4. Sample Shading</a></li>
<li><a href="#primsrast-points">24.5. Points</a></li>
<li><a href="#primsrast-lines">24.6. Line Segments</a></li>
<li><a href="#primsrast-polygons">24.7. Polygons</a></li>
</ul>
</li>
<li><a href="#fragops">25. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="#fragops-early">25.1. Early Per-Fragment Tests</a></li>
<li><a href="#fragops-scissor">25.2. Scissor Test</a></li>
<li><a href="#fragops-samplemask">25.3. Sample Mask</a></li>
<li><a href="#fragops-early-mode">25.4. Early Fragment Test Mode</a></li>
<li><a href="#fragops-late">25.5. Late Per-Fragment Tests</a></li>
<li><a href="#fragops-covg">25.6. Multisample Coverage</a></li>
<li><a href="#fragops-ds-state">25.7. Depth and Stencil Operations</a></li>
<li><a href="#fragops-dbt">25.8. Depth Bounds Test</a></li>
<li><a href="#fragops-stencil">25.9. Stencil Test</a></li>
<li><a href="#fragops-depth">25.10. Depth Test</a></li>
<li><a href="#fragops-samplecount">25.11. Sample Counting</a></li>
<li><a href="#fragops-coverage-reduction">25.12. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="#framebuffer">26. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="#framebuffer-blending">26.1. Blending</a></li>
<li><a href="#framebuffer-logicop">26.2. Logical Operations</a></li>
<li><a href="#framebuffer-color-write-mask">26.3. Color Write Mask</a></li>
</ul>
</li>
<li><a href="#dispatch">27. Dispatching Commands</a></li>
<li><a href="#sparsememory">28. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="#sparsememory-sparseresourcefeatures">28.1. Sparse Resource Features</a></li>
<li><a href="#sparsememory-fully-resident">28.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="#sparsememory-partially-resident-buffers">28.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="#sparsememory-partially-resident-images">28.4. Sparse Partially-Resident Images</a></li>
<li><a href="#sparsememory-sparse-memory-aliasing">28.5. Sparse Memory Aliasing</a></li>
<li><a href="#_sparse_resource_implementation_guidelines">28.6. Sparse Resource Implementation Guidelines</a></li>
<li><a href="#sparsememory-resourceapi">28.7. Sparse Resource API</a></li>
<li><a href="#sparsememory-examples">28.8. Examples</a></li>
</ul>
</li>
<li><a href="#extendingvulkan">29. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="#extendingvulkan-instanceanddevicefunctionality">29.1. Instance and Device Functionality</a></li>
<li><a href="#extendingvulkan-coreversions">29.2. Core Versions</a></li>
<li><a href="#extendingvulkan-layers">29.3. Layers</a></li>
<li><a href="#extendingvulkan-extensions">29.4. Extensions</a></li>
<li><a href="#extendingvulkan-extensions-extensiondependencies">29.5. Extension Dependencies</a></li>
<li><a href="#_compatibility_guarantees_informative">29.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="#features">30. Features</a>
<ul class="sectlevel2">
<li><a href="#features-requirements">30.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="#limits">31. Limits</a>
<ul class="sectlevel2">
<li><a href="#limits-minmax">31.1. Limit Requirements</a></li>
</ul>
</li>
<li><a href="#formats">32. Formats</a>
<ul class="sectlevel2">
<li><a href="#formats-definition">32.1. Format Definition</a></li>
<li><a href="#formats-properties">32.2. Format Properties</a></li>
<li><a href="#features-required-format-support">32.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="#capabilities">33. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="#capabilities-image">33.1. Additional Image Capabilities</a></li>
</ul>
</li>
<li><a href="#_debugging">34. Debugging</a></li>
<li><a href="#spirvenv">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="#_versions_and_formats">Versions and Formats</a></li>
<li><a href="#spirvenv-capabilities">Capabilities</a></li>
<li><a href="#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
</ul>
</li>
<li><a href="#_compressed_image_formats">Appendix B: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="#versions">Appendix C: Core Revisions (Informative)</a></li>
<li><a href="#extensions">Appendix D: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="#extension-appendices-list">List of Extensions</a></li>
</ul>
</li>
<li><a href="#boilerplate">Appendix E: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
</ul>
</li>
<li><a href="#invariance">Appendix F: Invariance</a>
<ul class="sectlevel2">
<li><a href="#_repeatability">Repeatability</a></li>
<li><a href="#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="#_invariance_rules">Invariance Rules</a></li>
<li><a href="#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="#glossary">Glossary</a></li>
<li><a href="#_common_abbreviations">Common Abbreviations</a></li>
<li><a href="#_prefixes">Prefixes</a></li>
<li><a href="#credits">Appendix G: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Copyright 2014-2020 The Khronos Group Inc.</p>
</div>
<div class="paragraph">
<p>This Specification is protected by copyright laws and contains material
proprietary to Khronos. Except as described by these terms, it or any
components may not be reproduced, republished, distributed, transmitted,
displayed, broadcast or otherwise exploited in any manner without the
express prior written permission of Khronos.
Khronos grants a conditional copyright license to use and reproduce the
unmodified Specification for any purpose, without fee or royalty, EXCEPT no
licenses to any patent, trademark or other intellectual property rights are
granted under these terms.</p>
</div>
<div class="paragraph">
<p>Khronos makes no, and expressly disclaims any, representations or
warranties, express or implied, regarding this Specification, including,
without limitation: merchantability, fitness for a particular purpose,
non-infringement of any intellectual property, correctness, accuracy,
completeness, timeliness, and reliability.
Under no circumstances will Khronos, or any of its Promoters, Contributors
or Members, or their respective partners, officers, directors, employees,
agents or representatives be liable for any damages, whether direct,
indirect, special or consequential damages for lost revenues, lost profits,
or otherwise, arising from or in connection with these materials.</p>
</div>
<div class="paragraph">
<p>This Specification has been created under the Khronos Intellectual Property
Rights Policy, which is Attachment A of the Khronos Group Membership
Agreement available at <a href="https://www.khronos.org/files/member_agreement.pdf" class="bare">https://www.khronos.org/files/member_agreement.pdf</a>, and which
defines the terms 'Scope', 'Compliant Portion', and 'Necessary Patent Claims'.
Parties desiring to implement the Specification and make use of Khronos trademarks
in relation to that implementation, and receive reciprocal patent license protection
under the Khronos Intellectual Property Rights Policy must become Adopters and
confirm the implementation as conformant under the process defined by Khronos for
this Specification; see <a href="https://www.khronos.org/adopters" class="bare">https://www.khronos.org/adopters</a>.</p>
</div>
<div class="paragraph">
<p>This Specification contains substantially unmodified functionality from, and is a
successor to, Khronos specifications including OpenGL, OpenGL ES and OpenCL.</p>
</div>
<div class="paragraph">
<p>Some parts of this Specification are purely informative and so are EXCLUDED from
the Scope of this Specification. The <a href="#introduction-conventions">Document Conventions</a> section of the
<a href="#introduction">Introduction</a> defines how these parts of the Specification are identified.</p>
</div>
<div class="paragraph">
<p>Where this Specification uses <a href="#introduction-technical-terminology">technical
terminology</a>, defined in the <a href="#glossary">Glossary</a> or otherwise, that refer to
enabling technologies that are not expressly set forth in this
Specification, those enabling technologies are EXCLUDED from the Scope of
this Specification.
For clarity, enabling technologies not disclosed with particularity in this
Specification (e.g. semiconductor manufacturing technology, hardware
architecture, processor architecture or microarchitecture, memory
architecture, compiler technology, object oriented technology, basic
operating system technology, compression technology, algorithms, and so on)
are NOT to be considered expressly set forth; only those application program
interfaces and data structures disclosed with particularity are included in
the Scope of this Specification.</p>
</div>
<div class="paragraph">
<p>For purposes of the Khronos Intellectual Property Rights Policy as it relates
to the definition of Necessary Patent Claims, all recommended or optional
features, behaviors and functionality set forth in this Specification, if
implemented, are considered to be included as Compliant Portions.</p>
</div>
<div class="paragraph">
<p>Where this Specification includes <a href="#introduction-normative-references">normative references to external documents</a>, only the specifically
identified sections of those external documents are INCLUDED in the Scope of
this Specification. If not created by Khronos, those external documents may
contain contributions from non-members of Khronos not covered by the Khronos
Intellectual Property Rights Policy.</p>
</div>
<div class="paragraph">
<p>Vulkan and Khronos are registered trademarks of The Khronos Group Inc.
ASTC is a trademark of ARM Holdings PLC; OpenCL is a trademark of Apple
Inc.; and OpenGL and OpenGL ES are registered trademarks of Hewlett Packard
Enterprise, all used under license by Khronos. All other product names,
trademarks, and/or company names are used solely for identification and
belong to their respective owners.</p>
</div>
<div style="page-break-after: always;"></div>
<!-- toc disabled -->
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document, referred to as the &#8220;Vulkan Specification&#8221; or just the
&#8220;Specification&#8221; hereafter, describes the Vulkan Application Programming
Interface (API).
Vulkan is a <a href="http://www.open-std.org/jtc1/sc22/wg14/www/standards">C99</a> API
designed for explicit control of low-level graphics and compute
functionality.</p>
</div>
<div class="paragraph">
<p>The canonical version of the Specification is available in the official
<a href="https://www.khronos.org/registry/vulkan/">Vulkan Registry</a>
(<a href="https://www.khronos.org/registry/vulkan/" class="bare">https://www.khronos.org/registry/vulkan/</a>).
The source files used to generate the Vulkan specification are stored in the
<a href="https://github.com/KhronosGroup/Vulkan-Docs">Vulkan Documentation Repository</a>
(<a href="https://github.com/KhronosGroup/Vulkan-Docs" class="bare">https://github.com/KhronosGroup/Vulkan-Docs</a>).
The source repository additionally has a public issue tracker and allows the
submission of pull requests that improve the specification.</p>
</div>
<div class="sect2">
<h3 id="introduction-conventions"><a class="anchor" href="#introduction-conventions"></a>1.1. Document Conventions</h3>
<div class="paragraph">
<p>The Vulkan specification is intended for use by both implementors of the API
and application developers seeking to make use of the API, forming a
contract between these parties.
Specification text may address either party; typically the intended audience
can be inferred from context, though some sections are defined to address
only one of these parties.
(For example, <a href="#fundamentals-validusage">Valid Usage</a> sections only address application
developers).
Any requirements, prohibitions, recommendations or options defined by
<a href="#introduction-normative-terminology">normative terminology</a> are imposed
only on the audience of that text.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Structure and enumerated types defined in extensions that were promoted to
core in Vulkan 1.1 are now defined in terms of the equivalent Vulkan 1.1
interfaces.
This affects the Vulkan Specification, the Vulkan header files, and the
corresponding XML Registry.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="introduction-normative-terminology"><a class="anchor" href="#introduction-normative-terminology"></a>1.1.1. Normative Terminology</h4>
<div class="paragraph">
<p>Within this specification, the key words <strong>must</strong>, <strong>required</strong>, <strong>should</strong>,
<strong>recommended</strong>, <strong>may</strong>, and <strong>optional</strong> are to be interpreted as described in
<a href="https://www.ietf.org/rfc/rfc2119.txt">RFC 2119 - Key words for use in RFCs to
Indicate Requirement Levels</a> (<a href="https://www.ietf.org/rfc/rfc2119.txt" class="bare">https://www.ietf.org/rfc/rfc2119.txt</a>).
These key words are highlighted in the specification for clarity.
In text addressing application developers, their use expresses requirements
that apply to application behavior.
In text addressing implementors, their use expresses requirements that apply
to implementations.</p>
</div>
<div class="paragraph">
<p>In text addressing application developers, the additional key words <strong>can</strong>
and <strong>cannot</strong> are to be interpreted as describing the capabilities of an
application, as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>can</strong></dt>
<dd>
<p>This word means that the application is able to perform the action
described.</p>
</dd>
<dt class="hdlist1"><strong>cannot</strong></dt>
<dd>
<p>This word means that the API and/or the execution environment provide no
mechanism through which the application can express or accomplish the action
described.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>These key words are never used in text addressing implementors.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There is an important distinction between <strong>cannot</strong> and <strong>must not</strong>, as used
in this Specification.
<strong>Cannot</strong> means something the application literally is unable to express or
accomplish through the API, while <strong>must not</strong> means something that the
application is capable of expressing through the API, but that the
consequences of doing so are undefined and potentially unrecoverable for
the implementation (see <a href="#fundamentals-errors">Errors</a>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Unless otherwise noted in the section heading, all sections and appendices
in this document are normative.</p>
</div>
</div>
<div class="sect3">
<h4 id="introduction-technical-terminology"><a class="anchor" href="#introduction-technical-terminology"></a>1.1.2. Technical Terminology</h4>
<div class="paragraph">
<p>The Vulkan Specification makes use of common engineering and graphics terms
such as <strong>Pipeline</strong>, <strong>Shader</strong>, and <strong>Host</strong> to identify and describe Vulkan API
constructs and their attributes, states, and behaviors.
The <a href="#glossary">Glossary</a> defines the basic meanings of these terms in the
context of the Specification.
The Specification text provides fuller definitions of the terms and may
elaborate, extend, or clarify the <a href="#glossary">Glossary</a> definitions.
When a term defined in the <a href="#glossary">Glossary</a> is used in normative
language within the Specification, the definitions within the Specification
govern and supersede any meanings the terms may have in other technical
contexts (i.e. outside the Specification).</p>
</div>
</div>
<div class="sect3">
<h4 id="introduction-normative-references"><a class="anchor" href="#introduction-normative-references"></a>1.1.3. Normative References</h4>
<div class="paragraph">
<p>References to external documents are considered normative references if the
Specification uses any of the normative terms defined in
<a href="#introduction-normative-terminology">Normative Terminology</a> to refer to them or their
requirements, either as a whole or in part.</p>
</div>
<div class="paragraph">
<p>The following documents are referenced by normative sections of the
specification:</p>
</div>
<div id="ieee-754" class="paragraph">
<p>IEEE.
August, 2008.
<em>IEEE Standard for Floating-Point Arithmetic</em>.
IEEE Std 754-2008.
<a href="https://dx.doi.org/10.1109/IEEESTD.2008.4610935" class="bare">https://dx.doi.org/10.1109/IEEESTD.2008.4610935</a> .</p>
</div>
<div class="paragraph">
<p><a id="data-format"></a> Andrew Garrard.
<em>Khronos Data Format Specification, version 1.3</em>.
<a href="https://www.khronos.org/registry/DataFormat/specs/1.3/dataformat.1.3.html" class="bare">https://www.khronos.org/registry/DataFormat/specs/1.3/dataformat.1.3.html</a> .</p>
</div>
<div class="paragraph">
<p><a id="spirv-extended"></a> John Kessenich.
<em>SPIR-V Extended Instructions for GLSL, Version 1.00</em> (February 10, 2016).
<a href="https://www.khronos.org/registry/spir-v/" class="bare">https://www.khronos.org/registry/spir-v/</a> .</p>
</div>
<div class="paragraph">
<p><a id="spirv-spec"></a> John Kessenich, Boaz Ouriel, and Raun Krisch.
<em>SPIR-V Specification, Version 1.4, Revision 1, Unified</em> (December 14,
2018).
<a href="https://www.khronos.org/registry/spir-v/" class="bare">https://www.khronos.org/registry/spir-v/</a> .</p>
</div>
<div class="paragraph">
<p><a id="vulkan-styleguide"></a> Jon Leech and Tobias Hector.
<em>Vulkan Documentation and Extensions: Procedures and Conventions</em> (July 20,
2019).
<a href="https://www.khronos.org/registry/vulkan/specs/1.1/styleguide.html" class="bare">https://www.khronos.org/registry/vulkan/specs/1.1/styleguide.html</a> .</p>
</div>
<div id="LoaderAndLayerInterface" class="paragraph">
<p><em>Vulkan Loader Specification and Architecture Overview</em> (August, 2016).
<a href="https://github.com/KhronosGroup/Vulkan-Loader/blob/master/loader/LoaderAndLayerInterface.md" class="bare">https://github.com/KhronosGroup/Vulkan-Loader/blob/master/loader/LoaderAndLayerInterface.md</a>
.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fundamentals"><a class="anchor" href="#fundamentals"></a>2. Fundamentals</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter introduces fundamental concepts including the Vulkan
architecture and execution model, API syntax, queues, pipeline
configurations, numeric representation, state and state queries, and the
different types of objects and shaders.
It provides a framework for interpreting more specific descriptions of
commands and behavior in the remainder of the Specification.</p>
</div>
<div class="sect2">
<h3 id="fundamentals-host-environment"><a class="anchor" href="#fundamentals-host-environment"></a>2.1. Host and Device Environment</h3>
<div class="paragraph">
<p>The Vulkan Specification assumes and requires: the following properties of
the host environment with respect to Vulkan implementations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The host <strong class="purple">must</strong> have runtime support for 8, 16, 32 and 64-bit signed and
unsigned twos-complement integers, all addressable at the granularity of
their size in bytes.</p>
</li>
<li>
<p>The host <strong class="purple">must</strong> have runtime support for 32- and 64-bit floating-point
types satisfying the range and precision constraints in the
<a href="#fundamentals-floatingpoint">Floating Point Computation</a> section.</p>
</li>
<li>
<p>The representation and endianness of these types on the host <strong class="purple">must</strong> match
the representation and endianness of the same types on every physical
device supported.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Since a variety of data types and structures in Vulkan <strong class="purple">may</strong> be accessible by
both host and physical device operations, the implementation <strong class="purple">should</strong> be able
to access such data efficiently in both paths in order to facilitate writing
portable and performant applications.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-execmodel"><a class="anchor" href="#fundamentals-execmodel"></a>2.2. Execution Model</h3>
<div class="paragraph">
<p>This section outlines the execution model of a Vulkan system.</p>
</div>
<div class="paragraph">
<p>Vulkan exposes one or more <em>devices</em>, each of which exposes one or more
<em>queues</em> which <strong class="purple">may</strong> process work asynchronously to one another.
The set of queues supported by a device is partitioned into <em>families</em>.
Each family supports one or more types of functionality and <strong class="purple">may</strong> contain
multiple queues with similar characteristics.
Queues within a single family are considered <em>compatible</em> with one another,
and work produced for a family of queues <strong class="purple">can</strong> be executed on any queue
within that family.
This Specification defines four types of functionality that queues <strong class="purple">may</strong>
support: graphics, compute, transfer, and sparse memory management.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>A single device <strong class="purple">may</strong> report multiple similar queue families rather than, or
as well as, reporting multiple members of one or more of those families.
This indicates that while members of those families have similar
capabilities, they are <em>not</em> directly compatible with one another.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Device memory is explicitly managed by the application.
Each device <strong class="purple">may</strong> advertise one or more heaps, representing different areas
of memory.
Memory heaps are either device local or host local, but are always visible
to the device.
Further detail about memory heaps is exposed via memory types available on
that heap.
Examples of memory areas that <strong class="purple">may</strong> be available on an implementation
include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>device local</em> is memory that is physically connected to the device.</p>
</li>
<li>
<p><em>device local, host visible</em> is device local memory that is visible to
the host.</p>
</li>
<li>
<p><em>host local, host visible</em> is memory that is local to the host and
visible to the device and host.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>On other architectures, there <strong class="purple">may</strong> only be a single heap that <strong class="purple">can</strong> be used
for any purpose.</p>
</div>
<div class="paragraph">
<p>A Vulkan application controls a set of devices through the submission of
command buffers which have recorded device commands issued via Vulkan
library calls.
The content of command buffers is specific to the underlying implementation
and is opaque to the application.
Once constructed, a command buffer <strong class="purple">can</strong> be submitted once or many times to a
queue for execution.
Multiple command buffers <strong class="purple">can</strong> be built in parallel by employing multiple
threads within the application.</p>
</div>
<div class="paragraph">
<p>Command buffers submitted to different queues <strong class="purple">may</strong> execute in parallel or
even out of order with respect to one another.
Command buffers submitted to a single queue respect
<a href="#synchronization-submission-order">submission order</a>, as described further
in <a href="#synchronization">synchronization chapter</a>.
Command buffer execution by the device is also asynchronous to host
execution.
Once a command buffer is submitted to a queue, control <strong class="purple">may</strong> return to the
application immediately.
Synchronization between the device and host, and between different queues is
the responsibility of the application.</p>
</div>
<div class="sect3">
<h4 id="fundamentals-queueoperation"><a class="anchor" href="#fundamentals-queueoperation"></a>2.2.1. Queue Operation</h4>
<div class="paragraph">
<p>Vulkan queues provide an interface to the execution engines of a device.
Commands for these execution engines are recorded into command buffers ahead
of execution time.
These command buffers are then submitted to queues with a <em>queue submission</em>
command for execution in a number of <em>batches</em>.
Once submitted to a queue, these commands will begin and complete execution
without further application intervention, though the order of this execution
is dependent on a number of <a href="#synchronization">implicit and explicit
ordering constraints</a>.</p>
</div>
<div class="paragraph">
<p>Work is submitted to queues using queue submission commands that typically
take the form <code>vkQueue*</code> (e.g. <a href="#vkQueueSubmit">vkQueueSubmit</a>,
<a href="#vkQueueBindSparse">vkQueueBindSparse</a>), and optionally take a list of semaphores upon
which to wait before work begins and a list of semaphores to signal once
work has completed.
The work itself, as well as signaling and waiting on the semaphores are all
<em>queue operations</em>.</p>
</div>
<div class="paragraph">
<p>Queue operations on different queues have no implicit ordering constraints,
and <strong class="purple">may</strong> execute in any order.
Explicit ordering constraints between queues <strong class="purple">can</strong> be expressed with
<a href="#synchronization-semaphores">semaphores</a> and
<a href="#synchronization-fences">fences</a>.</p>
</div>
<div class="paragraph">
<p>Command buffer submissions to a single queue respect
<a href="#synchronization-submission-order">submission order</a> and other
<a href="#synchronization-implicit">implicit ordering guarantees</a>, but otherwise
<strong class="purple">may</strong> overlap or execute out of order.
Other types of batches and queue submissions against a single queue (e.g.
<a href="#sparsemem-memory-binding">sparse memory binding</a>) have no implicit
ordering constraints with any other queue submission or batch.
Additional explicit ordering constraints between queue submissions and
individual batches can be expressed with
<a href="#synchronization-semaphores">semaphores</a> and
<a href="#synchronization-fences">fences</a>.</p>
</div>
<div class="paragraph">
<p>Before a fence or semaphore is signaled, it is guaranteed that any
previously submitted queue operations have completed execution, and that
memory writes from those queue operations are
<a href="#synchronization-dependencies-available-and-visible">available</a> to future
queue operations.
Waiting on a signaled semaphore or fence guarantees that previous writes
that are available are also
<a href="#synchronization-dependencies-available-and-visible">visible</a> to subsequent
commands.</p>
</div>
<div class="paragraph">
<p>Command buffer boundaries, both between primary command buffers of the same
or different batches or submissions as well as between primary and secondary
command buffers, do not introduce any additional ordering constraints.
In other words, submitting the set of command buffers (which <strong class="purple">can</strong> include
executing secondary command buffers) between any semaphore or fence
operations execute the recorded commands as if they had all been recorded
into a single primary command buffer, except that the current state is
<a href="#commandbuffers-statereset">reset</a> on each boundary.
Explicit ordering constraints <strong class="purple">can</strong> be expressed with <a href="#synchronization">explicit synchronization primitives</a>.</p>
</div>
<div class="paragraph">
<p>There are a few <a href="#synchronization-implicit">implicit ordering guarantees</a>
between commands within a command buffer, but only covering a subset of
execution.
Additional explicit ordering constraints can be expressed with the various
<a href="#synchronization">explicit synchronization primitives</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Implementations have significant freedom to overlap execution of work
submitted to a queue, and this is common due to deep pipelining and
parallelism in Vulkan devices.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="fundamentals-queueoperation-command-types" class="paragraph">
<p>Commands recorded in command buffers either perform actions (draw, dispatch,
clear, copy, query/timestamp operations, begin/end subpass operations), set
state (bind pipelines, descriptor sets, and buffers, set dynamic state, push
constants, set render pass/subpass state), or perform synchronization
(set/wait events, pipeline barrier, render pass/subpass dependencies).
Some commands perform more than one of these tasks.
State setting commands update the <em>current state</em> of the command buffer.
Some commands that perform actions (e.g. draw/dispatch) do so based on the
current state set cumulatively since the start of the command buffer.
The work involved in performing action commands is often allowed to overlap
or to be reordered, but doing so <strong class="purple">must</strong> not alter the state to be used by
each action command.
In general, action commands are those commands that alter framebuffer
attachments, read/write buffer or image memory, or write to query pools.</p>
</div>
<div class="paragraph">
<p>Synchronization commands introduce explicit
<a href="#synchronization-dependencies">execution and memory dependencies</a> between
two sets of action commands, where the second set of commands depends on the
first set of commands.
These dependencies enforce that both the execution of certain
<a href="#synchronization-pipeline-stages">pipeline stages</a> in the later set occur
after the execution of certain stages in the source set, and that the
effects of <a href="#synchronization-global-memory-barriers">memory accesses</a>
performed by certain pipeline stages occur in order and are visible to each
other.
When not enforced by an explicit dependency or <a href="#synchronization-implicit">implicit ordering guarantees</a>, action commands <strong class="purple">may</strong> overlap execution or
execute out of order, and <strong class="purple">may</strong> not see the side effects of each other&#8217;s
memory accesses.</p>
</div>
<div class="paragraph">
<p>The device executes queue operations asynchronously with respect to the
host.
Control is returned to an application immediately following command buffer
submission to a queue.
The application <strong class="purple">must</strong> synchronize work between the host and device as
needed.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-objectmodel-overview"><a class="anchor" href="#fundamentals-objectmodel-overview"></a>2.3. Object Model</h3>
<div class="paragraph">
<p>The devices, queues, and other entities in Vulkan are represented by Vulkan
objects.
At the API level, all objects are referred to by handles.
There are two classes of handles, dispatchable and non-dispatchable.
<em>Dispatchable</em> handle types are a pointer to an opaque type.
This pointer <strong class="purple">may</strong> be used by layers as part of intercepting API commands,
and thus each API command takes a dispatchable type as its first parameter.
Each object of a dispatchable type <strong class="purple">must</strong> have a unique handle value during
its lifetime.</p>
</div>
<div class="paragraph">
<p><em>Non-dispatchable</em> handle types are a 64-bit integer type whose meaning is
implementation-dependent, and <strong class="purple">may</strong> encode object information directly in the
handle rather than acting as a reference to an underlying object.
Objects of a non-dispatchable type <strong class="purple">may</strong> not have unique handle values within
a type or across types.
If handle values are not unique, then destroying one such handle <strong class="purple">must</strong> not
cause identical handles of other types to become invalid, and <strong class="purple">must</strong> not
cause identical handles of the same type to become invalid if that handle
value has been created more times than it has been destroyed.</p>
</div>
<div class="paragraph">
<p>All objects created or allocated from a <code>VkDevice</code> (i.e. with a
<code>VkDevice</code> as the first parameter) are private to that device, and <strong class="purple">must</strong>
not be used on other devices.</p>
</div>
<div class="sect3">
<h4 id="fundamentals-objectmodel-lifetime"><a class="anchor" href="#fundamentals-objectmodel-lifetime"></a>2.3.1. Object Lifetime</h4>
<div class="paragraph">
<p>Objects are created or allocated by <code>vkCreate*</code> and <code>vkAllocate*</code>
commands, respectively.
Once an object is created or allocated, its &#8220;structure&#8221; is considered to
be immutable, though the contents of certain object types is still free to
change.
Objects are destroyed or freed by <code>vkDestroy*</code> and <code>vkFree*</code>
commands, respectively.</p>
</div>
<div class="paragraph">
<p>Objects that are allocated (rather than created) take resources from an
existing pool object or memory heap, and when freed return resources to that
pool or heap.
While object creation and destruction are generally expected to be
low-frequency occurrences during runtime, allocating and freeing objects
<strong class="purple">can</strong> occur at high frequency.
Pool objects help accommodate improved performance of the allocations and
frees.</p>
</div>
<div class="paragraph">
<p>It is an application&#8217;s responsibility to track the lifetime of Vulkan
objects, and not to destroy them while they are still in use.</p>
</div>
<div id="fundamentals-objectmodel-lifetime-acquire" class="paragraph">
<p>The ownership of application-owned memory is immediately acquired by any
Vulkan command it is passed into.
Ownership of such memory <strong class="purple">must</strong> be released back to the application at the
end of the duration of the command, so that the application <strong class="purple">can</strong> alter or
free this memory as soon as all the commands that acquired it have returned.</p>
</div>
<div class="paragraph">
<p>The following object types are consumed when they are passed into a Vulkan
command and not further accessed by the objects they are used to create.
They <strong class="purple">must</strong> not be destroyed in the duration of any API command they are
passed into:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VkShaderModule</code></p>
</li>
<li>
<p><code>VkPipelineCache</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A <code>VkRenderPass</code> object passed as a parameter to create another object
is not further accessed by that object after the duration of the command it
is passed into.
A <code>VkRenderPass</code> used in a command buffer follows the rules described
below.</p>
</div>
<div class="paragraph">
<p>A <code>VkPipelineLayout</code> object <strong class="purple">must</strong> not be destroyed while any command
buffer that uses it is in the recording state.</p>
</div>
<div class="paragraph">
<p><code>VkDescriptorSetLayout</code> objects <strong class="purple">may</strong> be accessed by commands that
operate on descriptor sets allocated using that layout, and those descriptor
sets <strong class="purple">must</strong> not be updated with <a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a> after the
descriptor set layout has been destroyed.
Otherwise, a <code>VkDescriptorSetLayout</code> object passed as a parameter to
create another object is not further accessed by that object after the
duration of the command it is passed into.</p>
</div>
<div class="paragraph">
<p>The application <strong class="purple">must</strong> not destroy any other type of Vulkan object until all
uses of that object by the device (such as via command buffer execution)
have completed.</p>
</div>
<div id="fundamentals-objectmodel-lifetime-cmdbuffers" class="paragraph">
<p>The following Vulkan objects <strong class="purple">must</strong> not be destroyed while any command
buffers using the object are in the <a href="#commandbuffers-lifecycle">pending
state</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VkEvent</code></p>
</li>
<li>
<p><code>VkQueryPool</code></p>
</li>
<li>
<p><code>VkBuffer</code></p>
</li>
<li>
<p><code>VkBufferView</code></p>
</li>
<li>
<p><code>VkImage</code></p>
</li>
<li>
<p><code>VkImageView</code></p>
</li>
<li>
<p><code>VkPipeline</code></p>
</li>
<li>
<p><code>VkSampler</code></p>
</li>
<li>
<p><code>VkDescriptorPool</code></p>
</li>
<li>
<p><code>VkFramebuffer</code></p>
</li>
<li>
<p><code>VkRenderPass</code></p>
</li>
<li>
<p><code>VkCommandBuffer</code></p>
</li>
<li>
<p><code>VkCommandPool</code></p>
</li>
<li>
<p><code>VkDeviceMemory</code></p>
</li>
<li>
<p><code>VkDescriptorSet</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Destroying these objects will move any command buffers that are in the
<a href="#commandbuffers-lifecycle">recording or executable state</a>, and are using
those objects, to the <a href="#commandbuffers-lifecycle">invalid state</a>.</p>
</div>
<div class="paragraph">
<p>The following Vulkan objects <strong class="purple">must</strong> not be destroyed while any queue is
executing commands that use the object:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VkFence</code></p>
</li>
<li>
<p><code>VkSemaphore</code></p>
</li>
<li>
<p><code>VkCommandBuffer</code></p>
</li>
<li>
<p><code>VkCommandPool</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In general, objects <strong class="purple">can</strong> be destroyed or freed in any order, even if the
object being freed is involved in the use of another object (e.g. use of a
resource in a view, use of a view in a descriptor set, use of an object in a
command buffer, binding of a memory allocation to a resource), as long as
any object that uses the freed object is not further used in any way except
to be destroyed or to be reset in such a way that it no longer uses the
other object (such as resetting a command buffer).
If the object has been reset, then it <strong class="purple">can</strong> be used as if it never used the
freed object.
An exception to this is when there is a parent/child relationship between
objects.
In this case, the application <strong class="purple">must</strong> not destroy a parent object before its
children, except when the parent is explicitly defined to free its children
when it is destroyed (e.g. for pool objects, as defined below).</p>
</div>
<div class="paragraph">
<p><code>VkCommandPool</code> objects are parents of <code>VkCommandBuffer</code> objects.
<code>VkDescriptorPool</code> objects are parents of <code>VkDescriptorSet</code> objects.
<code>VkDevice</code> objects are parents of many object types (all that take a
<code>VkDevice</code> as a parameter to their creation).</p>
</div>
<div class="paragraph">
<p>The following Vulkan objects have specific restrictions for when they <strong class="purple">can</strong>
be destroyed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VkQueue</code> objects <strong class="purple">cannot</strong> be explicitly destroyed.
Instead, they are implicitly destroyed when the <code>VkDevice</code> object
they are retrieved from is destroyed.</p>
</li>
<li>
<p>Destroying a pool object implicitly frees all objects allocated from
that pool.
Specifically, destroying <code>VkCommandPool</code> frees all
<code>VkCommandBuffer</code> objects that were allocated from it, and
destroying <code>VkDescriptorPool</code> frees all <code>VkDescriptorSet</code>
objects that were allocated from it.</p>
</li>
<li>
<p><code>VkDevice</code> objects <strong class="purple">can</strong> be destroyed when all <code>VkQueue</code> objects
retrieved from them are idle, and all objects created from them have
been destroyed.
This includes the following objects:</p>
<div class="ulist">
<ul>
<li>
<p><code>VkFence</code></p>
</li>
<li>
<p><code>VkSemaphore</code></p>
</li>
<li>
<p><code>VkEvent</code></p>
</li>
<li>
<p><code>VkQueryPool</code></p>
</li>
<li>
<p><code>VkBuffer</code></p>
</li>
<li>
<p><code>VkBufferView</code></p>
</li>
<li>
<p><code>VkImage</code></p>
</li>
<li>
<p><code>VkImageView</code></p>
</li>
<li>
<p><code>VkShaderModule</code></p>
</li>
<li>
<p><code>VkPipelineCache</code></p>
</li>
<li>
<p><code>VkPipeline</code></p>
</li>
<li>
<p><code>VkPipelineLayout</code></p>
</li>
<li>
<p><code>VkSampler</code></p>
</li>
<li>
<p><code>VkDescriptorSetLayout</code></p>
</li>
<li>
<p><code>VkDescriptorPool</code></p>
</li>
<li>
<p><code>VkFramebuffer</code></p>
</li>
<li>
<p><code>VkRenderPass</code></p>
</li>
<li>
<p><code>VkCommandPool</code></p>
</li>
<li>
<p><code>VkCommandBuffer</code></p>
</li>
<li>
<p><code>VkDeviceMemory</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>VkPhysicalDevice</code> objects <strong class="purple">cannot</strong> be explicitly destroyed.
Instead, they are implicitly destroyed when the <code>VkInstance</code> object
they are retrieved from is destroyed.</p>
</li>
<li>
<p><code>VkInstance</code> objects <strong class="purple">can</strong> be destroyed once all <code>VkDevice</code>
objects created from any of its <code>VkPhysicalDevice</code> objects have been
destroyed.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-abi"><a class="anchor" href="#fundamentals-abi"></a>2.4. Application Binary Interface</h3>
<div class="paragraph">
<p>The mechanism by which Vulkan is made available to applications is platform-
or implementation- defined.
On many platforms the C interface described in this Specification is
provided by a shared library.
Since shared libraries can be changed independently of the applications that
use them, they present particular compatibility challenges, and this
Specification places some requirements on them.</p>
</div>
<div class="paragraph">
<p>Shared library implementations <strong class="purple">must</strong> use the default Application Binary
Interface (ABI) of the standard C compiler for the platform, or provide
customized API headers that cause application code to use the
implementation&#8217;s non-default ABI.
An ABI in this context means the size, alignment, and layout of C data
types; the procedure calling convention; and the naming convention for
shared library symbols corresponding to C functions.
Customizing the calling convention for a platform is usually accomplished by
defining <a href="#boilerplate-platform-specific-calling-conventions">calling
convention macros</a> appropriately in <code>vk_platform.h</code>.</p>
</div>
<div class="paragraph">
<p>On platforms where Vulkan is provided as a shared library, library symbols
beginning with &#8220;vk&#8221; and followed by a digit or uppercase letter are
reserved for use by the implementation.
Applications which use Vulkan <strong class="purple">must</strong> not provide definitions of these
symbols.
This allows the Vulkan shared library to be updated with additional symbols
for new API versions or extensions without causing symbol conflicts with
existing applications.</p>
</div>
<div class="paragraph">
<p>Shared library implementations <strong class="purple">should</strong> provide library symbols for commands
in the highest version of this Specification they support, and for
Window System Integration
extensions relevant to the platform.
They <strong class="purple">may</strong> also provide library symbols for commands defined by additional
extensions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>These requirements and recommendations are intended to allow implementors to
take advantage of platform-specific conventions for SDKs, ABIs, library
versioning mechanisms, etc.
while still minimizing the code changes necessary to port applications or
libraries between platforms.
Platform vendors, or providers of the <em>de facto</em> standard Vulkan shared
library for a platform, are encouraged to document what symbols the shared
library provides and how it will be versioned when new symbols are added.</p>
</div>
<div class="paragraph">
<p>Applications <strong class="purple">should</strong> only rely on shared library symbols for commands in the
minimum core version required by the application.
<a href="#vkGetInstanceProcAddr">vkGetInstanceProcAddr</a> and <a href="#vkGetDeviceProcAddr">vkGetDeviceProcAddr</a> <strong class="purple">should</strong> be used to
obtain function pointers for commands in core versions beyond the
application&#8217;s minimum required version.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-commandsyntax"><a class="anchor" href="#fundamentals-commandsyntax"></a>2.5. Command Syntax and Duration</h3>
<div class="paragraph">
<p>The Specification describes Vulkan commands as functions or procedures using
C99 syntax.
Language bindings for other languages such as C++ and JavaScript <strong class="purple">may</strong> allow
for stricter parameter passing, or object-oriented interfaces.</p>
</div>
<div class="paragraph">
<p>Vulkan uses the standard C types for the base type of scalar parameters
(e.g. types from <code>&lt;stdint.h&gt;</code>), with exceptions described below, or
elsewhere in the text when appropriate:</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VkBool32</code> represents boolean <code>True</code> and <code>False</code> values, since C does
not have a sufficiently portable built-in boolean type:</p>
</div>
<div id="VkBool32" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> uint32_t VkBool32;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VK_TRUE</code> represents a boolean <strong>True</strong> (integer 1) value, and
<code>VK_FALSE</code> a boolean <strong>False</strong> (integer 0) value.</p>
</div>
<div class="paragraph">
<p>All values returned from a Vulkan implementation in a <code>VkBool32</code> will
be either <code>VK_TRUE</code> or <code>VK_FALSE</code>.</p>
</div>
<div class="paragraph">
<p>Applications <strong class="purple">must</strong> not pass any other values than <code>VK_TRUE</code> or
<code>VK_FALSE</code> into a Vulkan implementation where a <code>VkBool32</code> is
expected.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VkDeviceSize</code> represents device memory size and offset values:</p>
</div>
<div id="VkDeviceSize" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> uint64_t VkDeviceSize;</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Commands that create Vulkan objects are of the form <code>vkCreate*</code> and take
<code>Vk*CreateInfo</code> structures with the parameters needed to create the
object.
These Vulkan objects are destroyed with commands of the form
<code>vkDestroy*</code>.</p>
</div>
<div class="paragraph">
<p>The last in-parameter to each command that creates or destroys a Vulkan
object is <code>pAllocator</code>.
The <code>pAllocator</code> parameter <strong class="purple">can</strong> be set to a non-<code>NULL</code> value such that
allocations for the given object are delegated to an application provided
callback; refer to the <a href="#memory-allocation">Memory Allocation</a> chapter for
further details.</p>
</div>
<div class="paragraph">
<p>Commands that allocate Vulkan objects owned by pool objects are of the form
<code>vkAllocate*</code>, and take <code>Vk*AllocateInfo</code> structures.
These Vulkan objects are freed with commands of the form <code>vkFree*</code>.
These objects do not take allocators; if host memory is needed, they will
use the allocator that was specified when their parent pool was created.</p>
</div>
<div class="paragraph">
<p>Commands are recorded into a command buffer by calling API commands of the
form <code>vkCmd*</code>.
Each such command <strong class="purple">may</strong> have different restrictions on where it <strong class="purple">can</strong> be used:
in a primary and/or secondary command buffer, inside and/or outside a render
pass, and in one or more of the supported queue types.
These restrictions are documented together with the definition of each such
command.</p>
</div>
<div class="paragraph">
<p>The <em>duration</em> of a Vulkan command refers to the interval between calling
the command and its return to the caller.</p>
</div>
<div class="sect3">
<h4 id="fundamentals-commandsyntax-results-lifetime"><a class="anchor" href="#fundamentals-commandsyntax-results-lifetime"></a>2.5.1. Lifetime of Retrieved Results</h4>
<div class="paragraph">
<p>Information is retrieved from the implementation with commands of the form
<code>vkGet*</code> and <code>vkEnumerate*</code>.</p>
</div>
<div class="paragraph">
<p>Unless otherwise specified for an individual command, the results are
<em>invariant</em>; that is, they will remain unchanged when retrieved again by
calling the same command with the same parameters, so long as those
parameters themselves all remain valid.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-threadingbehavior"><a class="anchor" href="#fundamentals-threadingbehavior"></a>2.6. Threading Behavior</h3>
<div class="paragraph">
<p>Vulkan is intended to provide scalable performance when used on multiple
host threads.
All commands support being called concurrently from multiple threads, but
certain parameters, or components of parameters are defined to be
<em>externally synchronized</em>.
This means that the caller <strong class="purple">must</strong> guarantee that no more than one thread is
using such a parameter at a given time.</p>
</div>
<div class="paragraph">
<p>More precisely, Vulkan commands use simple stores to update the state of
Vulkan objects.
A parameter declared as externally synchronized <strong class="purple">may</strong> have its contents
updated at any time during the host execution of the command.
If two commands operate on the same object and at least one of the commands
declares the object to be externally synchronized, then the caller <strong class="purple">must</strong>
guarantee not only that the commands do not execute simultaneously, but also
that the two commands are separated by an appropriate memory barrier (if
needed).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Memory barriers are particularly relevant for hosts based on the ARM CPU
architecture, which is more weakly ordered than many developers are
accustomed to from x86/x64 programming.
Fortunately, most higher-level synchronization primitives (like the pthread
library) perform memory barriers as a part of mutual exclusion, so mutexing
Vulkan objects via these primitives will have the desired effect.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Similarly the application <strong class="purple">must</strong> avoid any potential data hazard of
application-owned memory that has its
<a href="#fundamentals-objectmodel-lifetime-acquire">ownership temporarily acquired</a>
by a Vulkan command.
While the ownership of application-owned memory remains acquired by a
command the implementation <strong class="purple">may</strong> read the memory at any point, and it <strong class="purple">may</strong>
write non-<code>const</code> qualified memory at any point.
Parameters referring to non-<code>const</code> qualified application-owned memory
are not marked explicitly as <em>externally synchronized</em> in the Specification.</p>
</div>
<div class="paragraph">
<p>Many object types are <em>immutable</em>, meaning the objects <strong class="purple">cannot</strong> change once
they have been created.
These types of objects never need external synchronization, except that they
<strong class="purple">must</strong> not be destroyed while they are in use on another thread.
In certain special cases mutable object parameters are internally
synchronized, making external synchronization unnecessary.
Any command parameters that are not labeled as externally synchronized are
either not mutated by the command or are internally synchronized.
Additionally, certain objects related to a command&#8217;s parameters (e.g.
command pools and descriptor pools) <strong class="purple">may</strong> be affected by a command, and <strong class="purple">must</strong>
also be externally synchronized.
These implicit parameters are documented as described below.</p>
</div>
<div class="paragraph">
<p>Parameters of commands that are externally synchronized are listed below.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Externally Synchronized Parameters</div>
<div class="ulist">
<ul>
<li>
<p>The <code>instance</code> parameter in <a href="#vkDestroyInstance">vkDestroyInstance</a></p>
</li>
<li>
<p>The <code>device</code> parameter in <a href="#vkDestroyDevice">vkDestroyDevice</a></p>
</li>
<li>
<p>The <code>queue</code> parameter in <a href="#vkQueueSubmit">vkQueueSubmit</a></p>
</li>
<li>
<p>The <code>fence</code> parameter in <a href="#vkQueueSubmit">vkQueueSubmit</a></p>
</li>
<li>
<p>The <code>queue</code> parameter in <a href="#vkQueueWaitIdle">vkQueueWaitIdle</a></p>
</li>
<li>
<p>The <code>memory</code> parameter in <a href="#vkFreeMemory">vkFreeMemory</a></p>
</li>
<li>
<p>The <code>memory</code> parameter in <a href="#vkMapMemory">vkMapMemory</a></p>
</li>
<li>
<p>The <code>memory</code> parameter in <a href="#vkUnmapMemory">vkUnmapMemory</a></p>
</li>
<li>
<p>The <code>buffer</code> parameter in <a href="#vkBindBufferMemory">vkBindBufferMemory</a></p>
</li>
<li>
<p>The <code>image</code> parameter in <a href="#vkBindImageMemory">vkBindImageMemory</a></p>
</li>
<li>
<p>The <code>queue</code> parameter in <a href="#vkQueueBindSparse">vkQueueBindSparse</a></p>
</li>
<li>
<p>The <code>fence</code> parameter in <a href="#vkQueueBindSparse">vkQueueBindSparse</a></p>
</li>
<li>
<p>The <code>fence</code> parameter in <a href="#vkDestroyFence">vkDestroyFence</a></p>
</li>
<li>
<p>The <code>semaphore</code> parameter in <a href="#vkDestroySemaphore">vkDestroySemaphore</a></p>
</li>
<li>
<p>The <code>event</code> parameter in <a href="#vkDestroyEvent">vkDestroyEvent</a></p>
</li>
<li>
<p>The <code>event</code> parameter in <a href="#vkSetEvent">vkSetEvent</a></p>
</li>
<li>
<p>The <code>event</code> parameter in <a href="#vkResetEvent">vkResetEvent</a></p>
</li>
<li>
<p>The <code>queryPool</code> parameter in <a href="#vkDestroyQueryPool">vkDestroyQueryPool</a></p>
</li>
<li>
<p>The <code>buffer</code> parameter in <a href="#vkDestroyBuffer">vkDestroyBuffer</a></p>
</li>
<li>
<p>The <code>bufferView</code> parameter in <a href="#vkDestroyBufferView">vkDestroyBufferView</a></p>
</li>
<li>
<p>The <code>image</code> parameter in <a href="#vkDestroyImage">vkDestroyImage</a></p>
</li>
<li>
<p>The <code>imageView</code> parameter in <a href="#vkDestroyImageView">vkDestroyImageView</a></p>
</li>
<li>
<p>The <code>shaderModule</code> parameter in <a href="#vkDestroyShaderModule">vkDestroyShaderModule</a></p>
</li>
<li>
<p>The <code>pipelineCache</code> parameter in <a href="#vkDestroyPipelineCache">vkDestroyPipelineCache</a></p>
</li>
<li>
<p>The <code>dstCache</code> parameter in <a href="#vkMergePipelineCaches">vkMergePipelineCaches</a></p>
</li>
<li>
<p>The <code>pipeline</code> parameter in <a href="#vkDestroyPipeline">vkDestroyPipeline</a></p>
</li>
<li>
<p>The <code>pipelineLayout</code> parameter in <a href="#vkDestroyPipelineLayout">vkDestroyPipelineLayout</a></p>
</li>
<li>
<p>The <code>sampler</code> parameter in <a href="#vkDestroySampler">vkDestroySampler</a></p>
</li>
<li>
<p>The <code>descriptorSetLayout</code> parameter in <a href="#vkDestroyDescriptorSetLayout">vkDestroyDescriptorSetLayout</a></p>
</li>
<li>
<p>The <code>descriptorPool</code> parameter in <a href="#vkDestroyDescriptorPool">vkDestroyDescriptorPool</a></p>
</li>
<li>
<p>The <code>descriptorPool</code> parameter in <a href="#vkResetDescriptorPool">vkResetDescriptorPool</a></p>
</li>
<li>
<p>The <code>descriptorPool</code> member of the <code>pAllocateInfo</code> parameter in <a href="#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a></p>
</li>
<li>
<p>The <code>descriptorPool</code> parameter in <a href="#vkFreeDescriptorSets">vkFreeDescriptorSets</a></p>
</li>
<li>
<p>The <code>framebuffer</code> parameter in <a href="#vkDestroyFramebuffer">vkDestroyFramebuffer</a></p>
</li>
<li>
<p>The <code>renderPass</code> parameter in <a href="#vkDestroyRenderPass">vkDestroyRenderPass</a></p>
</li>
<li>
<p>The <code>commandPool</code> parameter in <a href="#vkDestroyCommandPool">vkDestroyCommandPool</a></p>
</li>
<li>
<p>The <code>commandPool</code> parameter in <a href="#vkResetCommandPool">vkResetCommandPool</a></p>
</li>
<li>
<p>The <code>commandPool</code> member of the <code>pAllocateInfo</code> parameter in <a href="#vkAllocateCommandBuffers">vkAllocateCommandBuffers</a></p>
</li>
<li>
<p>The <code>commandPool</code> parameter in <a href="#vkFreeCommandBuffers">vkFreeCommandBuffers</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkEndCommandBuffer">vkEndCommandBuffer</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkResetCommandBuffer">vkResetCommandBuffer</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdBindPipeline">vkCmdBindPipeline</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdSetViewport">vkCmdSetViewport</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdSetScissor">vkCmdSetScissor</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdSetLineWidth">vkCmdSetLineWidth</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdSetDepthBias">vkCmdSetDepthBias</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdSetStencilWriteMask">vkCmdSetStencilWriteMask</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdSetStencilReference">vkCmdSetStencilReference</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdBindVertexBuffers">vkCmdBindVertexBuffers</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdDraw">vkCmdDraw</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdDispatch">vkCmdDispatch</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdCopyBuffer">vkCmdCopyBuffer</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdCopyImage">vkCmdCopyImage</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdBlitImage">vkCmdBlitImage</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdUpdateBuffer">vkCmdUpdateBuffer</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdFillBuffer">vkCmdFillBuffer</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdClearColorImage">vkCmdClearColorImage</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdClearDepthStencilImage">vkCmdClearDepthStencilImage</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdClearAttachments">vkCmdClearAttachments</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdResolveImage">vkCmdResolveImage</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdSetEvent">vkCmdSetEvent</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdResetEvent">vkCmdResetEvent</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdWaitEvents">vkCmdWaitEvents</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdBeginQuery">vkCmdBeginQuery</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdEndQuery">vkCmdEndQuery</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdWriteTimestamp">vkCmdWriteTimestamp</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdPushConstants">vkCmdPushConstants</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdNextSubpass">vkCmdNextSubpass</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdEndRenderPass">vkCmdEndRenderPass</a></p>
</li>
<li>
<p>The <code>commandBuffer</code> parameter in <a href="#vkCmdExecuteCommands">vkCmdExecuteCommands</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>There are also a few instances where a command <strong class="purple">can</strong> take in a user allocated
list whose contents are externally synchronized parameters.
In these cases, the caller <strong class="purple">must</strong> guarantee that at most one thread is using
a given element within the list at a given time.
These parameters are listed below.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Externally Synchronized Parameter Lists</div>
<div class="ulist">
<ul>
<li>
<p>The <code>buffer</code> member of each element of the <code>pBufferBinds</code> member of each element of the <code>pBindInfo</code> parameter in <a href="#vkQueueBindSparse">vkQueueBindSparse</a></p>
</li>
<li>
<p>The <code>image</code> member of each element of the <code>pImageOpaqueBinds</code> member of each element of the <code>pBindInfo</code> parameter in <a href="#vkQueueBindSparse">vkQueueBindSparse</a></p>
</li>
<li>
<p>The <code>image</code> member of each element of the <code>pImageBinds</code> member of each element of the <code>pBindInfo</code> parameter in <a href="#vkQueueBindSparse">vkQueueBindSparse</a></p>
</li>
<li>
<p>Each element of the <code>pFences</code> parameter in <a href="#vkResetFences">vkResetFences</a></p>
</li>
<li>
<p>Each element of the <code>pDescriptorSets</code> parameter in <a href="#vkFreeDescriptorSets">vkFreeDescriptorSets</a></p>
</li>
<li>
<p>The <code>dstSet</code> member of each element of the <code>pDescriptorWrites</code> parameter in <a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></p>
</li>
<li>
<p>The <code>dstSet</code> member of each element of the <code>pDescriptorCopies</code> parameter in <a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a></p>
</li>
<li>
<p>Each element of the <code>pCommandBuffers</code> parameter in <a href="#vkFreeCommandBuffers">vkFreeCommandBuffers</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>In addition, there are some implicit parameters that need to be externally
synchronized.
For example, all <code>commandBuffer</code> parameters that need to be externally
synchronized imply that the <code>commandPool</code> that was passed in when
creating that command buffer also needs to be externally synchronized.
The implicit parameters and their associated object are listed below.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Implicit Externally Synchronized Parameters</div>
<div class="ulist">
<ul>
<li>
<p>All <code>VkQueue</code> objects created from <code>device</code> in <a href="#vkDeviceWaitIdle">vkDeviceWaitIdle</a></p>
</li>
<li>
<p>Any <code>VkDescriptorSet</code> objects allocated from <code>descriptorPool</code> in <a href="#vkResetDescriptorPool">vkResetDescriptorPool</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from in <a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from in <a href="#vkEndCommandBuffer">vkEndCommandBuffer</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdBindPipeline">vkCmdBindPipeline</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdSetViewport">vkCmdSetViewport</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdSetScissor">vkCmdSetScissor</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdSetLineWidth">vkCmdSetLineWidth</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdSetDepthBias">vkCmdSetDepthBias</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdSetStencilWriteMask">vkCmdSetStencilWriteMask</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdSetStencilReference">vkCmdSetStencilReference</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdBindDescriptorSets">vkCmdBindDescriptorSets</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdBindVertexBuffers">vkCmdBindVertexBuffers</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdDraw">vkCmdDraw</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdDispatch">vkCmdDispatch</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdCopyBuffer">vkCmdCopyBuffer</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdCopyImage">vkCmdCopyImage</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdBlitImage">vkCmdBlitImage</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdUpdateBuffer">vkCmdUpdateBuffer</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdFillBuffer">vkCmdFillBuffer</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdClearColorImage">vkCmdClearColorImage</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdClearDepthStencilImage">vkCmdClearDepthStencilImage</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdClearAttachments">vkCmdClearAttachments</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdResolveImage">vkCmdResolveImage</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdSetEvent">vkCmdSetEvent</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdResetEvent">vkCmdResetEvent</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdWaitEvents">vkCmdWaitEvents</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdBeginQuery">vkCmdBeginQuery</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdEndQuery">vkCmdEndQuery</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdWriteTimestamp">vkCmdWriteTimestamp</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdPushConstants">vkCmdPushConstants</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdNextSubpass">vkCmdNextSubpass</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdEndRenderPass">vkCmdEndRenderPass</a></p>
</li>
<li>
<p>The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from, in <a href="#vkCmdExecuteCommands">vkCmdExecuteCommands</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-errors"><a class="anchor" href="#fundamentals-errors"></a>2.7. Errors</h3>
<div class="paragraph">
<p>Vulkan is a layered API.
The lowest layer is the core Vulkan layer, as defined by this Specification.
The application <strong class="purple">can</strong> use additional layers above the core for debugging,
validation, and other purposes.</p>
</div>
<div class="paragraph">
<p>One of the core principles of Vulkan is that building and submitting command
buffers <strong class="purple">should</strong> be highly efficient.
Thus error checking and validation of state in the core layer is minimal,
although more rigorous validation <strong class="purple">can</strong> be enabled through the use of layers.</p>
</div>
<div class="paragraph">
<p>The core layer assumes applications are using the API correctly.
Except as documented elsewhere in the Specification, the behavior of the
core layer to an application using the API incorrectly is undefined, and
<strong class="purple">may</strong> include program termination.
However, implementations <strong class="purple">must</strong> ensure that incorrect usage by an application
does not affect the integrity of the operating system, the Vulkan
implementation, or other Vulkan client applications in the system.
In particular, any guarantees made by an operating system about whether
memory from one process <strong class="purple">can</strong> be visible to another process or not <strong class="purple">must</strong> not
be violated by a Vulkan implementation for <strong>any memory allocation</strong>.
Vulkan implementations are not <strong class="purple">required</strong> to make additional security or
integrity guarantees beyond those provided by the OS unless explicitly
directed by the application&#8217;s use of a particular feature or extension.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For instance, if an operating system guarantees that data in all its memory
allocations are set to zero when newly allocated, the Vulkan implementation
<strong class="purple">must</strong> make the same guarantees for any allocations it controls (e.g.
<a href="#VkDeviceMemory">VkDeviceMemory</a>).</p>
</div>
<div class="paragraph">
<p>Similarly, if an operating system guarantees that use-after-free of host
allocations will not result in values written by another process becoming
visible, the same guarantees <strong class="purple">must</strong> be made by the Vulkan implementation for
device memory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Validation of correct API usage is left to validation layers.
Applications <strong class="purple">should</strong> be developed with validation layers enabled, to help
catch and eliminate errors.
Once validated, released applications <strong class="purple">should</strong> not enable validation layers
by default.</p>
</div>
<div class="sect3">
<h4 id="fundamentals-validusage"><a class="anchor" href="#fundamentals-validusage"></a>2.7.1. Valid Usage</h4>
<div class="paragraph">
<p>Valid usage defines a set of conditions which <strong class="purple">must</strong> be met in order to
achieve well-defined run-time behavior in an application.
These conditions depend only on Vulkan state, and the parameters or objects
whose usage is constrained by the condition.</p>
</div>
<div class="paragraph">
<p>Some valid usage conditions have dependencies on run-time limits or feature
availability.
It is possible to validate these conditions against Vulkan&#8217;s minimum
supported values for these limits and features, or some subset of other
known values.</p>
</div>
<div class="paragraph">
<p>Valid usage conditions do not cover conditions where well-defined behavior
(including returning an error code) exists.</p>
</div>
<div class="paragraph">
<p>Valid usage conditions <strong class="purple">should</strong> apply to the command or structure where
complete information about the condition would be known during execution of
an application.
This is such that a validation layer or linter <strong class="purple">can</strong> be written directly
against these statements at the point they are specified.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This does lead to some non-obvious places for valid usage statements.
For instance, the valid values for a structure might depend on a separate
value in the calling command.
In this case, the structure itself will not reference this valid usage as it
is impossible to determine validity from the structure that it is invalid -
instead this valid usage would be attached to the calling command.</p>
</div>
<div class="paragraph">
<p>Another example is draw state - the state setters are independent, and can
cause a legitimately invalid state configuration between draw calls; so the
valid usage statements are attached to the place where all state needs to be
valid - at the draw command.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Valid usage conditions are described in a block labelled &#8220;Valid Usage&#8221;
following each command or structure they apply to.</p>
</div>
</div>
<div class="sect3">
<h4 id="fundamentals-implicit-validity"><a class="anchor" href="#fundamentals-implicit-validity"></a>2.7.2. Implicit Valid Usage</h4>
<div class="paragraph">
<p>Some valid usage conditions apply to all commands and structures in the API,
unless explicitly denoted otherwise for a specific command or structure.
These conditions are considered <em>implicit</em>, and are described in a block
labelled &#8220;Valid Usage (Implicit)&#8221; following each command or structure they
apply to.
Implicit valid usage conditions are described in detail below.</p>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-handles"><a class="anchor" href="#fundamentals-validusage-handles"></a>Valid Usage for Object Handles</h5>
<div class="paragraph">
<p>Any input parameter to a command that is an object handle <strong class="purple">must</strong> be a valid
object handle, unless otherwise specified.
An object handle is valid if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It has been created or allocated by a previous, successful call to the
API.
Such calls are noted in the Specification.</p>
</li>
<li>
<p>It has not been deleted or freed by a previous call to the API.
Such calls are noted in the Specification.</p>
</li>
<li>
<p>Any objects used by that object, either as part of creation or
execution, <strong class="purple">must</strong> also be valid.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The reserved values <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a> and <code>NULL</code> <strong class="purple">can</strong> be used in place of
valid non-dispatchable handles and dispatchable handles, respectively, when
<em>explicitly called out in the Specification</em>.
Any command that creates an object successfully <strong class="purple">must</strong> not return these
values.
It is valid to pass these values to <code>vkDestroy*</code> or <code>vkFree*</code>
commands, which will silently ignore these values.</p>
</div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-pointers"><a class="anchor" href="#fundamentals-validusage-pointers"></a>Valid Usage for Pointers</h5>
<div class="paragraph">
<p>Any parameter that is a pointer <strong class="purple">must</strong> be a <em>valid pointer</em> only if it is
explicitly called out by a Valid Usage statement.</p>
</div>
<div class="paragraph">
<p>A pointer is &#8220;valid&#8221; if it points at memory containing values of the
number and type(s) expected by the command, and all fundamental types
accessed through the pointer (e.g. as elements of an array or as members of
a structure) satisfy the alignment requirements of the host processor.</p>
</div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-strings"><a class="anchor" href="#fundamentals-validusage-strings"></a>Valid Usage for Strings</h5>
<div class="paragraph">
<p>Any parameter that is a pointer to <code>char</code> <strong class="purple">must</strong> be a finite sequence of
values terminated by a null character, or if <em>explicitly called out in the
Specification</em>, <strong class="purple">can</strong> be <code>NULL</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-enums"><a class="anchor" href="#fundamentals-validusage-enums"></a>Valid Usage for Enumerated Types</h5>
<div class="paragraph">
<p>Any parameter of an enumerated type <strong class="purple">must</strong> be a valid enumerant for that
type.
A enumerant is valid if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The enumerant is defined as part of the enumerated type.</p>
</li>
<li>
<p>The enumerant is not one of the special values defined for the
enumerated type, which are suffixed with <code>_BEGIN_RANGE</code>,
<code>_END_RANGE</code>, <code>_RANGE_SIZE</code> or <code>_MAX_ENUM</code><sup>1</sup>.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">1</dt>
<dd>
<p>The meaning of these special tokens is not exposed in the Vulkan
Specification.
They are not part of the API, and they <strong class="purple">should</strong> not be used by
applications.
Their original intended use was for internal consumption by Vulkan
implementations.
Even that use will no longer be supported in the future, but they will
be retained for backwards compatibility reasons.</p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any enumerated type returned from a query command or otherwise output from
Vulkan to the application <strong class="purple">must</strong> not have a reserved value.
Reserved values are values not defined by any extension for that enumerated
type.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This language is intended to accommodate cases such as &#8220;hidden&#8221; extensions
known only to driver internals, or layers enabling extensions without
knowledge of the application, without allowing return of values not defined
by any extension.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-flags"><a class="anchor" href="#fundamentals-validusage-flags"></a>Valid Usage for Flags</h5>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A collection of flags is represented by a bitmask using the type
<code>VkFlags</code>:</p>
</div>
<div id="VkFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> uint32_t VkFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bitmasks are passed to many commands and structures to compactly represent
options, but <code>VkFlags</code> is not used directly in the API.
Instead, a <code>Vk*Flags</code> type which is an alias of <code>VkFlags</code>, and
whose name matches the corresponding <code>Vk*FlagBits</code> that are valid for
that type, is used.</p>
</div>
<div class="paragraph">
<p>Any <code>Vk*Flags</code> member or parameter used in the API as an input <strong class="purple">must</strong> be
a valid combination of bit flags.
A valid combination is either zero or the bitwise OR of valid bit flags.
A bit flag is valid if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The bit flag is defined as part of the <code>Vk*FlagBits</code> type, where the
bits type is obtained by taking the flag type and replacing the trailing
<code>Flags</code> with <code>FlagBits</code>.
For example, a flag value of type <a href="#VkColorComponentFlags">VkColorComponentFlags</a> <strong class="purple">must</strong>
contain only bit flags defined by <a href="#VkColorComponentFlagBits">VkColorComponentFlagBits</a>.</p>
</li>
<li>
<p>The flag is allowed in the context in which it is being used.
For example, in some cases, certain bit flags or combinations of bit
flags are mutually exclusive.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any <code>Vk*Flags</code> member or parameter returned from a query command or
otherwise output from Vulkan to the application <strong class="purple">may</strong> contain bit flags
undefined in its corresponding <code>Vk*FlagBits</code> type.
An application <strong class="purple">cannot</strong> rely on the state of these unspecified bits.</p>
</div>
<div class="paragraph">
<p>Only the low-order 31 bits (bit positions zero through 30) are available for
use as flag bits.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This restriction is due to poorly defined behavior by C compilers given a C
enumerant value of <code>0x80000000</code>.
In some cases adding this enumerant value may increase the size of the
underlying <code>Vk*FlagBits</code> type, breaking the ABI.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-sType"><a class="anchor" href="#fundamentals-validusage-sType"></a>Valid Usage for Structure Types</h5>
<div class="paragraph">
<p>Any parameter that is a structure containing a <code>sType</code> member <strong class="purple">must</strong> have
a value of <code>sType</code> which is a valid <a href="#VkStructureType">VkStructureType</a> value matching
the type of the structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Structure types supported by the Vulkan API include:</p>
</div>
<div id="VkStructureType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkStructureType {
    VK_STRUCTURE_TYPE_APPLICATION_INFO = <span class="integer">0</span>,
    VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO = <span class="integer">1</span>,
    VK_STRUCTURE_TYPE_DEVICE_QUEUE_CREATE_INFO = <span class="integer">2</span>,
    VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO = <span class="integer">3</span>,
    VK_STRUCTURE_TYPE_SUBMIT_INFO = <span class="integer">4</span>,
    VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO = <span class="integer">5</span>,
    VK_STRUCTURE_TYPE_MAPPED_MEMORY_RANGE = <span class="integer">6</span>,
    VK_STRUCTURE_TYPE_BIND_SPARSE_INFO = <span class="integer">7</span>,
    VK_STRUCTURE_TYPE_FENCE_CREATE_INFO = <span class="integer">8</span>,
    VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO = <span class="integer">9</span>,
    VK_STRUCTURE_TYPE_EVENT_CREATE_INFO = <span class="integer">10</span>,
    VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO = <span class="integer">11</span>,
    VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO = <span class="integer">12</span>,
    VK_STRUCTURE_TYPE_BUFFER_VIEW_CREATE_INFO = <span class="integer">13</span>,
    VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO = <span class="integer">14</span>,
    VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO = <span class="integer">15</span>,
    VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO = <span class="integer">16</span>,
    VK_STRUCTURE_TYPE_PIPELINE_CACHE_CREATE_INFO = <span class="integer">17</span>,
    VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO = <span class="integer">18</span>,
    VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO = <span class="integer">19</span>,
    VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO = <span class="integer">20</span>,
    VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_STATE_CREATE_INFO = <span class="integer">21</span>,
    VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO = <span class="integer">22</span>,
    VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO = <span class="integer">23</span>,
    VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO = <span class="integer">24</span>,
    VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO = <span class="integer">25</span>,
    VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO = <span class="integer">26</span>,
    VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO = <span class="integer">27</span>,
    VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO = <span class="integer">28</span>,
    VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_CREATE_INFO = <span class="integer">29</span>,
    VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO = <span class="integer">30</span>,
    VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO = <span class="integer">31</span>,
    VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO = <span class="integer">32</span>,
    VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_CREATE_INFO = <span class="integer">33</span>,
    VK_STRUCTURE_TYPE_DESCRIPTOR_SET_ALLOCATE_INFO = <span class="integer">34</span>,
    VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET = <span class="integer">35</span>,
    VK_STRUCTURE_TYPE_COPY_DESCRIPTOR_SET = <span class="integer">36</span>,
    VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO = <span class="integer">37</span>,
    VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO = <span class="integer">38</span>,
    VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO = <span class="integer">39</span>,
    VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO = <span class="integer">40</span>,
    VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_INFO = <span class="integer">41</span>,
    VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO = <span class="integer">42</span>,
    VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO = <span class="integer">43</span>,
    VK_STRUCTURE_TYPE_BUFFER_MEMORY_BARRIER = <span class="integer">44</span>,
    VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER = <span class="integer">45</span>,
    VK_STRUCTURE_TYPE_MEMORY_BARRIER = <span class="integer">46</span>,
    VK_STRUCTURE_TYPE_LOADER_INSTANCE_CREATE_INFO = <span class="integer">47</span>,
    VK_STRUCTURE_TYPE_LOADER_DEVICE_CREATE_INFO = <span class="integer">48</span>,
    VK_STRUCTURE_TYPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkStructureType;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each value corresponds to a particular structure with a <code>sType</code> member
with a matching name.
As a general rule, the name of each <a href="#VkStructureType">VkStructureType</a> value is obtained
by taking the name of the structure, stripping the leading <code>Vk</code>,
prefixing each capital letter with <code>_</code>, converting the entire resulting
string to upper case, and prefixing it with <code>VK_STRUCTURE_TYPE_</code>.
For example, structures of type <code>VkImageCreateInfo</code> correspond to a
<a href="#VkStructureType">VkStructureType</a> of <code>VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</code>, and thus
its <code>sType</code> member <strong class="purple">must</strong> equal that when it is passed to the API.</p>
</div>
<div class="paragraph">
<p>The values <code>VK_STRUCTURE_TYPE_LOADER_INSTANCE_CREATE_INFO</code> and
<code>VK_STRUCTURE_TYPE_LOADER_DEVICE_CREATE_INFO</code> are reserved for internal
use by the loader, and do not have corresponding Vulkan structures in this
Specification.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-pNext"><a class="anchor" href="#fundamentals-validusage-pNext"></a>Valid Usage for Structure Pointer Chains</h5>
<div class="paragraph">
<p>Any parameter that is a structure containing a <code>void*</code> <code>pNext</code> member
<strong class="purple">must</strong> have a value of <code>pNext</code> that is either <code>NULL</code>, or is a pointer to
a valid structure defined by an extension, containing <code>sType</code> and
<code>pNext</code> members as described in the <a href="#vulkan-styleguide">Vulkan
Documentation and Extensions</a> document in the section &#8220;Extension
Interactions&#8221;.
The set of structures connected by <code>pNext</code> pointers is referred to as a
<em><code>pNext</code> chain</em>.
If that extension is supported by the implementation, then it <strong class="purple">must</strong> be
enabled.</p>
</div>
<div class="paragraph">
<p>Each type of valid structure <strong class="purple">must</strong> not appear more than once in a
<code>pNext</code> chain, including any
<a href="#extendingvulkan-compatibility-aliases">aliases</a>.</p>
</div>
<div class="paragraph">
<p>Any component of the implementation (the loader, any enabled layers, and
drivers) <strong class="purple">must</strong> skip over, without processing (other than reading the
<code>sType</code> and <code>pNext</code> members) any structures in the chain with
<code>sType</code> values not defined by extensions supported by that component.</p>
</div>
<div class="paragraph">
<p>Extension structures are not described in the base Vulkan Specification, but
either in layered Specifications incorporating those extensions, or in
separate vendor-provided documents.</p>
</div>
<div class="paragraph">
<p>As a convenience to implementations and layers needing to iterate through a
structure pointer chain, the Vulkan API provides two <em>base structures</em>.
These structures allow for some type safety, and can be used by Vulkan API
functions that operate on generic inputs and outputs.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBaseInStructure</code> structure is defined as:</p>
</div>
<div id="VkBaseInStructure" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkBaseInStructure {
    VkStructureType                    sType;
    <span class="directive">const</span> <span class="keyword">struct</span> VkBaseInStructure*    pNext;
} VkBaseInStructure;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the structure type of the structure being iterated
through.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to the next structure in a structure
chain.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>VkBaseInStructure</code> can be used to facilitate iterating through a
read-only structure pointer chain.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBaseOutStructure</code> structure is defined as:</p>
</div>
<div id="VkBaseOutStructure" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkBaseOutStructure {
    VkStructureType               sType;
    <span class="keyword">struct</span> VkBaseOutStructure*    pNext;
} VkBaseOutStructure;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the structure type of the structure being iterated
through.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to the next structure in a structure
chain.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>VkBaseOutStructure</code> can be used to facilitate iterating through a
structure pointer chain that returns data back to the application.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-nested-structs"><a class="anchor" href="#fundamentals-validusage-nested-structs"></a>Valid Usage for Nested Structures</h5>
<div class="paragraph">
<p>The above conditions also apply recursively to members of structures
provided as input to a command, either as a direct argument to the command,
or themselves a member of another structure.</p>
</div>
<div class="paragraph">
<p>Specifics on valid usage of each command are covered in their individual
sections.</p>
</div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-extensions"><a class="anchor" href="#fundamentals-validusage-extensions"></a>Valid Usage for Extensions</h5>
<div class="paragraph">
<p>Instance-level functionality or behavior added by an <a href="#extensions">instance
extension</a> to the API <strong class="purple">must</strong> not be used unless that extension is supported
by the instance as determined by
<a href="#vkEnumerateInstanceExtensionProperties">vkEnumerateInstanceExtensionProperties</a>, and that extension is enabled
in <a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a>.</p>
</div>
<div class="paragraph">
<p>Physical-device-level functionality or behavior added by an <a href="#extensions">instance extension</a> to the API <strong class="purple">must</strong> not be used unless that extension is
supported by the instance as determined by
<a href="#vkEnumerateInstanceExtensionProperties">vkEnumerateInstanceExtensionProperties</a>, and that extension is enabled
in <a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a>.</p>
</div>
<div class="paragraph">
<p>Device functionality or behavior added by a <a href="#extensions">device extension</a>
to the API <strong class="purple">must</strong> not be used unless that extension is supported by the
device as determined by <a href="#vkEnumerateDeviceExtensionProperties">vkEnumerateDeviceExtensionProperties</a>, and that
extension is enabled in <a href="#VkDeviceCreateInfo">VkDeviceCreateInfo</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="fundamentals-validusage-versions"><a class="anchor" href="#fundamentals-validusage-versions"></a>Valid Usage for Newer Core Versions</h5>
<div class="paragraph">
<p>Physical-device-level functionality or behavior added by a <a href="#versions">new
core version</a> of the API <strong class="purple">must</strong> not be used unless it is supported by the
physical device as determined by
<a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>apiVersion</code> and the specified version
of <a href="#VkApplicationInfo">VkApplicationInfo</a>::<code>apiVersion</code>.</p>
</div>
<div class="paragraph">
<p>Device-level functionality or behavior added by a <a href="#versions">new core
version</a> of the API <strong class="purple">must</strong> not be used unless it is supported by the device
as determined by <a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>apiVersion</code> and the
specified version of <a href="#VkApplicationInfo">VkApplicationInfo</a>::<code>apiVersion</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fundamentals-returncodes"><a class="anchor" href="#fundamentals-returncodes"></a>2.7.3. Return Codes</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>While the core Vulkan API is not designed to capture incorrect usage, some
circumstances still require return codes.
Commands in Vulkan return their status via return codes that are in one of
two categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Successful completion codes are returned when a command needs to
communicate success or status information.
All successful completion codes are non-negative values.</p>
</li>
<li>
<p>Run time error codes are returned when a command needs to communicate a
failure that could only be detected at run time.
All run time error codes are negative values.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All return codes in Vulkan are reported via <a href="#VkResult">VkResult</a> return values.
The possible codes are:</p>
</div>
<div id="VkResult" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkResult {
    VK_SUCCESS = <span class="integer">0</span>,
    VK_NOT_READY = <span class="integer">1</span>,
    VK_TIMEOUT = <span class="integer">2</span>,
    VK_EVENT_SET = <span class="integer">3</span>,
    VK_EVENT_RESET = <span class="integer">4</span>,
    VK_INCOMPLETE = <span class="integer">5</span>,
    VK_ERROR_OUT_OF_HOST_MEMORY = -<span class="integer">1</span>,
    VK_ERROR_OUT_OF_DEVICE_MEMORY = -<span class="integer">2</span>,
    VK_ERROR_INITIALIZATION_FAILED = -<span class="integer">3</span>,
    VK_ERROR_DEVICE_LOST = -<span class="integer">4</span>,
    VK_ERROR_MEMORY_MAP_FAILED = -<span class="integer">5</span>,
    VK_ERROR_LAYER_NOT_PRESENT = -<span class="integer">6</span>,
    VK_ERROR_EXTENSION_NOT_PRESENT = -<span class="integer">7</span>,
    VK_ERROR_FEATURE_NOT_PRESENT = -<span class="integer">8</span>,
    VK_ERROR_INCOMPATIBLE_DRIVER = -<span class="integer">9</span>,
    VK_ERROR_TOO_MANY_OBJECTS = -<span class="integer">10</span>,
    VK_ERROR_FORMAT_NOT_SUPPORTED = -<span class="integer">11</span>,
    VK_ERROR_FRAGMENTED_POOL = -<span class="integer">12</span>,
    VK_ERROR_UNKNOWN = -<span class="integer">13</span>,
    VK_RESULT_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkResult;</code></pre>
</div>
</div>
<div id="fundamentals-successcodes" class="ulist">
<div class="title">Success Codes</div>
<ul>
<li>
<p><code>VK_SUCCESS</code> Command successfully completed</p>
</li>
<li>
<p><code>VK_NOT_READY</code> A fence or query has not yet completed</p>
</li>
<li>
<p><code>VK_TIMEOUT</code> A wait operation has not completed in the specified
time</p>
</li>
<li>
<p><code>VK_EVENT_SET</code> An event is signaled</p>
</li>
<li>
<p><code>VK_EVENT_RESET</code> An event is unsignaled</p>
</li>
<li>
<p><code>VK_INCOMPLETE</code> A return array was too small for the result</p>
</li>
</ul>
</div>
<div id="fundamentals-errorcodes" class="ulist">
<div class="title">Error codes</div>
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code> A host memory allocation has failed.</p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code> A device memory allocation has
failed.</p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code> Initialization of an object could
not be completed for implementation-specific reasons.</p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code> The logical or physical device has been lost.
See <a href="#devsandqueues-lost-device">Lost Device</a></p>
</li>
<li>
<p><code>VK_ERROR_MEMORY_MAP_FAILED</code> Mapping of a memory object has failed.</p>
</li>
<li>
<p><code>VK_ERROR_LAYER_NOT_PRESENT</code> A requested layer is not present or
could not be loaded.</p>
</li>
<li>
<p><code>VK_ERROR_EXTENSION_NOT_PRESENT</code> A requested extension is not
supported.</p>
</li>
<li>
<p><code>VK_ERROR_FEATURE_NOT_PRESENT</code> A requested feature is not supported.</p>
</li>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_DRIVER</code> The requested version of Vulkan is
not supported by the driver or is otherwise incompatible for
implementation-specific reasons.</p>
</li>
<li>
<p><code>VK_ERROR_TOO_MANY_OBJECTS</code> Too many objects of the type have
already been created.</p>
</li>
<li>
<p><code>VK_ERROR_FORMAT_NOT_SUPPORTED</code> A requested format is not supported
on this device.</p>
</li>
<li>
<p><code>VK_ERROR_FRAGMENTED_POOL</code> A pool allocation has failed due to
fragmentation of the pool&#8217;s memory.
This <strong class="purple">must</strong> only be returned if no attempt to allocate host or device
memory was made to accommodate the new allocation.</p>
</li>
<li>
<p><code>VK_ERROR_UNKNOWN</code> An unknown error has occurred; either the
application has provided invalid input, or an implementation failure has
occurred.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a command returns a run time error, unless otherwise specified any output
parameters will have undefined contents, except that if the output
parameter is a structure with <code>sType</code> and <code>pNext</code> fields, those
fields will be unmodified.
Any structures chained from <code>pNext</code> will also have undefined contents,
except that <code>sType</code> and <code>pNext</code> will be unmodified.</p>
</div>
<div class="paragraph">
<p>Out of memory errors do not damage any currently existing Vulkan objects.
Objects that have already been successfully created <strong class="purple">can</strong> still be used by
the application.</p>
</div>
<div class="paragraph">
<p><code>VK_ERROR_UNKNOWN</code> will be returned by an implementation when an
unexpected error occurs that cannot be attributed to valid behavior of the
application and implementation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If <code>VK_ERROR_UNKNOWN</code> is received, the application should be checked
against the latest validation layers to verify correct behavior as much as
possible.
If no issues are identified it could be an implementation issue, and the
implementor should be contacted for support.</p>
</div>
<div class="paragraph">
<p>This error should not be expected from any command if application behavior
is valid, and if the implementation is bug-free, but it can be returned by
<em>any</em> error returning command when that is not the case.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Performance-critical commands generally do not have return codes.
If a run time error occurs in such commands, the implementation will defer
reporting the error until a specified point.
For commands that record into command buffers (<code>vkCmd*</code>) run time errors
are reported by <code>vkEndCommandBuffer</code>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-numerics"><a class="anchor" href="#fundamentals-numerics"></a>2.8. Numeric Representation and Computation</h3>
<div class="paragraph">
<p>Implementations normally perform computations in floating-point, and <strong class="purple">must</strong>
meet the range and precision requirements defined under &#8220;Floating-Point
Computation&#8221; below.</p>
</div>
<div class="paragraph">
<p>These requirements only apply to computations performed in Vulkan operations
outside of shader execution, such as texture image specification and
sampling, and per-fragment operations.
Range and precision requirements during shader execution differ and are
specified by the <a href="#spirvenv-precision-operation">Precision and Operation of
SPIR-V Instructions</a> section.</p>
</div>
<div class="paragraph">
<p>In some cases, the representation and/or precision of operations is
implicitly limited by the specified format of vertex or texel data consumed
by Vulkan.
Specific floating-point formats are described later in this section.</p>
</div>
<div class="sect3">
<h4 id="fundamentals-floatingpoint"><a class="anchor" href="#fundamentals-floatingpoint"></a>2.8.1. Floating-Point Computation</h4>
<div class="paragraph">
<p>Most floating-point computation is performed in SPIR-V shader modules.
The properties of computation within shaders are constrained as defined by
the <a href="#spirvenv-precision-operation">Precision and Operation of SPIR-V
Instructions</a> section.</p>
</div>
<div class="paragraph">
<p>Some floating-point computation is performed outside of shaders, such as
viewport and depth range calculations.
For these computations, we do not specify how floating-point numbers are to
be represented, or the details of how operations on them are performed, but
only place minimal requirements on representation and precision as described
in the remainder of this section.</p>
</div>
<div class="paragraph">
<p>We require simply that numbers&#8217; floating-point parts contain enough bits
and that their exponent fields are large enough so that individual results
of floating-point operations are accurate to about 1 part in 10<sup>5</sup>.
The maximum representable magnitude for all floating-point values <strong class="purple">must</strong> be
at least 2<sup>32</sup>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">x  0 = 0  x = 0</span> for any non-infinite and
non-<span class="eq">NaN</span> <span class="eq">x</span>.</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">1  x = x  1 = x</span>.</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">x +  0 = 0 +  x = x</span>.</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">0<sup>0</sup> = 1</span>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Occasionally, further requirements will be specified.
Most single-precision floating-point formats meet these requirements.</p>
</div>
<div class="paragraph">
<p>The special values <span class="eq">Inf</span> and <span class="eq">-Inf</span> encode values with magnitudes
too large to be represented; the special value <span class="eq">NaN</span> encodes &#8220;Not A
Number&#8221; values resulting from undefined arithmetic operations such as
<span class="eq">0 / 0</span>.
Implementations <strong class="purple">may</strong> support <span class="eq">Inf</span> and <span class="eq">NaN</span> in their floating-point
computations.</p>
</div>
</div>
<div class="sect3">
<h4 id="fundamentals-fp-conversion"><a class="anchor" href="#fundamentals-fp-conversion"></a>2.8.2. Floating-Point Format Conversions</h4>
<div class="paragraph">
<p>When a value is converted to a defined floating-point representation, finite
values falling between two representable finite values are rounded to one or
the other.
The rounding mode is not defined.
Finite values whose magnitude is larger than that of any representable
finite value may be rounded either to the closest representable finite value
or to the appropriately signed infinity.
For unsigned destination formats any negative values are converted to zero.
Positive infinity is converted to positive infinity; negative infinity is
converted to negative infinity in signed formats and to zero in unsigned
formats; and any <span class="eq">NaN</span> is converted to a <span class="eq">NaN</span>.</p>
</div>
</div>
<div class="sect3">
<h4 id="fundamentals-fp16"><a class="anchor" href="#fundamentals-fp16"></a>2.8.3. 16-Bit Floating-Point Numbers</h4>
<div class="paragraph">
<p>16-bit floating point numbers are defined in the &#8220;16-bit floating point
numbers&#8221; section of the <a href="#data-format">Khronos Data Format Specification</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="fundamentals-fp11"><a class="anchor" href="#fundamentals-fp11"></a>2.8.4. Unsigned 11-Bit Floating-Point Numbers</h4>
<div class="paragraph">
<p>Unsigned 11-bit floating point numbers are defined in the &#8220;Unsigned 11-bit
floating point numbers&#8221; section of the <a href="#data-format">Khronos Data Format
Specification</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="fundamentals-fp10"><a class="anchor" href="#fundamentals-fp10"></a>2.8.5. Unsigned 10-Bit Floating-Point Numbers</h4>
<div class="paragraph">
<p>Unsigned 10-bit floating point numbers are defined in the &#8220;Unsigned 10-bit
floating point numbers&#8221; section of the <a href="#data-format">Khronos Data Format
Specification</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="fundamentals-general"><a class="anchor" href="#fundamentals-general"></a>2.8.6. General Requirements</h4>
<div class="paragraph">
<p>Any representable floating-point value in the appropriate format is legal as
input to a Vulkan command that requires floating-point data.
The result of providing a value that is not a floating-point number to such
a command is unspecified, but <strong class="purple">must</strong> not lead to Vulkan interruption or
termination.
For example, providing a negative zero (where applicable) or a denormalized
number to a Vulkan command <strong class="purple">must</strong> yield deterministic results, while
providing a <span class="eq">NaN</span> or <span class="eq">Inf</span> yields unspecified results.</p>
</div>
<div class="paragraph">
<p>Some calculations require division.
In such cases (including implied divisions performed by vector
normalization), division by zero produces an unspecified result but <strong class="purple">must</strong>
not lead to Vulkan interruption or termination.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-fixedconv"><a class="anchor" href="#fundamentals-fixedconv"></a>2.9. Fixed-Point Data Conversions</h3>
<div class="paragraph">
<p>When generic vertex attributes and pixel color or depth <em>components</em> are
represented as integers, they are often (but not always) considered to be
<em>normalized</em>.
Normalized integer values are treated specially when being converted to and
from floating-point values, and are usually referred to as <em>normalized
fixed-point</em>.</p>
</div>
<div class="paragraph">
<p>In the remainder of this section, <span class="eq">b</span> denotes the bit width of the
fixed-point integer representation.
When the integer is one of the types defined by the API, <span class="eq">b</span> is the bit
width of that type.
When the integer comes from an <a href="#resources-images">image</a> containing color
or depth component texels, <span class="eq">b</span> is the number of bits allocated to that
component in its <a href="#formats">specified image format</a>.</p>
</div>
<div class="paragraph">
<p>The signed and unsigned fixed-point representations are assumed to be
<span class="eq">b</span>-bit binary two&#8217;s-complement integers and binary unsigned integers,
respectively.</p>
</div>
<div class="sect3">
<h4 id="fundamentals-fixedfpconv"><a class="anchor" href="#fundamentals-fixedfpconv"></a>2.9.1. Conversion from Normalized Fixed-Point to Floating-Point</h4>
<div class="paragraph">
<p>Unsigned normalized fixed-point integers represent numbers in the range
<span class="eq">[0,1]</span>.
The conversion from an unsigned normalized fixed-point value <span class="eq">c</span> to the
corresponding floating-point value <span class="eq">f</span> is defined as</p>
</div>
<div class="stemblock">
<div class="content">
\[f = { c \over { 2^b - 1 } }\]
</div>
</div>
<div class="paragraph">
<p>Signed normalized fixed-point integers represent numbers in the range
<span class="eq">[-1,1]</span>.
The conversion from a signed normalized fixed-point value <span class="eq">c</span> to the
corresponding floating-point value <span class="eq">f</span> is performed using</p>
</div>
<div class="stemblock">
<div class="content">
\[f = \max\left( {c \over {2^{b-1} - 1}}, -1.0 \right)\]
</div>
</div>
<div class="paragraph">
<p>Only the range <span class="eq">[-2<sup>b-1</sup> +  1, 2<sup>b-1</sup> - 1]</span> is used to represent
signed fixed-point values in the range <span class="eq">[-1,1]</span>.
For example, if <span class="eq">b = 8</span>, then the integer value <span class="eq">-127</span> corresponds
to <span class="eq">-1.0</span> and the value 127 corresponds to <span class="eq">1.0</span>.
Note that while zero is exactly expressible in this representation, one
value (<span class="eq">-128</span> in the example) is outside the representable range, and
<strong class="purple">must</strong> be clamped before use.
This equation is used everywhere that signed normalized fixed-point values
are converted to floating-point.</p>
</div>
</div>
<div class="sect3">
<h4 id="fundamentals-fpfixedconv"><a class="anchor" href="#fundamentals-fpfixedconv"></a>2.9.2. Conversion from Floating-Point to Normalized Fixed-Point</h4>
<div class="paragraph">
<p>The conversion from a floating-point value <span class="eq">f</span> to the corresponding
unsigned normalized fixed-point value <span class="eq">c</span> is defined by first clamping
<span class="eq">f</span> to the range <span class="eq">[0,1]</span>, then computing</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">c = convertFloatToUint(f  (2<sup>b</sup> - 1), b)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">convertFloatToUint}(r,b)</span> returns one of the two unsigned binary
integer values with exactly <span class="eq">b</span> bits which are closest to the
floating-point value <span class="eq">r</span>.
Implementations <strong class="purple">should</strong> round to nearest.
If <span class="eq">r</span> is equal to an integer, then that integer value <strong class="purple">must</strong> be
returned.
In particular, if <span class="eq">f</span> is equal to 0.0 or 1.0, then <span class="eq">c</span> <strong class="purple">must</strong> be
assigned 0 or <span class="eq">2<sup>b</sup> - 1</span>, respectively.</p>
</div>
<div class="paragraph">
<p>The conversion from a floating-point value <span class="eq">f</span> to the corresponding
signed normalized fixed-point value <span class="eq">c</span> is performed by clamping <span class="eq">f</span>
to the range <span class="eq">[-1,1]</span>, then computing</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">c = convertFloatToInt(f  (2<sup>b-1</sup> - 1), b)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">convertFloatToInt(r,b)</span> returns one of the two signed
two&#8217;s-complement binary integer values with exactly <span class="eq">b</span> bits which are
closest to the floating-point value <span class="eq">r</span>.
Implementations <strong class="purple">should</strong> round to nearest.
If <span class="eq">r</span> is equal to an integer, then that integer value <strong class="purple">must</strong> be
returned.
In particular, if <span class="eq">f</span> is equal to -1.0, 0.0, or 1.0, then <span class="eq">c</span> <strong class="purple">must</strong>
be assigned <span class="eq">-(2<sup>b-1</sup> - 1)</span>, 0, or <span class="eq">2<sup>b-1</sup> - 1</span>, respectively.</p>
</div>
<div class="paragraph">
<p>This equation is used everywhere that floating-point values are converted to
signed normalized fixed-point.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fundamentals-common-objects"><a class="anchor" href="#fundamentals-common-objects"></a>2.10. Common Object Types</h3>
<div class="paragraph">
<p>Some types of Vulkan objects are used in many different structures and
command parameters, and are described here.
These types include <em>offsets</em>, <em>extents</em>, and <em>rectangles</em>.</p>
</div>
<div class="sect3">
<h4 id="_offsets"><a class="anchor" href="#_offsets"></a>2.10.1. Offsets</h4>
<div class="paragraph">
<p>Offsets are used to describe a pixel location within an image or
framebuffer, as an (x,y) location for two-dimensional images, or an (x,y,z)
location for three-dimensional images.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A two-dimensional offsets is defined by the structure:</p>
</div>
<div id="VkOffset2D" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkOffset2D {
    int32_t    x;
    int32_t    y;
} VkOffset2D;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> is the x offset.</p>
</li>
<li>
<p><code>y</code> is the y offset.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A three-dimensional offset is defined by the structure:</p>
</div>
<div id="VkOffset3D" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkOffset3D {
    int32_t    x;
    int32_t    y;
    int32_t    z;
} VkOffset3D;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> is the x offset.</p>
</li>
<li>
<p><code>y</code> is the y offset.</p>
</li>
<li>
<p><code>z</code> is the z offset.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_extents"><a class="anchor" href="#_extents"></a>2.10.2. Extents</h4>
<div class="paragraph">
<p>Extents are used to describe the size of a rectangular region of pixels
within an image or framebuffer, as (width,height) for two-dimensional
images, or as (width,height,depth) for three-dimensional images.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A two-dimensional extent is defined by the structure:</p>
</div>
<div id="VkExtent2D" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkExtent2D {
    uint32_t    width;
    uint32_t    height;
} VkExtent2D;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>width</code> is the width of the extent.</p>
</li>
<li>
<p><code>height</code> is the height of the extent.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A three-dimensional extent is defined by the structure:</p>
</div>
<div id="VkExtent3D" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkExtent3D {
    uint32_t    width;
    uint32_t    height;
    uint32_t    depth;
} VkExtent3D;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>width</code> is the width of the extent.</p>
</li>
<li>
<p><code>height</code> is the height of the extent.</p>
</li>
<li>
<p><code>depth</code> is the depth of the extent.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rectangles"><a class="anchor" href="#_rectangles"></a>2.10.3. Rectangles</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Rectangles are used to describe a specified rectangular region of pixels
within an image or framebuffer.
Rectangles include both an offset and an extent of the same dimensionality,
as described above.
Two-dimensional rectangles are defined by the structure</p>
</div>
<div id="VkRect2D" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkRect2D {
    VkOffset2D    offset;
    VkExtent2D    extent;
} VkRect2D;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>offset</code> is a <a href="#VkOffset2D">VkOffset2D</a> specifying the rectangle offset.</p>
</li>
<li>
<p><code>extent</code> is a <a href="#VkExtent2D">VkExtent2D</a> specifying the rectangle extent.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="initialization"><a class="anchor" href="#initialization"></a>3. Initialization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before using Vulkan, an application <strong class="purple">must</strong> initialize it by loading the
Vulkan commands, and creating a <code>VkInstance</code> object.</p>
</div>
<div class="sect2">
<h3 id="initialization-functionpointers"><a class="anchor" href="#initialization-functionpointers"></a>3.1. Command Function Pointers</h3>
<div class="paragraph">
<p>Vulkan commands are not necessarily exposed by static linking on a platform.
Commands to query function pointers for Vulkan commands are described below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When extensions are <a href="#extendingvulkan-compatibility-promotion">promoted</a> or
otherwise incorporated into another extension or Vulkan core version,
command <a href="#extendingvulkan-compatibility-aliases">aliases</a> may be included.
Whilst the behavior of each command alias is identical, the behavior of
retrieving each alias&#8217;s function pointer is not.
A function pointer for a given alias can only be retrieved if the extension
or version that introduced that alias is supported and enabled, irrespective
of whether any other alias is available.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Function pointers for all Vulkan commands <strong class="purple">can</strong> be obtained with the command:</p>
</div>
<div id="vkGetInstanceProcAddr" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">PFN_vkVoidFunction vkGetInstanceProcAddr(
    VkInstance                                  instance,
    <span class="directive">const</span> <span class="predefined-type">char</span>*                                 pName);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the instance that the function pointer will be
compatible with, or <code>NULL</code> for commands not dependent on any instance.</p>
</li>
<li>
<p><code>pName</code> is the name of the command to obtain.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetInstanceProcAddr</code> itself is obtained in a platform- and loader-
specific manner.
Typically, the loader library will export this command as a function symbol,
so applications <strong class="purple">can</strong> link against the loader library, or load it dynamically
and look up the symbol using platform-specific APIs.</p>
</div>
<div class="paragraph">
<p>The table below defines the various use cases for
<code>vkGetInstanceProcAddr</code> and expected return value (&#8220;fp&#8221; is &#8220;function
pointer&#8221;) for each case.</p>
</div>
<div class="paragraph">
<p>The returned function pointer is of type <a href="#PFN_vkVoidFunction">PFN_vkVoidFunction</a>, and must
be cast to the type of the command being queried.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 1. vkGetInstanceProcAddr behavior</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>instance</code></th>
<th class="tableblock halign-left valign-top"><code>pName</code></th>
<th class="tableblock halign-left valign-top">return value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">*<sup>1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NULL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">invalid non-<code>NULL</code> instance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">*<sup>1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NULL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#vkEnumerateInstanceExtensionProperties">vkEnumerateInstanceExtensionProperties</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NULL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#vkEnumerateInstanceLayerProperties">vkEnumerateInstanceLayerProperties</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NULL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#vkCreateInstance">vkCreateInstance</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">core Vulkan command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fp<sup>2</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled instance extension commands for <code>instance</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fp<sup>2</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">available device extension<sup>3</sup> commands for <code>instance</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fp<sup>2</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">any other case, not covered above</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NULL</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">1</dt>
<dd>
<p>"*" means any representable value for the parameter (including valid
values, invalid values, and <code>NULL</code>).</p>
</dd>
<dt class="hdlist1">2</dt>
<dd>
<p>The returned function pointer <strong class="purple">must</strong> only be called with a dispatchable
object (the first parameter) that is <code>instance</code> or a child of
<code>instance</code>, e.g. <a href="#VkInstance">VkInstance</a>, <a href="#VkPhysicalDevice">VkPhysicalDevice</a>,
<a href="#VkDevice">VkDevice</a>, <a href="#VkQueue">VkQueue</a>, or <a href="#VkCommandBuffer">VkCommandBuffer</a>.</p>
</dd>
<dt class="hdlist1">3</dt>
<dd>
<p>An &#8220;available device extension&#8221; is a device extension supported by any
physical device enumerated by <code>instance</code>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetInstanceProcAddr-instance-parameter" href="#VUID-vkGetInstanceProcAddr-instance-parameter"></a> If <code>instance</code> is not <code>NULL</code>, <code>instance</code> <strong class="purple">must</strong> be a valid <a href="#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetInstanceProcAddr-pName-parameter" href="#VUID-vkGetInstanceProcAddr-pName-parameter"></a> <code>pName</code> <strong class="purple">must</strong> be a null-terminated UTF-8 string</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In order to support systems with multiple Vulkan implementations, the
function pointers returned by <code>vkGetInstanceProcAddr</code> <strong class="purple">may</strong> point to
dispatch code that calls a different real implementation for different
<a href="#VkDevice">VkDevice</a> objects or their child objects.
The overhead of the internal dispatch for <a href="#VkDevice">VkDevice</a> objects can be
avoided by obtaining device-specific function pointers for any commands that
use a device or device-child object as their dispatchable object.
Such function pointers <strong class="purple">can</strong> be obtained with the command:</p>
</div>
<div id="vkGetDeviceProcAddr" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">PFN_vkVoidFunction vkGetDeviceProcAddr(
    VkDevice                                    device,
    <span class="directive">const</span> <span class="predefined-type">char</span>*                                 pName);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The table below defines the various use cases for <code>vkGetDeviceProcAddr</code>
and expected return value for each case.</p>
</div>
<div class="paragraph">
<p>The returned function pointer is of type <a href="#PFN_vkVoidFunction">PFN_vkVoidFunction</a>, and must
be cast to the type of the command being queried.
The function pointer <strong class="purple">must</strong> only be called with a dispatchable object (the
first parameter) that is <code>device</code> or a child of <code>device</code>.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 2. vkGetDeviceProcAddr behavior</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>device</code></th>
<th class="tableblock halign-left valign-top"><code>pName</code></th>
<th class="tableblock halign-left valign-top">return value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NULL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">*<sup>1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">invalid device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">*<sup>1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NULL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">core device-level Vulkan command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fp<sup>2</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled extension device-level commands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fp<sup>2</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">any other case, not covered above</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NULL</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">1</dt>
<dd>
<p>"*" means any representable value for the parameter (including valid
values, invalid values, and <code>NULL</code>).</p>
</dd>
<dt class="hdlist1">2</dt>
<dd>
<p>The returned function pointer <strong class="purple">must</strong> only be called with a dispatchable
object (the first parameter) that is <code>device</code> or a child of
<code>device</code> e.g. <a href="#VkDevice">VkDevice</a>, <a href="#VkQueue">VkQueue</a>, or
<a href="#VkCommandBuffer">VkCommandBuffer</a>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceProcAddr-device-parameter" href="#VUID-vkGetDeviceProcAddr-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceProcAddr-pName-parameter" href="#VUID-vkGetDeviceProcAddr-pName-parameter"></a> <code>pName</code> <strong class="purple">must</strong> be a null-terminated UTF-8 string</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The definition of <a href="#PFN_vkVoidFunction">PFN_vkVoidFunction</a> is:</p>
</div>
<div id="PFN_vkVoidFunction" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="directive">void</span> (VKAPI_PTR *PFN_vkVoidFunction)(<span class="directive">void</span>);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="initialization-instances"><a class="anchor" href="#initialization-instances"></a>3.2. Instances</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is no global state in Vulkan and all per-application state is stored
in a <code>VkInstance</code> object.
Creating a <code>VkInstance</code> object initializes the Vulkan library and allows
the application to pass information about itself to the implementation.</p>
</div>
<div class="paragraph">
<p>Instances are represented by <code>VkInstance</code> handles:</p>
</div>
<div id="VkInstance" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_HANDLE(VkInstance)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create an instance object, call:</p>
</div>
<div id="vkCreateInstance" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateInstance(
    <span class="directive">const</span> VkInstanceCreateInfo*                 pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkInstance*                                 pInstance);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a> structure
controlling creation of the instance.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pInstance</code> points a <a href="#VkInstance">VkInstance</a> handle in which the resulting
instance is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCreateInstance</code> verifies that the requested layers exist.
If not, <code>vkCreateInstance</code> will return <code>VK_ERROR_LAYER_NOT_PRESENT</code>.
Next <code>vkCreateInstance</code> verifies that the requested extensions are
supported (e.g. in the implementation or in any enabled instance layer) and
if any requested extension is not supported, <code>vkCreateInstance</code> <strong class="purple">must</strong>
return <code>VK_ERROR_EXTENSION_NOT_PRESENT</code>.
After verifying and enabling the instance layers and extensions the
<code>VkInstance</code> object is created and returned to the application.
If a requested extension is only supported by a layer, both the layer and
the extension need to be specified at <code>vkCreateInstance</code> time for the
creation to succeed.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateInstance-ppEnabledExtensionNames-01388" href="#VUID-vkCreateInstance-ppEnabledExtensionNames-01388"></a>
All <a href="#extendingvulkan-extensions-extensiondependencies">required
extensions</a> for each extension in the
<a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a>::<code>ppEnabledExtensionNames</code> list <strong class="purple">must</strong>
also be present in that list.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateInstance-pCreateInfo-parameter" href="#VUID-vkCreateInstance-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateInstance-pAllocator-parameter" href="#VUID-vkCreateInstance-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateInstance-pInstance-parameter" href="#VUID-vkCreateInstance-pInstance-parameter"></a> <code>pInstance</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkInstance">VkInstance</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
<li>
<p><code>VK_ERROR_LAYER_NOT_PRESENT</code></p>
</li>
<li>
<p><code>VK_ERROR_EXTENSION_NOT_PRESENT</code></p>
</li>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_DRIVER</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkInstanceCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkInstanceCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkInstanceCreateInfo {
    VkStructureType             sType;
    <span class="directive">const</span> <span class="directive">void</span>*                 pNext;
    VkInstanceCreateFlags       flags;
    <span class="directive">const</span> VkApplicationInfo*    pApplicationInfo;
    uint32_t                    enabledLayerCount;
    <span class="directive">const</span> <span class="predefined-type">char</span>* <span class="directive">const</span>*          ppEnabledLayerNames;
    uint32_t                    enabledExtensionCount;
    <span class="directive">const</span> <span class="predefined-type">char</span>* <span class="directive">const</span>*          ppEnabledExtensionNames;
} VkInstanceCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>pApplicationInfo</code> is <code>NULL</code> or a pointer to a
<code>VkApplicationInfo</code> structure.
If not <code>NULL</code>, this information helps implementations recognize behavior
inherent to classes of applications.
<a href="#VkApplicationInfo">VkApplicationInfo</a> is defined in detail below.</p>
</li>
<li>
<p><code>enabledLayerCount</code> is the number of global layers to enable.</p>
</li>
<li>
<p><code>ppEnabledLayerNames</code> is a pointer to an array of
<code>enabledLayerCount</code> null-terminated UTF-8 strings containing the
names of layers to enable for the created instance.
The layers are loaded in the order they are listed in this array, with
the first array element being the closest to the application, and the
last array element being the closest to the driver.
See the <a href="#extendingvulkan-layers">Layers</a> section for further details.</p>
</li>
<li>
<p><code>enabledExtensionCount</code> is the number of global extensions to
enable.</p>
</li>
<li>
<p><code>ppEnabledExtensionNames</code> is a pointer to an array of
<code>enabledExtensionCount</code> null-terminated UTF-8 strings containing the
names of extensions to enable.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkInstanceCreateInfo-sType-sType" href="#VUID-VkInstanceCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkInstanceCreateInfo-pNext-pNext" href="#VUID-VkInstanceCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkInstanceCreateInfo-flags-zerobitmask" href="#VUID-VkInstanceCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkInstanceCreateInfo-pApplicationInfo-parameter" href="#VUID-VkInstanceCreateInfo-pApplicationInfo-parameter"></a> If <code>pApplicationInfo</code> is not <code>NULL</code>, <code>pApplicationInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkApplicationInfo">VkApplicationInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkInstanceCreateInfo-ppEnabledLayerNames-parameter" href="#VUID-VkInstanceCreateInfo-ppEnabledLayerNames-parameter"></a> If <code>enabledLayerCount</code> is not <code>0</code>, <code>ppEnabledLayerNames</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>enabledLayerCount</code> null-terminated UTF-8 strings</p>
</li>
<li>
<p><a id="VUID-VkInstanceCreateInfo-ppEnabledExtensionNames-parameter" href="#VUID-VkInstanceCreateInfo-ppEnabledExtensionNames-parameter"></a> If <code>enabledExtensionCount</code> is not <code>0</code>, <code>ppEnabledExtensionNames</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>enabledExtensionCount</code> null-terminated UTF-8 strings</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkInstanceCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkInstanceCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkInstanceCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkApplicationInfo</code> structure is defined as:</p>
</div>
<div id="VkApplicationInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkApplicationInfo {
    VkStructureType    sType;
    <span class="directive">const</span> <span class="directive">void</span>*        pNext;
    <span class="directive">const</span> <span class="predefined-type">char</span>*        pApplicationName;
    uint32_t           applicationVersion;
    <span class="directive">const</span> <span class="predefined-type">char</span>*        pEngineName;
    uint32_t           engineVersion;
    uint32_t           apiVersion;
} VkApplicationInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>pApplicationName</code> is <code>NULL</code> or is a pointer to a null-terminated
UTF-8 string containing the name of the application.</p>
</li>
<li>
<p><code>applicationVersion</code> is an unsigned integer variable containing the
developer-supplied version number of the application.</p>
</li>
<li>
<p><code>pEngineName</code> is <code>NULL</code> or is a pointer to a null-terminated UTF-8
string containing the name of the engine (if any) used to create the
application.</p>
</li>
<li>
<p><code>engineVersion</code> is an unsigned integer variable containing the
developer-supplied version number of the engine used to create the
application.</p>
</li>
<li>
<p><code>apiVersion</code> is the version of the Vulkan API against which the
application expects to run, encoded as described in
<a href="#extendingvulkan-coreversions-versionnumbers">Version Numbers</a>.
If <code>apiVersion</code> is 0 the implementation <strong class="purple">must</strong> ignore it, otherwise
if the implementation does not support the requested <code>apiVersion</code>,
or an effective substitute for <code>apiVersion</code>, it <strong class="purple">must</strong> return
<code>VK_ERROR_INCOMPATIBLE_DRIVER</code>.
The patch version number specified in <code>apiVersion</code> is ignored when
creating an instance object.
Only the major and minor versions of the instance <strong class="purple">must</strong> match those
requested in <code>apiVersion</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkApplicationInfo-sType-sType" href="#VUID-VkApplicationInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_APPLICATION_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkApplicationInfo-pNext-pNext" href="#VUID-VkApplicationInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkApplicationInfo-pApplicationName-parameter" href="#VUID-VkApplicationInfo-pApplicationName-parameter"></a> If <code>pApplicationName</code> is not <code>NULL</code>, <code>pApplicationName</code> <strong class="purple">must</strong> be a null-terminated UTF-8 string</p>
</li>
<li>
<p><a id="VUID-VkApplicationInfo-pEngineName-parameter" href="#VUID-VkApplicationInfo-pEngineName-parameter"></a> If <code>pEngineName</code> is not <code>NULL</code>, <code>pEngineName</code> <strong class="purple">must</strong> be a null-terminated UTF-8 string</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy an instance, call:</p>
</div>
<div id="vkDestroyInstance" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyInstance(
    VkInstance                                  instance,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is the handle of the instance to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyInstance-instance-00629" href="#VUID-vkDestroyInstance-instance-00629"></a>
All child objects created using <code>instance</code> <strong class="purple">must</strong> have been destroyed
prior to destroying <code>instance</code></p>
</li>
<li>
<p><a id="VUID-vkDestroyInstance-instance-00630" href="#VUID-vkDestroyInstance-instance-00630"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>instance</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyInstance-instance-00631" href="#VUID-vkDestroyInstance-instance-00631"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>instance</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyInstance-instance-parameter" href="#VUID-vkDestroyInstance-instance-parameter"></a> If <code>instance</code> is not <code>NULL</code>, <code>instance</code> <strong class="purple">must</strong> be a valid <a href="#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyInstance-pAllocator-parameter" href="#VUID-vkDestroyInstance-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>instance</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devsandqueues"><a class="anchor" href="#devsandqueues"></a>4. Devices and Queues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once Vulkan is initialized, devices and queues are the primary objects used
to interact with a Vulkan implementation.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Vulkan separates the concept of <em>physical</em> and <em>logical</em> devices.
A physical device usually represents a single complete implementation of
Vulkan (excluding instance-level functionality) available to the host, of
which there are a finite number.
A logical device represents an instance of that implementation with its own
state and resources independent of other logical devices.</p>
</div>
<div class="paragraph">
<p>Physical devices are represented by <code>VkPhysicalDevice</code> handles:</p>
</div>
<div id="VkPhysicalDevice" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_HANDLE(VkPhysicalDevice)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devsandqueues-physical-device-enumeration"><a class="anchor" href="#devsandqueues-physical-device-enumeration"></a>4.1. Physical Devices</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To retrieve a list of physical device objects representing the physical
devices installed in the system, call:</p>
</div>
<div id="vkEnumeratePhysicalDevices" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkEnumeratePhysicalDevices(
    VkInstance                                  instance,
    uint32_t*                                   pPhysicalDeviceCount,
    VkPhysicalDevice*                           pPhysicalDevices);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instance</code> is a handle to a Vulkan instance previously created with
<a href="#vkCreateInstance">vkCreateInstance</a>.</p>
</li>
<li>
<p><code>pPhysicalDeviceCount</code> is a pointer to an integer related to the
number of physical devices available or queried, as described below.</p>
</li>
<li>
<p><code>pPhysicalDevices</code> is either <code>NULL</code> or a pointer to an array of
<code>VkPhysicalDevice</code> handles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pPhysicalDevices</code> is <code>NULL</code>, then the number of physical devices
available is returned in <code>pPhysicalDeviceCount</code>.
Otherwise, <code>pPhysicalDeviceCount</code> <strong class="purple">must</strong> point to a variable set by the
user to the number of elements in the <code>pPhysicalDevices</code> array, and on
return the variable is overwritten with the number of handles actually
written to <code>pPhysicalDevices</code>.
If <code>pPhysicalDeviceCount</code> is less than the number of physical devices
available, at most <code>pPhysicalDeviceCount</code> structures will be written.
If <code>pPhysicalDeviceCount</code> is smaller than the number of physical devices
available, <code>VK_INCOMPLETE</code> will be returned instead of <code>VK_SUCCESS</code>,
to indicate that not all the available physical devices were returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkEnumeratePhysicalDevices-instance-parameter" href="#VUID-vkEnumeratePhysicalDevices-instance-parameter"></a> <code>instance</code> <strong class="purple">must</strong> be a valid <a href="#VkInstance">VkInstance</a> handle</p>
</li>
<li>
<p><a id="VUID-vkEnumeratePhysicalDevices-pPhysicalDeviceCount-parameter" href="#VUID-vkEnumeratePhysicalDevices-pPhysicalDeviceCount-parameter"></a> <code>pPhysicalDeviceCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkEnumeratePhysicalDevices-pPhysicalDevices-parameter" href="#VUID-vkEnumeratePhysicalDevices-pPhysicalDevices-parameter"></a> If the value referenced by <code>pPhysicalDeviceCount</code> is not <code>0</code>, and <code>pPhysicalDevices</code> is not <code>NULL</code>, <code>pPhysicalDevices</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPhysicalDeviceCount</code> <a href="#VkPhysicalDevice">VkPhysicalDevice</a> handles</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query general properties of physical devices once enumerated, call:</p>
</div>
<div id="vkGetPhysicalDeviceProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetPhysicalDeviceProperties(
    VkPhysicalDevice                            physicalDevice,
    VkPhysicalDeviceProperties*                 pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the handle to the physical device whose
properties will be queried.</p>
</li>
<li>
<p><code>pProperties</code> is a pointer to a <a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>
structure in which properties are returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceProperties-physicalDevice-parameter"></a> <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceProperties-pProperties-parameter" href="#VUID-vkGetPhysicalDeviceProperties-pProperties-parameter"></a> <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceProperties</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPhysicalDeviceProperties {
    uint32_t                            apiVersion;
    uint32_t                            driverVersion;
    uint32_t                            vendorID;
    uint32_t                            deviceID;
    VkPhysicalDeviceType                deviceType;
    <span class="predefined-type">char</span>                                deviceName[VK_MAX_PHYSICAL_DEVICE_NAME_SIZE];
    uint8_t                             pipelineCacheUUID[VK_UUID_SIZE];
    VkPhysicalDeviceLimits              limits;
    VkPhysicalDeviceSparseProperties    sparseProperties;
} VkPhysicalDeviceProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>apiVersion</code> is the version of Vulkan supported by the device,
encoded as described in <a href="#extendingvulkan-coreversions-versionnumbers">Version Numbers</a>.</p>
</li>
<li>
<p><code>driverVersion</code> is the vendor-specified version of the driver.</p>
</li>
<li>
<p><code>vendorID</code> is a unique identifier for the <em>vendor</em> (see below) of
the physical device.</p>
</li>
<li>
<p><code>deviceID</code> is a unique identifier for the physical device among
devices available from the vendor.</p>
</li>
<li>
<p><code>deviceType</code> is a <a href="#VkPhysicalDeviceType">VkPhysicalDeviceType</a> specifying the type of
device.</p>
</li>
<li>
<p><code>deviceName</code> is an array of <code>VK_MAX_PHYSICAL_DEVICE_NAME_SIZE</code>
<code>char</code> containing a null-terminated UTF-8 string which is the name of
the device.</p>
</li>
<li>
<p><code>pipelineCacheUUID</code> is an array of <code>VK_UUID_SIZE</code> <code>uint8_t</code>
values representing a universally unique identifier for the device.</p>
</li>
<li>
<p><code>limits</code> is the <a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a> structure specifying
device-specific limits of the physical device.
See <a href="#limits">Limits</a> for details.</p>
</li>
<li>
<p><code>sparseProperties</code> is the <a href="#VkPhysicalDeviceSparseProperties">VkPhysicalDeviceSparseProperties</a>
structure specifying various sparse related properties of the physical
device.
See <a href="#sparsememory-physicalprops">Sparse Properties</a> for details.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>vendorID</code> and <code>deviceID</code> fields are provided to allow
applications to adapt to device characteristics that are not adequately
exposed by other Vulkan queries.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>These <strong class="purple">may</strong> include performance profiles, hardware errata, or other
characteristics.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <em>vendor</em> identified by <code>vendorID</code> is the entity responsible for the
most salient characteristics of the underlying implementation of the
<a href="#VkPhysicalDevice">VkPhysicalDevice</a> being queried.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For example, in the case of a discrete GPU implementation, this <strong class="purple">should</strong> be
the GPU chipset vendor.
In the case of a hardware accelerator integrated into a system-on-chip
(SoC), this <strong class="purple">should</strong> be the supplier of the silicon IP used to create the
accelerator.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the vendor has a <a href="https://pcisig.com/membership/member-companies">PCI
vendor ID</a>, the low 16 bits of <code>vendorID</code> <strong class="purple">must</strong> contain that PCI vendor
ID, and the remaining bits <strong class="purple">must</strong> be set to zero.
Otherwise, the value returned <strong class="purple">must</strong> be a valid Khronos vendor ID, obtained
as described in the <a href="#vulkan-styleguide">Vulkan Documentation and Extensions:
Procedures and Conventions</a> document in the section &#8220;Registering a Vendor
ID with Khronos&#8221;.
Khronos vendor IDs are allocated starting at 0x10000, to distinguish them
from the PCI vendor ID namespace.
Khronos vendor IDs are symbolically defined in the <a href="#VkVendorId">VkVendorId</a> type.</p>
</div>
<div class="paragraph">
<p>The vendor is also responsible for the value returned in <code>deviceID</code>.
If the implementation is driven primarily by a <a href="https://pcisig.com/">PCI
device</a> with a <a href="https://pcisig.com/">PCI device ID</a>, the low 16 bits of
<code>deviceID</code> <strong class="purple">must</strong> contain that PCI device ID, and the remaining bits
<strong class="purple">must</strong> be set to zero.
Otherwise, the choice of what values to return <strong class="purple">may</strong> be dictated by operating
system or platform policies - but <strong class="purple">should</strong> uniquely identify both the device
version and any major configuration options (for example, core count in the
case of multicore devices).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The same device ID <strong class="purple">should</strong> be used for all physical implementations of that
device version and configuration.
For example, all uses of a specific silicon IP GPU version and configuration
<strong class="purple">should</strong> use the same device ID, even if those uses occur in different SoCs.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Khronos vendor IDs which <strong class="purple">may</strong> be returned in
<a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>vendorID</code> are:</p>
</div>
<div id="VkVendorId" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkVendorId {
    VK_VENDOR_ID_VIV = <span class="hex">0x10001</span>,
    VK_VENDOR_ID_VSI = <span class="hex">0x10002</span>,
    VK_VENDOR_ID_KAZAN = <span class="hex">0x10003</span>,
    VK_VENDOR_ID_CODEPLAY = <span class="hex">0x10004</span>,
    VK_VENDOR_ID_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkVendorId;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Khronos vendor IDs may be allocated by vendors at any time.
Only the latest canonical versions of this Specification, of the
corresponding <code>vk.xml</code> API Registry, and of the corresponding
<code>vulkan_core.h</code> header file <strong class="purple">must</strong> contain all reserved Khronos vendor IDs.</p>
</div>
<div class="paragraph">
<p>Only Khronos vendor IDs are given symbolic names at present.
PCI vendor IDs returned by the implementation can be looked up in the
PCI-SIG database.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The physical device types which <strong class="purple">may</strong> be returned in
<a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>deviceType</code> are:</p>
</div>
<div id="VkPhysicalDeviceType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkPhysicalDeviceType {
    VK_PHYSICAL_DEVICE_TYPE_OTHER = <span class="integer">0</span>,
    VK_PHYSICAL_DEVICE_TYPE_INTEGRATED_GPU = <span class="integer">1</span>,
    VK_PHYSICAL_DEVICE_TYPE_DISCRETE_GPU = <span class="integer">2</span>,
    VK_PHYSICAL_DEVICE_TYPE_VIRTUAL_GPU = <span class="integer">3</span>,
    VK_PHYSICAL_DEVICE_TYPE_CPU = <span class="integer">4</span>,
    VK_PHYSICAL_DEVICE_TYPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkPhysicalDeviceType;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PHYSICAL_DEVICE_TYPE_OTHER</code> - the device does not match any
other available types.</p>
</li>
<li>
<p><code>VK_PHYSICAL_DEVICE_TYPE_INTEGRATED_GPU</code> - the device is typically
one embedded in or tightly coupled with the host.</p>
</li>
<li>
<p><code>VK_PHYSICAL_DEVICE_TYPE_DISCRETE_GPU</code> - the device is typically a
separate processor connected to the host via an interlink.</p>
</li>
<li>
<p><code>VK_PHYSICAL_DEVICE_TYPE_VIRTUAL_GPU</code> - the device is typically a
virtual node in a virtualization environment.</p>
</li>
<li>
<p><code>VK_PHYSICAL_DEVICE_TYPE_CPU</code> - the device is typically running on
the same processors as the host.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The physical device type is advertised for informational purposes only, and
does not directly affect the operation of the system.
However, the device type <strong class="purple">may</strong> correlate with other advertised properties or
capabilities of the system, such as how many memory heaps there are.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query properties of queues available on a physical device, call:</p>
</div>
<div id="vkGetPhysicalDeviceQueueFamilyProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetPhysicalDeviceQueueFamilyProperties(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pQueueFamilyPropertyCount,
    VkQueueFamilyProperties*                    pQueueFamilyProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the handle to the physical device whose
properties will be queried.</p>
</li>
<li>
<p><code>pQueueFamilyPropertyCount</code> is a pointer to an integer related to
the number of queue families available or queried, as described below.</p>
</li>
<li>
<p><code>pQueueFamilyProperties</code> is either <code>NULL</code> or a pointer to an array
of <a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pQueueFamilyProperties</code> is <code>NULL</code>, then the number of queue families
available is returned in <code>pQueueFamilyPropertyCount</code>.
Implementations <strong class="purple">must</strong> support at least one queue family.
Otherwise, <code>pQueueFamilyPropertyCount</code> <strong class="purple">must</strong> point to a variable set by
the user to the number of elements in the <code>pQueueFamilyProperties</code>
array, and on return the variable is overwritten with the number of
structures actually written to <code>pQueueFamilyProperties</code>.
If <code>pQueueFamilyPropertyCount</code> is less than the number of queue families
available, at most <code>pQueueFamilyPropertyCount</code> structures will be
written.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceQueueFamilyProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceQueueFamilyProperties-physicalDevice-parameter"></a> <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceQueueFamilyProperties-pQueueFamilyPropertyCount-parameter" href="#VUID-vkGetPhysicalDeviceQueueFamilyProperties-pQueueFamilyPropertyCount-parameter"></a> <code>pQueueFamilyPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceQueueFamilyProperties-pQueueFamilyProperties-parameter" href="#VUID-vkGetPhysicalDeviceQueueFamilyProperties-pQueueFamilyProperties-parameter"></a> If the value referenced by <code>pQueueFamilyPropertyCount</code> is not <code>0</code>, and <code>pQueueFamilyProperties</code> is not <code>NULL</code>, <code>pQueueFamilyProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pQueueFamilyPropertyCount</code> <a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkQueueFamilyProperties</code> structure is defined as:</p>
</div>
<div id="VkQueueFamilyProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkQueueFamilyProperties {
    VkQueueFlags    queueFlags;
    uint32_t        queueCount;
    uint32_t        timestampValidBits;
    VkExtent3D      minImageTransferGranularity;
} VkQueueFamilyProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>queueFlags</code> is a bitmask of <a href="#VkQueueFlagBits">VkQueueFlagBits</a> indicating
capabilities of the queues in this queue family.</p>
</li>
<li>
<p><code>queueCount</code> is the unsigned integer count of queues in this queue
family.
Each queue family <strong class="purple">must</strong> support at least one queue.</p>
</li>
<li>
<p><code>timestampValidBits</code> is the unsigned integer count of meaningful
bits in the timestamps written via <code>vkCmdWriteTimestamp</code>.
The valid range for the count is 36..64 bits, or a value of 0,
indicating no support for timestamps.
Bits outside the valid range are guaranteed to be zeros.</p>
</li>
<li>
<p><code>minImageTransferGranularity</code> is the minimum granularity supported
for image transfer operations on the queues in this queue family.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The value returned in <code>minImageTransferGranularity</code> has a unit of
compressed texel blocks for images having a block-compressed format, and a
unit of texels otherwise.</p>
</div>
<div class="paragraph">
<p>Possible values of <code>minImageTransferGranularity</code> are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">(0,0,0)</span> which indicates that only whole mip levels <strong class="purple">must</strong> be
transferred using the image transfer operations on the corresponding
queues.
In this case, the following restrictions apply to all offset and extent
parameters of image transfer operations:</p>
<div class="ulist">
<ul>
<li>
<p>The <code>x</code>, <code>y</code>, and <code>z</code> members of a <a href="#VkOffset3D">VkOffset3D</a>
parameter <strong class="purple">must</strong> always be zero.</p>
</li>
<li>
<p>The <code>width</code>, <code>height</code>, and <code>depth</code> members of a
<a href="#VkExtent3D">VkExtent3D</a> parameter <strong class="purple">must</strong> always match the width, height, and
depth of the image subresource corresponding to the parameter,
respectively.</p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="eq">(A<sub>x</sub>, A<sub>y</sub>, A<sub>z</sub>)</span> where <span class="eq">A<sub>x</sub></span>, <span class="eq">A<sub>y</sub></span>, and <span class="eq">A<sub>z</sub></span>
are all integer powers of two.
In this case the following restrictions apply to all image transfer
operations:</p>
<div class="ulist">
<ul>
<li>
<p><code>x</code>, <code>y</code>, and <code>z</code> of a <a href="#VkOffset3D">VkOffset3D</a> parameter <strong class="purple">must</strong> be
integer multiples of <span class="eq">A<sub>x</sub></span>, <span class="eq">A<sub>y</sub></span>, and <span class="eq">A<sub>z</sub></span>,
respectively.</p>
</li>
<li>
<p><code>width</code> of a <a href="#VkExtent3D">VkExtent3D</a> parameter <strong class="purple">must</strong> be an integer
multiple of <span class="eq">A<sub>x</sub></span>, or else <span class="eq"><code>x</code> +  <code>width</code></span> <strong class="purple">must</strong>
equal the width of the image subresource corresponding to the
parameter.</p>
</li>
<li>
<p><code>height</code> of a <a href="#VkExtent3D">VkExtent3D</a> parameter <strong class="purple">must</strong> be an integer
multiple of <span class="eq">A<sub>y</sub></span>, or else <span class="eq"><code>y</code> +  <code>height</code></span> <strong class="purple">must</strong>
equal the height of the image subresource corresponding to the
parameter.</p>
</li>
<li>
<p><code>depth</code> of a <a href="#VkExtent3D">VkExtent3D</a> parameter <strong class="purple">must</strong> be an integer
multiple of <span class="eq">A<sub>z</sub></span>, or else <span class="eq"><code>z</code> +  <code>depth</code></span> <strong class="purple">must</strong>
equal the depth of the image subresource corresponding to the
parameter.</p>
</li>
<li>
<p>If the format of the image corresponding to the parameters is one of
the block-compressed formats then for the purposes of the above
calculations the granularity <strong class="purple">must</strong> be scaled up by the compressed texel
block dimensions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Queues supporting graphics and/or compute operations <strong class="purple">must</strong> report
<span class="eq">(1,1,1)</span> in <code>minImageTransferGranularity</code>, meaning that there are
no additional restrictions on the granularity of image transfer operations
for these queues.
Other queues supporting image transfer operations are only <strong class="purple">required</strong> to
support whole mip level transfers, thus <code>minImageTransferGranularity</code>
for queues belonging to such queue families <strong class="purple">may</strong> be <span class="eq">(0,0,0)</span>.</p>
</div>
<div class="paragraph">
<p>The <a href="#memory-device">Device Memory</a> section describes memory properties
queried from the physical device.</p>
</div>
<div class="paragraph">
<p>For physical device feature queries see the <a href="#features">Features</a> chapter.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in <a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a>::<code>queueFlags</code>
indicating capabilities of queues in a queue family are:</p>
</div>
<div id="VkQueueFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkQueueFlagBits {
    VK_QUEUE_GRAPHICS_BIT = <span class="hex">0x00000001</span>,
    VK_QUEUE_COMPUTE_BIT = <span class="hex">0x00000002</span>,
    VK_QUEUE_TRANSFER_BIT = <span class="hex">0x00000004</span>,
    VK_QUEUE_SPARSE_BINDING_BIT = <span class="hex">0x00000008</span>,
    VK_QUEUE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkQueueFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUEUE_GRAPHICS_BIT</code> specifies that queues in this queue family
support graphics operations.</p>
</li>
<li>
<p><code>VK_QUEUE_COMPUTE_BIT</code> specifies that queues in this queue family
support compute operations.</p>
</li>
<li>
<p><code>VK_QUEUE_TRANSFER_BIT</code> specifies that queues in this queue family
support transfer operations.</p>
</li>
<li>
<p><code>VK_QUEUE_SPARSE_BINDING_BIT</code> specifies that queues in this queue
family support sparse memory management operations (see
<a href="#sparsememory">Sparse Resources</a>).
If any of the sparse resource features are enabled, then at least one
queue family <strong class="purple">must</strong> support this bit.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If an implementation exposes any queue family that supports graphics
operations, at least one queue family of at least one physical device
exposed by the implementation <strong class="purple">must</strong> support both graphics and compute
operations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>All commands that are allowed on a queue that supports transfer operations
are also allowed on a queue that supports either graphics or compute
operations.
Thus, if the capabilities of a queue family include
<code>VK_QUEUE_GRAPHICS_BIT</code> or <code>VK_QUEUE_COMPUTE_BIT</code>, then reporting
the <code>VK_QUEUE_TRANSFER_BIT</code> capability separately for that queue family
is <strong class="purple">optional</strong>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For further details see <a href="#devsandqueues-queues">Queues</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkQueueFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkQueueFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkQueueFlags</code> is a bitmask type for setting a mask of zero or more
<a href="#VkQueueFlagBits">VkQueueFlagBits</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devsandqueues-devices"><a class="anchor" href="#devsandqueues-devices"></a>4.2. Devices</h3>
<div class="paragraph">
<p>Device objects represent logical connections to physical devices.
Each device exposes a number of <em>queue families</em> each having one or more
<em>queues</em>.
All queues in a queue family support the same operations.</p>
</div>
<div class="paragraph">
<p>As described in <a href="#devsandqueues-physical-device-enumeration">Physical
Devices</a>, a Vulkan application will first query for all physical devices in
a system.
Each physical device <strong class="purple">can</strong> then be queried for its capabilities, including
its queue and queue family properties.
Once an acceptable physical device is identified, an application will create
a corresponding logical device.
An application <strong class="purple">must</strong> create a separate logical device for each physical
device it will use.
The created logical device is then the primary interface to the physical
device.</p>
</div>
<div class="paragraph">
<p>How to enumerate the physical devices in a system and query those physical
devices for their queue family properties is described in the
<a href="#devsandqueues-physical-device-enumeration">Physical Device Enumeration</a>
section above.</p>
</div>
<div class="sect3">
<h4 id="devsandqueues-device-creation"><a class="anchor" href="#devsandqueues-device-creation"></a>4.2.1. Device Creation</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Logical devices are represented by <code>VkDevice</code> handles:</p>
</div>
<div id="VkDevice" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_HANDLE(VkDevice)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A logical device is created as a <em>connection</em> to a physical device.
To create a logical device, call:</p>
</div>
<div id="vkCreateDevice" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateDevice(
    VkPhysicalDevice                            physicalDevice,
    <span class="directive">const</span> VkDeviceCreateInfo*                   pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkDevice*                                   pDevice);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> <strong class="purple">must</strong> be one of the device handles returned from a
call to <code>vkEnumeratePhysicalDevices</code> (see
<a href="#devsandqueues-physical-device-enumeration">Physical Device
Enumeration</a>).</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkDeviceCreateInfo">VkDeviceCreateInfo</a> structure
containing information about how to create the device.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pDevice</code> is a pointer to a handle in which the created
<a href="#VkDevice">VkDevice</a> is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCreateDevice</code> verifies that extensions and features requested in the
<code>ppEnabledExtensionNames</code> and <code>pEnabledFeatures</code> members of
<code>pCreateInfo</code>, respectively, are supported by the implementation.
If any requested extension is not supported, <code>vkCreateDevice</code> <strong class="purple">must</strong>
return <code>VK_ERROR_EXTENSION_NOT_PRESENT</code>.
If any requested feature is not supported, <code>vkCreateDevice</code> <strong class="purple">must</strong> return
<code>VK_ERROR_FEATURE_NOT_PRESENT</code>.
Support for extensions <strong class="purple">can</strong> be checked before creating a device by querying
<a href="#vkEnumerateDeviceExtensionProperties">vkEnumerateDeviceExtensionProperties</a>.
Support for features <strong class="purple">can</strong> similarly be checked by querying
<a href="#vkGetPhysicalDeviceFeatures">vkGetPhysicalDeviceFeatures</a>.</p>
</div>
<div class="paragraph">
<p>After verifying and enabling the extensions the <code>VkDevice</code> object is
created and returned to the application.
If a requested extension is only supported by a layer, both the layer and
the extension need to be specified at <code>vkCreateInstance</code> time for the
creation to succeed.</p>
</div>
<div class="paragraph">
<p>Multiple logical devices <strong class="purple">can</strong> be created from the same physical device.
Logical device creation <strong class="purple">may</strong> fail due to lack of device-specific resources
(in addition to the other errors).
If that occurs, <code>vkCreateDevice</code> will return
<code>VK_ERROR_TOO_MANY_OBJECTS</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDevice-ppEnabledExtensionNames-01387" href="#VUID-vkCreateDevice-ppEnabledExtensionNames-01387"></a>
All <a href="#extendingvulkan-extensions-extensiondependencies">required
extensions</a> for each extension in the
<a href="#VkDeviceCreateInfo">VkDeviceCreateInfo</a>::<code>ppEnabledExtensionNames</code> list <strong class="purple">must</strong> also
be present in that list.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDevice-physicalDevice-parameter" href="#VUID-vkCreateDevice-physicalDevice-parameter"></a> <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDevice-pCreateInfo-parameter" href="#VUID-vkCreateDevice-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkDeviceCreateInfo">VkDeviceCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDevice-pAllocator-parameter" href="#VUID-vkCreateDevice-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDevice-pDevice-parameter" href="#VUID-vkCreateDevice-pDevice-parameter"></a> <code>pDevice</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkDevice">VkDevice</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_INITIALIZATION_FAILED</code></p>
</li>
<li>
<p><code>VK_ERROR_EXTENSION_NOT_PRESENT</code></p>
</li>
<li>
<p><code>VK_ERROR_FEATURE_NOT_PRESENT</code></p>
</li>
<li>
<p><code>VK_ERROR_TOO_MANY_OBJECTS</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDeviceCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkDeviceCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDeviceCreateInfo {
    VkStructureType                    sType;
    <span class="directive">const</span> <span class="directive">void</span>*                        pNext;
    VkDeviceCreateFlags                flags;
    uint32_t                           queueCreateInfoCount;
    <span class="directive">const</span> VkDeviceQueueCreateInfo*     pQueueCreateInfos;
    uint32_t                           enabledLayerCount;
    <span class="directive">const</span> <span class="predefined-type">char</span>* <span class="directive">const</span>*                 ppEnabledLayerNames;
    uint32_t                           enabledExtensionCount;
    <span class="directive">const</span> <span class="predefined-type">char</span>* <span class="directive">const</span>*                 ppEnabledExtensionNames;
    <span class="directive">const</span> VkPhysicalDeviceFeatures*    pEnabledFeatures;
} VkDeviceCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>queueCreateInfoCount</code> is the unsigned integer size of the
<code>pQueueCreateInfos</code> array.
Refer to the <a href="#devsandqueues-queue-creation">Queue Creation</a> section
below for further details.</p>
</li>
<li>
<p><code>pQueueCreateInfos</code> is a pointer to an array of
<a href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a> structures describing the queues that are
requested to be created along with the logical device.
Refer to the <a href="#devsandqueues-queue-creation">Queue Creation</a> section
below for further details.</p>
</li>
<li>
<p><code>enabledLayerCount</code> is deprecated and ignored.</p>
</li>
<li>
<p><code>ppEnabledLayerNames</code> is deprecated and ignored.
See <a href="#extendingvulkan-layers-devicelayerdeprecation">Device Layer Deprecation</a>.</p>
</li>
<li>
<p><code>enabledExtensionCount</code> is the number of device extensions to
enable.</p>
</li>
<li>
<p><code>ppEnabledExtensionNames</code> is a pointer to an array of
<code>enabledExtensionCount</code> null-terminated UTF-8 strings containing the
names of extensions to enable for the created device.
See the <a href="#extendingvulkan-extensions">Extensions</a> section for further details.</p>
</li>
<li>
<p><code>pEnabledFeatures</code> is <code>NULL</code> or a pointer to a
<a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a> structure containing boolean indicators
of all the features to be enabled.
Refer to the <a href="#features">Features</a> section for further details.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceCreateInfo-queueFamilyIndex-00372" href="#VUID-VkDeviceCreateInfo-queueFamilyIndex-00372"></a>
The <code>queueFamilyIndex</code> member of each element of
<code>pQueueCreateInfos</code> <strong class="purple">must</strong> be unique within <code>pQueueCreateInfos</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceCreateInfo-sType-sType" href="#VUID-VkDeviceCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceCreateInfo-pNext-pNext" href="#VUID-VkDeviceCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceCreateInfo-flags-zerobitmask" href="#VUID-VkDeviceCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceCreateInfo-pQueueCreateInfos-parameter" href="#VUID-VkDeviceCreateInfo-pQueueCreateInfos-parameter"></a> <code>pQueueCreateInfos</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>queueCreateInfoCount</code> valid <a href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkDeviceCreateInfo-ppEnabledLayerNames-parameter" href="#VUID-VkDeviceCreateInfo-ppEnabledLayerNames-parameter"></a> If <code>enabledLayerCount</code> is not <code>0</code>, <code>ppEnabledLayerNames</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>enabledLayerCount</code> null-terminated UTF-8 strings</p>
</li>
<li>
<p><a id="VUID-VkDeviceCreateInfo-ppEnabledExtensionNames-parameter" href="#VUID-VkDeviceCreateInfo-ppEnabledExtensionNames-parameter"></a> If <code>enabledExtensionCount</code> is not <code>0</code>, <code>ppEnabledExtensionNames</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>enabledExtensionCount</code> null-terminated UTF-8 strings</p>
</li>
<li>
<p><a id="VUID-VkDeviceCreateInfo-pEnabledFeatures-parameter" href="#VUID-VkDeviceCreateInfo-pEnabledFeatures-parameter"></a> If <code>pEnabledFeatures</code> is not <code>NULL</code>, <code>pEnabledFeatures</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a> structure</p>
</li>
<li>
<p><a id="VUID-VkDeviceCreateInfo-queueCreateInfoCount-arraylength" href="#VUID-VkDeviceCreateInfo-queueCreateInfoCount-arraylength"></a> <code>queueCreateInfoCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDeviceCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkDeviceCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDeviceCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devsandqueues-use"><a class="anchor" href="#devsandqueues-use"></a>4.2.2. Device Use</h4>
<div class="paragraph">
<p>The following is a high-level list of <code>VkDevice</code> uses along with
references on where to find more information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creation of queues.
See the <a href="#devsandqueues-queues">Queues</a> section below for further
details.</p>
</li>
<li>
<p>Creation and tracking of various synchronization constructs.
See <a href="#synchronization">Synchronization and Cache Control</a> for further
details.</p>
</li>
<li>
<p>Allocating, freeing, and managing memory.
See <a href="#memory">Memory Allocation</a> and <a href="#resources">Resource Creation</a> for
further details.</p>
</li>
<li>
<p>Creation and destruction of command buffers and command buffer pools.
See <a href="#commandbuffers">Command Buffers</a> for further details.</p>
</li>
<li>
<p>Creation, destruction, and management of graphics state.
See <a href="#pipelines">Pipelines</a> and <a href="#descriptorsets">Resource Descriptors</a>,
among others, for further details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="devsandqueues-lost-device"><a class="anchor" href="#devsandqueues-lost-device"></a>4.2.3. Lost Device</h4>
<div class="paragraph">
<p>A logical device <strong class="purple">may</strong> become <em>lost</em> for a number of implementation-specific
reasons, indicating that pending and future command execution <strong class="purple">may</strong> fail and
cause resources and backing memory to become undefined.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Typical reasons for device loss will include things like execution timing
out (to prevent denial of service), power management events, platform
resource management, implementation errors.</p>
</div>
<div class="paragraph">
<p>Applications not adhering to <a href="#fundamentals-errors">valid usage</a> may also
result in device loss being reported, however this is not guaranteed.
Even if device loss is reported, the system may be in an unrecoverable
state, and further usage of the API is still considered invalid.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When this happens, certain commands will return <code>VK_ERROR_DEVICE_LOST</code>
(see <a href="#fundamentals-errorcodes">Error Codes</a> for a list of such commands).
After any such event, the logical device is considered <em>lost</em>.
It is not possible to reset the logical device to a non-lost state, however
the lost state is specific to a logical device (<code>VkDevice</code>), and the
corresponding physical device (<code>VkPhysicalDevice</code>) <strong class="purple">may</strong> be otherwise
unaffected.</p>
</div>
<div class="paragraph">
<p>In some cases, the physical device <strong class="purple">may</strong> also be lost, and attempting to
create a new logical device will fail, returning <code>VK_ERROR_DEVICE_LOST</code>.
This is usually indicative of a problem with the underlying implementation,
or its connection to the host.
If the physical device has not been lost, and a new logical device is
successfully created from that physical device, it <strong class="purple">must</strong> be in the non-lost
state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Whilst logical device loss <strong class="purple">may</strong> be recoverable, in the case of physical
device loss, it is unlikely that an application will be able to recover
unless additional, unaffected physical devices exist on the system.
The error is largely informational and intended only to inform the user that
a platform issue has occurred, and <strong class="purple">should</strong> be investigated further.
For example, underlying hardware <strong class="purple">may</strong> have developed a fault or become
physically disconnected from the rest of the system.
In many cases, physical device loss <strong class="purple">may</strong> cause other more serious issues
such as the operating system crashing; in which case it <strong class="purple">may</strong> not be reported
via the Vulkan API.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When a device is lost, its child objects are not implicitly destroyed and
their handles are still valid.
Those objects <strong class="purple">must</strong> still be destroyed before their parents or the device
<strong class="purple">can</strong> be destroyed (see the <a href="#fundamentals-objectmodel-lifetime">Object
Lifetime</a> section).
The host address space corresponding to device memory mapped using
<a href="#vkMapMemory">vkMapMemory</a> is still valid, and host memory accesses to these mapped
regions are still valid, but the contents are undefined.
It is still legal to call any API command on the device and child objects.</p>
</div>
<div class="paragraph">
<p>Once a device is lost, command execution <strong class="purple">may</strong> fail, and commands that return
a <a href="#VkResult">VkResult</a> <strong class="purple">may</strong> return <code>VK_ERROR_DEVICE_LOST</code>.
Commands that do not allow run-time errors <strong class="purple">must</strong> still operate correctly for
valid usage and, if applicable, return valid data.</p>
</div>
<div class="paragraph">
<p>Commands that wait indefinitely for device execution (namely
<a href="#vkDeviceWaitIdle">vkDeviceWaitIdle</a>, <a href="#vkQueueWaitIdle">vkQueueWaitIdle</a>, <a href="#vkWaitForFences">vkWaitForFences</a>
with a maximum <code>timeout</code>, and <a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a> with the
<code>VK_QUERY_RESULT_WAIT_BIT</code> bit set in <code>flags</code>) <strong class="purple">must</strong> return in
finite time even in the case of a lost device, and return either
<code>VK_SUCCESS</code> or <code>VK_ERROR_DEVICE_LOST</code>.
For any command that <strong class="purple">may</strong> return <code>VK_ERROR_DEVICE_LOST</code>, for the purpose
of determining whether a command buffer is in the
<a href="#commandbuffers-lifecycle">pending state</a>, or whether resources are
considered in-use by the device, a return value of
<code>VK_ERROR_DEVICE_LOST</code> is equivalent to <code>VK_SUCCESS</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="devsandqueues-destruction"><a class="anchor" href="#devsandqueues-destruction"></a>4.2.4. Device Destruction</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a device, call:</p>
</div>
<div id="vkDestroyDevice" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyDevice(
    VkDevice                                    device,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To ensure that no work is active on the device, <a href="#vkDeviceWaitIdle">vkDeviceWaitIdle</a> <strong class="purple">can</strong>
be used to gate the destruction of the device.
Prior to destroying a device, an application is responsible for
destroying/freeing any Vulkan objects that were created using that device as
the first parameter of the corresponding <code>vkCreate*</code> or
<code>vkAllocate*</code> command.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The lifetime of each of these objects is bound by the lifetime of the
<code>VkDevice</code> object.
Therefore, to avoid resource leaks, it is critical that an application
explicitly free all of these resources prior to calling
<code>vkDestroyDevice</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDevice-device-00378" href="#VUID-vkDestroyDevice-device-00378"></a>
All child objects created on <code>device</code> <strong class="purple">must</strong> have been destroyed
prior to destroying <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkDestroyDevice-device-00379" href="#VUID-vkDestroyDevice-device-00379"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>device</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyDevice-device-00380" href="#VUID-vkDestroyDevice-device-00380"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>device</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDevice-device-parameter" href="#VUID-vkDestroyDevice-device-parameter"></a> If <code>device</code> is not <code>NULL</code>, <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDevice-pAllocator-parameter" href="#VUID-vkDestroyDevice-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>device</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devsandqueues-queues"><a class="anchor" href="#devsandqueues-queues"></a>4.3. Queues</h3>
<div class="sect3">
<h4 id="devsandqueues-queueprops"><a class="anchor" href="#devsandqueues-queueprops"></a>4.3.1. Queue Family Properties</h4>
<div class="paragraph">
<p>As discussed in the <a href="#devsandqueues-physical-device-enumeration">Physical
Device Enumeration</a> section above, the
<a href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a> command is used to retrieve
details about the queue families and queues supported by a device.</p>
</div>
<div class="paragraph">
<p>Each index in the <code>pQueueFamilyProperties</code> array returned by
<a href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a> describes a unique queue
family on that physical device.
These indices are used when creating queues, and they correspond directly
with the <code>queueFamilyIndex</code> that is passed to the <a href="#vkCreateDevice">vkCreateDevice</a>
command via the <a href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a> structure as described in the
<a href="#devsandqueues-queue-creation">Queue Creation</a> section below.</p>
</div>
<div class="paragraph">
<p>Grouping of queue families within a physical device is
implementation-dependent.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The general expectation is that a physical device groups all queues of
matching capabilities into a single family.
However, while implementations <strong class="purple">should</strong> do this, it is possible that a
physical device <strong class="purple">may</strong> return two separate queue families with the same
capabilities.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once an application has identified a physical device with the queue(s) that
it desires to use, it will create those queues in conjunction with a logical
device.
This is described in the following section.</p>
</div>
</div>
<div class="sect3">
<h4 id="devsandqueues-queue-creation"><a class="anchor" href="#devsandqueues-queue-creation"></a>4.3.2. Queue Creation</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Creating a logical device also creates the queues associated with that
device.
The queues to create are described by a set of <a href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a>
structures that are passed to <a href="#vkCreateDevice">vkCreateDevice</a> in
<code>pQueueCreateInfos</code>.</p>
</div>
<div class="paragraph">
<p>Queues are represented by <code>VkQueue</code> handles:</p>
</div>
<div id="VkQueue" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_HANDLE(VkQueue)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDeviceQueueCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkDeviceQueueCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDeviceQueueCreateInfo {
    VkStructureType             sType;
    <span class="directive">const</span> <span class="directive">void</span>*                 pNext;
    VkDeviceQueueCreateFlags    flags;
    uint32_t                    queueFamilyIndex;
    uint32_t                    queueCount;
    <span class="directive">const</span> <span class="predefined-type">float</span>*                pQueuePriorities;
} VkDeviceQueueCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is an unsigned integer indicating the index of
the queue family to create on this device.
This index corresponds to the index of an element of the
<code>pQueueFamilyProperties</code> array that was returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code>.</p>
</li>
<li>
<p><code>queueCount</code> is an unsigned integer specifying the number of queues
to create in the queue family indicated by <code>queueFamilyIndex</code>.</p>
</li>
<li>
<p><code>pQueuePriorities</code> is a pointer to an array of <code>queueCount</code>
normalized floating point values, specifying priorities of work that
will be submitted to each created queue.
See <a href="#devsandqueues-priority">Queue Priority</a> for more information.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceQueueCreateInfo-queueFamilyIndex-00381" href="#VUID-VkDeviceQueueCreateInfo-queueFamilyIndex-00381"></a>
<code>queueFamilyIndex</code> <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceQueueCreateInfo-queueCount-00382" href="#VUID-VkDeviceQueueCreateInfo-queueCount-00382"></a>
<code>queueCount</code> <strong class="purple">must</strong> be less than or equal to the <code>queueCount</code>
member of the <code>VkQueueFamilyProperties</code> structure, as returned by
<code>vkGetPhysicalDeviceQueueFamilyProperties</code> in the
<code>pQueueFamilyProperties</code>[queueFamilyIndex]</p>
</li>
<li>
<p><a id="VUID-VkDeviceQueueCreateInfo-pQueuePriorities-00383" href="#VUID-VkDeviceQueueCreateInfo-pQueuePriorities-00383"></a>
Each element of <code>pQueuePriorities</code> <strong class="purple">must</strong> be between <code>0.0</code> and <code>1.0</code>
inclusive</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDeviceQueueCreateInfo-sType-sType" href="#VUID-VkDeviceQueueCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DEVICE_QUEUE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceQueueCreateInfo-pNext-pNext" href="#VUID-VkDeviceQueueCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceQueueCreateInfo-flags-zerobitmask" href="#VUID-VkDeviceQueueCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDeviceQueueCreateInfo-pQueuePriorities-parameter" href="#VUID-VkDeviceQueueCreateInfo-pQueuePriorities-parameter"></a> <code>pQueuePriorities</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>queueCount</code> <code>float</code> values</p>
</li>
<li>
<p><a id="VUID-VkDeviceQueueCreateInfo-queueCount-arraylength" href="#VUID-VkDeviceQueueCreateInfo-queueCount-arraylength"></a> <code>queueCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDeviceQueueCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkDeviceQueueCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDeviceQueueCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To retrieve a handle to a <a href="#VkQueue">VkQueue</a> object, call:</p>
</div>
<div id="vkGetDeviceQueue" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetDeviceQueue(
    VkDevice                                    device,
    uint32_t                                    queueFamilyIndex,
    uint32_t                                    queueIndex,
    VkQueue*                                    pQueue);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the queue.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> is the index of the queue family to which the
queue belongs.</p>
</li>
<li>
<p><code>queueIndex</code> is the index within this queue family of the queue to
retrieve.</p>
</li>
<li>
<p><code>pQueue</code> is a pointer to a <a href="#VkQueue">VkQueue</a> object that will be filled
with the handle for the requested queue.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceQueue-queueFamilyIndex-00384" href="#VUID-vkGetDeviceQueue-queueFamilyIndex-00384"></a>
<code>queueFamilyIndex</code> <strong class="purple">must</strong> be one of the queue family indices
specified when <code>device</code> was created, via the
<code>VkDeviceQueueCreateInfo</code> structure</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceQueue-queueIndex-00385" href="#VUID-vkGetDeviceQueue-queueIndex-00385"></a>
<code>queueIndex</code> <strong class="purple">must</strong> be less than the number of queues created for the
specified queue family index when <code>device</code> was created, via the
<code>queueCount</code> member of the <code>VkDeviceQueueCreateInfo</code> structure</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceQueue-flags-01841" href="#VUID-vkGetDeviceQueue-flags-01841"></a>
<a href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a>::<code>flags</code> <strong class="purple">must</strong> have been set to zero
when <code>device</code> was created</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceQueue-device-parameter" href="#VUID-vkGetDeviceQueue-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceQueue-pQueue-parameter" href="#VUID-vkGetDeviceQueue-pQueue-parameter"></a> <code>pQueue</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkQueue">VkQueue</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devsandqueues-index"><a class="anchor" href="#devsandqueues-index"></a>4.3.3. Queue Family Index</h4>
<div class="paragraph">
<p>The queue family index is used in multiple places in Vulkan in order to tie
operations to a specific family of queues.</p>
</div>
<div class="paragraph">
<p>When retrieving a handle to the queue via <code>vkGetDeviceQueue</code>, the queue
family index is used to select which queue family to retrieve the
<code>VkQueue</code> handle from as described in the previous section.</p>
</div>
<div class="paragraph">
<p>When creating a <code>VkCommandPool</code> object (see
<a href="#commandbuffers-pools">Command Pools</a>), a queue family index is specified
in the <a href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a> structure.
Command buffers from this pool <strong class="purple">can</strong> only be submitted on queues
corresponding to this queue family.</p>
</div>
<div class="paragraph">
<p>When creating <code>VkImage</code> (see <a href="#resources-images">Images</a>) and
<code>VkBuffer</code> (see <a href="#resources-buffers">Buffers</a>) resources, a set of queue
families is included in the <a href="#VkImageCreateInfo">VkImageCreateInfo</a> and
<a href="#VkBufferCreateInfo">VkBufferCreateInfo</a> structures to specify the queue families that <strong class="purple">can</strong>
access the resource.</p>
</div>
<div class="paragraph">
<p>When inserting a <a href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a> or <a href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a>
(see <a href="#synchronization-pipeline-barriers">Pipeline Barriers</a>), a source and destination queue
family index is specified to allow the ownership of a buffer or image to be
transferred from one queue family to another.
See the <a href="#resources-sharing">Resource Sharing</a> section for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="devsandqueues-priority"><a class="anchor" href="#devsandqueues-priority"></a>4.3.4. Queue Priority</h4>
<div class="paragraph">
<p>Each queue is assigned a priority, as set in the
<a href="#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a> structures when creating the device.
The priority of each queue is a normalized floating point value between 0.0
and 1.0, which is then translated to a discrete priority level by the
implementation.
Higher values indicate a higher priority, with 0.0 being the lowest priority
and 1.0 being the highest.</p>
</div>
<div class="paragraph">
<p>Within the same device, queues with higher priority <strong class="purple">may</strong> be allotted more
processing time than queues with lower priority.
The implementation makes no guarantees with regards to ordering or
scheduling among queues with the same priority, other than the constraints
defined by any <a href="#synchronization">explicit synchronization primitives</a>.
The implementation make no guarantees with regards to queues across
different devices.</p>
</div>
<div class="paragraph">
<p>An implementation <strong class="purple">may</strong> allow a higher-priority queue to starve a
lower-priority queue on the same <code>VkDevice</code> until the higher-priority
queue has no further commands to execute.
The relationship of queue priorities <strong class="purple">must</strong> not cause queues on one
<code>VkDevice</code> to starve queues on another <code>VkDevice</code>.</p>
</div>
<div class="paragraph">
<p>No specific guarantees are made about higher priority queues receiving more
processing time or better quality of service than lower priority queues.</p>
</div>
</div>
<div class="sect3">
<h4 id="devsandqueues-submission"><a class="anchor" href="#devsandqueues-submission"></a>4.3.5. Queue Submission</h4>
<div class="paragraph">
<p>Work is submitted to a queue via <em>queue submission</em> commands such as
<a href="#vkQueueSubmit">vkQueueSubmit</a>.
Queue submission commands define a set of <em>queue operations</em> to be executed
by the underlying physical device, including synchronization with semaphores
and fences.</p>
</div>
<div class="paragraph">
<p>Submission commands take as parameters a target queue, zero or more
<em>batches</em> of work, and an <strong class="purple">optional</strong> fence to signal upon completion.
Each batch consists of three distinct parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Zero or more semaphores to wait on before execution of the rest of the
batch.</p>
<div class="ulist">
<ul>
<li>
<p>If present, these describe a <a href="#synchronization-semaphores-waiting">semaphore wait operation</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Zero or more work items to execute.</p>
<div class="ulist">
<ul>
<li>
<p>If present, these describe a <em>queue operation</em> matching the work
described.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Zero or more semaphores to signal upon completion of the work items.</p>
<div class="ulist">
<ul>
<li>
<p>If present, these describe a <a href="#synchronization-semaphores-signaling">semaphore signal operation</a>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>If a fence is present in a queue submission, it describes a
<a href="#synchronization-fences-signaling">fence signal operation</a>.</p>
</div>
<div class="paragraph">
<p>All work described by a queue submission command <strong class="purple">must</strong> be submitted to the
queue before the command returns.</p>
</div>
<div class="sect4">
<h5 id="devsandqueues-sparsebinding"><a class="anchor" href="#devsandqueues-sparsebinding"></a>Sparse Memory Binding</h5>
<div class="paragraph">
<p>In Vulkan it is possible to sparsely bind memory to buffers and images as
described in the <a href="#sparsememory">Sparse Resource</a> chapter.
Sparse memory binding is a queue operation.
A queue whose flags include the <code>VK_QUEUE_SPARSE_BINDING_BIT</code> <strong class="purple">must</strong> be
able to support the mapping of a virtual address to a physical address on
the device.
This causes an update to the page table mappings on the device.
This update <strong class="purple">must</strong> be synchronized on a queue to avoid corrupting page table
mappings during execution of graphics commands.
By binding the sparse memory resources on queues, all commands that are
dependent on the updated bindings are synchronized to only execute after the
binding is updated.
See the <a href="#synchronization">Synchronization and Cache Control</a> chapter for
how this synchronization is accomplished.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devsandqueues-queuedestruction"><a class="anchor" href="#devsandqueues-queuedestruction"></a>4.3.6. Queue Destruction</h4>
<div class="paragraph">
<p>Queues are created along with a logical device during <code>vkCreateDevice</code>.
All queues associated with a logical device are destroyed when
<code>vkDestroyDevice</code> is called on that device.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="commandbuffers"><a class="anchor" href="#commandbuffers"></a>5. Command Buffers</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Command buffers are objects used to record commands which <strong class="purple">can</strong> be
subsequently submitted to a device queue for execution.
There are two levels of command buffers - <em>primary command buffers</em>, which
<strong class="purple">can</strong> execute secondary command buffers, and which are submitted to queues,
and <em>secondary command buffers</em>, which <strong class="purple">can</strong> be executed by primary command
buffers, and which are not directly submitted to queues.</p>
</div>
<div class="paragraph">
<p>Command buffers are represented by <code>VkCommandBuffer</code> handles:</p>
</div>
<div id="VkCommandBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_HANDLE(VkCommandBuffer)</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Recorded commands include commands to bind pipelines and descriptor sets to
the command buffer, commands to modify dynamic state, commands to draw (for
graphics rendering), commands to dispatch (for compute), commands to execute
secondary command buffers (for primary command buffers only), commands to
copy buffers and images, and other commands.</p>
</div>
<div id="commandbuffers-statereset" class="paragraph">
<p>Each command buffer manages state independently of other command buffers.
There is no inheritance of state across primary and secondary command
buffers, or between secondary command buffers.
When a command buffer begins recording, all state in that command buffer is
undefined.
When secondary command buffer(s) are recorded to execute on a primary
command buffer, the secondary command buffer inherits no state from the
primary command buffer, and all state of the primary command buffer is
undefined after an execute secondary command buffer command is recorded.
There is one exception to this rule - if the primary command buffer is
inside a render pass instance, then the render pass and subpass state is not
disturbed by executing secondary command buffers.
For state dependent commands (such as draws and dispatches), any state
consumed by those commands <strong class="purple">must</strong> not be undefined.</p>
</div>
<div class="paragraph">
<p>Unless otherwise specified, and without explicit synchronization, the
various commands submitted to a queue via command buffers <strong class="purple">may</strong> execute in
arbitrary order relative to each other, and/or concurrently.
Also, the memory side-effects of those commands <strong class="purple">may</strong> not be directly visible
to other commands without explicit memory dependencies.
This is true within a command buffer, and across command buffers submitted
to a given queue.
See <a href="#synchronization">the synchronization chapter</a> for information on
<a href="#synchronization-implicit">implicit</a> and explicit synchronization between
commands.</p>
</div>
<div class="sect2">
<h3 id="commandbuffers-lifecycle"><a class="anchor" href="#commandbuffers-lifecycle"></a>5.1. Command Buffer Lifecycle</h3>
<div class="paragraph">
<p>Each command buffer is always in one of the following states:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Initial</dt>
<dd>
<p>When a command buffer is <a href="#vkAllocateCommandBuffers">allocated</a>, it is
in the <em>initial state</em>.
Some commands are able to <em>reset</em> a command buffer (or a set of command
buffers) back to this state from any of the executable, recording or
invalid state.
Command buffers in the initial state <strong class="purple">can</strong> only be moved to the recording
state, or freed.</p>
</dd>
<dt class="hdlist1">Recording</dt>
<dd>
<p><a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a> changes the state of a command buffer from
the initial state to the <em>recording state</em>.
Once a command buffer is in the recording state, <code>vkCmd*</code> commands
<strong class="purple">can</strong> be used to record to the command buffer.</p>
</dd>
<dt class="hdlist1">Executable</dt>
<dd>
<p><a href="#vkEndCommandBuffer">vkEndCommandBuffer</a> ends the recording of a command buffer, and
moves it from the recording state to the <em>executable state</em>.
Executable command buffers <strong class="purple">can</strong> be <a href="#commandbuffers-submission">submitted</a>, reset, or <a href="#commandbuffers-secondary">recorded to another
command buffer</a>.</p>
</dd>
<dt class="hdlist1">Pending</dt>
<dd>
<p><a href="#commandbuffers-submission">Queue submission</a> of a command buffer
changes the state of a command buffer from the executable state to the
<em>pending state</em>.
Whilst in the pending state, applications <strong class="purple">must</strong> not attempt to modify
the command buffer in any way - as the device <strong class="purple">may</strong> be processing the
commands recorded to it.
Once execution of a command buffer completes, the command buffer either
reverts back to the <em>executable state</em>, or if it was recorded with
<code>VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT</code>, it moves to the
<em>invalid state</em>.
A <a href="#synchronization">synchronization</a> command <strong class="purple">should</strong> be used to detect
when this occurs.</p>
</dd>
<dt class="hdlist1">Invalid</dt>
<dd>
<p>Some operations, such as <a href="#fundamentals-objectmodel-lifetime-cmdbuffers">modifying or deleting a resource</a> that was used in a command recorded
to a command buffer, will transition the state of that command buffer
into the <em>invalid state</em>.
Command buffers in the invalid state <strong class="purple">can</strong> only be reset or freed.</p>
</dd>
</dl>
</div>
<div id="commandbuffer-lifecycle-diagram" class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="224.63503mm"
   height="92.592918mm"
   viewBox="0 0 224.63503 92.592918"
   version="1.1"
   id="svg8"
   sodipodi:docname="commandbuffer_lifecycle.svg"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)">
  <defs
     id="defs2">
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker5741"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path5739"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker5571"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path5569"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3457"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3455"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker3373"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path3371"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker1404"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path1402"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mstart"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path968"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker1320"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path1318"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker1274"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path1272"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker1246"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path1244"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path971"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker1274-3"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         id="path1272-3"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4142136"
     inkscape:cx="405.79858"
     inkscape:cy="139.11401"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     inkscape:measure-start="245,915"
     inkscape:measure-end="570,915"
     showguides="false"
     fit-margin-left="1"
     fit-margin-top="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1">
    <inkscape:grid
       type="xygrid"
       id="grid907"
       originx="3.8383438"
       originy="-212.72305" />
  </sodipodi:namedview>
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(3.8383438,8.3159637)">
    <rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.38502529;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-68-2-5"
       width="63.499996"
       height="7.9375005"
       x="76.729164"
       y="7.8066287" />
    <text
       id="text823-4-2-9-4-7-9-2"
       y="13.361835"
       x="108.38303"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-4"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496"
         y="13.361835"
         x="108.38303"
         sodipodi:role="line">Initial</tspan></text>
    <rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.38502529;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-68-2-5-2"
       width="63.499996"
       height="7.9375005"
       x="156.10417"
       y="37.57225" />
    <text
       id="text823-4-2-9-4-7-9-2-0"
       y="43.12746"
       x="187.75806"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-4-2"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496"
         y="43.12746"
         x="187.75806"
         sodipodi:role="line">Recording</tspan></text>
    <rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.38502529;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-68-2-5-7"
       width="63.499996"
       height="7.9375005"
       x="23.151045"
       y="73.291" />
    <text
       id="text823-4-2-9-4-7-9-2-7"
       y="78.846207"
       x="54.804928"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-4-0"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496"
         y="78.846207"
         x="54.804928"
         sodipodi:role="line">Pending</tspan></text>
    <rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.38502529;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-68-2-5-1"
       width="63.499996"
       height="7.9375005"
       x="130.3073"
       y="73.291" />
    <text
       id="text823-4-2-9-4-7-9-2-9"
       y="78.846207"
       x="161.96117"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-4-9"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496"
         y="78.846207"
         x="161.96117"
         sodipodi:role="line">Executable</tspan></text>
    <rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.38502529;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-68-2-5-9"
       width="63.499996"
       height="7.9375005"
       x="-2.6458311"
       y="37.57225" />
    <text
       id="text823-4-2-9-4-7-9-2-6"
       y="43.12746"
       x="29.008045"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-4-93"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496"
         y="43.12746"
         x="29.008045"
         sodipodi:role="line">Invalid</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="108.47915"
       y="-4.0996227"
       id="text905"><tspan
         sodipodi:role="line"
         id="tspan903"
         x="108.47915"
         y="-4.0996227"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">Allocate</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39749998;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Arrow1Mend)"
       d="m 140.22916,11.775377 c 17.40186,4.563534 31.44429,11.931433 37.70313,25.796877"
       id="path911"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687497;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58749987,1.58749987;stroke-dashoffset:0;stroke-opacity:1;marker-start:url(#marker1404)"
       d="M 76.72917,11.775375 C 59.32731,16.338909 45.28488,23.706809 39.02604,37.572252"
       id="path911-9"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687496px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1246)"
       d="m 177.93228,45.509753 c -2.5839,12.275404 -13.84985,21.278544 -31.74999,27.781249"
       id="path928"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687497;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58749987,1.58749987;stroke-dashoffset:0;stroke-opacity:1;marker-start:url(#Arrow1Mstart)"
       d="m 39.02604,45.509753 c 2.5839,12.275404 13.849846,21.278544 31.749991,27.781249"
       id="path928-9"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.42705935px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1274)"
       d="m 130.30729,77.259753 c -14.77333,2.532909 -29.48724,2.761692 -43.65625,0"
       id="path945"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.42705935px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1274-3)"
       d="m 86.651035,75.275378 c 14.773335,-2.532915 29.487245,-2.761695 43.656255,0"
       id="path945-6"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687497;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58749987,1.58749987;stroke-dashoffset:0;stroke-opacity:1;marker-end:url(#marker1320)"
       d="m 156.10417,39.556628 c -33.57471,-4.289783 -37.71018,-13.456659 -47.625,-23.8125"
       id="path3349"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687497;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58749987,1.58749987;stroke-dashoffset:0;stroke-opacity:1;marker-end:url(#marker3373)"
       d="M 144.19792,73.291002 C 129.70275,39.163626 116.89927,24.895373 108.47917,15.744128"
       id="path3363"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687496px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3457)"
       d="M 108.47917,-2.1152472 V 7.8066273"
       id="path3447"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="164.04166"
       y="19.712879"
       id="text905-5"><tspan
         sodipodi:role="line"
         id="tspan903-4"
         x="164.04166"
         y="19.712879"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687496">Begin</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="171.97917"
       y="63.369129"
       id="text905-5-4"><tspan
         sodipodi:role="line"
         id="tspan903-4-1"
         x="171.97917"
         y="63.369129"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687496">End</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="108.47915"
       y="83.212875"
       id="text905-5-4-3"><tspan
         sodipodi:role="line"
         id="tspan903-4-1-1"
         x="108.47915"
         y="83.212875"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">Submission</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="107.73502"
       y="71.306633"
       id="text905-5-4-3-1"><tspan
         sodipodi:role="line"
         id="tspan903-4-1-1-9"
         x="108.47916"
         y="71.306633"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">Completion </tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none"
       x="44.979168"
       y="61.38475"
       id="text4726"><tspan
         sodipodi:role="line"
         x="44.979168"
         y="61.38475"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;writing-mode:lr-tb;text-anchor:end;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none"
         id="tspan4732">Completion with</tspan><tspan
         sodipodi:role="line"
         x="44.979168"
         y="66.676414"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;writing-mode:lr-tb;text-anchor:end;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none"
         id="tspan11757">One Time Submit</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="52.916664"
       y="19.712879"
       id="text905-6"><tspan
         sodipodi:role="line"
         x="52.916664"
         y="19.712879"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;writing-mode:lr-tb;text-anchor:end;stroke-width:0.39687496"
         id="tspan3709">Reset</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="116.41668"
       y="21.697252"
       id="text905-6-3"><tspan
         sodipodi:role="line"
         x="116.41668"
         y="21.697252"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687496"
         id="tspan3709-2">Reset</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1;marker-end:url(#marker5571)"
       d="M 156.10416,41.541003 H 60.854164"
       id="path5557"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687499;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875, 1.5875;stroke-dashoffset:0;stroke-opacity:1;marker-end:url(#marker5741)"
       d="M 140.22916,73.291002 C 126.33855,47.494128 119.0625,41.677088 60.854164,41.541003"
       id="path5559"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="74.744797"
       y="47.494129"
       id="text905-6-3-4"><tspan
         sodipodi:role="line"
         x="74.744797"
         y="47.494129"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496"
         id="tspan3709-2-2">Invalidate</tspan></text>
  </g>
</svg>
</div>
<div class="title">Figure 1. Lifecycle of a command buffer</div>
</div>
<div class="paragraph">
<p>Any given command that operates on a command buffer has its own requirements
on what state a command buffer <strong class="purple">must</strong> be in, which are detailed in the valid
usage constraints for that command.</p>
</div>
<div class="paragraph">
<p>Resetting a command buffer is an operation that discards any previously
recorded commands and puts a command buffer in the <em>initial state</em>.
Resetting occurs as a result of <a href="#vkResetCommandBuffer">vkResetCommandBuffer</a> or
<a href="#vkResetCommandPool">vkResetCommandPool</a>, or as part of <a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a> (which
additionally puts the command buffer in the <em>recording state</em>).</p>
</div>
<div class="paragraph">
<p><a href="#commandbuffers-secondary">Secondary command buffers</a> <strong class="purple">can</strong> be recorded to
a primary command buffer via <a href="#vkCmdExecuteCommands">vkCmdExecuteCommands</a>.
This partially ties the lifecycle of the two command buffers together - if
the primary is submitted to a queue, both the primary and any secondaries
recorded to it move to the <em>pending state</em>.
Once execution of the primary completes, so it does for any secondary
recorded within it.
After all executions of each command buffer complete, they each move to
their appropriate completion state (either to the <em>execution state</em> or the
<em>invalid state</em>, as specified above).</p>
</div>
<div class="paragraph">
<p>If a secondary moves to the <em>invalid state</em> or the <em>initial state</em>, then all
primary buffers it is recorded in move to the <em>invalid state</em>.
A primary moving to any other state does not affect the state of a secondary
recorded in it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Resetting or freeing a primary command buffer removes the lifecycle linkage
to all secondary command buffers that were recorded into it.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="commandbuffers-pools"><a class="anchor" href="#commandbuffers-pools"></a>5.2. Command Pools</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Command pools are opaque objects that command buffer memory is allocated
from, and which allow the implementation to amortize the cost of resource
creation across multiple command buffers.
Command pools are externally synchronized, meaning that a command pool <strong class="purple">must</strong>
not be used concurrently in multiple threads.
That includes use via recording commands on any command buffers allocated
from the pool, as well as operations that allocate, free, and reset command
buffers or the pool itself.</p>
</div>
<div class="paragraph">
<p>Command pools are represented by <code>VkCommandPool</code> handles:</p>
</div>
<div id="VkCommandPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkCommandPool)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a command pool, call:</p>
</div>
<div id="vkCreateCommandPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateCommandPool(
    VkDevice                                    device,
    <span class="directive">const</span> VkCommandPoolCreateInfo*              pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkCommandPool*                              pCommandPool);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the command pool.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a>
structure specifying the state of the command pool object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pCommandPool</code> is a pointer to a <a href="#VkCommandPool">VkCommandPool</a> handle in which
the created pool is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateCommandPool-queueFamilyIndex-01937" href="#VUID-vkCreateCommandPool-queueFamilyIndex-01937"></a>
<code>pCreateInfo-&gt;queueFamilyIndex</code> <strong class="purple">must</strong> be the index of a queue family
available in the logical device <code>device</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateCommandPool-device-parameter" href="#VUID-vkCreateCommandPool-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateCommandPool-pCreateInfo-parameter" href="#VUID-vkCreateCommandPool-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateCommandPool-pAllocator-parameter" href="#VUID-vkCreateCommandPool-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateCommandPool-pCommandPool-parameter" href="#VUID-vkCreateCommandPool-pCommandPool-parameter"></a> <code>pCommandPool</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkCommandPool">VkCommandPool</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkCommandPoolCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkCommandPoolCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkCommandPoolCreateInfo {
    VkStructureType             sType;
    <span class="directive">const</span> <span class="directive">void</span>*                 pNext;
    VkCommandPoolCreateFlags    flags;
    uint32_t                    queueFamilyIndex;
} VkCommandPoolCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkCommandPoolCreateFlagBits">VkCommandPoolCreateFlagBits</a> indicating
usage behavior for the pool and command buffers allocated from it.</p>
</li>
<li>
<p><code>queueFamilyIndex</code> designates a queue family as described in section
<a href="#devsandqueues-queueprops">Queue Family Properties</a>.
All command buffers allocated from this command pool <strong class="purple">must</strong> be submitted
on queues from the same queue family.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>

</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCommandPoolCreateInfo-sType-sType" href="#VUID-VkCommandPoolCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkCommandPoolCreateInfo-pNext-pNext" href="#VUID-VkCommandPoolCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCommandPoolCreateInfo-flags-parameter" href="#VUID-VkCommandPoolCreateInfo-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkCommandPoolCreateFlagBits">VkCommandPoolCreateFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a>::<code>flags</code> to
specify usage behavior for a command pool are:</p>
</div>
<div id="VkCommandPoolCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkCommandPoolCreateFlagBits {
    VK_COMMAND_POOL_CREATE_TRANSIENT_BIT = <span class="hex">0x00000001</span>,
    VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT = <span class="hex">0x00000002</span>,
    VK_COMMAND_POOL_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkCommandPoolCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMMAND_POOL_CREATE_TRANSIENT_BIT</code> specifies that command
buffers allocated from the pool will be short-lived, meaning that they
will be reset or freed in a relatively short timeframe.
This flag <strong class="purple">may</strong> be used by the implementation to control memory
allocation behavior within the pool.</p>
</li>
<li>
<p><code>VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code> allows any command
buffer allocated from a pool to be individually reset to the
<a href="#commandbuffers-lifecycle">initial state</a>; either by calling
<a href="#vkResetCommandBuffer">vkResetCommandBuffer</a>, or via the implicit reset when calling
<a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a>.
If this flag is not set on a pool, then <code>vkResetCommandBuffer</code> <strong class="purple">must</strong>
not be called for any command buffer allocated from that pool.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkCommandPoolCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkCommandPoolCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkCommandPoolCreateFlags</code> is a bitmask type for setting a mask of zero
or more <a href="#VkCommandPoolCreateFlagBits">VkCommandPoolCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To reset a command pool, call:</p>
</div>
<div id="vkResetCommandPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkResetCommandPool(
    VkDevice                                    device,
    VkCommandPool                               commandPool,
    VkCommandPoolResetFlags                     flags);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the command pool.</p>
</li>
<li>
<p><code>commandPool</code> is the command pool to reset.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkCommandPoolResetFlagBits">VkCommandPoolResetFlagBits</a> controlling
the reset operation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Resetting a command pool recycles all of the resources from all of the
command buffers allocated from the command pool back to the command pool.
All command buffers that have been allocated from the command pool are put
in the <a href="#commandbuffers-lifecycle">initial state</a>.</p>
</div>
<div class="paragraph">
<p>Any primary command buffer allocated from another <a href="#VkCommandPool">VkCommandPool</a> that
is in the <a href="#commandbuffers-lifecycle">recording or executable state</a> and
has a secondary command buffer allocated from <code>commandPool</code> recorded
into it, becomes <a href="#commandbuffers-lifecycle">invalid</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetCommandPool-commandPool-00040" href="#VUID-vkResetCommandPool-commandPool-00040"></a>
All <code>VkCommandBuffer</code> objects allocated from <code>commandPool</code> <strong class="purple">must</strong>
not be in the <a href="#commandbuffers-lifecycle">pending state</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetCommandPool-device-parameter" href="#VUID-vkResetCommandPool-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetCommandPool-commandPool-parameter" href="#VUID-vkResetCommandPool-commandPool-parameter"></a> <code>commandPool</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandPool">VkCommandPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetCommandPool-flags-parameter" href="#VUID-vkResetCommandPool-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkCommandPoolResetFlagBits">VkCommandPoolResetFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkResetCommandPool-commandPool-parent" href="#VUID-vkResetCommandPool-commandPool-parent"></a> <code>commandPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#vkResetCommandPool">vkResetCommandPool</a>::<code>flags</code> to control
the reset operation are:</p>
</div>
<div id="VkCommandPoolResetFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkCommandPoolResetFlagBits {
    VK_COMMAND_POOL_RESET_RELEASE_RESOURCES_BIT = <span class="hex">0x00000001</span>,
    VK_COMMAND_POOL_RESET_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkCommandPoolResetFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMMAND_POOL_RESET_RELEASE_RESOURCES_BIT</code> specifies that
resetting a command pool recycles all of the resources from the command
pool back to the system.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkCommandPoolResetFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkCommandPoolResetFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkCommandPoolResetFlags</code> is a bitmask type for setting a mask of zero
or more <a href="#VkCommandPoolResetFlagBits">VkCommandPoolResetFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a command pool, call:</p>
</div>
<div id="vkDestroyCommandPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyCommandPool(
    VkDevice                                    device,
    VkCommandPool                               commandPool,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the command pool.</p>
</li>
<li>
<p><code>commandPool</code> is the handle of the command pool to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a pool is destroyed, all command buffers allocated from the pool are
<a href="#vkFreeCommandBuffers">freed</a>.</p>
</div>
<div class="paragraph">
<p>Any primary command buffer allocated from another <a href="#VkCommandPool">VkCommandPool</a> that
is in the <a href="#commandbuffers-lifecycle">recording or executable state</a> and
has a secondary command buffer allocated from <code>commandPool</code> recorded
into it, becomes <a href="#commandbuffers-lifecycle">invalid</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyCommandPool-commandPool-00041" href="#VUID-vkDestroyCommandPool-commandPool-00041"></a>
All <code>VkCommandBuffer</code> objects allocated from <code>commandPool</code> <strong class="purple">must</strong>
not be in the <a href="#commandbuffers-lifecycle">pending state</a>.</p>
</li>
<li>
<p><a id="VUID-vkDestroyCommandPool-commandPool-00042" href="#VUID-vkDestroyCommandPool-commandPool-00042"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>commandPool</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyCommandPool-commandPool-00043" href="#VUID-vkDestroyCommandPool-commandPool-00043"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>commandPool</code>
was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyCommandPool-device-parameter" href="#VUID-vkDestroyCommandPool-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyCommandPool-commandPool-parameter" href="#VUID-vkDestroyCommandPool-commandPool-parameter"></a> If <code>commandPool</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>commandPool</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandPool">VkCommandPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyCommandPool-pAllocator-parameter" href="#VUID-vkDestroyCommandPool-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyCommandPool-commandPool-parent" href="#VUID-vkDestroyCommandPool-commandPool-parent"></a> If <code>commandPool</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="commandbuffer-allocation"><a class="anchor" href="#commandbuffer-allocation"></a>5.3. Command Buffer Allocation and Management</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To allocate command buffers, call:</p>
</div>
<div id="vkAllocateCommandBuffers" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkAllocateCommandBuffers(
    VkDevice                                    device,
    <span class="directive">const</span> VkCommandBufferAllocateInfo*          pAllocateInfo,
    VkCommandBuffer*                            pCommandBuffers);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the command pool.</p>
</li>
<li>
<p><code>pAllocateInfo</code> is a pointer to a <code>VkCommandBufferAllocateInfo</code>
structure describing parameters of the allocation.</p>
</li>
<li>
<p><code>pCommandBuffers</code> is a pointer to an array of <a href="#VkCommandBuffer">VkCommandBuffer</a>
handles in which the resulting command buffer objects are returned.
The array <strong class="purple">must</strong> be at least the length specified by the
<code>commandBufferCount</code> member of <code>pAllocateInfo</code>.
Each allocated command buffer begins in the initial state.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When command buffers are first allocated, they are in the
<a href="#commandbuffers-lifecycle">initial state</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAllocateCommandBuffers-device-parameter" href="#VUID-vkAllocateCommandBuffers-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAllocateCommandBuffers-pAllocateInfo-parameter" href="#VUID-vkAllocateCommandBuffers-pAllocateInfo-parameter"></a> <code>pAllocateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkCommandBufferAllocateInfo">VkCommandBufferAllocateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkAllocateCommandBuffers-pCommandBuffers-parameter" href="#VUID-vkAllocateCommandBuffers-pCommandBuffers-parameter"></a> <code>pCommandBuffers</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pAllocateInfo</code>::commandBufferCount <a href="#VkCommandBuffer">VkCommandBuffer</a> handles</p>
</li>
<li>
<p><a id="VUID-vkAllocateCommandBuffers-pAllocateInfo::commandBufferCount-arraylength" href="#VUID-vkAllocateCommandBuffers-pAllocateInfo::commandBufferCount-arraylength"></a> The value referenced by <code>pAllocateInfo</code>::<code>commandBufferCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pAllocateInfo</code>::commandPool <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkCommandBufferAllocateInfo</code> structure is defined as:</p>
</div>
<div id="VkCommandBufferAllocateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkCommandBufferAllocateInfo {
    VkStructureType         sType;
    <span class="directive">const</span> <span class="directive">void</span>*             pNext;
    VkCommandPool           commandPool;
    VkCommandBufferLevel    level;
    uint32_t                commandBufferCount;
} VkCommandBufferAllocateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>commandPool</code> is the command pool from which the command buffers are
allocated.</p>
</li>
<li>
<p><code>level</code> is a <a href="#VkCommandBufferLevel">VkCommandBufferLevel</a> value specifying the command
buffer level.</p>
</li>
<li>
<p><code>commandBufferCount</code> is the number of command buffers to allocate
from the pool.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCommandBufferAllocateInfo-commandBufferCount-00044" href="#VUID-VkCommandBufferAllocateInfo-commandBufferCount-00044"></a>
<code>commandBufferCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCommandBufferAllocateInfo-sType-sType" href="#VUID-VkCommandBufferAllocateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkCommandBufferAllocateInfo-pNext-pNext" href="#VUID-VkCommandBufferAllocateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCommandBufferAllocateInfo-commandPool-parameter" href="#VUID-VkCommandBufferAllocateInfo-commandPool-parameter"></a> <code>commandPool</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandPool">VkCommandPool</a> handle</p>
</li>
<li>
<p><a id="VUID-VkCommandBufferAllocateInfo-level-parameter" href="#VUID-VkCommandBufferAllocateInfo-level-parameter"></a> <code>level</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBufferLevel">VkCommandBufferLevel</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkCommandBufferAllocateInfo">VkCommandBufferAllocateInfo</a>::<code>level</code>,
specifying the command buffer level, are:</p>
</div>
<div id="VkCommandBufferLevel" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkCommandBufferLevel {
    VK_COMMAND_BUFFER_LEVEL_PRIMARY = <span class="integer">0</span>,
    VK_COMMAND_BUFFER_LEVEL_SECONDARY = <span class="integer">1</span>,
    VK_COMMAND_BUFFER_LEVEL_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkCommandBufferLevel;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMMAND_BUFFER_LEVEL_PRIMARY</code> specifies a primary command
buffer.</p>
</li>
<li>
<p><code>VK_COMMAND_BUFFER_LEVEL_SECONDARY</code> specifies a secondary command
buffer.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To reset command buffers, call:</p>
</div>
<div id="vkResetCommandBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkResetCommandBuffer(
    VkCommandBuffer                             commandBuffer,
    VkCommandBufferResetFlags                   flags);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer to reset.
The command buffer <strong class="purple">can</strong> be in any state other than
<a href="#commandbuffers-lifecycle">pending</a>, and is moved into the
<a href="#commandbuffers-lifecycle">initial state</a>.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkCommandBufferResetFlagBits">VkCommandBufferResetFlagBits</a>
controlling the reset operation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any primary command buffer that is in the <a href="#commandbuffers-lifecycle">recording or executable state</a> and has <code>commandBuffer</code> recorded into
it, becomes <a href="#commandbuffers-lifecycle">invalid</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetCommandBuffer-commandBuffer-00045" href="#VUID-vkResetCommandBuffer-commandBuffer-00045"></a>
<code>commandBuffer</code> <strong class="purple">must</strong> not be in the <a href="#commandbuffers-lifecycle">pending state</a></p>
</li>
<li>
<p><a id="VUID-vkResetCommandBuffer-commandBuffer-00046" href="#VUID-vkResetCommandBuffer-commandBuffer-00046"></a>
<code>commandBuffer</code> <strong class="purple">must</strong> have been allocated from a pool that was
created with the <code>VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetCommandBuffer-commandBuffer-parameter" href="#VUID-vkResetCommandBuffer-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetCommandBuffer-flags-parameter" href="#VUID-vkResetCommandBuffer-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkCommandBufferResetFlagBits">VkCommandBufferResetFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#vkResetCommandBuffer">vkResetCommandBuffer</a>::<code>flags</code> to control
the reset operation are:</p>
</div>
<div id="VkCommandBufferResetFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkCommandBufferResetFlagBits {
    VK_COMMAND_BUFFER_RESET_RELEASE_RESOURCES_BIT = <span class="hex">0x00000001</span>,
    VK_COMMAND_BUFFER_RESET_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkCommandBufferResetFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMMAND_BUFFER_RESET_RELEASE_RESOURCES_BIT</code> specifies that most
or all memory resources currently owned by the command buffer <strong class="purple">should</strong> be
returned to the parent command pool.
If this flag is not set, then the command buffer <strong class="purple">may</strong> hold onto memory
resources and reuse them when recording commands.
<code>commandBuffer</code> is moved to the <a href="#commandbuffers-lifecycle">initial
state</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkCommandBufferResetFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkCommandBufferResetFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkCommandBufferResetFlags</code> is a bitmask type for setting a mask of zero
or more <a href="#VkCommandBufferResetFlagBits">VkCommandBufferResetFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To free command buffers, call:</p>
</div>
<div id="vkFreeCommandBuffers" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkFreeCommandBuffers(
    VkDevice                                    device,
    VkCommandPool                               commandPool,
    uint32_t                                    commandBufferCount,
    <span class="directive">const</span> VkCommandBuffer*                      pCommandBuffers);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the command pool.</p>
</li>
<li>
<p><code>commandPool</code> is the command pool from which the command buffers
were allocated.</p>
</li>
<li>
<p><code>commandBufferCount</code> is the length of the <code>pCommandBuffers</code>
array.</p>
</li>
<li>
<p><code>pCommandBuffers</code> is a pointer to an array of handles of command
buffers to free.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any primary command buffer that is in the <a href="#commandbuffers-lifecycle">recording or executable state</a> and has any element of <code>pCommandBuffers</code>
recorded into it, becomes <a href="#commandbuffers-lifecycle">invalid</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkFreeCommandBuffers-pCommandBuffers-00047" href="#VUID-vkFreeCommandBuffers-pCommandBuffers-00047"></a>
All elements of <code>pCommandBuffers</code> <strong class="purple">must</strong> not be in the
<a href="#commandbuffers-lifecycle">pending state</a></p>
</li>
<li>
<p><a id="VUID-vkFreeCommandBuffers-pCommandBuffers-00048" href="#VUID-vkFreeCommandBuffers-pCommandBuffers-00048"></a>
<code>pCommandBuffers</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>commandBufferCount</code> <code>VkCommandBuffer</code> handles, each element of
which <strong class="purple">must</strong> either be a valid handle or <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkFreeCommandBuffers-device-parameter" href="#VUID-vkFreeCommandBuffers-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkFreeCommandBuffers-commandPool-parameter" href="#VUID-vkFreeCommandBuffers-commandPool-parameter"></a> <code>commandPool</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandPool">VkCommandPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkFreeCommandBuffers-commandBufferCount-arraylength" href="#VUID-vkFreeCommandBuffers-commandBufferCount-arraylength"></a> <code>commandBufferCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkFreeCommandBuffers-commandPool-parent" href="#VUID-vkFreeCommandBuffers-commandPool-parent"></a> <code>commandPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkFreeCommandBuffers-pCommandBuffers-parent" href="#VUID-vkFreeCommandBuffers-pCommandBuffers-parent"></a> Each element of <code>pCommandBuffers</code> that is a valid handle <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>commandPool</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to each member of <code>pCommandBuffers</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="commandbuffers-recording"><a class="anchor" href="#commandbuffers-recording"></a>5.4. Command Buffer Recording</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To begin recording a command buffer, call:</p>
</div>
<div id="vkBeginCommandBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkBeginCommandBuffer(
    VkCommandBuffer                             commandBuffer,
    <span class="directive">const</span> VkCommandBufferBeginInfo*             pBeginInfo);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the handle of the command buffer which is to be
put in the recording state.</p>
</li>
<li>
<p><code>pBeginInfo</code> points to a <a href="#VkCommandBufferBeginInfo">VkCommandBufferBeginInfo</a> structure
defining additional information about how the command buffer begins
recording.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkBeginCommandBuffer-commandBuffer-00049" href="#VUID-vkBeginCommandBuffer-commandBuffer-00049"></a>
<code>commandBuffer</code> <strong class="purple">must</strong> not be in the <a href="#commandbuffers-lifecycle">recording or pending state</a></p>
</li>
<li>
<p><a id="VUID-vkBeginCommandBuffer-commandBuffer-00050" href="#VUID-vkBeginCommandBuffer-commandBuffer-00050"></a>
If <code>commandBuffer</code> was allocated from a <a href="#VkCommandPool">VkCommandPool</a> which
did not have the <code>VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code>
flag set, <code>commandBuffer</code> <strong class="purple">must</strong> be in the
<a href="#commandbuffers-lifecycle">initial state</a></p>
</li>
<li>
<p><a id="VUID-vkBeginCommandBuffer-commandBuffer-00051" href="#VUID-vkBeginCommandBuffer-commandBuffer-00051"></a>
If <code>commandBuffer</code> is a secondary command buffer, the
<code>pInheritanceInfo</code> member of <code>pBeginInfo</code> <strong class="purple">must</strong> be a valid
<code>VkCommandBufferInheritanceInfo</code> structure</p>
</li>
<li>
<p><a id="VUID-vkBeginCommandBuffer-commandBuffer-00052" href="#VUID-vkBeginCommandBuffer-commandBuffer-00052"></a>
If <code>commandBuffer</code> is a secondary command buffer and either the
<code>occlusionQueryEnable</code> member of the <code>pInheritanceInfo</code> member
of <code>pBeginInfo</code> is <code>VK_FALSE</code>, or the precise occlusion queries
feature is not enabled, the <code>queryFlags</code> member of the
<code>pInheritanceInfo</code> member <code>pBeginInfo</code> <strong class="purple">must</strong> not contain
<code>VK_QUERY_CONTROL_PRECISE_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkBeginCommandBuffer-commandBuffer-02840" href="#VUID-vkBeginCommandBuffer-commandBuffer-02840"></a>
If <code>commandBuffer</code> is a primary command buffer, then
<code>pBeginInfo-&gt;flags</code> <strong class="purple">must</strong> not set both the
<code>VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT</code> and the
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> flags</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkBeginCommandBuffer-commandBuffer-parameter" href="#VUID-vkBeginCommandBuffer-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkBeginCommandBuffer-pBeginInfo-parameter" href="#VUID-vkBeginCommandBuffer-pBeginInfo-parameter"></a> <code>pBeginInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkCommandBufferBeginInfo">VkCommandBufferBeginInfo</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkCommandBufferBeginInfo</code> structure is defined as:</p>
</div>
<div id="VkCommandBufferBeginInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkCommandBufferBeginInfo {
    VkStructureType                          sType;
    <span class="directive">const</span> <span class="directive">void</span>*                              pNext;
    VkCommandBufferUsageFlags                flags;
    <span class="directive">const</span> VkCommandBufferInheritanceInfo*    pInheritanceInfo;
} VkCommandBufferBeginInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkCommandBufferUsageFlagBits">VkCommandBufferUsageFlagBits</a>
specifying usage behavior for the command buffer.</p>
</li>
<li>
<p><code>pInheritanceInfo</code> is a pointer to a
<code>VkCommandBufferInheritanceInfo</code> structure, used if
<code>commandBuffer</code> is a secondary command buffer.
If this is a primary command buffer, then this value is ignored.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCommandBufferBeginInfo-flags-00053" href="#VUID-VkCommandBufferBeginInfo-flags-00053"></a>
If <code>flags</code> contains
<code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>, the
<code>renderPass</code> member of <code>pInheritanceInfo</code> <strong class="purple">must</strong> be a valid
<code>VkRenderPass</code></p>
</li>
<li>
<p><a id="VUID-VkCommandBufferBeginInfo-flags-00054" href="#VUID-VkCommandBufferBeginInfo-flags-00054"></a>
If <code>flags</code> contains
<code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>, the
<code>subpass</code> member of <code>pInheritanceInfo</code> <strong class="purple">must</strong> be a valid subpass
index within the <code>renderPass</code> member of <code>pInheritanceInfo</code></p>
</li>
<li>
<p><a id="VUID-VkCommandBufferBeginInfo-flags-00055" href="#VUID-VkCommandBufferBeginInfo-flags-00055"></a>
If <code>flags</code> contains
<code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code>, the
<code>framebuffer</code> member of <code>pInheritanceInfo</code> <strong class="purple">must</strong> be either
<a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, or a valid <code>VkFramebuffer</code> that is compatible
with the <code>renderPass</code> member of <code>pInheritanceInfo</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCommandBufferBeginInfo-sType-sType" href="#VUID-VkCommandBufferBeginInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkCommandBufferBeginInfo-pNext-pNext" href="#VUID-VkCommandBufferBeginInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCommandBufferBeginInfo-flags-parameter" href="#VUID-VkCommandBufferBeginInfo-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkCommandBufferUsageFlagBits">VkCommandBufferUsageFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkCommandBufferBeginInfo">VkCommandBufferBeginInfo</a>::<code>flags</code> to
specify usage behavior for a command buffer are:</p>
</div>
<div id="VkCommandBufferUsageFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkCommandBufferUsageFlagBits {
    VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT = <span class="hex">0x00000001</span>,
    VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT = <span class="hex">0x00000002</span>,
    VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT = <span class="hex">0x00000004</span>,
    VK_COMMAND_BUFFER_USAGE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkCommandBufferUsageFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT</code> specifies that each
recording of the command buffer will only be submitted once, and the
command buffer will be reset and recorded again between each submission.</p>
</li>
<li>
<p><code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code> specifies that a
secondary command buffer is considered to be entirely inside a render
pass.
If this is a primary command buffer, then this bit is ignored.</p>
</li>
<li>
<p><code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> specifies that a
command buffer <strong class="purple">can</strong> be resubmitted to a queue while it is in the
<em>pending state</em>, and recorded into multiple primary command buffers.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkCommandBufferUsageFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkCommandBufferUsageFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkCommandBufferUsageFlags</code> is a bitmask type for setting a mask of zero
or more <a href="#VkCommandBufferUsageFlagBits">VkCommandBufferUsageFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the command buffer is a secondary command buffer, then the
<code>VkCommandBufferInheritanceInfo</code> structure defines any state that will
be inherited from the primary command buffer:</p>
</div>
<div id="VkCommandBufferInheritanceInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkCommandBufferInheritanceInfo {
    VkStructureType                  sType;
    <span class="directive">const</span> <span class="directive">void</span>*                      pNext;
    VkRenderPass                     renderPass;
    uint32_t                         subpass;
    VkFramebuffer                    framebuffer;
    VkBool32                         occlusionQueryEnable;
    VkQueryControlFlags              queryFlags;
    VkQueryPipelineStatisticFlags    pipelineStatistics;
} VkCommandBufferInheritanceInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>renderPass</code> is a <a href="#VkRenderPass">VkRenderPass</a> object defining which render
passes the <code>VkCommandBuffer</code> will be <a href="#renderpass-compatibility">compatible</a> with and <strong class="purple">can</strong> be executed within.
If the <code>VkCommandBuffer</code> will not be executed within a render pass
instance, <code>renderPass</code> is ignored.</p>
</li>
<li>
<p><code>subpass</code> is the index of the subpass within the render pass
instance that the <code>VkCommandBuffer</code> will be executed within.
If the <code>VkCommandBuffer</code> will not be executed within a render pass
instance, <code>subpass</code> is ignored.</p>
</li>
<li>
<p><code>framebuffer</code> optionally refers to the <a href="#VkFramebuffer">VkFramebuffer</a> object
that the <code>VkCommandBuffer</code> will be rendering to if it is executed
within a render pass instance.
It <strong class="purple">can</strong> be <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a> if the framebuffer is not known, or if
the <code>VkCommandBuffer</code> will not be executed within a render pass
instance.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Specifying the exact framebuffer that the secondary command buffer will be
executed with <strong class="purple">may</strong> result in better performance at command buffer execution
time.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><code>occlusionQueryEnable</code> specifies whether the command buffer <strong class="purple">can</strong> be
executed while an occlusion query is active in the primary command
buffer.
If this is <code>VK_TRUE</code>, then this command buffer <strong class="purple">can</strong> be executed
whether the primary command buffer has an occlusion query active or not.
If this is <code>VK_FALSE</code>, then the primary command buffer <strong class="purple">must</strong> not
have an occlusion query active.</p>
</li>
<li>
<p><code>queryFlags</code> specifies the query flags that <strong class="purple">can</strong> be used by an
active occlusion query in the primary command buffer when this secondary
command buffer is executed.
If this value includes the <code>VK_QUERY_CONTROL_PRECISE_BIT</code> bit, then
the active query <strong class="purple">can</strong> return boolean results or actual sample counts.
If this bit is not set, then the active query <strong class="purple">must</strong> not use the
<code>VK_QUERY_CONTROL_PRECISE_BIT</code> bit.</p>
</li>
<li>
<p><code>pipelineStatistics</code> is a bitmask of
<a href="#VkQueryPipelineStatisticFlagBits">VkQueryPipelineStatisticFlagBits</a> specifying the set of pipeline
statistics that <strong class="purple">can</strong> be counted by an active query in the primary
command buffer when this secondary command buffer is executed.
If this value includes a given bit, then this command buffer <strong class="purple">can</strong> be
executed whether the primary command buffer has a pipeline statistics
query active that includes this bit or not.
If this value excludes a given bit, then the active pipeline statistics
query <strong class="purple">must</strong> not be from a query pool that counts that statistic.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCommandBufferInheritanceInfo-occlusionQueryEnable-00056" href="#VUID-VkCommandBufferInheritanceInfo-occlusionQueryEnable-00056"></a>
If the <a href="#features-inheritedQueries">inherited queries</a> feature is not
enabled, <code>occlusionQueryEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkCommandBufferInheritanceInfo-queryFlags-00057" href="#VUID-VkCommandBufferInheritanceInfo-queryFlags-00057"></a>
If the <a href="#features-inheritedQueries">inherited queries</a> feature is
enabled, <code>queryFlags</code> <strong class="purple">must</strong> be a valid combination of
<a href="#VkQueryControlFlagBits">VkQueryControlFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkCommandBufferInheritanceInfo-queryFlags-02788" href="#VUID-VkCommandBufferInheritanceInfo-queryFlags-02788"></a>
If the <a href="#features-inheritedQueries">inherited queries</a> feature is not
enabled, <code>queryFlags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkCommandBufferInheritanceInfo-pipelineStatistics-02789" href="#VUID-VkCommandBufferInheritanceInfo-pipelineStatistics-02789"></a>
If the <a href="#features-pipelineStatisticsQuery">pipeline statistics queries</a>
feature is enabled, <code>pipelineStatistics</code> <strong class="purple">must</strong> be a valid
combination of <a href="#VkQueryPipelineStatisticFlagBits">VkQueryPipelineStatisticFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkCommandBufferInheritanceInfo-pipelineStatistics-00058" href="#VUID-VkCommandBufferInheritanceInfo-pipelineStatistics-00058"></a>
If the <a href="#features-pipelineStatisticsQuery">pipeline statistics queries</a>
feature is not enabled, <code>pipelineStatistics</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCommandBufferInheritanceInfo-sType-sType" href="#VUID-VkCommandBufferInheritanceInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkCommandBufferInheritanceInfo-pNext-pNext" href="#VUID-VkCommandBufferInheritanceInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCommandBufferInheritanceInfo-commonparent" href="#VUID-VkCommandBufferInheritanceInfo-commonparent"></a> Both of <code>framebuffer</code>, and <code>renderPass</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>On some implementations, not using the
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> bit enables command
buffers to be patched in-place if needed, rather than creating a copy of the
command buffer.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If a command buffer is in the <a href="#commandbuffers-lifecycle">invalid, or
executable state</a>, and the command buffer was allocated from a command pool
with the <code>VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code> flag set,
then <code>vkBeginCommandBuffer</code> implicitly resets the command buffer,
behaving as if <code>vkResetCommandBuffer</code> had been called with
<code>VK_COMMAND_BUFFER_RESET_RELEASE_RESOURCES_BIT</code> not set.
After the implicit reset, <code>commandBuffer</code> is moved to the
<a href="#commandbuffers-lifecycle">recording state</a>.</p>
</div>
<div class="paragraph">
<p>Once recording starts, an application records a sequence of commands
(<code>vkCmd*</code>) to set state in the command buffer, draw, dispatch, and other
commands.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To complete recording of a command buffer, call:</p>
</div>
<div id="vkEndCommandBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkEndCommandBuffer(
    VkCommandBuffer                             commandBuffer);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer to complete recording.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If there was an error during recording, the application will be notified by
an unsuccessful return code returned by <code>vkEndCommandBuffer</code>.
If the application wishes to further use the command buffer, the command
buffer <strong class="purple">must</strong> be reset.
The command buffer <strong class="purple">must</strong> have been in the <a href="#commandbuffers-lifecycle">recording state</a>, and is moved to the <a href="#commandbuffers-lifecycle">executable state</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkEndCommandBuffer-commandBuffer-00059" href="#VUID-vkEndCommandBuffer-commandBuffer-00059"></a>
<code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a>.</p>
</li>
<li>
<p><a id="VUID-vkEndCommandBuffer-commandBuffer-00060" href="#VUID-vkEndCommandBuffer-commandBuffer-00060"></a>
If <code>commandBuffer</code> is a primary command buffer, there <strong class="purple">must</strong> not be
an active render pass instance</p>
</li>
<li>
<p><a id="VUID-vkEndCommandBuffer-commandBuffer-00061" href="#VUID-vkEndCommandBuffer-commandBuffer-00061"></a>
All queries made <a href="#queries-operation-active">active</a> during the
recording of <code>commandBuffer</code> <strong class="purple">must</strong> have been made inactive</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkEndCommandBuffer-commandBuffer-parameter" href="#VUID-vkEndCommandBuffer-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>When a command buffer is in the executable state, it <strong class="purple">can</strong> be submitted to a
queue for execution.</p>
</div>
</div>
<div class="sect2">
<h3 id="commandbuffers-submission"><a class="anchor" href="#commandbuffers-submission"></a>5.5. Command Buffer Submission</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To submit command buffers to a queue, call:</p>
</div>
<div id="vkQueueSubmit" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkQueueSubmit(
    VkQueue                                     queue,
    uint32_t                                    submitCount,
    <span class="directive">const</span> VkSubmitInfo*                         pSubmits,
    VkFence                                     fence);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>queue</code> is the queue that the command buffers will be submitted to.</p>
</li>
<li>
<p><code>submitCount</code> is the number of elements in the <code>pSubmits</code> array.</p>
</li>
<li>
<p><code>pSubmits</code> is a pointer to an array of <a href="#VkSubmitInfo">VkSubmitInfo</a>
structures, each specifying a command buffer submission batch.</p>
</li>
<li>
<p><code>fence</code> is an <strong class="purple">optional</strong> handle to a fence to be signaled once all
submitted command buffers have completed execution.
If <code>fence</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, it defines a
<a href="#synchronization-fences-signaling">fence signal operation</a>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Submission can be a high overhead operation, and applications <strong class="purple">should</strong>
attempt to batch work together into as few calls to <code>vkQueueSubmit</code> as
possible.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>vkQueueSubmit</code> is a <a href="#devsandqueues-submission">queue submission
command</a>, with each batch defined by an element of <code>pSubmits</code>.
Batches begin execution in the order they appear in <code>pSubmits</code>, but <strong class="purple">may</strong>
complete out of order.</p>
</div>
<div class="paragraph">
<p>Fence and semaphore operations submitted with <a href="#vkQueueSubmit">vkQueueSubmit</a> have
additional ordering constraints compared to other submission commands, with
dependencies involving previous and subsequent queue operations.
Information about these additional constraints can be found in the
<a href="#synchronization-semaphores">semaphore</a> and <a href="#synchronization-fences">fence</a> sections of <a href="#synchronization">the synchronization chapter</a>.</p>
</div>
<div class="paragraph">
<p>Details on the interaction of <code>pWaitDstStageMask</code> with synchronization
are described in the <a href="#synchronization-semaphores-waiting">semaphore wait
operation</a> section of <a href="#synchronization">the synchronization chapter</a>.</p>
</div>
<div class="paragraph">
<p>The order that batches appear in <code>pSubmits</code> is used to determine
<a href="#synchronization-submission-order">submission order</a>, and thus all the
<a href="#synchronization-implicit">implicit ordering guarantees</a> that respect it.
Other than these implicit ordering guarantees and any <a href="#synchronization">explicit synchronization primitives</a>, these batches <strong class="purple">may</strong> overlap or
otherwise execute out of order.</p>
</div>
<div class="paragraph">
<p>If any command buffer submitted to this queue is in the
<a href="#commandbuffers-lifecycle">executable state</a>, it is moved to the
<a href="#commandbuffers-lifecycle">pending state</a>.
Once execution of all submissions of a command buffer complete, it moves
from the <a href="#commandbuffers-lifecycle">pending state</a>, back to the
<a href="#commandbuffers-lifecycle">executable state</a>.
If a command buffer was recorded with the
<code>VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT</code> flag, it instead moves to
the <a href="#commandbuffers-lifecycle">invalid state</a>.</p>
</div>
<div class="paragraph">
<p>If <code>vkQueueSubmit</code> fails, it <strong class="purple">may</strong> return
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code> or <code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>.
If it does, the implementation <strong class="purple">must</strong> ensure that the state and contents of
any resources or synchronization primitives referenced by the submitted
command buffers and any semaphores referenced by <code>pSubmits</code> is
unaffected by the call or its failure.
If <code>vkQueueSubmit</code> fails in such a way that the implementation is unable
to make that guarantee, the implementation <strong class="purple">must</strong> return
<code>VK_ERROR_DEVICE_LOST</code>.
See <a href="#devsandqueues-lost-device">Lost Device</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkQueueSubmit-fence-00063" href="#VUID-vkQueueSubmit-fence-00063"></a>
If <code>fence</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>fence</code> <strong class="purple">must</strong> be
unsignaled</p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-fence-00064" href="#VUID-vkQueueSubmit-fence-00064"></a>
If <code>fence</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>fence</code> <strong class="purple">must</strong> not be
associated with any other queue command that has not yet completed
execution on that queue</p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pCommandBuffers-00065" href="#VUID-vkQueueSubmit-pCommandBuffers-00065"></a>
Any calls to <a href="#vkCmdSetEvent">vkCmdSetEvent</a>, <a href="#vkCmdResetEvent">vkCmdResetEvent</a> or
<a href="#vkCmdWaitEvents">vkCmdWaitEvents</a> that have been recorded into any of the command
buffer elements of the <code>pCommandBuffers</code> member of any element of
<code>pSubmits</code>, <strong class="purple">must</strong> not reference any <a href="#VkEvent">VkEvent</a> that is referenced
by any of those commands in a command buffer that has been submitted to
another queue and is still in the <em>pending state</em></p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pWaitDstStageMask-00066" href="#VUID-vkQueueSubmit-pWaitDstStageMask-00066"></a>
Any stage flag included in any element of the <code>pWaitDstStageMask</code>
member of any element of <code>pSubmits</code> <strong class="purple">must</strong> be a pipeline stage
supported by one of the capabilities of <code>queue</code>, as specified in the
<a href="#synchronization-pipeline-stages-supported">table of supported pipeline
stages</a></p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pSignalSemaphores-00067" href="#VUID-vkQueueSubmit-pSignalSemaphores-00067"></a>
Each element of the <code>pSignalSemaphores</code> member of any element of
<code>pSubmits</code> <strong class="purple">must</strong> be unsignaled when the semaphore signal operation
it defines is executed on the device</p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pWaitSemaphores-00068" href="#VUID-vkQueueSubmit-pWaitSemaphores-00068"></a>
When a semaphore wait operation referring to a binary semaphore defined
by any element of the <code>pWaitSemaphores</code> member of any element of
<code>pSubmits</code> executes on <code>queue</code>, there <strong class="purple">must</strong> be no other queues
waiting on the same semaphore</p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pWaitSemaphores-00069" href="#VUID-vkQueueSubmit-pWaitSemaphores-00069"></a>
All elements of the <code>pWaitSemaphores</code> member of all elements of
<code>pSubmits</code> <strong class="purple">must</strong> be semaphores that are signaled, or have
<a href="#synchronization-semaphores-signaling">semaphore signal operations</a>
previously submitted for execution</p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pCommandBuffers-00070" href="#VUID-vkQueueSubmit-pCommandBuffers-00070"></a>
Each element of the <code>pCommandBuffers</code> member of each element of
<code>pSubmits</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">pending or
executable state</a></p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pCommandBuffers-00071" href="#VUID-vkQueueSubmit-pCommandBuffers-00071"></a>
If any element of the <code>pCommandBuffers</code> member of any element of
<code>pSubmits</code> was not recorded with the
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code>, it <strong class="purple">must</strong> not be in
the <a href="#commandbuffers-lifecycle">pending state</a></p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pCommandBuffers-00072" href="#VUID-vkQueueSubmit-pCommandBuffers-00072"></a>
Any <a href="#commandbuffers-secondary">secondary command buffers recorded</a>
into any element of the <code>pCommandBuffers</code> member of any element of
<code>pSubmits</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">pending or
executable state</a></p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pCommandBuffers-00073" href="#VUID-vkQueueSubmit-pCommandBuffers-00073"></a>
If any <a href="#commandbuffers-secondary">secondary command buffers recorded</a>
into any element of the <code>pCommandBuffers</code> member of any element of
<code>pSubmits</code> was not recorded with the
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code>, it <strong class="purple">must</strong> not be in
the <a href="#commandbuffers-lifecycle">pending state</a></p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pCommandBuffers-00074" href="#VUID-vkQueueSubmit-pCommandBuffers-00074"></a>
Each element of the <code>pCommandBuffers</code> member of each element of
<code>pSubmits</code> <strong class="purple">must</strong> have been allocated from a <code>VkCommandPool</code> that
was created for the same queue family <code>queue</code> belongs to</p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pSubmits-02207" href="#VUID-vkQueueSubmit-pSubmits-02207"></a>
If any element of <code>pSubmits-&gt;pCommandBuffers</code> includes a
<a href="#synchronization-queue-transfers-acquire">Queue Family Transfer Acquire
Operation</a>, there <strong class="purple">must</strong> exist a previously submitted
<a href="#synchronization-queue-transfers-release">Queue Family Transfer Release
Operation</a> on a queue in the queue family identified by the acquire
operation, with parameters matching the acquire operation as defined in
the definition of such <a href="#synchronization-queue-transfers-acquire">acquire operations</a>, and which happens-before the acquire operation</p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pSubmits-02808" href="#VUID-vkQueueSubmit-pSubmits-02808"></a>
Any resource created with <code>VK_SHARING_MODE_EXCLUSIVE</code> that is read
by an operation specified by <code>pSubmits</code> <strong class="purple">must</strong> not be owned by any
queue family other than the one which <code>queue</code> belongs to, at the
time it is executed</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkQueueSubmit-queue-parameter" href="#VUID-vkQueueSubmit-queue-parameter"></a> <code>queue</code> <strong class="purple">must</strong> be a valid <a href="#VkQueue">VkQueue</a> handle</p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-pSubmits-parameter" href="#VUID-vkQueueSubmit-pSubmits-parameter"></a> If <code>submitCount</code> is not <code>0</code>, <code>pSubmits</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>submitCount</code> valid <a href="#VkSubmitInfo">VkSubmitInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-fence-parameter" href="#VUID-vkQueueSubmit-fence-parameter"></a> If <code>fence</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>fence</code> <strong class="purple">must</strong> be a valid <a href="#VkFence">VkFence</a> handle</p>
</li>
<li>
<p><a id="VUID-vkQueueSubmit-commonparent" href="#VUID-vkQueueSubmit-commonparent"></a> Both of <code>fence</code>, and <code>queue</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>queue</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>fence</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSubmitInfo</code> structure is defined as:</p>
</div>
<div id="VkSubmitInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSubmitInfo {
    VkStructureType                sType;
    <span class="directive">const</span> <span class="directive">void</span>*                    pNext;
    uint32_t                       waitSemaphoreCount;
    <span class="directive">const</span> VkSemaphore*             pWaitSemaphores;
    <span class="directive">const</span> VkPipelineStageFlags*    pWaitDstStageMask;
    uint32_t                       commandBufferCount;
    <span class="directive">const</span> VkCommandBuffer*         pCommandBuffers;
    uint32_t                       signalSemaphoreCount;
    <span class="directive">const</span> VkSemaphore*             pSignalSemaphores;
} VkSubmitInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>waitSemaphoreCount</code> is the number of semaphores upon which to wait
before executing the command buffers for the batch.</p>
</li>
<li>
<p><code>pWaitSemaphores</code> is a pointer to an array of <a href="#VkSemaphore">VkSemaphore</a>
handles upon which to wait before the command buffers for this batch
begin execution.
If semaphores to wait on are provided, they define a
<a href="#synchronization-semaphores-waiting">semaphore wait operation</a>.</p>
</li>
<li>
<p><code>pWaitDstStageMask</code> is a pointer to an array of pipeline stages at
which each corresponding semaphore wait will occur.</p>
</li>
<li>
<p><code>commandBufferCount</code> is the number of command buffers to execute in
the batch.</p>
</li>
<li>
<p><code>pCommandBuffers</code> is a pointer to an array of <a href="#VkCommandBuffer">VkCommandBuffer</a>
handles to execute in the batch.</p>
</li>
<li>
<p><code>signalSemaphoreCount</code> is the number of semaphores to be signaled
once the commands specified in <code>pCommandBuffers</code> have completed
execution.</p>
</li>
<li>
<p><code>pSignalSemaphores</code> is a pointer to an array of <a href="#VkSemaphore">VkSemaphore</a>
handles which will be signaled when the command buffers for this batch
have completed execution.
If semaphores to be signaled are provided, they define a
<a href="#synchronization-semaphores-signaling">semaphore signal operation</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The order that command buffers appear in <code>pCommandBuffers</code> is used to
determine <a href="#synchronization-submission-order">submission order</a>, and thus
all the <a href="#synchronization-implicit">implicit ordering guarantees</a> that
respect it.
Other than these implicit ordering guarantees and any <a href="#synchronization">explicit synchronization primitives</a>, these command buffers <strong class="purple">may</strong> overlap or
otherwise execute out of order.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSubmitInfo-pCommandBuffers-00075" href="#VUID-VkSubmitInfo-pCommandBuffers-00075"></a>
Each element of <code>pCommandBuffers</code> <strong class="purple">must</strong> not have been allocated with
<code>VK_COMMAND_BUFFER_LEVEL_SECONDARY</code></p>
</li>
<li>
<p><a id="VUID-VkSubmitInfo-pWaitDstStageMask-00076" href="#VUID-VkSubmitInfo-pWaitDstStageMask-00076"></a>
If the <a href="#features-geometryShader">geometry shaders</a> feature is not
enabled, each element of <code>pWaitDstStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkSubmitInfo-pWaitDstStageMask-00077" href="#VUID-VkSubmitInfo-pWaitDstStageMask-00077"></a>
If the <a href="#features-tessellationShader">tessellation shaders</a> feature is
not enabled, each element of <code>pWaitDstStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkSubmitInfo-pWaitDstStageMask-00078" href="#VUID-VkSubmitInfo-pWaitDstStageMask-00078"></a>
Each element of <code>pWaitDstStageMask</code> <strong class="purple">must</strong> not include
<code>VK_PIPELINE_STAGE_HOST_BIT</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSubmitInfo-sType-sType" href="#VUID-VkSubmitInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SUBMIT_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkSubmitInfo-pNext-pNext" href="#VUID-VkSubmitInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkSubmitInfo-pWaitSemaphores-parameter" href="#VUID-VkSubmitInfo-pWaitSemaphores-parameter"></a> If <code>waitSemaphoreCount</code> is not <code>0</code>, <code>pWaitSemaphores</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>waitSemaphoreCount</code> valid <a href="#VkSemaphore">VkSemaphore</a> handles</p>
</li>
<li>
<p><a id="VUID-VkSubmitInfo-pWaitDstStageMask-parameter" href="#VUID-VkSubmitInfo-pWaitDstStageMask-parameter"></a> If <code>waitSemaphoreCount</code> is not <code>0</code>, <code>pWaitDstStageMask</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>waitSemaphoreCount</code> valid combinations of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkSubmitInfo-pWaitDstStageMask-requiredbitmask" href="#VUID-VkSubmitInfo-pWaitDstStageMask-requiredbitmask"></a> Each element of <code>pWaitDstStageMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSubmitInfo-pCommandBuffers-parameter" href="#VUID-VkSubmitInfo-pCommandBuffers-parameter"></a> If <code>commandBufferCount</code> is not <code>0</code>, <code>pCommandBuffers</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>commandBufferCount</code> valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handles</p>
</li>
<li>
<p><a id="VUID-VkSubmitInfo-pSignalSemaphores-parameter" href="#VUID-VkSubmitInfo-pSignalSemaphores-parameter"></a> If <code>signalSemaphoreCount</code> is not <code>0</code>, <code>pSignalSemaphores</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>signalSemaphoreCount</code> valid <a href="#VkSemaphore">VkSemaphore</a> handles</p>
</li>
<li>
<p><a id="VUID-VkSubmitInfo-commonparent" href="#VUID-VkSubmitInfo-commonparent"></a> Each of the elements of <code>pCommandBuffers</code>, the elements of <code>pSignalSemaphores</code>, and the elements of <code>pWaitSemaphores</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="commandbuffers-submission-progress"><a class="anchor" href="#commandbuffers-submission-progress"></a>5.6. Queue Forward Progress</h3>
<div class="paragraph">
<p>When using binary semaphores, the application <strong class="purple">must</strong> ensure that command
buffer submissions will be able to complete without any subsequent
operations by the application on any queue.
After any call to <code>vkQueueSubmit</code> (or other queue operation), for every
queued wait on a semaphore
there <strong class="purple">must</strong> be a prior signal of that semaphore that will not be consumed by
a different wait on the semaphore.</p>
</div>
<div class="paragraph">
<p>Command buffers in the submission <strong class="purple">can</strong> include <a href="#vkCmdWaitEvents">vkCmdWaitEvents</a>
commands that wait on events that will not be signaled by earlier commands
in the queue.
Such events <strong class="purple">must</strong> be signaled by the application using <a href="#vkSetEvent">vkSetEvent</a>, and
the <code>vkCmdWaitEvents</code> commands that wait upon them <strong class="purple">must</strong> not be inside a
render pass instance.
The event <strong class="purple">must</strong> be set before the <a href="#vkCmdWaitEvents">vkCmdWaitEvents</a> command is executed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Implementations may have some tolerance for waiting on events to be set, but
this is defined outside of the scope of Vulkan.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="commandbuffers-secondary"><a class="anchor" href="#commandbuffers-secondary"></a>5.7. Secondary Command Buffer Execution</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A secondary command buffer <strong class="purple">must</strong> not be directly submitted to a queue.
Instead, secondary command buffers are recorded to execute as part of a
primary command buffer with the command:</p>
</div>
<div id="vkCmdExecuteCommands" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdExecuteCommands(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    commandBufferCount,
    <span class="directive">const</span> VkCommandBuffer*                      pCommandBuffers);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is a handle to a primary command buffer that the
secondary command buffers are executed in.</p>
</li>
<li>
<p><code>commandBufferCount</code> is the length of the <code>pCommandBuffers</code>
array.</p>
</li>
<li>
<p><code>pCommandBuffers</code> is a pointer to an array of
<code>commandBufferCount</code> secondary command buffer handles, which are
recorded to execute in the primary command buffer in the order they are
listed in the array.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If any element of <code>pCommandBuffers</code> was not recorded with the
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> flag, and it was recorded
into any other primary command buffer which is currently in the
<a href="#commandbuffers-lifecycle">executable or recording state</a>, that primary
command buffer becomes <a href="#commandbuffers-lifecycle">invalid</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-00088" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-00088"></a>
Each element of <code>pCommandBuffers</code> <strong class="purple">must</strong> have been allocated with a
<code>level</code> of <code>VK_COMMAND_BUFFER_LEVEL_SECONDARY</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-00089" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-00089"></a>
Each element of <code>pCommandBuffers</code> <strong class="purple">must</strong> be in the
<a href="#commandbuffers-lifecycle">pending or executable state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-00091" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-00091"></a>
If any element of <code>pCommandBuffers</code> was not recorded with the
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> flag, it <strong class="purple">must</strong> not be
in the <a href="#commandbuffers-lifecycle">pending state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-00092" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-00092"></a>
If any element of <code>pCommandBuffers</code> was not recorded with the
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> flag, it <strong class="purple">must</strong> not
have already been recorded to <code>commandBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-00093" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-00093"></a>
If any element of <code>pCommandBuffers</code> was not recorded with the
<code>VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT</code> flag, it <strong class="purple">must</strong> not
appear more than once in <code>pCommandBuffers</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-00094" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-00094"></a>
Each element of <code>pCommandBuffers</code> <strong class="purple">must</strong> have been allocated from a
<code>VkCommandPool</code> that was created for the same queue family as the
<code>VkCommandPool</code> from which <code>commandBuffer</code> was allocated</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-contents-00095" href="#VUID-vkCmdExecuteCommands-contents-00095"></a>
If <code>vkCmdExecuteCommands</code> is being called within a render pass
instance, that render pass instance <strong class="purple">must</strong> have been begun with the
<code>contents</code> parameter of <code>vkCmdBeginRenderPass</code> set to
<code>VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-00096" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-00096"></a>
If <code>vkCmdExecuteCommands</code> is being called within a render pass
instance, each element of <code>pCommandBuffers</code> <strong class="purple">must</strong> have been recorded
with the <code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-00097" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-00097"></a>
If <code>vkCmdExecuteCommands</code> is being called within a render pass
instance, each element of <code>pCommandBuffers</code> <strong class="purple">must</strong> have been recorded
with <code>VkCommandBufferInheritanceInfo</code>::<code>subpass</code> set to the
index of the subpass which the given command buffer will be executed in</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pInheritanceInfo-00098" href="#VUID-vkCmdExecuteCommands-pInheritanceInfo-00098"></a>
If <code>vkCmdExecuteCommands</code> is being called within a render pass
instance, the render passes specified in the
<code>pBeginInfo-&gt;pInheritanceInfo-&gt;renderPass</code> members of the
<a href="#vkBeginCommandBuffer">vkBeginCommandBuffer</a> commands used to begin recording each element
of <code>pCommandBuffers</code> <strong class="purple">must</strong> be
<a href="#renderpass-compatibility">compatible</a> with the current render pass</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-00099" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-00099"></a>
If <code>vkCmdExecuteCommands</code> is being called within a render pass
instance, and any element of <code>pCommandBuffers</code> was recorded with
<a href="#VkCommandBufferInheritanceInfo">VkCommandBufferInheritanceInfo</a>::<code>framebuffer</code> not equal to
<a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, that <code>VkFramebuffer</code> <strong class="purple">must</strong> match the
<code>VkFramebuffer</code> used in the current render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-00100" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-00100"></a>
If <code>vkCmdExecuteCommands</code> is not being called within a render pass
instance, each element of <code>pCommandBuffers</code> <strong class="purple">must</strong> not have been
recorded with the <code>VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-commandBuffer-00101" href="#VUID-vkCmdExecuteCommands-commandBuffer-00101"></a>
If the <a href="#features-inheritedQueries">inherited queries</a> feature is not
enabled, <code>commandBuffer</code> <strong class="purple">must</strong> not have any queries
<a href="#queries-operation-active">active</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-commandBuffer-00102" href="#VUID-vkCmdExecuteCommands-commandBuffer-00102"></a>
If <code>commandBuffer</code> has a <code>VK_QUERY_TYPE_OCCLUSION</code> query
<a href="#queries-operation-active">active</a>, then each element of
<code>pCommandBuffers</code> <strong class="purple">must</strong> have been recorded with
<code>VkCommandBufferInheritanceInfo</code>::<code>occlusionQueryEnable</code> set to
<code>VK_TRUE</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-commandBuffer-00103" href="#VUID-vkCmdExecuteCommands-commandBuffer-00103"></a>
If <code>commandBuffer</code> has a <code>VK_QUERY_TYPE_OCCLUSION</code> query
<a href="#queries-operation-active">active</a>, then each element of
<code>pCommandBuffers</code> <strong class="purple">must</strong> have been recorded with
<code>VkCommandBufferInheritanceInfo</code>::<code>queryFlags</code> having all bits
set that are set for the query</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-commandBuffer-00104" href="#VUID-vkCmdExecuteCommands-commandBuffer-00104"></a>
If <code>commandBuffer</code> has a <code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code>
query <a href="#queries-operation-active">active</a>, then each element of
<code>pCommandBuffers</code> <strong class="purple">must</strong> have been recorded with
<code>VkCommandBufferInheritanceInfo</code>::<code>pipelineStatistics</code> having
all bits set that are set in the <code>VkQueryPool</code> the query uses</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-00105" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-00105"></a>
Each element of <code>pCommandBuffers</code> <strong class="purple">must</strong> not begin any query types
that are <a href="#queries-operation-active">active</a> in <code>commandBuffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdExecuteCommands-commandBuffer-parameter" href="#VUID-vkCmdExecuteCommands-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-pCommandBuffers-parameter" href="#VUID-vkCmdExecuteCommands-pCommandBuffers-parameter"></a> <code>pCommandBuffers</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>commandBufferCount</code> valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-commandBuffer-recording" href="#VUID-vkCmdExecuteCommands-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-commandBuffer-cmdpool" href="#VUID-vkCmdExecuteCommands-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support transfer, graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-bufferlevel" href="#VUID-vkCmdExecuteCommands-bufferlevel"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a primary <code>VkCommandBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-commandBufferCount-arraylength" href="#VUID-vkCmdExecuteCommands-commandBufferCount-arraylength"></a> <code>commandBufferCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdExecuteCommands-commonparent" href="#VUID-vkCmdExecuteCommands-commonparent"></a> Both of <code>commandBuffer</code>, and the elements of <code>pCommandBuffers</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer<br>
Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synchronization"><a class="anchor" href="#synchronization"></a>6. Synchronization and Cache Control</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Synchronization of access to resources is primarily the responsibility of
the application in Vulkan.
The order of execution of commands with respect to the host and other
commands on the device has few implicit guarantees, and needs to be
explicitly specified.
Memory caches and other optimizations are also explicitly managed, requiring
that the flow of data through the system is largely under application
control.</p>
</div>
<div class="paragraph">
<p>Whilst some implicit guarantees exist between commands, five explicit
synchronization mechanisms are exposed by Vulkan:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#synchronization-fences">Fences</a></dt>
<dd>
<p>Fences <strong class="purple">can</strong> be used to communicate to the host that execution of some
task on the device has completed.</p>
</dd>
<dt class="hdlist1"><a href="#synchronization-semaphores">Semaphores</a></dt>
<dd>
<p>Semaphores <strong class="purple">can</strong> be used to control resource access across multiple
queues.</p>
</dd>
<dt class="hdlist1"><a href="#synchronization-events">Events</a></dt>
<dd>
<p>Events provide a fine-grained synchronization primitive which <strong class="purple">can</strong> be
signaled either within a command buffer or by the host, and <strong class="purple">can</strong> be
waited upon within a command buffer or queried on the host.</p>
</dd>
<dt class="hdlist1"><a href="#synchronization-pipeline-barriers">Pipeline Barriers</a></dt>
<dd>
<p>Pipeline barriers also provide synchronization control within a command
buffer, but at a single point, rather than with separate signal and wait
operations.</p>
</dd>
<dt class="hdlist1"><a href="#renderpass">Render Passes</a></dt>
<dd>
<p>Render passes provide a useful synchronization framework for most
rendering tasks, built upon the concepts in this chapter.
Many cases that would otherwise need an application to use other
synchronization primitives <strong class="purple">can</strong> be expressed more efficiently as part of
a render pass.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="synchronization-dependencies"><a class="anchor" href="#synchronization-dependencies"></a>6.1. Execution and Memory Dependencies</h3>
<div class="paragraph">
<p>An <em>operation</em> is an arbitrary amount of work to be executed on the host, a
device, or an external entity such as a presentation engine.
Synchronization commands introduce explicit <em>execution dependencies</em>, and
<em>memory dependencies</em> between two sets of operations defined by the
command&#8217;s two <em>synchronization scopes</em>.</p>
</div>
<div id="synchronization-dependencies-scopes" class="paragraph">
<p>The synchronization scopes define which other operations a synchronization
command is able to create execution dependencies with.
Any type of operation that is not in a synchronization command&#8217;s
synchronization scopes will not be included in the resulting dependency.
For example, for many synchronization commands, the synchronization scopes
<strong class="purple">can</strong> be limited to just operations executing in specific
<a href="#synchronization-pipeline-stages">pipeline stages</a>, which allows other
pipeline stages to be excluded from a dependency.
Other scoping options are possible, depending on the particular command.</p>
</div>
<div id="synchronization-dependencies-execution" class="paragraph">
<p>An <em>execution dependency</em> is a guarantee that for two sets of operations,
the first set <strong class="purple">must</strong> <em>happen-before</em> the second set.
If an operation happens-before another operation, then the first operation
<strong class="purple">must</strong> complete before the second operation is initiated.
More precisely:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Let <strong>A</strong> and <strong>B</strong> be separate sets of operations.</p>
</li>
<li>
<p>Let <strong>S</strong> be a synchronization command.</p>
</li>
<li>
<p>Let <strong>A<sub>S</sub></strong> and <strong>B<sub>S</sub></strong> be the synchronization scopes of <strong>S</strong>.</p>
</li>
<li>
<p>Let <strong>A'</strong> be the intersection of sets <strong>A</strong> and <strong>A<sub>S</sub></strong>.</p>
</li>
<li>
<p>Let <strong>B'</strong> be the intersection of sets <strong>B</strong> and <strong>B<sub>S</sub></strong>.</p>
</li>
<li>
<p>Submitting <strong>A</strong>, <strong>S</strong> and <strong>B</strong> for execution, in that order, will result in
execution dependency <strong>E</strong> between <strong>A'</strong> and <strong>B'</strong>.</p>
</li>
<li>
<p>Execution dependency <strong>E</strong> guarantees that <strong>A'</strong> happens-before <strong>B'</strong>.</p>
</li>
</ul>
</div>
<div id="synchronization-dependencies-chains" class="paragraph">
<p>An <em>execution dependency chain</em> is a sequence of execution dependencies that
form a happens-before relation between the first dependency&#8217;s <strong>A'</strong> and the
final dependency&#8217;s <strong>B'</strong>.
For each consecutive pair of execution dependencies, a chain exists if the
intersection of <strong>B<sub>S</sub></strong> in the first dependency and <strong>A<sub>S</sub></strong> in the second
dependency is not an empty set.
The formation of a single execution dependency from an execution dependency
chain can be described by substituting the following in the description of
execution dependencies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Let <strong>S</strong> be a set of synchronization commands that generate an execution
dependency chain.</p>
</li>
<li>
<p>Let <strong>A<sub>S</sub></strong> be the first synchronization scope of the first command in
<strong>S</strong>.</p>
</li>
<li>
<p>Let <strong>B<sub>S</sub></strong> be the second synchronization scope of the last command in
<strong>S</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Execution dependencies alone are not sufficient to guarantee that values
resulting from writes in one set of operations <strong class="purple">can</strong> be read from another set
of operations.</p>
</div>
<div id="synchronization-dependencies-available-and-visible" class="paragraph">
<p>Three additional types of operation are used to control memory access.
<em>Availability operations</em> cause the values generated by specified memory
write accesses to become <em>available</em> to a memory domain for future access.
Any available value remains available until a subsequent write to the same
memory location occurs (whether it is made available or not) or the memory
is freed.
<em>Memory domain operations</em> cause writes that are available to a source
memory domain to become available to a destination memory domain (an example
of this is making writes available to the host domain available to the
device domain).
<em>Visibility operations</em> cause values available to a memory domain to become
<em>visible</em> to specified memory accesses.</p>
</div>
<div id="synchronization-dependencies-memory" class="paragraph">
<p>A <em>memory dependency</em> is an execution dependency which includes availability
and visibility operations such that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The first set of operations happens-before the availability operation.</p>
</li>
<li>
<p>The availability operation happens-before the visibility operation.</p>
</li>
<li>
<p>The visibility operation happens-before the second set of operations.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once written values are made visible to a particular type of memory access,
they <strong class="purple">can</strong> be read or written by that type of memory access.
Most synchronization commands in Vulkan define a memory dependency.</p>
</div>
<div id="synchronization-dependencies-access-scopes" class="paragraph">
<p>The specific memory accesses that are made available and visible are defined
by the <em>access scopes</em> of a memory dependency.
Any type of access that is in a memory dependency&#8217;s first access scope and
occurs in <strong>A'</strong> is made available.
Any type of access that is in a memory dependency&#8217;s second access scope and
occurs in <strong>B'</strong> has any available writes made visible to it.
Any type of operation that is not in a synchronization command&#8217;s access
scopes will not be included in the resulting dependency.</p>
</div>
<div class="paragraph">
<p>A memory dependency enforces availability and visibility of memory accesses
and execution order between two sets of operations.
Adding to the description of <a href="#synchronization-dependencies-chains">execution dependency chains</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Let <strong>a</strong> be the set of memory accesses performed by <strong>A'</strong>.</p>
</li>
<li>
<p>Let <strong>b</strong> be the set of memory accesses performed by <strong>B'</strong>.</p>
</li>
<li>
<p>Let <strong>a<sub>S</sub></strong> be the first access scope of the first command in <strong>S</strong>.</p>
</li>
<li>
<p>Let <strong>b<sub>S</sub></strong> be the second access scope of the last command in <strong>S</strong>.</p>
</li>
<li>
<p>Let <strong>a'</strong> be the intersection of sets <strong>a</strong> and <strong>a<sub>S</sub></strong>.</p>
</li>
<li>
<p>Let <strong>b'</strong> be the intersection of sets <strong>b</strong> and <strong>b<sub>S</sub></strong>.</p>
</li>
<li>
<p>Submitting <strong>A</strong>, <strong>S</strong> and <strong>B</strong> for execution, in that order, will result in
a memory dependency <strong>m</strong> between <strong>A'</strong> and <strong>B'</strong>.</p>
</li>
<li>
<p>Memory dependency <strong>m</strong> guarantees that:</p>
<div class="ulist">
<ul>
<li>
<p>Memory writes in <strong>a'</strong> are made available.</p>
</li>
<li>
<p>Available memory writes, including those from <strong>a'</strong>, are made visible to
<strong>b'</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Execution and memory dependencies are used to solve data hazards, i.e. to
ensure that read and write operations occur in a well-defined order.
Write-after-read hazards can be solved with just an execution dependency,
but read-after-write and write-after-write hazards need appropriate memory
dependencies to be included between them.
If an application does not include dependencies to solve these hazards, the
results and execution orders of memory accesses are undefined.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="synchronization-image-layout-transitions"><a class="anchor" href="#synchronization-image-layout-transitions"></a>6.1.1. Image Layout Transitions</h4>
<div class="paragraph">
<p>Image subresources <strong class="purple">can</strong> be transitioned from one <a href="#resources-image-layouts">layout</a> to another as part of a <a href="#synchronization-dependencies-memory">memory dependency</a> (e.g. by using an
<a href="#synchronization-image-memory-barriers">image memory barrier</a>).
When a layout transition is specified in a memory dependency, it
happens-after the availability operations in the memory dependency, and
happens-before the visibility operations.
Image layout transitions <strong class="purple">may</strong> perform read and write accesses on all memory
bound to the image subresource range, so applications <strong class="purple">must</strong> ensure that all
memory writes have been made
<a href="#synchronization-dependencies-available-and-visible">available</a> before a
layout transition is executed.
Available memory is automatically made visible to a layout transition, and
writes performed by a layout transition are automatically made available.</p>
</div>
<div class="paragraph">
<p>Layout transitions always apply to a particular image subresource range, and
specify both an old layout and new layout.
If the old layout does not match the new layout, a transition occurs.
The old layout <strong class="purple">must</strong> match the current layout of the image subresource
range, with one exception.
The old layout <strong class="purple">can</strong> always be specified as <code>VK_IMAGE_LAYOUT_UNDEFINED</code>,
though doing so invalidates the contents of the image subresource range.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Setting the old layout to <code>VK_IMAGE_LAYOUT_UNDEFINED</code> implies that the
contents of the image subresource need not be preserved.
Implementations <strong class="purple">may</strong> use this information to avoid performing expensive data
transition operations.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications <strong class="purple">must</strong> ensure that layout transitions happen-after all
operations accessing the image with the old layout, and happen-before any
operations that will access the image with the new layout.
Layout transitions are potentially read/write operations, so not defining
appropriate memory dependencies to guarantee this will result in a data
race.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Image layout transitions interact with <a href="#resources-memory-aliasing">memory
aliasing</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="synchronization-pipeline-stages"><a class="anchor" href="#synchronization-pipeline-stages"></a>6.1.2. Pipeline Stages</h4>
<div class="paragraph">
<p>The work performed by an <a href="#fundamentals-queueoperation-command-types">action
or synchronization command</a> consists of multiple operations, which are
performed as a sequence of logically independent steps known as <em>pipeline
stages</em>.
The exact pipeline stages executed depend on the particular command that is
used, and current command buffer state when the command was recorded.
<a href="#drawing">Drawing commands</a>, <a href="#dispatch">dispatching commands</a>,
<a href="#copies">copy commands</a>, <a href="#clears">clear commands</a>, and <a href="#synchronization">synchronization commands</a> all execute in different sets of
<a href="#synchronization-pipeline-stages-types">pipeline stages</a>.
<a href="#synchronization">Synchronization commands</a> do not execute in a defined
pipeline, but do execute <code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code> and
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Operations performed by synchronization commands (e.g.
<a href="#synchronization-dependencies-available-and-visible">availability and
visibility operations</a>) are not executed by a defined pipeline stage.
However other commands can still synchronize with them via the
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code> and
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> pipeline stages.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Execution of operations across pipeline stages <strong class="purple">must</strong> adhere to
<a href="#synchronization-implicit">implicit ordering guarantees</a>, particularly
including <a href="#synchronization-pipeline-stages-order">pipeline stage order</a>.
Otherwise, execution across pipeline stages <strong class="purple">may</strong> overlap or execute out of
order with regards to other stages, unless otherwise enforced by an
execution dependency.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Several of the synchronization commands include pipeline stage parameters,
restricting the <a href="#synchronization-dependencies-scopes">synchronization
scopes</a> for that command to just those stages.
This allows fine grained control over the exact execution dependencies and
accesses performed by action commands.
Implementations <strong class="purple">should</strong> use these pipeline stages to avoid unnecessary
stalls or cache flushing.</p>
</div>
<div class="paragraph">
<p>Bits which can be set, specifying pipeline stages, are:</p>
</div>
<div id="VkPipelineStageFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkPipelineStageFlagBits {
    VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT = <span class="hex">0x00000001</span>,
    VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT = <span class="hex">0x00000002</span>,
    VK_PIPELINE_STAGE_VERTEX_INPUT_BIT = <span class="hex">0x00000004</span>,
    VK_PIPELINE_STAGE_VERTEX_SHADER_BIT = <span class="hex">0x00000008</span>,
    VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT = <span class="hex">0x00000010</span>,
    VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT = <span class="hex">0x00000020</span>,
    VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT = <span class="hex">0x00000040</span>,
    VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT = <span class="hex">0x00000080</span>,
    VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT = <span class="hex">0x00000100</span>,
    VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT = <span class="hex">0x00000200</span>,
    VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT = <span class="hex">0x00000400</span>,
    VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT = <span class="hex">0x00000800</span>,
    VK_PIPELINE_STAGE_TRANSFER_BIT = <span class="hex">0x00001000</span>,
    VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT = <span class="hex">0x00002000</span>,
    VK_PIPELINE_STAGE_HOST_BIT = <span class="hex">0x00004000</span>,
    VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT = <span class="hex">0x00008000</span>,
    VK_PIPELINE_STAGE_ALL_COMMANDS_BIT = <span class="hex">0x00010000</span>,
    VK_PIPELINE_STAGE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkPipelineStageFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code> specifies the stage of the
pipeline where any commands are initially received by the queue.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code> specifies the stage of the
pipeline where Draw/DispatchIndirect data structures are consumed.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code> specifies the stage of the
pipeline where vertex and index buffers are consumed.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code> specifies the vertex shader
stage.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> specifies the
tessellation control shader stage.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code> specifies the
tessellation evaluation shader stage.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code> specifies the geometry
shader stage.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code> specifies the fragment
shader stage.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code> specifies the stage of
the pipeline where early fragment tests (depth and stencil tests before
fragment shading) are performed.
This stage also includes <a href="#renderpass-load-store-ops">subpass load
operations</a> for framebuffer attachments with a depth/stencil format.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code> specifies the stage of
the pipeline where late fragment tests (depth and stencil tests after
fragment shading) are performed.
This stage also includes <a href="#renderpass-load-store-ops">subpass store
operations</a> for framebuffer attachments with a depth/stencil format.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> specifies the stage
of the pipeline after blending where the final color values are output
from the pipeline.
This stage also includes <a href="#renderpass-load-store-ops">subpass load and
store operations</a> and multisample resolve operations for framebuffer
attachments with a color
format.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code> specifies the execution of a
compute shader.</p>
</li>
<li>
<p><a id="synchronization-pipeline-stages-transfer"></a>
<code>VK_PIPELINE_STAGE_TRANSFER_BIT</code> specifies the following commands:</p>
<div class="ulist">
<ul>
<li>
<p>All <a href="#copies">copy commands</a>, including <a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a></p>
</li>
<li>
<p><a href="#vkCmdBlitImage">vkCmdBlitImage</a></p>
</li>
<li>
<p><a href="#vkCmdResolveImage">vkCmdResolveImage</a></p>
</li>
<li>
<p>All <a href="#clears">clear commands</a>, with the exception of
<a href="#vkCmdClearAttachments">vkCmdClearAttachments</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> specifies the final stage in
the pipeline where operations generated by all commands complete
execution.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_HOST_BIT</code> specifies a pseudo-stage indicating
execution on the host of reads/writes of device memory.
This stage is not invoked by any commands recorded in a command buffer.</p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT</code> specifies the execution of all
graphics pipeline stages, and is equivalent to the logical OR of:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code> is equivalent to the logical OR
of every other pipeline stage flag that is supported on the queue it is
used with.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>An execution dependency with only <code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>
in the destination stage mask will only prevent that stage from executing in
subsequently submitted commands.
As this stage does not perform any actual execution, this is not observable
- in effect, it does not delay processing of subsequent commands.
Similarly an execution dependency with only
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code> in the source stage mask will
effectively not wait for any prior commands to complete.</p>
</div>
<div class="paragraph">
<p>When defining a memory dependency, using only
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> or
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code> would never make any accesses
available and/or visible because these stages do not access memory.</p>
</div>
<div class="paragraph">
<p><code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> and
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code> are useful for accomplishing layout
transitions and queue ownership operations when the required execution
dependency is satisfied by other means - for example, semaphore operations
between queues.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineStageFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineStageFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineStageFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>.</p>
</div>
</div>
</div>
<div id="synchronization-pipeline-stages-masks" class="paragraph">
<p>If a synchronization command includes a source stage mask, its first
<a href="#synchronization-dependencies-scopes">synchronization scope</a> only includes
execution of the pipeline stages specified in that mask, and its first
<a href="#synchronization-dependencies-access-scopes">access scope</a> only includes
memory access performed by pipeline stages specified in that mask.
If a synchronization command includes a destination stage mask, its second
<a href="#synchronization-dependencies-scopes">synchronization scope</a> only includes
execution of the pipeline stages specified in that mask, and its second
<a href="#synchronization-dependencies-access-scopes">access scope</a> only includes
memory access performed by pipeline stages specified in that mask.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Including a particular pipeline stage in the first
<a href="#synchronization-dependencies-scopes">synchronization scope</a> of a command
implicitly includes <a href="#synchronization-pipeline-stages-order">logically
earlier</a> pipeline stages in the synchronization scope.
Similarly, the second <a href="#synchronization-dependencies-scopes">synchronization
scope</a> includes <a href="#synchronization-pipeline-stages-order">logically later</a>
pipeline stages.</p>
</div>
<div class="paragraph">
<p>However, note that <a href="#synchronization-dependencies-access-scopes">access
scopes</a> are not affected in this way - only the precise stages specified
are considered part of each access scope.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Certain pipeline stages are only available on queues that support a
particular set of operations.
The following table lists, for each pipeline stage flag, which queue
capability flag <strong class="purple">must</strong> be supported by the queue.
When multiple flags are enumerated in the second column of the table, it
means that the pipeline stage is supported on the queue if it supports any
of the listed capability flags.
For further details on queue capabilities see
<a href="#devsandqueues-physical-device-enumeration">Physical Device Enumeration</a>
and <a href="#devsandqueues-queues">Queues</a>.</p>
</div>
<table id="synchronization-pipeline-stages-supported" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Supported pipeline stage flags</caption>
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Pipeline stage flag</th>
<th class="tableblock halign-left valign-top">Required queue capability flag</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code> or <code>VK_QUEUE_COMPUTE_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_COMPUTE_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code>, <code>VK_QUEUE_COMPUTE_BIT</code> or <code>VK_QUEUE_TRANSFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_HOST_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_QUEUE_GRAPHICS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_ALL_COMMANDS_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None required</p></td>
</tr>
</tbody>
</table>
<div id="synchronization-pipeline-stages-order" class="paragraph">
<p>Pipeline stages that execute as a result of a command logically complete
execution in a specific order, such that completion of a logically later
pipeline stage <strong class="purple">must</strong> not happen-before completion of a logically earlier
stage.
This means that including any stage in the source stage mask for a
particular synchronization command also implies that any logically earlier
stages are included in <strong>A<sub>S</sub></strong> for that command.</p>
</div>
<div class="paragraph">
<p>Similarly, initiation of a logically earlier pipeline stage <strong class="purple">must</strong> not
happen-after initiation of a logically later pipeline stage.
Including any given stage in the destination stage mask for a particular
synchronization command also implies that any logically later stages are
included in <strong>B<sub>S</sub></strong> for that command.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Implementations <strong class="purple">may</strong> not support synchronization at every pipeline stage for
every synchronization operation.
If a pipeline stage that an implementation does not support synchronization
for appears in a source stage mask, it <strong class="purple">may</strong> substitute any logically later
stage in its place for the first synchronization scope.
If a pipeline stage that an implementation does not support synchronization
for appears in a destination stage mask, it <strong class="purple">may</strong> substitute any logically
earlier stage in its place for the second synchronization scope.</p>
</div>
<div class="paragraph">
<p>For example, if an implementation is unable to signal an event immediately
after vertex shader execution is complete, it <strong class="purple">may</strong> instead signal the event
after color attachment output has completed.</p>
</div>
<div class="paragraph">
<p>If an implementation makes such a substitution, it <strong class="purple">must</strong> not affect the
semantics of execution or memory dependencies or image and buffer memory
barriers.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="synchronization-pipeline-stages-types" class="paragraph">
<p>The order and set of pipeline stages executed by a given command is
determined by the command&#8217;s pipeline type, as described below:</p>
</div>
<div class="paragraph">
<p>For the graphics pipeline, the following stages occur in this order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For the compute pipeline, the following stages occur in this order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For the transfer pipeline, the following stages occur in this order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For host operations, only one pipeline stage occurs, so no order is
guaranteed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_HOST_BIT</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="synchronization-access-types"><a class="anchor" href="#synchronization-access-types"></a>6.1.3. Access Types</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Memory in Vulkan <strong class="purple">can</strong> be accessed from within shader invocations and via
some fixed-function stages of the pipeline.
The <em>access type</em> is a function of the <a href="#descriptorsets">descriptor type</a>
used, or how a fixed-function stage accesses memory.
Each access type corresponds to a bit flag in <a href="#VkAccessFlagBits">VkAccessFlagBits</a>.</p>
</div>
<div id="synchronization-access-masks" class="paragraph">
<p>Some synchronization commands take sets of access types as parameters to
define the <a href="#synchronization-dependencies-access-scopes">access scopes</a> of
a memory dependency.
If a synchronization command includes a source access mask, its first
<a href="#synchronization-dependencies-access-scopes">access scope</a> only includes
accesses via the access types specified in that mask.
Similarly, if a synchronization command includes a destination access mask,
its second <a href="#synchronization-dependencies-access-scopes">access scope</a> only
includes accesses via the access types specified in that mask.</p>
</div>
<div class="paragraph">
<p>Access types that <strong class="purple">can</strong> be set in an access mask include:</p>
</div>
<div id="VkAccessFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkAccessFlagBits {
    VK_ACCESS_INDIRECT_COMMAND_READ_BIT = <span class="hex">0x00000001</span>,
    VK_ACCESS_INDEX_READ_BIT = <span class="hex">0x00000002</span>,
    VK_ACCESS_VERTEX_ATTRIBUTE_READ_BIT = <span class="hex">0x00000004</span>,
    VK_ACCESS_UNIFORM_READ_BIT = <span class="hex">0x00000008</span>,
    VK_ACCESS_INPUT_ATTACHMENT_READ_BIT = <span class="hex">0x00000010</span>,
    VK_ACCESS_SHADER_READ_BIT = <span class="hex">0x00000020</span>,
    VK_ACCESS_SHADER_WRITE_BIT = <span class="hex">0x00000040</span>,
    VK_ACCESS_COLOR_ATTACHMENT_READ_BIT = <span class="hex">0x00000080</span>,
    VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT = <span class="hex">0x00000100</span>,
    VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT = <span class="hex">0x00000200</span>,
    VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT = <span class="hex">0x00000400</span>,
    VK_ACCESS_TRANSFER_READ_BIT = <span class="hex">0x00000800</span>,
    VK_ACCESS_TRANSFER_WRITE_BIT = <span class="hex">0x00001000</span>,
    VK_ACCESS_HOST_READ_BIT = <span class="hex">0x00002000</span>,
    VK_ACCESS_HOST_WRITE_BIT = <span class="hex">0x00004000</span>,
    VK_ACCESS_MEMORY_READ_BIT = <span class="hex">0x00008000</span>,
    VK_ACCESS_MEMORY_WRITE_BIT = <span class="hex">0x00010000</span>,
    VK_ACCESS_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkAccessFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_INDIRECT_COMMAND_READ_BIT</code> specifies read access to
indirect command data read as part of an indirect drawing or dispatch
command.</p>
</li>
<li>
<p><code>VK_ACCESS_INDEX_READ_BIT</code> specifies read access to an index buffer
as part of an indexed drawing command, bound by
<a href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a>.</p>
</li>
<li>
<p><code>VK_ACCESS_VERTEX_ATTRIBUTE_READ_BIT</code> specifies read access to a
vertex buffer as part of a drawing command, bound by
<a href="#vkCmdBindVertexBuffers">vkCmdBindVertexBuffers</a>.</p>
</li>
<li>
<p><code>VK_ACCESS_UNIFORM_READ_BIT</code> specifies read access to a
<a href="#descriptorsets-uniformbuffer">uniform buffer</a>.</p>
</li>
<li>
<p><code>VK_ACCESS_INPUT_ATTACHMENT_READ_BIT</code> specifies read access to an
<a href="#renderpass">input attachment</a> within a render pass during fragment
shading.</p>
</li>
<li>
<p><code>VK_ACCESS_SHADER_READ_BIT</code> specifies read access to a
<a href="#descriptorsets-storagebuffer">storage buffer</a>,
<a href="#descriptorsets-uniformtexelbuffer">uniform texel buffer</a>,
<a href="#descriptorsets-storagetexelbuffer">storage texel buffer</a>,
<a href="#descriptorsets-sampledimage">sampled image</a>, or
<a href="#descriptorsets-storageimage">storage image</a>.</p>
</li>
<li>
<p><code>VK_ACCESS_SHADER_WRITE_BIT</code> specifies write access to a
<a href="#descriptorsets-storagebuffer">storage buffer</a>,
<a href="#descriptorsets-storagetexelbuffer">storage texel buffer</a>, or
<a href="#descriptorsets-storageimage">storage image</a>.</p>
</li>
<li>
<p><code>VK_ACCESS_COLOR_ATTACHMENT_READ_BIT</code> specifies read access to a
<a href="#renderpass">color attachment</a>, such as via <a href="#framebuffer-blending">blending</a>, <a href="#framebuffer-logicop">logic operations</a>, or via certain
<a href="#renderpass-load-store-ops">subpass load operations</a>.</p>
</li>
<li>
<p><code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code> specifies write access to a
<a href="#renderpass">color or resolve attachment</a>
during a <a href="#renderpass">render pass</a> or via certain
<a href="#renderpass-load-store-ops">subpass load and store operations</a>.</p>
</li>
<li>
<p><code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT</code> specifies read access
to a <a href="#renderpass">depth/stencil attachment</a>, via <a href="#fragops-ds-state">depth or stencil operations</a> or via certain
<a href="#renderpass-load-store-ops">subpass load operations</a>.</p>
</li>
<li>
<p><code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code> specifies write
access to a <a href="#renderpass">depth/stencil attachment</a>, via
<a href="#fragops-ds-state">depth or stencil operations</a> or via certain
<a href="#renderpass-load-store-ops">subpass load and store operations</a>.</p>
</li>
<li>
<p><code>VK_ACCESS_TRANSFER_READ_BIT</code> specifies read access to an image or
buffer in a <a href="#copies">copy</a> operation.</p>
</li>
<li>
<p><code>VK_ACCESS_TRANSFER_WRITE_BIT</code> specifies write access to an image or
buffer in a <a href="#clears">clear</a> or <a href="#copies">copy</a> operation.</p>
</li>
<li>
<p><code>VK_ACCESS_HOST_READ_BIT</code> specifies read access by a host operation.
Accesses of this type are not performed through a resource, but directly
on memory.</p>
</li>
<li>
<p><code>VK_ACCESS_HOST_WRITE_BIT</code> specifies write access by a host
operation.
Accesses of this type are not performed through a resource, but directly
on memory.</p>
</li>
<li>
<p><code>VK_ACCESS_MEMORY_READ_BIT</code> specifies all read accesses.
It is always valid in any access mask, and is treated as equivalent to
setting all <code>READ</code> access flags that are valid where it is used.</p>
</li>
<li>
<p><code>VK_ACCESS_MEMORY_WRITE_BIT</code> specifies all write accesses.
It is always valid in any access mask, and is treated as equivalent to
setting all <code>WRITE</code> access flags that are valid where it is used.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Certain access types are only performed by a subset of pipeline stages.
Any synchronization command that takes both stage masks and access masks
uses both to define the <a href="#synchronization-dependencies-access-scopes">access
scopes</a> - only the specified access types performed by the specified stages
are included in the access scope.
An application <strong class="purple">must</strong> not specify an access flag in a synchronization command
if it does not include a pipeline stage in the corresponding stage mask that
is able to perform accesses of that type.
The following table lists, for each access flag, which pipeline stages <strong class="purple">can</strong>
perform that type of access.</p>
</div>
<table id="synchronization-access-types-supported" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Supported access types</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Access flag</th>
<th class="tableblock halign-left valign-top">Supported pipeline stages</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_INDIRECT_COMMAND_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_INDEX_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_VERTEX_ATTRIBUTE_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_INPUT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_UNIFORM_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>, or <code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_SHADER_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>, or <code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_SHADER_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_VERTEX_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>, <code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code>, or <code>VK_PIPELINE_STAGE_COMPUTE_SHADER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_INPUT_ATTACHMENT_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_COLOR_ATTACHMENT_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>, or <code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>, or <code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_TRANSFER_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_TRANSFER_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_HOST_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_HOST_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_HOST_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_STAGE_HOST_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_MEMORY_READ_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ACCESS_MEMORY_WRITE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
</tr>
</tbody>
</table>
<div id="synchronization-host-access-types" class="paragraph">
<p>If a memory object does not have the
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> property, then
<a href="#vkFlushMappedMemoryRanges">vkFlushMappedMemoryRanges</a> <strong class="purple">must</strong> be called in order to guarantee that
writes to the memory object from the host are made available to the host
domain, where they <strong class="purple">can</strong> be further made available to the device domain via a
domain operation.
Similarly, <a href="#vkInvalidateMappedMemoryRanges">vkInvalidateMappedMemoryRanges</a> <strong class="purple">must</strong> be called to guarantee
that writes which are available to the host domain are made visible to host
operations.</p>
</div>
<div class="paragraph">
<p>If the memory object does have the
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> property flag, writes to the
memory object from the host are automatically made available to the host
domain.
Similarly, writes made available to the host domain are automatically made
visible to the host.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <a href="#vkQueueSubmit">vkQueueSubmit</a> command <a href="#synchronization-submission-host-writes">automatically performs a domain operation from host to device</a> for all
writes performed before the command executes, so in most cases an explicit
memory barrier is not needed for this case.
In the few circumstances where a submit does not occur between the host
write and the device read access, writes <strong class="purple">can</strong> be made available by using an
explicit memory barrier.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkAccessFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkAccessFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkAccessFlags</code> is a bitmask type for setting a mask of zero or more
<a href="#VkAccessFlagBits">VkAccessFlagBits</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="synchronization-framebuffer-regions"><a class="anchor" href="#synchronization-framebuffer-regions"></a>6.1.4. Framebuffer Region Dependencies</h4>
<div class="paragraph">
<p><a href="#synchronization-pipeline-stages">Pipeline stages</a> that operate on, or
with respect to, the framebuffer are collectively the <em>framebuffer-space</em>
pipeline stages.
These stages are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For these pipeline stages, an execution or memory dependency from the first
set of operations to the second set <strong class="purple">can</strong> either be a single
<em>framebuffer-global</em> dependency, or split into multiple <em>framebuffer-local</em>
dependencies.
A dependency with non-framebuffer-space pipeline stages is neither
framebuffer-global nor framebuffer-local.</p>
</div>
<div class="paragraph">
<p>A <em>framebuffer region</em> is a set of sample (x, y, layer, sample) coordinates
that is a subset of the entire framebuffer.</p>
</div>
<div class="paragraph">
<p>Both <a href="#synchronization-dependencies-scopes">synchronization scopes</a> of a
framebuffer-local dependency include only the operations performed within
corresponding framebuffer regions (as defined below).
No ordering guarantees are made between different framebuffer regions for a
framebuffer-local dependency.</p>
</div>
<div class="paragraph">
<p>Both <a href="#synchronization-dependencies-scopes">synchronization scopes</a> of a
framebuffer-global dependency include operations on all framebuffer-regions.</p>
</div>
<div class="paragraph">
<p>If the first synchronization scope includes operations on pixels/fragments
with N samples and the second synchronization scope includes operations on
pixels/fragments with M samples, where N does not equal M, then a
framebuffer region containing all samples at a given (x, y, layer)
coordinate in the first synchronization scope corresponds to a region
containing all samples at the same coordinate in the second synchronization
scope.
In other words, it is a pixel granularity dependency.
If N equals M, then a framebuffer region containing a single (x, y, layer,
sample) coordinate in the first synchronization scope corresponds to a
region containing the same sample at the same coordinate in the second
synchronization scope.
In other words, it is a sample granularity dependency.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Since fragment invocations are not specified to run in any particular
groupings, the size of a framebuffer region is implementation-dependent, not
known to the application, and <strong class="purple">must</strong> be assumed to be no larger than
specified above.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Practically, the pixel vs sample granularity dependency means that if an
input attachment has a different number of samples than the pipeline&#8217;s
<code>rasterizationSamples</code>, then a fragment <strong class="purple">can</strong> access any sample in the
input attachment&#8217;s pixel even if it only uses framebuffer-local
dependencies.
If the input attachment has the same number of samples, then the fragment
<strong class="purple">can</strong> only access the covered samples in its input <code>SampleMask</code> (i.e. the
fragment operations happen-after a framebuffer-local dependency for each
sample the fragment covers).
To access samples that are not covered, a framebuffer-global dependency is
required.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If a synchronization command includes a <code>dependencyFlags</code> parameter, and
specifies the <code>VK_DEPENDENCY_BY_REGION_BIT</code> flag, then it defines
framebuffer-local dependencies for the framebuffer-space pipeline stages in
that synchronization command, for all framebuffer regions.
If no <code>dependencyFlags</code> parameter is included, or the
<code>VK_DEPENDENCY_BY_REGION_BIT</code> flag is not specified, then a
framebuffer-global dependency is specified for those stages.
The <code>VK_DEPENDENCY_BY_REGION_BIT</code> flag does not affect the dependencies
between non-framebuffer-space pipeline stages, nor does it affect the
dependencies between framebuffer-space and non-framebuffer-space pipeline
stages.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Framebuffer-local dependencies are more optimal for most architectures;
particularly tile-based architectures - which can keep framebuffer-regions
entirely in on-chip registers and thus avoid external bandwidth across such
a dependency.
Including a framebuffer-global dependency in your rendering will usually
force all implementations to flush data to memory, or to a higher level
cache, breaking any potential locality optimizations.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-implicit"><a class="anchor" href="#synchronization-implicit"></a>6.2. Implicit Synchronization Guarantees</h3>
<div class="paragraph">
<p>A small number of implicit ordering guarantees are provided by Vulkan,
ensuring that the order in which commands are submitted is meaningful, and
avoiding unnecessary complexity in common operations.</p>
</div>
<div id="synchronization-submission-order" class="paragraph">
<p><em>Submission order</em> is a fundamental ordering in Vulkan, giving meaning to
the order in which <a href="#fundamentals-queueoperation-command-types">action and
synchronization commands</a> are recorded and submitted to a single queue.
Explicit and implicit ordering guarantees between commands in Vulkan all
work on the premise that this ordering is meaningful.
This order does not itself define any execution or memory dependencies;
synchronization commands and other orderings within the API use this
ordering to define their scopes.</p>
</div>
<div class="paragraph">
<p>Submission order for any given set of commands is based on the order in
which they were recorded to command buffers and then submitted.
This order is determined as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The initial order is determined by the order in which
<a href="#vkQueueSubmit">vkQueueSubmit</a> commands are executed on the host, for a single
queue, from first to last.</p>
</li>
<li>
<p>The order in which <a href="#VkSubmitInfo">VkSubmitInfo</a> structures are specified in the
<code>pSubmits</code> parameter of <a href="#vkQueueSubmit">vkQueueSubmit</a>, from lowest index to
highest.</p>
</li>
<li>
<p>The order in which command buffers are specified in the
<code>pCommandBuffers</code> member of <a href="#VkSubmitInfo">VkSubmitInfo</a>, from lowest index to
highest.</p>
</li>
<li>
<p>The order in which commands were recorded to a command buffer on the
host, from first to last:</p>
<div class="ulist">
<ul>
<li>
<p>For commands recorded outside a render pass, this includes all other
commands recorded outside a render pass, including
<a href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a> and <a href="#vkCmdEndRenderPass">vkCmdEndRenderPass</a> commands; it
does not directly include commands inside a render pass.</p>
</li>
<li>
<p>For commands recorded inside a render pass, this includes all other
commands recorded inside the same subpass, including the
<a href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a> and <a href="#vkCmdEndRenderPass">vkCmdEndRenderPass</a> commands that
delimit the same render pass instance; it does not include commands
recorded to other subpasses.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="#fundamentals-queueoperation-command-types">Action and synchronization
commands</a> recorded to a command buffer execute the
<code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code> pipeline stage in
<a href="#synchronization-submission-order">submission order</a> - forming an implicit
execution dependency between this stage in each command.</p>
</div>
<div class="paragraph">
<p><a href="#fundamentals-queueoperation-command-types">State commands</a> do not execute
any operations on the device, instead they set the state of the command
buffer when they execute on the host, in the order that they are recorded.
<a href="#fundamentals-queueoperation-command-types">Action commands</a> consume the
current state of the command buffer when they are recorded, and will execute
state changes on the device as required to match the recorded state.</p>
</div>
<div class="paragraph">
<p><a href="#queries-order">Query commands</a>, <a href="#drawing-primitive-order">the order of
primitives passing through the graphics pipeline</a> and
<a href="#synchronization-image-barrier-layout-transition-order">image layout
transitions as part of an image memory barrier</a> provide additional
guarantees based on submission order.</p>
</div>
<div class="paragraph">
<p>Execution of <a href="#synchronization-pipeline-stages-order">pipeline stages</a>
within a given command also has a loose ordering, dependent only on a single
command.</p>
</div>
<div id="synchronization-signal-operation-order" class="paragraph">
<p><em>Signal operation order</em> is a fundamental ordering in Vulkan, giving meaning
to the order in which semaphore and fence signal operations occur when
submitted to a single queue.
The signal operation order for queue operations is determined as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The initial order is determined by the order in which
<a href="#vkQueueSubmit">vkQueueSubmit</a> commands are executed on the host, for a single
queue, from first to last.</p>
</li>
<li>
<p>The order in which <a href="#VkSubmitInfo">VkSubmitInfo</a> structures are specified in the
<code>pSubmits</code> parameter of <a href="#vkQueueSubmit">vkQueueSubmit</a>, from lowest index to
highest.</p>
</li>
<li>
<p>The fence signal operation defined by the <code>fence</code> parameter of a
<a href="#vkQueueSubmit">vkQueueSubmit</a> or <a href="#vkQueueBindSparse">vkQueueBindSparse</a> command is ordered after
all semaphore signal operations defined by that command.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Semaphore signal operations defined by a single <a href="#VkSubmitInfo">VkSubmitInfo</a> or
<a href="#VkBindSparseInfo">VkBindSparseInfo</a> structure are unordered with respect to other
semaphore signal operations defined within the same <a href="#VkSubmitInfo">VkSubmitInfo</a> or
<a href="#VkBindSparseInfo">VkBindSparseInfo</a> structure.</p>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-fences"><a class="anchor" href="#synchronization-fences"></a>6.3. Fences</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Fences are a synchronization primitive that <strong class="purple">can</strong> be used to insert a
dependency from a queue to the host.
Fences have two states - signaled and unsignaled.
A fence <strong class="purple">can</strong> be signaled as part of the execution of a
<a href="#devsandqueues-submission">queue submission</a> command.
Fences <strong class="purple">can</strong> be unsignaled on the host with <a href="#vkResetFences">vkResetFences</a>.
Fences <strong class="purple">can</strong> be waited on by the host with the <a href="#vkWaitForFences">vkWaitForFences</a> command,
and the current state <strong class="purple">can</strong> be queried with <a href="#vkGetFenceStatus">vkGetFenceStatus</a>.</p>
</div>
<div class="paragraph">
<p>Fences are represented by <code>VkFence</code> handles:</p>
</div>
<div id="VkFence" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkFence)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a fence, call:</p>
</div>
<div id="vkCreateFence" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateFence(
    VkDevice                                    device,
    <span class="directive">const</span> VkFenceCreateInfo*                    pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkFence*                                    pFence);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the fence.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkFenceCreateInfo</code> structure
containing information about how the fence is to be created.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pFence</code> is a pointer to a handle in which the resulting fence
object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateFence-device-parameter" href="#VUID-vkCreateFence-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateFence-pCreateInfo-parameter" href="#VUID-vkCreateFence-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkFenceCreateInfo">VkFenceCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateFence-pAllocator-parameter" href="#VUID-vkCreateFence-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateFence-pFence-parameter" href="#VUID-vkCreateFence-pFence-parameter"></a> <code>pFence</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkFence">VkFence</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkFenceCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkFenceCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkFenceCreateInfo {
    VkStructureType       sType;
    <span class="directive">const</span> <span class="directive">void</span>*           pNext;
    VkFenceCreateFlags    flags;
} VkFenceCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkFenceCreateFlagBits">VkFenceCreateFlagBits</a> specifying the
initial state and behavior of the fence.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkFenceCreateInfo-sType-sType" href="#VUID-VkFenceCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_FENCE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkFenceCreateInfo-pNext-pNext" href="#VUID-VkFenceCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkFenceCreateInfo-flags-parameter" href="#VUID-VkFenceCreateInfo-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkFenceCreateFlagBits">VkFenceCreateFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkFenceCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkFenceCreateFlagBits {
    VK_FENCE_CREATE_SIGNALED_BIT = <span class="hex">0x00000001</span>,
    VK_FENCE_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkFenceCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FENCE_CREATE_SIGNALED_BIT</code> specifies that the fence object is
created in the signaled state.
Otherwise, it is created in the unsignaled state.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkFenceCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkFenceCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkFenceCreateFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkFenceCreateFlagBits">VkFenceCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a fence, call:</p>
</div>
<div id="vkDestroyFence" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyFence(
    VkDevice                                    device,
    VkFence                                     fence,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the fence.</p>
</li>
<li>
<p><code>fence</code> is the handle of the fence to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyFence-fence-01120" href="#VUID-vkDestroyFence-fence-01120"></a>
All <a href="#devsandqueues-submission">queue submission</a> commands that refer
to <code>fence</code> <strong class="purple">must</strong> have completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyFence-fence-01121" href="#VUID-vkDestroyFence-fence-01121"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>fence</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyFence-fence-01122" href="#VUID-vkDestroyFence-fence-01122"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>fence</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyFence-device-parameter" href="#VUID-vkDestroyFence-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyFence-fence-parameter" href="#VUID-vkDestroyFence-fence-parameter"></a> If <code>fence</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>fence</code> <strong class="purple">must</strong> be a valid <a href="#VkFence">VkFence</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyFence-pAllocator-parameter" href="#VUID-vkDestroyFence-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyFence-fence-parent" href="#VUID-vkDestroyFence-fence-parent"></a> If <code>fence</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>fence</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the status of a fence from the host, call:</p>
</div>
<div id="vkGetFenceStatus" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkGetFenceStatus(
    VkDevice                                    device,
    VkFence                                     fence);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the fence.</p>
</li>
<li>
<p><code>fence</code> is the handle of the fence to query.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Upon success, <code>vkGetFenceStatus</code> returns the status of the fence object,
with the following return codes:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 5. Fence Object Status Codes</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SUCCESS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The fence specified by <code>fence</code> is signaled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_NOT_READY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The fence specified by <code>fence</code> is unsignaled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_ERROR_DEVICE_LOST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The device has been lost.  See <a href="#devsandqueues-lost-device">Lost Device</a>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If a <a href="#devsandqueues-submission">queue submission</a> command is pending
execution, then the value returned by this command <strong class="purple">may</strong> immediately be out
of date.</p>
</div>
<div class="paragraph">
<p>If the device has been lost (see <a href="#devsandqueues-lost-device">Lost Device</a>),
<code>vkGetFenceStatus</code> <strong class="purple">may</strong> return any of the above status codes.
If the device has been lost and <code>vkGetFenceStatus</code> is called repeatedly,
it will eventually return either <code>VK_SUCCESS</code> or
<code>VK_ERROR_DEVICE_LOST</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetFenceStatus-device-parameter" href="#VUID-vkGetFenceStatus-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetFenceStatus-fence-parameter" href="#VUID-vkGetFenceStatus-fence-parameter"></a> <code>fence</code> <strong class="purple">must</strong> be a valid <a href="#VkFence">VkFence</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetFenceStatus-fence-parent" href="#VUID-vkGetFenceStatus-fence-parent"></a> <code>fence</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_NOT_READY</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div id="synchronization-fences-unsignaling" class="openblock">
<div class="content">
<div class="paragraph">
<p>To set the state of fences to unsignaled from the host, call:</p>
</div>
<div id="vkResetFences" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkResetFences(
    VkDevice                                    device,
    uint32_t                                    fenceCount,
    <span class="directive">const</span> VkFence*                              pFences);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the fences.</p>
</li>
<li>
<p><code>fenceCount</code> is the number of fences to reset.</p>
</li>
<li>
<p><code>pFences</code> is a pointer to an array of fence handles to reset.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <a href="#vkResetFences">vkResetFences</a> is executed on the host, it defines a <em>fence
unsignal operation</em> for each fence, which resets the fence to the unsignaled
state.</p>
</div>
<div class="paragraph">
<p>If any member of <code>pFences</code> is already in the unsignaled state when
<a href="#vkResetFences">vkResetFences</a> is executed, then <a href="#vkResetFences">vkResetFences</a> has no effect on
that fence.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetFences-pFences-01123" href="#VUID-vkResetFences-pFences-01123"></a>
Each element of <code>pFences</code> <strong class="purple">must</strong> not be currently associated with any
queue command that has not yet completed execution on that queue</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetFences-device-parameter" href="#VUID-vkResetFences-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetFences-pFences-parameter" href="#VUID-vkResetFences-pFences-parameter"></a> <code>pFences</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>fenceCount</code> valid <a href="#VkFence">VkFence</a> handles</p>
</li>
<li>
<p><a id="VUID-vkResetFences-fenceCount-arraylength" href="#VUID-vkResetFences-fenceCount-arraylength"></a> <code>fenceCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkResetFences-pFences-parent" href="#VUID-vkResetFences-pFences-parent"></a> Each element of <code>pFences</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to each member of <code>pFences</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div id="synchronization-fences-signaling" class="paragraph">
<p>When a fence is submitted to a queue as part of a
<a href="#devsandqueues-submission">queue submission</a> command, it defines a memory
dependency on the batches that were submitted as part of that command, and
defines a <em>fence signal operation</em> which sets the fence to the signaled
state.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes every batch submitted in the same <a href="#devsandqueues-submission">queue
submission</a> command.
Fence signal operations that are defined by <a href="#vkQueueSubmit">vkQueueSubmit</a> additionally
include in the first synchronization scope all commands that occur earlier
in <a href="#synchronization-submission-order">submission order</a>.
Fence signal operations that are defined by <a href="#vkQueueSubmit">vkQueueSubmit</a> or
<a href="#vkQueueBindSparse">vkQueueBindSparse</a> additionally include in the first synchronization
scope any semaphore and fence signal operations that occur earlier in
<a href="#synchronization-signal-operation-order">signal operation order</a>.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
only includes the fence signal operation.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a>
includes all memory access performed by the device.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
empty.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To wait for one or more fences to enter the signaled state on the host,
call:</p>
</div>
<div id="vkWaitForFences" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkWaitForFences(
    VkDevice                                    device,
    uint32_t                                    fenceCount,
    <span class="directive">const</span> VkFence*                              pFences,
    VkBool32                                    waitAll,
    uint64_t                                    timeout);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the fences.</p>
</li>
<li>
<p><code>fenceCount</code> is the number of fences to wait on.</p>
</li>
<li>
<p><code>pFences</code> is a pointer to an array of <code>fenceCount</code> fence
handles.</p>
</li>
<li>
<p><code>waitAll</code> is the condition that <strong class="purple">must</strong> be satisfied to successfully
unblock the wait.
If <code>waitAll</code> is <code>VK_TRUE</code>, then the condition is that all fences
in <code>pFences</code> are signaled.
Otherwise, the condition is that at least one fence in <code>pFences</code> is
signaled.</p>
</li>
<li>
<p><code>timeout</code> is the timeout period in units of nanoseconds.
<code>timeout</code> is adjusted to the closest value allowed by the
implementation-dependent timeout accuracy, which <strong class="purple">may</strong> be substantially
longer than one nanosecond, and <strong class="purple">may</strong> be longer than the requested
period.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the condition is satisfied when <code>vkWaitForFences</code> is called, then
<code>vkWaitForFences</code> returns immediately.
If the condition is not satisfied at the time <code>vkWaitForFences</code> is
called, then <code>vkWaitForFences</code> will block and wait up to <code>timeout</code>
nanoseconds for the condition to become satisfied.</p>
</div>
<div class="paragraph">
<p>If <code>timeout</code> is zero, then <code>vkWaitForFences</code> does not wait, but
simply returns the current state of the fences.
<code>VK_TIMEOUT</code> will be returned in this case if the condition is not
satisfied, even though no actual wait was performed.</p>
</div>
<div class="paragraph">
<p>If the specified timeout period expires before the condition is satisfied,
<code>vkWaitForFences</code> returns <code>VK_TIMEOUT</code>.
If the condition is satisfied before <code>timeout</code> nanoseconds has expired,
<code>vkWaitForFences</code> returns <code>VK_SUCCESS</code>.</p>
</div>
<div class="paragraph">
<p>If device loss occurs (see <a href="#devsandqueues-lost-device">Lost Device</a>) before
the timeout has expired, <code>vkWaitForFences</code> <strong class="purple">must</strong> return in finite time
with either <code>VK_SUCCESS</code> or <code>VK_ERROR_DEVICE_LOST</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>While we guarantee that <code>vkWaitForFences</code> <strong class="purple">must</strong> return in finite time,
no guarantees are made that it returns immediately upon device loss.
However, the client can reasonably expect that the delay will be on the
order of seconds and that calling <code>vkWaitForFences</code> will not result in a
permanently (or seemingly permanently) dead process.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkWaitForFences-device-parameter" href="#VUID-vkWaitForFences-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkWaitForFences-pFences-parameter" href="#VUID-vkWaitForFences-pFences-parameter"></a> <code>pFences</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>fenceCount</code> valid <a href="#VkFence">VkFence</a> handles</p>
</li>
<li>
<p><a id="VUID-vkWaitForFences-fenceCount-arraylength" href="#VUID-vkWaitForFences-fenceCount-arraylength"></a> <code>fenceCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkWaitForFences-pFences-parent" href="#VUID-vkWaitForFences-pFences-parent"></a> Each element of <code>pFences</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_TIMEOUT</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div id="synchronization-fences-waiting" class="paragraph">
<p>An execution dependency is defined by waiting for a fence to become
signaled, either via <a href="#vkWaitForFences">vkWaitForFences</a> or by polling on
<a href="#vkGetFenceStatus">vkGetFenceStatus</a>.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes only the fence signal operation.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes the host operations of <a href="#vkWaitForFences">vkWaitForFences</a> or
<a href="#vkGetFenceStatus">vkGetFenceStatus</a> indicating that the fence has become signaled.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Signaling a fence and waiting on the host does not guarantee that the
results of memory accesses will be visible to the host, as the access scope
of a memory dependency defined by a fence only includes device access.
A <a href="#synchronization-memory-barriers">memory barrier</a> or other memory
dependency <strong class="purple">must</strong> be used to guarantee this.
See the description of <a href="#synchronization-host-access-types">host access
types</a> for more information.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-semaphores"><a class="anchor" href="#synchronization-semaphores"></a>6.4. Semaphores</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Semaphores are a synchronization primitive that <strong class="purple">can</strong> be used to insert a
dependency
between queue operations.
Semaphores have two states - signaled and unsignaled.
A semaphore <strong class="purple">can</strong> be signaled after execution of a queue operation is
completed, and a queue operation <strong class="purple">can</strong> wait for a semaphore to become
signaled before it begins execution.</p>
</div>
<div class="paragraph">
<p>Semaphores are represented by <code>VkSemaphore</code> handles:</p>
</div>
<div id="VkSemaphore" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkSemaphore)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a semaphore, call:</p>
</div>
<div id="vkCreateSemaphore" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateSemaphore(
    VkDevice                                    device,
    <span class="directive">const</span> VkSemaphoreCreateInfo*                pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkSemaphore*                                pSemaphore);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the semaphore.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkSemaphoreCreateInfo</code>
structure containing information about how the semaphore is to be
created.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pSemaphore</code> is a pointer to a handle in which the resulting
semaphore object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command creates a <em>binary semaphore</em> that has a boolean payload
indicating whether the semaphore is currently signaled or unsignaled.
When created, the semaphore is in the unsignaled state.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateSemaphore-device-parameter" href="#VUID-vkCreateSemaphore-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateSemaphore-pCreateInfo-parameter" href="#VUID-vkCreateSemaphore-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkSemaphoreCreateInfo">VkSemaphoreCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateSemaphore-pAllocator-parameter" href="#VUID-vkCreateSemaphore-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateSemaphore-pSemaphore-parameter" href="#VUID-vkCreateSemaphore-pSemaphore-parameter"></a> <code>pSemaphore</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkSemaphore">VkSemaphore</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSemaphoreCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkSemaphoreCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSemaphoreCreateInfo {
    VkStructureType           sType;
    <span class="directive">const</span> <span class="directive">void</span>*               pNext;
    VkSemaphoreCreateFlags    flags;
} VkSemaphoreCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSemaphoreCreateInfo-sType-sType" href="#VUID-VkSemaphoreCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkSemaphoreCreateInfo-pNext-pNext" href="#VUID-VkSemaphoreCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkSemaphoreCreateInfo-flags-zerobitmask" href="#VUID-VkSemaphoreCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSemaphoreCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkSemaphoreCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSemaphoreCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a semaphore, call:</p>
</div>
<div id="vkDestroySemaphore" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroySemaphore(
    VkDevice                                    device,
    VkSemaphore                                 semaphore,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the semaphore.</p>
</li>
<li>
<p><code>semaphore</code> is the handle of the semaphore to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySemaphore-semaphore-01137" href="#VUID-vkDestroySemaphore-semaphore-01137"></a>
All submitted batches that refer to <code>semaphore</code> <strong class="purple">must</strong> have completed
execution</p>
</li>
<li>
<p><a id="VUID-vkDestroySemaphore-semaphore-01138" href="#VUID-vkDestroySemaphore-semaphore-01138"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>semaphore</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroySemaphore-semaphore-01139" href="#VUID-vkDestroySemaphore-semaphore-01139"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>semaphore</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySemaphore-device-parameter" href="#VUID-vkDestroySemaphore-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySemaphore-semaphore-parameter" href="#VUID-vkDestroySemaphore-semaphore-parameter"></a> If <code>semaphore</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>semaphore</code> <strong class="purple">must</strong> be a valid <a href="#VkSemaphore">VkSemaphore</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySemaphore-pAllocator-parameter" href="#VUID-vkDestroySemaphore-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroySemaphore-semaphore-parent" href="#VUID-vkDestroySemaphore-semaphore-parent"></a> If <code>semaphore</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>semaphore</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="synchronization-semaphores-signaling"><a class="anchor" href="#synchronization-semaphores-signaling"></a>6.4.1. Semaphore Signaling</h4>
<div class="paragraph">
<p>When a batch is submitted to a queue via a <a href="#devsandqueues-submission">queue
submission</a>, and it includes semaphores to be signaled, it defines a memory
dependency on the batch, and defines <em>semaphore signal operations</em> which set
the semaphores to the signaled state.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes every command submitted in the same batch.
Semaphore signal operations that are defined by <a href="#vkQueueSubmit">vkQueueSubmit</a>
additionally include all commands that occur earlier in
<a href="#synchronization-submission-order">submission order</a>.
Semaphore signal operations that are defined by <a href="#vkQueueSubmit">vkQueueSubmit</a> or
<a href="#vkQueueBindSparse">vkQueueBindSparse</a> additionally include in the first synchronization
scope any semaphore and fence signal operations that occur earlier in
<a href="#synchronization-signal-operation-order">signal operation order</a>.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes only the semaphore signal operation.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a>
includes all memory access performed by the device.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
empty.</p>
</div>
</div>
<div class="sect3">
<h4 id="synchronization-semaphores-waiting"><a class="anchor" href="#synchronization-semaphores-waiting"></a>6.4.2. Semaphore Waiting</h4>
<div class="paragraph">
<p>When a batch is submitted to a queue via a <a href="#devsandqueues-submission">queue
submission</a>, and it includes semaphores to be waited on, it defines a
memory dependency between prior semaphore signal operations and the batch,
and defines <em>semaphore wait operations</em>.</p>
</div>
<div class="paragraph">
<p>Such semaphore wait operations set the semaphores
to the unsignaled state.</p>
</div>
<div class="paragraph">
<p>The first synchronization scope includes all semaphore signal operations
that operate on semaphores waited on in the same batch, and that
happen-before the wait completes.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes every command submitted in the same batch.
In the case of <a href="#vkQueueSubmit">vkQueueSubmit</a>, the second synchronization scope is
limited to operations on the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by the corresponding element of <code>pWaitDstStageMask</code>.
Also, in the case of <a href="#vkQueueSubmit">vkQueueSubmit</a>, the second synchronization scope
additionally includes all commands that occur later in
<a href="#synchronization-submission-order">submission order</a>.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
empty.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a>
includes all memory access performed by the device.</p>
</div>
<div class="paragraph">
<p>The semaphore wait operation happens-after the first set of operations in
the execution dependency, and happens-before the second set of operations in
the execution dependency.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Unlike
fences or events, the act of waiting for a binary semaphore also unsignals
that semaphore.
Applications <strong class="purple">must</strong> ensure that between two such wait operations, the
semaphore is signaled again, with execution dependencies used to ensure
these occur in order.
Binary semaphore waits and signals should thus occur in discrete 1:1 pairs.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="synchronization-semaphores-waiting-state"><a class="anchor" href="#synchronization-semaphores-waiting-state"></a>6.4.3. Semaphore State Requirements For Wait Operations</h4>
<div class="paragraph">
<p>Before waiting on a semaphore, the application <strong class="purple">must</strong> ensure the semaphore is
in a valid state for a wait operation.
Specifically, when a <a href="#synchronization-semaphores-waiting">semaphore wait
operation</a> is submitted to a queue:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A binary semaphore <strong class="purple">must</strong> be signaled, or have an associated
<a href="#synchronization-semaphores-signaling">semaphore signal operation</a> that
is pending execution.</p>
</li>
<li>
<p>Any <a href="#synchronization-semaphores-signaling">semaphore signal operations</a>
on which the pending binary semaphore signal operation depends <strong class="purple">must</strong>
also be completed or pending execution.</p>
</li>
<li>
<p>There <strong class="purple">must</strong> be no other queue waiting on the same binary semaphore when
the operation executes.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-events"><a class="anchor" href="#synchronization-events"></a>6.5. Events</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Events are a synchronization primitive that <strong class="purple">can</strong> be used to insert a
fine-grained dependency between commands submitted to the same queue, or
between the host and a queue.
Events <strong class="purple">must</strong> not be used to insert a dependency between commands submitted
to different queues.
Events have two states - signaled and unsignaled.
An application <strong class="purple">can</strong> signal or unsignal an event either on the host or on the
device.
A device <strong class="purple">can</strong> be made to wait for an event to become signaled before
executing further operations.
No command exists to wait for an event to become signaled on the host, but
the current state of an event <strong class="purple">can</strong> be queried.</p>
</div>
<div class="paragraph">
<p>Events are represented by <code>VkEvent</code> handles:</p>
</div>
<div id="VkEvent" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkEvent)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create an event, call:</p>
</div>
<div id="vkCreateEvent" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateEvent(
    VkDevice                                    device,
    <span class="directive">const</span> VkEventCreateInfo*                    pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkEvent*                                    pEvent);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the event.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkEventCreateInfo</code> structure
containing information about how the event is to be created.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pEvent</code> is a pointer to a handle in which the resulting event
object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When created, the event object is in the unsignaled state.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateEvent-device-parameter" href="#VUID-vkCreateEvent-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateEvent-pCreateInfo-parameter" href="#VUID-vkCreateEvent-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkEventCreateInfo">VkEventCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateEvent-pAllocator-parameter" href="#VUID-vkCreateEvent-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateEvent-pEvent-parameter" href="#VUID-vkCreateEvent-pEvent-parameter"></a> <code>pEvent</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkEvent">VkEvent</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkEventCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkEventCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkEventCreateInfo {
    VkStructureType       sType;
    <span class="directive">const</span> <span class="directive">void</span>*           pNext;
    VkEventCreateFlags    flags;
} VkEventCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkEventCreateInfo-sType-sType" href="#VUID-VkEventCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_EVENT_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkEventCreateInfo-pNext-pNext" href="#VUID-VkEventCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkEventCreateInfo-flags-zerobitmask" href="#VUID-VkEventCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkEventCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkEventCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkEventCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy an event, call:</p>
</div>
<div id="vkDestroyEvent" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyEvent(
    VkDevice                                    device,
    VkEvent                                     event,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the event.</p>
</li>
<li>
<p><code>event</code> is the handle of the event to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyEvent-event-01145" href="#VUID-vkDestroyEvent-event-01145"></a>
All submitted commands that refer to <code>event</code> <strong class="purple">must</strong> have completed
execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyEvent-event-01146" href="#VUID-vkDestroyEvent-event-01146"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>event</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyEvent-event-01147" href="#VUID-vkDestroyEvent-event-01147"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>event</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyEvent-device-parameter" href="#VUID-vkDestroyEvent-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyEvent-event-parameter" href="#VUID-vkDestroyEvent-event-parameter"></a> If <code>event</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>event</code> <strong class="purple">must</strong> be a valid <a href="#VkEvent">VkEvent</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyEvent-pAllocator-parameter" href="#VUID-vkDestroyEvent-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyEvent-event-parent" href="#VUID-vkDestroyEvent-event-parent"></a> If <code>event</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>event</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the state of an event from the host, call:</p>
</div>
<div id="vkGetEventStatus" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkGetEventStatus(
    VkDevice                                    device,
    VkEvent                                     event);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the event.</p>
</li>
<li>
<p><code>event</code> is the handle of the event to query.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Upon success, <code>vkGetEventStatus</code> returns the state of the event object
with the following return codes:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 6. Event Object Status Codes</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EVENT_SET</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The event specified by <code>event</code> is signaled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EVENT_RESET</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The event specified by <code>event</code> is unsignaled.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If a <code>vkCmdSetEvent</code> or <code>vkCmdResetEvent</code> command is in a command
buffer that is in the <a href="#commandbuffers-lifecycle">pending state</a>, then the
value returned by this command <strong class="purple">may</strong> immediately be out of date.</p>
</div>
<div class="paragraph">
<p>The state of an event <strong class="purple">can</strong> be updated by the host.
The state of the event is immediately changed, and subsequent calls to
<code>vkGetEventStatus</code> will return the new state.
If an event is already in the requested state, then updating it to the same
state has no effect.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetEventStatus-device-parameter" href="#VUID-vkGetEventStatus-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetEventStatus-event-parameter" href="#VUID-vkGetEventStatus-event-parameter"></a> <code>event</code> <strong class="purple">must</strong> be a valid <a href="#VkEvent">VkEvent</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetEventStatus-event-parent" href="#VUID-vkGetEventStatus-event-parent"></a> <code>event</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_EVENT_SET</code></p>
</li>
<li>
<p><code>VK_EVENT_RESET</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div id="synchronization-events-signaling-host" class="openblock">
<div class="content">
<div class="paragraph">
<p>To set the state of an event to signaled from the host, call:</p>
</div>
<div id="vkSetEvent" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkSetEvent(
    VkDevice                                    device,
    VkEvent                                     event);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the event.</p>
</li>
<li>
<p><code>event</code> is the event to set.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <a href="#vkSetEvent">vkSetEvent</a> is executed on the host, it defines an <em>event signal
operation</em> which sets the event to the signaled state.</p>
</div>
<div class="paragraph">
<p>If <code>event</code> is already in the signaled state when <a href="#vkSetEvent">vkSetEvent</a> is
executed, then <a href="#vkSetEvent">vkSetEvent</a> has no effect, and no event signal operation
occurs.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkSetEvent-device-parameter" href="#VUID-vkSetEvent-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetEvent-event-parameter" href="#VUID-vkSetEvent-event-parameter"></a> <code>event</code> <strong class="purple">must</strong> be a valid <a href="#VkEvent">VkEvent</a> handle</p>
</li>
<li>
<p><a id="VUID-vkSetEvent-event-parent" href="#VUID-vkSetEvent-event-parent"></a> <code>event</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>event</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div id="synchronization-events-unsignaling-host" class="openblock">
<div class="content">
<div class="paragraph">
<p>To set the state of an event to unsignaled from the host, call:</p>
</div>
<div id="vkResetEvent" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkResetEvent(
    VkDevice                                    device,
    VkEvent                                     event);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the event.</p>
</li>
<li>
<p><code>event</code> is the event to reset.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <a href="#vkResetEvent">vkResetEvent</a> is executed on the host, it defines an <em>event
unsignal operation</em> which resets the event to the unsignaled state.</p>
</div>
<div class="paragraph">
<p>If <code>event</code> is already in the unsignaled state when <a href="#vkResetEvent">vkResetEvent</a> is
executed, then <a href="#vkResetEvent">vkResetEvent</a> has no effect, and no event unsignal
operation occurs.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetEvent-event-01148" href="#VUID-vkResetEvent-event-01148"></a>
<code>event</code> <strong class="purple">must</strong> not be waited on by a <code>vkCmdWaitEvents</code> command
that is currently executing</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetEvent-device-parameter" href="#VUID-vkResetEvent-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetEvent-event-parameter" href="#VUID-vkResetEvent-event-parameter"></a> <code>event</code> <strong class="purple">must</strong> be a valid <a href="#VkEvent">VkEvent</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetEvent-event-parent" href="#VUID-vkResetEvent-event-parent"></a> <code>event</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>event</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The state of an event <strong class="purple">can</strong> also be updated on the device by commands
inserted in command buffers.</p>
</div>
<div id="synchronization-events-signaling-device" class="openblock">
<div class="content">
<div class="paragraph">
<p>To set the state of an event to signaled from a device, call:</p>
</div>
<div id="vkCmdSetEvent" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdSetEvent(
    VkCommandBuffer                             commandBuffer,
    VkEvent                                     event,
    VkPipelineStageFlags                        stageMask);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>event</code> is the event that will be signaled.</p>
</li>
<li>
<p><code>stageMask</code> specifies the <a href="#synchronization-pipeline-stages">source
stage mask</a> used to determine when the <code>event</code> is signaled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <a href="#vkCmdSetEvent">vkCmdSetEvent</a> is submitted to a queue, it defines an execution
dependency on commands that were submitted before it, and defines an event
signal operation which sets the event to the signaled state.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes all commands that occur earlier in
<a href="#synchronization-submission-order">submission order</a>.
The synchronization scope is limited to operations on the pipeline stages
determined by the <a href="#synchronization-pipeline-stages-masks">source stage
mask</a> specified by <code>stageMask</code>.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes only the event signal operation.</p>
</div>
<div class="paragraph">
<p>If <code>event</code> is already in the signaled state when <a href="#vkCmdSetEvent">vkCmdSetEvent</a> is
executed on the device, then <a href="#vkCmdSetEvent">vkCmdSetEvent</a> has no effect, no event
signal operation occurs, and no execution dependency is generated.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetEvent-stageMask-01149" href="#VUID-vkCmdSetEvent-stageMask-01149"></a>
<code>stageMask</code> <strong class="purple">must</strong> not include <code>VK_PIPELINE_STAGE_HOST_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetEvent-stageMask-01150" href="#VUID-vkCmdSetEvent-stageMask-01150"></a>
If the <a href="#features-geometryShader">geometry shaders</a> feature is not
enabled, <code>stageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetEvent-stageMask-01151" href="#VUID-vkCmdSetEvent-stageMask-01151"></a>
If the <a href="#features-tessellationShader">tessellation shaders</a> feature is
not enabled, <code>stageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetEvent-commandBuffer-parameter" href="#VUID-vkCmdSetEvent-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetEvent-event-parameter" href="#VUID-vkCmdSetEvent-event-parameter"></a> <code>event</code> <strong class="purple">must</strong> be a valid <a href="#VkEvent">VkEvent</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetEvent-stageMask-parameter" href="#VUID-vkCmdSetEvent-stageMask-parameter"></a> <code>stageMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdSetEvent-stageMask-requiredbitmask" href="#VUID-vkCmdSetEvent-stageMask-requiredbitmask"></a> <code>stageMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetEvent-commandBuffer-recording" href="#VUID-vkCmdSetEvent-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetEvent-commandBuffer-cmdpool" href="#VUID-vkCmdSetEvent-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetEvent-renderpass" href="#VUID-vkCmdSetEvent-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdSetEvent-commonparent" href="#VUID-vkCmdSetEvent-commonparent"></a> Both of <code>commandBuffer</code>, and <code>event</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="synchronization-events-unsignaling-device" class="openblock">
<div class="content">
<div class="paragraph">
<p>To set the state of an event to unsignaled from a device, call:</p>
</div>
<div id="vkCmdResetEvent" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdResetEvent(
    VkCommandBuffer                             commandBuffer,
    VkEvent                                     event,
    VkPipelineStageFlags                        stageMask);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>event</code> is the event that will be unsignaled.</p>
</li>
<li>
<p><code>stageMask</code> is a bitmask of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> specifying
the <a href="#synchronization-pipeline-stages">source stage mask</a> used to
determine when the <code>event</code> is unsignaled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <a href="#vkCmdResetEvent">vkCmdResetEvent</a> is submitted to a queue, it defines an execution
dependency on commands that were submitted before it, and defines an event
unsignal operation which resets the event to the unsignaled state.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes all commands that occur earlier in
<a href="#synchronization-submission-order">submission order</a>.
The synchronization scope is limited to operations on the pipeline stages
determined by the <a href="#synchronization-pipeline-stages-masks">source stage
mask</a> specified by <code>stageMask</code>.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes only the event unsignal operation.</p>
</div>
<div class="paragraph">
<p>If <code>event</code> is already in the unsignaled state when <a href="#vkCmdResetEvent">vkCmdResetEvent</a>
is executed on the device, then <a href="#vkCmdResetEvent">vkCmdResetEvent</a> has no effect, no
event unsignal operation occurs, and no execution dependency is generated.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdResetEvent-stageMask-01153" href="#VUID-vkCmdResetEvent-stageMask-01153"></a>
<code>stageMask</code> <strong class="purple">must</strong> not include <code>VK_PIPELINE_STAGE_HOST_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResetEvent-stageMask-01154" href="#VUID-vkCmdResetEvent-stageMask-01154"></a>
If the <a href="#features-geometryShader">geometry shaders</a> feature is not
enabled, <code>stageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResetEvent-stageMask-01155" href="#VUID-vkCmdResetEvent-stageMask-01155"></a>
If the <a href="#features-tessellationShader">tessellation shaders</a> feature is
not enabled, <code>stageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResetEvent-event-01156" href="#VUID-vkCmdResetEvent-event-01156"></a>
When this command executes, <code>event</code> <strong class="purple">must</strong> not be waited on by a
<code>vkCmdWaitEvents</code> command that is currently executing</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdResetEvent-commandBuffer-parameter" href="#VUID-vkCmdResetEvent-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdResetEvent-event-parameter" href="#VUID-vkCmdResetEvent-event-parameter"></a> <code>event</code> <strong class="purple">must</strong> be a valid <a href="#VkEvent">VkEvent</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdResetEvent-stageMask-parameter" href="#VUID-vkCmdResetEvent-stageMask-parameter"></a> <code>stageMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdResetEvent-stageMask-requiredbitmask" href="#VUID-vkCmdResetEvent-stageMask-requiredbitmask"></a> <code>stageMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResetEvent-commandBuffer-recording" href="#VUID-vkCmdResetEvent-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdResetEvent-commandBuffer-cmdpool" href="#VUID-vkCmdResetEvent-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdResetEvent-renderpass" href="#VUID-vkCmdResetEvent-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdResetEvent-commonparent" href="#VUID-vkCmdResetEvent-commonparent"></a> Both of <code>commandBuffer</code>, and <code>event</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To wait for one or more events to enter the signaled state on a device,
call:</p>
</div>
<div id="vkCmdWaitEvents" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdWaitEvents(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    eventCount,
    <span class="directive">const</span> VkEvent*                              pEvents,
    VkPipelineStageFlags                        srcStageMask,
    VkPipelineStageFlags                        dstStageMask,
    uint32_t                                    memoryBarrierCount,
    <span class="directive">const</span> VkMemoryBarrier*                      pMemoryBarriers,
    uint32_t                                    bufferMemoryBarrierCount,
    <span class="directive">const</span> VkBufferMemoryBarrier*                pBufferMemoryBarriers,
    uint32_t                                    imageMemoryBarrierCount,
    <span class="directive">const</span> VkImageMemoryBarrier*                 pImageMemoryBarriers);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>eventCount</code> is the length of the <code>pEvents</code> array.</p>
</li>
<li>
<p><code>pEvents</code> is a pointer to an array of event object handles to wait
on.</p>
</li>
<li>
<p><code>srcStageMask</code> is a bitmask of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>
specifying the <a href="#synchronization-pipeline-stages">source stage mask</a>.</p>
</li>
<li>
<p><code>dstStageMask</code> is a bitmask of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>
specifying the <a href="#synchronization-pipeline-stages">destination stage
mask</a>.</p>
</li>
<li>
<p><code>memoryBarrierCount</code> is the length of the <code>pMemoryBarriers</code>
array.</p>
</li>
<li>
<p><code>pMemoryBarriers</code> is a pointer to an array of <a href="#VkMemoryBarrier">VkMemoryBarrier</a>
structures.</p>
</li>
<li>
<p><code>bufferMemoryBarrierCount</code> is the length of the
<code>pBufferMemoryBarriers</code> array.</p>
</li>
<li>
<p><code>pBufferMemoryBarriers</code> is a pointer to an array of
<a href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a> structures.</p>
</li>
<li>
<p><code>imageMemoryBarrierCount</code> is the length of the
<code>pImageMemoryBarriers</code> array.</p>
</li>
<li>
<p><code>pImageMemoryBarriers</code> is a pointer to an array of
<a href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <code>vkCmdWaitEvents</code> is submitted to a queue, it defines a memory
dependency between prior event signal operations on the same queue or the
host, and subsequent commands.
<code>vkCmdWaitEvents</code> <strong class="purple">must</strong> not be used to wait on event signal operations
occurring on other queues.</p>
</div>
<div class="paragraph">
<p>The first synchronization scope only includes event signal operations that
operate on members of <code>pEvents</code>, and the operations that happened-before
the event signal operations.
Event signal operations performed by <a href="#vkCmdSetEvent">vkCmdSetEvent</a> that occur earlier
in <a href="#synchronization-submission-order">submission order</a> are included in the
first synchronization scope, if the <a href="#synchronization-pipeline-stages-order">logically latest</a> pipeline stage in their <code>stageMask</code> parameter is
<a href="#synchronization-pipeline-stages-order">logically earlier</a> than or equal
to the <a href="#synchronization-pipeline-stages-order">logically latest</a> pipeline
stage in <code>srcStageMask</code>.
Event signal operations performed by <a href="#vkSetEvent">vkSetEvent</a> are only included in
the first synchronization scope if <code>VK_PIPELINE_STAGE_HOST_BIT</code> is
included in <code>srcStageMask</code>.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes all commands that occur later in
<a href="#synchronization-submission-order">submission order</a>.
The second synchronization scope is limited to operations on the pipeline
stages determined by the <a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified by <code>dstStageMask</code>.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by
<code>srcStageMask</code>.
Within that, the first access scope only includes the first access scopes
defined by elements of the <code>pMemoryBarriers</code>,
<code>pBufferMemoryBarriers</code> and <code>pImageMemoryBarriers</code> arrays, which
each define a set of <a href="#synchronization-memory-barriers">memory barriers</a>.
If no memory barriers are specified, then the first access scope includes no
accesses.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by <code>dstStageMask</code>.
Within that, the second access scope only includes the second access scopes
defined by elements of the <code>pMemoryBarriers</code>,
<code>pBufferMemoryBarriers</code> and <code>pImageMemoryBarriers</code> arrays, which
each define a set of <a href="#synchronization-memory-barriers">memory barriers</a>.
If no memory barriers are specified, then the second access scope includes
no accesses.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><a href="#vkCmdWaitEvents">vkCmdWaitEvents</a> is used with <a href="#vkCmdSetEvent">vkCmdSetEvent</a> to define a memory
dependency between two sets of action commands, roughly in the same way as
pipeline barriers, but split into two commands such that work between the
two <strong class="purple">may</strong> execute unhindered.</p>
</div>
<div class="paragraph">
<p>Unlike <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a>, a <a href="#synchronization-queue-transfers">queue family ownership transfer</a> <strong class="purple">cannot</strong> be performed using
<a href="#vkCmdWaitEvents">vkCmdWaitEvents</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications <strong class="purple">should</strong> be careful to avoid race conditions when using events.
There is no direct ordering guarantee between a <a href="#vkCmdResetEvent">vkCmdResetEvent</a>
command and a <a href="#vkCmdWaitEvents">vkCmdWaitEvents</a> command submitted after it, so some
other execution dependency <strong class="purple">must</strong> be included between these commands (e.g. a
semaphore).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdWaitEvents-srcStageMask-01158" href="#VUID-vkCmdWaitEvents-srcStageMask-01158"></a>
<code>srcStageMask</code> <strong class="purple">must</strong> be the bitwise OR of the <code>stageMask</code>
parameter used in previous calls to <code>vkCmdSetEvent</code> with any of the
members of <code>pEvents</code> and <code>VK_PIPELINE_STAGE_HOST_BIT</code> if any of
the members of <code>pEvents</code> was set using <code>vkSetEvent</code></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-srcStageMask-01159" href="#VUID-vkCmdWaitEvents-srcStageMask-01159"></a>
If the <a href="#features-geometryShader">geometry shaders</a> feature is not
enabled, <code>srcStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-dstStageMask-01160" href="#VUID-vkCmdWaitEvents-dstStageMask-01160"></a>
If the <a href="#features-geometryShader">geometry shaders</a> feature is not
enabled, <code>dstStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-srcStageMask-01161" href="#VUID-vkCmdWaitEvents-srcStageMask-01161"></a>
If the <a href="#features-tessellationShader">tessellation shaders</a> feature is
not enabled, <code>srcStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-dstStageMask-01162" href="#VUID-vkCmdWaitEvents-dstStageMask-01162"></a>
If the <a href="#features-tessellationShader">tessellation shaders</a> feature is
not enabled, <code>dstStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-pEvents-01163" href="#VUID-vkCmdWaitEvents-pEvents-01163"></a>
If <code>pEvents</code> includes one or more events that will be signaled by
<code>vkSetEvent</code> after <code>commandBuffer</code> has been submitted to a
queue, then <code>vkCmdWaitEvents</code> <strong class="purple">must</strong> not be called inside a render
pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-srcStageMask-01164" href="#VUID-vkCmdWaitEvents-srcStageMask-01164"></a>
Any pipeline stage included in <code>srcStageMask</code> or <code>dstStageMask</code>
<strong class="purple">must</strong> be supported by the capabilities of the queue family specified by
the <code>queueFamilyIndex</code> member of the <a href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a>
structure that was used to create the <code>VkCommandPool</code> that
<code>commandBuffer</code> was allocated from, as specified in the
<a href="#synchronization-pipeline-stages-supported">table of supported pipeline
stages</a>.</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-pMemoryBarriers-01165" href="#VUID-vkCmdWaitEvents-pMemoryBarriers-01165"></a>
Each element of <code>pMemoryBarriers</code>, <code>pBufferMemoryBarriers</code> or
<code>pImageMemoryBarriers</code> <strong class="purple">must</strong> not have any access flag included in
its <code>srcAccessMask</code> member if that bit is not supported by any of
the pipeline stages in <code>srcStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a>.</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-pMemoryBarriers-01166" href="#VUID-vkCmdWaitEvents-pMemoryBarriers-01166"></a>
Each element of <code>pMemoryBarriers</code>, <code>pBufferMemoryBarriers</code> or
<code>pImageMemoryBarriers</code> <strong class="purple">must</strong> not have any access flag included in
its <code>dstAccessMask</code> member if that bit is not supported by any of
the pipeline stages in <code>dstStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a>.</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-srcQueueFamilyIndex-02803" href="#VUID-vkCmdWaitEvents-srcQueueFamilyIndex-02803"></a>
The <code>srcQueueFamilyIndex</code> and <code>dstQueueFamilyIndex</code> members of
any element of <code>pBufferMemoryBarriers</code> or <code>pImageMemoryBarriers</code>
<strong class="purple">must</strong> be equal.</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-srcAccessMask-02809" href="#VUID-vkCmdWaitEvents-srcAccessMask-02809"></a>
The <code>srcAccessMask</code> member of each element of <code>pMemoryBarriers</code>
<strong class="purple">must</strong> only include access flags that are supported by one or more of the
pipeline stages in <code>srcStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-dstAccessMask-02810" href="#VUID-vkCmdWaitEvents-dstAccessMask-02810"></a>
The <code>dstAccessMask</code> member of each element of <code>pMemoryBarriers</code>
<strong class="purple">must</strong> only include access flags that are supported by one or more of the
pipeline stages in <code>dstStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-srcAccessMask-02811" href="#VUID-vkCmdWaitEvents-srcAccessMask-02811"></a>
The <code>srcAccessMask</code> member of each element of
<code>pBufferMemoryBarriers</code> <strong class="purple">must</strong> only include access flags that are
supported by one or more of the pipeline stages in <code>srcStageMask</code>,
as specified in the <a href="#synchronization-access-types-supported">table of
supported access types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-dstAccessMask-02812" href="#VUID-vkCmdWaitEvents-dstAccessMask-02812"></a>
The <code>dstAccessMask</code> member of each element of
<code>pBufferMemoryBarriers</code> <strong class="purple">must</strong> only include access flags that are
supported by one or more of the pipeline stages in <code>dstStageMask</code>,
as specified in the <a href="#synchronization-access-types-supported">table of
supported access types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-srcAccessMask-02813" href="#VUID-vkCmdWaitEvents-srcAccessMask-02813"></a>
The <code>srcAccessMask</code> member of each element of
<code>pImageMemoryBarriers</code> <strong class="purple">must</strong> only include access flags that are
supported by one or more of the pipeline stages in <code>srcStageMask</code>,
as specified in the <a href="#synchronization-access-types-supported">table of
supported access types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-dstAccessMask-02814" href="#VUID-vkCmdWaitEvents-dstAccessMask-02814"></a>
The <code>dstAccessMask</code> member of any element of
<code>pImageMemoryBarriers</code> <strong class="purple">must</strong> only include access flags that are
supported by one or more of the pipeline stages in <code>dstStageMask</code>,
as specified in the <a href="#synchronization-access-types-supported">table of
supported access types</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdWaitEvents-commandBuffer-parameter" href="#VUID-vkCmdWaitEvents-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-pEvents-parameter" href="#VUID-vkCmdWaitEvents-pEvents-parameter"></a> <code>pEvents</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>eventCount</code> valid <a href="#VkEvent">VkEvent</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-srcStageMask-parameter" href="#VUID-vkCmdWaitEvents-srcStageMask-parameter"></a> <code>srcStageMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-srcStageMask-requiredbitmask" href="#VUID-vkCmdWaitEvents-srcStageMask-requiredbitmask"></a> <code>srcStageMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-dstStageMask-parameter" href="#VUID-vkCmdWaitEvents-dstStageMask-parameter"></a> <code>dstStageMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-dstStageMask-requiredbitmask" href="#VUID-vkCmdWaitEvents-dstStageMask-requiredbitmask"></a> <code>dstStageMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-pMemoryBarriers-parameter" href="#VUID-vkCmdWaitEvents-pMemoryBarriers-parameter"></a> If <code>memoryBarrierCount</code> is not <code>0</code>, <code>pMemoryBarriers</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>memoryBarrierCount</code> valid <a href="#VkMemoryBarrier">VkMemoryBarrier</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-pBufferMemoryBarriers-parameter" href="#VUID-vkCmdWaitEvents-pBufferMemoryBarriers-parameter"></a> If <code>bufferMemoryBarrierCount</code> is not <code>0</code>, <code>pBufferMemoryBarriers</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bufferMemoryBarrierCount</code> valid <a href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-pImageMemoryBarriers-parameter" href="#VUID-vkCmdWaitEvents-pImageMemoryBarriers-parameter"></a> If <code>imageMemoryBarrierCount</code> is not <code>0</code>, <code>pImageMemoryBarriers</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>imageMemoryBarrierCount</code> valid <a href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-commandBuffer-recording" href="#VUID-vkCmdWaitEvents-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-commandBuffer-cmdpool" href="#VUID-vkCmdWaitEvents-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-eventCount-arraylength" href="#VUID-vkCmdWaitEvents-eventCount-arraylength"></a> <code>eventCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdWaitEvents-commonparent" href="#VUID-vkCmdWaitEvents-commonparent"></a> Both of <code>commandBuffer</code>, and the elements of <code>pEvents</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-pipeline-barriers"><a class="anchor" href="#synchronization-pipeline-barriers"></a>6.6. Pipeline Barriers</h3>
<div class="paragraph">
<p><a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a> is a synchronization command that inserts a
dependency between commands submitted to the same queue, or between commands
in the same subpass.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record a pipeline barrier, call:</p>
</div>
<div id="vkCmdPipelineBarrier" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdPipelineBarrier(
    VkCommandBuffer                             commandBuffer,
    VkPipelineStageFlags                        srcStageMask,
    VkPipelineStageFlags                        dstStageMask,
    VkDependencyFlags                           dependencyFlags,
    uint32_t                                    memoryBarrierCount,
    <span class="directive">const</span> VkMemoryBarrier*                      pMemoryBarriers,
    uint32_t                                    bufferMemoryBarrierCount,
    <span class="directive">const</span> VkBufferMemoryBarrier*                pBufferMemoryBarriers,
    uint32_t                                    imageMemoryBarrierCount,
    <span class="directive">const</span> VkImageMemoryBarrier*                 pImageMemoryBarriers);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>srcStageMask</code> is a bitmask of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>
specifying the <a href="#synchronization-pipeline-stages-masks">source stage
mask</a>.</p>
</li>
<li>
<p><code>dstStageMask</code> is a bitmask of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>
specifying the <a href="#synchronization-pipeline-stages-masks">destination
stage mask</a>.</p>
</li>
<li>
<p><code>dependencyFlags</code> is a bitmask of <a href="#VkDependencyFlagBits">VkDependencyFlagBits</a>
specifying how execution and memory dependencies are formed.</p>
</li>
<li>
<p><code>memoryBarrierCount</code> is the length of the <code>pMemoryBarriers</code>
array.</p>
</li>
<li>
<p><code>pMemoryBarriers</code> is a pointer to an array of <a href="#VkMemoryBarrier">VkMemoryBarrier</a>
structures.</p>
</li>
<li>
<p><code>bufferMemoryBarrierCount</code> is the length of the
<code>pBufferMemoryBarriers</code> array.</p>
</li>
<li>
<p><code>pBufferMemoryBarriers</code> is a pointer to an array of
<a href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a> structures.</p>
</li>
<li>
<p><code>imageMemoryBarrierCount</code> is the length of the
<code>pImageMemoryBarriers</code> array.</p>
</li>
<li>
<p><code>pImageMemoryBarriers</code> is a pointer to an array of
<a href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a> is submitted to a queue, it defines a memory
dependency between commands that were submitted before it, and those
submitted after it.</p>
</div>
<div class="paragraph">
<p>If <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a> was recorded outside a render pass instance,
the first <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes all commands that occur earlier in
<a href="#synchronization-submission-order">submission order</a>.
If <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a> was recorded inside a render pass instance,
the first synchronization scope includes only commands that occur earlier in
<a href="#synchronization-submission-order">submission order</a> within the same
subpass.
In either case, the first synchronization scope is limited to operations on
the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by
<code>srcStageMask</code>.</p>
</div>
<div class="paragraph">
<p>If <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a> was recorded outside a render pass instance,
the second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes all commands that occur later in
<a href="#synchronization-submission-order">submission order</a>.
If <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a> was recorded inside a render pass instance,
the second synchronization scope includes only commands that occur later in
<a href="#synchronization-submission-order">submission order</a> within the same
subpass.
In either case, the second synchronization scope is limited to operations on
the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by <code>dstStageMask</code>.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by
<code>srcStageMask</code>.
Within that, the first access scope only includes the first access scopes
defined by elements of the <code>pMemoryBarriers</code>,
<code>pBufferMemoryBarriers</code> and <code>pImageMemoryBarriers</code> arrays, which
each define a set of <a href="#synchronization-memory-barriers">memory barriers</a>.
If no memory barriers are specified, then the first access scope includes no
accesses.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by <code>dstStageMask</code>.
Within that, the second access scope only includes the second access scopes
defined by elements of the <code>pMemoryBarriers</code>,
<code>pBufferMemoryBarriers</code> and <code>pImageMemoryBarriers</code> arrays, which
each define a set of <a href="#synchronization-memory-barriers">memory barriers</a>.
If no memory barriers are specified, then the second access scope includes
no accesses.</p>
</div>
<div class="paragraph">
<p>If <code>dependencyFlags</code> includes <code>VK_DEPENDENCY_BY_REGION_BIT</code>, then
any dependency between <a href="#synchronization-framebuffer-regions">framebuffer-space</a> pipeline stages is
<a href="#synchronization-framebuffer-regions">framebuffer-local</a> - otherwise it is
<a href="#synchronization-framebuffer-regions">framebuffer-global</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-srcStageMask-01168" href="#VUID-vkCmdPipelineBarrier-srcStageMask-01168"></a>
If the <a href="#features-geometryShader">geometry shaders</a> feature is not
enabled, <code>srcStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-dstStageMask-01169" href="#VUID-vkCmdPipelineBarrier-dstStageMask-01169"></a>
If the <a href="#features-geometryShader">geometry shaders</a> feature is not
enabled, <code>dstStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-srcStageMask-01170" href="#VUID-vkCmdPipelineBarrier-srcStageMask-01170"></a>
If the <a href="#features-tessellationShader">tessellation shaders</a> feature is
not enabled, <code>srcStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-dstStageMask-01171" href="#VUID-vkCmdPipelineBarrier-dstStageMask-01171"></a>
If the <a href="#features-tessellationShader">tessellation shaders</a> feature is
not enabled, <code>dstStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-pDependencies-02285" href="#VUID-vkCmdPipelineBarrier-pDependencies-02285"></a>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
the render pass <strong class="purple">must</strong> have been created with at least one
<code>VkSubpassDependency</code> instance in
<code>VkRenderPassCreateInfo</code>::<code>pDependencies</code> that expresses a
dependency from the current subpass to itself, and for which
<code>srcStageMask</code> contains a subset of the bit values in
<code>VkSubpassDependency</code>::<code>srcStageMask</code>, <code>dstStageMask</code>
contains a subset of the bit values in
<code>VkSubpassDependency</code>::<code>dstStageMask</code>, <code>dependencyFlags</code> is
equal to <code>VkSubpassDependency</code>::<code>dependencyFlags</code>,
<code>srcAccessMask</code> member of each element of <code>pMemoryBarriers</code> and
<code>pImageMemoryBarriers</code> contains a subset of the bit values in
<code>VkSubpassDependency</code>::<code>srcAccessMask</code>, and <code>dstAccessMask</code>
member of each element of <code>pMemoryBarriers</code> and
<code>pImageMemoryBarriers</code> contains a subset of the bit values in
<code>VkSubpassDependency</code>::<code>dstAccessMask</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-bufferMemoryBarrierCount-01178" href="#VUID-vkCmdPipelineBarrier-bufferMemoryBarrierCount-01178"></a>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
<code>bufferMemoryBarrierCount</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-image-02637" href="#VUID-vkCmdPipelineBarrier-image-02637"></a>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
the <code>image</code> member of any element of <code>pImageMemoryBarriers</code>
<strong class="purple">must</strong> be equal to one of the elements of <code>pAttachments</code> that the
current <code>framebuffer</code> was created with, that is also referred to by
one of the elements of the <code>pColorAttachments</code>,
<code>pResolveAttachments</code> or <code>pDepthStencilAttachment</code> members of
the <code>VkSubpassDescription</code> instance that the current subpass was
created with</p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-oldLayout-02638" href="#VUID-vkCmdPipelineBarrier-oldLayout-02638"></a>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
the <code>oldLayout</code> and <code>newLayout</code> members of any element of
<code>pImageMemoryBarriers</code> <strong class="purple">must</strong> be equal to the <code>layout</code> member of
an element of the <code>pColorAttachments</code>, <code>pResolveAttachments</code> or
<code>pDepthStencilAttachment</code> members of the <code>VkSubpassDescription</code>
instance that the current subpass was created with, that refers to the
same <code>image</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-oldLayout-01181" href="#VUID-vkCmdPipelineBarrier-oldLayout-01181"></a>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
the <code>oldLayout</code> and <code>newLayout</code> members of an element of
<code>pImageMemoryBarriers</code> <strong class="purple">must</strong> be equal</p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-srcQueueFamilyIndex-01182" href="#VUID-vkCmdPipelineBarrier-srcQueueFamilyIndex-01182"></a>
If <code>vkCmdPipelineBarrier</code> is called within a render pass instance,
the <code>srcQueueFamilyIndex</code> and <code>dstQueueFamilyIndex</code> members of
any element of <code>pImageMemoryBarriers</code> <strong class="purple">must</strong> be
<code>VK_QUEUE_FAMILY_IGNORED</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-srcStageMask-01183" href="#VUID-vkCmdPipelineBarrier-srcStageMask-01183"></a>
Any pipeline stage included in <code>srcStageMask</code> or <code>dstStageMask</code>
<strong class="purple">must</strong> be supported by the capabilities of the queue family specified by
the <code>queueFamilyIndex</code> member of the <a href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a>
structure that was used to create the <code>VkCommandPool</code> that
<code>commandBuffer</code> was allocated from, as specified in the
<a href="#synchronization-pipeline-stages-supported">table of supported pipeline
stages</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-srcAccessMask-02815" href="#VUID-vkCmdPipelineBarrier-srcAccessMask-02815"></a>
The <code>srcAccessMask</code> member of each element of <code>pMemoryBarriers</code>
<strong class="purple">must</strong> only include access flags that are supported by one or more of the
pipeline stages in <code>srcStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-dstAccessMask-02816" href="#VUID-vkCmdPipelineBarrier-dstAccessMask-02816"></a>
The <code>dstAccessMask</code> member of each element of <code>pMemoryBarriers</code>
<strong class="purple">must</strong> only include access flags that are supported by one or more of the
pipeline stages in <code>dstStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-pBufferMemoryBarriers-02817" href="#VUID-vkCmdPipelineBarrier-pBufferMemoryBarriers-02817"></a>
For any element of <code>pBufferMemoryBarriers</code>, if its
<code>srcQueueFamilyIndex</code> and <code>dstQueueFamilyIndex</code> members are
equal, or if its <code>srcQueueFamilyIndex</code> is the queue family index
that was used to create the command pool that <code>commandBuffer</code> was
allocated from, then its <code>srcAccessMask</code> member <strong class="purple">must</strong> only contain
access flags that are supported by one or more of the pipeline stages in
<code>srcStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-pBufferMemoryBarriers-02818" href="#VUID-vkCmdPipelineBarrier-pBufferMemoryBarriers-02818"></a>
For any element of <code>pBufferMemoryBarriers</code>, if its
<code>srcQueueFamilyIndex</code> and <code>dstQueueFamilyIndex</code> members are
equal, or if its <code>dstQueueFamilyIndex</code> is the queue family index
that was used to create the command pool that <code>commandBuffer</code> was
allocated from, then its <code>dstAccessMask</code> member <strong class="purple">must</strong> only contain
access flags that are supported by one or more of the pipeline stages in
<code>dstStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-pImageMemoryBarriers-02819" href="#VUID-vkCmdPipelineBarrier-pImageMemoryBarriers-02819"></a>
For any element of <code>pImageMemoryBarriers</code>, if its
<code>srcQueueFamilyIndex</code> and <code>dstQueueFamilyIndex</code> members are
equal, or if its <code>srcQueueFamilyIndex</code> is the queue family index
that was used to create the command pool that <code>commandBuffer</code> was
allocated from, then its <code>srcAccessMask</code> member <strong class="purple">must</strong> only contain
access flags that are supported by one or more of the pipeline stages in
<code>srcStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-pImageMemoryBarriers-02820" href="#VUID-vkCmdPipelineBarrier-pImageMemoryBarriers-02820"></a>
For any element of <code>pImageMemoryBarriers</code>, if its
<code>srcQueueFamilyIndex</code> and <code>dstQueueFamilyIndex</code> members are
equal, or if its <code>dstQueueFamilyIndex</code> is the queue family index
that was used to create the command pool that <code>commandBuffer</code> was
allocated from, then its <code>dstAccessMask</code> member <strong class="purple">must</strong> only contain
access flags that are supported by one or more of the pipeline stages in
<code>dstStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-commandBuffer-parameter" href="#VUID-vkCmdPipelineBarrier-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-srcStageMask-parameter" href="#VUID-vkCmdPipelineBarrier-srcStageMask-parameter"></a> <code>srcStageMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-srcStageMask-requiredbitmask" href="#VUID-vkCmdPipelineBarrier-srcStageMask-requiredbitmask"></a> <code>srcStageMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-dstStageMask-parameter" href="#VUID-vkCmdPipelineBarrier-dstStageMask-parameter"></a> <code>dstStageMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-dstStageMask-requiredbitmask" href="#VUID-vkCmdPipelineBarrier-dstStageMask-requiredbitmask"></a> <code>dstStageMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-dependencyFlags-parameter" href="#VUID-vkCmdPipelineBarrier-dependencyFlags-parameter"></a> <code>dependencyFlags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkDependencyFlagBits">VkDependencyFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-pMemoryBarriers-parameter" href="#VUID-vkCmdPipelineBarrier-pMemoryBarriers-parameter"></a> If <code>memoryBarrierCount</code> is not <code>0</code>, <code>pMemoryBarriers</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>memoryBarrierCount</code> valid <a href="#VkMemoryBarrier">VkMemoryBarrier</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-pBufferMemoryBarriers-parameter" href="#VUID-vkCmdPipelineBarrier-pBufferMemoryBarriers-parameter"></a> If <code>bufferMemoryBarrierCount</code> is not <code>0</code>, <code>pBufferMemoryBarriers</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bufferMemoryBarrierCount</code> valid <a href="#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-pImageMemoryBarriers-parameter" href="#VUID-vkCmdPipelineBarrier-pImageMemoryBarriers-parameter"></a> If <code>imageMemoryBarrierCount</code> is not <code>0</code>, <code>pImageMemoryBarriers</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>imageMemoryBarrierCount</code> valid <a href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-commandBuffer-recording" href="#VUID-vkCmdPipelineBarrier-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPipelineBarrier-commandBuffer-cmdpool" href="#VUID-vkCmdPipelineBarrier-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support transfer, graphics, or compute operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer<br>
Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <code>vkCmdPipelineBarrier</code>::<code>dependencyFlags</code>,
specifying how execution and memory dependencies are formed, are:</p>
</div>
<div id="VkDependencyFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkDependencyFlagBits {
    VK_DEPENDENCY_BY_REGION_BIT = <span class="hex">0x00000001</span>,
    VK_DEPENDENCY_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkDependencyFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPENDENCY_BY_REGION_BIT</code> specifies that dependencies will be
<a href="#synchronization-framebuffer-regions">framebuffer-local</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDependencyFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkDependencyFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDependencyFlags</code> is a bitmask type for setting a mask of zero or more
<a href="#VkDependencyFlagBits">VkDependencyFlagBits</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="synchronization-pipeline-barriers-subpass-self-dependencies"><a class="anchor" href="#synchronization-pipeline-barriers-subpass-self-dependencies"></a>6.6.1. Subpass Self-dependency</h4>
<div class="paragraph">
<p>If <code>vkCmdPipelineBarrier</code> is called inside a render pass instance, the
following restrictions apply.
For a given subpass to allow a pipeline barrier, the render pass <strong class="purple">must</strong>
declare a <em>self-dependency</em> from that subpass to itself.
That is, there <strong class="purple">must</strong> exist a <code>VkSubpassDependency</code> in the subpass
dependency list for the render pass with <code>srcSubpass</code> and
<code>dstSubpass</code> equal to that subpass index.
More than one self-dependency <strong class="purple">can</strong> be declared for each subpass.</p>
</div>
<div class="paragraph">
<p>Self-dependencies <strong class="purple">must</strong> only include pipeline stage bits that are graphics
stages.
If any of the stages in <code>srcStages</code> are
<a href="#synchronization-framebuffer-regions">framebuffer-space stages</a>,
<code>dstStages</code> <strong class="purple">must</strong> only contain
<a href="#synchronization-framebuffer-regions">framebuffer-space stages</a>.
Additionally, <code>srcStages</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code> in a self-dependency.</p>
</div>
<div class="paragraph">
<p>If the source and destination stage masks both include framebuffer-space
stages, then <code>dependencyFlags</code> <strong class="purple">must</strong> include
<code>VK_DEPENDENCY_BY_REGION_BIT</code>.</p>
</div>
<div class="paragraph">
<p>A <code>vkCmdPipelineBarrier</code> command inside a render pass instance <strong class="purple">must</strong> be
a <em>subset</em> of one of the self-dependencies of the subpass it is used in,
meaning that the stage masks and access masks <strong class="purple">must</strong> each include only a
subset of the bits of the corresponding mask in that self-dependency.
If the self-dependency has <code>VK_DEPENDENCY_BY_REGION_BIT</code>
set, then so <strong class="purple">must</strong> the pipeline barrier.
Pipeline barriers within a render pass instance <strong class="purple">can</strong> only be types
<code>VkMemoryBarrier</code> or <code>VkImageMemoryBarrier</code>.
If a <code>VkImageMemoryBarrier</code> is used, the image and image subresource
range specified in the barrier <strong class="purple">must</strong> be a subset of one of the image views
used by the framebuffer in the current subpass.
Additionally, <code>oldLayout</code> <strong class="purple">must</strong> be equal to <code>newLayout</code>, and both
the <code>srcQueueFamilyIndex</code> and <code>dstQueueFamilyIndex</code> <strong class="purple">must</strong> be
<code>VK_QUEUE_FAMILY_IGNORED</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-memory-barriers"><a class="anchor" href="#synchronization-memory-barriers"></a>6.7. Memory Barriers</h3>
<div class="paragraph">
<p><em>Memory barriers</em> are used to explicitly control access to buffer and image
subresource ranges.
Memory barriers are used to <a href="#synchronization-queue-transfers">transfer
ownership between queue families</a>,
<a href="#synchronization-image-layout-transitions">change image layouts</a>, and
define <a href="#synchronization-dependencies-available-and-visible">availability
and visibility operations</a>.
They explicitly define the <a href="#synchronization-access-types">access types</a>
and buffer and image subresource ranges that are included in the
<a href="#synchronization-dependencies-access-scopes">access scopes</a> of a memory
dependency that is created by a synchronization command that includes them.</p>
</div>
<div class="sect3">
<h4 id="synchronization-global-memory-barriers"><a class="anchor" href="#synchronization-global-memory-barriers"></a>6.7.1. Global Memory Barriers</h4>
<div class="paragraph">
<p>Global memory barriers apply to memory accesses involving all memory objects
that exist at the time of its execution.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkMemoryBarrier</code> structure is defined as:</p>
</div>
<div id="VkMemoryBarrier" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkMemoryBarrier {
    VkStructureType    sType;
    <span class="directive">const</span> <span class="directive">void</span>*        pNext;
    VkAccessFlags      srcAccessMask;
    VkAccessFlags      dstAccessMask;
} VkMemoryBarrier;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>srcAccessMask</code> is a bitmask of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> specifying a
<a href="#synchronization-access-masks">source access mask</a>.</p>
</li>
<li>
<p><code>dstAccessMask</code> is a bitmask of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> specifying a
<a href="#synchronization-access-masks">destination access mask</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access types in the <a href="#synchronization-access-masks">source access
mask</a> specified by <code>srcAccessMask</code>.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access types in the <a href="#synchronization-access-masks">destination
access mask</a> specified by <code>dstAccessMask</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMemoryBarrier-sType-sType" href="#VUID-VkMemoryBarrier-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_MEMORY_BARRIER</code></p>
</li>
<li>
<p><a id="VUID-VkMemoryBarrier-pNext-pNext" href="#VUID-VkMemoryBarrier-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkMemoryBarrier-srcAccessMask-parameter" href="#VUID-VkMemoryBarrier-srcAccessMask-parameter"></a> <code>srcAccessMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkMemoryBarrier-dstAccessMask-parameter" href="#VUID-VkMemoryBarrier-dstAccessMask-parameter"></a> <code>dstAccessMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="synchronization-buffer-memory-barriers"><a class="anchor" href="#synchronization-buffer-memory-barriers"></a>6.7.2. Buffer Memory Barriers</h4>
<div class="paragraph">
<p>Buffer memory barriers only apply to memory accesses involving a specific
buffer range.
That is, a memory dependency formed from a buffer memory barrier is
<a href="#synchronization-dependencies-access-scopes">scoped</a> to access via the
specified buffer range.
Buffer memory barriers <strong class="purple">can</strong> also be used to define a
<a href="#synchronization-queue-transfers">queue family ownership transfer</a> for the
specified buffer range.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBufferMemoryBarrier</code> structure is defined as:</p>
</div>
<div id="VkBufferMemoryBarrier" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkBufferMemoryBarrier {
    VkStructureType    sType;
    <span class="directive">const</span> <span class="directive">void</span>*        pNext;
    VkAccessFlags      srcAccessMask;
    VkAccessFlags      dstAccessMask;
    uint32_t           srcQueueFamilyIndex;
    uint32_t           dstQueueFamilyIndex;
    VkBuffer           buffer;
    VkDeviceSize       offset;
    VkDeviceSize       size;
} VkBufferMemoryBarrier;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>srcAccessMask</code> is a bitmask of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> specifying a
<a href="#synchronization-access-masks">source access mask</a>.</p>
</li>
<li>
<p><code>dstAccessMask</code> is a bitmask of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> specifying a
<a href="#synchronization-access-masks">destination access mask</a>.</p>
</li>
<li>
<p><code>srcQueueFamilyIndex</code> is the source queue family for a
<a href="#synchronization-queue-transfers">queue family ownership transfer</a>.</p>
</li>
<li>
<p><code>dstQueueFamilyIndex</code> is the destination queue family for a
<a href="#synchronization-queue-transfers">queue family ownership transfer</a>.</p>
</li>
<li>
<p><code>buffer</code> is a handle to the buffer whose backing memory is affected
by the barrier.</p>
</li>
<li>
<p><code>offset</code> is an offset in bytes into the backing memory for
<code>buffer</code>; this is relative to the base offset as bound to the buffer
(see <a href="#vkBindBufferMemory">vkBindBufferMemory</a>).</p>
</li>
<li>
<p><code>size</code> is a size in bytes of the affected area of backing memory for
<code>buffer</code>, or <code>VK_WHOLE_SIZE</code> to use the range from <code>offset</code>
to the end of the buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access to memory through the specified buffer range, via access
types in the <a href="#synchronization-access-masks">source access mask</a> specified
by <code>srcAccessMask</code>.
If <code>srcAccessMask</code> includes <code>VK_ACCESS_HOST_WRITE_BIT</code>, memory
writes performed by that access type are also made visible, as that access
type is not performed through a resource.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access to memory through the specified buffer range, via access
types in the <a href="#synchronization-access-masks">destination access mask</a>.
specified by <code>dstAccessMask</code>.
If <code>dstAccessMask</code> includes <code>VK_ACCESS_HOST_WRITE_BIT</code> or
<code>VK_ACCESS_HOST_READ_BIT</code>, available memory writes are also made visible
to accesses of those types, as those access types are not performed through
a resource.</p>
</div>
<div class="paragraph">
<p>If <code>srcQueueFamilyIndex</code> is not equal to <code>dstQueueFamilyIndex</code>, and
<code>srcQueueFamilyIndex</code> is equal to the current queue family, then the
memory barrier defines a <a href="#synchronization-queue-transfers-release">queue
family release operation</a> for the specified buffer range, and the second
access scope includes no access, as if <code>dstAccessMask</code> was <code>0</code>.</p>
</div>
<div class="paragraph">
<p>If <code>dstQueueFamilyIndex</code> is not equal to <code>srcQueueFamilyIndex</code>, and
<code>dstQueueFamilyIndex</code> is equal to the current queue family, then the
memory barrier defines a <a href="#synchronization-queue-transfers-acquire">queue
family acquire operation</a> for the specified buffer range, and the first
access scope includes no access, as if <code>srcAccessMask</code> was <code>0</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferMemoryBarrier-offset-01187" href="#VUID-VkBufferMemoryBarrier-offset-01187"></a>
<code>offset</code> <strong class="purple">must</strong> be less than the size of <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-VkBufferMemoryBarrier-size-01188" href="#VUID-VkBufferMemoryBarrier-size-01188"></a>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <strong class="purple">must</strong> be
greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkBufferMemoryBarrier-size-01189" href="#VUID-VkBufferMemoryBarrier-size-01189"></a>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <strong class="purple">must</strong> be
less than or equal to than the size of <code>buffer</code> minus <code>offset</code></p>
</li>
<li>
<p><a id="VUID-VkBufferMemoryBarrier-buffer-01190" href="#VUID-VkBufferMemoryBarrier-buffer-01190"></a>
If <code>buffer</code> was created with a sharing mode of
<code>VK_SHARING_MODE_CONCURRENT</code>, <code>srcQueueFamilyIndex</code> and
<code>dstQueueFamilyIndex</code> <strong class="purple">must</strong> both be <code>VK_QUEUE_FAMILY_IGNORED</code></p>
</li>
<li>
<p><a id="VUID-VkBufferMemoryBarrier-buffer-01192" href="#VUID-VkBufferMemoryBarrier-buffer-01192"></a>
If <code>buffer</code> was created with a sharing mode of
<code>VK_SHARING_MODE_EXCLUSIVE</code>, <code>srcQueueFamilyIndex</code> and
<code>dstQueueFamilyIndex</code> <strong class="purple">must</strong> either both be
<code>VK_QUEUE_FAMILY_IGNORED</code>, or both be a valid queue family (see
<a href="#devsandqueues-queueprops">Queue Family Properties</a>)</p>
</li>
<li>
<p><a id="VUID-VkBufferMemoryBarrier-buffer-01196" href="#VUID-VkBufferMemoryBarrier-buffer-01196"></a>
If <code>buffer</code> was created with a sharing mode of
<code>VK_SHARING_MODE_EXCLUSIVE</code>, and <code>srcQueueFamilyIndex</code> and
<code>dstQueueFamilyIndex</code> are not <code>VK_QUEUE_FAMILY_IGNORED</code>, at
least one of them <strong class="purple">must</strong> be the same as the family of the queue that will
execute this barrier</p>
</li>
<li>
<p><a id="VUID-VkBufferMemoryBarrier-buffer-01931" href="#VUID-VkBufferMemoryBarrier-buffer-01931"></a>
If <code>buffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferMemoryBarrier-sType-sType" href="#VUID-VkBufferMemoryBarrier-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_BUFFER_MEMORY_BARRIER</code></p>
</li>
<li>
<p><a id="VUID-VkBufferMemoryBarrier-pNext-pNext" href="#VUID-VkBufferMemoryBarrier-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkBufferMemoryBarrier-buffer-parameter" href="#VUID-VkBufferMemoryBarrier-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="synchronization-image-memory-barriers"><a class="anchor" href="#synchronization-image-memory-barriers"></a>6.7.3. Image Memory Barriers</h4>
<div class="paragraph">
<p>Image memory barriers only apply to memory accesses involving a specific
image subresource range.
That is, a memory dependency formed from an image memory barrier is
<a href="#synchronization-dependencies-access-scopes">scoped</a> to access via the
specified image subresource range.
Image memory barriers <strong class="purple">can</strong> also be used to define
<a href="#synchronization-image-layout-transitions">image layout transitions</a> or a
<a href="#synchronization-queue-transfers">queue family ownership transfer</a> for the
specified image subresource range.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageMemoryBarrier</code> structure is defined as:</p>
</div>
<div id="VkImageMemoryBarrier" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageMemoryBarrier {
    VkStructureType            sType;
    <span class="directive">const</span> <span class="directive">void</span>*                pNext;
    VkAccessFlags              srcAccessMask;
    VkAccessFlags              dstAccessMask;
    VkImageLayout              oldLayout;
    VkImageLayout              newLayout;
    uint32_t                   srcQueueFamilyIndex;
    uint32_t                   dstQueueFamilyIndex;
    VkImage                    image;
    VkImageSubresourceRange    subresourceRange;
} VkImageMemoryBarrier;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>srcAccessMask</code> is a bitmask of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> specifying a
<a href="#synchronization-access-masks">source access mask</a>.</p>
</li>
<li>
<p><code>dstAccessMask</code> is a bitmask of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> specifying a
<a href="#synchronization-access-masks">destination access mask</a>.</p>
</li>
<li>
<p><code>oldLayout</code> is the old layout in an
<a href="#synchronization-image-layout-transitions">image layout transition</a>.</p>
</li>
<li>
<p><code>newLayout</code> is the new layout in an
<a href="#synchronization-image-layout-transitions">image layout transition</a>.</p>
</li>
<li>
<p><code>srcQueueFamilyIndex</code> is the source queue family for a
<a href="#synchronization-queue-transfers">queue family ownership transfer</a>.</p>
</li>
<li>
<p><code>dstQueueFamilyIndex</code> is the destination queue family for a
<a href="#synchronization-queue-transfers">queue family ownership transfer</a>.</p>
</li>
<li>
<p><code>image</code> is a handle to the image affected by this barrier.</p>
</li>
<li>
<p><code>subresourceRange</code> describes the <a href="#resources-image-views">image
subresource range</a> within <code>image</code> that is affected by this barrier.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access to memory through the specified image subresource range,
via access types in the <a href="#synchronization-access-masks">source access mask</a>
specified by <code>srcAccessMask</code>.
If <code>srcAccessMask</code> includes <code>VK_ACCESS_HOST_WRITE_BIT</code>, memory
writes performed by that access type are also made visible, as that access
type is not performed through a resource.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access to memory through the specified image subresource range,
via access types in the <a href="#synchronization-access-masks">destination access
mask</a> specified by <code>dstAccessMask</code>.
If <code>dstAccessMask</code> includes <code>VK_ACCESS_HOST_WRITE_BIT</code> or
<code>VK_ACCESS_HOST_READ_BIT</code>, available memory writes are also made visible
to accesses of those types, as those access types are not performed through
a resource.</p>
</div>
<div class="paragraph">
<p>If <code>srcQueueFamilyIndex</code> is not equal to <code>dstQueueFamilyIndex</code>, and
<code>srcQueueFamilyIndex</code> is equal to the current queue family, then the
memory barrier defines a <a href="#synchronization-queue-transfers-release">queue
family release operation</a> for the specified image subresource range, and
the second access scope includes no access, as if <code>dstAccessMask</code> was
<code>0</code>.</p>
</div>
<div class="paragraph">
<p>If <code>dstQueueFamilyIndex</code> is not equal to <code>srcQueueFamilyIndex</code>, and
<code>dstQueueFamilyIndex</code> is equal to the current queue family, then the
memory barrier defines a <a href="#synchronization-queue-transfers-acquire">queue
family acquire operation</a> for the specified image subresource range, and
the first access scope includes no access, as if <code>srcAccessMask</code> was
<code>0</code>.</p>
</div>
<div class="paragraph">
<p>If <code>oldLayout</code> is not equal to <code>newLayout</code>, then the memory barrier
defines an <a href="#synchronization-image-layout-transitions">image layout
transition</a> for the specified image subresource range.</p>
</div>
<div id="synchronization-image-barrier-layout-transition-order" class="paragraph">
<p>Layout transitions that are performed via image memory barriers execute in
their entirety in <a href="#synchronization-submission-order">submission order</a>,
relative to other image layout transitions submitted to the same queue,
including those performed by <a href="#renderpass">render passes</a>.
In effect there is an implicit execution dependency from each such layout
transition to all layout transitions previously submitted to the same queue.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageMemoryBarrier-oldLayout-01197" href="#VUID-VkImageMemoryBarrier-oldLayout-01197"></a>
<code>oldLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or the current
layout of the image subresources affected by the barrier</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-newLayout-01198" href="#VUID-VkImageMemoryBarrier-newLayout-01198"></a>
<code>newLayout</code> <strong class="purple">must</strong> not be <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code></p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-image-01199" href="#VUID-VkImageMemoryBarrier-image-01199"></a>
If <code>image</code> was created with a sharing mode of
<code>VK_SHARING_MODE_CONCURRENT</code>, <code>srcQueueFamilyIndex</code> and
<code>dstQueueFamilyIndex</code> <strong class="purple">must</strong> both be <code>VK_QUEUE_FAMILY_IGNORED</code></p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-image-01200" href="#VUID-VkImageMemoryBarrier-image-01200"></a>
If <code>image</code> was created with a sharing mode of
<code>VK_SHARING_MODE_EXCLUSIVE</code>, <code>srcQueueFamilyIndex</code> and
<code>dstQueueFamilyIndex</code> <strong class="purple">must</strong> either both be
<code>VK_QUEUE_FAMILY_IGNORED</code>, or both be a valid queue family (see
<a href="#devsandqueues-queueprops">Queue Family Properties</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-image-01205" href="#VUID-VkImageMemoryBarrier-image-01205"></a>
If <code>image</code> was created with a sharing mode of
<code>VK_SHARING_MODE_EXCLUSIVE</code>, and <code>srcQueueFamilyIndex</code> and
<code>dstQueueFamilyIndex</code> are not <code>VK_QUEUE_FAMILY_IGNORED</code>, at
least one of them <strong class="purple">must</strong> be the same as the family of the queue that will
execute this barrier</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-subresourceRange-01486" href="#VUID-VkImageMemoryBarrier-subresourceRange-01486"></a>
<code>subresourceRange.baseMipLevel</code> <strong class="purple">must</strong> be less than the
<code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-subresourceRange-01724" href="#VUID-VkImageMemoryBarrier-subresourceRange-01724"></a>
If <code>subresourceRange.levelCount</code> is not
<code>VK_REMAINING_MIP_LEVELS</code>, <span class="eq"><code>subresourceRange.baseMipLevel</code>
+  <code>subresourceRange.levelCount</code></span> <strong class="purple">must</strong> be less than or equal to
the <code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when
<code>image</code> was created</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-subresourceRange-01488" href="#VUID-VkImageMemoryBarrier-subresourceRange-01488"></a>
<code>subresourceRange.baseArrayLayer</code> <strong class="purple">must</strong> be less than the
<code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-subresourceRange-01725" href="#VUID-VkImageMemoryBarrier-subresourceRange-01725"></a>
If <code>subresourceRange.layerCount</code> is not
<code>VK_REMAINING_ARRAY_LAYERS</code>,
<span class="eq"><code>subresourceRange.baseArrayLayer</code> + 
<code>subresourceRange.layerCount</code></span> <strong class="purple">must</strong> be less than or equal to the
<code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-image-01207" href="#VUID-VkImageMemoryBarrier-image-01207"></a>
If <code>image</code> has a depth/stencil format with both depth and stencil
components, then the <code>aspectMask</code> member of <code>subresourceRange</code>
<strong class="purple">must</strong> include both <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> and
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-image-02902" href="#VUID-VkImageMemoryBarrier-image-02902"></a>
If <code>image</code> has a color format, then the <code>aspectMask</code> member of
<code>subresourceRange</code> <strong class="purple">must</strong> only include
<code>VK_IMAGE_ASPECT_COLOR_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-oldLayout-01208" href="#VUID-VkImageMemoryBarrier-oldLayout-01208"></a>
If either <code>oldLayout</code> or <code>newLayout</code> is
<code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code> then <code>image</code> <strong class="purple">must</strong>
have been created with <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-oldLayout-01209" href="#VUID-VkImageMemoryBarrier-oldLayout-01209"></a>
If either <code>oldLayout</code> or <code>newLayout</code> is
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code> then <code>image</code>
<strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-oldLayout-01210" href="#VUID-VkImageMemoryBarrier-oldLayout-01210"></a>
If either <code>oldLayout</code> or <code>newLayout</code> is
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> then <code>image</code>
<strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-oldLayout-01211" href="#VUID-VkImageMemoryBarrier-oldLayout-01211"></a>
If either <code>oldLayout</code> or <code>newLayout</code> is
<code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code> then <code>image</code> <strong class="purple">must</strong>
have been created with <code>VK_IMAGE_USAGE_SAMPLED_BIT</code> or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-oldLayout-01212" href="#VUID-VkImageMemoryBarrier-oldLayout-01212"></a>
If either <code>oldLayout</code> or <code>newLayout</code> is
<code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> then <code>image</code> <strong class="purple">must</strong> have
been created with <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-oldLayout-01213" href="#VUID-VkImageMemoryBarrier-oldLayout-01213"></a>
If either <code>oldLayout</code> or <code>newLayout</code> is
<code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> then <code>image</code> <strong class="purple">must</strong> have
been created with <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-image-01932" href="#VUID-VkImageMemoryBarrier-image-01932"></a>
If <code>image</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageMemoryBarrier-sType-sType" href="#VUID-VkImageMemoryBarrier-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER</code></p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-pNext-pNext" href="#VUID-VkImageMemoryBarrier-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-oldLayout-parameter" href="#VUID-VkImageMemoryBarrier-oldLayout-parameter"></a> <code>oldLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-newLayout-parameter" href="#VUID-VkImageMemoryBarrier-newLayout-parameter"></a> <code>newLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-image-parameter" href="#VUID-VkImageMemoryBarrier-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-VkImageMemoryBarrier-subresourceRange-parameter" href="#VUID-VkImageMemoryBarrier-subresourceRange-parameter"></a> <code>subresourceRange</code> <strong class="purple">must</strong> be a valid <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="synchronization-queue-transfers"><a class="anchor" href="#synchronization-queue-transfers"></a>6.7.4. Queue Family Ownership Transfer</h4>
<div class="paragraph">
<p>Resources created with a <a href="#VkSharingMode">VkSharingMode</a> of
<code>VK_SHARING_MODE_EXCLUSIVE</code> <strong class="purple">must</strong> have their ownership explicitly
transferred from one queue family to another in order to access their
content in a well-defined manner on a queue in a different queue family.
If memory dependencies are correctly expressed between uses of such a
resource between two queues in different families, but no ownership transfer
is defined, the contents of that resource are undefined for any read
accesses performed by the second queue family.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If an application does not need the contents of a resource to remain valid
when transferring from one queue family to another, then the ownership
transfer <strong class="purple">should</strong> be skipped.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A queue family ownership transfer consists of two distinct parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Release exclusive ownership from the source queue family</p>
</li>
<li>
<p>Acquire exclusive ownership for the destination queue family</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>An application <strong class="purple">must</strong> ensure that these operations occur in the correct order
by defining an execution dependency between them, e.g. using a semaphore.</p>
</div>
<div class="paragraph">
<p><a id="synchronization-queue-transfers-release"></a> A <em>release operation</em> is used to
release exclusive ownership of a range of a buffer or image subresource
range.
A release operation is defined by executing a
<a href="#synchronization-buffer-memory-barriers">buffer memory barrier</a> (for a
buffer range) or an <a href="#synchronization-image-memory-barriers">image memory
barrier</a> (for an image subresource range) using <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a>,
on a queue from the source queue family.
The <code>srcQueueFamilyIndex</code> parameter of the barrier <strong class="purple">must</strong> be set to the
source queue family index, and the <code>dstQueueFamilyIndex</code> parameter to
the destination queue family index.
<code>dstAccessMask</code> is ignored for such a barrier, such that no visibility
operation is executed - the value of this mask does not affect the validity
of the barrier.
The release operation happens-after the availability operation, and
happens-before operations specified in the second synchronization scope of
the calling command.</p>
</div>
<div class="paragraph">
<p><a id="synchronization-queue-transfers-acquire"></a> An <em>acquire operation</em> is used
to acquire exclusive ownership of a range of a buffer or image subresource
range.
An acquire operation is defined by executing a
<a href="#synchronization-buffer-memory-barriers">buffer memory barrier</a> (for a
buffer range) or an <a href="#synchronization-image-memory-barriers">image memory
barrier</a> (for an image subresource range) using <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a>,
on a queue from the destination queue family.
The buffer range or image subresource range specified in an acquire
operation <strong class="purple">must</strong> match exactly that of a previous release operation.
The <code>srcQueueFamilyIndex</code> parameter of the barrier <strong class="purple">must</strong> be set to the
source queue family index, and the <code>dstQueueFamilyIndex</code> parameter to
the destination queue family index.
<code>srcAccessMask</code> is ignored for such a barrier, such that no availability
operation is executed - the value of this mask does not affect the validity
of the barrier.
The acquire operation happens-after operations in the first synchronization
scope of the calling command, and happens-before the visibility operation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Whilst it is not invalid to provide destination or source access masks for
memory barriers used for release or acquire operations, respectively, they
have no practical effect.
Access after a release operation has undefined results, and so visibility
for those accesses has no practical effect.
Similarly, write access before an acquire operation will produce undefined
results for future access, so availability of those writes has no practical
use.
In an earlier version of the specification, these were required to match on
both sides - but this was subsequently relaxed.
These masks <strong class="purple">should</strong> be set to 0.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the transfer is via an image memory barrier, and an
<a href="#synchronization-image-layout-transitions">image layout transition</a> is
desired, then the values of <code>oldLayout</code> and <code>newLayout</code> in the
<em>release operation</em>'s memory barrier <strong class="purple">must</strong> be equal to values of
<code>oldLayout</code> and <code>newLayout</code> in the <em>acquire operation</em>'s memory
barrier.
Although the image layout transition is submitted twice, it will only be
executed once.
A layout transition specified in this way happens-after the <em>release
operation</em> and happens-before the <em>acquire operation</em>.</p>
</div>
<div class="paragraph">
<p>If the values of <code>srcQueueFamilyIndex</code> and <code>dstQueueFamilyIndex</code> are
equal, no ownership transfer is performed, and the barrier operates as if
they were both set to <code>VK_QUEUE_FAMILY_IGNORED</code>.</p>
</div>
<div class="paragraph">
<p>Queue family ownership transfers <strong class="purple">may</strong> perform read and write accesses on all
memory bound to the image subresource or buffer range, so applications <strong class="purple">must</strong>
ensure that all memory writes have been made
<a href="#synchronization-dependencies-available-and-visible">available</a> before a
queue family ownership transfer is executed.
Available memory is automatically made visible to queue family release and
acquire operations, and writes performed by those operations are
automatically made available.</p>
</div>
<div class="paragraph">
<p>Once a queue family has acquired ownership of a buffer range or image
subresource range of a <code>VK_SHARING_MODE_EXCLUSIVE</code> resource, its
contents are undefined to other queue families unless ownership is
transferred.
The contents of any portion of another resource which aliases memory that is
bound to the transferred buffer or image subresource range are undefined
after a release or acquire operation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Because <a href="#synchronization-events">events</a> <strong class="purple">cannot</strong> be used directly for
inter-queue synchronization, and because <a href="#vkCmdSetEvent">vkCmdSetEvent</a> does not have
the queue family index or memory barrier parameters needed by a <em>release
operation</em>, the release and acquire operations of a queue family ownership
transfer <strong class="purple">can</strong> only be performed using <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-wait-idle"><a class="anchor" href="#synchronization-wait-idle"></a>6.8. Wait Idle Operations</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To wait on the host for the completion of outstanding queue operations for a
given queue, call:</p>
</div>
<div id="vkQueueWaitIdle" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkQueueWaitIdle(
    VkQueue                                     queue);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>queue</code> is the queue on which to wait.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkQueueWaitIdle</code> is equivalent to submitting a fence to a queue and
waiting with an infinite timeout for that fence to signal.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkQueueWaitIdle-queue-parameter" href="#VUID-vkQueueWaitIdle-queue-parameter"></a> <code>queue</code> <strong class="purple">must</strong> be a valid <a href="#VkQueue">VkQueue</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>queue</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To wait on the host for the completion of outstanding queue operations for
all queues on a given logical device, call:</p>
</div>
<div id="vkDeviceWaitIdle" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkDeviceWaitIdle(
    VkDevice                                    device);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device to idle.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkDeviceWaitIdle</code> is equivalent to calling <code>vkQueueWaitIdle</code> for
all queues owned by <code>device</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDeviceWaitIdle-device-parameter" href="#VUID-vkDeviceWaitIdle-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to all <code>VkQueue</code> objects created from <code>device</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="synchronization-submission-host-writes"><a class="anchor" href="#synchronization-submission-host-writes"></a>6.9. Host Write Ordering Guarantees</h3>
<div class="paragraph">
<p>When batches of command buffers are submitted to a queue via
<a href="#vkQueueSubmit">vkQueueSubmit</a>, it defines a memory dependency with prior host
operations, and execution of command buffers submitted to the queue.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-scopes">synchronization scope</a> is
defined by the host execution model, but includes execution of
<a href="#vkQueueSubmit">vkQueueSubmit</a> on the host and anything that happened-before it.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-scopes">synchronization scope</a>
includes all commands submitted in the same <a href="#devsandqueues-submission">queue submission</a>, and all commands that occur later in
<a href="#synchronization-submission-order">submission order</a>.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a>
includes all host writes to mappable device memory that are available to the
host memory domain.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a>
includes all memory access performed by the device.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="renderpass"><a class="anchor" href="#renderpass"></a>7. Render Pass</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A <em>render pass</em> represents a collection of attachments, subpasses, and
dependencies between the subpasses, and describes how the attachments are
used over the course of the subpasses.
The use of a render pass in a command buffer is a <em>render pass instance</em>.</p>
</div>
<div class="paragraph">
<p>Render passes are represented by <code>VkRenderPass</code> handles:</p>
</div>
<div id="VkRenderPass" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkRenderPass)</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>An <em>attachment description</em> describes the properties of an attachment
including its format, sample count, and how its contents are treated at the
beginning and end of each render pass instance.</p>
</div>
<div id="renderpass-subpass" class="paragraph">
<p>A <em>subpass</em> represents a phase of rendering that reads and writes a subset
of the attachments in a render pass.
Rendering commands are recorded into a particular subpass of a render pass
instance.</p>
</div>
<div class="paragraph">
<p>A <em>subpass description</em> describes the subset of attachments that is involved
in the execution of a subpass.
Each subpass <strong class="purple">can</strong> read from some attachments as <em>input attachments</em>, write
to some as <em>color attachments</em> or <em>depth/stencil attachments</em>, and perform
<em>multisample resolve operations</em> to <em>resolve attachments</em>.
A subpass description <strong class="purple">can</strong> also include a set of <em>preserve attachments</em>,
which are attachments that are not read or written by the subpass but whose
contents <strong class="purple">must</strong> be preserved throughout the subpass.</p>
</div>
<div class="paragraph">
<p>A subpass <em>uses an attachment</em> if the attachment is a color, depth/stencil,
resolve,
or input attachment for that subpass (as determined by the
<code>pColorAttachments</code>, <code>pDepthStencilAttachment</code>,
<code>pResolveAttachments</code>,
and <code>pInputAttachments</code> members of <a href="#VkSubpassDescription">VkSubpassDescription</a>,
respectively).
A subpass does not use an attachment if that attachment is preserved by the
subpass.
The <em>first use of an attachment</em> is in the lowest numbered subpass that uses
that attachment.
Similarly, the <em>last use of an attachment</em> is in the highest numbered
subpass that uses that attachment.</p>
</div>
<div class="paragraph">
<p>The subpasses in a render pass all render to the same dimensions, and
fragments for pixel (x,y,layer) in one subpass <strong class="purple">can</strong> only read attachment
contents written by previous subpasses at that same (x,y,layer) location.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>By describing a complete set of subpasses in advance, render passes provide
the implementation an opportunity to optimize the storage and transfer of
attachment data between subpasses.</p>
</div>
<div class="paragraph">
<p>In practice, this means that subpasses with a simple framebuffer-space
dependency <strong class="purple">may</strong> be merged into a single tiled rendering pass, keeping the
attachment data on-chip for the duration of a render pass instance.
However, it is also quite common for a render pass to only contain a single
subpass.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Subpass dependencies</em> describe <a href="#synchronization-dependencies">execution
and memory dependencies</a> between subpasses.</p>
</div>
<div class="paragraph">
<p>A <em>subpass dependency chain</em> is a sequence of subpass dependencies in a
render pass, where the source subpass of each subpass dependency (after the
first) equals the destination subpass of the previous dependency.</p>
</div>
<div class="paragraph">
<p>Execution of subpasses <strong class="purple">may</strong> overlap or execute out of order with regards to
other subpasses, unless otherwise enforced by an execution dependency.
Each subpass only respects <a href="#synchronization-submission-order">submission
order</a> for commands recorded in the same subpass, and the
<a href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a> and <a href="#vkCmdEndRenderPass">vkCmdEndRenderPass</a> commands that
delimit the render pass - commands within other subpasses are not included.
This affects most other <a href="#synchronization-implicit">implicit ordering
guarantees</a>.</p>
</div>
<div class="paragraph">
<p>A render pass describes the structure of subpasses and attachments
independent of any specific image views for the attachments.
The specific image views that will be used for the attachments, and their
dimensions, are specified in <code>VkFramebuffer</code> objects.
Framebuffers are created with respect to a specific render pass that the
framebuffer is compatible with (see <a href="#renderpass-compatibility">Render Pass
Compatibility</a>).
Collectively, a render pass and a framebuffer define the complete render
target state for one or more subpasses as well as the algorithmic
dependencies between the subpasses.</p>
</div>
<div class="paragraph">
<p>The various pipeline stages of the drawing commands for a given subpass <strong class="purple">may</strong>
execute concurrently and/or out of order, both within and across drawing
commands, whilst still respecting <a href="#synchronization-pipeline-stages-order">pipeline order</a>.
However for a given (x,y,layer,sample) sample location, certain per-sample
operations are performed in <a href="#primrast-order">rasterization order</a>.</p>
</div>
<div class="sect2">
<h3 id="renderpass-creation"><a class="anchor" href="#renderpass-creation"></a>7.1. Render Pass Creation</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a render pass, call:</p>
</div>
<div id="vkCreateRenderPass" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateRenderPass(
    VkDevice                                    device,
    <span class="directive">const</span> VkRenderPassCreateInfo*               pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkRenderPass*                               pRenderPass);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the render pass.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a>
structure describing the parameters of the render pass.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pRenderPass</code> is a pointer to a <a href="#VkRenderPass">VkRenderPass</a> handle in which
the resulting render pass object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateRenderPass-device-parameter" href="#VUID-vkCreateRenderPass-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateRenderPass-pCreateInfo-parameter" href="#VUID-vkCreateRenderPass-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateRenderPass-pAllocator-parameter" href="#VUID-vkCreateRenderPass-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateRenderPass-pRenderPass-parameter" href="#VUID-vkCreateRenderPass-pRenderPass-parameter"></a> <code>pRenderPass</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkRenderPass">VkRenderPass</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRenderPassCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkRenderPassCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkRenderPassCreateInfo {
    VkStructureType                   sType;
    <span class="directive">const</span> <span class="directive">void</span>*                       pNext;
    VkRenderPassCreateFlags           flags;
    uint32_t                          attachmentCount;
    <span class="directive">const</span> VkAttachmentDescription*    pAttachments;
    uint32_t                          subpassCount;
    <span class="directive">const</span> VkSubpassDescription*       pSubpasses;
    uint32_t                          dependencyCount;
    <span class="directive">const</span> VkSubpassDependency*        pDependencies;
} VkRenderPassCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>attachmentCount</code> is the number of attachments used by this render
pass.</p>
</li>
<li>
<p><code>pAttachments</code> is a pointer to an array of <code>attachmentCount</code>
<a href="#VkAttachmentDescription">VkAttachmentDescription</a> structures describing the attachments used
by the render pass.</p>
</li>
<li>
<p><code>subpassCount</code> is the number of subpasses to create.</p>
</li>
<li>
<p><code>pSubpasses</code> is a pointer to an array of <code>subpassCount</code>
<a href="#VkSubpassDescription">VkSubpassDescription</a> structures describing each subpass.</p>
</li>
<li>
<p><code>dependencyCount</code> is the number of memory dependencies between pairs
of subpasses.</p>
</li>
<li>
<p><code>pDependencies</code> is a pointer to an array of <code>dependencyCount</code>
<a href="#VkSubpassDependency">VkSubpassDependency</a> structures describing dependencies between
pairs of subpasses.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Care should be taken to avoid a data race here; if any subpasses access
attachments with overlapping memory locations, and one of those accesses is
a write, a subpass dependency needs to be included between them.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-attachment-00834" href="#VUID-VkRenderPassCreateInfo-attachment-00834"></a>
If the <code>attachment</code> member of any element of
<code>pInputAttachments</code>, <code>pColorAttachments</code>,
<code>pResolveAttachments</code> or <code>pDepthStencilAttachment</code>, or any
element of <code>pPreserveAttachments</code> in any element of <code>pSubpasses</code>
is not <code>VK_ATTACHMENT_UNUSED</code>, it <strong class="purple">must</strong> be less than
<code>attachmentCount</code></p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-pAttachments-00836" href="#VUID-VkRenderPassCreateInfo-pAttachments-00836"></a>
For any member of <code>pAttachments</code> with a <code>loadOp</code> equal to
<code>VK_ATTACHMENT_LOAD_OP_CLEAR</code>, the first use of that attachment
<strong class="purple">must</strong> not specify a <code>layout</code> equal to
<code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code> or
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>.</p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-pAttachments-02511" href="#VUID-VkRenderPassCreateInfo-pAttachments-02511"></a>
For any member of <code>pAttachments</code> with a <code>stencilLoadOp</code> equal to
<code>VK_ATTACHMENT_LOAD_OP_CLEAR</code>, the first use of that attachment
<strong class="purple">must</strong> not specify a <code>layout</code> equal to
<code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code> or
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>.</p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-pDependencies-00837" href="#VUID-VkRenderPassCreateInfo-pDependencies-00837"></a>
For any element of <code>pDependencies</code>, if the <code>srcSubpass</code> is not
<code>VK_SUBPASS_EXTERNAL</code>, all stage flags included in the
<code>srcStageMask</code> member of that dependency <strong class="purple">must</strong> be a pipeline stage
supported by the <a href="#synchronization-pipeline-stages-types">pipeline</a>
identified by the <code>pipelineBindPoint</code> member of the source subpass</p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-pDependencies-00838" href="#VUID-VkRenderPassCreateInfo-pDependencies-00838"></a>
For any element of <code>pDependencies</code>, if the <code>dstSubpass</code> is not
<code>VK_SUBPASS_EXTERNAL</code>, all stage flags included in the
<code>dstStageMask</code> member of that dependency <strong class="purple">must</strong> be a pipeline stage
supported by the <a href="#synchronization-pipeline-stages-types">pipeline</a>
identified by the <code>pipelineBindPoint</code> member of the destination
subpass</p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-srcSubpass-02517" href="#VUID-VkRenderPassCreateInfo-srcSubpass-02517"></a>
The <code>srcSubpass</code> member of each element of <code>pDependencies</code> <strong class="purple">must</strong>
be less than <code>subpassCount</code></p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-dstSubpass-02518" href="#VUID-VkRenderPassCreateInfo-dstSubpass-02518"></a>
The <code>dstSubpass</code> member of each element of <code>pDependencies</code> <strong class="purple">must</strong>
be less than <code>subpassCount</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-sType-sType" href="#VUID-VkRenderPassCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-pNext-pNext" href="#VUID-VkRenderPassCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-flags-zerobitmask" href="#VUID-VkRenderPassCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-pAttachments-parameter" href="#VUID-VkRenderPassCreateInfo-pAttachments-parameter"></a> If <code>attachmentCount</code> is not <code>0</code>, <code>pAttachments</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>attachmentCount</code> valid <a href="#VkAttachmentDescription">VkAttachmentDescription</a> structures</p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-pSubpasses-parameter" href="#VUID-VkRenderPassCreateInfo-pSubpasses-parameter"></a> <code>pSubpasses</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>subpassCount</code> valid <a href="#VkSubpassDescription">VkSubpassDescription</a> structures</p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-pDependencies-parameter" href="#VUID-VkRenderPassCreateInfo-pDependencies-parameter"></a> If <code>dependencyCount</code> is not <code>0</code>, <code>pDependencies</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>dependencyCount</code> valid <a href="#VkSubpassDependency">VkSubpassDependency</a> structures</p>
</li>
<li>
<p><a id="VUID-VkRenderPassCreateInfo-subpassCount-arraylength" href="#VUID-VkRenderPassCreateInfo-subpassCount-arraylength"></a> <code>subpassCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkRenderPassCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkRenderPassCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkRenderPassCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkAttachmentDescription</code> structure is defined as:</p>
</div>
<div id="VkAttachmentDescription" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkAttachmentDescription {
    VkAttachmentDescriptionFlags    flags;
    VkFormat                        format;
    VkSampleCountFlagBits           samples;
    VkAttachmentLoadOp              loadOp;
    VkAttachmentStoreOp             storeOp;
    VkAttachmentLoadOp              stencilLoadOp;
    VkAttachmentStoreOp             stencilStoreOp;
    VkImageLayout                   initialLayout;
    VkImageLayout                   finalLayout;
} VkAttachmentDescription;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkAttachmentDescriptionFlagBits">VkAttachmentDescriptionFlagBits</a>
specifying additional properties of the attachment.</p>
</li>
<li>
<p><code>format</code> is a <a href="#VkFormat">VkFormat</a> value specifying the format of the
image view that will be used for the attachment.</p>
</li>
<li>
<p><code>samples</code> is the number of samples of the image as defined in
<a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a>.</p>
</li>
<li>
<p><code>loadOp</code> is a <a href="#VkAttachmentLoadOp">VkAttachmentLoadOp</a> value specifying how the
contents of color and depth components of the attachment are treated at
the beginning of the subpass where it is first used.</p>
</li>
<li>
<p><code>storeOp</code> is a <a href="#VkAttachmentStoreOp">VkAttachmentStoreOp</a> value specifying how the
contents of color and depth components of the attachment are treated at
the end of the subpass where it is last used.</p>
</li>
<li>
<p><code>stencilLoadOp</code> is a <a href="#VkAttachmentLoadOp">VkAttachmentLoadOp</a> value specifying how
the contents of stencil components of the attachment are treated at the
beginning of the subpass where it is first used.</p>
</li>
<li>
<p><code>stencilStoreOp</code> is a <a href="#VkAttachmentStoreOp">VkAttachmentStoreOp</a> value specifying how
the contents of stencil components of the attachment are treated at the
end of the last subpass where it is used.</p>
</li>
<li>
<p><code>initialLayout</code> is the layout the attachment image subresource will
be in when a render pass instance begins.</p>
</li>
<li>
<p><code>finalLayout</code> is the layout the attachment image subresource will be
transitioned to when a render pass instance ends.</p>
</li>
</ul>
</div>
<div id="renderpass-load-store-ops" class="paragraph">
<p>If the attachment uses a color format, then <code>loadOp</code> and <code>storeOp</code>
are used, and <code>stencilLoadOp</code> and <code>stencilStoreOp</code> are ignored.
If the format has depth and/or stencil components, <code>loadOp</code> and
<code>storeOp</code> apply only to the depth data, while <code>stencilLoadOp</code> and
<code>stencilStoreOp</code> define how the stencil data is handled.
<code>loadOp</code> and <code>stencilLoadOp</code> define the <em>load operations</em> that
execute as part of the first subpass that uses the attachment.
<code>storeOp</code> and <code>stencilStoreOp</code> define the <em>store operations</em> that
execute as part of the last subpass that uses the attachment.</p>
</div>
<div class="paragraph">
<p>The load operation for each sample in an attachment happens-before any
recorded command which accesses the sample in the first subpass where the
attachment is used.
Load operations for attachments with a depth/stencil format execute in the
<code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code> pipeline stage.
Load operations for attachments with a color format execute in the
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> pipeline stage.</p>
</div>
<div class="paragraph">
<p>The store operation for each sample in an attachment happens-after any
recorded command which accesses the sample in the last subpass where the
attachment is used.
Store operations for attachments with a depth/stencil format execute in the
<code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code> pipeline stage.
Store operations for attachments with a color format execute in the
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> pipeline stage.</p>
</div>
<div class="paragraph">
<p>If an attachment is not used by any subpass, then <code>loadOp</code>,
<code>storeOp</code>, <code>stencilStoreOp</code>, and <code>stencilLoadOp</code> are ignored,
and the attachment&#8217;s memory contents will not be modified by execution of a
render pass instance.</p>
</div>
<div id="renderpass-precision" class="paragraph">
<p>During a render pass instance, input/color attachments with color formats
that have a component size of 8, 16, or 32 bits <strong class="purple">must</strong> be represented in the
attachment&#8217;s format throughout the instance.
Attachments with other floating- or fixed-point color formats, or with depth
components <strong class="purple">may</strong> be represented in a format with a precision higher than the
attachment format, but <strong class="purple">must</strong> be represented with the same range.
When such a component is loaded via the <code>loadOp</code>, it will be converted
into an implementation-dependent format used by the render pass.
Such components <strong class="purple">must</strong> be converted from the render pass format, to the
format of the attachment, before they are resolved or stored at the end of a
render pass instance via <code>storeOp</code>.
Conversions occur as described in <a href="#fundamentals-numerics">Numeric
Representation and Computation</a> and <a href="#fundamentals-fixedconv">Fixed-Point
Data Conversions</a>.</p>
</div>
<div id="renderpass-aliasing" class="paragraph">
<p>If <code>flags</code> includes <code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code>, then
the attachment is treated as if it shares physical memory with another
attachment in the same render pass.
This information limits the ability of the implementation to reorder certain
operations (like layout transitions and the <code>loadOp</code>) such that it is
not improperly reordered against other uses of the same physical memory via
a different attachment.
This is described in more detail below.</p>
</div>
<div class="paragraph">
<p>If a render pass uses multiple attachments that alias the same device
memory, those attachments <strong class="purple">must</strong> each include the
<code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> bit in their attachment
description flags.
Attachments aliasing the same memory occurs in multiple ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Multiple attachments being assigned the same image view as part of
framebuffer creation.</p>
</li>
<li>
<p>Attachments using distinct image views that correspond to the same image
subresource of an image.</p>
</li>
<li>
<p>Attachments using views of distinct image subresources which are bound
to overlapping memory ranges.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Render passes <strong class="purple">must</strong> include subpass dependencies (either directly or via a
subpass dependency chain) between any two subpasses that operate on the same
attachment or aliasing attachments and those subpass dependencies <strong class="purple">must</strong>
include execution and memory dependencies separating uses of the aliases, if
at least one of those subpasses writes to one of the aliases.
These dependencies <strong class="purple">must</strong> not include the <code>VK_DEPENDENCY_BY_REGION_BIT</code>
if the aliases are views of distinct image subresources which overlap in
memory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Multiple attachments that alias the same memory <strong class="purple">must</strong> not be used in a
single subpass.
A given attachment index <strong class="purple">must</strong> not be used multiple times in a single
subpass, with one exception: two subpass attachments <strong class="purple">can</strong> use the same
attachment index if at least one use is as an input attachment and neither
use is as a resolve or preserve attachment.
In other words, the same view <strong class="purple">can</strong> be used simultaneously as an input and
color or depth/stencil attachment, but <strong class="purple">must</strong> not be used as multiple color
or depth/stencil attachments nor as resolve or preserve attachments.
The precise set of valid scenarios is described in more detail
<a href="#renderpass-feedbackloop">below</a>.</p>
</div>
<div class="paragraph">
<p>If a set of attachments alias each other, then all except the first to be
used in the render pass <strong class="purple">must</strong> use an <code>initialLayout</code> of
<code>VK_IMAGE_LAYOUT_UNDEFINED</code>, since the earlier uses of the other aliases
make their contents undefined.
Once an alias has been used and a different alias has been used after it,
the first alias <strong class="purple">must</strong> not be used in any later subpasses.
However, an application <strong class="purple">can</strong> assign the same image view to multiple aliasing
attachment indices, which allows that image view to be used multiple times
even if other aliases are used in between.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Once an attachment needs the <code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code>
bit, there <strong class="purple">should</strong> be no additional cost of introducing additional aliases,
and using these additional aliases <strong class="purple">may</strong> allow more efficient clearing of the
attachments on multiple uses via <code>VK_ATTACHMENT_LOAD_OP_CLEAR</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAttachmentDescription-finalLayout-00843" href="#VUID-VkAttachmentDescription-finalLayout-00843"></a>
<code>finalLayout</code> <strong class="purple">must</strong> not be <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code></p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-format-03280" href="#VUID-VkAttachmentDescription-format-03280"></a>
If <code>format</code> is a color format, <code>initialLayout</code> <strong class="purple">must</strong> not be
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL</code>, or
<code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL</code></p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-format-03281" href="#VUID-VkAttachmentDescription-format-03281"></a>
If <code>format</code> is a depth/stencil format, <code>initialLayout</code> <strong class="purple">must</strong> not
be <code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code></p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-format-03282" href="#VUID-VkAttachmentDescription-format-03282"></a>
If <code>format</code> is a color format, <code>finalLayout</code> <strong class="purple">must</strong> not be
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL</code>, or
<code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL</code></p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-format-03283" href="#VUID-VkAttachmentDescription-format-03283"></a>
If <code>format</code> is a depth/stencil format, <code>finalLayout</code> <strong class="purple">must</strong> not
be <code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAttachmentDescription-flags-parameter" href="#VUID-VkAttachmentDescription-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkAttachmentDescriptionFlagBits">VkAttachmentDescriptionFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-format-parameter" href="#VUID-VkAttachmentDescription-format-parameter"></a> <code>format</code> <strong class="purple">must</strong> be a valid <a href="#VkFormat">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-samples-parameter" href="#VUID-VkAttachmentDescription-samples-parameter"></a> <code>samples</code> <strong class="purple">must</strong> be a valid <a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-loadOp-parameter" href="#VUID-VkAttachmentDescription-loadOp-parameter"></a> <code>loadOp</code> <strong class="purple">must</strong> be a valid <a href="#VkAttachmentLoadOp">VkAttachmentLoadOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-storeOp-parameter" href="#VUID-VkAttachmentDescription-storeOp-parameter"></a> <code>storeOp</code> <strong class="purple">must</strong> be a valid <a href="#VkAttachmentStoreOp">VkAttachmentStoreOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-stencilLoadOp-parameter" href="#VUID-VkAttachmentDescription-stencilLoadOp-parameter"></a> <code>stencilLoadOp</code> <strong class="purple">must</strong> be a valid <a href="#VkAttachmentLoadOp">VkAttachmentLoadOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-stencilStoreOp-parameter" href="#VUID-VkAttachmentDescription-stencilStoreOp-parameter"></a> <code>stencilStoreOp</code> <strong class="purple">must</strong> be a valid <a href="#VkAttachmentStoreOp">VkAttachmentStoreOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-initialLayout-parameter" href="#VUID-VkAttachmentDescription-initialLayout-parameter"></a> <code>initialLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-VkAttachmentDescription-finalLayout-parameter" href="#VUID-VkAttachmentDescription-finalLayout-parameter"></a> <code>finalLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkAttachmentDescription">VkAttachmentDescription</a>::<code>flags</code>
describing additional properties of the attachment are:</p>
</div>
<div id="VkAttachmentDescriptionFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkAttachmentDescriptionFlagBits {
    VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT = <span class="hex">0x00000001</span>,
    VK_ATTACHMENT_DESCRIPTION_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkAttachmentDescriptionFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> specifies that the
attachment aliases the same device memory as other attachments.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkAttachmentDescriptionFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkAttachmentDescriptionFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkAttachmentDescriptionFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkAttachmentDescriptionFlagBits">VkAttachmentDescriptionFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkAttachmentDescription">VkAttachmentDescription</a>::<code>loadOp</code> and
<code>stencilLoadOp</code>, specifying how the contents of the attachment are
treated, are:</p>
</div>
<div id="VkAttachmentLoadOp" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkAttachmentLoadOp {
    VK_ATTACHMENT_LOAD_OP_LOAD = <span class="integer">0</span>,
    VK_ATTACHMENT_LOAD_OP_CLEAR = <span class="integer">1</span>,
    VK_ATTACHMENT_LOAD_OP_DONT_CARE = <span class="integer">2</span>,
    VK_ATTACHMENT_LOAD_OP_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkAttachmentLoadOp;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_LOAD_OP_LOAD</code> specifies that the previous contents of
the image within the render area will be preserved.
For attachments with a depth/stencil format, this uses the access type
<code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT</code>.
For attachments with a color format, this uses the access type
<code>VK_ACCESS_COLOR_ATTACHMENT_READ_BIT</code>.</p>
</li>
<li>
<p><code>VK_ATTACHMENT_LOAD_OP_CLEAR</code> specifies that the contents within the
render area will be cleared to a uniform value, which is specified when
a render pass instance is begun.
For attachments with a depth/stencil format, this uses the access type
<code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code>.
For attachments with a color format, this uses the access type
<code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.</p>
</li>
<li>
<p><code>VK_ATTACHMENT_LOAD_OP_DONT_CARE</code> specifies that the previous
contents within the area need not be preserved; the contents of the
attachment will be undefined inside the render area.
For attachments with a depth/stencil format, this uses the access type
<code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code>.
For attachments with a color format, this uses the access type
<code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkAttachmentDescription">VkAttachmentDescription</a>::<code>storeOp</code> and
<code>stencilStoreOp</code>, specifying how the contents of the attachment are
treated, are:</p>
</div>
<div id="VkAttachmentStoreOp" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkAttachmentStoreOp {
    VK_ATTACHMENT_STORE_OP_STORE = <span class="integer">0</span>,
    VK_ATTACHMENT_STORE_OP_DONT_CARE = <span class="integer">1</span>,
    VK_ATTACHMENT_STORE_OP_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkAttachmentStoreOp;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_STORE_OP_STORE</code> specifies the contents generated
during the render pass and within the render area are written to memory.
For attachments with a depth/stencil format, this uses the access type
<code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code>.
For attachments with a color format, this uses the access type
<code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.</p>
</li>
<li>
<p><code>VK_ATTACHMENT_STORE_OP_DONT_CARE</code> specifies the contents within the
render area are not needed after rendering, and <strong class="purple">may</strong> be discarded; the
contents of the attachment will be undefined inside the render area.
For attachments with a depth/stencil format, this uses the access type
<code>VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT</code>.
For attachments with a color format, this uses the access type
<code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>VK_ATTACHMENT_STORE_OP_DONT_CARE</code> <strong class="purple">can</strong> cause contents generated during
previous render passes to be discarded before reaching memory, even if no
write to the attachment occurs during the current render pass.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSubpassDescription</code> structure is defined as:</p>
</div>
<div id="VkSubpassDescription" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSubpassDescription {
    VkSubpassDescriptionFlags       flags;
    VkPipelineBindPoint             pipelineBindPoint;
    uint32_t                        inputAttachmentCount;
    <span class="directive">const</span> VkAttachmentReference*    pInputAttachments;
    uint32_t                        colorAttachmentCount;
    <span class="directive">const</span> VkAttachmentReference*    pColorAttachments;
    <span class="directive">const</span> VkAttachmentReference*    pResolveAttachments;
    <span class="directive">const</span> VkAttachmentReference*    pDepthStencilAttachment;
    uint32_t                        preserveAttachmentCount;
    <span class="directive">const</span> uint32_t*                 pPreserveAttachments;
} VkSubpassDescription;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkSubpassDescriptionFlagBits">VkSubpassDescriptionFlagBits</a>
specifying usage of the subpass.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value specifying
the pipeline type supported for this subpass.</p>
</li>
<li>
<p><code>inputAttachmentCount</code> is the number of input attachments.</p>
</li>
<li>
<p><code>pInputAttachments</code> is a pointer to an array of
<a href="#VkAttachmentReference">VkAttachmentReference</a> structures defining the input attachments
for this subpass and their layouts.</p>
</li>
<li>
<p><code>colorAttachmentCount</code> is the number of color attachments.</p>
</li>
<li>
<p><code>pColorAttachments</code> is a pointer to an array of
<a href="#VkAttachmentReference">VkAttachmentReference</a> structures defining the color attachments
for this subpass and their layouts.</p>
</li>
<li>
<p><code>pResolveAttachments</code> is an optional array of
<code>colorAttachmentCount</code> <a href="#VkAttachmentReference">VkAttachmentReference</a> structures
defining the resolve attachments for this subpass and their layouts.</p>
</li>
<li>
<p><code>pDepthStencilAttachment</code> is a pointer to a
<a href="#VkAttachmentReference">VkAttachmentReference</a> structure specifying the depth/stencil
attachment for this subpass and its layout.</p>
</li>
<li>
<p><code>preserveAttachmentCount</code> is the number of preserved attachments.</p>
</li>
<li>
<p><code>pPreserveAttachments</code> is a pointer to an array of
<code>preserveAttachmentCount</code> render pass attachment indices identifying
attachments that are not used by this subpass, but whose contents <strong class="purple">must</strong>
be preserved throughout the subpass.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each element of the <code>pInputAttachments</code> array corresponds to an input
attachment index in a fragment shader, i.e. if a shader declares an image
variable decorated with a <code>InputAttachmentIndex</code> value of <strong>X</strong>, then it
uses the attachment provided in <code>pInputAttachments</code>[<strong>X</strong>].
Input attachments <strong class="purple">must</strong> also be bound to the pipeline in a descriptor set.
If the <code>attachment</code> member of any element of <code>pInputAttachments</code> is
<code>VK_ATTACHMENT_UNUSED</code>, the application <strong class="purple">must</strong> not read from the
corresponding input attachment index.
Fragment shaders <strong class="purple">can</strong> use subpass input variables to access the contents of
an input attachment at the fragment&#8217;s (x, y, layer) framebuffer coordinates.</p>
</div>
<div class="paragraph">
<p>Each element of the <code>pColorAttachments</code> array corresponds to an output
location in the shader, i.e. if the shader declares an output variable
decorated with a <code>Location</code> value of <strong>X</strong>, then it uses the attachment
provided in <code>pColorAttachments</code>[<strong>X</strong>].
If the <code>attachment</code> member of any element of <code>pColorAttachments</code> is
<code>VK_ATTACHMENT_UNUSED</code>, writes to the corresponding location by a
fragment are discarded.</p>
</div>
<div class="paragraph">
<p>If <code>pResolveAttachments</code> is not <code>NULL</code>, each of its elements corresponds
to a color attachment (the element in <code>pColorAttachments</code> at the same
index), and a multisample resolve operation is defined for each attachment.
At the end of each subpass, multisample resolve operations read the
subpass&#8217;s color attachments, and resolve the samples for each pixel within
the render area to the same pixel location in the corresponding resolve
attachments, unless the resolve attachment index is
<code>VK_ATTACHMENT_UNUSED</code>.</p>
</div>
<div class="paragraph">
<p>If <code>pDepthStencilAttachment</code> is <code>NULL</code>, or if its attachment index is
<code>VK_ATTACHMENT_UNUSED</code>, it indicates that no depth/stencil attachment
will be used in the subpass.</p>
</div>
<div class="paragraph">
<p>The contents of an attachment within the render area become undefined at
the start of a subpass <strong>S</strong> if all of the following conditions are true:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The attachment is used as a color, depth/stencil, or resolve attachment
in any subpass in the render pass.</p>
</li>
<li>
<p>There is a subpass <strong>S<sub>1</sub></strong> that uses or preserves the attachment, and a
subpass dependency from <strong>S<sub>1</sub></strong> to <strong>S</strong>.</p>
</li>
<li>
<p>The attachment is not used or preserved in subpass <strong>S</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once the contents of an attachment become undefined in subpass <strong>S</strong>, they
remain undefined for subpasses in subpass dependency chains starting with
subpass <strong>S</strong> until they are written again.
However, they remain valid for subpasses in other subpass dependency chains
starting with subpass <strong>S<sub>1</sub></strong> if those subpasses use or preserve the
attachment.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSubpassDescription-pipelineBindPoint-00844" href="#VUID-VkSubpassDescription-pipelineBindPoint-00844"></a>
<code>pipelineBindPoint</code> <strong class="purple">must</strong> be <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-colorAttachmentCount-00845" href="#VUID-VkSubpassDescription-colorAttachmentCount-00845"></a>
<code>colorAttachmentCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxColorAttachments</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-loadOp-00846" href="#VUID-VkSubpassDescription-loadOp-00846"></a>
If the first use of an attachment in this render pass is as an input
attachment, and the attachment is not also used as a color or
depth/stencil attachment in the same subpass, then <code>loadOp</code> <strong class="purple">must</strong>
not be <code>VK_ATTACHMENT_LOAD_OP_CLEAR</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pResolveAttachments-00847" href="#VUID-VkSubpassDescription-pResolveAttachments-00847"></a>
If <code>pResolveAttachments</code> is not <code>NULL</code>, for each resolve attachment
that is not <code>VK_ATTACHMENT_UNUSED</code>, the corresponding color
attachment <strong class="purple">must</strong> not be <code>VK_ATTACHMENT_UNUSED</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pResolveAttachments-00848" href="#VUID-VkSubpassDescription-pResolveAttachments-00848"></a>
If <code>pResolveAttachments</code> is not <code>NULL</code>, for each resolve attachment
that is not <code>VK_ATTACHMENT_UNUSED</code>, the corresponding color
attachment <strong class="purple">must</strong> not have a sample count of <code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pResolveAttachments-00849" href="#VUID-VkSubpassDescription-pResolveAttachments-00849"></a>
If <code>pResolveAttachments</code> is not <code>NULL</code>, each resolve attachment that
is not <code>VK_ATTACHMENT_UNUSED</code> <strong class="purple">must</strong> have a sample count of
<code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pResolveAttachments-00850" href="#VUID-VkSubpassDescription-pResolveAttachments-00850"></a>
If <code>pResolveAttachments</code> is not <code>NULL</code>, each resolve attachment that
is not <code>VK_ATTACHMENT_UNUSED</code> <strong class="purple">must</strong> have the same <a href="#VkFormat">VkFormat</a> as
its corresponding color attachment</p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pColorAttachments-01417" href="#VUID-VkSubpassDescription-pColorAttachments-01417"></a>
All attachments in <code>pColorAttachments</code> that are not
<code>VK_ATTACHMENT_UNUSED</code> <strong class="purple">must</strong> have the same sample count</p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pInputAttachments-02647" href="#VUID-VkSubpassDescription-pInputAttachments-02647"></a>
All attachments in <code>pInputAttachments</code> that are not
<code>VK_ATTACHMENT_UNUSED</code> <strong class="purple">must</strong> have formats whose features contain at
least one of <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> or
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pColorAttachments-02648" href="#VUID-VkSubpassDescription-pColorAttachments-02648"></a>
All attachments in <code>pColorAttachments</code> that are not
<code>VK_ATTACHMENT_UNUSED</code> <strong class="purple">must</strong> have formats whose features contain
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pResolveAttachments-02649" href="#VUID-VkSubpassDescription-pResolveAttachments-02649"></a>
All attachments in <code>pResolveAttachments</code> that are not
<code>VK_ATTACHMENT_UNUSED</code> <strong class="purple">must</strong> have formats whose features contain
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pDepthStencilAttachment-02650" href="#VUID-VkSubpassDescription-pDepthStencilAttachment-02650"></a>
If <code>pDepthStencilAttachment</code> is not <code>NULL</code> and the attachment is not
<code>VK_ATTACHMENT_UNUSED</code> then it <strong class="purple">must</strong> have a format whose features
contain <code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pDepthStencilAttachment-01418" href="#VUID-VkSubpassDescription-pDepthStencilAttachment-01418"></a>
If neither the <code>VK_AMD_mixed_attachment_samples</code> nor the
<code>VK_NV_framebuffer_mixed_samples</code> extensions are enabled, and if
<code>pDepthStencilAttachment</code> is not <code>VK_ATTACHMENT_UNUSED</code> and any
attachments in <code>pColorAttachments</code> are not
<code>VK_ATTACHMENT_UNUSED</code>, they <strong class="purple">must</strong> have the same sample count</p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-attachment-00853" href="#VUID-VkSubpassDescription-attachment-00853"></a>
The <code>attachment</code> member of each element of
<code>pPreserveAttachments</code> <strong class="purple">must</strong> not be <code>VK_ATTACHMENT_UNUSED</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pPreserveAttachments-00854" href="#VUID-VkSubpassDescription-pPreserveAttachments-00854"></a>
Each element of <code>pPreserveAttachments</code> <strong class="purple">must</strong> not also be an element
of any other member of the subpass description</p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-layout-02519" href="#VUID-VkSubpassDescription-layout-02519"></a>
If any attachment is used by more than one <a href="#VkAttachmentReference">VkAttachmentReference</a>
member, then each use <strong class="purple">must</strong> use the same <code>layout</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSubpassDescription-flags-zerobitmask" href="#VUID-VkSubpassDescription-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pipelineBindPoint-parameter" href="#VUID-VkSubpassDescription-pipelineBindPoint-parameter"></a> <code>pipelineBindPoint</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pInputAttachments-parameter" href="#VUID-VkSubpassDescription-pInputAttachments-parameter"></a> If <code>inputAttachmentCount</code> is not <code>0</code>, <code>pInputAttachments</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>inputAttachmentCount</code> valid <a href="#VkAttachmentReference">VkAttachmentReference</a> structures</p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pColorAttachments-parameter" href="#VUID-VkSubpassDescription-pColorAttachments-parameter"></a> If <code>colorAttachmentCount</code> is not <code>0</code>, <code>pColorAttachments</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>colorAttachmentCount</code> valid <a href="#VkAttachmentReference">VkAttachmentReference</a> structures</p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pResolveAttachments-parameter" href="#VUID-VkSubpassDescription-pResolveAttachments-parameter"></a> If <code>colorAttachmentCount</code> is not <code>0</code>, and <code>pResolveAttachments</code> is not <code>NULL</code>, <code>pResolveAttachments</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>colorAttachmentCount</code> valid <a href="#VkAttachmentReference">VkAttachmentReference</a> structures</p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pDepthStencilAttachment-parameter" href="#VUID-VkSubpassDescription-pDepthStencilAttachment-parameter"></a> If <code>pDepthStencilAttachment</code> is not <code>NULL</code>, <code>pDepthStencilAttachment</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAttachmentReference">VkAttachmentReference</a> structure</p>
</li>
<li>
<p><a id="VUID-VkSubpassDescription-pPreserveAttachments-parameter" href="#VUID-VkSubpassDescription-pPreserveAttachments-parameter"></a> If <code>preserveAttachmentCount</code> is not <code>0</code>, <code>pPreserveAttachments</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>preserveAttachmentCount</code> <code>uint32_t</code> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkSubpassDescription">VkSubpassDescription</a>::<code>flags</code>,
specifying usage of the subpass, are:</p>
</div>
<div id="VkSubpassDescriptionFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkSubpassDescriptionFlagBits {
    VK_SUBPASS_DESCRIPTION_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkSubpassDescriptionFlagBits;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>All bits for this type are defined by extensions, and none of those
extensions are enabled in this build of the specification.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSubpassDescriptionFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkSubpassDescriptionFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSubpassDescriptionFlags</code> is a bitmask type for setting a mask of zero
or more <a href="#VkSubpassDescriptionFlagBits">VkSubpassDescriptionFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkAttachmentReference</code> structure is defined as:</p>
</div>
<div id="VkAttachmentReference" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkAttachmentReference {
    uint32_t         attachment;
    VkImageLayout    layout;
} VkAttachmentReference;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>attachment</code> is either an integer value identifying an attachment at
the corresponding index in
<a href="#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a>::<code>pAttachments</code>, or
<code>VK_ATTACHMENT_UNUSED</code> to signify that this attachment is not used.</p>
</li>
<li>
<p><code>layout</code> is a <a href="#VkImageLayout">VkImageLayout</a> value specifying the layout the
attachment uses during the subpass.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAttachmentReference-layout-00857" href="#VUID-VkAttachmentReference-layout-00857"></a>
If <code>attachment</code> is not <code>VK_ATTACHMENT_UNUSED</code>, <code>layout</code>
<strong class="purple">must</strong> not be <code>VK_IMAGE_LAYOUT_UNDEFINED</code>,
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>,
<code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>,
<code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_OPTIMAL_KHR</code>,
<code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL_KHR</code>,
<code>VK_IMAGE_LAYOUT_STENCIL_ATTACHMENT_OPTIMAL_KHR</code>, or
<code>VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAttachmentReference-layout-parameter" href="#VUID-VkAttachmentReference-layout-parameter"></a> <code>layout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSubpassDependency</code> structure is defined as:</p>
</div>
<div id="VkSubpassDependency" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSubpassDependency {
    uint32_t                srcSubpass;
    uint32_t                dstSubpass;
    VkPipelineStageFlags    srcStageMask;
    VkPipelineStageFlags    dstStageMask;
    VkAccessFlags           srcAccessMask;
    VkAccessFlags           dstAccessMask;
    VkDependencyFlags       dependencyFlags;
} VkSubpassDependency;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>srcSubpass</code> is the subpass index of the first subpass in the
dependency, or <code>VK_SUBPASS_EXTERNAL</code>.</p>
</li>
<li>
<p><code>dstSubpass</code> is the subpass index of the second subpass in the
dependency, or <code>VK_SUBPASS_EXTERNAL</code>.</p>
</li>
<li>
<p><code>srcStageMask</code> is a bitmask of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>
specifying the <a href="#synchronization-pipeline-stages-masks">source stage
mask</a>.</p>
</li>
<li>
<p><code>dstStageMask</code> is a bitmask of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>
specifying the <a href="#synchronization-pipeline-stages-masks">destination
stage mask</a></p>
</li>
<li>
<p><code>srcAccessMask</code> is a bitmask of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> specifying a
<a href="#synchronization-access-masks">source access mask</a>.</p>
</li>
<li>
<p><code>dstAccessMask</code> is a bitmask of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> specifying a
<a href="#synchronization-access-masks">destination access mask</a>.</p>
</li>
<li>
<p><code>dependencyFlags</code> is a bitmask of <a href="#VkDependencyFlagBits">VkDependencyFlagBits</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>srcSubpass</code> is equal to <code>dstSubpass</code> then the
<a href="#VkSubpassDependency">VkSubpassDependency</a> describes a
<a href="#synchronization-pipeline-barriers-subpass-self-dependencies">subpass
self-dependency</a>, and only constrains the pipeline barriers allowed within
a subpass instance.
Otherwise, when a render pass instance which includes a subpass dependency
is submitted to a queue, it defines a memory dependency between the
subpasses identified by <code>srcSubpass</code> and <code>dstSubpass</code>.</p>
</div>
<div class="paragraph">
<p>If <code>srcSubpass</code> is equal to <code>VK_SUBPASS_EXTERNAL</code>, the first
<a href="#synchronization-dependencies-scopes">synchronization scope</a> includes
commands that occur earlier in <a href="#synchronization-submission-order">submission
order</a> than the <a href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a> used to begin the render pass
instance.
Otherwise, the first set of commands includes all commands submitted as part
of the subpass instance identified by <code>srcSubpass</code> and any load, store
or multisample resolve operations on attachments used in <code>srcSubpass</code>.
In either case, the first synchronization scope is limited to operations on
the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by
<code>srcStageMask</code>.</p>
</div>
<div class="paragraph">
<p>If <code>dstSubpass</code> is equal to <code>VK_SUBPASS_EXTERNAL</code>, the second
<a href="#synchronization-dependencies-scopes">synchronization scope</a> includes
commands that occur later in <a href="#synchronization-submission-order">submission
order</a> than the <a href="#vkCmdEndRenderPass">vkCmdEndRenderPass</a> used to end the render pass
instance.
Otherwise, the second set of commands includes all commands submitted as
part of the subpass instance identified by <code>dstSubpass</code> and any load,
store or multisample resolve operations on attachments used in
<code>dstSubpass</code>.
In either case, the second synchronization scope is limited to operations on
the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by <code>dstStageMask</code>.</p>
</div>
<div class="paragraph">
<p>The first <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">source stage mask</a> specified by
<code>srcStageMask</code>.
It is also limited to access types in the <a href="#synchronization-access-masks">source access mask</a> specified by <code>srcAccessMask</code>.</p>
</div>
<div class="paragraph">
<p>The second <a href="#synchronization-dependencies-access-scopes">access scope</a> is
limited to access in the pipeline stages determined by the
<a href="#synchronization-pipeline-stages-masks">destination stage mask</a> specified
by <code>dstStageMask</code>.
It is also limited to access types in the <a href="#synchronization-access-masks">destination access mask</a> specified by <code>dstAccessMask</code>.</p>
</div>
<div class="paragraph">
<p>The <a href="#synchronization-dependencies-available-and-visible">availability and
visibility operations</a> defined by a subpass dependency affect the execution
of <a href="#renderpass-layout-transitions">image layout transitions</a> within the
render pass.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For non-attachment resources, the memory dependency expressed by subpass
dependency is nearly identical to that of a <a href="#VkMemoryBarrier">VkMemoryBarrier</a> (with
matching <code>srcAccessMask</code> and <code>dstAccessMask</code> parameters) submitted
as a part of a <a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a> (with matching <code>srcStageMask</code>
and <code>dstStageMask</code> parameters).
The only difference being that its scopes are limited to the identified
subpasses rather than potentially affecting everything before and after.</p>
</div>
<div class="paragraph">
<p>For attachments however, subpass dependencies work more like a
<a href="#VkImageMemoryBarrier">VkImageMemoryBarrier</a> defined similarly to the <a href="#VkMemoryBarrier">VkMemoryBarrier</a>
above, the queue family indices set to <code>VK_QUEUE_FAMILY_IGNORED</code>, and
layouts as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The equivalent to <code>oldLayout</code> is the attachment&#8217;s layout according
to the subpass description for <code>srcSubpass</code>.</p>
</li>
<li>
<p>The equivalent to <code>newLayout</code> is the attachment&#8217;s layout according
to the subpass description for <code>dstSubpass</code>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSubpassDependency-srcStageMask-00860" href="#VUID-VkSubpassDependency-srcStageMask-00860"></a>
If the <a href="#features-geometryShader">geometry shaders</a> feature is not
enabled, <code>srcStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-dstStageMask-00861" href="#VUID-VkSubpassDependency-dstStageMask-00861"></a>
If the <a href="#features-geometryShader">geometry shaders</a> feature is not
enabled, <code>dstStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-srcStageMask-00862" href="#VUID-VkSubpassDependency-srcStageMask-00862"></a>
If the <a href="#features-tessellationShader">tessellation shaders</a> feature is
not enabled, <code>srcStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-dstStageMask-00863" href="#VUID-VkSubpassDependency-dstStageMask-00863"></a>
If the <a href="#features-tessellationShader">tessellation shaders</a> feature is
not enabled, <code>dstStageMask</code> <strong class="purple">must</strong> not contain
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code> or
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-srcSubpass-00864" href="#VUID-VkSubpassDependency-srcSubpass-00864"></a>
<code>srcSubpass</code> <strong class="purple">must</strong> be less than or equal to <code>dstSubpass</code>, unless
one of them is <code>VK_SUBPASS_EXTERNAL</code>, to avoid cyclic dependencies
and ensure a valid execution order</p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-srcSubpass-00865" href="#VUID-VkSubpassDependency-srcSubpass-00865"></a>
<code>srcSubpass</code> and <code>dstSubpass</code> <strong class="purple">must</strong> not both be equal to
<code>VK_SUBPASS_EXTERNAL</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-srcSubpass-00867" href="#VUID-VkSubpassDependency-srcSubpass-00867"></a>
If <code>srcSubpass</code> is equal to <code>dstSubpass</code> and not all of the
stages in <code>srcStageMask</code> and <code>dstStageMask</code> are
<a href="#synchronization-framebuffer-regions">framebuffer-space stages</a>, the
<a href="#synchronization-pipeline-stages-order">logically latest</a> pipeline
stage in <code>srcStageMask</code> <strong class="purple">must</strong> be
<a href="#synchronization-pipeline-stages-order">logically earlier</a> than or
equal to the <a href="#synchronization-pipeline-stages-order">logically
earliest</a> pipeline stage in <code>dstStageMask</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-srcAccessMask-00868" href="#VUID-VkSubpassDependency-srcAccessMask-00868"></a>
Any access flag included in <code>srcAccessMask</code> <strong class="purple">must</strong> be supported by
one of the pipeline stages in <code>srcStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a></p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-dstAccessMask-00869" href="#VUID-VkSubpassDependency-dstAccessMask-00869"></a>
Any access flag included in <code>dstAccessMask</code> <strong class="purple">must</strong> be supported by
one of the pipeline stages in <code>dstStageMask</code>, as specified in the
<a href="#synchronization-access-types-supported">table of supported access
types</a></p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-srcSubpass-02243" href="#VUID-VkSubpassDependency-srcSubpass-02243"></a>
If <code>srcSubpass</code> equals <code>dstSubpass</code>, and <code>srcStageMask</code> and
<code>dstStageMask</code> both include a
<a href="#synchronization-framebuffer-regions">framebuffer-space stage</a>, then
<code>dependencyFlags</code> <strong class="purple">must</strong> include <code>VK_DEPENDENCY_BY_REGION_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSubpassDependency-srcStageMask-parameter" href="#VUID-VkSubpassDependency-srcStageMask-parameter"></a> <code>srcStageMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-srcStageMask-requiredbitmask" href="#VUID-VkSubpassDependency-srcStageMask-requiredbitmask"></a> <code>srcStageMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-dstStageMask-parameter" href="#VUID-VkSubpassDependency-dstStageMask-parameter"></a> <code>dstStageMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-dstStageMask-requiredbitmask" href="#VUID-VkSubpassDependency-dstStageMask-requiredbitmask"></a> <code>dstStageMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-srcAccessMask-parameter" href="#VUID-VkSubpassDependency-srcAccessMask-parameter"></a> <code>srcAccessMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-dstAccessMask-parameter" href="#VUID-VkSubpassDependency-dstAccessMask-parameter"></a> <code>dstAccessMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkAccessFlagBits">VkAccessFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkSubpassDependency-dependencyFlags-parameter" href="#VUID-VkSubpassDependency-dependencyFlags-parameter"></a> <code>dependencyFlags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkDependencyFlagBits">VkDependencyFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If there is no subpass dependency from <code>VK_SUBPASS_EXTERNAL</code> to the
first subpass that uses an attachment, then an implicit subpass dependency
exists from <code>VK_SUBPASS_EXTERNAL</code> to the first subpass it is used in.
The implicit subpass dependency only exists if there exists an automatic
layout transition away from <code>initialLayout</code>.
The subpass dependency operates as if defined with the following parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">VkSubpassDependency implicitDependency = {
    .srcSubpass = VK_SUBPASS_EXTERNAL;
    .dstSubpass = firstSubpass; <span class="comment">// First subpass attachment is used in</span>
    .srcStageMask = VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT;
    .dstStageMask = VK_PIPELINE_STAGE_ALL_COMMANDS_BIT;
    .srcAccessMask = <span class="integer">0</span>;
    .dstAccessMask = VK_ACCESS_INPUT_ATTACHMENT_READ_BIT |
                     VK_ACCESS_COLOR_ATTACHMENT_READ_BIT |
                     VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT |
                     VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT |
                     VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT;
    .dependencyFlags = <span class="integer">0</span>;
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, if there is no subpass dependency from the last subpass that uses
an attachment to <code>VK_SUBPASS_EXTERNAL</code>, then an implicit subpass
dependency exists from the last subpass it is used in to
<code>VK_SUBPASS_EXTERNAL</code>.
The implicit subpass dependency only exists if there exists an automatic
layout transition into <code>finalLayout</code>.
The subpass dependency operates as if defined with the following parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">VkSubpassDependency implicitDependency = {
    .srcSubpass = lastSubpass; <span class="comment">// Last subpass attachment is used in</span>
    .dstSubpass = VK_SUBPASS_EXTERNAL;
    .srcStageMask = VK_PIPELINE_STAGE_ALL_COMMANDS_BIT;
    .dstStageMask = VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT;
    .srcAccessMask = VK_ACCESS_INPUT_ATTACHMENT_READ_BIT |
                     VK_ACCESS_COLOR_ATTACHMENT_READ_BIT |
                     VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT |
                     VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT |
                     VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_WRITE_BIT;
    .dstAccessMask = <span class="integer">0</span>;
    .dependencyFlags = <span class="integer">0</span>;
};</code></pre>
</div>
</div>
<div id="renderpass-layout-transitions" class="paragraph">
<p>As subpasses <strong class="purple">may</strong> overlap or execute out of order with regards to other
subpasses unless a subpass dependency chain describes otherwise, the layout
transitions required between subpasses <strong class="purple">cannot</strong> be known to an application.
Instead, an application provides the layout that each attachment <strong class="purple">must</strong> be in
at the start and end of a render pass, and the layout it <strong class="purple">must</strong> be in during
each subpass it is used in.
The implementation then <strong class="purple">must</strong> execute layout transitions between subpasses
in order to guarantee that the images are in the layouts required by each
subpass, and in the final layout at the end of the render pass.</p>
</div>
<div class="paragraph">
<p>Automatic layout transitions apply to the entire image subresource attached
to the framebuffer.</p>
</div>
<div class="paragraph">
<p>Automatic layout transitions away from the layout used in a subpass
happen-after the availability operations for all dependencies with that
subpass as the <code>srcSubpass</code>.</p>
</div>
<div class="paragraph">
<p>Automatic layout transitions into the layout used in a subpass happen-before
the visibility operations for all dependencies with that subpass as the
<code>dstSubpass</code>.</p>
</div>
<div class="paragraph">
<p>Automatic layout transitions away from <code>initialLayout</code> happens-after the
availability operations for all dependencies with a <code>srcSubpass</code> equal
to <code>VK_SUBPASS_EXTERNAL</code>, where <code>dstSubpass</code> uses the attachment
that will be transitioned.
For attachments created with <code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code>,
automatic layout transitions away from <code>initialLayout</code> happen-after the
availability operations for all dependencies with a <code>srcSubpass</code> equal
to <code>VK_SUBPASS_EXTERNAL</code>, where <code>dstSubpass</code> uses any aliased
attachment.</p>
</div>
<div class="paragraph">
<p>Automatic layout transitions into <code>finalLayout</code> happens-before the
visibility operations for all dependencies with a <code>dstSubpass</code> equal to
<code>VK_SUBPASS_EXTERNAL</code>, where <code>srcSubpass</code> uses the attachment that
will be transitioned.
For attachments created with <code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code>,
automatic layout transitions into <code>finalLayout</code> happen-before the
visibility operations for all dependencies with a <code>dstSubpass</code> equal to
<code>VK_SUBPASS_EXTERNAL</code>, where <code>srcSubpass</code> uses any aliased
attachment.</p>
</div>
<div class="paragraph">
<p>If two subpasses use the same attachment, and both subpasses use the
attachment in a read-only layout, no subpass dependency needs to be
specified between those subpasses.
If an implementation treats those layouts separately, it <strong class="purple">must</strong> insert an
implicit subpass dependency between those subpasses to separate the uses in
each layout.
The subpass dependency operates as if defined with the following parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c"><span class="comment">// Used for input attachments</span>
VkPipelineStageFlags inputAttachmentStages = VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT;
VkAccessFlags inputAttachmentAccess = VK_ACCESS_INPUT_ATTACHMENT_READ_BIT;

<span class="comment">// Used for depth/stencil attachments</span>
VkPipelineStageFlags depthStencilAttachmentStages = VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT | VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT;
VkAccessFlags depthStencilAttachmentAccess = VK_ACCESS_DEPTH_STENCIL_ATTACHMENT_READ_BIT;

VkSubpassDependency implicitDependency = {
    .srcSubpass = firstSubpass;
    .dstSubpass = secondSubpass;
    .srcStageMask = inputAttachmentStages | depthStencilAttachmentStages;
    .dstStageMask = inputAttachmentStages | depthStencilAttachmentStages;
    .srcAccessMask = inputAttachmentAccess | depthStencilAttachmentAccess;
    .dstAccessMask = inputAttachmentAccess | depthStencilAttachmentAccess;
    .dependencyFlags = <span class="integer">0</span>;
};</code></pre>
</div>
</div>
<div id="renderpass-feedbackloop" class="paragraph">
<p>If a subpass uses the same attachment as both an input attachment and either
a color attachment or a depth/stencil attachment, writes via the color or
depth/stencil attachment are not automatically made visible to reads via the
input attachment, causing a <em>feedback loop</em>, except in any of the following
conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the color components or depth/stencil components read by the input
attachment are mutually exclusive with the components written by the
color or depth/stencil attachments, then there is no feedback loop.
This requires the graphics pipelines used by the subpass to disable
writes to color components that are read as inputs via the
<code>colorWriteMask</code>, and to disable writes to depth/stencil components
that are read as inputs via <code>depthWriteEnable</code> or
<code>stencilTestEnable</code>.</p>
</li>
<li>
<p>If the attachment is used as an input attachment and depth/stencil
attachment only, and the depth/stencil attachment is not written to.</p>
</li>
<li>
<p>If a memory dependency is inserted between when the attachment is
written and when it is subsequently read by later fragments.
<a href="#synchronization-pipeline-barriers">Pipeline barriers</a> expressing a
<a href="#synchronization-pipeline-barriers-subpass-self-dependencies">subpass
self-dependency</a> are the only way to achieve this, and one <strong class="purple">must</strong> be
inserted every time a fragment will read values at a particular sample
(x, y, layer, sample) coordinate, if those values have been written
since the most recent pipeline barrier; or the since start of the
subpass if there have been no pipeline barriers since the start of the
subpass.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An attachment used as both an input attachment and a color attachment <strong class="purple">must</strong>
be in the
<code>VK_IMAGE_LAYOUT_GENERAL</code> layout.
An attachment used as an input attachment and depth/stencil attachment <strong class="purple">must</strong>
be in the
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>, or
<code>VK_IMAGE_LAYOUT_GENERAL</code> layout.
An attachment <strong class="purple">must</strong> not be used as both a depth/stencil attachment and a
color attachment.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a render pass, call:</p>
</div>
<div id="vkDestroyRenderPass" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyRenderPass(
    VkDevice                                    device,
    VkRenderPass                                renderPass,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the render pass.</p>
</li>
<li>
<p><code>renderPass</code> is the handle of the render pass to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyRenderPass-renderPass-00873" href="#VUID-vkDestroyRenderPass-renderPass-00873"></a>
All submitted commands that refer to <code>renderPass</code> <strong class="purple">must</strong> have
completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyRenderPass-renderPass-00874" href="#VUID-vkDestroyRenderPass-renderPass-00874"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>renderPass</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyRenderPass-renderPass-00875" href="#VUID-vkDestroyRenderPass-renderPass-00875"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>renderPass</code>
was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyRenderPass-device-parameter" href="#VUID-vkDestroyRenderPass-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyRenderPass-renderPass-parameter" href="#VUID-vkDestroyRenderPass-renderPass-parameter"></a> If <code>renderPass</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>renderPass</code> <strong class="purple">must</strong> be a valid <a href="#VkRenderPass">VkRenderPass</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyRenderPass-pAllocator-parameter" href="#VUID-vkDestroyRenderPass-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyRenderPass-renderPass-parent" href="#VUID-vkDestroyRenderPass-renderPass-parent"></a> If <code>renderPass</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>renderPass</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="renderpass-compatibility"><a class="anchor" href="#renderpass-compatibility"></a>7.2. Render Pass Compatibility</h3>
<div class="paragraph">
<p>Framebuffers and graphics pipelines are created based on a specific render
pass object.
They <strong class="purple">must</strong> only be used with that render pass object, or one compatible with
it.</p>
</div>
<div class="paragraph">
<p>Two attachment references are compatible if they have matching format and
sample count, or are both <code>VK_ATTACHMENT_UNUSED</code> or the pointer that
would contain the reference is <code>NULL</code>.</p>
</div>
<div class="paragraph">
<p>Two arrays of attachment references are compatible if all corresponding
pairs of attachments are compatible.
If the arrays are of different lengths, attachment references not present in
the smaller array are treated as <code>VK_ATTACHMENT_UNUSED</code>.</p>
</div>
<div class="paragraph">
<p>Two render passes are compatible if their corresponding color, input,
resolve, and depth/stencil attachment references are compatible and if they
are otherwise identical except for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Initial and final image layout in attachment descriptions</p>
</li>
<li>
<p>Load and store operations in attachment descriptions</p>
</li>
<li>
<p>Image layout in attachment references</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As an additional special case, if two render passes have a single subpass,
the resolve attachment reference
compatibility requirements are ignored.</p>
</div>
<div class="paragraph">
<p>A framebuffer is compatible with a render pass if it was created using the
same render pass or a compatible render pass.</p>
</div>
</div>
<div class="sect2">
<h3 id="_framebuffers"><a class="anchor" href="#_framebuffers"></a>7.3. Framebuffers</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Render passes operate in conjunction with <em>framebuffers</em>.
Framebuffers represent a collection of specific memory attachments that a
render pass instance uses.</p>
</div>
<div class="paragraph">
<p>Framebuffers are represented by <code>VkFramebuffer</code> handles:</p>
</div>
<div id="VkFramebuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkFramebuffer)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a framebuffer, call:</p>
</div>
<div id="vkCreateFramebuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateFramebuffer(
    VkDevice                                    device,
    <span class="directive">const</span> VkFramebufferCreateInfo*              pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkFramebuffer*                              pFramebuffer);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the framebuffer.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkFramebufferCreateInfo">VkFramebufferCreateInfo</a>
structure describing additional information about framebuffer creation.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pFramebuffer</code> is a pointer to a <a href="#VkFramebuffer">VkFramebuffer</a> handle in which
the resulting framebuffer object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateFramebuffer-pCreateInfo-02777" href="#VUID-vkCreateFramebuffer-pCreateInfo-02777"></a>
If <code>pCreateInfo-&gt;flags</code> does not include
<code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code>, and <code>attachmentCount</code> is
not <code>0</code>, each element of <code>pCreateInfo-&gt;pAttachments</code> <strong class="purple">must</strong> have been
created on <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateFramebuffer-device-parameter" href="#VUID-vkCreateFramebuffer-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateFramebuffer-pCreateInfo-parameter" href="#VUID-vkCreateFramebuffer-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkFramebufferCreateInfo">VkFramebufferCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateFramebuffer-pAllocator-parameter" href="#VUID-vkCreateFramebuffer-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateFramebuffer-pFramebuffer-parameter" href="#VUID-vkCreateFramebuffer-pFramebuffer-parameter"></a> <code>pFramebuffer</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkFramebuffer">VkFramebuffer</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkFramebufferCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkFramebufferCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkFramebufferCreateInfo {
    VkStructureType             sType;
    <span class="directive">const</span> <span class="directive">void</span>*                 pNext;
    VkFramebufferCreateFlags    flags;
    VkRenderPass                renderPass;
    uint32_t                    attachmentCount;
    <span class="directive">const</span> VkImageView*          pAttachments;
    uint32_t                    width;
    uint32_t                    height;
    uint32_t                    layers;
} VkFramebufferCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkFramebufferCreateFlagBits">VkFramebufferCreateFlagBits</a></p>
</li>
<li>
<p><code>renderPass</code> is a render pass defining what render passes the
framebuffer will be compatible with.
See <a href="#renderpass-compatibility">Render Pass Compatibility</a> for details.</p>
</li>
<li>
<p><code>attachmentCount</code> is the number of attachments.</p>
</li>
<li>
<p><code>pAttachments</code> is a pointer to an array of <a href="#VkImageView">VkImageView</a>
handles, each of which will be used as the corresponding attachment in a
render pass instance.</p>
</li>
<li>
<p><code>width</code>, <code>height</code> and <code>layers</code> define the dimensions of the
framebuffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Applications <strong class="purple">must</strong> ensure that all accesses to memory that backs image
subresources used as attachments in a given renderpass instance either
happen-before the <a href="#renderpass-load-store-ops">load operations</a> for those
attachments, or happen-after the <a href="#renderpass-load-store-ops">store
operations</a> for those attachments.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This restriction means
that the render pass has full knowledge of all uses of all of the
attachments, so that the implementation is able to make correct decisions
about when and how to perform layout transitions, when to overlap execution
of subpasses, etc.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="renderpass-noattachments" class="paragraph">
<p>It is legal for a subpass to use no color or depth/stencil attachments, and
rather use shader side effects such as image stores and atomics to produce
an output.
In this case, the subpass continues to use the <code>width</code>, <code>height</code>,
and <code>layers</code> of the framebuffer to define the dimensions of the
rendering area, and the <code>rasterizationSamples</code> from each pipeline&#8217;s
<a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a> to define the number of samples
used in rasterization; however, if
<a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a>::<code>variableMultisampleRate</code> is
<code>VK_FALSE</code>, then all pipelines to be bound with a given zero-attachment
subpass <strong class="purple">must</strong> have the same value for
<a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::<code>rasterizationSamples</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-attachmentCount-00876" href="#VUID-VkFramebufferCreateInfo-attachmentCount-00876"></a>
<code>attachmentCount</code> <strong class="purple">must</strong> be equal to the attachment count specified
in <code>renderPass</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-flags-02778" href="#VUID-VkFramebufferCreateInfo-flags-02778"></a>
If <code>flags</code> does not include
<code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code>, and <code>attachmentCount</code> is
not <code>0</code>, <code>pAttachments</code> must be a valid pointer to an array of
<code>attachmentCount</code> valid <a href="#VkImageView">VkImageView</a> handles</p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-pAttachments-00877" href="#VUID-VkFramebufferCreateInfo-pAttachments-00877"></a>
If <code>flags</code> does not include
<code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code>, each element of
<code>pAttachments</code> that is used as a color attachment or resolve
attachment by <code>renderPass</code> <strong class="purple">must</strong> have been created with a
<code>usage</code> value including <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-pAttachments-02633" href="#VUID-VkFramebufferCreateInfo-pAttachments-02633"></a>
If <code>flags</code> does not include
<code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code>, each element of
<code>pAttachments</code> that is used as a depth/stencil attachment by
<code>renderPass</code> <strong class="purple">must</strong> have been created with a <code>usage</code> value
including <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-pAttachments-00879" href="#VUID-VkFramebufferCreateInfo-pAttachments-00879"></a>
If <code>flags</code> does not include
<code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code>, each element of
<code>pAttachments</code> that is used as an input attachment by
<code>renderPass</code> <strong class="purple">must</strong> have been created with a <code>usage</code> value
including <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-pAttachments-00880" href="#VUID-VkFramebufferCreateInfo-pAttachments-00880"></a>
If <code>flags</code> does not include
<code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code>, each element of
<code>pAttachments</code> <strong class="purple">must</strong> have been created with a <a href="#VkFormat">VkFormat</a> value
that matches the <a href="#VkFormat">VkFormat</a> specified by the corresponding
<code>VkAttachmentDescription</code> in <code>renderPass</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-pAttachments-00881" href="#VUID-VkFramebufferCreateInfo-pAttachments-00881"></a>
If <code>flags</code> does not include
<code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code>, each element of
<code>pAttachments</code> <strong class="purple">must</strong> have been created with a <code>samples</code> value
that matches the <code>samples</code> value specified by the corresponding
<code>VkAttachmentDescription</code> in <code>renderPass</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-pAttachments-00882" href="#VUID-VkFramebufferCreateInfo-pAttachments-00882"></a>
If <code>flags</code> does not include
<code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code>, each element of
<code>pAttachments</code> <strong class="purple">must</strong> have dimensions at least as large as the
corresponding framebuffer dimension</p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-pAttachments-00883" href="#VUID-VkFramebufferCreateInfo-pAttachments-00883"></a>
If <code>flags</code> does not include
<code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code>, each element of
<code>pAttachments</code> <strong class="purple">must</strong> only specify a single mip level</p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-pAttachments-00884" href="#VUID-VkFramebufferCreateInfo-pAttachments-00884"></a>
If <code>flags</code> does not include
<code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code>, each element of
<code>pAttachments</code> <strong class="purple">must</strong> have been created with the identity swizzle</p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-width-00885" href="#VUID-VkFramebufferCreateInfo-width-00885"></a>
<code>width</code> <strong class="purple">must</strong> be greater than <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-width-00886" href="#VUID-VkFramebufferCreateInfo-width-00886"></a>
<code>width</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferWidth</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-height-00887" href="#VUID-VkFramebufferCreateInfo-height-00887"></a>
<code>height</code> <strong class="purple">must</strong> be greater than <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-height-00888" href="#VUID-VkFramebufferCreateInfo-height-00888"></a>
<code>height</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferHeight</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-layers-00889" href="#VUID-VkFramebufferCreateInfo-layers-00889"></a>
<code>layers</code> <strong class="purple">must</strong> be greater than <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-layers-00890" href="#VUID-VkFramebufferCreateInfo-layers-00890"></a>
<code>layers</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferLayers</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-flags-03188" href="#VUID-VkFramebufferCreateInfo-flags-03188"></a>
If <code>flags</code> does not include
<code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code>, and <code>attachmentCount</code> is
not 0, <code>pAttachments</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>attachmentCount</code> valid <a href="#VkImageView">VkImageView</a> handles</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-sType-sType" href="#VUID-VkFramebufferCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-pNext-pNext" href="#VUID-VkFramebufferCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-flags-zerobitmask" href="#VUID-VkFramebufferCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-renderPass-parameter" href="#VUID-VkFramebufferCreateInfo-renderPass-parameter"></a> <code>renderPass</code> <strong class="purple">must</strong> be a valid <a href="#VkRenderPass">VkRenderPass</a> handle</p>
</li>
<li>
<p><a id="VUID-VkFramebufferCreateInfo-commonparent" href="#VUID-VkFramebufferCreateInfo-commonparent"></a> Both of <code>renderPass</code>, and the elements of <code>pAttachments</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkFramebufferCreateInfo">VkFramebufferCreateInfo</a>::<code>flags</code> to
specify options for framebuffers are:</p>
</div>
<div id="VkFramebufferCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkFramebufferCreateFlagBits {
    VK_FRAMEBUFFER_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkFramebufferCreateFlagBits;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>All bits for this type are defined by extensions, and none of those
extensions are enabled in this build of the specification.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkFramebufferCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkFramebufferCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkFramebufferCreateFlags</code> is a bitmask type for setting a mask of zero
or more <a href="#VkFramebufferCreateFlagBits">VkFramebufferCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a framebuffer, call:</p>
</div>
<div id="vkDestroyFramebuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyFramebuffer(
    VkDevice                                    device,
    VkFramebuffer                               framebuffer,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the framebuffer.</p>
</li>
<li>
<p><code>framebuffer</code> is the handle of the framebuffer to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyFramebuffer-framebuffer-00892" href="#VUID-vkDestroyFramebuffer-framebuffer-00892"></a>
All submitted commands that refer to <code>framebuffer</code> <strong class="purple">must</strong> have
completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyFramebuffer-framebuffer-00893" href="#VUID-vkDestroyFramebuffer-framebuffer-00893"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>framebuffer</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyFramebuffer-framebuffer-00894" href="#VUID-vkDestroyFramebuffer-framebuffer-00894"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>framebuffer</code>
was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyFramebuffer-device-parameter" href="#VUID-vkDestroyFramebuffer-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyFramebuffer-framebuffer-parameter" href="#VUID-vkDestroyFramebuffer-framebuffer-parameter"></a> If <code>framebuffer</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>framebuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkFramebuffer">VkFramebuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyFramebuffer-pAllocator-parameter" href="#VUID-vkDestroyFramebuffer-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyFramebuffer-framebuffer-parent" href="#VUID-vkDestroyFramebuffer-framebuffer-parent"></a> If <code>framebuffer</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>framebuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="renderpass-commands"><a class="anchor" href="#renderpass-commands"></a>7.4. Render Pass Commands</h3>
<div class="paragraph">
<p>An application records the commands for a render pass instance one subpass
at a time, by beginning a render pass instance, iterating over the subpasses
to record commands for that subpass, and then ending the render pass
instance.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To begin a render pass instance, call:</p>
</div>
<div id="vkCmdBeginRenderPass" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdBeginRenderPass(
    VkCommandBuffer                             commandBuffer,
    <span class="directive">const</span> VkRenderPassBeginInfo*                pRenderPassBegin,
    VkSubpassContents                           contents);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer in which to record the
command.</p>
</li>
<li>
<p><code>pRenderPassBegin</code> is a pointer to a <a href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a>
structure specifying the render pass to begin an instance of, and the
framebuffer the instance uses.</p>
</li>
<li>
<p><code>contents</code> is a <a href="#VkSubpassContents">VkSubpassContents</a> value specifying how the
commands in the first subpass will be provided.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After beginning a render pass instance, the command buffer is ready to
record the commands for the first subpass of that render pass.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-initialLayout-00895" href="#VUID-vkCmdBeginRenderPass-initialLayout-00895"></a>
If any of the <code>initialLayout</code> or <code>finalLayout</code> member of the
<code>VkAttachmentDescription</code> structures or the <code>layout</code> member of
the <code>VkAttachmentReference</code> structures specified when creating the
render pass specified in the <code>renderPass</code> member of
<code>pRenderPassBegin</code> is <code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code>
then the corresponding attachment image view of the framebuffer
specified in the <code>framebuffer</code> member of <code>pRenderPassBegin</code>
<strong class="purple">must</strong> have been created with a <code>usage</code> value including
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-initialLayout-00896" href="#VUID-vkCmdBeginRenderPass-initialLayout-00896"></a>
If any of the <code>initialLayout</code> or <code>finalLayout</code> member of the
<code>VkAttachmentDescription</code> structures or the <code>layout</code> member of
the <code>VkAttachmentReference</code> structures specified when creating the
render pass specified in the <code>renderPass</code> member of
<code>pRenderPassBegin</code> is
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code>, or
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> then the
corresponding attachment image view of the framebuffer specified in the
<code>framebuffer</code> member of <code>pRenderPassBegin</code> <strong class="purple">must</strong> have been
created with a <code>usage</code> value including
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-initialLayout-00897" href="#VUID-vkCmdBeginRenderPass-initialLayout-00897"></a>
If any of the <code>initialLayout</code> or <code>finalLayout</code> member of the
<code>VkAttachmentDescription</code> structures or the <code>layout</code> member of
the <code>VkAttachmentReference</code> structures specified when creating the
render pass specified in the <code>renderPass</code> member of
<code>pRenderPassBegin</code> is <code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code>
then the corresponding attachment image view of the framebuffer
specified in the <code>framebuffer</code> member of <code>pRenderPassBegin</code>
<strong class="purple">must</strong> have been created with a <code>usage</code> value including
<code>VK_IMAGE_USAGE_SAMPLED_BIT</code> or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-initialLayout-00898" href="#VUID-vkCmdBeginRenderPass-initialLayout-00898"></a>
If any of the <code>initialLayout</code> or <code>finalLayout</code> member of the
<code>VkAttachmentDescription</code> structures or the <code>layout</code> member of
the <code>VkAttachmentReference</code> structures specified when creating the
render pass specified in the <code>renderPass</code> member of
<code>pRenderPassBegin</code> is <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code>
then the corresponding attachment image view of the framebuffer
specified in the <code>framebuffer</code> member of <code>pRenderPassBegin</code>
<strong class="purple">must</strong> have been created with a <code>usage</code> value including
<code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-initialLayout-00899" href="#VUID-vkCmdBeginRenderPass-initialLayout-00899"></a>
If any of the <code>initialLayout</code> or <code>finalLayout</code> member of the
<code>VkAttachmentDescription</code> structures or the <code>layout</code> member of
the <code>VkAttachmentReference</code> structures specified when creating the
render pass specified in the <code>renderPass</code> member of
<code>pRenderPassBegin</code> is <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>
then the corresponding attachment image view of the framebuffer
specified in the <code>framebuffer</code> member of <code>pRenderPassBegin</code>
<strong class="purple">must</strong> have been created with a <code>usage</code> value including
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-initialLayout-00900" href="#VUID-vkCmdBeginRenderPass-initialLayout-00900"></a>
If any of the <code>initialLayout</code> members of the
<code>VkAttachmentDescription</code> structures specified when creating the
render pass specified in the <code>renderPass</code> member of
<code>pRenderPassBegin</code> is not <code>VK_IMAGE_LAYOUT_UNDEFINED</code>, then each
such <code>initialLayout</code> <strong class="purple">must</strong> be equal to the current layout of the
corresponding attachment image subresource of the framebuffer specified
in the <code>framebuffer</code> member of <code>pRenderPassBegin</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-srcStageMask-00901" href="#VUID-vkCmdBeginRenderPass-srcStageMask-00901"></a>
The <code>srcStageMask</code> and <code>dstStageMask</code> members of any element of
the <code>pDependencies</code> member of <a href="#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a> used to
create <code>renderPass</code> <strong class="purple">must</strong> be supported by the capabilities of the
queue family identified by the <code>queueFamilyIndex</code> member of the
<a href="#VkCommandPoolCreateInfo">VkCommandPoolCreateInfo</a> used to create the command pool which
<code>commandBuffer</code> was allocated from</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-framebuffer-02532" href="#VUID-vkCmdBeginRenderPass-framebuffer-02532"></a>
For any attachment in <code>framebuffer</code> that is used by <code>renderPass</code>
and is bound to memory locations that are also bound to another
attachment used by <code>renderPass</code>, and if at least one of those uses
causes either attachment to be written to, both attachments <strong class="purple">must</strong> have
had the <code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code> set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-commandBuffer-parameter" href="#VUID-vkCmdBeginRenderPass-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-pRenderPassBegin-parameter" href="#VUID-vkCmdBeginRenderPass-pRenderPassBegin-parameter"></a> <code>pRenderPassBegin</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-contents-parameter" href="#VUID-vkCmdBeginRenderPass-contents-parameter"></a> <code>contents</code> <strong class="purple">must</strong> be a valid <a href="#VkSubpassContents">VkSubpassContents</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-commandBuffer-recording" href="#VUID-vkCmdBeginRenderPass-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-commandBuffer-cmdpool" href="#VUID-vkCmdBeginRenderPass-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-renderpass" href="#VUID-vkCmdBeginRenderPass-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginRenderPass-bufferlevel" href="#VUID-vkCmdBeginRenderPass-bufferlevel"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a primary <code>VkCommandBuffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkRenderPassBeginInfo</code> structure is defined as:</p>
</div>
<div id="VkRenderPassBeginInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkRenderPassBeginInfo {
    VkStructureType        sType;
    <span class="directive">const</span> <span class="directive">void</span>*            pNext;
    VkRenderPass           renderPass;
    VkFramebuffer          framebuffer;
    VkRect2D               renderArea;
    uint32_t               clearValueCount;
    <span class="directive">const</span> VkClearValue*    pClearValues;
} VkRenderPassBeginInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>renderPass</code> is the render pass to begin an instance of.</p>
</li>
<li>
<p><code>framebuffer</code> is the framebuffer containing the attachments that are
used with the render pass.</p>
</li>
<li>
<p><code>renderArea</code> is the render area that is affected by the render pass
instance, and is described in more detail below.</p>
</li>
<li>
<p><code>clearValueCount</code> is the number of elements in <code>pClearValues</code>.</p>
</li>
<li>
<p><code>pClearValues</code> is a pointer to an array of <code>clearValueCount</code>
<a href="#VkClearValue">VkClearValue</a> structures that contains clear values for each
attachment, if the attachment uses a <code>loadOp</code> value of
<code>VK_ATTACHMENT_LOAD_OP_CLEAR</code> or if the attachment has a
depth/stencil format and uses a <code>stencilLoadOp</code> value of
<code>VK_ATTACHMENT_LOAD_OP_CLEAR</code>.
The array is indexed by attachment number.
Only elements corresponding to cleared attachments are used.
Other elements of <code>pClearValues</code> are ignored.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>renderArea</code> is the render area that is affected by the render pass
instance.
The effects of attachment load, store and multisample resolve operations are
restricted to the pixels whose x and y coordinates fall within the render
area on all attachments.
The render area extends to all layers of <code>framebuffer</code>.
The application <strong class="purple">must</strong> ensure (using scissor if necessary) that all rendering
is contained within the render area.
The render area <strong class="purple">must</strong> be contained within the framebuffer dimensions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There <strong class="purple">may</strong> be a performance cost for using a render area smaller than the
framebuffer, unless it matches the render area granularity for the render
pass.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-clearValueCount-00902" href="#VUID-VkRenderPassBeginInfo-clearValueCount-00902"></a>
<code>clearValueCount</code> <strong class="purple">must</strong> be greater than the largest attachment index
in <code>renderPass</code> that specifies a <code>loadOp</code> (or
<code>stencilLoadOp</code>, if the attachment has a depth/stencil format) of
<code>VK_ATTACHMENT_LOAD_OP_CLEAR</code></p>
</li>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-renderPass-00904" href="#VUID-VkRenderPassBeginInfo-renderPass-00904"></a>
<code>renderPass</code> <strong class="purple">must</strong> be <a href="#renderpass-compatibility">compatible</a> with
the <code>renderPass</code> member of the <code>VkFramebufferCreateInfo</code>
structure specified when creating <code>framebuffer</code></p>
</li>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-renderArea-02846" href="#VUID-VkRenderPassBeginInfo-renderArea-02846"></a>
<code>renderArea.offset.x</code> <strong class="purple">must</strong> be greater than or equal to 0</p>
</li>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-renderArea-02847" href="#VUID-VkRenderPassBeginInfo-renderArea-02847"></a>
<code>renderArea.offset.y</code> <strong class="purple">must</strong> be greater than or equal to 0</p>
</li>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-renderArea-02848" href="#VUID-VkRenderPassBeginInfo-renderArea-02848"></a>
<span class="eq"><code>renderArea.offset.x</code> +  <code>renderArea.offset.width</code></span>
<strong class="purple">must</strong> be less than or equal to
<a href="#VkFramebufferCreateInfo">VkFramebufferCreateInfo</a>::<code>width</code> the <code>framebuffer</code> was
created with</p>
</li>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-renderArea-02849" href="#VUID-VkRenderPassBeginInfo-renderArea-02849"></a>
<span class="eq"><code>renderArea.offset.y</code> +  <code>renderArea.offset.height</code></span>
<strong class="purple">must</strong> be less than or equal to
<a href="#VkFramebufferCreateInfo">VkFramebufferCreateInfo</a>::<code>height</code> the <code>framebuffer</code> was
created with</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-sType-sType" href="#VUID-VkRenderPassBeginInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-pNext-pNext" href="#VUID-VkRenderPassBeginInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-renderPass-parameter" href="#VUID-VkRenderPassBeginInfo-renderPass-parameter"></a> <code>renderPass</code> <strong class="purple">must</strong> be a valid <a href="#VkRenderPass">VkRenderPass</a> handle</p>
</li>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-framebuffer-parameter" href="#VUID-VkRenderPassBeginInfo-framebuffer-parameter"></a> <code>framebuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkFramebuffer">VkFramebuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-pClearValues-parameter" href="#VUID-VkRenderPassBeginInfo-pClearValues-parameter"></a> If <code>clearValueCount</code> is not <code>0</code>, <code>pClearValues</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>clearValueCount</code> <a href="#VkClearValue">VkClearValue</a> unions</p>
</li>
<li>
<p><a id="VUID-VkRenderPassBeginInfo-commonparent" href="#VUID-VkRenderPassBeginInfo-commonparent"></a> Both of <code>framebuffer</code>, and <code>renderPass</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a>::<code>contents</code>, specifying
how the commands in the first subpass will be provided, are:</p>
</div>
<div id="VkSubpassContents" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkSubpassContents {
    VK_SUBPASS_CONTENTS_INLINE = <span class="integer">0</span>,
    VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS = <span class="integer">1</span>,
    VK_SUBPASS_CONTENTS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkSubpassContents;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBPASS_CONTENTS_INLINE</code> specifies that the contents of the
subpass will be recorded inline in the primary command buffer, and
secondary command buffers <strong class="purple">must</strong> not be executed within the subpass.</p>
</li>
<li>
<p><code>VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS</code> specifies that the
contents are recorded in secondary command buffers that will be called
from the primary command buffer, and <a href="#vkCmdExecuteCommands">vkCmdExecuteCommands</a> is the
only valid command on the command buffer until <a href="#vkCmdNextSubpass">vkCmdNextSubpass</a> or
<a href="#vkCmdEndRenderPass">vkCmdEndRenderPass</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the render area granularity, call:</p>
</div>
<div id="vkGetRenderAreaGranularity" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetRenderAreaGranularity(
    VkDevice                                    device,
    VkRenderPass                                renderPass,
    VkExtent2D*                                 pGranularity);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the render pass.</p>
</li>
<li>
<p><code>renderPass</code> is a handle to a render pass.</p>
</li>
<li>
<p><code>pGranularity</code> is a pointer to a <a href="#VkExtent2D">VkExtent2D</a> structure in which
the granularity is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The conditions leading to an optimal <code>renderArea</code> are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>offset.x</code> member in <code>renderArea</code> is a multiple of the
<code>width</code> member of the returned <a href="#VkExtent2D">VkExtent2D</a> (the horizontal
granularity).</p>
</li>
<li>
<p>the <code>offset.y</code> member in <code>renderArea</code> is a multiple of the
<code>height</code> of the returned <a href="#VkExtent2D">VkExtent2D</a> (the vertical
granularity).</p>
</li>
<li>
<p>either the <code>offset.width</code> member in <code>renderArea</code> is a multiple
of the horizontal granularity or <code>offset.x</code>+<code>offset.width</code> is
equal to the <code>width</code> of the <code>framebuffer</code> in the
<a href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a>.</p>
</li>
<li>
<p>either the <code>offset.height</code> member in <code>renderArea</code> is a multiple
of the vertical granularity or <code>offset.y</code>+<code>offset.height</code> is
equal to the <code>height</code> of the <code>framebuffer</code> in the
<a href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Subpass dependencies are not affected by the render area, and apply to the
entire image subresources attached to the framebuffer as specified in the
description of <a href="#renderpass-layout-transitions">automatic layout
transitions</a>.
Similarly, pipeline barriers are valid even if their effect extends outside
the render area.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetRenderAreaGranularity-device-parameter" href="#VUID-vkGetRenderAreaGranularity-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRenderAreaGranularity-renderPass-parameter" href="#VUID-vkGetRenderAreaGranularity-renderPass-parameter"></a> <code>renderPass</code> <strong class="purple">must</strong> be a valid <a href="#VkRenderPass">VkRenderPass</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetRenderAreaGranularity-pGranularity-parameter" href="#VUID-vkGetRenderAreaGranularity-pGranularity-parameter"></a> <code>pGranularity</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkExtent2D">VkExtent2D</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetRenderAreaGranularity-renderPass-parent" href="#VUID-vkGetRenderAreaGranularity-renderPass-parent"></a> <code>renderPass</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To transition to the next subpass in the render pass instance after
recording the commands for a subpass, call:</p>
</div>
<div id="vkCmdNextSubpass" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdNextSubpass(
    VkCommandBuffer                             commandBuffer,
    VkSubpassContents                           contents);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer in which to record the
command.</p>
</li>
<li>
<p><code>contents</code> specifies how the commands in the next subpass will be
provided, in the same fashion as the corresponding parameter of
<a href="#vkCmdBeginRenderPass">vkCmdBeginRenderPass</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The subpass index for a render pass begins at zero when
<code>vkCmdBeginRenderPass</code> is recorded, and increments each time
<code>vkCmdNextSubpass</code> is recorded.</p>
</div>
<div class="paragraph">
<p>Moving to the next subpass automatically performs any multisample resolve
operations in the subpass being ended.
End-of-subpass multisample resolves are treated as color attachment writes
for the purposes of synchronization.
That is, they are considered to execute in the
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> pipeline stage and their
writes are synchronized with <code>VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT</code>.
Synchronization between rendering within a subpass and any resolve
operations at the end of the subpass occurs automatically, without need for
explicit dependencies or pipeline barriers.
However, if the resolve attachment is also used in a different subpass, an
explicit dependency is needed.</p>
</div>
<div class="paragraph">
<p>After transitioning to the next subpass, the application <strong class="purple">can</strong> record the
commands for that subpass.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdNextSubpass-None-00909" href="#VUID-vkCmdNextSubpass-None-00909"></a>
The current subpass index <strong class="purple">must</strong> be less than the number of subpasses in
the render pass minus one</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdNextSubpass-commandBuffer-parameter" href="#VUID-vkCmdNextSubpass-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdNextSubpass-contents-parameter" href="#VUID-vkCmdNextSubpass-contents-parameter"></a> <code>contents</code> <strong class="purple">must</strong> be a valid <a href="#VkSubpassContents">VkSubpassContents</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdNextSubpass-commandBuffer-recording" href="#VUID-vkCmdNextSubpass-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdNextSubpass-commandBuffer-cmdpool" href="#VUID-vkCmdNextSubpass-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdNextSubpass-renderpass" href="#VUID-vkCmdNextSubpass-renderpass"></a> This command <strong class="purple">must</strong> only be called inside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdNextSubpass-bufferlevel" href="#VUID-vkCmdNextSubpass-bufferlevel"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a primary <code>VkCommandBuffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record a command to end a render pass instance after recording the
commands for the last subpass, call:</p>
</div>
<div id="vkCmdEndRenderPass" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdEndRenderPass(
    VkCommandBuffer                             commandBuffer);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer in which to end the current
render pass instance.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ending a render pass instance performs any multisample resolve operations on
the final subpass.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdEndRenderPass-None-00910" href="#VUID-vkCmdEndRenderPass-None-00910"></a>
The current subpass index <strong class="purple">must</strong> be equal to the number of subpasses in
the render pass minus one</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdEndRenderPass-commandBuffer-parameter" href="#VUID-vkCmdEndRenderPass-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdEndRenderPass-commandBuffer-recording" href="#VUID-vkCmdEndRenderPass-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdEndRenderPass-commandBuffer-cmdpool" href="#VUID-vkCmdEndRenderPass-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdEndRenderPass-renderpass" href="#VUID-vkCmdEndRenderPass-renderpass"></a> This command <strong class="purple">must</strong> only be called inside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdEndRenderPass-bufferlevel" href="#VUID-vkCmdEndRenderPass-bufferlevel"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a primary <code>VkCommandBuffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="shaders"><a class="anchor" href="#shaders"></a>8. Shaders</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A shader specifies programmable operations that execute for each vertex,
control point, tessellated vertex, primitive, fragment, or workgroup in the
corresponding stage(s) of the graphics and compute pipelines.</p>
</div>
<div class="paragraph">
<p>Graphics pipelines include vertex shader execution as a result of
<a href="#drawing">primitive assembly</a>, followed, if enabled, by tessellation
control and evaluation shaders operating on <a href="#drawing-patch-lists">patches</a>,
geometry shaders, if enabled, operating on primitives, and fragment shaders,
if present, operating on fragments generated by <a href="#primsrast">Rasterization</a>.
In this specification, vertex, tessellation control, tessellation evaluation
and geometry shaders are collectively referred to as vertex processing
stages and occur in the logical pipeline before rasterization.
The fragment shader occurs logically after rasterization.</p>
</div>
<div class="paragraph">
<p>Only the compute shader stage is included in a compute pipeline.
Compute shaders operate on compute invocations in a workgroup.</p>
</div>
<div class="paragraph">
<p>Shaders <strong class="purple">can</strong> read from input variables, and read from and write to output
variables.
Input and output variables <strong class="purple">can</strong> be used to transfer data between shader
stages, or to allow the shader to interact with values that exist in the
execution environment.
Similarly, the execution environment provides constants that describe
capabilities.</p>
</div>
<div class="paragraph">
<p>Shader variables are associated with execution environment-provided inputs
and outputs using <em>built-in</em> decorations in the shader.
The available decorations for each stage are documented in the following
subsections.</p>
</div>
<div class="sect2">
<h3 id="shader-modules"><a class="anchor" href="#shader-modules"></a>8.1. Shader Modules</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><em>Shader modules</em> contain <em>shader code</em> and one or more entry points.
Shaders are selected from a shader module by specifying an entry point as
part of <a href="#pipelines">pipeline</a> creation.
The stages of a pipeline <strong class="purple">can</strong> use shaders that come from different modules.
The shader code defining a shader module <strong class="purple">must</strong> be in the SPIR-V format, as
described by the <a href="#spirvenv">Vulkan Environment for SPIR-V</a> appendix.</p>
</div>
<div class="paragraph">
<p>Shader modules are represented by <code>VkShaderModule</code> handles:</p>
</div>
<div id="VkShaderModule" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkShaderModule)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a shader module, call:</p>
</div>
<div id="vkCreateShaderModule" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateShaderModule(
    VkDevice                                    device,
    <span class="directive">const</span> VkShaderModuleCreateInfo*             pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkShaderModule*                             pShaderModule);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the shader module.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkShaderModuleCreateInfo</code>
structure.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pShaderModule</code> is a pointer to a <a href="#VkShaderModule">VkShaderModule</a> handle in
which the resulting shader module object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once a shader module has been created, any entry points it contains <strong class="purple">can</strong> be
used in pipeline shader stages as described in <a href="#pipelines-compute">Compute
Pipelines</a> and <a href="#pipelines-graphics">Graphics Pipelines</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateShaderModule-device-parameter" href="#VUID-vkCreateShaderModule-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateShaderModule-pCreateInfo-parameter" href="#VUID-vkCreateShaderModule-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateShaderModule-pAllocator-parameter" href="#VUID-vkCreateShaderModule-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateShaderModule-pShaderModule-parameter" href="#VUID-vkCreateShaderModule-pShaderModule-parameter"></a> <code>pShaderModule</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkShaderModule">VkShaderModule</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkShaderModuleCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkShaderModuleCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkShaderModuleCreateInfo {
    VkStructureType              sType;
    <span class="directive">const</span> <span class="directive">void</span>*                  pNext;
    VkShaderModuleCreateFlags    flags;
    size_t                       codeSize;
    <span class="directive">const</span> uint32_t*              pCode;
} VkShaderModuleCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>codeSize</code> is the size, in bytes, of the code pointed to by
<code>pCode</code>.</p>
</li>
<li>
<p><code>pCode</code> is a pointer to code that is used to create the shader
module.
The type and format of the code is determined from the content of the
memory addressed by <code>pCode</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-codeSize-01085" href="#VUID-VkShaderModuleCreateInfo-codeSize-01085"></a>
<code>codeSize</code> <strong class="purple">must</strong> be greater than 0</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-codeSize-01086" href="#VUID-VkShaderModuleCreateInfo-codeSize-01086"></a>
<code>codeSize</code> <strong class="purple">must</strong> be a multiple of 4</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-01087" href="#VUID-VkShaderModuleCreateInfo-pCode-01087"></a>
<code>pCode</code> <strong class="purple">must</strong> point to valid SPIR-V code, formatted and packed as
described by the <a href="#spirv-spec">Khronos SPIR-V Specification</a></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-01088" href="#VUID-VkShaderModuleCreateInfo-pCode-01088"></a>
<code>pCode</code> <strong class="purple">must</strong> adhere to the validation rules described by the
<a href="#spirvenv-module-validation">Validation Rules within a Module</a> section
of the <a href="#spirvenv-capabilities">SPIR-V Environment</a> appendix</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-01089" href="#VUID-VkShaderModuleCreateInfo-pCode-01089"></a>
<code>pCode</code> <strong class="purple">must</strong> declare the <code>Shader</code> capability for SPIR-V code</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-01090" href="#VUID-VkShaderModuleCreateInfo-pCode-01090"></a>
<code>pCode</code> <strong class="purple">must</strong> not declare any capability that is not supported by
the API, as described by the <a href="#spirvenv-module-validation">Capabilities</a> section of the <a href="#spirvenv-capabilities">SPIR-V
Environment</a> appendix</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-01091" href="#VUID-VkShaderModuleCreateInfo-pCode-01091"></a>
If <code>pCode</code> declares any of the capabilities listed as <strong class="purple">optional</strong> in
the <a href="#spirvenv-capabilities-table">SPIR-V Environment</a> appendix, the
corresponding feature(s) <strong class="purple">must</strong> be enabled.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-sType-sType" href="#VUID-VkShaderModuleCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pNext-pNext" href="#VUID-VkShaderModuleCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-flags-zerobitmask" href="#VUID-VkShaderModuleCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-parameter" href="#VUID-VkShaderModuleCreateInfo-pCode-parameter"></a> <code>pCode</code> <strong class="purple">must</strong> be a valid pointer to an array of \(\textrm{codeSize} \over 4\) <code>uint32_t</code> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkShaderModuleCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkShaderModuleCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkShaderModuleCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a shader module, call:</p>
</div>
<div id="vkDestroyShaderModule" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyShaderModule(
    VkDevice                                    device,
    VkShaderModule                              shaderModule,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the shader module.</p>
</li>
<li>
<p><code>shaderModule</code> is the handle of the shader module to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A shader module <strong class="purple">can</strong> be destroyed while pipelines created using its shaders
are still in use.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-01092" href="#VUID-vkDestroyShaderModule-shaderModule-01092"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>shaderModule</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-01093" href="#VUID-vkDestroyShaderModule-shaderModule-01093"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>shaderModule</code>
was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyShaderModule-device-parameter" href="#VUID-vkDestroyShaderModule-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-parameter" href="#VUID-vkDestroyShaderModule-shaderModule-parameter"></a> If <code>shaderModule</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>shaderModule</code> <strong class="purple">must</strong> be a valid <a href="#VkShaderModule">VkShaderModule</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-pAllocator-parameter" href="#VUID-vkDestroyShaderModule-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-parent" href="#VUID-vkDestroyShaderModule-shaderModule-parent"></a> If <code>shaderModule</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>shaderModule</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-execution"><a class="anchor" href="#shaders-execution"></a>8.2. Shader Execution</h3>
<div class="paragraph">
<p>At each stage of the pipeline, multiple invocations of a shader <strong class="purple">may</strong> execute
simultaneously.
Further, invocations of a single shader produced as the result of different
commands <strong class="purple">may</strong> execute simultaneously.
The relative execution order of invocations of the same shader type is
undefined.
Shader invocations <strong class="purple">may</strong> complete in a different order than that in which the
primitives they originated from were drawn or dispatched by the application.
However, fragment shader outputs are written to attachments in
<a href="#primrast-order">rasterization order</a>.</p>
</div>
<div class="paragraph">
<p>The relative execution order of invocations of different shader types is
largely undefined.
However, when invoking a shader whose inputs are generated from a previous
pipeline stage, the shader invocations from the previous stage are
guaranteed to have executed far enough to generate input values for all
required inputs.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-execution-memory-ordering"><a class="anchor" href="#shaders-execution-memory-ordering"></a>8.3. Shader Memory Access Ordering</h3>
<div class="paragraph">
<p>The order in which image or buffer memory is read or written by shaders is
largely undefined.
For some shader types (vertex, tessellation evaluation, and in some cases,
fragment), even the number of shader invocations that <strong class="purple">may</strong> perform loads and
stores is undefined.</p>
</div>
<div class="paragraph">
<p>In particular, the following rules apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#shaders-vertex-execution">Vertex</a> and
<a href="#shaders-tessellation-evaluation-execution">tessellation evaluation</a>
shaders will be invoked at least once for each unique vertex, as defined
in those sections.</p>
</li>
<li>
<p><a href="#shaders-fragment-execution">Fragment</a> shaders will be invoked zero or
more times, as defined in that section.</p>
</li>
<li>
<p>The relative execution order of invocations of the same shader type is
undefined.
A store issued by a shader when working on primitive B might complete
prior to a store for primitive A, even if primitive A is specified prior
to primitive B. This applies even to fragment shaders; while fragment
shader outputs are always written to the framebuffer in
<a href="#primrast-order">rasterization order</a>, stores executed by fragment
shader invocations are not.</p>
</li>
<li>
<p>The relative execution order of invocations of different shader types is
largely undefined.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The above limitations on shader invocation order make some forms of
synchronization between shader invocations within a single set of primitives
unimplementable.
For example, having one invocation poll memory written by another invocation
assumes that the other invocation has been launched and will complete its
writes in finite time.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Stores issued to different memory locations within a single shader
invocation <strong class="purple">may</strong> not be visible to other invocations, or <strong class="purple">may</strong> not become
visible in the order they were performed.</p>
</div>
<div class="paragraph">
<p>The <code>OpMemoryBarrier</code> instruction <strong class="purple">can</strong> be used to provide stronger
ordering of reads and writes performed by a single invocation.
<code>OpMemoryBarrier</code> guarantees that any memory transactions issued by the
shader invocation prior to the instruction complete prior to the memory
transactions issued after the instruction.
Memory barriers are needed for algorithms that require multiple invocations
to access the same memory and require the operations to be performed in a
partially-defined relative order.
For example, if one shader invocation does a series of writes, followed by
an <code>OpMemoryBarrier</code> instruction, followed by another write, then the
results of the series of writes before the barrier become visible to other
shader invocations at a time earlier or equal to when the results of the
final write become visible to those invocations.
In practice it means that another invocation that sees the results of the
final write would also see the previous writes.
Without the memory barrier, the final write <strong class="purple">may</strong> be visible before the
previous writes.</p>
</div>
<div class="paragraph">
<p>Writes that are the result of shader stores through a variable decorated
with <code>Coherent</code> automatically have available writes to the same buffer,
buffer view, or image view made visible to them, and are themselves
automatically made available to access by the same buffer, buffer view, or
image view.
Reads that are the result of shader loads through a variable decorated with
<code>Coherent</code> automatically have available writes to the same buffer, buffer
view, or image view made visible to them.
The order that coherent writes to different locations become available is
undefined, unless enforced by a memory barrier instruction or other memory
dependency.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Explicit memory dependencies <strong class="purple">must</strong> still be used to guarantee availability
and visibility for access via other buffers, buffer views, or image views.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The built-in atomic memory transaction instructions <strong class="purple">can</strong> be used to read and
write a given memory address atomically.
While built-in atomic functions issued by multiple shader invocations are
executed in undefined order relative to each other, these functions perform
both a read and a write of a memory address and guarantee that no other
memory transaction will write to the underlying memory between the read and
write.
Atomic operations ensure automatic availability and visibility for writes
and reads in the same way as those to <code>Coherent</code> variables.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Memory accesses performed on different resource descriptors with the same
memory backing <strong class="purple">may</strong> not be well-defined even with the <code>Coherent</code>
decoration or via atomics, due to things such as image layouts or ownership
of the resource - as described in the <a href="#synchronization">Synchronization and
Cache Control</a> chapter.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Atomics allow shaders to use shared global addresses for mutual exclusion or
as counters, among other uses.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="shaders-inputs"><a class="anchor" href="#shaders-inputs"></a>8.4. Shader Inputs and Outputs</h3>
<div class="paragraph">
<p>Data is passed into and out of shaders using variables with input or output
storage class, respectively.
User-defined inputs and outputs are connected between stages by matching
their <code>Location</code> decorations.
Additionally, data <strong class="purple">can</strong> be provided by or communicated to special functions
provided by the execution environment using <code>BuiltIn</code> decorations.</p>
</div>
<div class="paragraph">
<p>In many cases, the same <code>BuiltIn</code> decoration <strong class="purple">can</strong> be used in multiple
shader stages with similar meaning.
The specific behavior of variables decorated as <code>BuiltIn</code> is documented
in the following sections.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-vertex"><a class="anchor" href="#shaders-vertex"></a>8.5. Vertex Shaders</h3>
<div class="paragraph">
<p>Each vertex shader invocation operates on one vertex and its associated
<a href="#fxvertex-attrib">vertex attribute</a> data, and outputs one vertex and
associated data.
Graphics pipelines <strong class="purple">must</strong> include a vertex shader, and the vertex shader
stage is always the first shader stage in the graphics pipeline.</p>
</div>
<div class="sect3">
<h4 id="shaders-vertex-execution"><a class="anchor" href="#shaders-vertex-execution"></a>8.5.1. Vertex Shader Execution</h4>
<div class="paragraph">
<p>A vertex shader <strong class="purple">must</strong> be executed at least once for each vertex specified by
a draw command.
During execution, the shader is presented with the index of the vertex and
instance for which it has been invoked.
Input variables declared in the vertex shader are filled by the
implementation with the values of vertex attributes associated with the
invocation being executed.</p>
</div>
<div class="paragraph">
<p>If the same vertex is specified multiple times in a draw command (e.g. by
including the same index value multiple times in an index buffer) the
implementation <strong class="purple">may</strong> reuse the results of vertex shading if it can statically
determine that the vertex shader invocations will produce identical results.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is implementation-dependent when and if results of vertex shading are
reused, and thus how many times the vertex shader will be executed.
This is true also if the vertex shader contains stores or atomic operations
(see <a href="#features-vertexPipelineStoresAndAtomics"><code>vertexPipelineStoresAndAtomics</code></a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-tessellation-control"><a class="anchor" href="#shaders-tessellation-control"></a>8.6. Tessellation Control Shaders</h3>
<div class="paragraph">
<p>The tessellation control shader is used to read an input patch provided by
the application and to produce an output patch.
Each tessellation control shader invocation operates on an input patch
(after all control points in the patch are processed by a vertex shader) and
its associated data, and outputs a single control point of the output patch
and its associated data, and <strong class="purple">can</strong> also output additional per-patch data.
The input patch is sized according to the <code>patchControlPoints</code> member of
<a href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a>, as part of input assembly.
The size of the output patch is controlled by the <code>OpExecutionMode</code>
<code>OutputVertices</code> specified in the tessellation control or tessellation
evaluation shaders, which <strong class="purple">must</strong> be specified in at least one of the shaders.
The size of the input and output patches <strong class="purple">must</strong> each be greater than zero and
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code>.</p>
</div>
<div class="sect3">
<h4 id="shaders-tessellation-control-execution"><a class="anchor" href="#shaders-tessellation-control-execution"></a>8.6.1. Tessellation Control Shader Execution</h4>
<div class="paragraph">
<p>A tessellation control shader is invoked at least once for each <em>output</em>
vertex in a patch.</p>
</div>
<div class="paragraph">
<p>Inputs to the tessellation control shader are generated by the vertex
shader.
Each invocation of the tessellation control shader <strong class="purple">can</strong> read the attributes
of any incoming vertices and their associated data.
The invocations corresponding to a given patch execute logically in
parallel, with undefined relative execution order.
However, the <code>OpControlBarrier</code> instruction <strong class="purple">can</strong> be used to provide
limited control of the execution order by synchronizing invocations within a
patch, effectively dividing tessellation control shader execution into a set
of phases.
Tessellation control shaders will read undefined values if one invocation
reads a per-vertex or per-patch attribute written by another invocation at
any point during the same phase, or if two invocations attempt to write
different values to the same per-patch output in a single phase.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-tessellation-evaluation"><a class="anchor" href="#shaders-tessellation-evaluation"></a>8.7. Tessellation Evaluation Shaders</h3>
<div class="paragraph">
<p>The Tessellation Evaluation Shader operates on an input patch of control
points and their associated data, and a single input barycentric coordinate
indicating the invocation&#8217;s relative position within the subdivided patch,
and outputs a single vertex and its associated data.</p>
</div>
<div class="sect3">
<h4 id="shaders-tessellation-evaluation-execution"><a class="anchor" href="#shaders-tessellation-evaluation-execution"></a>8.7.1. Tessellation Evaluation Shader Execution</h4>
<div class="paragraph">
<p>A tessellation evaluation shader is invoked at least once for each unique
vertex generated by the tessellator.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-geometry"><a class="anchor" href="#shaders-geometry"></a>8.8. Geometry Shaders</h3>
<div class="paragraph">
<p>The geometry shader operates on a group of vertices and their associated
data assembled from a single input primitive, and emits zero or more output
primitives and the group of vertices and their associated data required for
each output primitive.</p>
</div>
<div class="sect3">
<h4 id="shaders-geometry-execution"><a class="anchor" href="#shaders-geometry-execution"></a>8.8.1. Geometry Shader Execution</h4>
<div class="paragraph">
<p>A geometry shader is invoked at least once for each primitive produced by
the tessellation stages, or at least once for each primitive generated by
<a href="#drawing">primitive assembly</a> when tessellation is not in use.
A shader can request that the geometry shader runs multiple
<a href="#geometry-invocations">instances</a>.
A geometry shader is invoked at least once for each instance.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-fragment"><a class="anchor" href="#shaders-fragment"></a>8.9. Fragment Shaders</h3>
<div class="paragraph">
<p>Fragment shaders are invoked as the result of rasterization in a graphics
pipeline.
Each fragment shader invocation operates on a single fragment and its
associated data.
With few exceptions, fragment shaders do not have access to any data
associated with other fragments and are considered to execute in isolation
of fragment shader invocations associated with other fragments.</p>
</div>
<div class="sect3">
<h4 id="shaders-fragment-execution"><a class="anchor" href="#shaders-fragment-execution"></a>8.9.1. Fragment Shader Execution</h4>
<div class="paragraph">
<p>For each fragment generated by rasterization, a fragment shader <strong class="purple">may</strong> be
invoked.
A fragment shader <strong class="purple">must</strong> not be invoked if the <a href="#fragops-early">Early
Per-Fragment Tests</a> cause it to have no coverage.</p>
</div>
<div class="paragraph">
<p>Furthermore, if it is determined that a fragment generated as the result of
rasterizing a first primitive will have its outputs entirely overwritten by
a fragment generated as the result of rasterizing a second primitive in the
same subpass, and the fragment shader used for the fragment has no other
side effects, then the fragment shader <strong class="purple">may</strong> not be executed for the fragment
from the first primitive.</p>
</div>
<div class="paragraph">
<p>Relative ordering of execution of different fragment shader invocations is
not defined.</p>
</div>
<div class="paragraph">
<p>For each fragment generated by a primitive, the number of times the fragment
shader is invoked is implementation-dependent, but <strong class="purple">must</strong> obey the following
constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each covered sample is included in a single fragment shader invocation.</p>
</li>
<li>
<p>When sample shading is not enabled, there is at least one fragment
shader invocation.</p>
</li>
<li>
<p>When sample shading is enabled, the minimum number of fragment shader
invocations is as defined in
<a href="#primsrast-sampleshading">Sample Shading</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When there is more than one fragment shader invocation per fragment, the
association of samples to invocations is implementation-dependent.</p>
</div>
<div class="paragraph">
<p>In addition to the conditions outlined above for the invocation of a
fragment shader, a fragment shader invocation <strong class="purple">may</strong> be produced as a <em>helper
invocation</em>.
A helper invocation is a fragment shader invocation that is created solely
for the purposes of evaluating derivatives for use in non-helper fragment
shader invocations.
Stores and atomics performed by helper invocations <strong class="purple">must</strong> not have any effect
on memory, and values returned by atomic instructions in helper invocations
are undefined.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-fragment-earlytest"><a class="anchor" href="#shaders-fragment-earlytest"></a>8.9.2. Early Fragment Tests</h4>
<div class="paragraph">
<p>An explicit control is provided to allow fragment shaders to enable early
fragment tests.
If the fragment shader specifies the <code>EarlyFragmentTests</code>
<code>OpExecutionMode</code>, the per-fragment tests described in
<a href="#fragops-early-mode">Early Fragment Test Mode</a> are performed prior to
fragment shader execution.
Otherwise, they are performed after fragment shader execution.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-compute"><a class="anchor" href="#shaders-compute"></a>8.10. Compute Shaders</h3>
<div class="paragraph">
<p>Compute shaders are invoked via <a href="#vkCmdDispatch">vkCmdDispatch</a> and
<a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a> commands.
In general, they have access to similar resources as shader stages executing
as part of a graphics pipeline.</p>
</div>
<div class="paragraph">
<p>Compute workloads are formed from groups of work items called workgroups and
processed by the compute shader in the current compute pipeline.
A workgroup is a collection of shader invocations that execute the same
shader, potentially in parallel.
Compute shaders execute in <em>global workgroups</em> which are divided into a
number of <em>local workgroups</em> with a size that <strong class="purple">can</strong> be set by assigning a
value to the <code>LocalSize</code> execution mode or via an object decorated by the
<code>WorkgroupSize</code> decoration.
An invocation within a local workgroup <strong class="purple">can</strong> share data with other members of
the local workgroup through shared variables and issue memory and control
flow barriers to synchronize with other members of the local workgroup.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-interpolation-decorations"><a class="anchor" href="#shaders-interpolation-decorations"></a>8.11. Interpolation Decorations</h3>
<div class="paragraph">
<p>Interpolation decorations control the behavior of attribute interpolation in
the fragment shader stage.
Interpolation decorations <strong class="purple">can</strong> be applied to <code>Input</code> storage class
variables in the fragment shader stage&#8217;s interface, and control the
interpolation behavior of those variables.</p>
</div>
<div class="paragraph">
<p>Inputs that could be interpolated <strong class="purple">can</strong> be decorated by at most one of the
following decorations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Flat</code>: no interpolation</p>
</li>
<li>
<p><code>NoPerspective</code>: linear interpolation (for
<a href="#line_linear_interpolation">lines</a> and
<a href="#triangle_linear_interpolation">polygons</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Fragment input variables decorated with neither <code>Flat</code> nor
<code>NoPerspective</code> use perspective-correct interpolation (for
<a href="#line_perspective_interpolation">lines</a> and
<a href="#triangle_perspective_interpolation">polygons</a>).</p>
</div>
<div class="paragraph">
<p>The presence of and type of interpolation is controlled by the above
interpolation decorations as well as the auxiliary decorations <code>Centroid</code>
and <code>Sample</code>.</p>
</div>
<div class="paragraph">
<p>A variable decorated with <code>Flat</code> will not be interpolated.
Instead, it will have the same value for every fragment within a triangle.
This value will come from a single <a href="#vertexpostproc-flatshading">provoking
vertex</a>.
A variable decorated with <code>Flat</code> <strong class="purple">can</strong> also be decorated with
<code>Centroid</code> or <code>Sample</code>, which will mean the same thing as decorating
it only as <code>Flat</code>.</p>
</div>
<div class="paragraph">
<p>For fragment shader input variables decorated with neither <code>Centroid</code> nor
<code>Sample</code>, the assigned variable <strong class="purple">may</strong> be interpolated anywhere within the
fragment and a single value <strong class="purple">may</strong> be assigned to each sample within the
fragment.</p>
</div>
<div class="paragraph">
<p>If a fragment shader input is decorated with <code>Centroid</code>, a single value
<strong class="purple">may</strong> be assigned to that variable for all samples in the fragment, but that
value <strong class="purple">must</strong> be interpolated to a location that lies in both the fragment and
in the primitive being rendered, including any of the fragment&#8217;s samples
covered by the primitive.
Because the location at which the variable is interpolated <strong class="purple">may</strong> be different
in neighboring fragments, and derivatives <strong class="purple">may</strong> be computed by computing
differences between neighboring fragments, derivatives of centroid-sampled
inputs <strong class="purple">may</strong> be less accurate than those for non-centroid interpolated
variables.</p>
</div>
<div class="paragraph">
<p>If a fragment shader input is decorated with <code>Sample</code>, a separate value
<strong class="purple">must</strong> be assigned to that variable for each covered sample in the fragment,
and that value <strong class="purple">must</strong> be sampled at the location of the individual sample.
When <code>rasterizationSamples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code>, the fragment
center <strong class="purple">must</strong> be used for <code>Centroid</code>, <code>Sample</code>, and undecorated
attribute interpolation.</p>
</div>
<div class="paragraph">
<p>Fragment shader inputs that are signed or unsigned integers, integer
vectors, or any double-precision floating-point type <strong class="purple">must</strong> be decorated with
<code>Flat</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-staticuse"><a class="anchor" href="#shaders-staticuse"></a>8.12. Static Use</h3>
<div class="paragraph">
<p>A SPIR-V module declares a global object in memory using the <code>OpVariable</code>
instruction, which results in a pointer <code>x</code> to that object.
A specific entry point in a SPIR-V module is said to <em>statically use</em> that
object if that entry point&#8217;s call tree contains a function containing a
memory instruction or image instruction with <code>x</code> as an <code>id</code> operand.
See the &#8220;Memory Instructions&#8221; and &#8220;Image Instructions&#8221; subsections of
section 3 &#8220;Binary Form&#8221; of the SPIR-V specification for the complete list
of SPIR-V memory instructions.</p>
</div>
<div class="paragraph">
<p>Static use is not used to control the behavior of variables with <code>Input</code>
and <code>Output</code> storage.
The effects of those variables are applied based only on whether they are
present in a shader entry point&#8217;s interface.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-scope"><a class="anchor" href="#shaders-scope"></a>8.13. Scope</h3>
<div class="paragraph">
<p>A <em>scope</em> describes a set of shader invocations, where each such set is a
<em>scope instance</em>.
Each invocation belongs to one or more scope instances, but belongs to no
more than one scope instance for each scope.</p>
</div>
<div class="paragraph">
<p>The operations available between invocations in a given scope instance vary,
with smaller scopes generally able to perform more operations, and with
greater efficiency.</p>
</div>
<div class="sect3">
<h4 id="shaders-scope-cross-device"><a class="anchor" href="#shaders-scope-cross-device"></a>8.13.1. Cross Device</h4>
<div class="paragraph">
<p>All invocations executed in a Vulkan instance fall into a single <em>cross
device scope instance</em>.</p>
</div>
<div class="paragraph">
<p>Whilst the <code>CrossDevice</code> scope is defined in SPIR-V, it is disallowed in
Vulkan.
API <a href="#synchronization">synchronization</a> commands <strong class="purple">can</strong> be used to
communicate between devices.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-device"><a class="anchor" href="#shaders-scope-device"></a>8.13.2. Device</h4>
<div class="paragraph">
<p>All invocations executed on a single device form a <em>device scope instance</em>.</p>
</div>
<div class="paragraph">
<p>There is no method to synchronize the execution of these invocations within
SPIR-V, and this <strong class="purple">can</strong> only be done with API synchronization primitives.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-queue-family"><a class="anchor" href="#shaders-scope-queue-family"></a>8.13.3. Queue Family</h4>
<div class="paragraph">
<p>Invocations executed by queues in a given queue family form a <em>queue family
scope instance</em>.</p>
</div>
<div class="paragraph">
<p>This scope is identified in SPIR-V as the
<code>Device</code> <code>Scope</code>, which <strong class="purple">can</strong> be used as a <code>Memory</code> <code>Scope</code> for
barrier and atomic operations.</p>
</div>
<div class="paragraph">
<p>There is no method to synchronize the execution of these invocations within
SPIR-V, and this <strong class="purple">can</strong> only be done with API synchronization primitives.</p>
</div>
<div class="paragraph">
<p>Each invocation in a queue family scope instance <strong class="purple">must</strong> be in the same
<a href="#shaders-scope-device">device scope instance</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-command"><a class="anchor" href="#shaders-scope-command"></a>8.13.4. Command</h4>
<div class="paragraph">
<p>Any shader invocations executed as the result of a single command such as
<a href="#vkCmdDispatch">vkCmdDispatch</a> or <a href="#vkCmdDraw">vkCmdDraw</a> form a <em>command scope instance</em>.
For indirect drawing commands with <code>drawCount</code> greater than one,
invocations from separate draws are in separate command scope instances.</p>
</div>
<div class="paragraph">
<p>There is no specific <code>Scope</code> for communication across invocations in a
command scope instance.
As this has a clear boundary at the API level, coordination here <strong class="purple">can</strong> be
performed in the API, rather than in SPIR-V.</p>
</div>
<div class="paragraph">
<p>Each invocation in a command scope instance <strong class="purple">must</strong> be in the same
<a href="#shaders-scope-queue-family">queue-family scope instance</a>.</p>
</div>
<div class="paragraph">
<p>For shaders without defined <a href="#shaders-scope-workgroups">workgroups</a>, this
set of invocations forms an <em>invocation group</em> as defined in the SPIR-V
specification (see the subsection Control Flow of section 2 of the SPIR-V
1.00 Revision 4 specification).</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-primitive"><a class="anchor" href="#shaders-scope-primitive"></a>8.13.5. Primitive</h4>
<div class="paragraph">
<p>Any fragment shader invocations executed as the result of rasterization of a
single primitive form a <em>primitive scope instance</em>.</p>
</div>
<div class="paragraph">
<p>There is no specific <code>Scope</code> for communication across invocations in a
primitive scope instance.</p>
</div>
<div class="paragraph">
<p>Any generated <a href="#helper-invocations">helper invocations</a> are included in
this scope instance.</p>
</div>
<div class="paragraph">
<p>Each invocation in a primitive scope instance <strong class="purple">must</strong> be in the same
<a href="#shaders-scope-command">command scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Any input variables decorated with <code>Flat</code> are uniform within a primitive
scope instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-workgroup"><a class="anchor" href="#shaders-scope-workgroup"></a>8.13.6. Workgroup</h4>
<div class="paragraph">
<p>A <em>local workgroup</em> is a set of invocations that can synchronize and share
data with each other using memory in the <code>Workgroup</code> storage class.</p>
</div>
<div class="paragraph">
<p>The <code>Workgroup</code> <code>Scope</code> can be used as both an <code>Execution</code>
<code>Scope</code> and <code>Memory</code> <code>Scope</code> for barrier and atomic operations.</p>
</div>
<div class="paragraph">
<p>Each invocation in a local workgroup <strong class="purple">must</strong> be in the same
<a href="#shaders-scope-command">command scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Only
compute shaders have defined workgroups - other shader types <strong class="purple">cannot</strong> use
workgroup functionality.
For shaders that have defined workgroups, this set of invocations forms an
<em>invocation group</em> as defined in the SPIR-V specification (see the
subsection Control Flow of section 2 of the SPIR-V 1.00 Revision 4
specification).</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-quad"><a class="anchor" href="#shaders-scope-quad"></a>8.13.7. Quad</h4>
<div class="paragraph">
<p>A <em>quad scope instance</em> is formed of four shader invocations.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, each invocation in a quad scope instance is formed of
invocations in neighboring framebuffer locations <span class="eq">(x<sub>i</sub>, y<sub>i</sub>)</span>, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">i</span> is the index of the invocation within the scope instance.</p>
</li>
<li>
<p><span class="eq">x<sub>0</sub> = x<sub>1</sub> - 1 = x<sub>2</sub> = x<sub>3</sub> - 1</span></p>
</li>
<li>
<p><span class="eq">y<sub>0</sub> = y<sub>1</sub> = y<sub>2</sub> - 1 = y<sub>3</sub> - 1</span></p>
</li>
<li>
<p>Each invocation has the same layer and sample indices.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The specific set of invocations that make up a quad scope instance in other
shader stages is undefined.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, each invocation in a quad scope instance <strong class="purple">must</strong> be in
the same <a href="#shaders-scope-primitive">primitive scope instance</a>.</p>
</div>
<div class="paragraph">
<p>For <a href="#shaders-scope-workgroup">shaders that have defined workgroups</a>, each
invocation in a quad scope instance <strong class="purple">must</strong> be in the same
<a href="#shaders-scope-workgroup">local workgroup</a>.</p>
</div>
<div class="paragraph">
<p>In other shader stages, each invocation in a quad scope instance <strong class="purple">must</strong> be in
the same <a href="#shaders-scope-device">device scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Fragment
shaders have defined quad scope instances.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-invocation"><a class="anchor" href="#shaders-scope-invocation"></a>8.13.8. Invocation</h4>
<div class="paragraph">
<p>The smallest <em>scope</em> is a single invocation; this is represented by the
<code>Invocation</code> <code>Scope</code> in SPIR-V.</p>
</div>
<div class="paragraph">
<p>Fragment shader invocations <strong class="purple">must</strong> be in a <a href="#shaders-scope-primitive
primitive scope instance">[shaders-scope-primitive
primitive scope instance]</a>.</p>
</div>
<div class="paragraph">
<p>Invocations in <a href="#shaders-scope-workgroup">shaders that have defined
workgroups</a> <strong class="purple">must</strong> be in a <a href="#shaders-scope-workgroup">local workgroup</a>.</p>
</div>
<div class="paragraph">
<p>Invocations in <a href="#shaders-scope-quad">shaders that have a defined quad
scope</a> <strong class="purple">must</strong> be in a <a href="#shaders-scope-quad">quad scope instance</a>.</p>
</div>
<div class="paragraph">
<p>All invocations in all stages <strong class="purple">must</strong> be in a <a href="#shaders-scope-command">command
scope instance</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-derivative-operations"><a class="anchor" href="#shaders-derivative-operations"></a>8.14. Derivative Operations</h3>
<div class="paragraph">
<p>Derivative operations calculate the partial derivative for an expression
<span class="eq">P</span> as a function of an invocation&#8217;s <span class="eq">x</span> and <span class="eq">y</span> coordinates.</p>
</div>
<div class="paragraph">
<p>Derivative operations operate on a set of invocations known as a <em>derivative
group</em> as defined in the SPIR-V specification (see the subsection Control
Flow of section 2 of the SPIR-V 1.00 Revision 4 specification).
A derivative group is equivalent to
the <a href="#shaders-scope-primitive">primitive scope instance</a> for a fragment
shader invocation.</p>
</div>
<div class="paragraph">
<p>Derivatives are calculated assuming that <span class="eq">P</span> is piecewise linear and
continuous within the derivative group.
All dynamic instances of explicit derivative instructions (<code>OpDPdx</code>*,
<code>OpDPdy</code>*, and <code>OpFwidth</code>*) <strong class="purple">must</strong> be executed in control flow that is
uniform within a derivative group.
For other derivative operations, results are undefined if a dynamic
instance is executed in control flow is not uniform within the derivative
group.</p>
</div>
<div class="paragraph">
<p>Fragment shaders that statically execute derivative operations <strong class="purple">must</strong> launch
sufficient invocations to ensure their correct operation; additional
<a href="#shaders-helper-invocations">helper invocations</a> are launched for
framebuffer locations not covered by rasterized fragments if necessary.</p>
</div>
<div class="paragraph">
<p>Derivative operations calculate their results as the difference between the
result of <span class="eq">P</span> across invocations in the quad.
For fine derivative operations (<code>OpDPdxFine</code> and <code>OpDPdyFine</code>), the
values of <span class="eq">DPdx(P<sub>i</sub>)</span> are calculated as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdx(P<sub>0</sub>) = DPdx(P<sub>1</sub>) = P<sub>1</sub> - P<sub>0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdx(P<sub>2</sub>) = DPdx(P<sub>3</sub>) = P<sub>3</sub> - P<sub>2</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>and the values of <span class="eq">DPdy(P<sub>i</sub>)</span> are calculated as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdy(P<sub>0</sub>) = DPdy(P<sub>2</sub>) = P<sub>2</sub> - P<sub>0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdy(P<sub>1</sub>) = DPdy(P<sub>3</sub>) = P<sub>3</sub> - P<sub>1</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">i</span> is the index of each invocation as described in
<a href="#shaders-scope-quad">Quad</a>.</p>
</div>
<div class="paragraph">
<p>Coarse derivative operations (<code>OpDPdxCoarse</code> and <code>OpDPdyCoarse</code>),
calculate their results in roughly the same manner, but <strong class="purple">may</strong> only calculate
two values instead of four (one for each of <span class="eq">DPdx</span> and <span class="eq">DPdy</span>),
reusing the same result no matter the originating invocation.
If an implementation does this, it <strong class="purple">should</strong> use the fine derivative
calculations described for <span class="eq">P<sub>0</sub></span>.</p>
</div>
<div class="paragraph">
<p>The results for <code>OpDPdx</code> and <code>OpDPdy</code> <strong class="purple">may</strong> be calculated as either
fine or coarse derivatives, with implementations favouring the most
efficient approach.
Implementations <strong class="purple">must</strong> choose coarse or fine consistently between the two.</p>
</div>
<div class="paragraph">
<p>Executing <code>OpFwidthFine</code>, <code>OpFwidthCoarse</code>, or <code>OpFwidth</code> is
equivalent to executing the corresponding <code>OpDPdx</code>* and <code>OpDPdy</code>*
instructions, taking the absolute value of the results, and summing them.</p>
</div>
<div class="paragraph">
<p>Executing a <code>OpImage</code>*Sample*ImplicitLod instruction is equivalent to
executing <code>OpDPdx</code>(<code>Coordinate</code>) and <code>OpDPdy</code>(<code>Coordinate</code>), and
passing the results as the <code>Grad</code> operands <code>dx</code> and <code>dy</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is expected that using the <code>ImplicitLod</code> variants of sampling
functions will be substantially more efficient than using the
<code>ExplicitLod</code> variants with explicitly generated derivatives.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_helper_invocations"><a class="anchor" href="#_helper_invocations"></a>8.15. Helper Invocations</h3>
<div class="paragraph">
<p>When performing <a href="#shaders-derivative-operations">derivative</a>
operations in a fragment shader, additional invocations <strong class="purple">may</strong> be spawned in
order to ensure correct results.
These additional invocations are known as <em>helper invocations</em> and <strong class="purple">can</strong> be
identified by a non-zero value in the <code>HelperInvocation</code> built-in.
Stores and atomics performed by helper invocations <strong class="purple">must</strong> not have any effect
on memory, and values returned by atomic instructions in helper invocations
are undefined.</p>
</div>
<div class="paragraph">
<p>Helper invocations <strong class="purple">may</strong> become inactive at any time for any reason, with one
exception.
If a helper invocation would be active if it were not a helper invocation,
it <strong class="purple">must</strong> be active for <a href="#shaders-derivative-operations">derivative</a>
operations.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipelines"><a class="anchor" href="#pipelines"></a>9. Pipelines</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following <a href="#pipelines-block-diagram">figure</a> shows a block diagram of
the Vulkan pipelines.
Some Vulkan commands specify geometric objects to be drawn or computational
work to be performed, while others specify state controlling how objects are
handled by the various pipeline stages, or control data transfer between
memory organized as images and buffers.
Commands are effectively sent through a processing pipeline, either a
<em>graphics pipeline</em>,
or a <em>compute pipeline</em>.</p>
</div>
<div class="paragraph">
<p>The first stage of the <a href="#pipelines-graphics">graphics pipeline</a>
(<a href="#drawing">Input Assembler</a>) assembles vertices to form geometric
primitives such as points, lines, and triangles, based on a requested
primitive topology.
In the next stage (<a href="#shaders-vertex">Vertex Shader</a>) vertices <strong class="purple">can</strong> be
transformed, computing positions and attributes for each vertex.
If <a href="#tessellation">tessellation</a> and/or <a href="#geometry">geometry</a> shaders are
supported, they <strong class="purple">can</strong> then generate multiple primitives from a single input
primitive, possibly changing the primitive topology or generating additional
attribute data in the process.</p>
</div>
<div class="paragraph">
<p>The final resulting primitives are <a href="#vertexpostproc-clipping">clipped</a> to a
clip volume in preparation for the next stage, <a href="#primsrast">Rasterization</a>.
The rasterizer produces a series of framebuffer addresses and values using a
two-dimensional description of a point, line segment, or triangle.
Each <em>fragment</em> so produced is fed to the next stage
(<a href="#shaders-fragment">Fragment Shader</a>) that performs operations on
individual fragments before they finally alter the framebuffer.
These operations include conditional updates into the framebuffer based on
incoming and previously stored depth values (to effect <a href="#fragops-depth">depth
buffering</a>), <a href="#framebuffer-blending">blending</a> of incoming fragment colors
with stored colors, as well as <a href="#framebuffer-blendoperations">masking</a>,
<a href="#fragops-stencil">stenciling</a>, and other <a href="#framebuffer-logicop">logical
operations</a> on fragment values.</p>
</div>
<div class="paragraph">
<p>Framebuffer operations read and write the color and depth/stencil
attachments of the framebuffer for a given subpass of a <a href="#renderpass">render
pass instance</a>.
The attachments <strong class="purple">can</strong> be used as input attachments in the fragment shader in
a later subpass of the same render pass.</p>
</div>
<div class="paragraph">
<p>The <a href="#pipelines-compute">compute pipeline</a> is a separate pipeline from the
graphics pipeline, which operates on one-, two-, or three-dimensional
workgroups which <strong class="purple">can</strong> read from and write to buffer and image memory.</p>
</div>
<div class="paragraph">
<p>This ordering is meant only as a tool for describing Vulkan, not as a strict
rule of how Vulkan is implemented, and we present it only as a means to
organize the various operations of the pipelines.
Actual ordering guarantees between pipeline stages are explained in detail
in the <a href="#synchronization-pipeline-stages-order">synchronization chapter</a>.</p>
</div>
<div id="pipelines-block-diagram" class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="775.12067"
   height="418"
   viewBox="0 0 775.12066 418"
   version="1.1"
   id="svg8"
   sodipodi:docname="pipeline.svg"
   inkscape:version="0.92.2 (5c3e80d, 2017-08-06)">
  <defs
     id="defs2">
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker18097"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart">
      <path
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path18095"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker17835"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart">
      <path
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path17833"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17557"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path17555"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker17291"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path17289"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker16647"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path16645"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker16415"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path16413"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker16189"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path16187"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker15937"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path15935"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker12928"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path12926"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker11520"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path11518"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker11322"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path11320"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker11128"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path11126"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker10596"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path10594"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker9866"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path9864"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker9512"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path9510"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker8090"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path8088"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker7360"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path7358"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker7066"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart"
       inkscape:collect="always">
      <path
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path7064"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker5106"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path5104"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker7066-0"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path7064-8" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker7208-7"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path7206-1" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3-01"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7-8"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3-37"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7-0"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3-37-7"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7-0-9"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3-37-7-8"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7-0-9-7"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3-01-3"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7-8-44"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mstart-3"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path1382-1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker5200-6"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path5198-1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3-01-3-1"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7-8-44-8"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3-37-7-8-7"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7-0-9-7-8"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3-37-7-8-7-7"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7-0-9-7-8-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3-37-7-8-7-7-5"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7-0-9-7-8-5-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3-37-7-8-7-7-0"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7-0-9-7-8-5-2"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker17033-3-37-7-8-7-7-0-51"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path17031-7-0-9-7-8-5-2-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker9512-2"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path9510-3"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1"
     inkscape:cx="275.51124"
     inkscape:cy="235.16674"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="false"
     inkscape:snap-center="true"
     inkscape:snap-object-midpoints="true"
     inkscape:snap-text-baseline="true"
     inkscape:window-width="1920"
     inkscape:window-height="1137"
     inkscape:window-x="1912"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     showguides="false"
     fit-margin-top="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     fit-margin-left="1"
     units="in"
     inkscape:snap-others="true"
     inkscape:snap-nodes="true"
     inkscape:object-nodes="true"
     height="7.5in">
    <inkscape:grid
       type="xygrid"
       id="grid817"
       originx="153.62068"
       originy="-783.5" />
  </sodipodi:namedview>
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(38.615418,2.1124474)">
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-1-2-4"
       width="220.00002"
       height="19.999928"
       x="-24.994745"
       y="269.3876" />
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-3-9-8"
       width="220.00002"
       height="19.999928"
       x="-24.994741"
       y="159.38759" />
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-1"
       width="220.00002"
       height="19.999928"
       x="-24.994745"
       y="129.38759" />
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-3-9"
       width="220.00002"
       height="19.999928"
       x="-24.994745"
       y="99.387589" />
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-3"
       width="220.00002"
       height="19.999928"
       x="-24.994745"
       y="59.387589" />
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1"
       width="220.00002"
       height="19.999928"
       x="-24.994745"
       y="-0.6124118" />
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2"
       width="220.00002"
       height="19.999928"
       x="-24.994738"
       y="29.387552" />
    <text
       id="text823"
       y="74.351746"
       x="84.9011"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
       xml:space="preserve"><tspan
         id="tspan825"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
         y="74.351746"
         x="84.9011"
         sodipodi:role="line">Vertex Shader</tspan></text>
    <text
       id="text823-4"
       y="14.133646"
       x="84.634171"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="14.133646"
         x="84.634171"
         sodipodi:role="line">Draw</tspan></text>
    <text
       id="text823-4-2"
       y="43.111511"
       x="84.539764"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="43.111511"
         x="84.539764"
         sodipodi:role="line">Input Assembler</tspan></text>
    <text
       id="text823-7"
       y="114.35175"
       x="84.985733"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
       xml:space="preserve"><tspan
         id="tspan825-4"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
         y="114.35175"
         x="84.985733"
         sodipodi:role="line">Tessellation Control Shader</tspan></text>
    <text
       id="text823-4-2-6-3"
       y="144.35175"
       x="84.985733"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-1-5"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="144.35175"
         x="84.985733"
         sodipodi:role="line">Tessellation Primitive Generator</tspan></text>
    <text
       id="text823-7-0"
       y="174.35175"
       x="84.985733"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
       xml:space="preserve"><tspan
         id="tspan825-4-7"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
         y="174.35175"
         x="84.985733"
         sodipodi:role="line">Tessellation Evaluation Shader</tspan></text>
    <text
       id="text823-4-2-8"
       y="284.1662"
       x="84.930397"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-9"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="284.1662"
         x="84.930397"
         sodipodi:role="line">Rasterization</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker5106)"
       d="m 85.005262,89.387553 -119.999999,-10e-7 V 229.38755 h 120"
       id="path4474"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccc" />
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1"
       width="220"
       height="20"
       x="245.00526"
       y="-0.61244744" />
    <text
       id="text823-4-2-9-4-7"
       y="14.384297"
       x="354.53976"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="14.384297"
         x="354.53976"
         sodipodi:role="line">Indirect Buffer</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker7360)"
       d="m 235.00526,309.38755 v 60 h -40"
       id="path7350"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker8090)"
       d="m 245.00526,344.38755 h -5 v -5 h -10 v 5 h -35"
       id="path8837"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cccccc" />
    <rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       id="rect8983"
       width="220"
       height="165"
       x="245.00526"
       y="99.38755" />
    <text
       id="text823-4-2-9-4-7-9-85"
       y="112.9813"
       x="354.63092"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-7"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="112.9813"
         x="354.63092"
         sodipodi:role="line">Descriptor Sets</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-start:url(#marker7066-0);marker-end:url(#marker7208-7)"
       d="m 245.00526,399.38755 h -50"
       id="path7056-3"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker9512)"
       d="m 245.00526,9.3875524 h -50"
       id="path9502"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker9866)"
       d="m 245.00526,44.387553 h -50"
       id="path9856"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-start:url(#marker7066);marker-end:url(#marker10596)"
       d="m 245.00526,309.38755 h -20 v -5 h -10 v 5 h -20"
       id="path10568"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cccccc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 245.00526,64.387553 h -25 v -20"
       id="path11116"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker11128)"
       d="m 220.00526,109.38755 h -25"
       id="path11118"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker11322)"
       d="m 220.00526,169.38755 h -25"
       id="path11312"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker11520)"
       d="m 220.00526,209.38755 h -25"
       id="path11510"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-start:url(#marker12928);marker-end:url(#marker15937)"
       d="m 195.00526,334.38755 h 25 l 0,-264.999997 h -25"
       id="path15909"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cccc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 250.00526,129.38755 h -30"
       id="path16167"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 250.00526,149.38755 h -30"
       id="path16169"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 250.00526,169.38755 h -30"
       id="path16171"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 250.00526,189.38755 h -30"
       id="path16173"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker16647)"
       d="m 220.00526,209.38755 h 30"
       id="path16175"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker16189)"
       d="m 220.00526,229.38755 h 30"
       id="path16177"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker16415)"
       d="m 220.00526,249.38755 h 30"
       id="path16179"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       inkscape:connector-curvature="0"
       id="path17023"
       d="M 625.00526,19.387552 V 169.38755"
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033)"
       sodipodi:nodetypes="cc" />
    <path
       inkscape:connector-curvature="0"
       id="path17281"
       d="m 490.00526,179.38755 h 25"
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17291)"
       sodipodi:nodetypes="cc" />
    <path
       inkscape:connector-curvature="0"
       id="path17547"
       d="m 460.00526,129.38755 h 30 v 120 h -30"
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17557)"
       sodipodi:nodetypes="cccc" />
    <path
       inkscape:connector-curvature="0"
       id="path17817"
       d="m 460.00526,149.38755 h 30"
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       sodipodi:nodetypes="cc" />
    <path
       inkscape:connector-curvature="0"
       id="path17819"
       d="m 460.00526,169.38755 h 30"
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       sodipodi:nodetypes="cc" />
    <path
       inkscape:connector-curvature="0"
       id="path17821"
       d="m 460.00526,189.38755 h 30"
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       sodipodi:nodetypes="cc" />
    <path
       inkscape:connector-curvature="0"
       id="path17823"
       d="m 460.00526,209.38755 h 30"
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-start:url(#marker18097)"
       sodipodi:nodetypes="cc" />
    <path
       inkscape:connector-curvature="0"
       id="path17825"
       d="m 460.00526,229.38755 h 30"
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-start:url(#marker17835)"
       sodipodi:nodetypes="cc" />
    <rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       id="rect8983-1"
       width="220.00002"
       height="115.00001"
       x="515.00525"
       y="299.38754" />
    <text
       id="text823-4-2-9-4-7-9-85-3"
       y="318.07571"
       x="624.95642"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-7-3"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="318.07571"
         x="624.95642"
         sodipodi:role="line">Legend</tspan></text>
    <path
       inkscape:connector-curvature="0"
       id="path17023-1"
       d="m 85.005263,19.387552 v 9.728741"
       style="fill:none;stroke:#000000;stroke-width:0.87524033;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3)" />
    <path
       inkscape:connector-curvature="0"
       id="path17023-1-3"
       d="m 85.005263,79.387552 v 20"
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3-01)"
       sodipodi:nodetypes="cc" />
    <path
       inkscape:connector-curvature="0"
       id="path17023-1-4"
       d="m 85.005263,49.387552 v 9.728741"
       style="fill:none;stroke:#000000;stroke-width:0.87524033;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3-37)" />
    <path
       inkscape:connector-curvature="0"
       id="path17023-1-4-0"
       d="m 85.005263,119.38755 v 9.72874"
       style="fill:none;stroke:#000000;stroke-width:0.87524033;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3-37-7)" />
    <path
       inkscape:connector-curvature="0"
       id="path17023-1-4-0-9"
       d="m 85.005263,149.52318 v 9.72874"
       style="fill:none;stroke:#000000;stroke-width:0.87524033;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3-37-7-8)" />
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-3-9-8-4"
       width="220.00002"
       height="19.999928"
       x="-24.994745"
       y="199.38759" />
    <text
       id="text823-7-9-09"
       y="213.11151"
       x="84.611382"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
       xml:space="preserve"><tspan
         id="tspan825-4-0-5"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
         y="213.11151"
         x="84.611382"
         sodipodi:role="line">Geometry Shader</tspan></text>
    <path
       inkscape:connector-curvature="0"
       id="path17023-1-3-2"
       d="m 85.005265,179.38755 v 20"
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3-01-3)"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-start:url(#Arrow1Mstart-3);marker-end:url(#marker5200-6)"
       d="m 85.005263,189.38755 h -120"
       id="path4476-0"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-1-2"
       width="220.00002"
       height="19.999928"
       x="-24.994741"
       y="239.38759" />
    <text
       id="text823-4-8-5"
       y="252.89015"
       x="85.522842"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-9-2"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="252.89015"
         x="85.522842"
         sodipodi:role="line">Vertex Post-Processing</tspan></text>
    <path
       inkscape:connector-curvature="0"
       id="path17023-1-3-2-4"
       d="m 85.005263,219.38755 v 20"
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3-01-3-1)"
       sodipodi:nodetypes="cc" />
    <path
       inkscape:connector-curvature="0"
       id="path17023-1-4-0-9-1"
       d="m 85.005265,259.52318 v 9.72874"
       style="fill:none;stroke:#000000;stroke-width:0.87524033;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3-37-7-8-7)" />
    <path
       inkscape:connector-curvature="0"
       id="path17023-1-4-0-9-1-8"
       d="m 85.005265,289.52318 v 9.72874"
       style="fill:none;stroke:#000000;stroke-width:0.87524033;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3-37-7-8-7-7)" />
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-1-2-4-1"
       width="220.00002"
       height="19.999928"
       x="-24.994745"
       y="299.3876" />
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-3-9-8-4-1"
       width="220.00002"
       height="19.999928"
       x="-24.994745"
       y="329.3876" />
    <path
       inkscape:connector-curvature="0"
       id="path17023-1-4-0-9-1-8-6"
       d="m 85.005265,319.52318 v 9.72874"
       style="fill:none;stroke:#000000;stroke-width:0.87524033;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3-37-7-8-7-7-5)" />
    <path
       inkscape:connector-curvature="0"
       id="path17023-1-4-0-9-1-8-3"
       d="m 85.005265,349.52318 v 9.72874"
       style="fill:none;stroke:#000000;stroke-width:0.87524033;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3-37-7-8-7-7-0)" />
    <text
       id="text823-4-5-3"
       y="313.07571"
       x="84.63092"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-7-4"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="313.07571"
         x="84.63092"
         sodipodi:role="line">Early Per-Fragment Tests</tspan></text>
    <text
       id="text823-7-9-0-6"
       y="343.07571"
       x="84.334686"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
       xml:space="preserve"><tspan
         id="tspan825-4-0-0-3"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
         y="343.07571"
         x="84.334686"
         sodipodi:role="line">Fragment Shader</tspan></text>
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-1-2-4-1-2"
       width="220.00002"
       height="19.999928"
       x="-24.994745"
       y="359.3876" />
    <text
       id="text823-4-5-5-7"
       y="372.8576"
       x="84.63092"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-7-7-9"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="372.8576"
         x="84.63092"
         sodipodi:role="line">Late Per-Fragment Tests</tspan></text>
    <path
       inkscape:connector-curvature="0"
       id="path17023-1-4-0-9-1-8-3-2"
       d="m 85.005265,379.52318 v 9.72874"
       style="fill:none;stroke:#000000;stroke-width:0.87524033;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker17033-3-37-7-8-7-7-0-51)" />
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-1-2-4-1-2-2"
       width="220.00002"
       height="19.999928"
       x="-24.994745"
       y="389.3876" />
    <text
       id="text823-4-2-9-4-3"
       y="403.07571"
       x="84.956436"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-4"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="403.07571"
         x="84.956436"
         sodipodi:role="line">Blending</tspan></text>
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-0"
       width="220"
       height="20"
       x="245.00526"
       y="59.387554" />
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6"
       width="220"
       height="20"
       x="245.00526"
       y="39.387554" />
    <text
       id="text823-4-2-9-4-7-1"
       y="54.384296"
       x="354.53976"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-2"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="54.384296"
         x="354.53976"
         sodipodi:role="line">Index Buffer</tspan></text>
    <text
       id="text823-4-2-9-4-7-3"
       y="74.3843"
       x="355.19733"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-9"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="74.3843"
         x="355.19733"
         sodipodi:role="line">Vertex Buffers</tspan></text>
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6-7"
       width="210.00002"
       height="19.999994"
       x="250.00526"
       y="119.38755" />
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6-7-2"
       width="210.00002"
       height="19.999994"
       x="250.00526"
       y="139.38754" />
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6-7-3"
       width="210.00002"
       height="19.999994"
       x="250.00526"
       y="159.38754" />
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6-7-1"
       width="210.00002"
       height="19.999994"
       x="250.00526"
       y="179.38754" />
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6-7-34"
       width="210.00002"
       height="19.999994"
       x="250.00526"
       y="199.38757" />
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6-7-7"
       width="210.00002"
       height="19.999994"
       x="250.00526"
       y="219.38757" />
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6-7-5"
       width="210.00002"
       height="19.999994"
       x="250.00526"
       y="239.38757" />
    <text
       id="text823-4-2-9-4-7-9-65"
       y="134.35175"
       x="354.63092"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-92"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="134.35175"
         x="354.63092"
         sodipodi:role="line">Push Constants</tspan></text>
    <text
       id="text823-4-2-9-4-7-9-3-0"
       y="154.38429"
       x="354.70255"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-9-7"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="154.38429"
         x="354.70255"
         sodipodi:role="line">Uniform Buffers</tspan></text>
    <text
       id="text823-4-2-9-4-7-9-2-2"
       y="174.38429"
       x="354.70255"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-4-3"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="174.38429"
         x="354.70255"
         sodipodi:role="line">Uniform Texel Buffers</tspan></text>
    <text
       id="text823-4-2-9-4-7-9-8-2"
       y="193.0757"
       x="354.84579"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-5-1"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="193.0757"
         x="354.84579"
         sodipodi:role="line">Sampled Images</tspan></text>
    <text
       id="text823-4-2-9-4-7-9-8-0-8"
       y="213.10826"
       x="354.84579"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-5-4-5"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="213.10826"
         x="354.84579"
         sodipodi:role="line">Storage Buffers</tspan></text>
    <text
       id="text823-4-2-9-4-7-9-8-8-1"
       y="233.10826"
       x="354.84579"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-5-5-5"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="233.10826"
         x="354.84579"
         sodipodi:role="line">Storage Texel Buffers</tspan></text>
    <text
       id="text823-4-2-9-4-7-9-8-05-4"
       y="252.9455"
       x="354.84579"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-5-3-6"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="252.9455"
         x="354.84579"
         sodipodi:role="line">Storage Images</tspan></text>
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-3-0"
       width="220.00002"
       height="19.999928"
       x="515.00525"
       y="169.38756" />
    <text
       id="text823-0"
       y="184.35172"
       x="624.90112"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
       xml:space="preserve"><tspan
         id="tspan825-8"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
         y="184.35172"
         x="624.90112"
         sodipodi:role="line">Compute Shader</tspan></text>
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-6"
       width="220.00002"
       height="19.999928"
       x="515.00525"
       y="-0.61240721" />
    <text
       id="text823-4-0"
       y="13.11151"
       x="624.93042"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-2"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="13.11151"
         x="624.93042"
         sodipodi:role="line">Dispatch</tspan></text>
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6-6"
       width="220"
       height="20"
       x="245.00526"
       y="299.38754" />
    <text
       id="text823-4-2-9-4-7-9-8-05-4-5"
       y="312.9455"
       x="354.84576"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-5-3-6-4"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="312.9455"
         x="354.84576"
         sodipodi:role="line">Depth/Stencil Attachments</tspan></text>
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6-6-4"
       width="220"
       height="20"
       x="245.00526"
       y="329.38754" />
    <text
       id="text823-4-2-9-4-7-9-8-05-4-5-3"
       y="342.9455"
       x="354.84576"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-5-3-6-4-0"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="342.9455"
         x="354.84576"
         sodipodi:role="line">Input Attachments</tspan></text>
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6-6-2"
       width="220"
       height="20"
       x="245.00526"
       y="389.38754" />
    <text
       id="text823-4-2-9-4-7-9-8-05-4-5-6"
       y="402.9455"
       x="354.84576"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-5-3-6-4-6"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="402.9455"
         x="354.84576"
         sodipodi:role="line">Color Attachments</tspan></text>
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-26"
       width="210.00002"
       height="20.00001"
       x="520.00525"
       y="329.38754" />
    <text
       id="text823-4-8"
       y="344.13358"
       x="624.63416"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-1"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="344.13358"
         x="624.63416"
         sodipodi:role="line">Fixed Function Stage</tspan></text>
    <rect
       style="fill:#ffffff;fill-opacity:1;stroke:#ff0000;stroke-width:0.89574087;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-2-3-0-5"
       width="210.00002"
       height="20.00001"
       x="520.00525"
       y="359.38754" />
    <text
       id="text823-0-2"
       y="373.11151"
       x="624.61139"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
       xml:space="preserve"><tspan
         id="tspan825-8-5"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke:none;stroke-width:1.26999986;stroke-miterlimit:4;stroke-dasharray:none"
         y="373.11151"
         x="624.61139"
         sodipodi:role="line">Shader Stage</tspan></text>
    <rect
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect815-1-4-3-6-1-6-7-5-0"
       width="210.00002"
       height="19.999994"
       x="520.00525"
       y="389.38757" />
    <text
       id="text823-4-2-9-4-7-9-8-05-4-9"
       y="402.9455"
       x="624.84583"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.26999986"
       xml:space="preserve"><tspan
         id="tspan825-6-0-2-5-6-26-5-3-6-42"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:13.33333302px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:1.26999986"
         y="402.9455"
         x="624.84583"
         sodipodi:role="line">Storage Images</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker9512-2)"
       d="m 465.00526,9.3875526 h 50"
       id="path9502-7"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
  </g>
</svg>
</div>
<div class="title">Figure 2. Block diagram of the Vulkan pipeline</div>
</div>
<div class="paragraph">
<p>Each pipeline is controlled by a monolithic object created from a
description of all of the shader stages and any relevant fixed-function
stages.
<a href="#interfaces">Linking</a> the whole pipeline together allows the optimization
of shaders based on their input/outputs and eliminates expensive draw time
state validation.</p>
</div>
<div class="paragraph">
<p>A pipeline object is bound to the current state using
<a href="#vkCmdBindPipeline">vkCmdBindPipeline</a>.
Any pipeline object state that is specified as <a href="#pipelines-dynamic-state">dynamic</a> is not applied to the current state when the pipeline object is
bound, but is instead set by dynamic state setting commands.</p>
</div>
<div class="paragraph">
<p>No state, including dynamic state, is inherited from one command buffer to
another.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Compute,
and graphics pipelines are each represented by <code>VkPipeline</code> handles:</p>
</div>
<div id="VkPipeline" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipeline)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-compute"><a class="anchor" href="#pipelines-compute"></a>9.1. Compute Pipelines</h3>
<div class="paragraph">
<p>Compute pipelines consist of a single static compute shader stage and the
pipeline layout.</p>
</div>
<div class="paragraph">
<p>The compute pipeline represents a compute shader and is created by calling
<code>vkCreateComputePipelines</code> with <code>module</code> and <code>pName</code> selecting
an entry point from a shader module, where that entry point defines a valid
compute shader, in the <code>VkPipelineShaderStageCreateInfo</code> structure
contained within the <code>VkComputePipelineCreateInfo</code> structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create compute pipelines, call:</p>
</div>
<div id="vkCreateComputePipelines" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateComputePipelines(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    uint32_t                                    createInfoCount,
    <span class="directive">const</span> VkComputePipelineCreateInfo*          pCreateInfos,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkPipeline*                                 pPipelines);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the compute pipelines.</p>
</li>
<li>
<p><code>pipelineCache</code> is either <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, indicating that
pipeline caching is disabled; or the handle of a valid
<a href="#pipelines-cache">pipeline cache</a> object, in which case use of that
cache is enabled for the duration of the command.</p>
</li>
<li>
<p><code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
<code>pPipelines</code> arrays.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a> structures.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelines</code> is a pointer to an array of <a href="#VkPipeline">VkPipeline</a> handles in
which the resulting compute pipeline objects are returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateComputePipelines-flags-00695" href="#VUID-vkCreateComputePipelines-flags-00695"></a>
If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the
<code>basePipelineIndex</code> member of that same element is not <code>-1</code>,
<code>basePipelineIndex</code> <strong class="purple">must</strong> be less than the index into
<code>pCreateInfos</code> that corresponds to that element</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-flags-00696" href="#VUID-vkCreateComputePipelines-flags-00696"></a>
If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, the base pipeline
<strong class="purple">must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateComputePipelines-device-parameter" href="#VUID-vkCreateComputePipelines-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pipelineCache-parameter" href="#VUID-vkCreateComputePipelines-pipelineCache-parameter"></a> If <code>pipelineCache</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pCreateInfos-parameter" href="#VUID-vkCreateComputePipelines-pCreateInfos-parameter"></a> <code>pCreateInfos</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>createInfoCount</code> valid <a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pAllocator-parameter" href="#VUID-vkCreateComputePipelines-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pPipelines-parameter" href="#VUID-vkCreateComputePipelines-pPipelines-parameter"></a> <code>pPipelines</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>createInfoCount</code> <a href="#VkPipeline">VkPipeline</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-createInfoCount-arraylength" href="#VUID-vkCreateComputePipelines-createInfoCount-arraylength"></a> <code>createInfoCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCreateComputePipelines-pipelineCache-parent" href="#VUID-vkCreateComputePipelines-pipelineCache-parent"></a> If <code>pipelineCache</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkComputePipelineCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkComputePipelineCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkComputePipelineCreateInfo {
    VkStructureType                    sType;
    <span class="directive">const</span> <span class="directive">void</span>*                        pNext;
    VkPipelineCreateFlags              flags;
    VkPipelineShaderStageCreateInfo    stage;
    VkPipelineLayout                   layout;
    VkPipeline                         basePipelineHandle;
    int32_t                            basePipelineIndex;
} VkComputePipelineCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> specifying
how the pipeline will be generated.</p>
</li>
<li>
<p><code>stage</code> is a <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structure
describing the compute shader.</p>
</li>
<li>
<p><code>layout</code> is the description of binding locations used by both the
pipeline and descriptor sets used with the pipeline.</p>
</li>
<li>
<p><code>basePipelineHandle</code> is a pipeline to derive from</p>
</li>
<li>
<p><code>basePipelineIndex</code> is an index into the <code>pCreateInfos</code>
parameter to use as a pipeline to derive from</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The parameters <code>basePipelineHandle</code> and <code>basePipelineIndex</code> are
described in more detail in <a href="#pipelines-pipeline-derivatives">Pipeline
Derivatives</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-00697" href="#VUID-VkComputePipelineCreateInfo-flags-00697"></a>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineIndex</code> is -1, <code>basePipelineHandle</code> <strong class="purple">must</strong>
be a valid handle to a compute <code>VkPipeline</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-00698" href="#VUID-VkComputePipelineCreateInfo-flags-00698"></a>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineHandle</code> is <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>,
<code>basePipelineIndex</code> <strong class="purple">must</strong> be a valid index into the calling
command&#8217;s <code>pCreateInfos</code> parameter</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-00699" href="#VUID-VkComputePipelineCreateInfo-flags-00699"></a>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineIndex</code> is not -1, <code>basePipelineHandle</code>
<strong class="purple">must</strong> be <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-00700" href="#VUID-VkComputePipelineCreateInfo-flags-00700"></a>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineHandle</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>,
<code>basePipelineIndex</code> <strong class="purple">must</strong> be -1</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-stage-00701" href="#VUID-VkComputePipelineCreateInfo-stage-00701"></a>
The <code>stage</code> member of <code>stage</code> <strong class="purple">must</strong> be
<code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-stage-00702" href="#VUID-VkComputePipelineCreateInfo-stage-00702"></a>
The shader code for the entry point identified by <code>stage</code> and the
rest of the state identified by this structure <strong class="purple">must</strong> adhere to the
pipeline linking rules described in the <a href="#interfaces">Shader Interfaces</a>
chapter</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-00703" href="#VUID-VkComputePipelineCreateInfo-layout-00703"></a>
<code>layout</code> <strong class="purple">must</strong> be
<a href="#descriptorsets-pipelinelayout-consistency">consistent</a> with the layout
of the compute shader specified in <code>stage</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-01687" href="#VUID-VkComputePipelineCreateInfo-layout-01687"></a>
The number of resources in <code>layout</code> accessible to the compute shader
stage <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageResources</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-sType-sType" href="#VUID-VkComputePipelineCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-pNext-pNext" href="#VUID-VkComputePipelineCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-flags-parameter" href="#VUID-VkComputePipelineCreateInfo-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-stage-parameter" href="#VUID-VkComputePipelineCreateInfo-stage-parameter"></a> <code>stage</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-layout-parameter" href="#VUID-VkComputePipelineCreateInfo-layout-parameter"></a> <code>layout</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-VkComputePipelineCreateInfo-commonparent" href="#VUID-VkComputePipelineCreateInfo-commonparent"></a> Both of <code>basePipelineHandle</code>, and <code>layout</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineShaderStageCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineShaderStageCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineShaderStageCreateInfo {
    VkStructureType                     sType;
    <span class="directive">const</span> <span class="directive">void</span>*                         pNext;
    VkPipelineShaderStageCreateFlags    flags;
    VkShaderStageFlagBits               stage;
    VkShaderModule                      module;
    <span class="directive">const</span> <span class="predefined-type">char</span>*                         pName;
    <span class="directive">const</span> VkSpecializationInfo*         pSpecializationInfo;
} VkPipelineShaderStageCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineShaderStageCreateFlagBits">VkPipelineShaderStageCreateFlagBits</a>
specifying how the pipeline shader stage will be generated.</p>
</li>
<li>
<p><code>stage</code> is a <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> value specifying a single
pipeline stage.</p>
</li>
<li>
<p><code>module</code> is a <a href="#VkShaderModule">VkShaderModule</a> object containing the shader for
this stage.</p>
</li>
<li>
<p><code>pName</code> is a pointer to a null-terminated UTF-8 string specifying
the entry point name of the shader for this stage.</p>
</li>
<li>
<p><code>pSpecializationInfo</code> is a pointer to a <a href="#VkSpecializationInfo">VkSpecializationInfo</a>
structure, as described in
<a href="#pipelines-specialization-constants">Specialization Constants</a>, or
<code>NULL</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00704" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00704"></a>
If the <a href="#features-geometryShader">geometry shaders</a> feature is not
enabled, <code>stage</code> <strong class="purple">must</strong> not be <code>VK_SHADER_STAGE_GEOMETRY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00705" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00705"></a>
If the <a href="#features-tessellationShader">tessellation shaders</a> feature is
not enabled, <code>stage</code> <strong class="purple">must</strong> not be
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00706" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00706"></a>
<code>stage</code> <strong class="purple">must</strong> not be <code>VK_SHADER_STAGE_ALL_GRAPHICS</code>, or
<code>VK_SHADER_STAGE_ALL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pName-00707" href="#VUID-VkPipelineShaderStageCreateInfo-pName-00707"></a>
<code>pName</code> <strong class="purple">must</strong> be the name of an <code>OpEntryPoint</code> in <code>module</code>
with an execution model that matches <code>stage</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxClipDistances-00708" href="#VUID-VkPipelineShaderStageCreateInfo-maxClipDistances-00708"></a>
If the identified entry point includes any variable in its interface
that is declared with the <code>ClipDistance</code> <code>BuiltIn</code> decoration,
that variable <strong class="purple">must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxCullDistances-00709" href="#VUID-VkPipelineShaderStageCreateInfo-maxCullDistances-00709"></a>
If the identified entry point includes any variable in its interface
that is declared with the <code>CullDistance</code> <code>BuiltIn</code> decoration,
that variable <strong class="purple">must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxCullDistances</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxCombinedClipAndCullDistances-00710" href="#VUID-VkPipelineShaderStageCreateInfo-maxCombinedClipAndCullDistances-00710"></a>
If the identified entry point includes any variables in its interface
that are declared with the <code>ClipDistance</code> or <code>CullDistance</code>
<code>BuiltIn</code> decoration, those variables <strong class="purple">must</strong> not have array sizes
which sum to more than
<code>VkPhysicalDeviceLimits</code>::<code>maxCombinedClipAndCullDistances</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-maxSampleMaskWords-00711" href="#VUID-VkPipelineShaderStageCreateInfo-maxSampleMaskWords-00711"></a>
If the identified entry point includes any variable in its interface
that is declared with the <code>SampleMask</code> <code>BuiltIn</code> decoration, that
variable <strong class="purple">must</strong> not have an array size greater than
<code>VkPhysicalDeviceLimits</code>::<code>maxSampleMaskWords</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00712" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00712"></a>
If <code>stage</code> is <code>VK_SHADER_STAGE_VERTEX_BIT</code>, the identified entry
point <strong class="purple">must</strong> not include any input variable in its interface that is
decorated with <code>CullDistance</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00713" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00713"></a>
If <code>stage</code> is <code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> or
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>, and the identified
entry point has an <code>OpExecutionMode</code> instruction that specifies a
patch size with <code>OutputVertices</code>, the patch size <strong class="purple">must</strong> be greater
than <code>0</code> and less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00714" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00714"></a>
If <code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified
entry point <strong class="purple">must</strong> have an <code>OpExecutionMode</code> instruction that
specifies a maximum output vertex count that is greater than <code>0</code> and
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxGeometryOutputVertices</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00715" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00715"></a>
If <code>stage</code> is <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>, the identified
entry point <strong class="purple">must</strong> have an <code>OpExecutionMode</code> instruction that
specifies an invocation count that is greater than <code>0</code> and less than or
equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxGeometryShaderInvocations</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-02596" href="#VUID-VkPipelineShaderStageCreateInfo-stage-02596"></a>
If <code>stage</code> is a vertex processing stage, and the identified entry
point writes to <code>Layer</code> for any primitive, it <strong class="purple">must</strong> write the same
value to <code>Layer</code> for all vertices of a given primitive</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-02597" href="#VUID-VkPipelineShaderStageCreateInfo-stage-02597"></a>
If <code>stage</code> is a vertex processing stage, and the identified entry
point writes to <code>ViewportIndex</code> for any primitive, it <strong class="purple">must</strong> write the
same value to <code>ViewportIndex</code> for all vertices of a given primitive</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00718" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00718"></a>
If <code>stage</code> is <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, the identified
entry point <strong class="purple">must</strong> not include any output variables in its interface
decorated with <code>CullDistance</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-00719" href="#VUID-VkPipelineShaderStageCreateInfo-stage-00719"></a>
If <code>stage</code> is <code>VK_SHADER_STAGE_FRAGMENT_BIT</code>, and the identified
entry point writes to <code>FragDepth</code> in any execution path, it <strong class="purple">must</strong>
write to <code>FragDepth</code> in all execution paths</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-sType-sType" href="#VUID-VkPipelineShaderStageCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pNext-pNext" href="#VUID-VkPipelineShaderStageCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineShaderStageCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-stage-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-stage-parameter"></a> <code>stage</code> <strong class="purple">must</strong> be a valid <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-module-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-module-parameter"></a> <code>module</code> <strong class="purple">must</strong> be a valid <a href="#VkShaderModule">VkShaderModule</a> handle</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pName-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-pName-parameter"></a> <code>pName</code> <strong class="purple">must</strong> be a null-terminated UTF-8 string</p>
</li>
<li>
<p><a id="VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-parameter" href="#VUID-VkPipelineShaderStageCreateInfo-pSpecializationInfo-parameter"></a> If <code>pSpecializationInfo</code> is not <code>NULL</code>, <code>pSpecializationInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkSpecializationInfo">VkSpecializationInfo</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineShaderStageCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineShaderStageCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineShaderStageCreateFlags</code> is a bitmask type for setting a mask
of zero or more <a href="#VkPipelineShaderStageCreateFlagBits">VkPipelineShaderStageCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>flags</code> member of
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> specifying how a pipeline shader stage
is created, are:</p>
</div>
<div id="VkPipelineShaderStageCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkPipelineShaderStageCreateFlagBits {
    VK_PIPELINE_SHADER_STAGE_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkPipelineShaderStageCreateFlagBits;</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Commands and structures which need to specify one or more shader stages do
so using a bitmask whose bits correspond to stages.
Bits which <strong class="purple">can</strong> be set to specify shader stages are:</p>
</div>
<div id="VkShaderStageFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkShaderStageFlagBits {
    VK_SHADER_STAGE_VERTEX_BIT = <span class="hex">0x00000001</span>,
    VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT = <span class="hex">0x00000002</span>,
    VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT = <span class="hex">0x00000004</span>,
    VK_SHADER_STAGE_GEOMETRY_BIT = <span class="hex">0x00000008</span>,
    VK_SHADER_STAGE_FRAGMENT_BIT = <span class="hex">0x00000010</span>,
    VK_SHADER_STAGE_COMPUTE_BIT = <span class="hex">0x00000020</span>,
    VK_SHADER_STAGE_ALL_GRAPHICS = <span class="hex">0x0000001F</span>,
    VK_SHADER_STAGE_ALL = <span class="hex">0x7FFFFFFF</span>,
    VK_SHADER_STAGE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkShaderStageFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_VERTEX_BIT</code> specifies the vertex stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code> specifies the
tessellation control stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code> specifies the
tessellation evaluation stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_GEOMETRY_BIT</code> specifies the geometry stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_FRAGMENT_BIT</code> specifies the fragment stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_COMPUTE_BIT</code> specifies the compute stage.</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_ALL_GRAPHICS</code> is a combination of bits used as
shorthand to specify all graphics stages defined above (excluding the
compute stage).</p>
</li>
<li>
<p><code>VK_SHADER_STAGE_ALL</code> is a combination of bits used as shorthand to
specify all shader stages supported by the device, including all
additional stages which are introduced by extensions.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>VK_SHADER_STAGE_ALL_GRAPHICS</code> only includes the original five graphics
stages included in Vulkan 1.0, and not any stages added by extensions.
Thus, it may not have the desired effect in all cases.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkShaderStageFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkShaderStageFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkShaderStageFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-graphics"><a class="anchor" href="#pipelines-graphics"></a>9.2. Graphics Pipelines</h3>
<div class="paragraph">
<p>Graphics pipelines consist of multiple shader stages, multiple
fixed-function pipeline stages, and a pipeline layout.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create graphics pipelines, call:</p>
</div>
<div id="vkCreateGraphicsPipelines" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateGraphicsPipelines(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    uint32_t                                    createInfoCount,
    <span class="directive">const</span> VkGraphicsPipelineCreateInfo*         pCreateInfos,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkPipeline*                                 pPipelines);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the graphics pipelines.</p>
</li>
<li>
<p><code>pipelineCache</code> is either <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, indicating that
pipeline caching is disabled; or the handle of a valid
<a href="#pipelines-cache">pipeline cache</a> object, in which case use of that
cache is enabled for the duration of the command.</p>
</li>
<li>
<p><code>createInfoCount</code> is the length of the <code>pCreateInfos</code> and
<code>pPipelines</code> arrays.</p>
</li>
<li>
<p><code>pCreateInfos</code> is a pointer to an array of
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> structures.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelines</code> is a pointer to an array of <a href="#VkPipeline">VkPipeline</a> handles in
which the resulting graphics pipeline objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> structure includes an array of shader
create info structures containing all the desired active shader stages, as
well as creation info to define all relevant fixed-function stages, and a
pipeline layout.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-flags-00720" href="#VUID-vkCreateGraphicsPipelines-flags-00720"></a>
If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, and the
<code>basePipelineIndex</code> member of that same element is not <code>-1</code>,
<code>basePipelineIndex</code> <strong class="purple">must</strong> be less than the index into
<code>pCreateInfos</code> that corresponds to that element</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-flags-00721" href="#VUID-vkCreateGraphicsPipelines-flags-00721"></a>
If the <code>flags</code> member of any element of <code>pCreateInfos</code> contains
the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag, the base pipeline
<strong class="purple">must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-device-parameter" href="#VUID-vkCreateGraphicsPipelines-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pipelineCache-parameter" href="#VUID-vkCreateGraphicsPipelines-pipelineCache-parameter"></a> If <code>pipelineCache</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pCreateInfos-parameter" href="#VUID-vkCreateGraphicsPipelines-pCreateInfos-parameter"></a> <code>pCreateInfos</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>createInfoCount</code> valid <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pAllocator-parameter" href="#VUID-vkCreateGraphicsPipelines-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pPipelines-parameter" href="#VUID-vkCreateGraphicsPipelines-pPipelines-parameter"></a> <code>pPipelines</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>createInfoCount</code> <a href="#VkPipeline">VkPipeline</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-createInfoCount-arraylength" href="#VUID-vkCreateGraphicsPipelines-createInfoCount-arraylength"></a> <code>createInfoCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCreateGraphicsPipelines-pipelineCache-parent" href="#VUID-vkCreateGraphicsPipelines-pipelineCache-parent"></a> If <code>pipelineCache</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkGraphicsPipelineCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkGraphicsPipelineCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkGraphicsPipelineCreateInfo {
    VkStructureType                                  sType;
    <span class="directive">const</span> <span class="directive">void</span>*                                      pNext;
    VkPipelineCreateFlags                            flags;
    uint32_t                                         stageCount;
    <span class="directive">const</span> VkPipelineShaderStageCreateInfo*           pStages;
    <span class="directive">const</span> VkPipelineVertexInputStateCreateInfo*      pVertexInputState;
    <span class="directive">const</span> VkPipelineInputAssemblyStateCreateInfo*    pInputAssemblyState;
    <span class="directive">const</span> VkPipelineTessellationStateCreateInfo*     pTessellationState;
    <span class="directive">const</span> VkPipelineViewportStateCreateInfo*         pViewportState;
    <span class="directive">const</span> VkPipelineRasterizationStateCreateInfo*    pRasterizationState;
    <span class="directive">const</span> VkPipelineMultisampleStateCreateInfo*      pMultisampleState;
    <span class="directive">const</span> VkPipelineDepthStencilStateCreateInfo*     pDepthStencilState;
    <span class="directive">const</span> VkPipelineColorBlendStateCreateInfo*       pColorBlendState;
    <span class="directive">const</span> VkPipelineDynamicStateCreateInfo*          pDynamicState;
    VkPipelineLayout                                 layout;
    VkRenderPass                                     renderPass;
    uint32_t                                         subpass;
    VkPipeline                                       basePipelineHandle;
    int32_t                                          basePipelineIndex;
} VkGraphicsPipelineCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> specifying
how the pipeline will be generated.</p>
</li>
<li>
<p><code>stageCount</code> is the number of entries in the <code>pStages</code> array.</p>
</li>
<li>
<p><code>pStages</code> is a pointer to an array of <code>stageCount</code>
<a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures describing the set of
the shader stages to be included in the graphics pipeline.</p>
</li>
<li>
<p><code>pVertexInputState</code> is a pointer to a
<a href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a> structure.</p>
</li>
<li>
<p><code>pInputAssemblyState</code> is a pointer to a
<a href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a> structure which determines
input assembly behavior, as described in <a href="#drawing">Drawing Commands</a>.</p>
</li>
<li>
<p><code>pTessellationState</code> is a pointer to a
<a href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a> structure, and is ignored if
the pipeline does not include a tessellation control shader stage and
tessellation evaluation shader stage.</p>
</li>
<li>
<p><code>pViewportState</code> is a pointer to a
<a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a> structure, and is ignored if the
pipeline has rasterization disabled.</p>
</li>
<li>
<p><code>pRasterizationState</code> is a pointer to a
<a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a> structure.</p>
</li>
<li>
<p><code>pMultisampleState</code> is a pointer to a
<a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a> structure, and is ignored if
the pipeline has rasterization disabled.</p>
</li>
<li>
<p><code>pDepthStencilState</code> is a pointer to a
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a> structure, and is ignored if
the pipeline has rasterization disabled or if the subpass of the render
pass the pipeline is created against does not use a depth/stencil
attachment.</p>
</li>
<li>
<p><code>pColorBlendState</code> is a pointer to a
<a href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a> structure, and is ignored if
the pipeline has rasterization disabled or if the subpass of the render
pass the pipeline is created against does not use any color attachments.</p>
</li>
<li>
<p><code>pDynamicState</code> is a pointer to a
<a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a> structure, and is used to
indicate which properties of the pipeline state object are dynamic and
<strong class="purple">can</strong> be changed independently of the pipeline state.
This <strong class="purple">can</strong> be <code>NULL</code>, which means no state in the pipeline is considered
dynamic.</p>
</li>
<li>
<p><code>layout</code> is the description of binding locations used by both the
pipeline and descriptor sets used with the pipeline.</p>
</li>
<li>
<p><code>renderPass</code> is a handle to a render pass object describing the
environment in which the pipeline will be used; the pipeline <strong class="purple">must</strong> only
be used with an instance of any render pass compatible with the one
provided.
See <a href="#renderpass-compatibility">Render Pass Compatibility</a> for more
information.</p>
</li>
<li>
<p><code>subpass</code> is the index of the subpass in the render pass where this
pipeline will be used.</p>
</li>
<li>
<p><code>basePipelineHandle</code> is a pipeline to derive from.</p>
</li>
<li>
<p><code>basePipelineIndex</code> is an index into the <code>pCreateInfos</code>
parameter to use as a pipeline to derive from.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The parameters <code>basePipelineHandle</code> and <code>basePipelineIndex</code> are
described in more detail in <a href="#pipelines-pipeline-derivatives">Pipeline
Derivatives</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-00722" href="#VUID-VkGraphicsPipelineCreateInfo-flags-00722"></a>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineIndex</code> is -1, <code>basePipelineHandle</code> <strong class="purple">must</strong>
be a valid handle to a graphics <code>VkPipeline</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-00723" href="#VUID-VkGraphicsPipelineCreateInfo-flags-00723"></a>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineHandle</code> is <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>,
<code>basePipelineIndex</code> <strong class="purple">must</strong> be a valid index into the calling
command&#8217;s <code>pCreateInfos</code> parameter</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-00724" href="#VUID-VkGraphicsPipelineCreateInfo-flags-00724"></a>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineIndex</code> is not -1, <code>basePipelineHandle</code>
<strong class="purple">must</strong> be <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-00725" href="#VUID-VkGraphicsPipelineCreateInfo-flags-00725"></a>
If <code>flags</code> contains the <code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>
flag, and <code>basePipelineHandle</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>,
<code>basePipelineIndex</code> <strong class="purple">must</strong> be -1</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stage-00726" href="#VUID-VkGraphicsPipelineCreateInfo-stage-00726"></a>
The <code>stage</code> member of each element of <code>pStages</code> <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stage-00727" href="#VUID-VkGraphicsPipelineCreateInfo-stage-00727"></a>
The <code>stage</code> member of one element of <code>pStages</code> <strong class="purple">must</strong> be
<code>VK_SHADER_STAGE_VERTEX_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stage-00728" href="#VUID-VkGraphicsPipelineCreateInfo-stage-00728"></a>
The <code>stage</code> member of each element of <code>pStages</code> <strong class="purple">must</strong> not be
<code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00729" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00729"></a>
If <code>pStages</code> includes a tessellation control shader stage, it <strong class="purple">must</strong>
include a tessellation evaluation shader stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00730" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00730"></a>
If <code>pStages</code> includes a tessellation evaluation shader stage, it
<strong class="purple">must</strong> include a tessellation control shader stage</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00731" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00731"></a>
If <code>pStages</code> includes a tessellation control shader stage and a
tessellation evaluation shader stage, <code>pTessellationState</code> <strong class="purple">must</strong> be
a valid pointer to a valid <code>VkPipelineTessellationStateCreateInfo</code>
structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00732" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00732"></a>
If <code>pStages</code> includes tessellation shader stages, the shader code of
at least one stage <strong class="purple">must</strong> contain an <code>OpExecutionMode</code> instruction
that specifies the type of subdivision in the pipeline</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00733" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00733"></a>
If <code>pStages</code> includes tessellation shader stages, and the shader
code of both stages contain an <code>OpExecutionMode</code> instruction that
specifies the type of subdivision in the pipeline, they <strong class="purple">must</strong> both
specify the same subdivision mode</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00734" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00734"></a>
If <code>pStages</code> includes tessellation shader stages, the shader code of
at least one stage <strong class="purple">must</strong> contain an <code>OpExecutionMode</code> instruction
that specifies the output patch size in the pipeline</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00735" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00735"></a>
If <code>pStages</code> includes tessellation shader stages, and the shader
code of both contain an <code>OpExecutionMode</code> instruction that specifies
the out patch size in the pipeline, they <strong class="purple">must</strong> both specify the same
patch size</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00736" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00736"></a>
If <code>pStages</code> includes tessellation shader stages, the <code>topology</code>
member of <code>pInputAssembly</code> <strong class="purple">must</strong> be
<code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-topology-00737" href="#VUID-VkGraphicsPipelineCreateInfo-topology-00737"></a>
If the <code>topology</code> member of <code>pInputAssembly</code> is
<code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>, <code>pStages</code> <strong class="purple">must</strong> include
tessellation shader stages</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00738" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00738"></a>
If <code>pStages</code> includes a geometry shader stage, and does not include
any tessellation shader stages, its shader code <strong class="purple">must</strong> contain an
<code>OpExecutionMode</code> instruction that specifies an input primitive type
that is <a href="#shaders-geometry-execution">compatible</a> with the primitive
topology specified in <code>pInputAssembly</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00739" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00739"></a>
If <code>pStages</code> includes a geometry shader stage, and also includes
tessellation shader stages, its shader code <strong class="purple">must</strong> contain an
<code>OpExecutionMode</code> instruction that specifies an input primitive type
that is <a href="#shaders-geometry-execution">compatible</a> with the primitive
topology that is output by the tessellation stages</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00740" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00740"></a>
If <code>pStages</code> includes a fragment shader stage and a geometry shader
stage, and the fragment shader code reads from an input variable that is
decorated with <code>PrimitiveID</code>, then the geometry shader code <strong class="purple">must</strong>
write to a matching output variable, decorated with <code>PrimitiveID</code>, in
all execution paths</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00741" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00741"></a>
If <code>pStages</code> includes a fragment shader stage, its shader code <strong class="purple">must</strong>
not read from any input attachment that is defined as
<code>VK_ATTACHMENT_UNUSED</code> in <code>subpass</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-00742" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-00742"></a>
The shader code for the entry points identified by <code>pStages</code>, and
the rest of the state identified by this structure <strong class="purple">must</strong> adhere to the
pipeline linking rules described in the <a href="#interfaces">Shader Interfaces</a>
chapter</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-subpass-00743" href="#VUID-VkGraphicsPipelineCreateInfo-subpass-00743"></a>
If rasterization is not disabled and <code>subpass</code> uses a depth/stencil
attachment in <code>renderPass</code> that has a layout of
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> in the
<code>VkAttachmentReference</code> defined by <code>subpass</code>, the
<code>depthWriteEnable</code> member of <code>pDepthStencilState</code> <strong class="purple">must</strong> be
<code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-subpass-00744" href="#VUID-VkGraphicsPipelineCreateInfo-subpass-00744"></a>
If rasterization is not disabled and <code>subpass</code> uses a depth/stencil
attachment in <code>renderPass</code> that has a layout of
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> in the
<code>VkAttachmentReference</code> defined by <code>subpass</code>, the <code>failOp</code>,
<code>passOp</code> and <code>depthFailOp</code> members of each of the <code>front</code>
and <code>back</code> members of <code>pDepthStencilState</code> <strong class="purple">must</strong> be
<code>VK_STENCIL_OP_KEEP</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-blendEnable-02023" href="#VUID-VkGraphicsPipelineCreateInfo-blendEnable-02023"></a>
If rasterization is not disabled and the subpass uses color attachments,
then for each color attachment in the subpass the <code>blendEnable</code>
member of the corresponding element of the <code>pAttachment</code> member of
<code>pColorBlendState</code> <strong class="purple">must</strong> be <code>VK_FALSE</code> if the attached image&#8217;s
<a href="#resources-image-format-features">format features</a> does not contain
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-attachmentCount-00746" href="#VUID-VkGraphicsPipelineCreateInfo-attachmentCount-00746"></a>
If rasterization is not disabled and the subpass uses color attachments,
the <code>attachmentCount</code> member of <code>pColorBlendState</code> <strong class="purple">must</strong> be
equal to the <code>colorAttachmentCount</code> used to create <code>subpass</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00747" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00747"></a>
If no element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
is <code>VK_DYNAMIC_STATE_VIEWPORT</code>, the <code>pViewports</code> member of
<code>pViewportState</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>pViewportState-&gt;viewportCount</code> valid <code>VkViewport</code> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00748" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00748"></a>
If no element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
is <code>VK_DYNAMIC_STATE_SCISSOR</code>, the <code>pScissors</code> member of
<code>pViewportState</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>pViewportState-&gt;scissorCount</code> <code>VkRect2D</code> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00749" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00749"></a>
If the wide lines feature is not enabled, and no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_LINE_WIDTH</code>, the <code>lineWidth</code> member of
<code>pRasterizationState</code> <strong class="purple">must</strong> be <code>1.0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-00750" href="#VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-00750"></a>
If the <code>rasterizerDiscardEnable</code> member of <code>pRasterizationState</code>
is <code>VK_FALSE</code>, <code>pViewportState</code> <strong class="purple">must</strong> be a valid pointer to a
valid <code>VkPipelineViewportStateCreateInfo</code> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-00751" href="#VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-00751"></a>
If the <code>rasterizerDiscardEnable</code> member of <code>pRasterizationState</code>
is <code>VK_FALSE</code>, <code>pMultisampleState</code> <strong class="purple">must</strong> be a valid pointer to a
valid <code>VkPipelineMultisampleStateCreateInfo</code> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-00752" href="#VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-00752"></a>
If the <code>rasterizerDiscardEnable</code> member of <code>pRasterizationState</code>
is <code>VK_FALSE</code>, and <code>subpass</code> uses a depth/stencil attachment,
<code>pDepthStencilState</code> <strong class="purple">must</strong> be a valid pointer to a valid
<code>VkPipelineDepthStencilStateCreateInfo</code> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-00753" href="#VUID-VkGraphicsPipelineCreateInfo-rasterizerDiscardEnable-00753"></a>
If the <code>rasterizerDiscardEnable</code> member of <code>pRasterizationState</code>
is <code>VK_FALSE</code>, and <code>subpass</code> uses color attachments,
<code>pColorBlendState</code> <strong class="purple">must</strong> be a valid pointer to a valid
<code>VkPipelineColorBlendStateCreateInfo</code> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00754" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00754"></a>
If the depth bias clamping feature is not enabled, no element of the
<code>pDynamicStates</code> member of <code>pDynamicState</code> is
<code>VK_DYNAMIC_STATE_DEPTH_BIAS</code>, and the <code>depthBiasEnable</code> member
of <code>pRasterizationState</code> is <code>VK_TRUE</code>, the <code>depthBiasClamp</code>
member of <code>pRasterizationState</code> <strong class="purple">must</strong> be <code>0.0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00755" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicStates-00755"></a>
If no element of the <code>pDynamicStates</code> member of <code>pDynamicState</code>
is <code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code>, and the
<code>depthBoundsTestEnable</code> member of <code>pDepthStencilState</code> is
<code>VK_TRUE</code>, the <code>minDepthBounds</code> and <code>maxDepthBounds</code> members
of <code>pDepthStencilState</code> <strong class="purple">must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-00756" href="#VUID-VkGraphicsPipelineCreateInfo-layout-00756"></a>
<code>layout</code> <strong class="purple">must</strong> be
<a href="#descriptorsets-pipelinelayout-consistency">consistent</a> with all
shaders specified in <code>pStages</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-subpass-00757" href="#VUID-VkGraphicsPipelineCreateInfo-subpass-00757"></a>
If neither the <code>VK_AMD_mixed_attachment_samples</code> nor the
<code>VK_NV_framebuffer_mixed_samples</code> extensions are enabled, and if
<code>subpass</code> uses color and/or depth/stencil attachments, then the
<code>rasterizationSamples</code> member of <code>pMultisampleState</code> <strong class="purple">must</strong> be
the same as the sample count for those subpass attachments</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-subpass-00758" href="#VUID-VkGraphicsPipelineCreateInfo-subpass-00758"></a>
If <code>subpass</code> does not use any color and/or depth/stencil
attachments, then the <code>rasterizationSamples</code> member of
<code>pMultisampleState</code> <strong class="purple">must</strong> follow the rules for a
<a href="#renderpass-noattachments">zero-attachment subpass</a></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-subpass-00759" href="#VUID-VkGraphicsPipelineCreateInfo-subpass-00759"></a>
<code>subpass</code> <strong class="purple">must</strong> be a valid subpass within <code>renderPass</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-01688" href="#VUID-VkGraphicsPipelineCreateInfo-layout-01688"></a>
The number of resources in <code>layout</code> accessible to each shader stage
that is used by the pipeline <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageResources</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-02097" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-02097"></a>
If <code>pStages</code> includes a vertex shader stage, <code>pVertexInputState</code>
<strong class="purple">must</strong> be a valid pointer to a valid
<a href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-02098" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-02098"></a>
If <code>pStages</code> includes a vertex shader stage,
<code>pInputAssemblyState</code> <strong class="purple">must</strong> be a valid pointer to a valid
<a href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-sType-sType" href="#VUID-VkGraphicsPipelineCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pNext-pNext" href="#VUID-VkGraphicsPipelineCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-flags-parameter" href="#VUID-VkGraphicsPipelineCreateInfo-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pStages-parameter" href="#VUID-VkGraphicsPipelineCreateInfo-pStages-parameter"></a> <code>pStages</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>stageCount</code> valid <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-parameter" href="#VUID-VkGraphicsPipelineCreateInfo-pRasterizationState-parameter"></a> <code>pRasterizationState</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-pDynamicState-parameter" href="#VUID-VkGraphicsPipelineCreateInfo-pDynamicState-parameter"></a> If <code>pDynamicState</code> is not <code>NULL</code>, <code>pDynamicState</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-layout-parameter" href="#VUID-VkGraphicsPipelineCreateInfo-layout-parameter"></a> <code>layout</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-renderPass-parameter" href="#VUID-VkGraphicsPipelineCreateInfo-renderPass-parameter"></a> <code>renderPass</code> <strong class="purple">must</strong> be a valid <a href="#VkRenderPass">VkRenderPass</a> handle</p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-stageCount-arraylength" href="#VUID-VkGraphicsPipelineCreateInfo-stageCount-arraylength"></a> <code>stageCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkGraphicsPipelineCreateInfo-commonparent" href="#VUID-VkGraphicsPipelineCreateInfo-commonparent"></a> Each of <code>basePipelineHandle</code>, <code>layout</code>, and <code>renderPass</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>flags</code> member of
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>,
and <a href="#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>, specifying how a pipeline is created,
are:</p>
</div>
<div id="VkPipelineCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkPipelineCreateFlagBits {
    VK_PIPELINE_CREATE_DISABLE_OPTIMIZATION_BIT = <span class="hex">0x00000001</span>,
    VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT = <span class="hex">0x00000002</span>,
    VK_PIPELINE_CREATE_DERIVATIVE_BIT = <span class="hex">0x00000004</span>,
    VK_PIPELINE_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkPipelineCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_DISABLE_OPTIMIZATION_BIT</code> specifies that the
created pipeline will not be optimized.
Using this flag <strong class="purple">may</strong> reduce the time taken to create the pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> specifies that the
pipeline to be created is allowed to be the parent of a pipeline that
will be created in a subsequent call to <a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a>
or <a href="#vkCreateComputePipelines">vkCreateComputePipelines</a>.</p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> specifies that the pipeline to
be created will be a child of a previously created parent pipeline.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is valid to set both <code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> and
<code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code>.
This allows a pipeline to be both a parent and possibly a child in a
pipeline hierarchy.
See <a href="#pipelines-pipeline-derivatives">Pipeline Derivatives</a> for more
information.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCreateFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineDynamicStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineDynamicStateCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineDynamicStateCreateInfo {
    VkStructureType                      sType;
    <span class="directive">const</span> <span class="directive">void</span>*                          pNext;
    VkPipelineDynamicStateCreateFlags    flags;
    uint32_t                             dynamicStateCount;
    <span class="directive">const</span> VkDynamicState*                pDynamicStates;
} VkPipelineDynamicStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>dynamicStateCount</code> is the number of elements in the
<code>pDynamicStates</code> array.</p>
</li>
<li>
<p><code>pDynamicStates</code> is a pointer to an array of <a href="#VkDynamicState">VkDynamicState</a>
values specifying which pieces of pipeline state will use the values
from dynamic state commands rather than from pipeline state creation
info.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-01442" href="#VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-01442"></a>
Each element of <code>pDynamicStates</code> <strong class="purple">must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-sType-sType" href="#VUID-VkPipelineDynamicStateCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineDynamicStateCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineDynamicStateCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-parameter" href="#VUID-VkPipelineDynamicStateCreateInfo-pDynamicStates-parameter"></a> If <code>dynamicStateCount</code> is not <code>0</code>, <code>pDynamicStates</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>dynamicStateCount</code> valid <a href="#VkDynamicState">VkDynamicState</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineDynamicStateCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineDynamicStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineDynamicStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The source of different pieces of dynamic state is specified by the
<a href="#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code> property of the
currently active pipeline, each of whose elements <strong class="purple">must</strong> be one of the
values:</p>
</div>
<div id="VkDynamicState" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkDynamicState {
    VK_DYNAMIC_STATE_VIEWPORT = <span class="integer">0</span>,
    VK_DYNAMIC_STATE_SCISSOR = <span class="integer">1</span>,
    VK_DYNAMIC_STATE_LINE_WIDTH = <span class="integer">2</span>,
    VK_DYNAMIC_STATE_DEPTH_BIAS = <span class="integer">3</span>,
    VK_DYNAMIC_STATE_BLEND_CONSTANTS = <span class="integer">4</span>,
    VK_DYNAMIC_STATE_DEPTH_BOUNDS = <span class="integer">5</span>,
    VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK = <span class="integer">6</span>,
    VK_DYNAMIC_STATE_STENCIL_WRITE_MASK = <span class="integer">7</span>,
    VK_DYNAMIC_STATE_STENCIL_REFERENCE = <span class="integer">8</span>,
    VK_DYNAMIC_STATE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkDynamicState;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT</code> specifies that the <code>pViewports</code>
state in <code>VkPipelineViewportStateCreateInfo</code> will be ignored and
<strong class="purple">must</strong> be set dynamically with <a href="#vkCmdSetViewport">vkCmdSetViewport</a> before any draw
commands.
The number of viewports used by a pipeline is still specified by the
<code>viewportCount</code> member of <code>VkPipelineViewportStateCreateInfo</code>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SCISSOR</code> specifies that the <code>pScissors</code> state
in <code>VkPipelineViewportStateCreateInfo</code> will be ignored and <strong class="purple">must</strong> be
set dynamically with <a href="#vkCmdSetScissor">vkCmdSetScissor</a> before any draw commands.
The number of scissor rectangles used by a pipeline is still specified
by the <code>scissorCount</code> member of
<code>VkPipelineViewportStateCreateInfo</code>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LINE_WIDTH</code> specifies that the <code>lineWidth</code>
state in <code>VkPipelineRasterizationStateCreateInfo</code> will be ignored
and <strong class="purple">must</strong> be set dynamically with <a href="#vkCmdSetLineWidth">vkCmdSetLineWidth</a> before any
draw commands that generate line primitives for the rasterizer.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BIAS</code> specifies that the
<code>depthBiasConstantFactor</code>, <code>depthBiasClamp</code> and
<code>depthBiasSlopeFactor</code> states in
<code>VkPipelineRasterizationStateCreateInfo</code> will be ignored and <strong class="purple">must</strong>
be set dynamically with <a href="#vkCmdSetDepthBias">vkCmdSetDepthBias</a> before any draws are
performed with <code>depthBiasEnable</code> in
<code>VkPipelineRasterizationStateCreateInfo</code> set to <code>VK_TRUE</code>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> specifies that the
<code>blendConstants</code> state in <code>VkPipelineColorBlendStateCreateInfo</code>
will be ignored and <strong class="purple">must</strong> be set dynamically with
<a href="#vkCmdSetBlendConstants">vkCmdSetBlendConstants</a> before any draws are performed with a
pipeline state with <code>VkPipelineColorBlendAttachmentState</code> member
<code>blendEnable</code> set to <code>VK_TRUE</code> and any of the blend functions
using a constant blend color.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> specifies that the
<code>minDepthBounds</code> and <code>maxDepthBounds</code> states of
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a> will be ignored and <strong class="purple">must</strong> be
set dynamically with <a href="#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a> before any draws are
performed with a pipeline state with
<code>VkPipelineDepthStencilStateCreateInfo</code> member
<code>depthBoundsTestEnable</code> set to <code>VK_TRUE</code>.</p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> specifies that the
<code>compareMask</code> state in <code>VkPipelineDepthStencilStateCreateInfo</code>
for both <code>front</code> and <code>back</code> will be ignored and <strong class="purple">must</strong> be set
dynamically with <a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a> before any draws are
performed with a pipeline state with
<code>VkPipelineDepthStencilStateCreateInfo</code> member
<code>stencilTestEnable</code> set to <code>VK_TRUE</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> specifies that the
<code>writeMask</code> state in <code>VkPipelineDepthStencilStateCreateInfo</code> for
both <code>front</code> and <code>back</code> will be ignored and <strong class="purple">must</strong> be set
dynamically with <a href="#vkCmdSetStencilWriteMask">vkCmdSetStencilWriteMask</a> before any draws are
performed with a pipeline state with
<code>VkPipelineDepthStencilStateCreateInfo</code> member
<code>stencilTestEnable</code> set to <code>VK_TRUE</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> specifies that the
<code>reference</code> state in <code>VkPipelineDepthStencilStateCreateInfo</code> for
both <code>front</code> and <code>back</code> will be ignored and <strong class="purple">must</strong> be set
dynamically with <a href="#vkCmdSetStencilReference">vkCmdSetStencilReference</a> before any draws are
performed with a pipeline state with
<code>VkPipelineDepthStencilStateCreateInfo</code> member
<code>stencilTestEnable</code> set to <code>VK_TRUE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_valid_combinations_of_stages_for_graphics_pipelines"><a class="anchor" href="#_valid_combinations_of_stages_for_graphics_pipelines"></a>9.2.1. Valid Combinations of Stages for Graphics Pipelines</h4>
<div class="paragraph">
<p>If tessellation shader stages are omitted, the tessellation shading and
fixed-function stages of the pipeline are skipped.</p>
</div>
<div class="paragraph">
<p>If a geometry shader is omitted, the geometry shading stage is skipped.</p>
</div>
<div class="paragraph">
<p>If a fragment shader is omitted, fragment color outputs have undefined
values, and the fragment depth value is unmodified.
This <strong class="purple">can</strong> be useful for depth-only rendering.</p>
</div>
<div class="paragraph">
<p>Presence of a shader stage in a pipeline is indicated by including a valid
<code>VkPipelineShaderStageCreateInfo</code> with <code>module</code> and <code>pName</code>
selecting an entry point from a shader module, where that entry point is
valid for the stage specified by <code>stage</code>.</p>
</div>
<div class="paragraph">
<p>Presence of some of the fixed-function stages in the pipeline is implicitly
derived from enabled shaders and provided state.
For example, the fixed-function tessellator is always present when the
pipeline has valid Tessellation Control and Tessellation Evaluation shaders.</p>
</div>
<div class="ulist">
<div class="title">For example:</div>
<ul>
<li>
<p>Depth/stencil-only rendering in a subpass with no color attachments</p>
<div class="ulist">
<ul>
<li>
<p>Active Pipeline Shader Stages</p>
<div class="ulist">
<ul>
<li>
<p>Vertex Shader</p>
</li>
</ul>
</div>
</li>
<li>
<p>Required: Fixed-Function Pipeline Stages</p>
<div class="ulist">
<ul>
<li>
<p><a href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Color-only rendering in a subpass with no depth/stencil attachment</p>
<div class="ulist">
<ul>
<li>
<p>Active Pipeline Shader Stages</p>
<div class="ulist">
<ul>
<li>
<p>Vertex Shader</p>
</li>
<li>
<p>Fragment Shader</p>
</li>
</ul>
</div>
</li>
<li>
<p>Required: Fixed-Function Pipeline Stages</p>
<div class="ulist">
<ul>
<li>
<p><a href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Rendering pipeline with tessellation and geometry shaders</p>
<div class="ulist">
<ul>
<li>
<p>Active Pipeline Shader Stages</p>
<div class="ulist">
<ul>
<li>
<p>Vertex Shader</p>
</li>
<li>
<p>Tessellation Control Shader</p>
</li>
<li>
<p>Tessellation Evaluation Shader</p>
</li>
<li>
<p>Geometry Shader</p>
</li>
<li>
<p>Fragment Shader</p>
</li>
</ul>
</div>
</li>
<li>
<p>Required: Fixed-Function Pipeline Stages</p>
<div class="ulist">
<ul>
<li>
<p><a href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a></p>
</li>
<li>
<p><a href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-destruction"><a class="anchor" href="#pipelines-destruction"></a>9.3. Pipeline destruction</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a graphics or compute pipeline, call:</p>
</div>
<div id="vkDestroyPipeline" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyPipeline(
    VkDevice                                    device,
    VkPipeline                                  pipeline,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the pipeline.</p>
</li>
<li>
<p><code>pipeline</code> is the handle of the pipeline to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-00765" href="#VUID-vkDestroyPipeline-pipeline-00765"></a>
All submitted commands that refer to <code>pipeline</code> <strong class="purple">must</strong> have completed
execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-00766" href="#VUID-vkDestroyPipeline-pipeline-00766"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>pipeline</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-00767" href="#VUID-vkDestroyPipeline-pipeline-00767"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>pipeline</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipeline-device-parameter" href="#VUID-vkDestroyPipeline-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-parameter" href="#VUID-vkDestroyPipeline-pipeline-parameter"></a> If <code>pipeline</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>pipeline</code> <strong class="purple">must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pAllocator-parameter" href="#VUID-vkDestroyPipeline-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipeline-pipeline-parent" href="#VUID-vkDestroyPipeline-pipeline-parent"></a> If <code>pipeline</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pipeline</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-multiple"><a class="anchor" href="#pipelines-multiple"></a>9.4. Multiple Pipeline Creation</h3>
<div class="paragraph">
<p>Multiple pipelines <strong class="purple">can</strong> be created simultaneously by passing an array of
<code>VkGraphicsPipelineCreateInfo</code> or <code>VkComputePipelineCreateInfo</code>
structures into the <a href="#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a> and
<a href="#vkCreateComputePipelines">vkCreateComputePipelines</a> commands, respectively.
Applications <strong class="purple">can</strong> group together similar pipelines to be created in a single
call, and implementations are encouraged to look for reuse opportunities
within a group-create.</p>
</div>
<div class="paragraph">
<p>When an application attempts to create many pipelines in a single command,
it is possible that some subset <strong class="purple">may</strong> fail creation.
In that case, the corresponding entries in the <code>pPipelines</code> output array
will be filled with <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a> values.
If any pipeline fails creation (for example, due to out of memory errors),
the <code>vkCreate*Pipelines</code> commands will return an error code.
The implementation will attempt to create all pipelines, and only return
<a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a> values for those that actually failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-pipeline-derivatives"><a class="anchor" href="#pipelines-pipeline-derivatives"></a>9.5. Pipeline Derivatives</h3>
<div class="paragraph">
<p>A pipeline derivative is a child pipeline created from a parent pipeline,
where the child and parent are expected to have much commonality.
The goal of derivative pipelines is that they be cheaper to create using the
parent as a starting point, and that it be more efficient (on either host or
device) to switch/bind between children of the same parent.</p>
</div>
<div class="paragraph">
<p>A derivative pipeline is created by setting the
<code>VK_PIPELINE_CREATE_DERIVATIVE_BIT</code> flag in the
<code>Vk*PipelineCreateInfo</code> structure.
If this is set, then exactly one of <code>basePipelineHandle</code> or
<code>basePipelineIndex</code> members of the structure <strong class="purple">must</strong> have a valid
handle/index, and specifies the parent pipeline.
If <code>basePipelineHandle</code> is used, the parent pipeline <strong class="purple">must</strong> have already
been created.
If <code>basePipelineIndex</code> is used, then the parent is being created in the
same command.
<a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a> acts as the invalid handle for
<code>basePipelineHandle</code>, and -1 is the invalid index for
<code>basePipelineIndex</code>.
If <code>basePipelineIndex</code> is used, the base pipeline <strong class="purple">must</strong> appear earlier
in the array.
The base pipeline <strong class="purple">must</strong> have been created with the
<code>VK_PIPELINE_CREATE_ALLOW_DERIVATIVES_BIT</code> flag set.</p>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-cache"><a class="anchor" href="#pipelines-cache"></a>9.6. Pipeline Cache</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Pipeline cache objects allow the result of pipeline construction to be
reused between pipelines and between runs of an application.
Reuse between pipelines is achieved by passing the same pipeline cache
object when creating multiple related pipelines.
Reuse across runs of an application is achieved by retrieving pipeline cache
contents in one run of an application, saving the contents, and using them
to preinitialize a pipeline cache on a subsequent run.
The contents of the pipeline cache objects are managed by the
implementation.
Applications <strong class="purple">can</strong> manage the host memory consumed by a pipeline cache object
and control the amount of data retrieved from a pipeline cache object.</p>
</div>
<div class="paragraph">
<p>Pipeline cache objects are represented by <code>VkPipelineCache</code> handles:</p>
</div>
<div id="VkPipelineCache" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipelineCache)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create pipeline cache objects, call:</p>
</div>
<div id="vkCreatePipelineCache" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreatePipelineCache(
    VkDevice                                    device,
    <span class="directive">const</span> VkPipelineCacheCreateInfo*            pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkPipelineCache*                            pPipelineCache);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the pipeline cache
object.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkPipelineCacheCreateInfo">VkPipelineCacheCreateInfo</a>
structure containing initial parameters for the pipeline cache object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelineCache</code> is a pointer to a <a href="#VkPipelineCache">VkPipelineCache</a> handle in
which the resulting pipeline cache object is returned.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications <strong class="purple">can</strong> track and manage the total host memory size of a pipeline
cache object using the <code>pAllocator</code>.
Applications <strong class="purple">can</strong> limit the amount of data retrieved from a pipeline cache
object in <code>vkGetPipelineCacheData</code>.
Implementations <strong class="purple">should</strong> not internally limit the total number of entries
added to a pipeline cache object or the total host memory consumed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once created, a pipeline cache <strong class="purple">can</strong> be passed to the
<code>vkCreateGraphicsPipelines</code> and <code>vkCreateComputePipelines</code> commands.
If the pipeline cache passed into these commands is not
<a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the implementation will query it for possible reuse
opportunities and update it with new content.
The use of the pipeline cache object in these commands is internally
synchronized, and the same pipeline cache object <strong class="purple">can</strong> be used in multiple
threads simultaneously.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Implementations <strong class="purple">should</strong> make every effort to limit any critical sections to
the actual accesses to the cache, which is expected to be significantly
shorter than the duration of the <code>vkCreateGraphicsPipelines</code> and
<code>vkCreateComputePipelines</code> commands.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreatePipelineCache-device-parameter" href="#VUID-vkCreatePipelineCache-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineCache-pCreateInfo-parameter" href="#VUID-vkCreatePipelineCache-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkPipelineCacheCreateInfo">VkPipelineCacheCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineCache-pAllocator-parameter" href="#VUID-vkCreatePipelineCache-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineCache-pPipelineCache-parameter" href="#VUID-vkCreatePipelineCache-pPipelineCache-parameter"></a> <code>pPipelineCache</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineCacheCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineCacheCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineCacheCreateInfo {
    VkStructureType               sType;
    <span class="directive">const</span> <span class="directive">void</span>*                   pNext;
    VkPipelineCacheCreateFlags    flags;
    size_t                        initialDataSize;
    <span class="directive">const</span> <span class="directive">void</span>*                   pInitialData;
} VkPipelineCacheCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>initialDataSize</code> is the number of bytes in <code>pInitialData</code>.
If <code>initialDataSize</code> is zero, the pipeline cache will initially be
empty.</p>
</li>
<li>
<p><code>pInitialData</code> is a pointer to previously retrieved pipeline cache
data.
If the pipeline cache data is incompatible (as defined below) with the
device, the pipeline cache will be initially empty.
If <code>initialDataSize</code> is zero, <code>pInitialData</code> is ignored.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-initialDataSize-00768" href="#VUID-VkPipelineCacheCreateInfo-initialDataSize-00768"></a>
If <code>initialDataSize</code> is not <code>0</code>, it <strong class="purple">must</strong> be equal to the size of
<code>pInitialData</code>, as returned by <code>vkGetPipelineCacheData</code> when
<code>pInitialData</code> was originally retrieved</p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-initialDataSize-00769" href="#VUID-VkPipelineCacheCreateInfo-initialDataSize-00769"></a>
If <code>initialDataSize</code> is not <code>0</code>, <code>pInitialData</code> <strong class="purple">must</strong> have been
retrieved from a previous call to <code>vkGetPipelineCacheData</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-sType-sType" href="#VUID-VkPipelineCacheCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_CACHE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-pNext-pNext" href="#VUID-VkPipelineCacheCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineCacheCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCacheCreateInfo-pInitialData-parameter" href="#VUID-VkPipelineCacheCreateInfo-pInitialData-parameter"></a> If <code>initialDataSize</code> is not <code>0</code>, <code>pInitialData</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>initialDataSize</code> bytes</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCacheCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineCacheCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCacheCreateFlags</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Pipeline cache objects <strong class="purple">can</strong> be merged using the command:</p>
</div>
<div id="vkMergePipelineCaches" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkMergePipelineCaches(
    VkDevice                                    device,
    VkPipelineCache                             dstCache,
    uint32_t                                    srcCacheCount,
    <span class="directive">const</span> VkPipelineCache*                      pSrcCaches);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the pipeline cache objects.</p>
</li>
<li>
<p><code>dstCache</code> is the handle of the pipeline cache to merge results
into.</p>
</li>
<li>
<p><code>srcCacheCount</code> is the length of the <code>pSrcCaches</code> array.</p>
</li>
<li>
<p><code>pSrcCaches</code> is a pointer to an array of pipeline cache handles,
which will be merged into <code>dstCache</code>.
The previous contents of <code>dstCache</code> are included after the merge.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The details of the merge operation are implementation dependent, but
implementations <strong class="purple">should</strong> merge the contents of the specified pipelines and
prune duplicate entries.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkMergePipelineCaches-dstCache-00770" href="#VUID-vkMergePipelineCaches-dstCache-00770"></a>
<code>dstCache</code> <strong class="purple">must</strong> not appear in the list of source caches</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkMergePipelineCaches-device-parameter" href="#VUID-vkMergePipelineCaches-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-dstCache-parameter" href="#VUID-vkMergePipelineCaches-dstCache-parameter"></a> <code>dstCache</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-pSrcCaches-parameter" href="#VUID-vkMergePipelineCaches-pSrcCaches-parameter"></a> <code>pSrcCaches</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>srcCacheCount</code> valid <a href="#VkPipelineCache">VkPipelineCache</a> handles</p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-srcCacheCount-arraylength" href="#VUID-vkMergePipelineCaches-srcCacheCount-arraylength"></a> <code>srcCacheCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-dstCache-parent" href="#VUID-vkMergePipelineCaches-dstCache-parent"></a> <code>dstCache</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkMergePipelineCaches-pSrcCaches-parent" href="#VUID-vkMergePipelineCaches-pSrcCaches-parent"></a> Each element of <code>pSrcCaches</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>dstCache</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Data <strong class="purple">can</strong> be retrieved from a pipeline cache object using the command:</p>
</div>
<div id="vkGetPipelineCacheData" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkGetPipelineCacheData(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    size_t*                                     pDataSize,
    <span class="directive">void</span>*                                       pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the pipeline cache.</p>
</li>
<li>
<p><code>pipelineCache</code> is the pipeline cache to retrieve data from.</p>
</li>
<li>
<p><code>pDataSize</code> is a pointer to a <code>size_t</code> value related to the
amount of data in the pipeline cache, as described below.</p>
</li>
<li>
<p><code>pData</code> is either <code>NULL</code> or a pointer to a buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pData</code> is <code>NULL</code>, then the maximum size of the data that <strong class="purple">can</strong> be
retrieved from the pipeline cache, in bytes, is returned in <code>pDataSize</code>.
Otherwise, <code>pDataSize</code> <strong class="purple">must</strong> point to a variable set by the user to the
size of the buffer, in bytes, pointed to by <code>pData</code>, and on return the
variable is overwritten with the amount of data actually written to
<code>pData</code>.</p>
</div>
<div class="paragraph">
<p>If <code>pDataSize</code> is less than the maximum size that <strong class="purple">can</strong> be retrieved by
the pipeline cache, at most <code>pDataSize</code> bytes will be written to
<code>pData</code>, and <code>vkGetPipelineCacheData</code> will return
<code>VK_INCOMPLETE</code>.
Any data written to <code>pData</code> is valid and <strong class="purple">can</strong> be provided as the
<code>pInitialData</code> member of the <code>VkPipelineCacheCreateInfo</code> structure
passed to <code>vkCreatePipelineCache</code>.</p>
</div>
<div class="paragraph">
<p>Two calls to <code>vkGetPipelineCacheData</code> with the same parameters <strong class="purple">must</strong>
retrieve the same data unless a command that modifies the contents of the
cache is called between them.</p>
</div>
<div id="pipelines-cache-header" class="paragraph">
<p>Applications <strong class="purple">can</strong> store the data retrieved from the pipeline cache, and use
these data, possibly in a future run of the application, to populate new
pipeline cache objects.
The results of pipeline compiles, however, <strong class="purple">may</strong> depend on the vendor ID,
device ID, driver version, and other details of the device.
To enable applications to detect when previously retrieved data is
incompatible with the device, the initial bytes written to <code>pData</code> <strong class="purple">must</strong>
be a header consisting of the following members:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 85%;">
<caption class="title">Table 7. Layout for pipeline cache header version <code>VK_PIPELINE_CACHE_HEADER_VERSION_ONE</code></caption>
<colgroup>
<col style="width: 8%;">
<col style="width: 21%;">
<col style="width: 71%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Offset</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">length in bytes of the entire pipeline cache header
                             written as a stream of bytes, with the least
                             significant byte first</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a <a href="#VkPipelineCacheHeaderVersion">VkPipelineCacheHeaderVersion</a> value
                             written as a stream of bytes, with the least
                             significant byte first</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a vendor ID equal to
                             <code>VkPhysicalDeviceProperties</code>::<code>vendorID</code>
                             written as a stream of bytes, with the least
                             significant byte first</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a device ID equal to
                             <code>VkPhysicalDeviceProperties</code>::<code>deviceID</code>
                             written as a stream of bytes, with the least
                             significant byte first</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_UUID_SIZE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a pipeline cache ID equal to
                             <code>VkPhysicalDeviceProperties</code>::<code>pipelineCacheUUID</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The first four bytes encode the length of the entire pipeline cache header,
in bytes.
This value includes all fields in the header including the pipeline cache
version field and the size of the length field.</p>
</div>
<div class="paragraph">
<p>The next four bytes encode the pipeline cache version, as described for
<a href="#VkPipelineCacheHeaderVersion">VkPipelineCacheHeaderVersion</a>.
A consumer of the pipeline cache <strong class="purple">should</strong> use the cache version to interpret
the remainder of the cache header.</p>
</div>
<div class="paragraph">
<p>If <code>pDataSize</code> is less than what is necessary to store this header,
nothing will be written to <code>pData</code> and zero will be written to
<code>pDataSize</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPipelineCacheData-device-parameter" href="#VUID-vkGetPipelineCacheData-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pipelineCache-parameter" href="#VUID-vkGetPipelineCacheData-pipelineCache-parameter"></a> <code>pipelineCache</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pDataSize-parameter" href="#VUID-vkGetPipelineCacheData-pDataSize-parameter"></a> <code>pDataSize</code> <strong class="purple">must</strong> be a valid pointer to a <code>size_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pData-parameter" href="#VUID-vkGetPipelineCacheData-pData-parameter"></a> If the value referenced by <code>pDataSize</code> is not <code>0</code>, and <code>pData</code> is not <code>NULL</code>, <code>pData</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pDataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkGetPipelineCacheData-pipelineCache-parent" href="#VUID-vkGetPipelineCacheData-pipelineCache-parent"></a> <code>pipelineCache</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the second group of four bytes in the header returned by
<a href="#vkGetPipelineCacheData">vkGetPipelineCacheData</a>, encoding the pipeline cache version, are:</p>
</div>
<div id="VkPipelineCacheHeaderVersion" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkPipelineCacheHeaderVersion {
    VK_PIPELINE_CACHE_HEADER_VERSION_ONE = <span class="integer">1</span>,
    VK_PIPELINE_CACHE_HEADER_VERSION_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkPipelineCacheHeaderVersion;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CACHE_HEADER_VERSION_ONE</code> specifies version one of the
pipeline cache.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a pipeline cache, call:</p>
</div>
<div id="vkDestroyPipelineCache" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyPipelineCache(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the pipeline cache
object.</p>
</li>
<li>
<p><code>pipelineCache</code> is the handle of the pipeline cache to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-00771" href="#VUID-vkDestroyPipelineCache-pipelineCache-00771"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>pipelineCache</code>
was created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-00772" href="#VUID-vkDestroyPipelineCache-pipelineCache-00772"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>pipelineCache</code>
was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineCache-device-parameter" href="#VUID-vkDestroyPipelineCache-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-parameter" href="#VUID-vkDestroyPipelineCache-pipelineCache-parameter"></a> If <code>pipelineCache</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>pipelineCache</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineCache">VkPipelineCache</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pAllocator-parameter" href="#VUID-vkDestroyPipelineCache-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineCache-pipelineCache-parent" href="#VUID-vkDestroyPipelineCache-pipelineCache-parent"></a> If <code>pipelineCache</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pipelineCache</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-specialization-constants"><a class="anchor" href="#pipelines-specialization-constants"></a>9.7. Specialization Constants</h3>
<div class="paragraph">
<p>Specialization constants are a mechanism whereby constants in a SPIR-V
module <strong class="purple">can</strong> have their constant value specified at the time the
<code>VkPipeline</code> is created.
This allows a SPIR-V module to have constants that <strong class="purple">can</strong> be modified while
executing an application that uses the Vulkan API.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Specialization constants are useful to allow a compute shader to have its
local workgroup size changed at runtime by the user, for example.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each <code>VkPipelineShaderStageCreateInfo</code> structure contains a
<code>pSpecializationInfo</code> member, which <strong class="purple">can</strong> be <code>NULL</code> to indicate no
specialization constants, or point to a <code>VkSpecializationInfo</code>
structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSpecializationInfo</code> structure is defined as:</p>
</div>
<div id="VkSpecializationInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSpecializationInfo {
    uint32_t                           mapEntryCount;
    <span class="directive">const</span> VkSpecializationMapEntry*    pMapEntries;
    size_t                             dataSize;
    <span class="directive">const</span> <span class="directive">void</span>*                        pData;
} VkSpecializationInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mapEntryCount</code> is the number of entries in the <code>pMapEntries</code>
array.</p>
</li>
<li>
<p><code>pMapEntries</code> is a pointer to an array of
<code>VkSpecializationMapEntry</code> structures which map constant IDs to
offsets in <code>pData</code>.</p>
</li>
<li>
<p><code>dataSize</code> is the byte size of the <code>pData</code> buffer.</p>
</li>
<li>
<p><code>pData</code> contains the actual constant values to specialize with.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>pMapEntries</code> is a pointer to a <a href="#VkSpecializationMapEntry">VkSpecializationMapEntry</a>
structure.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSpecializationInfo-offset-00773" href="#VUID-VkSpecializationInfo-offset-00773"></a>
The <code>offset</code> member of each element of <code>pMapEntries</code> <strong class="purple">must</strong> be
less than <code>dataSize</code></p>
</li>
<li>
<p><a id="VUID-VkSpecializationInfo-pMapEntries-00774" href="#VUID-VkSpecializationInfo-pMapEntries-00774"></a>
The <code>size</code> member of each element of <code>pMapEntries</code> <strong class="purple">must</strong> be less
than or equal to <code>dataSize</code> minus <code>offset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSpecializationInfo-pMapEntries-parameter" href="#VUID-VkSpecializationInfo-pMapEntries-parameter"></a> If <code>mapEntryCount</code> is not <code>0</code>, <code>pMapEntries</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>mapEntryCount</code> valid <a href="#VkSpecializationMapEntry">VkSpecializationMapEntry</a> structures</p>
</li>
<li>
<p><a id="VUID-VkSpecializationInfo-pData-parameter" href="#VUID-VkSpecializationInfo-pData-parameter"></a> If <code>dataSize</code> is not <code>0</code>, <code>pData</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSpecializationMapEntry</code> structure is defined as:</p>
</div>
<div id="VkSpecializationMapEntry" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSpecializationMapEntry {
    uint32_t    constantID;
    uint32_t    offset;
    size_t      size;
} VkSpecializationMapEntry;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>constantID</code> is the ID of the specialization constant in SPIR-V.</p>
</li>
<li>
<p><code>offset</code> is the byte offset of the specialization constant value
within the supplied data buffer.</p>
</li>
<li>
<p><code>size</code> is the byte size of the specialization constant value within
the supplied data buffer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a <code>constantID</code> value is not a specialization constant ID used in the
shader, that map entry does not affect the behavior of the pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSpecializationMapEntry-constantID-00776" href="#VUID-VkSpecializationMapEntry-constantID-00776"></a>
For a <code>constantID</code> specialization constant declared in a shader,
<code>size</code> <strong class="purple">must</strong> match the byte size of the <code>constantID</code>.
If the specialization constant is of type <code>boolean</code>, <code>size</code> <strong class="purple">must</strong>
be the byte size of <code>VkBool32</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In human readable SPIR-V:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="glsl">OpDecorate %x SpecId 13 ; decorate .x component of WorkgroupSize with ID 13
OpDecorate %y SpecId 42 ; decorate .y component of WorkgroupSize with ID 42
OpDecorate %z SpecId 3  ; decorate .z component of WorkgroupSize with ID 3
OpDecorate %wgsize BuiltIn WorkgroupSize ; decorate WorkgroupSize onto constant
%i32 = OpTypeInt 32 0 ; declare an unsigned 32-bit type
%uvec3 = OpTypeVector %i32 3 ; declare a 3 element vector type of unsigned 32-bit
%x = OpSpecConstant %i32 1 ; declare the .x component of WorkgroupSize
%y = OpSpecConstant %i32 1 ; declare the .y component of WorkgroupSize
%z = OpSpecConstant %i32 1 ; declare the .z component of WorkgroupSize
%wgsize = OpSpecConstantComposite %uvec3 %x %y %z ; declare WorkgroupSize</code></pre>
</div>
</div>
<div class="paragraph">
<p>From the above we have three specialization constants, one for each of the
x, y &amp; z elements of the WorkgroupSize vector.</p>
</div>
<div class="paragraph">
<p>Now to specialize the above via the specialization constants mechanism:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">const</span> VkSpecializationMapEntry entries[] =
{
    {
        <span class="integer">13</span>,                             <span class="comment">// constantID</span>
        <span class="integer">0</span> * <span class="keyword">sizeof</span>(uint32_t),           <span class="comment">// offset</span>
        <span class="keyword">sizeof</span>(uint32_t)                <span class="comment">// size</span>
    },
    {
        <span class="integer">42</span>,                             <span class="comment">// constantID</span>
        <span class="integer">1</span> * <span class="keyword">sizeof</span>(uint32_t),           <span class="comment">// offset</span>
        <span class="keyword">sizeof</span>(uint32_t)                <span class="comment">// size</span>
    },
    {
        <span class="integer">3</span>,                              <span class="comment">// constantID</span>
        <span class="integer">2</span> * <span class="keyword">sizeof</span>(uint32_t),           <span class="comment">// offset</span>
        <span class="keyword">sizeof</span>(uint32_t)                <span class="comment">// size</span>
    }
};

<span class="directive">const</span> uint32_t data[] = { <span class="integer">16</span>, <span class="integer">8</span>, <span class="integer">4</span> }; <span class="comment">// our workgroup size is 16x8x4</span>

<span class="directive">const</span> VkSpecializationInfo info =
{
    <span class="integer">3</span>,                                  <span class="comment">// mapEntryCount</span>
    entries,                            <span class="comment">// pMapEntries</span>
    <span class="integer">3</span> * <span class="keyword">sizeof</span>(uint32_t),               <span class="comment">// dataSize</span>
    data,                               <span class="comment">// pData</span>
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then when calling <a href="#vkCreateComputePipelines">vkCreateComputePipelines</a>, and passing the
<code>VkSpecializationInfo</code> we defined as the <code>pSpecializationInfo</code>
parameter of <a href="#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a>, we will create a compute
pipeline with the runtime specified local workgroup size.</p>
</div>
<div class="paragraph">
<p>Another example would be that an application has a SPIR-V module that has
some platform-dependent constants they wish to use.</p>
</div>
<div class="paragraph">
<p>In human readable SPIR-V:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="glsl">OpDecorate %1 SpecId 0  ; decorate our signed 32-bit integer constant
OpDecorate %2 SpecId 12 ; decorate our 32-bit floating-point constant
%i32 = OpTypeInt 32 1   ; declare a signed 32-bit type
%float = OpTypeFloat 32 ; declare a 32-bit floating-point type
%1 = OpSpecConstant %i32 -1 ; some signed 32-bit integer constant
%2 = OpSpecConstant %float 0.5 ; some 32-bit floating-point constant</code></pre>
</div>
</div>
<div class="paragraph">
<p>From the above we have two specialization constants, one is a signed 32-bit
integer and the second is a 32-bit floating-point.</p>
</div>
<div class="paragraph">
<p>Now to specialize the above via the specialization constants mechanism:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">struct</span> SpecializationData {
    int32_t data0;
    <span class="predefined-type">float</span> data1;
};

<span class="directive">const</span> VkSpecializationMapEntry entries[] =
{
    {
        <span class="integer">0</span>,                                    <span class="comment">// constantID</span>
        offsetof(SpecializationData, data0),  <span class="comment">// offset</span>
        <span class="keyword">sizeof</span>(SpecializationData::data0)     <span class="comment">// size</span>
    },
    {
        <span class="integer">12</span>,                                   <span class="comment">// constantID</span>
        offsetof(SpecializationData, data1),  <span class="comment">// offset</span>
        <span class="keyword">sizeof</span>(SpecializationData::data1)     <span class="comment">// size</span>
    }
};

SpecializationData data;
data.data0 = -<span class="integer">42</span>;    <span class="comment">// set the data for the 32-bit integer</span>
data.data1 = <span class="integer">4</span><span class="float">2</span><span class="float">.0f</span>;  <span class="comment">// set the data for the 32-bit floating-point</span>

<span class="directive">const</span> VkSpecializationInfo info =
{
    <span class="integer">2</span>,                                  <span class="comment">// mapEntryCount</span>
    entries,                            <span class="comment">// pMapEntries</span>
    <span class="keyword">sizeof</span>(data),                       <span class="comment">// dataSize</span>
    &amp;data,                              <span class="comment">// pData</span>
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is legal for a SPIR-V module with specializations to be compiled into a
pipeline where no specialization info was provided.
SPIR-V specialization constants contain default values such that if a
specialization is not provided, the default value will be used.
In the examples above, it would be valid for an application to only
specialize some of the specialization constants within the SPIR-V module,
and let the other constants use their default values encoded within the
OpSpecConstant declarations.</p>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-binding"><a class="anchor" href="#pipelines-binding"></a>9.8. Pipeline Binding</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once a pipeline has been created, it <strong class="purple">can</strong> be bound to the command buffer
using the command:</p>
</div>
<div id="vkCmdBindPipeline" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdBindPipeline(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipeline                                  pipeline);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the pipeline will be
bound to.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value specifying
whether to bind to the compute or graphics bind point.
Binding one does not disturb the other.</p>
</li>
<li>
<p><code>pipeline</code> is the pipeline to be bound.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once bound, a pipeline binding affects subsequent graphics or compute
commands in the command buffer until a different pipeline is bound to the
bind point.
The pipeline bound to <code>VK_PIPELINE_BIND_POINT_COMPUTE</code> controls the
behavior of <a href="#vkCmdDispatch">vkCmdDispatch</a> and <a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a>.
The pipeline bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> controls the
behavior of all <a href="#drawing">drawing commands</a>.
No other commands are affected by the pipeline state.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00777" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00777"></a>
If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>, the
<code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong>
support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00778" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00778"></a>
If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>, the
<code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong>
support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00779" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00779"></a>
If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_COMPUTE</code>,
<code>pipeline</code> <strong class="purple">must</strong> be a compute pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-00780" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-00780"></a>
If <code>pipelineBindPoint</code> is <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>,
<code>pipeline</code> <strong class="purple">must</strong> be a graphics pipeline</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipeline-00781" href="#VUID-vkCmdBindPipeline-pipeline-00781"></a>
If the <a href="#features-variableMultisampleRate">variable multisample rate</a>
feature is not supported, <code>pipeline</code> is a graphics pipeline, the
current subpass has no attachments, and this is not the first call to
this function with a graphics pipeline after transitioning to the
current subpass, then the sample count specified by this pipeline <strong class="purple">must</strong>
match that set in the previous pipeline</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindPipeline-commandBuffer-parameter" href="#VUID-vkCmdBindPipeline-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipelineBindPoint-parameter" href="#VUID-vkCmdBindPipeline-pipelineBindPoint-parameter"></a> <code>pipelineBindPoint</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-pipeline-parameter" href="#VUID-vkCmdBindPipeline-pipeline-parameter"></a> <code>pipeline</code> <strong class="purple">must</strong> be a valid <a href="#VkPipeline">VkPipeline</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-commandBuffer-recording" href="#VUID-vkCmdBindPipeline-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-commandBuffer-cmdpool" href="#VUID-vkCmdBindPipeline-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindPipeline-commonparent" href="#VUID-vkCmdBindPipeline-commonparent"></a> Both of <code>commandBuffer</code>, and <code>pipeline</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#vkCmdBindPipeline">vkCmdBindPipeline</a>::<code>pipelineBindPoint</code>,
specifying the bind point of a pipeline object, are:</p>
</div>
<div id="VkPipelineBindPoint" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkPipelineBindPoint {
    VK_PIPELINE_BIND_POINT_GRAPHICS = <span class="integer">0</span>,
    VK_PIPELINE_BIND_POINT_COMPUTE = <span class="integer">1</span>,
    VK_PIPELINE_BIND_POINT_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkPipelineBindPoint;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_BIND_POINT_COMPUTE</code> specifies binding as a compute
pipeline.</p>
</li>
<li>
<p><code>VK_PIPELINE_BIND_POINT_GRAPHICS</code> specifies binding as a graphics
pipeline.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pipelines-dynamic-state"><a class="anchor" href="#pipelines-dynamic-state"></a>9.9. Dynamic State</h3>
<div class="paragraph">
<p>When a pipeline object is bound, any pipeline object state that is not
specified as dynamic is applied to the command buffer state.
Pipeline object state that is specified as dynamic is not applied to the
command buffer state at this time.
Instead, dynamic state <strong class="purple">can</strong> be modified at any time and persists for the
lifetime of the command buffer, or until modified by another dynamic state
setting command or another pipeline bind.</p>
</div>
<div class="paragraph">
<p>When a pipeline object is bound, the following applies to each state
parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the state is not specified as dynamic in the new pipeline object,
then that command buffer state is overwritten by the state in the new
pipeline object.
Before any draw or dispatch call with this pipeline there <strong class="purple">must</strong> not have
been any call to any of the corresponding dynamic state setting commands
after this pipeline was bound</p>
</li>
<li>
<p>If the state is specified as dynamic in the new pipeline object, then
that command buffer state is not disturbed.
Before any draw or dispatch call with this pipeline there <strong class="purple">must</strong> have
been at least one call to each of the corresponding dynamic state
setting commands since the command buffer recording was begun, or the
last bound pipeline object with that state specified as static,
whichever was the latter</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Dynamic state that does not affect the result of operations <strong class="purple">can</strong> be left
undefined.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For example, if blending is disabled by the pipeline object state then the
dynamic color blend constants do not need to be specified in the command
buffer, even if this state is specified as dynamic in the pipeline object.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="memory"><a class="anchor" href="#memory"></a>10. Memory Allocation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vulkan memory is broken up into two categories, <em>host memory</em> and <em>device
memory</em>.</p>
</div>
<div class="sect2">
<h3 id="memory-host"><a class="anchor" href="#memory-host"></a>10.1. Host Memory</h3>
<div class="paragraph">
<p>Host memory is memory needed by the Vulkan implementation for
non-device-visible storage.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This memory <strong class="purple">may</strong> be used to store the implementation&#8217;s representation and
state of Vulkan objects.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="memory-allocation" class="paragraph">
<p>Vulkan provides applications the opportunity to perform host memory
allocations on behalf of the Vulkan implementation.
If this feature is not used, the implementation will perform its own memory
allocations.
Since most memory allocations are off the critical path, this is not meant
as a performance feature.
Rather, this <strong class="purple">can</strong> be useful for certain embedded systems, for debugging
purposes (e.g. putting a guard page after all host allocations), or for
memory allocation logging.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Allocators are provided by the application as a pointer to a
<code>VkAllocationCallbacks</code> structure:</p>
</div>
<div id="VkAllocationCallbacks" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkAllocationCallbacks {
    <span class="directive">void</span>*                                   pUserData;
    PFN_vkAllocationFunction                pfnAllocation;
    PFN_vkReallocationFunction              pfnReallocation;
    PFN_vkFreeFunction                      pfnFree;
    PFN_vkInternalAllocationNotification    pfnInternalAllocation;
    PFN_vkInternalFreeNotification          pfnInternalFree;
} VkAllocationCallbacks;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pUserData</code> is a value to be interpreted by the implementation of
the callbacks.
When any of the callbacks in <code>VkAllocationCallbacks</code> are called, the
Vulkan implementation will pass this value as the first parameter to the
callback.
This value <strong class="purple">can</strong> vary each time an allocator is passed into a command,
even when the same object takes an allocator in multiple commands.</p>
</li>
<li>
<p><code>pfnAllocation</code> is a <a href="#PFN_vkAllocationFunction">PFN_vkAllocationFunction</a> pointer to an
application-defined memory allocation function.</p>
</li>
<li>
<p><code>pfnReallocation</code> is a <a href="#PFN_vkReallocationFunction">PFN_vkReallocationFunction</a> pointer to
an application-defined memory reallocation function.</p>
</li>
<li>
<p><code>pfnFree</code> is a <a href="#PFN_vkFreeFunction">PFN_vkFreeFunction</a> pointer to an
application-defined memory free function.</p>
</li>
<li>
<p><code>pfnInternalAllocation</code> is a
<a href="#PFN_vkInternalAllocationNotification">PFN_vkInternalAllocationNotification</a> pointer to an
application-defined function that is called by the implementation when
the implementation makes internal allocations.</p>
</li>
<li>
<p><code>pfnInternalFree</code> is a <a href="#PFN_vkInternalFreeNotification">PFN_vkInternalFreeNotification</a> pointer
to an application-defined function that is called by the implementation
when the implementation frees internal allocations.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkAllocationCallbacks-pfnAllocation-00632" href="#VUID-VkAllocationCallbacks-pfnAllocation-00632"></a>
<code>pfnAllocation</code> <strong class="purple">must</strong> be a valid pointer to a valid user-defined
<a href="#PFN_vkAllocationFunction">PFN_vkAllocationFunction</a></p>
</li>
<li>
<p><a id="VUID-VkAllocationCallbacks-pfnReallocation-00633" href="#VUID-VkAllocationCallbacks-pfnReallocation-00633"></a>
<code>pfnReallocation</code> <strong class="purple">must</strong> be a valid pointer to a valid user-defined
<a href="#PFN_vkReallocationFunction">PFN_vkReallocationFunction</a></p>
</li>
<li>
<p><a id="VUID-VkAllocationCallbacks-pfnFree-00634" href="#VUID-VkAllocationCallbacks-pfnFree-00634"></a>
<code>pfnFree</code> <strong class="purple">must</strong> be a valid pointer to a valid user-defined
<a href="#PFN_vkFreeFunction">PFN_vkFreeFunction</a></p>
</li>
<li>
<p><a id="VUID-VkAllocationCallbacks-pfnInternalAllocation-00635" href="#VUID-VkAllocationCallbacks-pfnInternalAllocation-00635"></a>
If either of <code>pfnInternalAllocation</code> or <code>pfnInternalFree</code> is not
<code>NULL</code>, both <strong class="purple">must</strong> be valid callbacks</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The type of <code>pfnAllocation</code> is:</p>
</div>
<div id="PFN_vkAllocationFunction" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="directive">void</span>* (VKAPI_PTR *PFN_vkAllocationFunction)(
    <span class="directive">void</span>*                                       pUserData,
    size_t                                      size,
    size_t                                      alignment,
    VkSystemAllocationScope                     allocationScope);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pUserData</code> is the value specified for
<a href="#VkAllocationCallbacks">VkAllocationCallbacks</a>::<code>pUserData</code> in the allocator specified
by the application.</p>
</li>
<li>
<p><code>size</code> is the size in bytes of the requested allocation.</p>
</li>
<li>
<p><code>alignment</code> is the requested alignment of the allocation in bytes
and <strong class="purple">must</strong> be a power of two.</p>
</li>
<li>
<p><code>allocationScope</code> is a <a href="#VkSystemAllocationScope">VkSystemAllocationScope</a> value
specifying the allocation scope of the lifetime of the allocation, as
described <a href="#memory-host-allocation-scope">here</a>.</p>
</li>
</ul>
</div>
<div id="vkAllocationFunction_return_rules" class="paragraph">
<p>If <code>pfnAllocation</code> is unable to allocate the requested memory, it <strong class="purple">must</strong>
return <code>NULL</code>.
If the allocation was successful, it <strong class="purple">must</strong> return a valid pointer to memory
allocation containing at least <code>size</code> bytes, and with the pointer value
being a multiple of <code>alignment</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Correct Vulkan operation <strong class="purple">cannot</strong> be assumed if the application does not
follow these rules.</p>
</div>
<div class="paragraph">
<p>For example, <code>pfnAllocation</code> (or <code>pfnReallocation</code>) could cause
termination of running Vulkan instance(s) on a failed allocation for
debugging purposes, either directly or indirectly.
In these circumstances, it <strong class="purple">cannot</strong> be assumed that any part of any affected
<a href="#VkInstance">VkInstance</a> objects are going to operate correctly (even
<a href="#vkDestroyInstance">vkDestroyInstance</a>), and the application <strong class="purple">must</strong> ensure it cleans up
properly via other means (e.g. process termination).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If <code>pfnAllocation</code> returns <code>NULL</code>, and if the implementation is unable
to continue correct processing of the current command without the requested
allocation, it <strong class="purple">must</strong> treat this as a run-time error, and generate
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code> at the appropriate time for the command in
which the condition was detected, as described in <a href="#fundamentals-errorcodes">Return Codes</a>.</p>
</div>
<div class="paragraph">
<p>If the implementation is able to continue correct processing of the current
command without the requested allocation, then it <strong class="purple">may</strong> do so, and <strong class="purple">must</strong> not
generate <code>VK_ERROR_OUT_OF_HOST_MEMORY</code> as a result of this failed
allocation.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The type of <code>pfnReallocation</code> is:</p>
</div>
<div id="PFN_vkReallocationFunction" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="directive">void</span>* (VKAPI_PTR *PFN_vkReallocationFunction)(
    <span class="directive">void</span>*                                       pUserData,
    <span class="directive">void</span>*                                       pOriginal,
    size_t                                      size,
    size_t                                      alignment,
    VkSystemAllocationScope                     allocationScope);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pUserData</code> is the value specified for
<a href="#VkAllocationCallbacks">VkAllocationCallbacks</a>::<code>pUserData</code> in the allocator specified
by the application.</p>
</li>
<li>
<p><code>pOriginal</code> <strong class="purple">must</strong> be either <code>NULL</code> or a pointer previously returned
by <code>pfnReallocation</code> or <code>pfnAllocation</code> of a compatible
allocator.</p>
</li>
<li>
<p><code>size</code> is the size in bytes of the requested allocation.</p>
</li>
<li>
<p><code>alignment</code> is the requested alignment of the allocation in bytes
and <strong class="purple">must</strong> be a power of two.</p>
</li>
<li>
<p><code>allocationScope</code> is a <a href="#VkSystemAllocationScope">VkSystemAllocationScope</a> value
specifying the allocation scope of the lifetime of the allocation, as
described <a href="#memory-host-allocation-scope">here</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>pfnReallocation</code> <strong class="purple">must</strong> return an allocation with enough space for
<code>size</code> bytes, and the contents of the original allocation from bytes
zero to <span class="eq">min(original size, new size) - 1</span> <strong class="purple">must</strong> be preserved in the
returned allocation.
If <code>size</code> is larger than the old size, the contents of the additional
space are undefined.
If satisfying these requirements involves creating a new allocation, then
the old allocation <strong class="purple">should</strong> be freed.</p>
</div>
<div class="paragraph">
<p>If <code>pOriginal</code> is <code>NULL</code>, then <code>pfnReallocation</code> <strong class="purple">must</strong> behave
equivalently to a call to <a href="#PFN_vkAllocationFunction">PFN_vkAllocationFunction</a> with the same
parameter values (without <code>pOriginal</code>).</p>
</div>
<div class="paragraph">
<p>If <code>size</code> is zero, then <code>pfnReallocation</code> <strong class="purple">must</strong> behave equivalently
to a call to <a href="#PFN_vkFreeFunction">PFN_vkFreeFunction</a> with the same <code>pUserData</code>
parameter value, and <code>pMemory</code> equal to <code>pOriginal</code>.</p>
</div>
<div class="paragraph">
<p>If <code>pOriginal</code> is non-<code>NULL</code>, the implementation <strong class="purple">must</strong> ensure that
<code>alignment</code> is equal to the <code>alignment</code> used to originally allocate
<code>pOriginal</code>.</p>
</div>
<div class="paragraph">
<p>If this function fails and <code>pOriginal</code> is non-<code>NULL</code> the application
<strong class="purple">must</strong> not free the old allocation.</p>
</div>
<div class="paragraph">
<p><code>pfnReallocation</code> <strong class="purple">must</strong> follow the same
<a href="#vkAllocationFunction_return_rules">rules for return values as
<code>PFN_vkAllocationFunction</code></a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The type of <code>pfnFree</code> is:</p>
</div>
<div id="PFN_vkFreeFunction" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="directive">void</span> (VKAPI_PTR *PFN_vkFreeFunction)(
    <span class="directive">void</span>*                                       pUserData,
    <span class="directive">void</span>*                                       pMemory);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pUserData</code> is the value specified for
<a href="#VkAllocationCallbacks">VkAllocationCallbacks</a>::<code>pUserData</code> in the allocator specified
by the application.</p>
</li>
<li>
<p><code>pMemory</code> is the allocation to be freed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>pMemory</code> <strong class="purple">may</strong> be <code>NULL</code>, which the callback <strong class="purple">must</strong> handle safely.
If <code>pMemory</code> is non-<code>NULL</code>, it <strong class="purple">must</strong> be a pointer previously allocated
by <code>pfnAllocation</code> or <code>pfnReallocation</code>.
The application <strong class="purple">should</strong> free this memory.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The type of <code>pfnInternalAllocation</code> is:</p>
</div>
<div id="PFN_vkInternalAllocationNotification" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="directive">void</span> (VKAPI_PTR *PFN_vkInternalAllocationNotification)(
    <span class="directive">void</span>*                                       pUserData,
    size_t                                      size,
    VkInternalAllocationType                    allocationType,
    VkSystemAllocationScope                     allocationScope);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pUserData</code> is the value specified for
<a href="#VkAllocationCallbacks">VkAllocationCallbacks</a>::<code>pUserData</code> in the allocator specified
by the application.</p>
</li>
<li>
<p><code>size</code> is the requested size of an allocation.</p>
</li>
<li>
<p><code>allocationType</code> is a <a href="#VkInternalAllocationType">VkInternalAllocationType</a> value
specifying the requested type of an allocation.</p>
</li>
<li>
<p><code>allocationScope</code> is a <a href="#VkSystemAllocationScope">VkSystemAllocationScope</a> value
specifying the allocation scope of the lifetime of the allocation, as
described <a href="#memory-host-allocation-scope">here</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is a purely informational callback.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The type of <code>pfnInternalFree</code> is:</p>
</div>
<div id="PFN_vkInternalFreeNotification" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="directive">void</span> (VKAPI_PTR *PFN_vkInternalFreeNotification)(
    <span class="directive">void</span>*                                       pUserData,
    size_t                                      size,
    VkInternalAllocationType                    allocationType,
    VkSystemAllocationScope                     allocationScope);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pUserData</code> is the value specified for
<a href="#VkAllocationCallbacks">VkAllocationCallbacks</a>::<code>pUserData</code> in the allocator specified
by the application.</p>
</li>
<li>
<p><code>size</code> is the requested size of an allocation.</p>
</li>
<li>
<p><code>allocationType</code> is a <a href="#VkInternalAllocationType">VkInternalAllocationType</a> value
specifying the requested type of an allocation.</p>
</li>
<li>
<p><code>allocationScope</code> is a <a href="#VkSystemAllocationScope">VkSystemAllocationScope</a> value
specifying the allocation scope of the lifetime of the allocation, as
described <a href="#memory-host-allocation-scope">here</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="memory-host-allocation-scope" class="paragraph">
<p>Each allocation has an <em>allocation scope</em> defining its lifetime and which
object it is associated with.
Possible values passed to the <code>allocationScope</code> parameter of the
callback functions specified by <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a>, indicating the
allocation scope, are:</p>
</div>
<div id="VkSystemAllocationScope" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkSystemAllocationScope {
    VK_SYSTEM_ALLOCATION_SCOPE_COMMAND = <span class="integer">0</span>,
    VK_SYSTEM_ALLOCATION_SCOPE_OBJECT = <span class="integer">1</span>,
    VK_SYSTEM_ALLOCATION_SCOPE_CACHE = <span class="integer">2</span>,
    VK_SYSTEM_ALLOCATION_SCOPE_DEVICE = <span class="integer">3</span>,
    VK_SYSTEM_ALLOCATION_SCOPE_INSTANCE = <span class="integer">4</span>,
    VK_SYSTEM_ALLOCATION_SCOPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkSystemAllocationScope;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SYSTEM_ALLOCATION_SCOPE_COMMAND</code> specifies that the allocation
is scoped to the duration of the Vulkan command.</p>
</li>
<li>
<p><code>VK_SYSTEM_ALLOCATION_SCOPE_OBJECT</code> specifies that the allocation is
scoped to the lifetime of the Vulkan object that is being created or
used.</p>
</li>
<li>
<p><code>VK_SYSTEM_ALLOCATION_SCOPE_CACHE</code> specifies that the allocation is
scoped to the lifetime of a <code>VkPipelineCache</code>
object.</p>
</li>
<li>
<p><code>VK_SYSTEM_ALLOCATION_SCOPE_DEVICE</code> specifies that the allocation is
scoped to the lifetime of the Vulkan device.</p>
</li>
<li>
<p><code>VK_SYSTEM_ALLOCATION_SCOPE_INSTANCE</code> specifies that the allocation
is scoped to the lifetime of the Vulkan instance.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Most Vulkan commands operate on a single object, or there is a sole object
that is being created or manipulated.
When an allocation uses an allocation scope of
<code>VK_SYSTEM_ALLOCATION_SCOPE_OBJECT</code> or
<code>VK_SYSTEM_ALLOCATION_SCOPE_CACHE</code>, the allocation is scoped to the
object being created or manipulated.</p>
</div>
<div class="paragraph">
<p>When an implementation requires host memory, it will make callbacks to the
application using the most specific allocator and allocation scope
available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If an allocation is scoped to the duration of a command, the allocator
will use the <code>VK_SYSTEM_ALLOCATION_SCOPE_COMMAND</code> allocation scope.
The most specific allocator available is used: if the object being
created or manipulated has an allocator, that object&#8217;s allocator will be
used, else if the parent <code>VkDevice</code> has an allocator it will be
used, else if the parent <code>VkInstance</code> has an allocator it will be
used.
Else,</p>
</li>
<li>
<p>If an allocation is associated with a
<code>VkPipelineCache</code> object, the allocator will use the
<code>VK_SYSTEM_ALLOCATION_SCOPE_CACHE</code> allocation scope.
The most specific allocator available is used (cache, else device, else
instance).
Else,</p>
</li>
<li>
<p>If an allocation is scoped to the lifetime of an object, that object is
being created or manipulated by the command, and that object&#8217;s type is
not <code>VkDevice</code> or <code>VkInstance</code>, the allocator will use an
allocation scope of <code>VK_SYSTEM_ALLOCATION_SCOPE_OBJECT</code>.
The most specific allocator available is used (object, else device, else
instance).
Else,</p>
</li>
<li>
<p>If an allocation is scoped to the lifetime of a device, the allocator
will use an allocation scope of <code>VK_SYSTEM_ALLOCATION_SCOPE_DEVICE</code>.
The most specific allocator available is used (device, else instance).
Else,</p>
</li>
<li>
<p>If the allocation is scoped to the lifetime of an instance and the
instance has an allocator, its allocator will be used with an allocation
scope of <code>VK_SYSTEM_ALLOCATION_SCOPE_INSTANCE</code>.</p>
</li>
<li>
<p>Otherwise an implementation will allocate memory through an alternative
mechanism that is unspecified.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Objects that are allocated from pools do not specify their own allocator.
When an implementation requires host memory for such an object, that memory
is sourced from the object&#8217;s parent pool&#8217;s allocator.</p>
</div>
<div class="paragraph">
<p>The application is not expected to handle allocating memory that is intended
for execution by the host due to the complexities of differing security
implementations across multiple platforms.
The implementation will allocate such memory internally and invoke an
application provided informational callback when these <em>internal
allocations</em> are allocated and freed.
Upon allocation of executable memory, <code>pfnInternalAllocation</code> will be
called.
Upon freeing executable memory, <code>pfnInternalFree</code> will be called.
An implementation will only call an informational callback for executable
memory allocations and frees.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>allocationType</code> parameter to the <code>pfnInternalAllocation</code> and
<code>pfnInternalFree</code> functions <strong class="purple">may</strong> be one of the following values:</p>
</div>
<div id="VkInternalAllocationType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkInternalAllocationType {
    VK_INTERNAL_ALLOCATION_TYPE_EXECUTABLE = <span class="integer">0</span>,
    VK_INTERNAL_ALLOCATION_TYPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkInternalAllocationType;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_INTERNAL_ALLOCATION_TYPE_EXECUTABLE</code> specifies that the
allocation is intended for execution by the host.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>An implementation <strong class="purple">must</strong> only make calls into an application-provided
allocator during the execution of an API command.
An implementation <strong class="purple">must</strong> only make calls into an application-provided
allocator from the same thread that called the provoking API command.
The implementation <strong class="purple">should</strong> not synchronize calls to any of the callbacks.
If synchronization is needed, the callbacks <strong class="purple">must</strong> provide it themselves.
The informational callbacks are subject to the same restrictions as the
allocation callbacks.</p>
</div>
<div class="paragraph">
<p>If an implementation intends to make calls through a
<code>VkAllocationCallbacks</code> structure between the time a <code>vkCreate*</code>
command returns and the time a corresponding <code>vkDestroy*</code> command
begins, that implementation <strong class="purple">must</strong> save a copy of the allocator before the
<code>vkCreate*</code> command returns.
The callback functions and any data structures they rely upon <strong class="purple">must</strong> remain
valid for the lifetime of the object they are associated with.</p>
</div>
<div class="paragraph">
<p>If an allocator is provided to a <code>vkCreate*</code> command, a <em>compatible</em>
allocator <strong class="purple">must</strong> be provided to the corresponding <code>vkDestroy*</code> command.
Two <code>VkAllocationCallbacks</code> structures are compatible if memory
allocated with <code>pfnAllocation</code> or <code>pfnReallocation</code> in each <strong class="purple">can</strong> be
freed with <code>pfnReallocation</code> or <code>pfnFree</code> in the other.
An allocator <strong class="purple">must</strong> not be provided to a <code>vkDestroy*</code> command if an
allocator was not provided to the corresponding <code>vkCreate*</code> command.</p>
</div>
<div class="paragraph">
<p>If a non-<code>NULL</code> allocator is used, the <code>pfnAllocation</code>,
<code>pfnReallocation</code> and <code>pfnFree</code> members <strong class="purple">must</strong> be non-<code>NULL</code> and
point to valid implementations of the callbacks.
An application <strong class="purple">can</strong> choose to not provide informational callbacks by setting
both <code>pfnInternalAllocation</code> and <code>pfnInternalFree</code> to <code>NULL</code>.
<code>pfnInternalAllocation</code> and <code>pfnInternalFree</code> <strong class="purple">must</strong> either both be
<code>NULL</code> or both be non-<code>NULL</code>.</p>
</div>
<div class="paragraph">
<p>If <code>pfnAllocation</code> or <code>pfnReallocation</code> fail, the implementation
<strong class="purple">may</strong> fail object creation and/or generate a
<code>VK_ERROR_OUT_OF_HOST_MEMORY</code> error, as appropriate.</p>
</div>
<div class="paragraph">
<p>Allocation callbacks <strong class="purple">must</strong> not call any Vulkan commands.</p>
</div>
<div class="paragraph">
<p>The following sets of rules define when an implementation is permitted to
call the allocator callbacks.</p>
</div>
<div class="paragraph">
<p><code>pfnAllocation</code> or <code>pfnReallocation</code> <strong class="purple">may</strong> be called in the following
situations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allocations scoped to a <code>VkDevice</code> or <code>VkInstance</code> <strong class="purple">may</strong> be
allocated from any API command.</p>
</li>
<li>
<p>Allocations scoped to a command <strong class="purple">may</strong> be allocated from any API command.</p>
</li>
<li>
<p>Allocations scoped to a <code>VkPipelineCache</code> <strong class="purple">may</strong> only be allocated
from:</p>
<div class="ulist">
<ul>
<li>
<p><code>vkCreatePipelineCache</code></p>
</li>
<li>
<p><code>vkMergePipelineCaches</code> for <code>dstCache</code></p>
</li>
<li>
<p><code>vkCreateGraphicsPipelines</code> for <code>pipelineCache</code></p>
</li>
<li>
<p><code>vkCreateComputePipelines</code> for <code>pipelineCache</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Allocations scoped to a <code>VkDescriptorPool</code> <strong class="purple">may</strong> only be allocated
from:</p>
<div class="ulist">
<ul>
<li>
<p>any command that takes the pool as a direct argument</p>
</li>
<li>
<p><code>vkAllocateDescriptorSets</code> for the <code>descriptorPool</code> member of
its <code>pAllocateInfo</code> parameter</p>
</li>
<li>
<p><code>vkCreateDescriptorPool</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Allocations scoped to a <code>VkCommandPool</code> <strong class="purple">may</strong> only be allocated from:</p>
<div class="ulist">
<ul>
<li>
<p>any command that takes the pool as a direct argument</p>
</li>
<li>
<p><code>vkCreateCommandPool</code></p>
</li>
<li>
<p><code>vkAllocateCommandBuffers</code> for the <code>commandPool</code> member of its
<code>pAllocateInfo</code> parameter</p>
</li>
<li>
<p>any <code>vkCmd*</code> command whose <code>commandBuffer</code> was allocated from
that <code>VkCommandPool</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Allocations scoped to any other object <strong class="purple">may</strong> only be allocated in that
object&#8217;s <code>vkCreate*</code> command.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>pfnFree</code>, or <code>pfnReallocation</code> with zero <code>size</code>, <strong class="purple">may</strong> be called
in the following situations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allocations scoped to a <code>VkDevice</code> or <code>VkInstance</code> <strong class="purple">may</strong> be freed
from any API command.</p>
</li>
<li>
<p>Allocations scoped to a command <strong class="purple">must</strong> be freed by any API command which
allocates such memory.</p>
</li>
<li>
<p>Allocations scoped to a <code>VkPipelineCache</code> <strong class="purple">may</strong> be freed from
<code>vkDestroyPipelineCache</code>.</p>
</li>
<li>
<p>Allocations scoped to a <code>VkDescriptorPool</code> <strong class="purple">may</strong> be freed from</p>
<div class="ulist">
<ul>
<li>
<p>any command that takes the pool as a direct argument</p>
</li>
</ul>
</div>
</li>
<li>
<p>Allocations scoped to a <code>VkCommandPool</code> <strong class="purple">may</strong> be freed from:</p>
<div class="ulist">
<ul>
<li>
<p>any command that takes the pool as a direct argument</p>
</li>
<li>
<p><code>vkResetCommandBuffer</code> whose <code>commandBuffer</code> was allocated from
that <code>VkCommandPool</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Allocations scoped to any other object <strong class="purple">may</strong> be freed in that object&#8217;s
<code>vkDestroy*</code> command.</p>
</li>
<li>
<p>Any command that allocates host memory <strong class="purple">may</strong> also free host memory of the
same scope.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="memory-device"><a class="anchor" href="#memory-device"></a>10.2. Device Memory</h3>
<div class="paragraph">
<p><em>Device memory</em> is memory that is visible to the device&#8201;&#8212;&#8201;for example the
contents of the image or buffer objects, which <strong class="purple">can</strong> be natively used by the
device.</p>
</div>
<div class="paragraph">
<p>Memory properties of a physical device describe the memory heaps and memory
types available.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query memory properties, call:</p>
</div>
<div id="vkGetPhysicalDeviceMemoryProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetPhysicalDeviceMemoryProperties(
    VkPhysicalDevice                            physicalDevice,
    VkPhysicalDeviceMemoryProperties*           pMemoryProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the handle to the device to query.</p>
</li>
<li>
<p><code>pMemoryProperties</code> is a pointer to a
<a href="#VkPhysicalDeviceMemoryProperties">VkPhysicalDeviceMemoryProperties</a> structure in which the properties
are returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceMemoryProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceMemoryProperties-physicalDevice-parameter"></a> <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceMemoryProperties-pMemoryProperties-parameter" href="#VUID-vkGetPhysicalDeviceMemoryProperties-pMemoryProperties-parameter"></a> <code>pMemoryProperties</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkPhysicalDeviceMemoryProperties">VkPhysicalDeviceMemoryProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceMemoryProperties</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceMemoryProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPhysicalDeviceMemoryProperties {
    uint32_t        memoryTypeCount;
    VkMemoryType    memoryTypes[VK_MAX_MEMORY_TYPES];
    uint32_t        memoryHeapCount;
    VkMemoryHeap    memoryHeaps[VK_MAX_MEMORY_HEAPS];
} VkPhysicalDeviceMemoryProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>memoryTypeCount</code> is the number of valid elements in the
<code>memoryTypes</code> array.</p>
</li>
<li>
<p><code>memoryTypes</code> is an array of <code>VK_MAX_MEMORY_TYPES</code>
<a href="#VkMemoryType">VkMemoryType</a> structures describing the <em>memory types</em> that <strong class="purple">can</strong> be
used to access memory allocated from the heaps specified by
<code>memoryHeaps</code>.</p>
</li>
<li>
<p><code>memoryHeapCount</code> is the number of valid elements in the
<code>memoryHeaps</code> array.</p>
</li>
<li>
<p><code>memoryHeaps</code> is an array of <code>VK_MAX_MEMORY_HEAPS</code>
<a href="#VkMemoryHeap">VkMemoryHeap</a> structures describing the <em>memory heaps</em> from which
memory <strong class="purple">can</strong> be allocated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>VkPhysicalDeviceMemoryProperties</code> structure describes a number of
<em>memory heaps</em> as well as a number of <em>memory types</em> that <strong class="purple">can</strong> be used to
access memory allocated in those heaps.
Each heap describes a memory resource of a particular size, and each memory
type describes a set of memory properties (e.g. host cached vs uncached)
that <strong class="purple">can</strong> be used with a given memory heap.
Allocations using a particular memory type will consume resources from the
heap indicated by that memory type&#8217;s heap index.
More than one memory type <strong class="purple">may</strong> share each heap, and the heaps and memory
types provide a mechanism to advertise an accurate size of the physical
memory resources while allowing the memory to be used with a variety of
different properties.</p>
</div>
<div class="paragraph">
<p>The number of memory heaps is given by <code>memoryHeapCount</code> and is less
than or equal to <code>VK_MAX_MEMORY_HEAPS</code>.
Each heap is described by an element of the <code>memoryHeaps</code> array as a
<a href="#VkMemoryHeap">VkMemoryHeap</a> structure.
The number of memory types available across all memory heaps is given by
<code>memoryTypeCount</code> and is less than or equal to
<code>VK_MAX_MEMORY_TYPES</code>.
Each memory type is described by an element of the <code>memoryTypes</code> array
as a <a href="#VkMemoryType">VkMemoryType</a> structure.</p>
</div>
<div class="paragraph">
<p>At least one heap <strong class="purple">must</strong> include <code>VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code> in
<a href="#VkMemoryHeap">VkMemoryHeap</a>::<code>flags</code>.
If there are multiple heaps that all have similar performance
characteristics, they <strong class="purple">may</strong> all include
<code>VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code>.
In a unified memory architecture (UMA) system there is often only a single
memory heap which is considered to be equally &#8220;local&#8221; to the host and to
the device, and such an implementation <strong class="purple">must</strong> advertise the heap as
device-local.</p>
</div>
<div id="memory-device-bitmask-list" class="paragraph">
<p>Each memory type returned by <a href="#vkGetPhysicalDeviceMemoryProperties">vkGetPhysicalDeviceMemoryProperties</a> <strong class="purple">must</strong>
have its <code>propertyFlags</code> set to one of the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>0</p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code></p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code></p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code></p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code></p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code></p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code></p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code></p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> |<br>
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There <strong class="purple">must</strong> be at least one memory type with both the
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> and
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> bits set in its
<code>propertyFlags</code>.
There <strong class="purple">must</strong> be at least one memory type with the
<code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> bit set in its
<code>propertyFlags</code>.</p>
</div>
<div class="paragraph">
<p>For each pair of elements <strong>X</strong> and <strong>Y</strong> returned in <code>memoryTypes</code>, <strong>X</strong>
<strong class="purple">must</strong> be placed at a lower index position than <strong>Y</strong> if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>either the set of bit flags returned in the <code>propertyFlags</code> member
of <strong>X</strong> is a strict subset of the set of bit flags returned in the
<code>propertyFlags</code> member of <strong>Y</strong>; or</p>
</li>
<li>
<p>the <code>propertyFlags</code> members of <strong>X</strong> and <strong>Y</strong> are equal, and <strong>X</strong>
belongs to a memory heap with greater performance (as determined in an
implementation-specific manner)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There is no ordering requirement between <strong>X</strong> and <strong>Y</strong> elements for the case
their <code>propertyFlags</code> members are not in a subset relation.
That potentially allows more than one possible way to order the same set of
memory types.
Notice that the <a href="#memory-device-bitmask-list">list of all allowed memory
property flag combinations</a> is written in a valid order.
But if instead <code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> was before
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> |
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code>, the list would still be in a
valid order.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This ordering requirement enables applications to use a simple search loop
to select the desired memory type along the lines of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Find a memory in `memoryTypeBitsRequirement` that includes all of `requiredProperties`</span>
int32_t findProperties(<span class="directive">const</span> VkPhysicalDeviceMemoryProperties* pMemoryProperties,
                       uint32_t memoryTypeBitsRequirement,
                       VkMemoryPropertyFlags requiredProperties) {
    <span class="directive">const</span> uint32_t memoryCount = pMemoryProperties-&gt;memoryTypeCount;
    <span class="keyword">for</span> (uint32_t memoryIndex = <span class="integer">0</span>; memoryIndex &lt; memoryCount; ++memoryIndex) {
        <span class="directive">const</span> uint32_t memoryTypeBits = (<span class="integer">1</span> &lt;&lt; memoryIndex);
        <span class="directive">const</span> <span class="predefined-type">bool</span> isRequiredMemoryType = memoryTypeBitsRequirement &amp; memoryTypeBits;

        <span class="directive">const</span> VkMemoryPropertyFlags properties =
            pMemoryProperties-&gt;memoryTypes[memoryIndex].propertyFlags;
        <span class="directive">const</span> <span class="predefined-type">bool</span> hasRequiredProperties =
            (properties &amp; requiredProperties) == requiredProperties;

        <span class="keyword">if</span> (isRequiredMemoryType &amp;&amp; hasRequiredProperties)
            <span class="keyword">return</span> <span class="keyword">static_cast</span>&lt;int32_t&gt;(memoryIndex);
    }

    <span class="comment">// failed to find memory type</span>
    <span class="keyword">return</span> -<span class="integer">1</span>;
}

<span class="comment">// Try to find an optimal memory type, or if it does not exist try fallback memory type</span>
<span class="comment">// `device` is the VkDevice</span>
<span class="comment">// `image` is the VkImage that requires memory to be bound</span>
<span class="comment">// `memoryProperties` properties as returned by vkGetPhysicalDeviceMemoryProperties</span>
<span class="comment">// `requiredProperties` are the property flags that must be present</span>
<span class="comment">// `optimalProperties` are the property flags that are preferred by the application</span>
VkMemoryRequirements memoryRequirements;
vkGetImageMemoryRequirements(device, image, &amp;memoryRequirements);
int32_t memoryType =
    findProperties(&amp;memoryProperties, memoryRequirements.memoryTypeBits, optimalProperties);
<span class="keyword">if</span> (memoryType == -<span class="integer">1</span>) <span class="comment">// not found; try fallback properties</span>
    memoryType =
        findProperties(&amp;memoryProperties, memoryRequirements.memoryTypeBits, requiredProperties);</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkMemoryHeap</code> structure is defined as:</p>
</div>
<div id="VkMemoryHeap" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkMemoryHeap {
    VkDeviceSize         size;
    VkMemoryHeapFlags    flags;
} VkMemoryHeap;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>size</code> is the total memory size in bytes in the heap.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkMemoryHeapFlagBits">VkMemoryHeapFlagBits</a> specifying
attribute flags for the heap.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in <a href="#VkMemoryHeap">VkMemoryHeap</a>::<code>flags</code>, indicating
attribute flags for the heap, are:</p>
</div>
<div id="VkMemoryHeapFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkMemoryHeapFlagBits {
    VK_MEMORY_HEAP_DEVICE_LOCAL_BIT = <span class="hex">0x00000001</span>,
    VK_MEMORY_HEAP_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkMemoryHeapFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code> specifies that the heap
corresponds to device local memory.
Device local memory <strong class="purple">may</strong> have different performance characteristics than
host local memory, and <strong class="purple">may</strong> support different memory property flags.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkMemoryHeapFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkMemoryHeapFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkMemoryHeapFlags</code> is a bitmask type for setting a mask of zero or more
<a href="#VkMemoryHeapFlagBits">VkMemoryHeapFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkMemoryType</code> structure is defined as:</p>
</div>
<div id="VkMemoryType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkMemoryType {
    VkMemoryPropertyFlags    propertyFlags;
    uint32_t                 heapIndex;
} VkMemoryType;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>heapIndex</code> describes which memory heap this memory type corresponds
to, and <strong class="purple">must</strong> be less than <code>memoryHeapCount</code> from the
<a href="#VkPhysicalDeviceMemoryProperties">VkPhysicalDeviceMemoryProperties</a> structure.</p>
</li>
<li>
<p><code>propertyFlags</code> is a bitmask of <a href="#VkMemoryPropertyFlagBits">VkMemoryPropertyFlagBits</a> of
properties for this memory type.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in <a href="#VkMemoryType">VkMemoryType</a>::<code>propertyFlags</code>,
indicating properties of a memory heap, are:</p>
</div>
<div id="VkMemoryPropertyFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkMemoryPropertyFlagBits {
    VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT = <span class="hex">0x00000001</span>,
    VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT = <span class="hex">0x00000002</span>,
    VK_MEMORY_PROPERTY_HOST_COHERENT_BIT = <span class="hex">0x00000004</span>,
    VK_MEMORY_PROPERTY_HOST_CACHED_BIT = <span class="hex">0x00000008</span>,
    VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT = <span class="hex">0x00000010</span>,
    VK_MEMORY_PROPERTY_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkMemoryPropertyFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> bit specifies that memory
allocated with this type is the most efficient for device access.
This property will be set if and only if the memory type belongs to a
heap with the <code>VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code> set.</p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> bit specifies that memory
allocated with this type <strong class="purple">can</strong> be mapped for host access using
<a href="#vkMapMemory">vkMapMemory</a>.</p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> bit specifies that the host
cache management commands <a href="#vkFlushMappedMemoryRanges">vkFlushMappedMemoryRanges</a> and
<a href="#vkInvalidateMappedMemoryRanges">vkInvalidateMappedMemoryRanges</a> are not needed to flush host writes
to the device or make device writes visible to the host, respectively.</p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code> bit specifies that memory
allocated with this type is cached on the host.
Host memory accesses to uncached memory are slower than to cached
memory, however uncached memory is always host coherent.</p>
</li>
<li>
<p><code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit specifies that the
memory type only allows device access to the memory.
Memory types <strong class="purple">must</strong> not have both
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> and
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> set.
Additionally, the object&#8217;s backing memory <strong class="purple">may</strong> be provided by the
implementation lazily as specified in <a href="#memory-device-lazy_allocation">Lazily Allocated Memory</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkMemoryPropertyFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkMemoryPropertyFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkMemoryPropertyFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkMemoryPropertyFlagBits">VkMemoryPropertyFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A Vulkan device operates on data in device memory via memory objects that
are represented in the API by a <code>VkDeviceMemory</code> handle:</p>
</div>
<div id="VkDeviceMemory" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDeviceMemory)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To allocate memory objects, call:</p>
</div>
<div id="vkAllocateMemory" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkAllocateMemory(
    VkDevice                                    device,
    <span class="directive">const</span> VkMemoryAllocateInfo*                 pAllocateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkDeviceMemory*                             pMemory);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the memory.</p>
</li>
<li>
<p><code>pAllocateInfo</code> is a pointer to a <a href="#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a>
structure describing parameters of the allocation.
A successful returned allocation <strong class="purple">must</strong> use the requested parameters&#8201;&#8212;&#8201;no substitution is permitted by the implementation.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pMemory</code> is a pointer to a <a href="#VkDeviceMemory">VkDeviceMemory</a> handle in which
information about the allocated memory is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Allocations returned by <code>vkAllocateMemory</code> are guaranteed to meet any
alignment requirement of the implementation.
For example, if an implementation requires 128 byte alignment for images and
64 byte alignment for buffers, the device memory returned through this
mechanism would be 128-byte aligned.
This ensures that applications <strong class="purple">can</strong> correctly suballocate objects of
different types (with potentially different alignment requirements) in the
same memory object.</p>
</div>
<div class="paragraph">
<p>When memory is allocated, its contents are undefined.</p>
</div>
<div class="paragraph">
<p>The maximum number of valid memory allocations that <strong class="purple">can</strong> exist
simultaneously within a <a href="#VkDevice">VkDevice</a> <strong class="purple">may</strong> be restricted by implementation-
or platform-dependent limits.
If a call to <a href="#vkAllocateMemory">vkAllocateMemory</a> would cause the total number of
allocations to exceed these limits, such a call will fail and <strong class="purple">must</strong> return
<code>VK_ERROR_TOO_MANY_OBJECTS</code>.
The <a href="#limits-maxMemoryAllocationCount"><code>maxMemoryAllocationCount</code></a>
feature describes the number of allocations that <strong class="purple">can</strong> exist simultaneously
before encountering these internal limits.</p>
</div>
<div class="paragraph">
<p>Some platforms <strong class="purple">may</strong> have a limit on the maximum size of a single allocation.
For example, certain systems <strong class="purple">may</strong> fail to create allocations with a size
greater than or equal to 4GB.
Such a limit is implementation-dependent, and if such a failure occurs then
the error <code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code> <strong class="purple">must</strong> be returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAllocateMemory-pAllocateInfo-01713" href="#VUID-vkAllocateMemory-pAllocateInfo-01713"></a>
<code>pAllocateInfo-&gt;allocationSize</code> <strong class="purple">must</strong> be less than or equal to
<a href="#VkPhysicalDeviceMemoryProperties">VkPhysicalDeviceMemoryProperties</a>::<code>memoryHeaps</code>[memindex].size
where <code>memindex</code> =
<a href="#VkPhysicalDeviceMemoryProperties">VkPhysicalDeviceMemoryProperties</a>::<code>memoryTypes</code>[pAllocateInfo-&gt;memoryTypeIndex].heapIndex
as returned by <a href="#vkGetPhysicalDeviceMemoryProperties">vkGetPhysicalDeviceMemoryProperties</a> for the
<a href="#VkPhysicalDevice">VkPhysicalDevice</a> that <code>device</code> was created from.</p>
</li>
<li>
<p><a id="VUID-vkAllocateMemory-pAllocateInfo-01714" href="#VUID-vkAllocateMemory-pAllocateInfo-01714"></a>
<code>pAllocateInfo-&gt;memoryTypeIndex</code> <strong class="purple">must</strong> be less than
<a href="#VkPhysicalDeviceMemoryProperties">VkPhysicalDeviceMemoryProperties</a>::<code>memoryTypeCount</code> as
returned by <a href="#vkGetPhysicalDeviceMemoryProperties">vkGetPhysicalDeviceMemoryProperties</a> for the
<a href="#VkPhysicalDevice">VkPhysicalDevice</a> that <code>device</code> was created from.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAllocateMemory-device-parameter" href="#VUID-vkAllocateMemory-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAllocateMemory-pAllocateInfo-parameter" href="#VUID-vkAllocateMemory-pAllocateInfo-parameter"></a> <code>pAllocateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkAllocateMemory-pAllocator-parameter" href="#VUID-vkAllocateMemory-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkAllocateMemory-pMemory-parameter" href="#VUID-vkAllocateMemory-pMemory-parameter"></a> <code>pMemory</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkDeviceMemory">VkDeviceMemory</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_TOO_MANY_OBJECTS</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkMemoryAllocateInfo</code> structure is defined as:</p>
</div>
<div id="VkMemoryAllocateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkMemoryAllocateInfo {
    VkStructureType    sType;
    <span class="directive">const</span> <span class="directive">void</span>*        pNext;
    VkDeviceSize       allocationSize;
    uint32_t           memoryTypeIndex;
} VkMemoryAllocateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>allocationSize</code> is the size of the allocation in bytes</p>
</li>
<li>
<p><code>memoryTypeIndex</code> is an index identifying a memory type from the
<code>memoryTypes</code> array of the <a href="#VkPhysicalDeviceMemoryProperties">VkPhysicalDeviceMemoryProperties</a>
structure</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMemoryAllocateInfo-allocationSize-00638" href="#VUID-VkMemoryAllocateInfo-allocationSize-00638"></a>
<code>allocationSize</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMemoryAllocateInfo-sType-sType" href="#VUID-VkMemoryAllocateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkMemoryAllocateInfo-pNext-pNext" href="#VUID-VkMemoryAllocateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To free a memory object, call:</p>
</div>
<div id="vkFreeMemory" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkFreeMemory(
    VkDevice                                    device,
    VkDeviceMemory                              memory,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the memory.</p>
</li>
<li>
<p><code>memory</code> is the <a href="#VkDeviceMemory">VkDeviceMemory</a> object to be freed.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Before freeing a memory object, an application <strong class="purple">must</strong> ensure the memory
object is no longer in use by the device&#8212;&#8203;for example by command buffers in
the <em>pending state</em>.
Memory <strong class="purple">can</strong> be freed whilst still bound to resources, but those resources
<strong class="purple">must</strong> not be used afterwards.
If there are still any bound images or buffers, the memory <strong class="purple">may</strong> not be
immediately released by the implementation, but <strong class="purple">must</strong> be released by the
time all bound images and buffers have been destroyed.
Once memory is released, it is returned to the heap from which it was
allocated.</p>
</div>
<div class="paragraph">
<p>How memory objects are bound to Images and Buffers is described in detail in
the <a href="#resources-association">Resource Memory Association</a> section.</p>
</div>
<div class="paragraph">
<p>If a memory object is mapped at the time it is freed, it is implicitly
unmapped.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>As described <a href="#memory-device-unmap-does-not-flush">below</a>, host writes are
not implicitly flushed when the memory object is unmapped, but the
implementation <strong class="purple">must</strong> guarantee that writes that have not been flushed do not
affect any other memory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkFreeMemory-memory-00677" href="#VUID-vkFreeMemory-memory-00677"></a>
All submitted commands that refer to <code>memory</code> (via images or
buffers) <strong class="purple">must</strong> have completed execution</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkFreeMemory-device-parameter" href="#VUID-vkFreeMemory-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkFreeMemory-memory-parameter" href="#VUID-vkFreeMemory-memory-parameter"></a> If <code>memory</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>memory</code> <strong class="purple">must</strong> be a valid <a href="#VkDeviceMemory">VkDeviceMemory</a> handle</p>
</li>
<li>
<p><a id="VUID-vkFreeMemory-pAllocator-parameter" href="#VUID-vkFreeMemory-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkFreeMemory-memory-parent" href="#VUID-vkFreeMemory-memory-parent"></a> If <code>memory</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>memory</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="memory-device-hostaccess"><a class="anchor" href="#memory-device-hostaccess"></a>10.2.1. Host Access to Device Memory Objects</h4>
<div class="paragraph">
<p>Memory objects created with <a href="#vkAllocateMemory">vkAllocateMemory</a> are not directly host
accessible.</p>
</div>
<div class="paragraph">
<p>Memory objects created with the memory property
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> are considered <em>mappable</em>.
Memory objects <strong class="purple">must</strong> be mappable in order to be successfully mapped on the
host.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To retrieve a host virtual address pointer to a region of a mappable memory
object, call:</p>
</div>
<div id="vkMapMemory" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkMapMemory(
    VkDevice                                    device,
    VkDeviceMemory                              memory,
    VkDeviceSize                                offset,
    VkDeviceSize                                size,
    VkMemoryMapFlags                            flags,
    <span class="directive">void</span>**                                      ppData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the memory.</p>
</li>
<li>
<p><code>memory</code> is the <a href="#VkDeviceMemory">VkDeviceMemory</a> object to be mapped.</p>
</li>
<li>
<p><code>offset</code> is a zero-based byte offset from the beginning of the
memory object.</p>
</li>
<li>
<p><code>size</code> is the size of the memory range to map, or
<code>VK_WHOLE_SIZE</code> to map from <code>offset</code> to the end of the
allocation.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>ppData</code> is a pointer to a <code>void *</code> variable in which is returned a
host-accessible pointer to the beginning of the mapped range.
This pointer minus <code>offset</code> <strong class="purple">must</strong> be aligned to at least
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>minMemoryMapAlignment</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After a successful call to <code>vkMapMemory</code> the memory object <code>memory</code>
is considered to be currently <em>host mapped</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is an application error to call <code>vkMapMemory</code> on a memory object that
is already <em>host mapped</em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>vkMapMemory</code> will fail if the implementation is unable to allocate an
appropriately sized contiguous virtual address range, e.g. due to virtual
address space fragmentation or platform limits.
In such cases, <code>vkMapMemory</code> <strong class="purple">must</strong> return
<code>VK_ERROR_MEMORY_MAP_FAILED</code>.
The application <strong class="purple">can</strong> improve the likelihood of success by reducing the size
of the mapped range and/or removing unneeded mappings using
<a href="#vkUnmapMemory">vkUnmapMemory</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="memory-device-hostaccess-hazards" class="paragraph">
<p><code>vkMapMemory</code> does not check whether the device memory is currently in
use before returning the host-accessible pointer.
The application <strong class="purple">must</strong> guarantee that any previously submitted command that
writes to this range has completed before the host reads from or writes to
that range, and that any previously submitted command that reads from that
range has completed before the host writes to that region (see
<a href="#synchronization-submission-host-writes">here</a> for details on fulfilling
such a guarantee).
If the device memory was allocated without the
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> set, these guarantees <strong class="purple">must</strong> be
made for an extended range: the application <strong class="purple">must</strong> round down the start of
the range to the nearest multiple of
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>nonCoherentAtomSize</code>, and round the end
of the range up to the nearest multiple of
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>nonCoherentAtomSize</code>.</p>
</div>
<div class="paragraph">
<p>While a range of device memory is host mapped, the application is
responsible for synchronizing both device and host access to that memory
range.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is important for the application developer to become meticulously
familiar with all of the mechanisms described in the chapter on
<a href="#synchronization">Synchronization and Cache Control</a> as they are crucial
to maintaining memory access ordering.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkMapMemory-memory-00678" href="#VUID-vkMapMemory-memory-00678"></a>
<code>memory</code> <strong class="purple">must</strong> not be currently host mapped</p>
</li>
<li>
<p><a id="VUID-vkMapMemory-offset-00679" href="#VUID-vkMapMemory-offset-00679"></a>
<code>offset</code> <strong class="purple">must</strong> be less than the size of <code>memory</code></p>
</li>
<li>
<p><a id="VUID-vkMapMemory-size-00680" href="#VUID-vkMapMemory-size-00680"></a>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <strong class="purple">must</strong> be
greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkMapMemory-size-00681" href="#VUID-vkMapMemory-size-00681"></a>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <strong class="purple">must</strong> be
less than or equal to the size of the <code>memory</code> minus <code>offset</code></p>
</li>
<li>
<p><a id="VUID-vkMapMemory-memory-00682" href="#VUID-vkMapMemory-memory-00682"></a>
<code>memory</code> <strong class="purple">must</strong> have been created with a memory type that reports
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkMapMemory-device-parameter" href="#VUID-vkMapMemory-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkMapMemory-memory-parameter" href="#VUID-vkMapMemory-memory-parameter"></a> <code>memory</code> <strong class="purple">must</strong> be a valid <a href="#VkDeviceMemory">VkDeviceMemory</a> handle</p>
</li>
<li>
<p><a id="VUID-vkMapMemory-flags-zerobitmask" href="#VUID-vkMapMemory-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkMapMemory-ppData-parameter" href="#VUID-vkMapMemory-ppData-parameter"></a> <code>ppData</code> <strong class="purple">must</strong> be a valid pointer to a pointer value</p>
</li>
<li>
<p><a id="VUID-vkMapMemory-memory-parent" href="#VUID-vkMapMemory-memory-parent"></a> <code>memory</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>memory</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_MEMORY_MAP_FAILED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkMemoryMapFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkMemoryMapFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkMemoryMapFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Two commands are provided to enable applications to work with non-coherent
memory allocations: <code>vkFlushMappedMemoryRanges</code> and
<code>vkInvalidateMappedMemoryRanges</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If the memory object was created with the
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> set,
<code>vkFlushMappedMemoryRanges</code> and <code>vkInvalidateMappedMemoryRanges</code> are
unnecessary and <strong class="purple">may</strong> have a performance cost.
However, <a href="#synchronization-dependencies-available-and-visible">availability
and visibility operations</a> still need to be managed on the device.
See the description of <a href="#synchronization-host-access-types">host access
types</a> for more information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To flush ranges of non-coherent memory from the host caches, call:</p>
</div>
<div id="vkFlushMappedMemoryRanges" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkFlushMappedMemoryRanges(
    VkDevice                                    device,
    uint32_t                                    memoryRangeCount,
    <span class="directive">const</span> VkMappedMemoryRange*                  pMemoryRanges);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the memory ranges.</p>
</li>
<li>
<p><code>memoryRangeCount</code> is the length of the <code>pMemoryRanges</code> array.</p>
</li>
<li>
<p><code>pMemoryRanges</code> is a pointer to an array of
<a href="#VkMappedMemoryRange">VkMappedMemoryRange</a> structures describing the memory ranges to
flush.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkFlushMappedMemoryRanges</code> guarantees that host writes to the memory
ranges described by <code>pMemoryRanges</code> are made available to the host
memory domain, such that they <strong class="purple">can</strong> be made available to the device memory
domain via <a href="#synchronization-dependencies-available-and-visible">memory
domain operations</a> using the <code>VK_ACCESS_HOST_WRITE_BIT</code>
<a href="#synchronization-access-types">access type</a>.</p>
</div>
<div class="paragraph">
<p>Within each range described by <code>pMemoryRanges</code>, each set of
<code>nonCoherentAtomSize</code> bytes in that range is flushed if any byte in that
set has been written by the host since it was first host mapped, or the last
time it was flushed.
If <code>pMemoryRanges</code> includes sets of <code>nonCoherentAtomSize</code> bytes
where no bytes have been written by the host, those bytes <strong class="purple">must</strong> not be
flushed.</p>
</div>
<div id="memory-device-unmap-does-not-flush" class="paragraph">
<p>Unmapping non-coherent memory does not implicitly flush the host mapped
memory, and host writes that have not been flushed <strong class="purple">may</strong> not ever be visible
to the device.
However, implementations <strong class="purple">must</strong> ensure that writes that have not been flushed
do not become visible to any other memory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The above guarantee avoids a potential memory corruption in scenarios where
host writes to a mapped memory object have not been flushed before the
memory is unmapped (or freed), and the virtual address range is subsequently
reused for a different mapping (or memory allocation).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkFlushMappedMemoryRanges-device-parameter" href="#VUID-vkFlushMappedMemoryRanges-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkFlushMappedMemoryRanges-pMemoryRanges-parameter" href="#VUID-vkFlushMappedMemoryRanges-pMemoryRanges-parameter"></a> <code>pMemoryRanges</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>memoryRangeCount</code> valid <a href="#VkMappedMemoryRange">VkMappedMemoryRange</a> structures</p>
</li>
<li>
<p><a id="VUID-vkFlushMappedMemoryRanges-memoryRangeCount-arraylength" href="#VUID-vkFlushMappedMemoryRanges-memoryRangeCount-arraylength"></a> <code>memoryRangeCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To invalidate ranges of non-coherent memory from the host caches, call:</p>
</div>
<div id="vkInvalidateMappedMemoryRanges" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkInvalidateMappedMemoryRanges(
    VkDevice                                    device,
    uint32_t                                    memoryRangeCount,
    <span class="directive">const</span> VkMappedMemoryRange*                  pMemoryRanges);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the memory ranges.</p>
</li>
<li>
<p><code>memoryRangeCount</code> is the length of the <code>pMemoryRanges</code> array.</p>
</li>
<li>
<p><code>pMemoryRanges</code> is a pointer to an array of
<a href="#VkMappedMemoryRange">VkMappedMemoryRange</a> structures describing the memory ranges to
invalidate.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkInvalidateMappedMemoryRanges</code> guarantees that device writes to the
memory ranges described by <code>pMemoryRanges</code>, which have been made
available to the host memory domain using the <code>VK_ACCESS_HOST_WRITE_BIT</code>
and <code>VK_ACCESS_HOST_READ_BIT</code> <a href="#synchronization-access-types">access
types</a>, are made visible to the host.
If a range of non-coherent memory is written by the host and then
invalidated without first being flushed, its contents are undefined.</p>
</div>
<div class="paragraph">
<p>Within each range described by <code>pMemoryRanges</code>, each set of
<code>nonCoherentAtomSize</code> bytes in that range is invalidated if any byte in
that set has been written by the device since it was first host mapped, or
the last time it was invalidated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Mapping non-coherent memory does not implicitly invalidate that memory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkInvalidateMappedMemoryRanges-device-parameter" href="#VUID-vkInvalidateMappedMemoryRanges-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkInvalidateMappedMemoryRanges-pMemoryRanges-parameter" href="#VUID-vkInvalidateMappedMemoryRanges-pMemoryRanges-parameter"></a> <code>pMemoryRanges</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>memoryRangeCount</code> valid <a href="#VkMappedMemoryRange">VkMappedMemoryRange</a> structures</p>
</li>
<li>
<p><a id="VUID-vkInvalidateMappedMemoryRanges-memoryRangeCount-arraylength" href="#VUID-vkInvalidateMappedMemoryRanges-memoryRangeCount-arraylength"></a> <code>memoryRangeCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkMappedMemoryRange</code> structure is defined as:</p>
</div>
<div id="VkMappedMemoryRange" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkMappedMemoryRange {
    VkStructureType    sType;
    <span class="directive">const</span> <span class="directive">void</span>*        pNext;
    VkDeviceMemory     memory;
    VkDeviceSize       offset;
    VkDeviceSize       size;
} VkMappedMemoryRange;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>memory</code> is the memory object to which this range belongs.</p>
</li>
<li>
<p><code>offset</code> is the zero-based byte offset from the beginning of the
memory object.</p>
</li>
<li>
<p><code>size</code> is either the size of range, or <code>VK_WHOLE_SIZE</code> to affect
the range from <code>offset</code> to the end of the current mapping of the
allocation.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMappedMemoryRange-memory-00684" href="#VUID-VkMappedMemoryRange-memory-00684"></a>
<code>memory</code> <strong class="purple">must</strong> be currently host mapped</p>
</li>
<li>
<p><a id="VUID-VkMappedMemoryRange-size-00685" href="#VUID-VkMappedMemoryRange-size-00685"></a>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>offset</code> and
<code>size</code> <strong class="purple">must</strong> specify a range contained within the currently mapped
range of <code>memory</code></p>
</li>
<li>
<p><a id="VUID-VkMappedMemoryRange-size-00686" href="#VUID-VkMappedMemoryRange-size-00686"></a>
If <code>size</code> is equal to <code>VK_WHOLE_SIZE</code>, <code>offset</code> <strong class="purple">must</strong> be
within the currently mapped range of <code>memory</code></p>
</li>
<li>
<p><a id="VUID-VkMappedMemoryRange-size-01389" href="#VUID-VkMappedMemoryRange-size-01389"></a>
If <code>size</code> is equal to <code>VK_WHOLE_SIZE</code>, the end of the current
mapping of <code>memory</code> <strong class="purple">must</strong> be a multiple of
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>nonCoherentAtomSize</code> bytes from the
beginning of the memory object.</p>
</li>
<li>
<p><a id="VUID-VkMappedMemoryRange-offset-00687" href="#VUID-VkMappedMemoryRange-offset-00687"></a>
<code>offset</code> <strong class="purple">must</strong> be a multiple of
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>nonCoherentAtomSize</code></p>
</li>
<li>
<p><a id="VUID-VkMappedMemoryRange-size-01390" href="#VUID-VkMappedMemoryRange-size-01390"></a>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <strong class="purple">must</strong>
either be a multiple of
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>nonCoherentAtomSize</code>, or <code>offset</code>
plus <code>size</code> <strong class="purple">must</strong> equal the size of <code>memory</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkMappedMemoryRange-sType-sType" href="#VUID-VkMappedMemoryRange-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_MAPPED_MEMORY_RANGE</code></p>
</li>
<li>
<p><a id="VUID-VkMappedMemoryRange-pNext-pNext" href="#VUID-VkMappedMemoryRange-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkMappedMemoryRange-memory-parameter" href="#VUID-VkMappedMemoryRange-memory-parameter"></a> <code>memory</code> <strong class="purple">must</strong> be a valid <a href="#VkDeviceMemory">VkDeviceMemory</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To unmap a memory object once host access to it is no longer needed by the
application, call:</p>
</div>
<div id="vkUnmapMemory" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkUnmapMemory(
    VkDevice                                    device,
    VkDeviceMemory                              memory);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the memory.</p>
</li>
<li>
<p><code>memory</code> is the memory object to be unmapped.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUnmapMemory-memory-00689" href="#VUID-vkUnmapMemory-memory-00689"></a>
<code>memory</code> <strong class="purple">must</strong> be currently host mapped</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUnmapMemory-device-parameter" href="#VUID-vkUnmapMemory-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUnmapMemory-memory-parameter" href="#VUID-vkUnmapMemory-memory-parameter"></a> <code>memory</code> <strong class="purple">must</strong> be a valid <a href="#VkDeviceMemory">VkDeviceMemory</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUnmapMemory-memory-parent" href="#VUID-vkUnmapMemory-memory-parent"></a> <code>memory</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>memory</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="memory-device-lazy_allocation"><a class="anchor" href="#memory-device-lazy_allocation"></a>10.2.2. Lazily Allocated Memory</h4>
<div class="paragraph">
<p>If the memory object is allocated from a heap with the
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set, that object&#8217;s backing
memory <strong class="purple">may</strong> be provided by the implementation lazily.
The actual committed size of the memory <strong class="purple">may</strong> initially be as small as zero
(or as large as the requested size), and monotonically increases as
additional memory is needed.</p>
</div>
<div class="paragraph">
<p>A memory type with this flag set is only allowed to be bound to a
<code>VkImage</code> whose usage flags include
<code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Using lazily allocated memory objects for framebuffer attachments that are
not needed once a render pass instance has completed <strong class="purple">may</strong> allow some
implementations to never allocate memory for such attachments.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the amount of lazily-allocated memory that is currently
committed for a memory object, call:</p>
</div>
<div id="vkGetDeviceMemoryCommitment" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetDeviceMemoryCommitment(
    VkDevice                                    device,
    VkDeviceMemory                              memory,
    VkDeviceSize*                               pCommittedMemoryInBytes);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the memory.</p>
</li>
<li>
<p><code>memory</code> is the memory object being queried.</p>
</li>
<li>
<p><code>pCommittedMemoryInBytes</code> is a pointer to a <code>VkDeviceSize</code>
value in which the number of bytes currently committed is returned, on
success.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The implementation <strong class="purple">may</strong> update the commitment at any time, and the value
returned by this query <strong class="purple">may</strong> be out of date.</p>
</div>
<div class="paragraph">
<p>The implementation guarantees to allocate any committed memory from the
<code>heapIndex</code> indicated by the memory type that the memory object was
created with.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceMemoryCommitment-memory-00690" href="#VUID-vkGetDeviceMemoryCommitment-memory-00690"></a>
<code>memory</code> <strong class="purple">must</strong> have been created with a memory type that reports
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDeviceMemoryCommitment-device-parameter" href="#VUID-vkGetDeviceMemoryCommitment-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceMemoryCommitment-memory-parameter" href="#VUID-vkGetDeviceMemoryCommitment-memory-parameter"></a> <code>memory</code> <strong class="purple">must</strong> be a valid <a href="#VkDeviceMemory">VkDeviceMemory</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceMemoryCommitment-pCommittedMemoryInBytes-parameter" href="#VUID-vkGetDeviceMemoryCommitment-pCommittedMemoryInBytes-parameter"></a> <code>pCommittedMemoryInBytes</code> <strong class="purple">must</strong> be a valid pointer to a <code>VkDeviceSize</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetDeviceMemoryCommitment-memory-parent" href="#VUID-vkGetDeviceMemoryCommitment-memory-parent"></a> <code>memory</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="resources"><a class="anchor" href="#resources"></a>11. Resource Creation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vulkan supports two primary resource types: <em>buffers</em> and <em>images</em>.
Resources are views of memory with associated formatting and dimensionality.
Buffers are essentially unformatted arrays of bytes whereas images contain
format information, <strong class="purple">can</strong> be multidimensional and <strong class="purple">may</strong> have associated
metadata.</p>
</div>
<div class="sect2">
<h3 id="resources-buffers"><a class="anchor" href="#resources-buffers"></a>11.1. Buffers</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Buffers represent linear arrays of data which are used for various purposes
by binding them to a graphics or compute pipeline via descriptor sets or via
certain commands, or by directly specifying them as parameters to certain
commands.</p>
</div>
<div class="paragraph">
<p>Buffers are represented by <code>VkBuffer</code> handles:</p>
</div>
<div id="VkBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkBuffer)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create buffers, call:</p>
</div>
<div id="vkCreateBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateBuffer(
    VkDevice                                    device,
    <span class="directive">const</span> VkBufferCreateInfo*                   pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkBuffer*                                   pBuffer);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the buffer object.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkBufferCreateInfo</code> structure
containing parameters affecting creation of the buffer.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pBuffer</code> is a pointer to a <a href="#VkBuffer">VkBuffer</a> handle in which the
resulting buffer object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateBuffer-flags-00911" href="#VUID-vkCreateBuffer-flags-00911"></a>
If the <code>flags</code> member of <code>pCreateInfo</code> includes
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code>, creating this <code>VkBuffer</code>
<strong class="purple">must</strong> not cause the total required sparse memory for all currently valid
sparse resources on the device to exceed
<code>VkPhysicalDeviceLimits</code>::<code>sparseAddressSpaceSize</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateBuffer-device-parameter" href="#VUID-vkCreateBuffer-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateBuffer-pCreateInfo-parameter" href="#VUID-vkCreateBuffer-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkBufferCreateInfo">VkBufferCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateBuffer-pAllocator-parameter" href="#VUID-vkCreateBuffer-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateBuffer-pBuffer-parameter" href="#VUID-vkCreateBuffer-pBuffer-parameter"></a> <code>pBuffer</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBufferCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkBufferCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkBufferCreateInfo {
    VkStructureType        sType;
    <span class="directive">const</span> <span class="directive">void</span>*            pNext;
    VkBufferCreateFlags    flags;
    VkDeviceSize           size;
    VkBufferUsageFlags     usage;
    VkSharingMode          sharingMode;
    uint32_t               queueFamilyIndexCount;
    <span class="directive">const</span> uint32_t*        pQueueFamilyIndices;
} VkBufferCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a> specifying
additional parameters of the buffer.</p>
</li>
<li>
<p><code>size</code> is the size in bytes of the buffer to be created.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a> specifying
allowed usages of the buffer.</p>
</li>
<li>
<p><code>sharingMode</code> is a <a href="#VkSharingMode">VkSharingMode</a> value specifying the sharing
mode of the buffer when it will be accessed by multiple queue families.</p>
</li>
<li>
<p><code>queueFamilyIndexCount</code> is the number of entries in the
<code>pQueueFamilyIndices</code> array.</p>
</li>
<li>
<p><code>pQueueFamilyIndices</code> is a list of queue families that will access
this buffer (ignored if <code>sharingMode</code> is not
<code>VK_SHARING_MODE_CONCURRENT</code>).</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferCreateInfo-size-00912" href="#VUID-VkBufferCreateInfo-size-00912"></a>
<code>size</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-sharingMode-00913" href="#VUID-VkBufferCreateInfo-sharingMode-00913"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>pQueueFamilyIndices</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>queueFamilyIndexCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-sharingMode-00914" href="#VUID-VkBufferCreateInfo-sharingMode-00914"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>queueFamilyIndexCount</code> <strong class="purple">must</strong> be greater than <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-sharingMode-01391" href="#VUID-VkBufferCreateInfo-sharingMode-01391"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>, each element
of <code>pQueueFamilyIndices</code> <strong class="purple">must</strong> be unique and <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<a href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a> for the
<code>physicalDevice</code> that was used to create <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-flags-00915" href="#VUID-VkBufferCreateInfo-flags-00915"></a>
If the <a href="#features-sparseBinding">sparse bindings</a> feature is not
enabled, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-flags-00916" href="#VUID-VkBufferCreateInfo-flags-00916"></a>
If the <a href="#features-sparseResidencyBuffer">sparse buffer residency</a>
feature is not enabled, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-flags-00917" href="#VUID-VkBufferCreateInfo-flags-00917"></a>
If the <a href="#features-sparseResidencyAliased">sparse aliased residency</a>
feature is not enabled, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-flags-00918" href="#VUID-VkBufferCreateInfo-flags-00918"></a>
If <code>flags</code> contains <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> or
<code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code>, it <strong class="purple">must</strong> also contain
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferCreateInfo-sType-sType" href="#VUID-VkBufferCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-pNext-pNext" href="#VUID-VkBufferCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-flags-parameter" href="#VUID-VkBufferCreateInfo-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-usage-parameter" href="#VUID-VkBufferCreateInfo-usage-parameter"></a> <code>usage</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-usage-requiredbitmask" href="#VUID-VkBufferCreateInfo-usage-requiredbitmask"></a> <code>usage</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-sharingMode-parameter" href="#VUID-VkBufferCreateInfo-sharingMode-parameter"></a> <code>sharingMode</code> <strong class="purple">must</strong> be a valid <a href="#VkSharingMode">VkSharingMode</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkBufferCreateInfo">VkBufferCreateInfo</a>::<code>usage</code>, specifying
usage behavior of a buffer, are:</p>
</div>
<div id="VkBufferUsageFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkBufferUsageFlagBits {
    VK_BUFFER_USAGE_TRANSFER_SRC_BIT = <span class="hex">0x00000001</span>,
    VK_BUFFER_USAGE_TRANSFER_DST_BIT = <span class="hex">0x00000002</span>,
    VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT = <span class="hex">0x00000004</span>,
    VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT = <span class="hex">0x00000008</span>,
    VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT = <span class="hex">0x00000010</span>,
    VK_BUFFER_USAGE_STORAGE_BUFFER_BIT = <span class="hex">0x00000020</span>,
    VK_BUFFER_USAGE_INDEX_BUFFER_BIT = <span class="hex">0x00000040</span>,
    VK_BUFFER_USAGE_VERTEX_BUFFER_BIT = <span class="hex">0x00000080</span>,
    VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT = <span class="hex">0x00000100</span>,
    VK_BUFFER_USAGE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkBufferUsageFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> specifies that the buffer <strong class="purple">can</strong> be
used as the source of a <em>transfer command</em> (see the definition of
<a href="#synchronization-pipeline-stages-transfer"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></a>).</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> specifies that the buffer <strong class="purple">can</strong> be
used as the destination of a transfer command.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> specifies that the buffer
<strong class="purple">can</strong> be used to create a <code>VkBufferView</code> suitable for occupying a
<code>VkDescriptorSet</code> slot of type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> specifies that the buffer
<strong class="purple">can</strong> be used to create a <code>VkBufferView</code> suitable for occupying a
<code>VkDescriptorSet</code> slot of type
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code> specifies that the buffer <strong class="purple">can</strong>
be used in a <code>VkDescriptorBufferInfo</code> suitable for occupying a
<code>VkDescriptorSet</code> slot either of type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> specifies that the buffer <strong class="purple">can</strong>
be used in a <code>VkDescriptorBufferInfo</code> suitable for occupying a
<code>VkDescriptorSet</code> slot either of type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_INDEX_BUFFER_BIT</code> specifies that the buffer is
suitable for passing as the <code>buffer</code> parameter to
<code>vkCmdBindIndexBuffer</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_VERTEX_BUFFER_BIT</code> specifies that the buffer is
suitable for passing as an element of the <code>pBuffers</code> array to
<code>vkCmdBindVertexBuffers</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> specifies that the buffer is
suitable for passing as the <code>buffer</code> parameter to
<code>vkCmdDrawIndirect</code>, <code>vkCmdDrawIndexedIndirect</code>,
or <code>vkCmdDispatchIndirect</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkBufferUsageFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkBufferUsageFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkBufferUsageFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkBufferCreateInfo">VkBufferCreateInfo</a>::<code>flags</code>, specifying
additional parameters of a buffer, are:</p>
</div>
<div id="VkBufferCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkBufferCreateFlagBits {
    VK_BUFFER_CREATE_SPARSE_BINDING_BIT = <span class="hex">0x00000001</span>,
    VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT = <span class="hex">0x00000002</span>,
    VK_BUFFER_CREATE_SPARSE_ALIASED_BIT = <span class="hex">0x00000004</span>,
    VK_BUFFER_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkBufferCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> specifies that the buffer will
be backed using sparse memory binding.</p>
</li>
<li>
<p><code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> specifies that the buffer
<strong class="purple">can</strong> be partially backed using sparse memory binding.
Buffers created with this flag <strong class="purple">must</strong> also be created with the
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> flag.</p>
</li>
<li>
<p><code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> specifies that the buffer will
be backed using sparse memory binding with memory ranges that might also
simultaneously be backing another buffer (or another portion of the same
buffer).
Buffers created with this flag <strong class="purple">must</strong> also be created with the
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> flag.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="#sparsememory-sparseresourcefeatures">Sparse Resource Features</a> and
<a href="#features">Physical Device Features</a> for details of the sparse memory
features supported on a device.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkBufferCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkBufferCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkBufferCreateFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a buffer, call:</p>
</div>
<div id="vkDestroyBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyBuffer(
    VkDevice                                    device,
    VkBuffer                                    buffer,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the buffer.</p>
</li>
<li>
<p><code>buffer</code> is the buffer to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyBuffer-buffer-00922" href="#VUID-vkDestroyBuffer-buffer-00922"></a>
All submitted commands that refer to <code>buffer</code>, either directly or
via a <code>VkBufferView</code>, <strong class="purple">must</strong> have completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyBuffer-buffer-00923" href="#VUID-vkDestroyBuffer-buffer-00923"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>buffer</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyBuffer-buffer-00924" href="#VUID-vkDestroyBuffer-buffer-00924"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>buffer</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyBuffer-device-parameter" href="#VUID-vkDestroyBuffer-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyBuffer-buffer-parameter" href="#VUID-vkDestroyBuffer-buffer-parameter"></a> If <code>buffer</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyBuffer-pAllocator-parameter" href="#VUID-vkDestroyBuffer-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyBuffer-buffer-parent" href="#VUID-vkDestroyBuffer-buffer-parent"></a> If <code>buffer</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>buffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-buffer-views"><a class="anchor" href="#resources-buffer-views"></a>11.2. Buffer Views</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A <em>buffer view</em> represents a contiguous range of a buffer and a specific
format to be used to interpret the data.
Buffer views are used to enable shaders to access buffer contents
interpreted as formatted data.
In order to create a valid buffer view, the buffer <strong class="purple">must</strong> have been created
with at least one of the following usage flags:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Buffer views are represented by <code>VkBufferView</code> handles:</p>
</div>
<div id="VkBufferView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkBufferView)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a buffer view, call:</p>
</div>
<div id="vkCreateBufferView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateBufferView(
    VkDevice                                    device,
    <span class="directive">const</span> VkBufferViewCreateInfo*               pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkBufferView*                               pView);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the buffer view.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkBufferViewCreateInfo</code>
structure containing parameters to be used to create the buffer.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pView</code> is a pointer to a <a href="#VkBufferView">VkBufferView</a> handle in which the
resulting buffer view object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateBufferView-device-parameter" href="#VUID-vkCreateBufferView-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateBufferView-pCreateInfo-parameter" href="#VUID-vkCreateBufferView-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkBufferViewCreateInfo">VkBufferViewCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateBufferView-pAllocator-parameter" href="#VUID-vkCreateBufferView-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateBufferView-pView-parameter" href="#VUID-vkCreateBufferView-pView-parameter"></a> <code>pView</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkBufferView">VkBufferView</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBufferViewCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkBufferViewCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkBufferViewCreateInfo {
    VkStructureType            sType;
    <span class="directive">const</span> <span class="directive">void</span>*                pNext;
    VkBufferViewCreateFlags    flags;
    VkBuffer                   buffer;
    VkFormat                   format;
    VkDeviceSize               offset;
    VkDeviceSize               range;
} VkBufferViewCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>buffer</code> is a <a href="#VkBuffer">VkBuffer</a> on which the view will be created.</p>
</li>
<li>
<p><code>format</code> is a <a href="#VkFormat">VkFormat</a> describing the format of the data
elements in the buffer.</p>
</li>
<li>
<p><code>offset</code> is an offset in bytes from the base address of the buffer.
Accesses to the buffer view from shaders use addressing that is relative
to this starting offset.</p>
</li>
<li>
<p><code>range</code> is a size in bytes of the buffer view.
If <code>range</code> is equal to <code>VK_WHOLE_SIZE</code>, the range from
<code>offset</code> to the end of the buffer is used.
If <code>VK_WHOLE_SIZE</code> is used and the remaining size of the buffer is
not a multiple of the <a href="#texel-block-size">texel block size</a> of
<code>format</code>, the nearest smaller multiple is used.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-offset-00925" href="#VUID-VkBufferViewCreateInfo-offset-00925"></a>
<code>offset</code> <strong class="purple">must</strong> be less than the size of <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-offset-00926" href="#VUID-VkBufferViewCreateInfo-offset-00926"></a>
<code>offset</code> <strong class="purple">must</strong> be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minTexelBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-range-00928" href="#VUID-VkBufferViewCreateInfo-range-00928"></a>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <strong class="purple">must</strong> be
greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-range-00929" href="#VUID-VkBufferViewCreateInfo-range-00929"></a>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <strong class="purple">must</strong> be
an integer multiple of the texel block size of <code>format</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-range-00930" href="#VUID-VkBufferViewCreateInfo-range-00930"></a>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> divided
by the texel block size of <code>format</code>, multiplied by the number of
texels per texel block for that format (as defined in the
<a href="#formats-compatibility">Compatible Formats</a> table), <strong class="purple">must</strong> be less than
or equal to <code>VkPhysicalDeviceLimits</code>::<code>maxTexelBufferElements</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-offset-00931" href="#VUID-VkBufferViewCreateInfo-offset-00931"></a>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, the sum of
<code>offset</code> and <code>range</code> <strong class="purple">must</strong> be less than or equal to the size of
<code>buffer</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-buffer-00932" href="#VUID-VkBufferViewCreateInfo-buffer-00932"></a>
<code>buffer</code> <strong class="purple">must</strong> have been created with a <code>usage</code> value containing
at least one of <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> or
<code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-buffer-00933" href="#VUID-VkBufferViewCreateInfo-buffer-00933"></a>
If <code>buffer</code> was created with <code>usage</code> containing
<code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code>, <code>format</code> <strong class="purple">must</strong> be
supported for uniform texel buffers, as specified by the
<code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code> flag in
<code>VkFormatProperties</code>::<code>bufferFeatures</code> returned by
<code>vkGetPhysicalDeviceFormatProperties</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-buffer-00934" href="#VUID-VkBufferViewCreateInfo-buffer-00934"></a>
If <code>buffer</code> was created with <code>usage</code> containing
<code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>, <code>format</code> <strong class="purple">must</strong> be
supported for storage texel buffers, as specified by the
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code> flag in
<code>VkFormatProperties</code>::<code>bufferFeatures</code> returned by
<code>vkGetPhysicalDeviceFormatProperties</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-buffer-00935" href="#VUID-VkBufferViewCreateInfo-buffer-00935"></a>
If <code>buffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-sType-sType" href="#VUID-VkBufferViewCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_BUFFER_VIEW_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-pNext-pNext" href="#VUID-VkBufferViewCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-flags-zerobitmask" href="#VUID-VkBufferViewCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-buffer-parameter" href="#VUID-VkBufferViewCreateInfo-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-format-parameter" href="#VUID-VkBufferViewCreateInfo-format-parameter"></a> <code>format</code> <strong class="purple">must</strong> be a valid <a href="#VkFormat">VkFormat</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkBufferViewCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkBufferViewCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkBufferViewCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a buffer view, call:</p>
</div>
<div id="vkDestroyBufferView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyBufferView(
    VkDevice                                    device,
    VkBufferView                                bufferView,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the buffer view.</p>
</li>
<li>
<p><code>bufferView</code> is the buffer view to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyBufferView-bufferView-00936" href="#VUID-vkDestroyBufferView-bufferView-00936"></a>
All submitted commands that refer to <code>bufferView</code> <strong class="purple">must</strong> have
completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyBufferView-bufferView-00937" href="#VUID-vkDestroyBufferView-bufferView-00937"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>bufferView</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyBufferView-bufferView-00938" href="#VUID-vkDestroyBufferView-bufferView-00938"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>bufferView</code>
was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyBufferView-device-parameter" href="#VUID-vkDestroyBufferView-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyBufferView-bufferView-parameter" href="#VUID-vkDestroyBufferView-bufferView-parameter"></a> If <code>bufferView</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>bufferView</code> <strong class="purple">must</strong> be a valid <a href="#VkBufferView">VkBufferView</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyBufferView-pAllocator-parameter" href="#VUID-vkDestroyBufferView-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyBufferView-bufferView-parent" href="#VUID-vkDestroyBufferView-bufferView-parent"></a> If <code>bufferView</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>bufferView</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-images"><a class="anchor" href="#resources-images"></a>11.3. Images</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Images represent multidimensional - up to 3 - arrays of data which <strong class="purple">can</strong> be
used for various purposes (e.g. attachments, textures), by binding them to a
graphics or compute pipeline via descriptor sets, or by directly specifying
them as parameters to certain commands.</p>
</div>
<div class="paragraph">
<p>Images are represented by <code>VkImage</code> handles:</p>
</div>
<div id="VkImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkImage)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create images, call:</p>
</div>
<div id="vkCreateImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateImage(
    VkDevice                                    device,
    <span class="directive">const</span> VkImageCreateInfo*                    pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkImage*                                    pImage);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the image.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkImageCreateInfo</code> structure
containing parameters to be used to create the image.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pImage</code> is a pointer to a <a href="#VkImage">VkImage</a> handle in which the
resulting image object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateImage-flags-00939" href="#VUID-vkCreateImage-flags-00939"></a>
If the <code>flags</code> member of <code>pCreateInfo</code> includes
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>, creating this <code>VkImage</code>
<strong class="purple">must</strong> not cause the total required sparse memory for all currently valid
sparse resources on the device to exceed
<code>VkPhysicalDeviceLimits</code>::<code>sparseAddressSpaceSize</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateImage-device-parameter" href="#VUID-vkCreateImage-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateImage-pCreateInfo-parameter" href="#VUID-vkCreateImage-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkImageCreateInfo">VkImageCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImage-pAllocator-parameter" href="#VUID-vkCreateImage-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImage-pImage-parameter" href="#VUID-vkCreateImage-pImage-parameter"></a> <code>pImage</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkImage">VkImage</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkImageCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageCreateInfo {
    VkStructureType          sType;
    <span class="directive">const</span> <span class="directive">void</span>*              pNext;
    VkImageCreateFlags       flags;
    VkImageType              imageType;
    VkFormat                 format;
    VkExtent3D               extent;
    uint32_t                 mipLevels;
    uint32_t                 arrayLayers;
    VkSampleCountFlagBits    samples;
    VkImageTiling            tiling;
    VkImageUsageFlags        usage;
    VkSharingMode            sharingMode;
    uint32_t                 queueFamilyIndexCount;
    <span class="directive">const</span> uint32_t*          pQueueFamilyIndices;
    VkImageLayout            initialLayout;
} VkImageCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a> describing
additional parameters of the image.</p>
</li>
<li>
<p><code>imageType</code> is a <a href="#VkImageType">VkImageType</a> value specifying the basic
dimensionality of the image.
Layers in array textures do not count as a dimension for the purposes of
the image type.</p>
</li>
<li>
<p><code>format</code> is a <a href="#VkFormat">VkFormat</a> describing the format and type of the
texel blocks that will be contained in the image.</p>
</li>
<li>
<p><code>extent</code> is a <a href="#VkExtent3D">VkExtent3D</a> describing the number of data
elements in each dimension of the base level.</p>
</li>
<li>
<p><code>mipLevels</code> describes the number of levels of detail available for
minified sampling of the image.</p>
</li>
<li>
<p><code>arrayLayers</code> is the number of layers in the image.</p>
</li>
<li>
<p><code>samples</code> is a <a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> specifying the number of
<a href="#primsrast-multisampling">samples per texel</a>.</p>
</li>
<li>
<p><code>tiling</code> is a <a href="#VkImageTiling">VkImageTiling</a> value specifying the tiling
arrangement of the texel blocks in memory.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a> describing the
intended usage of the image.</p>
</li>
<li>
<p><code>sharingMode</code> is a <a href="#VkSharingMode">VkSharingMode</a> value specifying the sharing
mode of the image when it will be accessed by multiple queue families.</p>
</li>
<li>
<p><code>queueFamilyIndexCount</code> is the number of entries in the
<code>pQueueFamilyIndices</code> array.</p>
</li>
<li>
<p><code>pQueueFamilyIndices</code> is a list of queue families that will access
this image (ignored if <code>sharingMode</code> is not
<code>VK_SHARING_MODE_CONCURRENT</code>).</p>
</li>
<li>
<p><code>initialLayout</code> is a <a href="#VkImageLayout">VkImageLayout</a> value specifying the
initial <a href="#VkImageLayout">VkImageLayout</a> of all image subresources of the image.
See <a href="#resources-image-layouts">Image Layouts</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Images created with <code>tiling</code> equal to <code>VK_IMAGE_TILING_LINEAR</code> have
further restrictions on their limits and capabilities compared to images
created with <code>tiling</code> equal to <code>VK_IMAGE_TILING_OPTIMAL</code>.
Creation of images with tiling <code>VK_IMAGE_TILING_LINEAR</code> <strong class="purple">may</strong> not be
supported unless other parameters meet all of the constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>imageType</code> is <code>VK_IMAGE_TYPE_2D</code></p>
</li>
<li>
<p><code>format</code> is not a depth/stencil format</p>
</li>
<li>
<p><code>mipLevels</code> is 1</p>
</li>
<li>
<p><code>arrayLayers</code> is 1</p>
</li>
<li>
<p><code>samples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><code>usage</code> only includes <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> and/or
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Implementations <strong class="purple">may</strong> support additional limits and capabilities beyond those
listed above.</p>
</div>
<div class="paragraph">
<p>To determine the set of valid <code>usage</code> bits for a given format, call
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a>.</p>
</div>
<div class="paragraph">
<p>If the size of the resultant image would exceed <code>maxResourceSize</code>, then
<code>vkCreateImage</code> <strong class="purple">must</strong> fail and return
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>.
This failure <strong class="purple">may</strong> occur even when all image creation parameters satisfy
their valid usage requirements.</p>
</div>
<div id="resources-image-creation-limits" class="sidebarblock">
<div class="content">
<div class="title">Image Creation Limits</div>
<div class="paragraph">
<p>Valid values for some image creation parameters are limited by a numerical
upper bound or by inclusion in a bitset.
For example, <code>VkImageCreateInfo</code>::<code>arrayLayers</code> is limited by
<code>imageCreateMaxArrayLayers</code>, defined below; and
<code>VkImageCreateInfo</code>::<code>samples</code> is limited by
<code>imageCreateSampleCounts</code>, also defined below.</p>
</div>
<div class="paragraph">
<p>Several limiting values are defined below, as well as assisting values from
which the limiting values are derived.
The limiting values are referenced by the relevant valid usage statements of
<code>VkImageCreateInfo</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Let <code>VkBool32 imageCreateMaybeLinear</code> indicate if the resultant image
may be <a href="#glossary-linear-resource">linear</a>.
(The definition below is trivial because certain extensions are disabled
in this build of the specification).</p>
<div class="ulist">
<ul>
<li>
<p>If <code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code>, then
<code>imageCreateMaybeLinear</code> is <code>true</code>.</p>
</li>
<li>
<p>If <code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code>, then
<code>imageCreateMaybeLinear</code> is <code>false</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Let <code>VkFormatFeatureFlags imageCreateFormatFeatures</code> be the set of
format features available during image creation.</p>
<div class="ulist">
<ul>
<li>
<p>If <code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code>, then
<code>imageCreateFormatFeatures</code> is the value of
<a href="#VkImageFormatProperties">VkImageFormatProperties</a>::<code>linearTilingFeatures</code> found by
calling <a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> with parameter
<code>format</code> equal to <code>VkImageCreateInfo</code>::<code>format</code>.</p>
</li>
<li>
<p>If <code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code>,
then <code>imageCreateFormatFeatures</code> is value of
<a href="#VkImageFormatProperties">VkImageFormatProperties</a>::<code>optimalTilingFeatures</code> found by
calling <a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> with parameter
<code>format</code> equal to <code>VkImageCreateInfo</code>::<code>format</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Let <code>uint32_t imageCreateMaxMipLevels</code> be
the value of <a href="#VkImageFormatProperties">VkImageFormatProperties</a>::<code>maxMipLevels</code> found by
calling <a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a> with parameters
<code>format</code>, <code>imageType</code>, <code>tiling</code>, <code>usage</code>, and
<code>flags</code> equal to those in <code>VkImageCreateInfo</code>.
If <code>vkGetPhysicalDeviceFormatProperties</code> returns an error, then
<code>imageCreateMaxMipLevels</code> is undefined.</p>
</li>
<li>
<p>Let <code>uint32_t imageCreateMaxArrayLayers</code> be
defined analogously to <code>imageCreateMaxMipLevels</code>.</p>
</li>
<li>
<p>Let <code>VkExtent3D imageCreateMaxExtent</code> be
defined analogously to <code>imageCreateMaxMipLevels</code>.</p>
</li>
<li>
<p>Let <code>VkSampleCountFlags imageCreateSampleCounts</code> be
defined analogously to <code>imageCreateMaxMipLevels</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageCreateInfo-imageCreateMaxMipLevels-02251" href="#VUID-VkImageCreateInfo-imageCreateMaxMipLevels-02251"></a>
Each of the following values (as described in
<a href="#resources-image-creation-limits">Image Creation Limits</a>) <strong class="purple">must</strong> not be
undefined <code>imageCreateMaxMipLevels</code>,
<code>imageCreateMaxArrayLayers</code>, <code>imageCreateMaxExtent</code>, and
<code>imageCreateSampleCounts</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-sharingMode-00941" href="#VUID-VkImageCreateInfo-sharingMode-00941"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>pQueueFamilyIndices</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>queueFamilyIndexCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-sharingMode-00942" href="#VUID-VkImageCreateInfo-sharingMode-00942"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>queueFamilyIndexCount</code> <strong class="purple">must</strong> be greater than <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-sharingMode-01392" href="#VUID-VkImageCreateInfo-sharingMode-01392"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>, each element
of <code>pQueueFamilyIndices</code> <strong class="purple">must</strong> be unique and <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<a href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a> for the
<code>physicalDevice</code> that was used to create <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-format-00943" href="#VUID-VkImageCreateInfo-format-00943"></a>
<code>format</code> <strong class="purple">must</strong> not be <code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-00944" href="#VUID-VkImageCreateInfo-extent-00944"></a>
<code>extent.width</code> <strong class="purple">must</strong> be greater than <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-00945" href="#VUID-VkImageCreateInfo-extent-00945"></a>
<code>extent.height</code> <strong class="purple">must</strong> be greater than <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-00946" href="#VUID-VkImageCreateInfo-extent-00946"></a>
<code>extent.depth</code> <strong class="purple">must</strong> be greater than <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-mipLevels-00947" href="#VUID-VkImageCreateInfo-mipLevels-00947"></a>
<code>mipLevels</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-arrayLayers-00948" href="#VUID-VkImageCreateInfo-arrayLayers-00948"></a>
<code>arrayLayers</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-flags-00949" href="#VUID-VkImageCreateInfo-flags-00949"></a>
If <code>flags</code> contains <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>,
<code>imageType</code> <strong class="purple">must</strong> be <code>VK_IMAGE_TYPE_2D</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-02252" href="#VUID-VkImageCreateInfo-extent-02252"></a>
<code>extent.width</code> <strong class="purple">must</strong> be less than or equal to
<code>imageCreateMaxExtent.width</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-02253" href="#VUID-VkImageCreateInfo-extent-02253"></a>
<code>extent.height</code> <strong class="purple">must</strong> be less than or equal to
<code>imageCreateMaxExtent.height</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-02254" href="#VUID-VkImageCreateInfo-extent-02254"></a>
<code>extent.depth</code> <strong class="purple">must</strong> be less than or equal to
<code>imageCreateMaxExtent.depth</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00954" href="#VUID-VkImageCreateInfo-imageType-00954"></a>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_2D</code> and <code>flags</code> contains
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <code>extent.width</code> and
<code>extent.height</code> <strong class="purple">must</strong> be equal and <code>arrayLayers</code> <strong class="purple">must</strong> be
greater than or equal to 6</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00956" href="#VUID-VkImageCreateInfo-imageType-00956"></a>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_1D</code>, both <code>extent.height</code>
and <code>extent.depth</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00957" href="#VUID-VkImageCreateInfo-imageType-00957"></a>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_2D</code>, <code>extent.depth</code> <strong class="purple">must</strong>
be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-mipLevels-00958" href="#VUID-VkImageCreateInfo-mipLevels-00958"></a>
<code>mipLevels</code> <strong class="purple">must</strong> be less than or equal to the number of levels in
the complete mipmap chain based on <span class="eq"><code>extent.width</code></span>,
<span class="eq"><code>extent.height</code></span>, and <span class="eq"><code>extent.depth</code></span>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-mipLevels-02255" href="#VUID-VkImageCreateInfo-mipLevels-02255"></a>
<code>mipLevels</code> <strong class="purple">must</strong> be less than or equal to
<code>imageCreateMaxMipLevels</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-arrayLayers-02256" href="#VUID-VkImageCreateInfo-arrayLayers-02256"></a>
<code>arrayLayers</code> <strong class="purple">must</strong> be less than or equal to
<code>imageCreateMaxArrayLayers</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00961" href="#VUID-VkImageCreateInfo-imageType-00961"></a>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_3D</code>, <code>arrayLayers</code> <strong class="purple">must</strong> be
<code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-samples-02257" href="#VUID-VkImageCreateInfo-samples-02257"></a>
If <code>samples</code> is not <code>VK_SAMPLE_COUNT_1_BIT</code>, then
<code>imageType</code> <strong class="purple">must</strong> be <code>VK_IMAGE_TYPE_2D</code>, <code>flags</code> <strong class="purple">must</strong> not
contain <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <code>mipLevels</code> <strong class="purple">must</strong>
be equal to <code>1</code>, and <code>imageCreateMaybeLinear</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>) <strong class="purple">must</strong> be
<code>false</code>,</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-00963" href="#VUID-VkImageCreateInfo-usage-00963"></a>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>,
then bits other than <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> <strong class="purple">must</strong> not be set</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-00964" href="#VUID-VkImageCreateInfo-usage-00964"></a>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>, or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>, <code>extent.width</code> <strong class="purple">must</strong> be
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferWidth</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-00965" href="#VUID-VkImageCreateInfo-usage-00965"></a>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>, or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>, <code>extent.height</code> <strong class="purple">must</strong> be
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferHeight</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-00966" href="#VUID-VkImageCreateInfo-usage-00966"></a>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>,
<code>usage</code> <strong class="purple">must</strong> also contain at least one of
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-samples-02258" href="#VUID-VkImageCreateInfo-samples-02258"></a>
<code>samples</code> <strong class="purple">must</strong> be a bit value that is set in
<code>imageCreateSampleCounts</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-00968" href="#VUID-VkImageCreateInfo-usage-00968"></a>
If the <a href="#features-shaderStorageImageMultisample">multisampled storage
images</a> feature is not enabled, and <code>usage</code> contains
<code>VK_IMAGE_USAGE_STORAGE_BIT</code>, <code>samples</code> <strong class="purple">must</strong> be
<code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-flags-00969" href="#VUID-VkImageCreateInfo-flags-00969"></a>
If the <a href="#features-sparseBinding">sparse bindings</a> feature is not
enabled, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-flags-01924" href="#VUID-VkImageCreateInfo-flags-01924"></a>
If the <a href="#features-sparseResidencyAliased">sparse aliased residency</a>
feature is not enabled, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00970" href="#VUID-VkImageCreateInfo-imageType-00970"></a>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_1D</code>, <code>flags</code> <strong class="purple">must</strong> not
contain <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00971" href="#VUID-VkImageCreateInfo-imageType-00971"></a>
If the <a href="#features-sparseResidencyImage2D">sparse residency for 2D
images</a> feature is not enabled, and <code>imageType</code> is
<code>VK_IMAGE_TYPE_2D</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00972" href="#VUID-VkImageCreateInfo-imageType-00972"></a>
If the <a href="#features-sparseResidencyImage3D">sparse residency for 3D
images</a> feature is not enabled, and <code>imageType</code> is
<code>VK_IMAGE_TYPE_3D</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00973" href="#VUID-VkImageCreateInfo-imageType-00973"></a>
If the <a href="#features-sparseResidency2Samples">sparse residency for images
with 2 samples</a> feature is not enabled, <code>imageType</code> is
<code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
<code>VK_SAMPLE_COUNT_2_BIT</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00974" href="#VUID-VkImageCreateInfo-imageType-00974"></a>
If the <a href="#features-sparseResidency4Samples">sparse residency for images
with 4 samples</a> feature is not enabled, <code>imageType</code> is
<code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
<code>VK_SAMPLE_COUNT_4_BIT</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00975" href="#VUID-VkImageCreateInfo-imageType-00975"></a>
If the <a href="#features-sparseResidency8Samples">sparse residency for images
with 8 samples</a> feature is not enabled, <code>imageType</code> is
<code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
<code>VK_SAMPLE_COUNT_8_BIT</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00976" href="#VUID-VkImageCreateInfo-imageType-00976"></a>
If the <a href="#features-sparseResidency16Samples">sparse residency for images
with 16 samples</a> feature is not enabled, <code>imageType</code> is
<code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
<code>VK_SAMPLE_COUNT_16_BIT</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-flags-00987" href="#VUID-VkImageCreateInfo-flags-00987"></a>
If <code>flags</code> contains <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> or
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code>, it <strong class="purple">must</strong> also contain
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-None-01925" href="#VUID-VkImageCreateInfo-None-01925"></a>
If any of the bits <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>,
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>, or
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> are set,
<code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> <strong class="purple">must</strong> not also be set</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-initialLayout-00993" href="#VUID-VkImageCreateInfo-initialLayout-00993"></a>
<code>initialLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageCreateInfo-sType-sType" href="#VUID-VkImageCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-pNext-pNext" href="#VUID-VkImageCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-flags-parameter" href="#VUID-VkImageCreateInfo-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-parameter" href="#VUID-VkImageCreateInfo-imageType-parameter"></a> <code>imageType</code> <strong class="purple">must</strong> be a valid <a href="#VkImageType">VkImageType</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-format-parameter" href="#VUID-VkImageCreateInfo-format-parameter"></a> <code>format</code> <strong class="purple">must</strong> be a valid <a href="#VkFormat">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-samples-parameter" href="#VUID-VkImageCreateInfo-samples-parameter"></a> <code>samples</code> <strong class="purple">must</strong> be a valid <a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-tiling-parameter" href="#VUID-VkImageCreateInfo-tiling-parameter"></a> <code>tiling</code> <strong class="purple">must</strong> be a valid <a href="#VkImageTiling">VkImageTiling</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-parameter" href="#VUID-VkImageCreateInfo-usage-parameter"></a> <code>usage</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-requiredbitmask" href="#VUID-VkImageCreateInfo-usage-requiredbitmask"></a> <code>usage</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-sharingMode-parameter" href="#VUID-VkImageCreateInfo-sharingMode-parameter"></a> <code>sharingMode</code> <strong class="purple">must</strong> be a valid <a href="#VkSharingMode">VkSharingMode</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-initialLayout-parameter" href="#VUID-VkImageCreateInfo-initialLayout-parameter"></a> <code>initialLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>usage</code>, specifying
intended usage of an image, are:</p>
</div>
<div id="VkImageUsageFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageUsageFlagBits {
    VK_IMAGE_USAGE_TRANSFER_SRC_BIT = <span class="hex">0x00000001</span>,
    VK_IMAGE_USAGE_TRANSFER_DST_BIT = <span class="hex">0x00000002</span>,
    VK_IMAGE_USAGE_SAMPLED_BIT = <span class="hex">0x00000004</span>,
    VK_IMAGE_USAGE_STORAGE_BIT = <span class="hex">0x00000008</span>,
    VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT = <span class="hex">0x00000010</span>,
    VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT = <span class="hex">0x00000020</span>,
    VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT = <span class="hex">0x00000040</span>,
    VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT = <span class="hex">0x00000080</span>,
    VK_IMAGE_USAGE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageUsageFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> specifies that the image <strong class="purple">can</strong> be
used as the source of a transfer command.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> specifies that the image <strong class="purple">can</strong> be
used as the destination of a transfer command.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_SAMPLED_BIT</code> specifies that the image <strong class="purple">can</strong> be used
to create a <code>VkImageView</code> suitable for occupying a
<code>VkDescriptorSet</code> slot either of type
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and be sampled by a
shader.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_STORAGE_BIT</code> specifies that the image <strong class="purple">can</strong> be used
to create a <code>VkImageView</code> suitable for occupying a
<code>VkDescriptorSet</code> slot of type
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> specifies that the image <strong class="purple">can</strong>
be used to create a <code>VkImageView</code> suitable for use as a color or
resolve attachment in a <code>VkFramebuffer</code>.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> specifies that the
image <strong class="purple">can</strong> be used to create a <code>VkImageView</code> suitable for use as a
depth/stencil
attachment in a <code>VkFramebuffer</code>.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> specifies that the memory
bound to this image will have been allocated with the
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> (see <a href="#memory">Memory Allocation</a> for more
detail).
This bit <strong class="purple">can</strong> be set for any image that <strong class="purple">can</strong> be used to create a
<code>VkImageView</code> suitable for use as a color, resolve, depth/stencil,
or input attachment.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> specifies that the image <strong class="purple">can</strong>
be used to create a <code>VkImageView</code> suitable for occupying
<code>VkDescriptorSet</code> slot of type
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>; be read from a shader as an
input attachment; and be used as an input attachment in a framebuffer.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkImageUsageFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkImageUsageFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkImageUsageFlags</code> is a bitmask type for setting a mask of zero or more
<a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>flags</code>, specifying
additional parameters of an image, are:</p>
</div>
<div id="VkImageCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageCreateFlagBits {
    VK_IMAGE_CREATE_SPARSE_BINDING_BIT = <span class="hex">0x00000001</span>,
    VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT = <span class="hex">0x00000002</span>,
    VK_IMAGE_CREATE_SPARSE_ALIASED_BIT = <span class="hex">0x00000004</span>,
    VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT = <span class="hex">0x00000008</span>,
    VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT = <span class="hex">0x00000010</span>,
    VK_IMAGE_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> specifies that the image will
be backed using sparse memory binding.</p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> specifies that the image <strong class="purple">can</strong>
be partially backed using sparse memory binding.
Images created with this flag <strong class="purple">must</strong> also be created with the
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flag.</p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> specifies that the image will
be backed using sparse memory binding with memory ranges that might also
simultaneously be backing another image (or another portion of the same
image).
Images created with this flag <strong class="purple">must</strong> also be created with the
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flag</p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> specifies that the image <strong class="purple">can</strong>
be used to create a <code>VkImageView</code> with a different format from the
image.</p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> specifies that the image <strong class="purple">can</strong>
be used to create a <code>VkImageView</code> of type
<code>VK_IMAGE_VIEW_TYPE_CUBE</code> or <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="#sparsememory-sparseresourcefeatures">Sparse Resource Features</a> and
<a href="#sparsememory-physicalfeatures">Sparse Physical Device Features</a> for more
details.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkImageCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkImageCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkImageCreateFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>imageType</code>, specifying the
basic dimensionality of an image, are:</p>
</div>
<div id="VkImageType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageType {
    VK_IMAGE_TYPE_1D = <span class="integer">0</span>,
    VK_IMAGE_TYPE_2D = <span class="integer">1</span>,
    VK_IMAGE_TYPE_3D = <span class="integer">2</span>,
    VK_IMAGE_TYPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageType;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_TYPE_1D</code> specifies a one-dimensional image.</p>
</li>
<li>
<p><code>VK_IMAGE_TYPE_2D</code> specifies a two-dimensional image.</p>
</li>
<li>
<p><code>VK_IMAGE_TYPE_3D</code> specifies a three-dimensional image.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>tiling</code>, specifying the
tiling arrangement of texel blocks in an image, are:</p>
</div>
<div id="VkImageTiling" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageTiling {
    VK_IMAGE_TILING_OPTIMAL = <span class="integer">0</span>,
    VK_IMAGE_TILING_LINEAR = <span class="integer">1</span>,
    VK_IMAGE_TILING_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageTiling;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_TILING_OPTIMAL</code> specifies optimal tiling (texels are laid
out in an implementation-dependent arrangement, for more optimal memory
access).</p>
</li>
<li>
<p><code>VK_IMAGE_TILING_LINEAR</code> specifies linear tiling (texels are laid
out in memory in row-major order, possibly with some padding on each
row).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the memory layout of an image subresource, call:</p>
</div>
<div id="vkGetImageSubresourceLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetImageSubresourceLayout(
    VkDevice                                    device,
    VkImage                                     image,
    <span class="directive">const</span> VkImageSubresource*                   pSubresource,
    VkSubresourceLayout*                        pLayout);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the image.</p>
</li>
<li>
<p><code>image</code> is the image whose layout is being queried.</p>
</li>
<li>
<p><code>pSubresource</code> is a pointer to a <a href="#VkImageSubresource">VkImageSubresource</a> structure
selecting a specific image for the image subresource.</p>
</li>
<li>
<p><code>pLayout</code> is a pointer to a <a href="#VkSubresourceLayout">VkSubresourceLayout</a> structure in
which the layout is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The image <strong class="purple">must</strong> be <a href="#glossary-linear-resource">linear</a>.
The
returned layout is valid for <a href="#memory-device-hostaccess">host access</a>.</p>
</div>
<div class="paragraph">
<p><code>vkGetImageSubresourceLayout</code> is invariant for the lifetime of a single
image.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-image-00996" href="#VUID-vkGetImageSubresourceLayout-image-00996"></a>
<code>image</code> <strong class="purple">must</strong> have been created with <code>tiling</code> equal to
<code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-aspectMask-00997" href="#VUID-vkGetImageSubresourceLayout-aspectMask-00997"></a>
The <code>aspectMask</code> member of <code>pSubresource</code> <strong class="purple">must</strong> only have a
single bit set</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-mipLevel-01716" href="#VUID-vkGetImageSubresourceLayout-mipLevel-01716"></a>
The <code>mipLevel</code> member of <code>pSubresource</code> <strong class="purple">must</strong> be less than the
<code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-arrayLayer-01717" href="#VUID-vkGetImageSubresourceLayout-arrayLayer-01717"></a>
The <code>arrayLayer</code> member of <code>pSubresource</code> <strong class="purple">must</strong> be less than the
<code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-device-parameter" href="#VUID-vkGetImageSubresourceLayout-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-image-parameter" href="#VUID-vkGetImageSubresourceLayout-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-pSubresource-parameter" href="#VUID-vkGetImageSubresourceLayout-pSubresource-parameter"></a> <code>pSubresource</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkImageSubresource">VkImageSubresource</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-pLayout-parameter" href="#VUID-vkGetImageSubresourceLayout-pLayout-parameter"></a> <code>pLayout</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkSubresourceLayout">VkSubresourceLayout</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-image-parent" href="#VUID-vkGetImageSubresourceLayout-image-parent"></a> <code>image</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageSubresource</code> structure is defined as:</p>
</div>
<div id="VkImageSubresource" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageSubresource {
    VkImageAspectFlags    aspectMask;
    uint32_t              mipLevel;
    uint32_t              arrayLayer;
} VkImageSubresource;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>aspectMask</code> is a <a href="#VkImageAspectFlags">VkImageAspectFlags</a> selecting the image
<em>aspect</em>.</p>
</li>
<li>
<p><code>mipLevel</code> selects the mipmap level.</p>
</li>
<li>
<p><code>arrayLayer</code> selects the array layer.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageSubresource-aspectMask-parameter" href="#VUID-VkImageSubresource-aspectMask-parameter"></a> <code>aspectMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkImageSubresource-aspectMask-requiredbitmask" href="#VUID-VkImageSubresource-aspectMask-requiredbitmask"></a> <code>aspectMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about the layout of the image subresource is returned in a
<code>VkSubresourceLayout</code> structure:</p>
</div>
<div id="VkSubresourceLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSubresourceLayout {
    VkDeviceSize    offset;
    VkDeviceSize    size;
    VkDeviceSize    rowPitch;
    VkDeviceSize    arrayPitch;
    VkDeviceSize    depthPitch;
} VkSubresourceLayout;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>offset</code> is the byte offset from the start of the image
where the image subresource begins.</p>
</li>
<li>
<p><code>size</code> is the size in bytes of the image subresource.
<code>size</code> includes any extra memory that is required based on
<code>rowPitch</code>.</p>
</li>
<li>
<p><code>rowPitch</code> describes the number of bytes between each row of texels
in an image.</p>
</li>
<li>
<p><code>arrayPitch</code> describes the number of bytes between each array layer
of an image.</p>
</li>
<li>
<p><code>depthPitch</code> describes the number of bytes between each slice of 3D
image.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the image is <a href="#glossary-linear-resource">linear</a>, then <code>rowPitch</code>,
<code>arrayPitch</code> and <code>depthPitch</code> describe the layout of the image
subresource in linear memory.
For uncompressed formats, <code>rowPitch</code> is the number of bytes between
texels with the same x coordinate in adjacent rows (y coordinates differ by
one).
<code>arrayPitch</code> is the number of bytes between texels with the same x and y
coordinate in adjacent array layers of the image (array layer values differ
by one).
<code>depthPitch</code> is the number of bytes between texels with the same x and y
coordinate in adjacent slices of a 3D image (z coordinates differ by one).
Expressed as an addressing formula, the starting byte of a texel in the
image subresource has address:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c"><span class="comment">// (x,y,z,layer) are in texel coordinates</span>
address(x,y,z,layer) = layer*arrayPitch + z*depthPitch + y*rowPitch + x*elementSize + offset</code></pre>
</div>
</div>
<div class="paragraph">
<p>For compressed formats, the <code>rowPitch</code> is the number of bytes between
compressed texel blocks in adjacent rows.
<code>arrayPitch</code> is the number of bytes between compressed texel blocks in
adjacent array layers.
<code>depthPitch</code> is the number of bytes between compressed texel blocks in
adjacent slices of a 3D image.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c"><span class="comment">// (x,y,z,layer) are in compressed texel block coordinates</span>
address(x,y,z,layer) = layer*arrayPitch + z*depthPitch + y*rowPitch + x*compressedTexelBlockByteSize + offset;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The value of <code>arrayPitch</code> is undefined for images that were not created
as arrays.
<code>depthPitch</code> is defined only for 3D images.</p>
</div>
<div class="paragraph">
<p>If the image has a
color format
, then the <code>aspectMask</code> member of <code>VkImageSubresource</code> <strong class="purple">must</strong> be
<code>VK_IMAGE_ASPECT_COLOR_BIT</code>.</p>
</div>
<div class="paragraph">
<p>If the image has a depth/stencil format
, then <code>aspectMask</code> <strong class="purple">must</strong> be either <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code>.
On implementations that store depth and stencil aspects separately, querying
each of these image subresource layouts will return a different <code>offset</code>
and <code>size</code> representing the region of memory used for that aspect.
On implementations that store depth and stencil aspects interleaved, the
same <code>offset</code> and <code>size</code> are returned and represent the interleaved
memory allocation.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy an image, call:</p>
</div>
<div id="vkDestroyImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyImage(
    VkDevice                                    device,
    VkImage                                     image,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the image.</p>
</li>
<li>
<p><code>image</code> is the image to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyImage-image-01000" href="#VUID-vkDestroyImage-image-01000"></a>
All submitted commands that refer to <code>image</code>, either directly or via
a <code>VkImageView</code>, <strong class="purple">must</strong> have completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyImage-image-01001" href="#VUID-vkDestroyImage-image-01001"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>image</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyImage-image-01002" href="#VUID-vkDestroyImage-image-01002"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>image</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyImage-device-parameter" href="#VUID-vkDestroyImage-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyImage-image-parameter" href="#VUID-vkDestroyImage-image-parameter"></a> If <code>image</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>image</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyImage-pAllocator-parameter" href="#VUID-vkDestroyImage-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyImage-image-parent" href="#VUID-vkDestroyImage-image-parent"></a> If <code>image</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>image</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="resources-image-format-features"><a class="anchor" href="#resources-image-format-features"></a>11.3.1. Image Format Features</h4>
<div class="paragraph">
<p>Valid usage of a <a href="#VkImage">VkImage</a> <strong class="purple">may</strong> be constrained by the image&#8217;s format
features, defined below.
Such constraints are documented in the affected valid usage statement.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the image was created with <code>VK_IMAGE_TILING_LINEAR</code>, then its set
of <em>format features</em> is the value of
<a href="#VkFormatProperties">VkFormatProperties</a>::<code>linearTilingFeatures</code> found by calling
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> on the same <code>format</code> as
<a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p>If the image was created with <code>VK_IMAGE_TILING_OPTIMAL</code>,
then its set of <em>format features</em> is the value of
<a href="#VkFormatProperties">VkFormatProperties</a>::<code>optimalTilingFeatures</code> found by calling
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> on the same <code>format</code> as
<a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="resources-image-miplevel-sizing"><a class="anchor" href="#resources-image-miplevel-sizing"></a>11.3.2. Image Miplevel Sizing</h4>
<div class="paragraph">
<p>A <em>complete mipmap chain</em> is the full set of miplevels, from the largest
miplevel provided, down to the <em>minimum miplevel size</em>.</p>
</div>
<div class="sect4">
<h5 id="_conventional_images"><a class="anchor" href="#_conventional_images"></a>Conventional Images</h5>
<div class="paragraph">
<p>For conventional images, the dimensions of each successive miplevel,
<span class="eq">n+1</span>, are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><code>width</code><sub>n+1</sub> = max(<code>width</code><sub>n</sub>/2,
1)</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><code>height</code><sub>n+1</sub> = max(<code>height</code><sub>n</sub>/2,
1)</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><code>depth</code><sub>n+1</sub> = max(<code>depth</code><sub>n</sub>/2,
1)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq"><code>width</code><sub>n</sub></span>, <span class="eq"><code>height</code><sub>n</sub></span>, and <span class="eq"><code>depth</code><sub>n</sub></span>
are the dimensions of the next larger miplevel, <span class="eq">n</span>.</p>
</div>
<div class="paragraph">
<p>The minimum miplevel size is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>1 for one-dimensional images,</p>
</li>
<li>
<p>1x1 for two-dimensional images, and</p>
</li>
<li>
<p>1x1x1 for three-dimensional images.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The number of levels in a complete mipmap chain is:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">log<sub>2</sub>(max(<code>width</code><sub>0</sub>, <code>height</code><sub>0</sub>,
<code>depth</code><sub>0</sub>)) +  1</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq"><code>width</code><sub>0</sub></span>, <span class="eq"><code>height</code><sub>0</sub></span>, and <span class="eq"><code>depth</code><sub>0</sub></span>
are the dimensions of the largest (most detailed) miplevel, <code>0</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-image-layouts"><a class="anchor" href="#resources-image-layouts"></a>11.4. Image Layouts</h3>
<div class="paragraph">
<p>Images are stored in implementation-dependent opaque layouts in memory.
Each layout has limitations on what kinds of operations are supported for
image subresources using the layout.
At any given time, the data representing an image subresource in memory
exists in a particular layout which is determined by the most recent layout
transition that was performed on that image subresource.
Applications have control over which layout each image subresource uses, and
<strong class="purple">can</strong> transition an image subresource from one layout to another.
Transitions <strong class="purple">can</strong> happen with an image memory barrier, included as part of a
<code>vkCmdPipelineBarrier</code> or a <code>vkCmdWaitEvents</code> command buffer command
(see <a href="#synchronization-image-memory-barriers">Image Memory Barriers</a>), or as part of a subpass
dependency within a render pass (see <code>VkSubpassDependency</code>).
The image layout is per-image subresource, and separate image subresources
of the same image <strong class="purple">can</strong> be in different layouts at the same time with one
exception - depth and stencil aspects of a given image subresource <strong class="purple">must</strong>
always be in the same layout.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Each layout <strong class="purple">may</strong> offer optimal performance for a specific usage of image
memory.
For example, an image with a layout of
<code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code> <strong class="purple">may</strong> provide optimal
performance for use as a color attachment, but be unsupported for use in
transfer commands.
Applications <strong class="purple">can</strong> transition an image subresource from one layout to another
in order to achieve optimal performance when the image subresource is used
for multiple kinds of operations.
After initialization, applications need not use any layout other than the
general layout, though this <strong class="purple">may</strong> produce suboptimal performance on some
implementations.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Upon creation, all image subresources of an image are initially in the same
layout, where that layout is selected by the
<code>VkImageCreateInfo</code>::<code>initialLayout</code> member.
The <code>initialLayout</code> <strong class="purple">must</strong> be either <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>.
If it is <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>, then the image data <strong class="purple">can</strong> be
preinitialized by the host while using this layout, and the transition away
from this layout will preserve that data.
If it is <code>VK_IMAGE_LAYOUT_UNDEFINED</code>, then the contents of the data are
considered to be undefined, and the transition away from this layout is not
guaranteed to preserve that data.
For either of these initial layouts, any image subresources <strong class="purple">must</strong> be
transitioned to another layout before they are accessed by the device.</p>
</div>
<div class="paragraph">
<p>Host access to image memory is only well-defined for
<a href="#glossary-linear-resource">linear</a> images and for image subresources of
those images which are currently in either the
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> or <code>VK_IMAGE_LAYOUT_GENERAL</code>
layout.
Calling <a href="#vkGetImageSubresourceLayout">vkGetImageSubresourceLayout</a> for a linear image returns a
subresource layout mapping that is valid for either of those image layouts.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The set of image layouts consists of:</p>
</div>
<div id="VkImageLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageLayout {
    VK_IMAGE_LAYOUT_UNDEFINED = <span class="integer">0</span>,
    VK_IMAGE_LAYOUT_GENERAL = <span class="integer">1</span>,
    VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL = <span class="integer">2</span>,
    VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL = <span class="integer">3</span>,
    VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL = <span class="integer">4</span>,
    VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL = <span class="integer">5</span>,
    VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL = <span class="integer">6</span>,
    VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL = <span class="integer">7</span>,
    VK_IMAGE_LAYOUT_PREINITIALIZED = <span class="integer">8</span>,
    VK_IMAGE_LAYOUT_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageLayout;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The type(s) of device access supported by each layout are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_UNDEFINED</code> does not support device access.
This layout <strong class="purple">must</strong> only be used as the <code>initialLayout</code> member of
<code>VkImageCreateInfo</code> or <code>VkAttachmentDescription</code>, or as the
<code>oldLayout</code> in an image transition.
When transitioning out of this layout, the contents of the memory are
not guaranteed to be preserved.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> does not support device access.
This layout <strong class="purple">must</strong> only be used as the <code>initialLayout</code> member of
<code>VkImageCreateInfo</code> or <code>VkAttachmentDescription</code>, or as the
<code>oldLayout</code> in an image transition.
When transitioning out of this layout, the contents of the memory are
preserved.
This layout is intended to be used as the initial layout for an image
whose contents are written by the host, and hence the data <strong class="purple">can</strong> be
written to memory immediately, without first executing a layout
transition.
Currently, <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> is only useful with
<a href="#glossary-linear-resource">linear</a> images because there is not a
standard layout defined for <code>VK_IMAGE_TILING_OPTIMAL</code> images.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_GENERAL</code> supports all types of device access.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code> <strong class="purple">must</strong> only be used as a
color or resolve attachment in a <code>VkFramebuffer</code>.
This layout is valid only for image subresources of images created with
the <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> usage bit enabled.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code> specifies a
layout for both the depth and stencil aspects of a depth/stencil format
image allowing read and write access as a depth/stencil attachment.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> specifies a layout
for both the depth and stencil aspects of a depth/stencil format image
allowing read only access as a depth/stencil attachment or in shaders.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code> <strong class="purple">must</strong> only be used as a
read-only image in a shader (which <strong class="purple">can</strong> be read as a sampled image,
combined image/sampler and/or input attachment).
This layout is valid only for image subresources of images created with
the <code>VK_IMAGE_USAGE_SAMPLED_BIT</code> or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> usage bit enabled.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> <strong class="purple">must</strong> only be used as a
source image of a transfer command (see the definition of
<a href="#synchronization-pipeline-stages-transfer"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></a>).
This layout is valid only for image subresources of images created with
the <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage bit enabled.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> <strong class="purple">must</strong> only be used as a
destination image of a transfer command.
This layout is valid only for image subresources of images created with
the <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage bit enabled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The layout of each image subresource is not a state of the image subresource
itself, but is rather a property of how the data in memory is organized, and
thus for each mechanism of accessing an image in the API the application
<strong class="purple">must</strong> specify a parameter or structure member that indicates which image
layout the image subresource(s) are considered to be in when the image will
be accessed.
For transfer commands, this is a parameter to the command (see <a href="#clears">Clear Commands</a>
and <a href="#copies">Copy Commands</a>).
For use as a framebuffer attachment, this is a member in the substructures
of the <code>VkRenderPassCreateInfo</code> (see <a href="#renderpass">Render Pass</a>).
For use in a descriptor set, this is a member in the
<code>VkDescriptorImageInfo</code> structure (see <a href="#descriptorsets-updates">Descriptor Set Updates</a>).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="resources-image-layouts-matching-rule"><a class="anchor" href="#resources-image-layouts-matching-rule"></a>11.4.1. Image Layout Matching Rules</h4>
<div class="paragraph">
<p>At the time that any command buffer command accessing an image executes on
any queue, the layouts of the image subresources that are accessed <strong class="purple">must</strong> all
match exactly the layout specified via the API controlling those accesses</p>
</div>
<div class="paragraph">
<p>.</p>
</div>
<div class="paragraph">
<p>When performing a layout transition on an image subresource, the old layout
value <strong class="purple">must</strong> either equal the current layout of the image subresource (at the
time the transition executes), or else be <code>VK_IMAGE_LAYOUT_UNDEFINED</code>
(implying that the contents of the image subresource need not be preserved).
The new layout used in a transition <strong class="purple">must</strong> not be
<code>VK_IMAGE_LAYOUT_UNDEFINED</code> or <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-image-views"><a class="anchor" href="#resources-image-views"></a>11.5. Image Views</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Image objects are not directly accessed by pipeline shaders for reading or
writing image data.
Instead, <em>image views</em> representing contiguous ranges of the image
subresources and containing additional metadata are used for that purpose.
Views <strong class="purple">must</strong> be created on images of compatible types, and <strong class="purple">must</strong> represent a
valid subset of image subresources.</p>
</div>
<div class="paragraph">
<p>Image views are represented by <code>VkImageView</code> handles:</p>
</div>
<div id="VkImageView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkImageView)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The types of image views that <strong class="purple">can</strong> be created are:</p>
</div>
<div id="VkImageViewType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageViewType {
    VK_IMAGE_VIEW_TYPE_1D = <span class="integer">0</span>,
    VK_IMAGE_VIEW_TYPE_2D = <span class="integer">1</span>,
    VK_IMAGE_VIEW_TYPE_3D = <span class="integer">2</span>,
    VK_IMAGE_VIEW_TYPE_CUBE = <span class="integer">3</span>,
    VK_IMAGE_VIEW_TYPE_1D_ARRAY = <span class="integer">4</span>,
    VK_IMAGE_VIEW_TYPE_2D_ARRAY = <span class="integer">5</span>,
    VK_IMAGE_VIEW_TYPE_CUBE_ARRAY = <span class="integer">6</span>,
    VK_IMAGE_VIEW_TYPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageViewType;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The exact image view type is partially implicit, based on the image&#8217;s type
and sample count, as well as the view creation parameters as described in
the <a href="#resources-image-views-compatibility">image view compatibility table</a>
for <a href="#vkCreateImageView">vkCreateImageView</a>.
This table also shows which SPIR-V <code>OpTypeImage</code> <code>Dim</code> and
<code>Arrayed</code> parameters correspond to each image view type.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create an image view, call:</p>
</div>
<div id="vkCreateImageView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateImageView(
    VkDevice                                    device,
    <span class="directive">const</span> VkImageViewCreateInfo*                pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkImageView*                                pView);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the image view.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkImageViewCreateInfo</code>
structure containing parameters to be used to create the image view.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pView</code> is a pointer to a <a href="#VkImageView">VkImageView</a> handle in which the
resulting image view object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateImageView-device-parameter" href="#VUID-vkCreateImageView-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateImageView-pCreateInfo-parameter" href="#VUID-vkCreateImageView-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImageView-pAllocator-parameter" href="#VUID-vkCreateImageView-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImageView-pView-parameter" href="#VUID-vkCreateImageView-pView-parameter"></a> <code>pView</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkImageView">VkImageView</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageViewCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkImageViewCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageViewCreateInfo {
    VkStructureType            sType;
    <span class="directive">const</span> <span class="directive">void</span>*                pNext;
    VkImageViewCreateFlags     flags;
    VkImage                    image;
    VkImageViewType            viewType;
    VkFormat                   format;
    VkComponentMapping         components;
    VkImageSubresourceRange    subresourceRange;
} VkImageViewCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkImageViewCreateFlagBits">VkImageViewCreateFlagBits</a> describing
additional parameters of the image view.</p>
</li>
<li>
<p><code>image</code> is a <a href="#VkImage">VkImage</a> on which the view will be created.</p>
</li>
<li>
<p><code>viewType</code> is a <a href="#VkImageViewType">VkImageViewType</a> value specifying the type of
the image view.</p>
</li>
<li>
<p><code>format</code> is a <a href="#VkFormat">VkFormat</a> describing the format and type used to
interpret texel blocks in the image.</p>
</li>
<li>
<p><code>components</code> is a <a href="#VkComponentMapping">VkComponentMapping</a> specifies a remapping of
color components (or of depth or stencil components after they have been
converted into color components).</p>
</li>
<li>
<p><code>subresourceRange</code> is a <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a> selecting the
set of mipmap levels and array layers to be accessible to the view.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some of the <code>image</code> creation parameters are inherited by the view.
In particular, image view creation inherits the implicit parameter
<code>usage</code> specifying the allowed usages of the image view that, by
default, takes the value of the corresponding <code>usage</code> parameter
specified in <code>VkImageCreateInfo</code> at image creation time.</p>
</div>
<div class="paragraph">
<p>If <code>image</code> was created with the <code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code>
flag,
<code>format</code> <strong class="purple">can</strong> be different from the image&#8217;s format, but if
they are not equal they <strong class="purple">must</strong> be <em>compatible</em>.
Image format compatibility is defined in the
<a href="#formats-compatibility-classes">Format Compatibility Classes</a> section.
Views of compatible formats will have the same mapping between texel
coordinates and memory locations irrespective of the <code>format</code>, with only
the interpretation of the bit pattern changing.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Values intended to be used with one view format <strong class="purple">may</strong> not be exactly
preserved when written or read through a different format.
For example, an integer value that happens to have the bit pattern of a
floating point denorm or NaN <strong class="purple">may</strong> be flushed or canonicalized when written
or read through a view with a floating point format.
Similarly, a value written through a signed normalized format that has a bit
pattern exactly equal to <span class="eq">-2<sup>b</sup></span> <strong class="purple">may</strong> be changed to <span class="eq">-2<sup>b</sup> +  1</span>
as described in <a href="#fundamentals-fixedfpconv">Conversion from Normalized
Fixed-Point to Floating-Point</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<table id="resources-image-views-compatibility" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Image and image view parameter compatibility requirements</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Dim, Arrayed, MS</th>
<th class="tableblock halign-left valign-top">Image parameters</th>
<th class="tableblock halign-left valign-top">View parameters</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = ci.<code>imageType</code><br>
    <code>width</code> = ci.<code>extent.width</code><br>
    <code>height</code> = ci.<code>extent.height</code><br>
    <code>depth</code> = ci.<code>extent.depth</code><br>
    <code>arrayLayers</code> = ci.<code>arrayLayers</code><br>
    <code>samples</code> = ci.<code>samples</code><br>
    <code>flags</code> = ci.<code>flags</code><br>
    where ci is the <a href="#VkImageCreateInfo">VkImageCreateInfo</a> used to create <code>image</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>baseArrayLayer</code> and <code>layerCount</code>
    are members of the <code>subresourceRange</code> member.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">1D, 0, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_1D</code><br>
<code>width</code>  1<br>
<code>height</code> = 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code>  1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_1D</code><br>
<code>baseArrayLayer</code>  0<br>
<code>layerCount</code> = 1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">1D, 1, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_1D</code><br>
<code>width</code>  1<br>
<code>height</code> = 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code>  1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code><br>
<code>baseArrayLayer</code>  0<br>
<code>layerCount</code>  1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">2D, 0, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code>  1<br>
<code>height</code>  1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code>  1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_2D</code><br>
<code>baseArrayLayer</code>  0<br>
<code>layerCount</code> = 1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">2D, 1, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code>  1<br>
<code>height</code>  1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code>  1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code><br>
<code>baseArrayLayer</code>  0<br>
<code>layerCount</code>  1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">2D, 0, 1</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code>  1<br>
<code>height</code>  1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code>  1<br>
<code>samples</code> &gt; 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_2D</code><br>
<code>baseArrayLayer</code>  0<br>
<code>layerCount</code> = 1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">2D, 1, 1</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code>  1<br>
<code>height</code>  1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code>  1<br>
<code>samples</code> &gt; 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code><br>
<code>baseArrayLayer</code>  0<br>
<code>layerCount</code>  1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">CUBE, 0, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code>  1<br>
<code>height</code> = <code>width</code><br>
<code>depth</code> = 1<br>
<code>arrayLayers</code>  6<br>
<code>samples</code> = 1<br>
<code>flags</code> includes <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_CUBE</code><br>
<code>baseArrayLayer</code>  0<br>
<code>layerCount</code> = 6</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">CUBE, 1, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code>  1<br>
<code>height</code> = width<br>
<code>depth</code> = 1<br>
<em>N</em>  1<br>
<code>arrayLayers</code>  6  <em>N</em><br>
<code>samples</code> = 1<br>
<code>flags</code> includes <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code><br>
<code>baseArrayLayer</code>  0<br>
<code>layerCount</code> = 6  <em>N</em>, <em>N</em>  1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">3D, 0, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_3D</code><br>
<code>width</code>  1<br>
<code>height</code>  1<br>
<code>depth</code>  1<br>
<code>arrayLayers</code> = 1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_3D</code><br>
<code>baseArrayLayer</code> = 0<br>
<code>layerCount</code> = 1</p></td>
</tr>
</tbody>
</table>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-01003" href="#VUID-VkImageViewCreateInfo-image-01003"></a>
If <code>image</code> was not created with
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> then <code>viewType</code> <strong class="purple">must</strong> not
be <code>VK_IMAGE_VIEW_TYPE_CUBE</code> or <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-viewType-01004" href="#VUID-VkImageViewCreateInfo-viewType-01004"></a>
If the <a href="#features-imageCubeArray">image cubemap arrays</a> feature is not
enabled, <code>viewType</code> <strong class="purple">must</strong> not be <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-01007" href="#VUID-VkImageViewCreateInfo-image-01007"></a>
<code>image</code> <strong class="purple">must</strong> have been created with a <code>usage</code> value containing
at least one of <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>,
<code>VK_IMAGE_USAGE_STORAGE_BIT</code>,
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-None-02273" href="#VUID-VkImageViewCreateInfo-None-02273"></a>
The <a href="#resources-image-view-format-features">format features</a> of the
resultant image view <strong class="purple">must</strong> contain at least one bit.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-usage-02274" href="#VUID-VkImageViewCreateInfo-usage-02274"></a>
If <code>usage</code> contains <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, then the
<a href="#resources-image-view-format-features">format features</a> of the
resultant image view <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-usage-02275" href="#VUID-VkImageViewCreateInfo-usage-02275"></a>
If <code>usage</code> contains <code>VK_IMAGE_USAGE_STORAGE_BIT</code>, then the image
view&#8217;s <a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong>
contain <code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-usage-02276" href="#VUID-VkImageViewCreateInfo-usage-02276"></a>
If <code>usage</code> contains <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>, then
the image view&#8217;s <a href="#resources-image-view-format-features">format
features</a> <strong class="purple">must</strong> contain <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-usage-02277" href="#VUID-VkImageViewCreateInfo-usage-02277"></a>
If <code>usage</code> contains
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-usage-02652" href="#VUID-VkImageViewCreateInfo-usage-02652"></a>
If <code>usage</code> contains <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>, then
the image view&#8217;s <a href="#resources-image-view-format-features">format
features</a> <strong class="purple">must</strong> contain at least one of
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> or
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subresourceRange-01478" href="#VUID-VkImageViewCreateInfo-subresourceRange-01478"></a>
<code>subresourceRange.baseMipLevel</code> <strong class="purple">must</strong> be less than the
<code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subresourceRange-01718" href="#VUID-VkImageViewCreateInfo-subresourceRange-01718"></a>
If <code>subresourceRange.levelCount</code> is not
<code>VK_REMAINING_MIP_LEVELS</code>, <span class="eq"><code>subresourceRange.baseMipLevel</code>
+  <code>subresourceRange.levelCount</code></span> <strong class="purple">must</strong> be less than or equal to
the <code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when
<code>image</code> was created</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subresourceRange-01480" href="#VUID-VkImageViewCreateInfo-subresourceRange-01480"></a>
<code>subresourceRange.baseArrayLayer</code> <strong class="purple">must</strong> be less than the
<code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subresourceRange-01719" href="#VUID-VkImageViewCreateInfo-subresourceRange-01719"></a>
If <code>subresourceRange.layerCount</code> is not
<code>VK_REMAINING_ARRAY_LAYERS</code>,
<span class="eq"><code>subresourceRange.baseArrayLayer</code> + 
<code>subresourceRange.layerCount</code></span> <strong class="purple">must</strong> be less than or equal to the
<code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-01018" href="#VUID-VkImageViewCreateInfo-image-01018"></a>
If <code>image</code> was created with the
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> flag, <code>format</code> <strong class="purple">must</strong> be
compatible with the <code>format</code> used to create <code>image</code>, as defined
in <a href="#formats-compatibility-classes">Format Compatibility Classes</a></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-01019" href="#VUID-VkImageViewCreateInfo-image-01019"></a>
If <code>image</code> was not created with the
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> flag, <code>format</code> <strong class="purple">must</strong> be
identical to the <code>format</code> used to create <code>image</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-01020" href="#VUID-VkImageViewCreateInfo-image-01020"></a>
If <code>image</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subResourceRange-01021" href="#VUID-VkImageViewCreateInfo-subResourceRange-01021"></a>
<code>subresourceRange</code> and <code>viewType</code> <strong class="purple">must</strong> be compatible with the
image, as described in the
<a href="#resources-image-views-compatibility">compatibility table</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageViewCreateInfo-sType-sType" href="#VUID-VkImageViewCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-pNext-pNext" href="#VUID-VkImageViewCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-flags-zerobitmask" href="#VUID-VkImageViewCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-parameter" href="#VUID-VkImageViewCreateInfo-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-viewType-parameter" href="#VUID-VkImageViewCreateInfo-viewType-parameter"></a> <code>viewType</code> <strong class="purple">must</strong> be a valid <a href="#VkImageViewType">VkImageViewType</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-format-parameter" href="#VUID-VkImageViewCreateInfo-format-parameter"></a> <code>format</code> <strong class="purple">must</strong> be a valid <a href="#VkFormat">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-components-parameter" href="#VUID-VkImageViewCreateInfo-components-parameter"></a> <code>components</code> <strong class="purple">must</strong> be a valid <a href="#VkComponentMapping">VkComponentMapping</a> structure</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subresourceRange-parameter" href="#VUID-VkImageViewCreateInfo-subresourceRange-parameter"></a> <code>subresourceRange</code> <strong class="purple">must</strong> be a valid <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a>::<code>flags</code>,
specifying additional parameters of an image, are:</p>
</div>
<div id="VkImageViewCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageViewCreateFlagBits {
    VK_IMAGE_VIEW_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageViewCreateFlagBits;</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkImageViewCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkImageViewCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkImageViewCreateFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkImageViewCreateFlagBits">VkImageViewCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageSubresourceRange</code> structure is defined as:</p>
</div>
<div id="VkImageSubresourceRange" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageSubresourceRange {
    VkImageAspectFlags    aspectMask;
    uint32_t              baseMipLevel;
    uint32_t              levelCount;
    uint32_t              baseArrayLayer;
    uint32_t              layerCount;
} VkImageSubresourceRange;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>aspectMask</code> is a bitmask of <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a> specifying
which aspect(s) of the image are included in the view.</p>
</li>
<li>
<p><code>baseMipLevel</code> is the first mipmap level accessible to the view.</p>
</li>
<li>
<p><code>levelCount</code> is the number of mipmap levels (starting from
<code>baseMipLevel</code>) accessible to the view.</p>
</li>
<li>
<p><code>baseArrayLayer</code> is the first array layer accessible to the view.</p>
</li>
<li>
<p><code>layerCount</code> is the number of array layers (starting from
<code>baseArrayLayer</code>) accessible to the view.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The number of mipmap levels and array layers <strong class="purple">must</strong> be a subset of the image
subresources in the image.
If an application wants to use all mip levels or layers in an image after
the <code>baseMipLevel</code> or <code>baseArrayLayer</code>, it <strong class="purple">can</strong> set <code>levelCount</code>
and <code>layerCount</code> to the special values <code>VK_REMAINING_MIP_LEVELS</code> and
<code>VK_REMAINING_ARRAY_LAYERS</code> without knowing the exact number of mip
levels or layers.</p>
</div>
<div class="paragraph">
<p>For cube and cube array image views, the layers of the image view starting
at <code>baseArrayLayer</code> correspond to faces in the order +X, -X, +Y, -Y, +Z,
-Z.
For cube arrays, each set of six sequential layers is a single cube, so the
number of cube maps in a cube map array view is <em><code>layerCount</code> / 6</em>, and
image array layer <span class="eq">(<code>baseArrayLayer</code> +  i)</span> is face index
<span class="eq">(i mod 6)</span> of cube <em>i / 6</em>.
If the number of layers in the view, whether set explicitly in
<code>layerCount</code> or implied by <code>VK_REMAINING_ARRAY_LAYERS</code>, is not a
multiple of 6, the last cube map in the array <strong class="purple">must</strong> not be accessed.</p>
</div>
<div class="paragraph">
<p><code>aspectMask</code> <strong class="purple">must</strong> be only <code>VK_IMAGE_ASPECT_COLOR_BIT</code>,
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code>VK_IMAGE_ASPECT_STENCIL_BIT</code> if
<code>format</code> is a color, depth-only or stencil-only format,
respectively.
If using a depth/stencil format with both depth and stencil components,
<code>aspectMask</code> <strong class="purple">must</strong> include at least one of
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> and <code>VK_IMAGE_ASPECT_STENCIL_BIT</code>, and
<strong class="purple">can</strong> include both.</p>
</div>
<div class="paragraph">
<p>When using an image view of a depth/stencil image to populate a descriptor
set (e.g. for sampling in the shader, or for use as an input attachment),
the <code>aspectMask</code> <strong class="purple">must</strong> only include one bit and selects whether the
image view is used for depth reads (i.e. using a floating-point sampler or
input attachment in the shader) or stencil reads (i.e. using an unsigned
integer sampler or input attachment in the shader).
When an image view of a depth/stencil image is used as a depth/stencil
framebuffer attachment, the <code>aspectMask</code> is ignored and both depth and
stencil image subresources are used.</p>
</div>
<div class="paragraph">
<p>The <a href="#VkComponentMapping">VkComponentMapping</a> <code>components</code> member describes a remapping
from components of the image to components of the vector returned by shader
image instructions.
This remapping <strong class="purple">must</strong> be identity for storage image descriptors, input
attachment descriptors,
and framebuffer attachments.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageSubresourceRange-levelCount-01720" href="#VUID-VkImageSubresourceRange-levelCount-01720"></a>
If <code>levelCount</code> is not <code>VK_REMAINING_MIP_LEVELS</code>, it <strong class="purple">must</strong> be
greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkImageSubresourceRange-layerCount-01721" href="#VUID-VkImageSubresourceRange-layerCount-01721"></a>
If <code>layerCount</code> is not <code>VK_REMAINING_ARRAY_LAYERS</code>, it <strong class="purple">must</strong> be
greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageSubresourceRange-aspectMask-parameter" href="#VUID-VkImageSubresourceRange-aspectMask-parameter"></a> <code>aspectMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkImageSubresourceRange-aspectMask-requiredbitmask" href="#VUID-VkImageSubresourceRange-aspectMask-requiredbitmask"></a> <code>aspectMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in an aspect mask to specify aspects of an image for
purposes such as identifying a subresource, are:</p>
</div>
<div id="VkImageAspectFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageAspectFlagBits {
    VK_IMAGE_ASPECT_COLOR_BIT = <span class="hex">0x00000001</span>,
    VK_IMAGE_ASPECT_DEPTH_BIT = <span class="hex">0x00000002</span>,
    VK_IMAGE_ASPECT_STENCIL_BIT = <span class="hex">0x00000004</span>,
    VK_IMAGE_ASPECT_METADATA_BIT = <span class="hex">0x00000008</span>,
    VK_IMAGE_ASPECT_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageAspectFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_ASPECT_COLOR_BIT</code> specifies the color aspect.</p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_DEPTH_BIT</code> specifies the depth aspect.</p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_STENCIL_BIT</code> specifies the stencil aspect.</p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_METADATA_BIT</code> specifies the metadata aspect, used
for sparse <a href="#sparsememory">sparse resource</a> operations.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkImageAspectFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkImageAspectFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkImageAspectFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkComponentMapping</code> structure is defined as:</p>
</div>
<div id="VkComponentMapping" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkComponentMapping {
    VkComponentSwizzle    r;
    VkComponentSwizzle    g;
    VkComponentSwizzle    b;
    VkComponentSwizzle    a;
} VkComponentMapping;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>r</code> is a <a href="#VkComponentSwizzle">VkComponentSwizzle</a> specifying the component value
placed in the R component of the output vector.</p>
</li>
<li>
<p><code>g</code> is a <a href="#VkComponentSwizzle">VkComponentSwizzle</a> specifying the component value
placed in the G component of the output vector.</p>
</li>
<li>
<p><code>b</code> is a <a href="#VkComponentSwizzle">VkComponentSwizzle</a> specifying the component value
placed in the B component of the output vector.</p>
</li>
<li>
<p><code>a</code> is a <a href="#VkComponentSwizzle">VkComponentSwizzle</a> specifying the component value
placed in the A component of the output vector.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComponentMapping-r-parameter" href="#VUID-VkComponentMapping-r-parameter"></a> <code>r</code> <strong class="purple">must</strong> be a valid <a href="#VkComponentSwizzle">VkComponentSwizzle</a> value</p>
</li>
<li>
<p><a id="VUID-VkComponentMapping-g-parameter" href="#VUID-VkComponentMapping-g-parameter"></a> <code>g</code> <strong class="purple">must</strong> be a valid <a href="#VkComponentSwizzle">VkComponentSwizzle</a> value</p>
</li>
<li>
<p><a id="VUID-VkComponentMapping-b-parameter" href="#VUID-VkComponentMapping-b-parameter"></a> <code>b</code> <strong class="purple">must</strong> be a valid <a href="#VkComponentSwizzle">VkComponentSwizzle</a> value</p>
</li>
<li>
<p><a id="VUID-VkComponentMapping-a-parameter" href="#VUID-VkComponentMapping-a-parameter"></a> <code>a</code> <strong class="purple">must</strong> be a valid <a href="#VkComponentSwizzle">VkComponentSwizzle</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the members of <a href="#VkComponentMapping">VkComponentMapping</a>, specifying the
component values placed in each component of the output vector, are:</p>
</div>
<div id="VkComponentSwizzle" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkComponentSwizzle {
    VK_COMPONENT_SWIZZLE_IDENTITY = <span class="integer">0</span>,
    VK_COMPONENT_SWIZZLE_ZERO = <span class="integer">1</span>,
    VK_COMPONENT_SWIZZLE_ONE = <span class="integer">2</span>,
    VK_COMPONENT_SWIZZLE_R = <span class="integer">3</span>,
    VK_COMPONENT_SWIZZLE_G = <span class="integer">4</span>,
    VK_COMPONENT_SWIZZLE_B = <span class="integer">5</span>,
    VK_COMPONENT_SWIZZLE_A = <span class="integer">6</span>,
    VK_COMPONENT_SWIZZLE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkComponentSwizzle;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMPONENT_SWIZZLE_IDENTITY</code> specifies that the component is set
to the identity swizzle.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_ZERO</code> specifies that the component is set to
zero.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_ONE</code> specifies that the component is set to
either 1 or 1.0, depending on whether the type of the image view format
is integer or floating-point respectively, as determined by the
<a href="#formats-definition">Format Definition</a> section for each
<a href="#VkFormat">VkFormat</a>.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_R</code> specifies that the component is set to the
value of the R component of the image.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_G</code> specifies that the component is set to the
value of the G component of the image.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_B</code> specifies that the component is set to the
value of the B component of the image.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_A</code> specifies that the component is set to the
value of the A component of the image.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Setting the identity swizzle on a component is equivalent to setting the
identity mapping on that component.
That is:</p>
</div>
<table id="resources-image-views-identity-mappings" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Component Mappings Equivalent To <code>VK_COMPONENT_SWIZZLE_IDENTITY</code></caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Identity Mapping</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components.r</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_R</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components.g</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_G</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components.b</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_B</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components.a</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_A</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy an image view, call:</p>
</div>
<div id="vkDestroyImageView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyImageView(
    VkDevice                                    device,
    VkImageView                                 imageView,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the image view.</p>
</li>
<li>
<p><code>imageView</code> is the image view to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyImageView-imageView-01026" href="#VUID-vkDestroyImageView-imageView-01026"></a>
All submitted commands that refer to <code>imageView</code> <strong class="purple">must</strong> have
completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyImageView-imageView-01027" href="#VUID-vkDestroyImageView-imageView-01027"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>imageView</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyImageView-imageView-01028" href="#VUID-vkDestroyImageView-imageView-01028"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>imageView</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyImageView-device-parameter" href="#VUID-vkDestroyImageView-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyImageView-imageView-parameter" href="#VUID-vkDestroyImageView-imageView-parameter"></a> If <code>imageView</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>imageView</code> <strong class="purple">must</strong> be a valid <a href="#VkImageView">VkImageView</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyImageView-pAllocator-parameter" href="#VUID-vkDestroyImageView-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyImageView-imageView-parent" href="#VUID-vkDestroyImageView-imageView-parent"></a> If <code>imageView</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>imageView</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="resources-image-view-format-features"><a class="anchor" href="#resources-image-view-format-features"></a>11.5.1. Image View Format Features</h4>
<div class="paragraph">
<p>Valid usage of a <a href="#VkImageView">VkImageView</a> <strong class="purple">may</strong> be constrained by the image view&#8217;s
format features, defined below.
Such constraints are documented in the affected valid usage statement.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the view&#8217;s image was created with <code>VK_IMAGE_TILING_LINEAR</code>, then
the image view&#8217;s set of <em>format features</em> is the value of
<a href="#VkFormatProperties">VkFormatProperties</a>::<code>linearTilingFeatures</code> found by calling
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> on the same <code>format</code> as
<a href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p>If the view&#8217;s image was created with <code>VK_IMAGE_TILING_OPTIMAL</code>,
then the image view&#8217;s set of <em>format features</em> is the value of
<a href="#VkFormatProperties">VkFormatProperties</a>::<code>optimalTilingFeatures</code> found by calling
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> on the same <code>format</code> as
<a href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a>::<code>format</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-association"><a class="anchor" href="#resources-association"></a>11.6. Resource Memory Association</h3>
<div class="paragraph">
<p>Resources are initially created as <em>virtual allocations</em> with no backing
memory.
Device memory is allocated separately (see <a href="#memory-device">Device Memory</a>) and then
associated with the resource.
This association is done differently for sparse and non-sparse resources.</p>
</div>
<div class="paragraph">
<p>Resources created with any of the sparse creation flags are considered
sparse resources.
Resources created without these flags are non-sparse.
The details on resource memory association for sparse resources is described
in <a href="#sparsememory">Sparse Resources</a>.</p>
</div>
<div class="paragraph">
<p>Non-sparse resources <strong class="purple">must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object before the resource is passed as a parameter to
any of the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>creating image or buffer views</p>
</li>
<li>
<p>updating descriptor sets</p>
</li>
<li>
<p>recording commands in a command buffer</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once bound, the memory binding is immutable for the lifetime of the
resource.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the memory requirements for a buffer resource, call:</p>
</div>
<div id="vkGetBufferMemoryRequirements" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetBufferMemoryRequirements(
    VkDevice                                    device,
    VkBuffer                                    buffer,
    VkMemoryRequirements*                       pMemoryRequirements);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the buffer.</p>
</li>
<li>
<p><code>buffer</code> is the buffer to query.</p>
</li>
<li>
<p><code>pMemoryRequirements</code> is a pointer to a <a href="#VkMemoryRequirements">VkMemoryRequirements</a>
structure in which the memory requirements of the buffer object are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferMemoryRequirements-device-parameter" href="#VUID-vkGetBufferMemoryRequirements-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetBufferMemoryRequirements-buffer-parameter" href="#VUID-vkGetBufferMemoryRequirements-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetBufferMemoryRequirements-pMemoryRequirements-parameter" href="#VUID-vkGetBufferMemoryRequirements-pMemoryRequirements-parameter"></a> <code>pMemoryRequirements</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkMemoryRequirements">VkMemoryRequirements</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetBufferMemoryRequirements-buffer-parent" href="#VUID-vkGetBufferMemoryRequirements-buffer-parent"></a> <code>buffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the memory requirements for an image resource, call:</p>
</div>
<div id="vkGetImageMemoryRequirements" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetImageMemoryRequirements(
    VkDevice                                    device,
    VkImage                                     image,
    VkMemoryRequirements*                       pMemoryRequirements);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the image.</p>
</li>
<li>
<p><code>image</code> is the image to query.</p>
</li>
<li>
<p><code>pMemoryRequirements</code> is a pointer to a <a href="#VkMemoryRequirements">VkMemoryRequirements</a>
structure in which the memory requirements of the image object are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetImageMemoryRequirements-device-parameter" href="#VUID-vkGetImageMemoryRequirements-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageMemoryRequirements-image-parameter" href="#VUID-vkGetImageMemoryRequirements-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageMemoryRequirements-pMemoryRequirements-parameter" href="#VUID-vkGetImageMemoryRequirements-pMemoryRequirements-parameter"></a> <code>pMemoryRequirements</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkMemoryRequirements">VkMemoryRequirements</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetImageMemoryRequirements-image-parent" href="#VUID-vkGetImageMemoryRequirements-image-parent"></a> <code>image</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkMemoryRequirements</code> structure is defined as:</p>
</div>
<div id="VkMemoryRequirements" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkMemoryRequirements {
    VkDeviceSize    size;
    VkDeviceSize    alignment;
    uint32_t        memoryTypeBits;
} VkMemoryRequirements;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>size</code> is the size, in bytes, of the memory allocation <strong class="purple">required</strong> for
the resource.</p>
</li>
<li>
<p><code>alignment</code> is the alignment, in bytes, of the offset within the
allocation <strong class="purple">required</strong> for the resource.</p>
</li>
<li>
<p><code>memoryTypeBits</code> is a bitmask and contains one bit set for every
supported memory type for the resource.
Bit <code>i</code> is set if and only if the memory type <code>i</code> in the
<code>VkPhysicalDeviceMemoryProperties</code> structure for the physical device
is supported for the resource.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>The implementation guarantees certain properties about the memory
requirements returned by <a href="#vkGetBufferMemoryRequirements">vkGetBufferMemoryRequirements</a> and
<a href="#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>memoryTypeBits</code> member always contains at least one bit set.</p>
</li>
<li>
<p>If <code>buffer</code> is a <code>VkBuffer</code> not created with the
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> bit set, or if <code>image</code> is
<a href="#glossary-linear-resource">linear</a> image, then the <code>memoryTypeBits</code>
member always contains at least one bit set corresponding to a
<code>VkMemoryType</code> with a <code>propertyFlags</code> that has both the
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> bit and the
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> bit set.
In other words, mappable coherent memory <strong class="purple">can</strong> always be attached to
these objects.</p>
</li>
<li>
<p>The
<code>memoryTypeBits</code> member always contains at least one bit set
corresponding to a <code>VkMemoryType</code> with a <code>propertyFlags</code> that
has the <code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> bit set.</p>
</li>
<li>
<p>The <code>memoryTypeBits</code> member is identical for all <code>VkBuffer</code>
objects created with the same value for the <code>flags</code> and <code>usage</code>
members in the <code>VkBufferCreateInfo</code> structure
passed to <code>vkCreateBuffer</code>.
Further, if <code>usage1</code> and <code>usage2</code> of type <a href="#VkBufferUsageFlags">VkBufferUsageFlags</a>
are such that the bits set in <code>usage2</code> are a subset of the bits set
in <code>usage1</code>, and they have the same
<code>flags</code>,
then the bits set in <code>memoryTypeBits</code> returned for <code>usage1</code> <strong class="purple">must</strong>
be a subset of the bits set in <code>memoryTypeBits</code> returned for
<code>usage2</code>, for all values of <code>flags</code>.</p>
</li>
<li>
<p>The <code>alignment</code> member is a power of two.</p>
</li>
<li>
<p>The <code>alignment</code> member is identical for all <code>VkBuffer</code> objects
created with the same combination of values for the <code>usage</code> and
<code>flags</code> members in the <code>VkBufferCreateInfo</code> structure passed to
<code>vkCreateBuffer</code>.</p>
</li>
<li>
<p>The <code>alignment</code> member satisfies the buffer descriptor offset
alignment requirements associated with the <code>VkBuffer</code>&#8217;s <code>usage</code>:</p>
<div class="ulist">
<ul>
<li>
<p>If <code>usage</code> included <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code>
or <code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>, <code>alignment</code>
<strong class="purple">must</strong> be an integer multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minTexelBufferOffsetAlignment</code>.</p>
</li>
<li>
<p>If <code>usage</code> included <code>VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code>,
<code>alignment</code> <strong class="purple">must</strong> be an integer multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minUniformBufferOffsetAlignment</code>.</p>
</li>
<li>
<p>If <code>usage</code> included <code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code>,
<code>alignment</code> <strong class="purple">must</strong> be an integer multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minStorageBufferOffsetAlignment</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>For images created with a color format, the <code>memoryTypeBits</code> member
is identical for all <code>VkImage</code> objects created with the same
combination of values for the <code>tiling</code> member, the
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> bit of the <code>flags</code> member,
and the <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> of the <code>usage</code>
member in the <code>VkImageCreateInfo</code> structure passed to
<code>vkCreateImage</code>.</p>
</li>
<li>
<p>For images created with a depth/stencil format, the <code>memoryTypeBits</code>
member is identical for all <code>VkImage</code> objects created with the same
combination of values for the <code>format</code> member, the <code>tiling</code>
member, the <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> bit of the
<code>flags</code> member,
and the <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> of the <code>usage</code>
member in the <code>VkImageCreateInfo</code> structure passed to
<code>vkCreateImage</code>.</p>
</li>
<li>
<p>If the memory requirements are for a <code>VkImage</code>, the
<code>memoryTypeBits</code> member <strong class="purple">must</strong> not refer to a <code>VkMemoryType</code> with
a <code>propertyFlags</code> that has the
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set if the <code>image</code>
did not have <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> bit set in
the <code>usage</code> member of the <code>VkImageCreateInfo</code> structure passed
to <code>vkCreateImage</code>.</p>
</li>
<li>
<p>If the memory requirements are for a <code>VkBuffer</code>, the
<code>memoryTypeBits</code> member <strong class="purple">must</strong> not refer to a <code>VkMemoryType</code> with
a <code>propertyFlags</code> that has the
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The implication of this requirement is that lazily allocated memory is
disallowed for buffers in all cases.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The <code>size</code> member is identical for all <code>VkBuffer</code> objects
created with the same combination of creation parameters specified in
<code>VkBufferCreateInfo</code> and its <code>pNext</code> chain.</p>
</li>
<li>
<p>The <code>size</code> member is identical for all <code>VkImage</code> objects created
with the same combination of creation parameters specified in
<code>VkImageCreateInfo</code> and its <code>pNext</code> chain.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This, however, does not imply that they interpret the contents of the bound
memory identically with each other.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To attach memory to a buffer object, call:</p>
</div>
<div id="vkBindBufferMemory" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkBindBufferMemory(
    VkDevice                                    device,
    VkBuffer                                    buffer,
    VkDeviceMemory                              memory,
    VkDeviceSize                                memoryOffset);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the buffer and memory.</p>
</li>
<li>
<p><code>buffer</code> is the buffer to be attached to memory.</p>
</li>
<li>
<p><code>memory</code> is a <a href="#VkDeviceMemory">VkDeviceMemory</a> object describing the device
memory to attach.</p>
</li>
<li>
<p><code>memoryOffset</code> is the start offset of the region of <code>memory</code>
which is to be bound to the buffer.
The number of bytes returned in the
<code>VkMemoryRequirements</code>::<code>size</code> member in <code>memory</code>, starting
from <code>memoryOffset</code> bytes, will be bound to the specified buffer.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkBindBufferMemory-buffer-01029" href="#VUID-vkBindBufferMemory-buffer-01029"></a>
<code>buffer</code> <strong class="purple">must</strong> not already be backed by a memory object</p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-buffer-01030" href="#VUID-vkBindBufferMemory-buffer-01030"></a>
<code>buffer</code> <strong class="purple">must</strong> not have been created with any sparse memory binding
flags</p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-memoryOffset-01031" href="#VUID-vkBindBufferMemory-memoryOffset-01031"></a>
<code>memoryOffset</code> <strong class="purple">must</strong> be less than the size of <code>memory</code></p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-memory-01035" href="#VUID-vkBindBufferMemory-memory-01035"></a>
<code>memory</code> <strong class="purple">must</strong> have been allocated using one of the memory types
allowed in the <code>memoryTypeBits</code> member of the
<code>VkMemoryRequirements</code> structure returned from a call to
<code>vkGetBufferMemoryRequirements</code> with <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-memoryOffset-01036" href="#VUID-vkBindBufferMemory-memoryOffset-01036"></a>
<code>memoryOffset</code> <strong class="purple">must</strong> be an integer multiple of the <code>alignment</code>
member of the <code>VkMemoryRequirements</code> structure returned from a call
to <code>vkGetBufferMemoryRequirements</code> with <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-size-01037" href="#VUID-vkBindBufferMemory-size-01037"></a>
The <code>size</code> member of the <code>VkMemoryRequirements</code> structure
returned from a call to <code>vkGetBufferMemoryRequirements</code> with
<code>buffer</code> <strong class="purple">must</strong> be less than or equal to the size of <code>memory</code>
minus <code>memoryOffset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkBindBufferMemory-device-parameter" href="#VUID-vkBindBufferMemory-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-buffer-parameter" href="#VUID-vkBindBufferMemory-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-memory-parameter" href="#VUID-vkBindBufferMemory-memory-parameter"></a> <code>memory</code> <strong class="purple">must</strong> be a valid <a href="#VkDeviceMemory">VkDeviceMemory</a> handle</p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-buffer-parent" href="#VUID-vkBindBufferMemory-buffer-parent"></a> <code>buffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-memory-parent" href="#VUID-vkBindBufferMemory-memory-parent"></a> <code>memory</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>buffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To attach memory to an image object, call:</p>
</div>
<div id="vkBindImageMemory" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkBindImageMemory(
    VkDevice                                    device,
    VkImage                                     image,
    VkDeviceMemory                              memory,
    VkDeviceSize                                memoryOffset);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the image and memory.</p>
</li>
<li>
<p><code>image</code> is the image.</p>
</li>
<li>
<p><code>memory</code> is the <a href="#VkDeviceMemory">VkDeviceMemory</a> object describing the device
memory to attach.</p>
</li>
<li>
<p><code>memoryOffset</code> is the start offset of the region of <code>memory</code>
which is to be bound to the image.
The number of bytes returned in the
<code>VkMemoryRequirements</code>::<code>size</code> member in <code>memory</code>, starting
from <code>memoryOffset</code> bytes, will be bound to the specified image.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkBindImageMemory-image-01044" href="#VUID-vkBindImageMemory-image-01044"></a>
<code>image</code> <strong class="purple">must</strong> not already be backed by a memory object</p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-image-01045" href="#VUID-vkBindImageMemory-image-01045"></a>
<code>image</code> <strong class="purple">must</strong> not have been created with any sparse memory binding
flags</p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-memoryOffset-01046" href="#VUID-vkBindImageMemory-memoryOffset-01046"></a>
<code>memoryOffset</code> <strong class="purple">must</strong> be less than the size of <code>memory</code></p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-memory-01047" href="#VUID-vkBindImageMemory-memory-01047"></a>
<code>memory</code> <strong class="purple">must</strong> have been allocated using one of the memory types
allowed in the <code>memoryTypeBits</code> member of the
<code>VkMemoryRequirements</code> structure returned from a call to
<code>vkGetImageMemoryRequirements</code> with <code>image</code></p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-memoryOffset-01048" href="#VUID-vkBindImageMemory-memoryOffset-01048"></a>
<code>memoryOffset</code> <strong class="purple">must</strong> be an integer multiple of the <code>alignment</code>
member of the <code>VkMemoryRequirements</code> structure returned from a call
to <code>vkGetImageMemoryRequirements</code> with <code>image</code></p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-size-01049" href="#VUID-vkBindImageMemory-size-01049"></a>
The difference of the size of <code>memory</code> and <code>memoryOffset</code> <strong class="purple">must</strong>
be greater than or equal to the <code>size</code> member of the
<a href="#VkMemoryRequirements">VkMemoryRequirements</a> structure returned from a call to
<a href="#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a> with the same <code>image</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkBindImageMemory-device-parameter" href="#VUID-vkBindImageMemory-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-image-parameter" href="#VUID-vkBindImageMemory-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-memory-parameter" href="#VUID-vkBindImageMemory-memory-parameter"></a> <code>memory</code> <strong class="purple">must</strong> be a valid <a href="#VkDeviceMemory">VkDeviceMemory</a> handle</p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-image-parent" href="#VUID-vkBindImageMemory-image-parent"></a> <code>image</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-memory-parent" href="#VUID-vkBindImageMemory-memory-parent"></a> <code>memory</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>image</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div id="resources-bufferimagegranularity" class="paragraph">
<div class="title">Buffer-Image Granularity</div>
<p>There is an implementation-dependent limit, <code>bufferImageGranularity</code>,
which specifies a page-like granularity at which linear and non-linear
resources <strong class="purple">must</strong> be placed in adjacent memory locations to avoid aliasing.
Two resources which do not satisfy this granularity requirement are said to
<a href="#resources-memory-aliasing">alias</a>.
<code>bufferImageGranularity</code> is specified in bytes, and <strong class="purple">must</strong> be a power of
two.
Implementations which do not impose a granularity restriction <strong class="purple">may</strong> report a
<code>bufferImageGranularity</code> value of one.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Despite its name, <code>bufferImageGranularity</code> is really a granularity
between &#8220;linear&#8221; and &#8220;non-linear&#8221; resources.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Given resourceA at the lower memory offset and resourceB at the higher
memory offset in the same <code>VkDeviceMemory</code> object, where one resource is
linear and the other is non-linear (as defined in the
<a href="#glossary-linear-resource">Glossary</a>), and the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">resourceA.end       = resourceA.memoryOffset + resourceA.size - <span class="integer">1</span>
resourceA.endPage   = resourceA.end &amp; ~(bufferImageGranularity-<span class="integer">1</span>)
resourceB.start     = resourceB.memoryOffset
resourceB.startPage = resourceB.start &amp; ~(bufferImageGranularity-<span class="integer">1</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following property <strong class="purple">must</strong> hold:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">resourceA.endPage &lt; resourceB.startPage</code></pre>
</div>
</div>
<div class="paragraph">
<p>That is, the end of the first resource (A) and the beginning of the second
resource (B) <strong class="purple">must</strong> be on separate &#8220;pages&#8221; of size
<code>bufferImageGranularity</code>.
<code>bufferImageGranularity</code> <strong class="purple">may</strong> be different than the physical page size
of the memory heap.
This restriction is only needed when a linear resource and a non-linear
resource are adjacent in memory and will be used simultaneously.
The memory ranges of adjacent resources <strong class="purple">can</strong> be closer than
<code>bufferImageGranularity</code>, provided they meet the <code>alignment</code>
requirement for the objects in question.</p>
</div>
<div class="paragraph">
<p>Sparse block size in bytes and sparse image and buffer memory alignments
<strong class="purple">must</strong> all be multiples of the <code>bufferImageGranularity</code>.
Therefore, memory bound to sparse resources naturally satisfies the
<code>bufferImageGranularity</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="resources-sharing"><a class="anchor" href="#resources-sharing"></a>11.7. Resource Sharing Mode</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Buffer and image objects are created with a <em>sharing mode</em> controlling how
they <strong class="purple">can</strong> be accessed from queues.
The supported sharing modes are:</p>
</div>
<div id="VkSharingMode" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkSharingMode {
    VK_SHARING_MODE_EXCLUSIVE = <span class="integer">0</span>,
    VK_SHARING_MODE_CONCURRENT = <span class="integer">1</span>,
    VK_SHARING_MODE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkSharingMode;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHARING_MODE_EXCLUSIVE</code> specifies that access to any range or
image subresource of the object will be exclusive to a single queue
family at a time.</p>
</li>
<li>
<p><code>VK_SHARING_MODE_CONCURRENT</code> specifies that concurrent access to any
range or image subresource of the object from multiple queue families is
supported.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>VK_SHARING_MODE_CONCURRENT</code> <strong class="purple">may</strong> result in lower performance access to
the buffer or image than <code>VK_SHARING_MODE_EXCLUSIVE</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ranges of buffers and image subresources of image objects created using
<code>VK_SHARING_MODE_EXCLUSIVE</code> <strong class="purple">must</strong> only be accessed by queues in the
queue family that has <em>ownership</em> of the resource.
Upon creation, such resources are not owned by any queue family; ownership
is implicitly acquired upon first use within a queue.
Once a resource using <code>VK_SHARING_MODE_EXCLUSIVE</code> is owned by some queue
family, the application <strong class="purple">must</strong> perform a
<a href="#synchronization-queue-transfers">queue family ownership transfer</a> to make
the memory contents of a range or image subresource accessible to a
different queue family.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Images still require a <a href="#resources-image-layouts">layout transition</a> from
<code>VK_IMAGE_LAYOUT_UNDEFINED</code> or <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>
before being used on the first queue.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A queue family <strong class="purple">can</strong> take ownership of an image subresource or buffer range
of a resource created with <code>VK_SHARING_MODE_EXCLUSIVE</code>, without an
ownership transfer, in the same way as for a resource that was just created;
however, taking ownership in this way has the effect that the contents of
the image subresource or buffer range are undefined.</p>
</div>
<div class="paragraph">
<p>Ranges of buffers and image subresources of image objects created using
<code>VK_SHARING_MODE_CONCURRENT</code> <strong class="purple">must</strong> only be accessed by queues from the
queue families specified through the <code>queueFamilyIndexCount</code> and
<code>pQueueFamilyIndices</code> members of the corresponding create info
structures.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-memory-aliasing"><a class="anchor" href="#resources-memory-aliasing"></a>11.8. Memory Aliasing</h3>
<div class="paragraph">
<p>A range of a <code>VkDeviceMemory</code> allocation is <em>aliased</em> if it is bound to
multiple resources simultaneously, as described below, via
<a href="#vkBindImageMemory">vkBindImageMemory</a>, <a href="#vkBindBufferMemory">vkBindBufferMemory</a>,
or via <a href="#sparsememory-resource-binding">sparse memory bindings</a>.</p>
</div>
<div class="paragraph">
<p>Consider two resources, resource<sub>A</sub> and resource<sub>B</sub>, bound respectively to
memory range<sub>A</sub> and range<sub>B</sub>.
Let paddedRange<sub>A</sub> and paddedRange<sub>B</sub> be, respectively, range<sub>A</sub> and
range<sub>B</sub> aligned to <code>bufferImageGranularity</code>.
If the resources are both linear or both non-linear (as defined in the
<a href="#glossary-linear-resource">Glossary</a>), then the resources <em>alias</em> the
memory in the intersection of range<sub>A</sub> and range<sub>B</sub>.
If one resource is linear and the other is non-linear, then the resources
<em>alias</em> the memory in the intersection of paddedRange<sub>A</sub> and paddedRange<sub>B</sub>.</p>
</div>
<div class="paragraph">
<p>Applications <strong class="purple">can</strong> alias memory, but use of multiple aliases is subject to
several constraints.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Memory aliasing <strong class="purple">can</strong> be useful to reduce the total device memory footprint
of an application, if some large resources are used for disjoint periods of
time.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When a <a href="#glossary-linear-resource">non-linear</a>,
non-<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> image is bound to an aliased
range, all image subresources of the image <em>overlap</em> the range.
When a linear image is bound to an aliased range, the image subresources
that (according to the image&#8217;s advertised layout) include bytes from the
aliased range overlap the range.
When a <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> image has sparse image
blocks bound to an aliased range, only image subresources including those
sparse image blocks overlap the range, and when the memory bound to the
image&#8217;s mip tail overlaps an aliased range all image subresources in the mip
tail overlap the range.</p>
</div>
<div class="paragraph">
<p>Buffers, and linear image subresources in either the
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> or <code>VK_IMAGE_LAYOUT_GENERAL</code>
layouts, are <em>host-accessible subresources</em>.
That is, the host has a well-defined addressing scheme to interpret the
contents, and thus the layout of the data in memory <strong class="purple">can</strong> be consistently
interpreted across aliases if each of those aliases is a host-accessible
subresource.
Non-linear images, and linear image subresources in other layouts, are not
host-accessible.</p>
</div>
<div class="paragraph">
<p>If two aliases are both host-accessible, then they interpret the contents of
the memory in consistent ways, and data written to one alias <strong class="purple">can</strong> be read by
the other alias.</p>
</div>
<div class="paragraph">
<p>Otherwise, the aliases interpret the contents of the memory differently, and
writes via one alias make the contents of memory partially or completely
undefined to the other alias.
If the first alias is a host-accessible subresource, then the bytes affected
are those written by the memory operations according to its addressing
scheme.
If the first alias is not host-accessible, then the bytes affected are those
overlapped by the image subresources that were written.
If the second alias is a host-accessible subresource, the affected bytes
become undefined.
If the second alias is a not host-accessible, all sparse image blocks (for
sparse partially-resident images) or all image subresources (for non-sparse
image and fully resident sparse images) that overlap the affected bytes
become undefined.</p>
</div>
<div class="paragraph">
<p>If any image subresources are made undefined due to writes to an alias,
then each of those image subresources <strong class="purple">must</strong> have its layout transitioned
from <code>VK_IMAGE_LAYOUT_UNDEFINED</code> to a valid layout before it is used, or
from <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> if the memory has been written by
the host.
If any sparse blocks of a sparse image have been made undefined, then only
the image subresources containing them <strong class="purple">must</strong> be transitioned.</p>
</div>
<div class="paragraph">
<p>Use of an overlapping range by two aliases <strong class="purple">must</strong> be separated by a memory
dependency using the appropriate <a href="#synchronization-access-types">access
types</a> if at least one of those uses performs writes, whether the aliases
interpret memory consistently or not.
If buffer or image memory barriers are used, the scope of the barrier <strong class="purple">must</strong>
contain the entire range and/or set of image subresources that overlap.</p>
</div>
<div class="paragraph">
<p>If two aliasing image views are used in the same framebuffer, then the
render pass <strong class="purple">must</strong> declare the attachments using the
<a href="#renderpass-aliasing"><code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code></a>, and
follow the other rules listed in that section.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Memory recycled via an application suballocator (i.e. without freeing and
reallocating the memory objects) is not substantially different from memory
aliasing.
However, a suballocator usually waits on a fence before recycling a region
of memory, and signaling a fence involves sufficient implicit dependencies
to satisfy all the above requirements.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="samplers"><a class="anchor" href="#samplers"></a>12. Samplers</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VkSampler</code> objects represent the state of an image sampler which is
used by the implementation to read image data and apply filtering and other
transformations for the shader.</p>
</div>
<div class="paragraph">
<p>Samplers are represented by <code>VkSampler</code> handles:</p>
</div>
<div id="VkSampler" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkSampler)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a sampler object, call:</p>
</div>
<div id="vkCreateSampler" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateSampler(
    VkDevice                                    device,
    <span class="directive">const</span> VkSamplerCreateInfo*                  pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkSampler*                                  pSampler);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the sampler.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkSamplerCreateInfo">VkSamplerCreateInfo</a> structure
specifying the state of the sampler object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pSampler</code> is a pointer to a <a href="#VkSampler">VkSampler</a> handle in which the
resulting sampler object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateSampler-device-parameter" href="#VUID-vkCreateSampler-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateSampler-pCreateInfo-parameter" href="#VUID-vkCreateSampler-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkSamplerCreateInfo">VkSamplerCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateSampler-pAllocator-parameter" href="#VUID-vkCreateSampler-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateSampler-pSampler-parameter" href="#VUID-vkCreateSampler-pSampler-parameter"></a> <code>pSampler</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkSampler">VkSampler</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_TOO_MANY_OBJECTS</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSamplerCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkSamplerCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSamplerCreateInfo {
    VkStructureType         sType;
    <span class="directive">const</span> <span class="directive">void</span>*             pNext;
    VkSamplerCreateFlags    flags;
    VkFilter                magFilter;
    VkFilter                minFilter;
    VkSamplerMipmapMode     mipmapMode;
    VkSamplerAddressMode    addressModeU;
    VkSamplerAddressMode    addressModeV;
    VkSamplerAddressMode    addressModeW;
    <span class="predefined-type">float</span>                   mipLodBias;
    VkBool32                anisotropyEnable;
    <span class="predefined-type">float</span>                   maxAnisotropy;
    VkBool32                compareEnable;
    VkCompareOp             compareOp;
    <span class="predefined-type">float</span>                   minLod;
    <span class="predefined-type">float</span>                   maxLod;
    VkBorderColor           borderColor;
    VkBool32                unnormalizedCoordinates;
} VkSamplerCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkSamplerCreateFlagBits">VkSamplerCreateFlagBits</a> describing
additional parameters of the sampler.</p>
</li>
<li>
<p><code>magFilter</code> is a <a href="#VkFilter">VkFilter</a> value specifying the magnification
filter to apply to lookups.</p>
</li>
<li>
<p><code>minFilter</code> is a <a href="#VkFilter">VkFilter</a> value specifying the minification
filter to apply to lookups.</p>
</li>
<li>
<p><code>mipmapMode</code> is a <a href="#VkSamplerMipmapMode">VkSamplerMipmapMode</a> value specifying the
mipmap filter to apply to lookups.</p>
</li>
<li>
<p><code>addressModeU</code> is a <a href="#VkSamplerAddressMode">VkSamplerAddressMode</a> value specifying the
addressing mode for outside [0..1] range for U coordinate.</p>
</li>
<li>
<p><code>addressModeV</code> is a <a href="#VkSamplerAddressMode">VkSamplerAddressMode</a> value specifying the
addressing mode for outside [0..1] range for V coordinate.</p>
</li>
<li>
<p><code>addressModeW</code> is a <a href="#VkSamplerAddressMode">VkSamplerAddressMode</a> value specifying the
addressing mode for outside [0..1] range for W coordinate.</p>
</li>
<li>
<p><a id="samplers-mipLodBias"></a> <code>mipLodBias</code> is the bias to be added to
mipmap LOD (level-of-detail) calculation and bias provided by image
sampling functions in SPIR-V, as described in the
<a href="#textures-level-of-detail-operation">Level-of-Detail Operation</a>
section.</p>
</li>
<li>
<p><a id="samplers-maxAnisotropy"></a> <code>anisotropyEnable</code> is <code>VK_TRUE</code> to
enable anisotropic filtering, as described in the
<a href="#textures-texel-anisotropic-filtering">Texel Anisotropic Filtering</a>
section, or <code>VK_FALSE</code> otherwise.</p>
</li>
<li>
<p><code>maxAnisotropy</code> is the anisotropy value clamp used by the sampler
when <code>anisotropyEnable</code> is <code>VK_TRUE</code>.
If <code>anisotropyEnable</code> is <code>VK_FALSE</code>, <code>maxAnisotropy</code> is
ignored.</p>
</li>
<li>
<p><code>compareEnable</code> is <code>VK_TRUE</code> to enable comparison against a
reference value during lookups, or <code>VK_FALSE</code> otherwise.</p>
<div class="ulist">
<ul>
<li>
<p>Note: Some implementations will default to shader state if this member
does not match.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>compareOp</code> is a <a href="#VkCompareOp">VkCompareOp</a> value specifying the comparison
function to apply to fetched data before filtering as described in the
<a href="#textures-depth-compare-operation">Depth Compare Operation</a> section.</p>
</li>
<li>
<p><code>minLod</code> and <code>maxLod</code> are the values used to clamp the computed
LOD value, as described in the <a href="#textures-level-of-detail-operation">Level-of-Detail Operation</a> section.</p>
</li>
<li>
<p><code>borderColor</code> is a <a href="#VkBorderColor">VkBorderColor</a> value specifying the
predefined border color to use.</p>
</li>
<li>
<p><a id="samplers-unnormalizedCoordinates"></a> <code>unnormalizedCoordinates</code>
controls whether to use unnormalized or normalized texel coordinates to
address texels of the image.
When set to <code>VK_TRUE</code>, the range of the image coordinates used to
lookup the texel is in the range of zero to the image dimensions for x,
y and z.
When set to <code>VK_FALSE</code> the range of image coordinates is zero to
one.</p>
<div class="paragraph">
<p>When <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, images the sampler is
used with in the shader have the following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>viewType</code> <strong class="purple">must</strong> be either <code>VK_IMAGE_VIEW_TYPE_1D</code> or
<code>VK_IMAGE_VIEW_TYPE_2D</code>.</p>
</li>
<li>
<p>The image view <strong class="purple">must</strong> have a single layer and a single mip level.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, image built-in
functions in the shader that use the sampler have the following
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The functions <strong class="purple">must</strong> not use projection.</p>
</li>
<li>
<p>The functions <strong class="purple">must</strong> not use offsets.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Mapping of OpenGL to Vulkan filter modes</div>
<div class="paragraph">
<p><code>magFilter</code> values of <code>VK_FILTER_NEAREST</code> and <code>VK_FILTER_LINEAR</code>
directly correspond to <code>GL_NEAREST</code> and <code>GL_LINEAR</code> magnification
filters.
<code>minFilter</code> and <code>mipmapMode</code> combine to correspond to the similarly
named OpenGL minification filter of <code>GL_minFilter_MIPMAP_mipmapMode</code>
(e.g. <code>minFilter</code> of <code>VK_FILTER_LINEAR</code> and <code>mipmapMode</code> of
<code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code> correspond to
<code>GL_LINEAR_MIPMAP_NEAREST</code>).</p>
</div>
<div class="paragraph">
<p>There are no Vulkan filter modes that directly correspond to OpenGL
minification filters of <code>GL_LINEAR</code> or <code>GL_NEAREST</code>, but they <strong class="purple">can</strong> be
emulated using <code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code>, <code>minLod</code> = 0, and
<code>maxLod</code> = 0.25, and using <code>minFilter</code> = <code>VK_FILTER_LINEAR</code> or
<code>minFilter</code> = <code>VK_FILTER_NEAREST</code>, respectively.</p>
</div>
<div class="paragraph">
<p>Note that using a <code>maxLod</code> of zero would cause
<a href="#textures-texel-filtering">magnification</a> to always be performed, and the
<code>magFilter</code> to always be used.
This is valid, just not an exact match for OpenGL behavior.
Clamping the maximum LOD to 0.25 allows the <span class="eq">了</span> value to be
non-zero and minification to be performed, while still always rounding down
to the base level.
If the <code>minFilter</code> and <code>magFilter</code> are equal, then using a
<code>maxLod</code> of zero also works.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The maximum number of sampler objects which <strong class="purple">can</strong> be simultaneously created
on a device is implementation-dependent and specified by the
<a href="#limits-maxSamplerAllocationCount">maxSamplerAllocationCount</a> member of the
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a> structure.
If <code>maxSamplerAllocationCount</code> is exceeded, <code>vkCreateSampler</code> will
return <code>VK_ERROR_TOO_MANY_OBJECTS</code>.</p>
</div>
<div class="paragraph">
<p>Since <a href="#VkSampler">VkSampler</a> is a non-dispatchable handle type, implementations
<strong class="purple">may</strong> return the same handle for sampler state vectors that are identical.
In such cases, all such objects would only count once against the
<code>maxSamplerAllocationCount</code> limit.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSamplerCreateInfo-mipLodBias-01069" href="#VUID-VkSamplerCreateInfo-mipLodBias-01069"></a>
The absolute value of <code>mipLodBias</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxSamplerLodBias</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-maxLod-01973" href="#VUID-VkSamplerCreateInfo-maxLod-01973"></a>
<code>maxLod</code> <strong class="purple">must</strong> be greater than or equal to <code>minLod</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-anisotropyEnable-01070" href="#VUID-VkSamplerCreateInfo-anisotropyEnable-01070"></a>
If the <a href="#features-samplerAnisotropy">anisotropic sampling</a> feature is
not enabled, <code>anisotropyEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-anisotropyEnable-01071" href="#VUID-VkSamplerCreateInfo-anisotropyEnable-01071"></a>
If <code>anisotropyEnable</code> is <code>VK_TRUE</code>, <code>maxAnisotropy</code> <strong class="purple">must</strong> be
between <code>1.0</code> and
<code>VkPhysicalDeviceLimits</code>::<code>maxSamplerAnisotropy</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01072" href="#VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01072"></a>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, <code>minFilter</code> and
<code>magFilter</code> <strong class="purple">must</strong> be equal</p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01073" href="#VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01073"></a>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, <code>mipmapMode</code>
<strong class="purple">must</strong> be <code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01074" href="#VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01074"></a>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, <code>minLod</code> and
<code>maxLod</code> <strong class="purple">must</strong> be zero</p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01075" href="#VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01075"></a>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, <code>addressModeU</code>
and <code>addressModeV</code> <strong class="purple">must</strong> each be either
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code> or
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01076" href="#VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01076"></a>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>,
<code>anisotropyEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01077" href="#VUID-VkSamplerCreateInfo-unnormalizedCoordinates-01077"></a>
If <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code>, <code>compareEnable</code>
<strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-addressModeU-01078" href="#VUID-VkSamplerCreateInfo-addressModeU-01078"></a>
If any of <code>addressModeU</code>, <code>addressModeV</code> or <code>addressModeW</code>
are <code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code>, <code>borderColor</code>
<strong class="purple">must</strong> be a valid <a href="#VkBorderColor">VkBorderColor</a> value</p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-compareEnable-01080" href="#VUID-VkSamplerCreateInfo-compareEnable-01080"></a>
If <code>compareEnable</code> is <code>VK_TRUE</code>, <code>compareOp</code> <strong class="purple">must</strong> be a
valid <a href="#VkCompareOp">VkCompareOp</a> value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSamplerCreateInfo-sType-sType" href="#VUID-VkSamplerCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-pNext-pNext" href="#VUID-VkSamplerCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-flags-zerobitmask" href="#VUID-VkSamplerCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-magFilter-parameter" href="#VUID-VkSamplerCreateInfo-magFilter-parameter"></a> <code>magFilter</code> <strong class="purple">must</strong> be a valid <a href="#VkFilter">VkFilter</a> value</p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-minFilter-parameter" href="#VUID-VkSamplerCreateInfo-minFilter-parameter"></a> <code>minFilter</code> <strong class="purple">must</strong> be a valid <a href="#VkFilter">VkFilter</a> value</p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-mipmapMode-parameter" href="#VUID-VkSamplerCreateInfo-mipmapMode-parameter"></a> <code>mipmapMode</code> <strong class="purple">must</strong> be a valid <a href="#VkSamplerMipmapMode">VkSamplerMipmapMode</a> value</p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-addressModeU-parameter" href="#VUID-VkSamplerCreateInfo-addressModeU-parameter"></a> <code>addressModeU</code> <strong class="purple">must</strong> be a valid <a href="#VkSamplerAddressMode">VkSamplerAddressMode</a> value</p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-addressModeV-parameter" href="#VUID-VkSamplerCreateInfo-addressModeV-parameter"></a> <code>addressModeV</code> <strong class="purple">must</strong> be a valid <a href="#VkSamplerAddressMode">VkSamplerAddressMode</a> value</p>
</li>
<li>
<p><a id="VUID-VkSamplerCreateInfo-addressModeW-parameter" href="#VUID-VkSamplerCreateInfo-addressModeW-parameter"></a> <code>addressModeW</code> <strong class="purple">must</strong> be a valid <a href="#VkSamplerAddressMode">VkSamplerAddressMode</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkSamplerCreateInfo">VkSamplerCreateInfo</a>::<code>flags</code>, specifying
additional parameters of a sampler, are:</p>
</div>
<div id="VkSamplerCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkSamplerCreateFlagBits {
    VK_SAMPLER_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkSamplerCreateFlagBits;</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSamplerCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkSamplerCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSamplerCreateFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkSamplerCreateFlagBits">VkSamplerCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <a href="#VkSamplerCreateInfo">VkSamplerCreateInfo</a>::<code>magFilter</code> and
<code>minFilter</code> parameters, specifying filters used for texture lookups,
are:</p>
</div>
<div id="VkFilter" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkFilter {
    VK_FILTER_NEAREST = <span class="integer">0</span>,
    VK_FILTER_LINEAR = <span class="integer">1</span>,
    VK_FILTER_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkFilter;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FILTER_NEAREST</code> specifies nearest filtering.</p>
</li>
<li>
<p><code>VK_FILTER_LINEAR</code> specifies linear filtering.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These filters are described in detail in <a href="#textures-texel-filtering">Texel
Filtering</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <a href="#VkSamplerCreateInfo">VkSamplerCreateInfo</a>::<code>mipmapMode</code>,
specifying the mipmap mode used for texture lookups, are:</p>
</div>
<div id="VkSamplerMipmapMode" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkSamplerMipmapMode {
    VK_SAMPLER_MIPMAP_MODE_NEAREST = <span class="integer">0</span>,
    VK_SAMPLER_MIPMAP_MODE_LINEAR = <span class="integer">1</span>,
    VK_SAMPLER_MIPMAP_MODE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkSamplerMipmapMode;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code> specifies nearest filtering.</p>
</li>
<li>
<p><code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code> specifies linear filtering.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These modes are described in detail in <a href="#textures-texel-filtering">Texel
Filtering</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <a href="#VkSamplerCreateInfo">VkSamplerCreateInfo</a>::<code>addressMode*</code>
parameters, specifying the behavior of sampling with coordinates outside the
range <span class="eq">[0,1]</span> for the respective <span class="eq">u</span>, <span class="eq">v</span>, or <span class="eq">w</span> coordinate
as defined in the <a href="#textures-wrapping-operation">Wrapping Operation</a>
section, are:</p>
</div>
<div id="VkSamplerAddressMode" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkSamplerAddressMode {
    VK_SAMPLER_ADDRESS_MODE_REPEAT = <span class="integer">0</span>,
    VK_SAMPLER_ADDRESS_MODE_MIRRORED_REPEAT = <span class="integer">1</span>,
    VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE = <span class="integer">2</span>,
    VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER = <span class="integer">3</span>,
    VK_SAMPLER_ADDRESS_MODE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkSamplerAddressMode;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_ADDRESS_MODE_REPEAT</code> specifies that the repeat wrap mode
will be used.</p>
</li>
<li>
<p><code>VK_SAMPLER_ADDRESS_MODE_MIRRORED_REPEAT</code> specifies that the
mirrored repeat wrap mode will be used.</p>
</li>
<li>
<p><code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code> specifies that the clamp to
edge wrap mode will be used.</p>
</li>
<li>
<p><code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER</code> specifies that the clamp
to border wrap mode will be used.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkSamplerCreateInfo">VkSamplerCreateInfo</a>::<code>borderColor</code>, specifying
the border color used for texture lookups, are:</p>
</div>
<div id="VkBorderColor" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkBorderColor {
    VK_BORDER_COLOR_FLOAT_TRANSPARENT_BLACK = <span class="integer">0</span>,
    VK_BORDER_COLOR_INT_TRANSPARENT_BLACK = <span class="integer">1</span>,
    VK_BORDER_COLOR_FLOAT_OPAQUE_BLACK = <span class="integer">2</span>,
    VK_BORDER_COLOR_INT_OPAQUE_BLACK = <span class="integer">3</span>,
    VK_BORDER_COLOR_FLOAT_OPAQUE_WHITE = <span class="integer">4</span>,
    VK_BORDER_COLOR_INT_OPAQUE_WHITE = <span class="integer">5</span>,
    VK_BORDER_COLOR_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkBorderColor;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_BORDER_COLOR_FLOAT_TRANSPARENT_BLACK</code> specifies a transparent,
floating-point format, black color.</p>
</li>
<li>
<p><code>VK_BORDER_COLOR_INT_TRANSPARENT_BLACK</code> specifies a transparent,
integer format, black color.</p>
</li>
<li>
<p><code>VK_BORDER_COLOR_FLOAT_OPAQUE_BLACK</code> specifies an opaque,
floating-point format, black color.</p>
</li>
<li>
<p><code>VK_BORDER_COLOR_INT_OPAQUE_BLACK</code> specifies an opaque, integer
format, black color.</p>
</li>
<li>
<p><code>VK_BORDER_COLOR_FLOAT_OPAQUE_WHITE</code> specifies an opaque,
floating-point format, white color.</p>
</li>
<li>
<p><code>VK_BORDER_COLOR_INT_OPAQUE_WHITE</code> specifies an opaque, integer
format, white color.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These colors are described in detail in <a href="#textures-texel-replacement">Texel
Replacement</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a sampler, call:</p>
</div>
<div id="vkDestroySampler" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroySampler(
    VkDevice                                    device,
    VkSampler                                   sampler,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the sampler.</p>
</li>
<li>
<p><code>sampler</code> is the sampler to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySampler-sampler-01082" href="#VUID-vkDestroySampler-sampler-01082"></a>
All submitted commands that refer to <code>sampler</code> <strong class="purple">must</strong> have completed
execution</p>
</li>
<li>
<p><a id="VUID-vkDestroySampler-sampler-01083" href="#VUID-vkDestroySampler-sampler-01083"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>sampler</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroySampler-sampler-01084" href="#VUID-vkDestroySampler-sampler-01084"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>sampler</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroySampler-device-parameter" href="#VUID-vkDestroySampler-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySampler-sampler-parameter" href="#VUID-vkDestroySampler-sampler-parameter"></a> If <code>sampler</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>sampler</code> <strong class="purple">must</strong> be a valid <a href="#VkSampler">VkSampler</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroySampler-pAllocator-parameter" href="#VUID-vkDestroySampler-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroySampler-sampler-parent" href="#VUID-vkDestroySampler-sampler-parent"></a> If <code>sampler</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>sampler</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="descriptorsets"><a class="anchor" href="#descriptorsets"></a>13. Resource Descriptors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <em>descriptor</em> is an opaque data structure representing a shader resource
such as a buffer, buffer view, image view, sampler, or combined image
sampler.
Descriptors are organised into <em>descriptor sets</em>, which are bound during
command recording for use in subsequent draw commands.
The arrangement of content in each descriptor set is determined by a
<em>descriptor set layout</em>, which determines what descriptors can be stored
within it.
The sequence of descriptor set layouts that <strong class="purple">can</strong> be used by a pipeline is
specified in a <em>pipeline layout</em>.
Each pipeline object <strong class="purple">can</strong> use up to <code>maxBoundDescriptorSets</code> (see
<a href="#limits">Limits</a>) descriptor sets.</p>
</div>
<div class="paragraph">
<p>Shaders access resources via variables decorated with a descriptor set and
binding number that link them to a descriptor in a descriptor set.
The shader interface mapping to bound descriptor sets is described in the
<a href="#interfaces-resources">Shader Resource Interface</a> section.</p>
</div>
<div class="sect2">
<h3 id="descriptorsets-types"><a class="anchor" href="#descriptorsets-types"></a>13.1. Descriptor Types</h3>
<div class="paragraph">
<p>There are a number of different types of descriptor supported by Vulkan,
corresponding to different resources or usage.
The following sections describe the API definitions of each descriptor type.
The mapping of each type to SPIR-V is listed in the
<a href="#interfaces-resources-correspondence">Shader Resource and Descriptor Type
Correspondence</a> and <a href="#interfaces-resources-storage-class-correspondence">Shader Resource and Storage Class Correspondence</a> tables in the
<a href="#interfaces">Shader Interfaces</a> chapter.</p>
</div>
<div class="sect3">
<h4 id="descriptorsets-storageimage"><a class="anchor" href="#descriptorsets-storageimage"></a>13.1.1. Storage Image</h4>
<div class="paragraph">
<p>A <em>storage image</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>) is a descriptor
type associated with an <a href="#resources-images">image resource</a> via an
<a href="#resources-image-views">image view</a> that load, store, and atomic
operations <strong class="purple">can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Storage image loads are supported in all shader stages for image views whose
<a href="#resources-image-view-format-features">format features</a> contain
<a href="#formats-properties"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>Stores to storage images are supported in compute shaders for image views
whose <a href="#resources-image-view-format-features">format features</a> contain
<a href="#formats-properties"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>Atomic operations on storage images are supported in compute shaders for
image views whose <a href="#resources-image-view-format-features">format features</a>
contain
<a href="#formats-properties"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>When the <a href="#features-fragmentStoresAndAtomics"><code>fragmentStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported for storage images in fragment shaders with
the same set of image formats as supported in compute shaders.
When the <a href="#features-vertexPipelineStoresAndAtomics"><code>vertexPipelineStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported in vertex, tessellation, and geometry shaders
with the same set of image formats as supported in compute shaders.</p>
</div>
<div class="paragraph">
<p>The image subresources for a storage image <strong class="purple">must</strong> be in the
<code>VK_IMAGE_LAYOUT_GENERAL</code> layout in order to access its data in a
shader.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-sampler"><a class="anchor" href="#descriptorsets-sampler"></a>13.1.2. Sampler</h4>
<div class="paragraph">
<p>A <em>sampler descriptor</em> (<code>VK_DESCRIPTOR_TYPE_SAMPLER</code>) is a descriptor
type associated with a <a href="#samplers">sampler</a> object, used to control the
behavior of <a href="#textures">sampling operations</a> performed on a
<a href="#descriptorsets-sampledimage">sampled image</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-sampledimage"><a class="anchor" href="#descriptorsets-sampledimage"></a>13.1.3. Sampled Image</h4>
<div class="paragraph">
<p>A <em>sampled image</em> (<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>) is a descriptor
type associated with an <a href="#resources-images">image resource</a> via an
<a href="#resources-image-views">image view</a> that <a href="#textures">sampling operations</a>
<strong class="purple">can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Shaders combine a sampled image variable and a sampler variable to perform
sampling operations.</p>
</div>
<div class="paragraph">
<p>Sampled images are supported in all shader stages for image views whose
<a href="#resources-image-view-format-features">format features</a> contain
<a href="#formats-properties"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>The image subresources for a sampled image <strong class="purple">must</strong> be in the
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code>, or
<code>VK_IMAGE_LAYOUT_GENERAL</code> layout in order to access its data in a
shader.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-combinedimagesampler"><a class="anchor" href="#descriptorsets-combinedimagesampler"></a>13.1.4. Combined Image Sampler</h4>
<div class="paragraph">
<p>A <em>combined image sampler</em> (<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>)
is a single descriptor type associated with both a <a href="#samplers">sampler</a> and
an <a href="#resources-images">image resource</a>, combining both a
<a href="#descriptorsets-sampler">sampler</a> and <a href="#descriptorsets-sampledimage">sampled image</a> descriptor into a single descriptor.</p>
</div>
<div class="paragraph">
<p>The
sampler and image in this type of descriptor <strong class="purple">can</strong> be used freely with any
other samplers and images.</p>
</div>
<div class="paragraph">
<p>The image subresources for a combined image sampler <strong class="purple">must</strong> be in the
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code>, or
<code>VK_IMAGE_LAYOUT_GENERAL</code> layout in order to access its data in a
shader.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>On some implementations, it <strong class="purple">may</strong> be more efficient to sample from an image
using a combination of sampler and sampled image that are stored together in
the descriptor set in a combined descriptor.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-uniformtexelbuffer"><a class="anchor" href="#descriptorsets-uniformtexelbuffer"></a>13.1.5. Uniform Texel Buffer</h4>
<div class="paragraph">
<p>A <em>uniform texel buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>) is
a descriptor type associated with a <a href="#resources-buffers">buffer resource</a>
via a <a href="#resources-buffer-views">buffer view</a> that <a href="#textures">formatted load
operations</a> <strong class="purple">can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Uniform texel buffers define a tightly-packed 1-dimensional linear array of
texels, with texels going through format conversion when read in a shader in
the same way as they are for an image.</p>
</div>
<div class="paragraph">
<p>Load operations from uniform texel buffers are supported in all shader
stages for image formats which report support for the
<a href="#formats-properties"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></a>
feature bit via <a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> in
<a href="#VkFormatProperties">VkFormatProperties</a>::<code>bufferFeatures</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-storagetexelbuffer"><a class="anchor" href="#descriptorsets-storagetexelbuffer"></a>13.1.6. Storage Texel Buffer</h4>
<div class="paragraph">
<p>A <em>storage texel buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>) is
a descriptor type associated with a <a href="#resources-buffers">buffer resource</a>
via a <a href="#resources-buffer-views">buffer view</a> that <a href="#textures">formatted
load, store, and atomic operations</a> <strong class="purple">can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Storage texel buffers define a tightly-packed 1-dimensional linear array of
texels, with texels going through format conversion when read in a shader in
the same way as they are for an image.
Unlike <a href="#descriptorsets-uniformtexelbuffer">uniform texel buffers</a>, these
buffers can also be written to in the same way as for
<a href="#descriptorsets-storageimage">storage images</a>.</p>
</div>
<div class="paragraph">
<p>Storage texel buffer loads are supported in all shader stages for texel
buffer formats which report support for the
<a href="#formats-properties"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></a>
feature bit via <a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> in
<a href="#VkFormatProperties">VkFormatProperties</a>::<code>bufferFeatures</code>.</p>
</div>
<div class="paragraph">
<p>Stores to storage texel buffers are supported in compute shaders for texel
buffer formats which report support for the
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code> feature via
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> in
<a href="#VkFormatProperties">VkFormatProperties</a>::<code>bufferFeatures</code>.</p>
</div>
<div class="paragraph">
<p>Atomic operations on storage texel buffers are supported in compute shaders
for texel buffer formats which report support for the
<a href="#formats-properties"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></a>
feature via <a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> in
<a href="#VkFormatProperties">VkFormatProperties</a>::<code>bufferFeatures</code>.</p>
</div>
<div class="paragraph">
<p>When the <a href="#features-fragmentStoresAndAtomics"><code>fragmentStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported for storage texel buffers in fragment shaders
with the same set of texel buffer formats as supported in compute shaders.
When the <a href="#features-vertexPipelineStoresAndAtomics"><code>vertexPipelineStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported in vertex, tessellation, and geometry shaders
with the same set of texel buffer formats as supported in compute shaders.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-storagebuffer"><a class="anchor" href="#descriptorsets-storagebuffer"></a>13.1.7. Storage Buffer</h4>
<div class="paragraph">
<p>A <em>storage buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>) is a descriptor
type associated with a <a href="#resources-buffers">buffer resource</a> directly,
described in a shader as a structure with various members that load, store,
and atomic operations <strong class="purple">can</strong> be performed on.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Atomic operations <strong class="purple">can</strong> only be performed on members of certain types as
defined in the <a href="#spirvenv">SPIR-V environment appendix</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-uniformbuffer"><a class="anchor" href="#descriptorsets-uniformbuffer"></a>13.1.8. Uniform Buffer</h4>
<div class="paragraph">
<p>A <em>uniform buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>) is a descriptor
type associated with a <a href="#resources-buffers">buffer resource</a> directly,
described in a shader as a structure with various members that load
operations <strong class="purple">can</strong> be performed on.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-uniformbufferdynamic"><a class="anchor" href="#descriptorsets-uniformbufferdynamic"></a>13.1.9. Dynamic Uniform Buffer</h4>
<div class="paragraph">
<p>A <em>dynamic uniform buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>)
is almost identical to a <a href="#descriptorsets-uniformbuffer">uniform buffer</a>,
and differs only in how the offset into the buffer is specified.
The base offset calculated by the <a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> when
initially <a href="#descriptorsets-updates">updating the descriptor set</a> is added
to a <a href="#descriptorsets-binding-dynamicoffsets">dynamic offset</a> when binding
the descriptor set.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-storagebufferdynamic"><a class="anchor" href="#descriptorsets-storagebufferdynamic"></a>13.1.10. Dynamic Storage Buffer</h4>
<div class="paragraph">
<p>A <em>dynamic storage buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>)
is almost identical to a <a href="#descriptorsets-storagebuffer">storage buffer</a>,
and differs only in how the offset into the buffer is specified.
The base offset calculated by the <a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> when
initially <a href="#descriptorsets-updates">updating the descriptor set</a> is added
to a <a href="#descriptorsets-binding-dynamicoffsets">dynamic offset</a> when binding
the descriptor set.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-inputattachment"><a class="anchor" href="#descriptorsets-inputattachment"></a>13.1.11. Input Attachment</h4>
<div class="paragraph">
<p>An <em>input attachment</em> (<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>) is a
descriptor type associated with an <a href="#resources-images">image resource</a> via
an <a href="#resources-image-views">image view</a> that <strong class="purple">can</strong> be used for
<a href="#synchronization-framebuffer-regions">framebuffer local</a> load operations in
fragment shaders.</p>
</div>
<div class="paragraph">
<p>All image formats that are supported for color attachments
(<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>) or depth/stencil attachments
(<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>) for a given image
tiling mode are also supported for input attachments.</p>
</div>
<div class="paragraph">
<p>The image subresources for an input attachment <strong class="purple">must</strong> be in the
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code>, or
<code>VK_IMAGE_LAYOUT_GENERAL</code> layout in order to access its data in a
shader.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-sets"><a class="anchor" href="#descriptorsets-sets"></a>13.2. Descriptor Sets</h3>
<div class="paragraph">
<p>Descriptors are grouped together into descriptor set objects.
A descriptor set object is an opaque object containing storage for a set of
descriptors, where the types and number of descriptors is defined by a
descriptor set layout.
The layout object <strong class="purple">may</strong> be used to define the association of each descriptor
binding with memory or other implementation resources.
The layout is used both for determining the resources that need to be
associated with the descriptor set, and determining the interface between
shader stages and shader resources.</p>
</div>
<div class="sect3">
<h4 id="descriptorsets-setlayout"><a class="anchor" href="#descriptorsets-setlayout"></a>13.2.1. Descriptor Set Layout</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A descriptor set layout object is defined by an array of zero or more
descriptor bindings.
Each individual descriptor binding is specified by a descriptor type, a
count (array size) of the number of descriptors in the binding, a set of
shader stages that <strong class="purple">can</strong> access the binding, and (if using immutable
samplers) an array of sampler descriptors.</p>
</div>
<div class="paragraph">
<p>Descriptor set layout objects are represented by <code>VkDescriptorSetLayout</code>
handles:</p>
</div>
<div id="VkDescriptorSetLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDescriptorSetLayout)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create descriptor set layout objects, call:</p>
</div>
<div id="vkCreateDescriptorSetLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateDescriptorSetLayout(
    VkDevice                                    device,
    <span class="directive">const</span> VkDescriptorSetLayoutCreateInfo*      pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkDescriptorSetLayout*                      pSetLayout);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the descriptor set
layout.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure specifying the state of
the descriptor set layout object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pSetLayout</code> is a pointer to a <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handle in
which the resulting descriptor set layout object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-device-parameter" href="#VUID-vkCreateDescriptorSetLayout-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-pCreateInfo-parameter" href="#VUID-vkCreateDescriptorSetLayout-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-pAllocator-parameter" href="#VUID-vkCreateDescriptorSetLayout-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-pSetLayout-parameter" href="#VUID-vkCreateDescriptorSetLayout-pSetLayout-parameter"></a> <code>pSetLayout</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about the descriptor set layout is passed in a
<code>VkDescriptorSetLayoutCreateInfo</code> structure:</p>
</div>
<div id="VkDescriptorSetLayoutCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDescriptorSetLayoutCreateInfo {
    VkStructureType                        sType;
    <span class="directive">const</span> <span class="directive">void</span>*                            pNext;
    VkDescriptorSetLayoutCreateFlags       flags;
    uint32_t                               bindingCount;
    <span class="directive">const</span> VkDescriptorSetLayoutBinding*    pBindings;
} VkDescriptorSetLayoutCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask
specifying options for descriptor set layout creation.</p>
</li>
<li>
<p><code>bindingCount</code> is the number of elements in <code>pBindings</code>.</p>
</li>
<li>
<p><code>pBindings</code> is a pointer to an array of
<a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> structures.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-binding-00279" href="#VUID-VkDescriptorSetLayoutCreateInfo-binding-00279"></a>
The <a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a>::<code>binding</code> members of the
elements of the <code>pBindings</code> array <strong class="purple">must</strong> each have different values.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-sType-sType" href="#VUID-VkDescriptorSetLayoutCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-pNext-pNext" href="#VUID-VkDescriptorSetLayoutCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-zerobitmask" href="#VUID-VkDescriptorSetLayoutCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-pBindings-parameter" href="#VUID-VkDescriptorSetLayoutCreateInfo-pBindings-parameter"></a> If <code>bindingCount</code> is not <code>0</code>, <code>pBindings</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bindingCount</code> valid <a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>flags</code>
to specify options for descriptor set layout are:</p>
</div>
<div id="VkDescriptorSetLayoutCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkDescriptorSetLayoutCreateFlagBits {
    VK_DESCRIPTOR_SET_LAYOUT_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkDescriptorSetLayoutCreateFlagBits;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>All bits for this type are defined by extensions, and none of those
extensions are enabled in this build of the specification.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorSetLayoutCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkDescriptorSetLayoutCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorSetLayoutCreateFlags</code> is a bitmask type for setting a mask
of zero or more <a href="#VkDescriptorSetLayoutCreateFlagBits">VkDescriptorSetLayoutCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorSetLayoutBinding</code> structure is defined as:</p>
</div>
<div id="VkDescriptorSetLayoutBinding" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDescriptorSetLayoutBinding {
    uint32_t              binding;
    VkDescriptorType      descriptorType;
    uint32_t              descriptorCount;
    VkShaderStageFlags    stageFlags;
    <span class="directive">const</span> VkSampler*      pImmutableSamplers;
} VkDescriptorSetLayoutBinding;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>binding</code> is the binding number of this entry and corresponds to a
resource of the same binding number in the shader stages.</p>
</li>
<li>
<p><code>descriptorType</code> is a <a href="#VkDescriptorType">VkDescriptorType</a> specifying which type
of resource descriptors are used for this binding.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors contained in the
binding, accessed in a shader as an array
.
If <code>descriptorCount</code> is zero this binding entry is reserved and the
resource <strong class="purple">must</strong> not be accessed from any stage via this binding within
any pipeline using the set layout.</p>
</li>
<li>
<p><code>stageFlags</code> member is a bitmask of <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a>
specifying which pipeline shader stages <strong class="purple">can</strong> access a resource for this
binding.
<code>VK_SHADER_STAGE_ALL</code> is a shorthand specifying that all defined
shader stages, including any additional stages defined by extensions,
<strong class="purple">can</strong> access the resource.</p>
<div class="paragraph">
<p>If a shader stage is not included in <code>stageFlags</code>, then a resource <strong class="purple">must</strong>
not be accessed from that stage via this binding within any pipeline using
the set layout.
Other than input attachments which are limited to the fragment shader, there
are no limitations on what combinations of stages <strong class="purple">can</strong> use a descriptor
binding, and in particular a binding <strong class="purple">can</strong> be used by both graphics stages
and the compute stage.</p>
</div>
</li>
<li>
<p><code>pImmutableSamplers</code> affects initialization of samplers.
If <code>descriptorType</code> specifies a <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> type descriptor, then
<code>pImmutableSamplers</code> <strong class="purple">can</strong> be used to initialize a set of <em>immutable
samplers</em>.
Immutable samplers are permanently bound into the set layout and <strong class="purple">must</strong>
not be changed; updating a <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> descriptor
with immutable samplers is not allowed and updates to a
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> descriptor with
immutable samplers does not modify the samplers (the image views are
updated, but the sampler updates are ignored).
If <code>pImmutableSamplers</code> is not <code>NULL</code>, then it points to an array of
sampler handles that will be copied into the set layout and used for the
corresponding binding.
Only the sampler handles are copied; the sampler objects <strong class="purple">must</strong> not be
destroyed before the final use of the set layout and any descriptor
pools and sets created using it.
If <code>pImmutableSamplers</code> is <code>NULL</code>, then the sampler slots are
dynamic and sampler handles <strong class="purple">must</strong> be bound into descriptor sets using
this layout.
If <code>descriptorType</code> is not one of these descriptor types, then
<code>pImmutableSamplers</code> is ignored.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above layout definition allows the descriptor bindings to be specified
sparsely such that not all binding numbers between 0 and the maximum binding
number need to be specified in the <code>pBindings</code> array.
Bindings that are not specified have a <code>descriptorCount</code> and
<code>stageFlags</code> of zero, and the value of <code>descriptorType</code> is
undefined.
However, all binding numbers between 0 and the maximum binding number in the
<a href="#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>pBindings</code> array <strong class="purple">may</strong> consume
memory in the descriptor set layout even if not all descriptor bindings are
used, though it <strong class="purple">should</strong> not consume additional memory from the descriptor
pool.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The maximum binding number specified <strong class="purple">should</strong> be as compact as possible to
avoid wasted memory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-00282" href="#VUID-VkDescriptorSetLayoutBinding-descriptorType-00282"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
<code>descriptorCount</code> is not <code>0</code> and <code>pImmutableSamplers</code> is not
<code>NULL</code>, <code>pImmutableSamplers</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>descriptorCount</code> valid <code>VkSampler</code> handles</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorCount-00283" href="#VUID-VkDescriptorSetLayoutBinding-descriptorCount-00283"></a>
If <code>descriptorCount</code> is not <code>0</code>, <code>stageFlags</code> <strong class="purple">must</strong> be a valid
combination of <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-01510" href="#VUID-VkDescriptorSetLayoutBinding-descriptorType-01510"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> and
<code>descriptorCount</code> is not <code>0</code>, then <code>stageFlags</code> <strong class="purple">must</strong> be <code>0</code> or
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-parameter" href="#VUID-VkDescriptorSetLayoutBinding-descriptorType-parameter"></a> <code>descriptorType</code> <strong class="purple">must</strong> be a valid <a href="#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The following examples show a shader snippet using two descriptor sets, and
application code that creates corresponding descriptor set layouts.</p>
</div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="glsl">//
// binding to a single sampled image descriptor in set 0
//
layout (set=0, binding=0) uniform texture2D mySampledImage;

//
// binding to an array of sampled image descriptors in set 0
//
layout (set=0, binding=1) uniform texture2D myArrayOfSampledImages[12];

//
// binding to a single uniform buffer descriptor in set 1
//
layout (set=1, binding=0) uniform myUniformBuffer
{
    vec4 myElement[32];
};</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="spirv">               ...
          %1 = OpExtInstImport &quot;GLSL.std.450&quot;
               ...
               OpName %9 &quot;mySampledImage&quot;
               OpName %14 &quot;myArrayOfSampledImages&quot;
               OpName %18 &quot;myUniformBuffer&quot;
               OpMemberName %18 0 &quot;myElement&quot;
               OpName %20 &quot;&quot;
               OpDecorate %9 DescriptorSet 0
               OpDecorate %9 Binding 0
               OpDecorate %14 DescriptorSet 0
               OpDecorate %14 Binding 1
               OpDecorate %17 ArrayStride 16
               OpMemberDecorate %18 0 Offset 0
               OpDecorate %18 Block
               OpDecorate %20 DescriptorSet 1
               OpDecorate %20 Binding 0
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
         %10 = OpTypeInt 32 0
         %11 = OpConstant %10 12
         %12 = OpTypeArray %7 %11
         %13 = OpTypePointer UniformConstant %12
         %14 = OpVariable %13 UniformConstant
         %15 = OpTypeVector %6 4
         %16 = OpConstant %10 32
         %17 = OpTypeArray %15 %16
         %18 = OpTypeStruct %17
         %19 = OpTypePointer Uniform %18
         %20 = OpVariable %19 Uniform
               ...</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult myResult;

<span class="directive">const</span> VkDescriptorSetLayoutBinding myDescriptorSetLayoutBinding[] =
{
    <span class="comment">// binding to a single image descriptor</span>
    {
        <span class="integer">0</span>,                                      <span class="comment">// binding</span>
        VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE,       <span class="comment">// descriptorType</span>
        <span class="integer">1</span>,                                      <span class="comment">// descriptorCount</span>
        VK_SHADER_STAGE_FRAGMENT_BIT,           <span class="comment">// stageFlags</span>
        <span class="predefined-constant">NULL</span>                                    <span class="comment">// pImmutableSamplers</span>
    },

    <span class="comment">// binding to an array of image descriptors</span>
    {
        <span class="integer">1</span>,                                      <span class="comment">// binding</span>
        VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE,       <span class="comment">// descriptorType</span>
        <span class="integer">12</span>,                                     <span class="comment">// descriptorCount</span>
        VK_SHADER_STAGE_FRAGMENT_BIT,           <span class="comment">// stageFlags</span>
        <span class="predefined-constant">NULL</span>                                    <span class="comment">// pImmutableSamplers</span>
    },

    <span class="comment">// binding to a single uniform buffer descriptor</span>
    {
        <span class="integer">0</span>,                                      <span class="comment">// binding</span>
        VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER,      <span class="comment">// descriptorType</span>
        <span class="integer">1</span>,                                      <span class="comment">// descriptorCount</span>
        VK_SHADER_STAGE_FRAGMENT_BIT,           <span class="comment">// stageFlags</span>
        <span class="predefined-constant">NULL</span>                                    <span class="comment">// pImmutableSamplers</span>
    }
};

<span class="directive">const</span> VkDescriptorSetLayoutCreateInfo myDescriptorSetLayoutCreateInfo[] =
{
    <span class="comment">// Create info for first descriptor set with two descriptor bindings</span>
    {
        VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO,    <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                                   <span class="comment">// pNext</span>
        <span class="integer">0</span>,                                                      <span class="comment">// flags</span>
        <span class="integer">2</span>,                                                      <span class="comment">// bindingCount</span>
        &amp;myDescriptorSetLayoutBinding[<span class="integer">0</span>]                        <span class="comment">// pBindings</span>
    },

    <span class="comment">// Create info for second descriptor set with one descriptor binding</span>
    {
        VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO,    <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                                   <span class="comment">// pNext</span>
        <span class="integer">0</span>,                                                      <span class="comment">// flags</span>
        <span class="integer">1</span>,                                                      <span class="comment">// bindingCount</span>
        &amp;myDescriptorSetLayoutBinding[<span class="integer">2</span>]                        <span class="comment">// pBindings</span>
    }
};

VkDescriptorSetLayout myDescriptorSetLayout[<span class="integer">2</span>];

<span class="comment">//</span>
<span class="comment">// Create first descriptor set layout</span>
<span class="comment">//</span>
myResult = vkCreateDescriptorSetLayout(
    myDevice,
    &amp;myDescriptorSetLayoutCreateInfo[<span class="integer">0</span>],
    <span class="predefined-constant">NULL</span>,
    &amp;myDescriptorSetLayout[<span class="integer">0</span>]);

<span class="comment">//</span>
<span class="comment">// Create second descriptor set layout</span>
<span class="comment">//</span>
myResult = vkCreateDescriptorSetLayout(
    myDevice,
    &amp;myDescriptorSetLayoutCreateInfo[<span class="integer">1</span>],
    <span class="predefined-constant">NULL</span>,
    &amp;myDescriptorSetLayout[<span class="integer">1</span>]);</code></pre>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a descriptor set layout, call:</p>
</div>
<div id="vkDestroyDescriptorSetLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyDescriptorSetLayout(
    VkDevice                                    device,
    VkDescriptorSetLayout                       descriptorSetLayout,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the descriptor set
layout.</p>
</li>
<li>
<p><code>descriptorSetLayout</code> is the descriptor set layout to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00284" href="#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00284"></a>
If <code>VkAllocationCallbacks</code> were provided when
<code>descriptorSetLayout</code> was created, a compatible set of callbacks
<strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00285" href="#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00285"></a>
If no <code>VkAllocationCallbacks</code> were provided when
<code>descriptorSetLayout</code> was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-device-parameter" href="#VUID-vkDestroyDescriptorSetLayout-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parameter" href="#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parameter"></a> If <code>descriptorSetLayout</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>descriptorSetLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-pAllocator-parameter" href="#VUID-vkDestroyDescriptorSetLayout-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parent" href="#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parent"></a> If <code>descriptorSetLayout</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorSetLayout</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-pipelinelayout"><a class="anchor" href="#descriptorsets-pipelinelayout"></a>13.2.2. Pipeline Layouts</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Access to descriptor sets from a pipeline is accomplished through a
<em>pipeline layout</em>.
Zero or more descriptor set layouts and zero or more push constant ranges
are combined to form a pipeline layout object describing the complete set of
resources that <strong class="purple">can</strong> be accessed by a pipeline.
The pipeline layout represents a sequence of descriptor sets with each
having a specific layout.
This sequence of layouts is used to determine the interface between shader
stages and shader resources.
Each pipeline is created using a pipeline layout.</p>
</div>
<div class="paragraph">
<p>Pipeline layout objects are represented by <code>VkPipelineLayout</code> handles:</p>
</div>
<div id="VkPipelineLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkPipelineLayout)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a pipeline layout, call:</p>
</div>
<div id="vkCreatePipelineLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreatePipelineLayout(
    VkDevice                                    device,
    <span class="directive">const</span> VkPipelineLayoutCreateInfo*           pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkPipelineLayout*                           pPipelineLayout);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the pipeline layout.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>
structure specifying the state of the pipeline layout object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelineLayout</code> is a pointer to a <a href="#VkPipelineLayout">VkPipelineLayout</a> handle in
which the resulting pipeline layout object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreatePipelineLayout-device-parameter" href="#VUID-vkCreatePipelineLayout-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineLayout-pCreateInfo-parameter" href="#VUID-vkCreatePipelineLayout-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineLayout-pAllocator-parameter" href="#VUID-vkCreatePipelineLayout-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineLayout-pPipelineLayout-parameter" href="#VUID-vkCreatePipelineLayout-pPipelineLayout-parameter"></a> <code>pPipelineLayout</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a> structure is defined as:</p>
</div>
<div id="VkPipelineLayoutCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineLayoutCreateInfo {
    VkStructureType                 sType;
    <span class="directive">const</span> <span class="directive">void</span>*                     pNext;
    VkPipelineLayoutCreateFlags     flags;
    uint32_t                        setLayoutCount;
    <span class="directive">const</span> VkDescriptorSetLayout*    pSetLayouts;
    uint32_t                        pushConstantRangeCount;
    <span class="directive">const</span> VkPushConstantRange*      pPushConstantRanges;
} VkPipelineLayoutCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>setLayoutCount</code> is the number of descriptor sets included in the
pipeline layout.</p>
</li>
<li>
<p><code>pSetLayouts</code> is a pointer to an array of
<code>VkDescriptorSetLayout</code> objects.</p>
</li>
<li>
<p><code>pushConstantRangeCount</code> is the number of push constant ranges
included in the pipeline layout.</p>
</li>
<li>
<p><code>pPushConstantRanges</code> is a pointer to an array of
<code>VkPushConstantRange</code> structures defining a set of push constant
ranges for use in a single pipeline layout.
In addition to descriptor set layouts, a pipeline layout also describes
how many push constants <strong class="purple">can</strong> be accessed by each stage of the pipeline.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Push constants represent a high speed path to modify constant data in
pipelines that is expected to outperform memory-backed resource updates.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-setLayoutCount-00286" href="#VUID-VkPipelineLayoutCreateInfo-setLayoutCount-00286"></a>
<code>setLayoutCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxBoundDescriptorSets</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00287" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00287"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible to any shader
stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than or
equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorSamplers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00288" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00288"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> and
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible to any shader
stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than or
equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorUniformBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00289" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00289"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> and
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible to any shader
stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than or
equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorStorageBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00290" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00290"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> accessible to any shader
stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than or
equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorSampledImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00291" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00291"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible to any shader
stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than or
equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorStorageImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01676" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01676"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> accessible to any given shader
stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than or
equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorInputAttachments</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01677" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01677"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetSamplers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01678" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01678"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> accessible across all shader
stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetUniformBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01679" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01679"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetUniformBuffersDynamic</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01680" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01680"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> accessible across all shader
stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetStorageBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01681" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01681"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetStorageBuffersDynamic</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01682" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01682"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetSampledImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01683" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01683"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetStorageImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01684" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-01684"></a>
The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> accessible across all shader
stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetInputAttachments</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-00292" href="#VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-00292"></a>
Any two elements of <code>pPushConstantRanges</code> <strong class="purple">must</strong> not include the same
stage in <code>stageFlags</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-sType-sType" href="#VUID-VkPipelineLayoutCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pNext-pNext" href="#VUID-VkPipelineLayoutCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineLayoutCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-parameter" href="#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-parameter"></a> If <code>setLayoutCount</code> is not <code>0</code>, <code>pSetLayouts</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>setLayoutCount</code> valid <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handles</p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-parameter" href="#VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-parameter"></a> If <code>pushConstantRangeCount</code> is not <code>0</code>, <code>pPushConstantRanges</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pushConstantRangeCount</code> valid <a href="#VkPushConstantRange">VkPushConstantRange</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineLayoutCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineLayoutCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineLayoutCreateFlags</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPushConstantRange</code> structure is defined as:</p>
</div>
<div id="VkPushConstantRange" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPushConstantRange {
    VkShaderStageFlags    stageFlags;
    uint32_t              offset;
    uint32_t              size;
} VkPushConstantRange;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>stageFlags</code> is a set of stage flags describing the shader stages
that will access a range of push constants.
If a particular stage is not included in the range, then accessing
members of that range of push constants from the corresponding shader
stage will return undefined values.</p>
</li>
<li>
<p><code>offset</code> and <code>size</code> are the start offset and size, respectively,
consumed by the range.
Both <code>offset</code> and <code>size</code> are in units of bytes and <strong class="purple">must</strong> be a
multiple of 4.
The layout of the push constant variables is specified in the shader.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPushConstantRange-offset-00294" href="#VUID-VkPushConstantRange-offset-00294"></a>
<code>offset</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-offset-00295" href="#VUID-VkPushConstantRange-offset-00295"></a>
<code>offset</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-size-00296" href="#VUID-VkPushConstantRange-size-00296"></a>
<code>size</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-size-00297" href="#VUID-VkPushConstantRange-size-00297"></a>
<code>size</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-size-00298" href="#VUID-VkPushConstantRange-size-00298"></a>
<code>size</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code> minus
<code>offset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPushConstantRange-stageFlags-parameter" href="#VUID-VkPushConstantRange-stageFlags-parameter"></a> <code>stageFlags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-stageFlags-requiredbitmask" href="#VUID-VkPushConstantRange-stageFlags-requiredbitmask"></a> <code>stageFlags</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Once created, pipeline layouts are used as part of pipeline creation (see
<a href="#pipelines">Pipelines</a>), as part of binding descriptor sets (see
<a href="#descriptorsets-binding">Descriptor Set Binding</a>), and as part of setting
push constants (see <a href="#descriptorsets-push-constants">Push Constant
Updates</a>).
Pipeline creation accepts a pipeline layout as input, and the layout <strong class="purple">may</strong> be
used to map (set, binding, arrayElement) tuples to implementation resources
or memory locations within a descriptor set.
The assignment of implementation resources depends only on the bindings
defined in the descriptor sets that comprise the pipeline layout, and not on
any shader source.</p>
</div>
<div id="descriptorsets-pipelinelayout-consistency" class="paragraph">
<p>All resource variables <a href="#shaders-staticuse">statically used</a> in all shaders
in a pipeline <strong class="purple">must</strong> be declared with a (set,binding,arrayElement) that
exists in the corresponding descriptor set layout and is of an appropriate
descriptor type and includes the set of shader stages it is used by in
<code>stageFlags</code>.
The pipeline layout <strong class="purple">can</strong> include entries that are not used by a particular
pipeline, or that are dead-code eliminated from any of the shaders.
The pipeline layout allows the application to provide a consistent set of
bindings across multiple pipeline compiles, which enables those pipelines to
be compiled in a way that the implementation <strong class="purple">may</strong> cheaply switch pipelines
without reprogramming the bindings.</p>
</div>
<div class="paragraph">
<p>Similarly, the push constant block declared in each shader (if present)
<strong class="purple">must</strong> only place variables at offsets that are each included in a push
constant range with <code>stageFlags</code> including the bit corresponding to the
shader stage that uses it.
The pipeline layout <strong class="purple">can</strong> include ranges or portions of ranges that are not
used by a particular pipeline, or for which the variables have been
dead-code eliminated from any of the shaders.</p>
</div>
<div class="paragraph">
<p>There is a limit on the total number of resources of each type that <strong class="purple">can</strong> be
included in bindings in all descriptor set layouts in a pipeline layout as
shown in <a href="#descriptorsets-pipelinelayout-limits">Pipeline Layout Resource
Limits</a>.
The &#8220;Total Resources Available&#8221; column gives the limit on the number of
each type of resource that <strong class="purple">can</strong> be included in bindings in all descriptor
sets in the pipeline layout.
Some resource types count against multiple limits.
Additionally, there are limits on the total number of each type of resource
that <strong class="purple">can</strong> be used in any pipeline stage as described in
<a href="#interfaces-resources-limits">Shader Resource Limits</a>.</p>
</div>
<table id="descriptorsets-pipelinelayout-limits" class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 10. Pipeline Layout Resource Limits</caption>
<colgroup>
<col style="width: 62.7118%;">
<col style="width: 37.2882%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Total Resources Available</th>
<th class="tableblock halign-left valign-top">Resource Types</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetSamplers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock"><code>maxDescriptorSetSampledImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetStorageImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetUniformBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetStorageBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment</p></td>
</tr>
</tbody>
</table>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a pipeline layout, call:</p>
</div>
<div id="vkDestroyPipelineLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyPipelineLayout(
    VkDevice                                    device,
    VkPipelineLayout                            pipelineLayout,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the pipeline layout.</p>
</li>
<li>
<p><code>pipelineLayout</code> is the pipeline layout to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-00299" href="#VUID-vkDestroyPipelineLayout-pipelineLayout-00299"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>pipelineLayout</code>
was created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-00300" href="#VUID-vkDestroyPipelineLayout-pipelineLayout-00300"></a>
If no <code>VkAllocationCallbacks</code> were provided when
<code>pipelineLayout</code> was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-02004" href="#VUID-vkDestroyPipelineLayout-pipelineLayout-02004"></a>
<code>pipelineLayout</code> <strong class="purple">must</strong> not have been passed to any <code>vkCmd*</code>
command for any command buffers that are still in the
<a href="#commandbuffers-lifecycle">recording state</a> when
<code>vkDestroyPipelineLayout</code> is called</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-device-parameter" href="#VUID-vkDestroyPipelineLayout-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-parameter" href="#VUID-vkDestroyPipelineLayout-pipelineLayout-parameter"></a> If <code>pipelineLayout</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>pipelineLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pAllocator-parameter" href="#VUID-vkDestroyPipelineLayout-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-parent" href="#VUID-vkDestroyPipelineLayout-pipelineLayout-parent"></a> If <code>pipelineLayout</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pipelineLayout</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="descriptorsets-compatibility"><a class="anchor" href="#descriptorsets-compatibility"></a>Pipeline Layout Compatibility</h5>
<div class="paragraph">
<p>Two pipeline layouts are defined to be &#8220;compatible for
<a href="#descriptorsets-push-constants">push constants</a>&#8221; if they were created
with identical push constant ranges.
Two pipeline layouts are defined to be &#8220;compatible for set N&#8221; if they were
created with <em>identically defined</em> descriptor set layouts for sets zero
through N, and if they were created with identical push constant ranges.</p>
</div>
<div class="paragraph">
<p>When binding a descriptor set (see <a href="#descriptorsets-binding">Descriptor Set
Binding</a>) to set number N, if the previously bound descriptor sets for sets
zero through N-1 were all bound using compatible pipeline layouts, then
performing this binding does not disturb any of the lower numbered sets.
If, additionally, the previous bound descriptor set for set N was bound
using a pipeline layout compatible for set N, then the bindings in sets
numbered greater than N are also not disturbed.</p>
</div>
<div class="paragraph">
<p>Similarly, when binding a pipeline, the pipeline <strong class="purple">can</strong> correctly access any
previously bound descriptor sets which were bound with compatible pipeline
layouts, as long as all lower numbered sets were also bound with compatible
layouts.</p>
</div>
<div class="paragraph">
<p>Layout compatibility means that descriptor sets <strong class="purple">can</strong> be bound to a command
buffer for use by any pipeline created with a compatible pipeline layout,
and without having bound a particular pipeline first.
It also means that descriptor sets <strong class="purple">can</strong> remain valid across a pipeline
change, and the same resources will be accessible to the newly bound
pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Implementor&#8217;s Note</div>
<div class="paragraph">
<p>A consequence of layout compatibility is that when the implementation
compiles a pipeline layout and maps pipeline resources to implementation
resources, the mechanism for set N <strong class="purple">should</strong> only be a function of sets
[0..N].</p>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Place the least frequently changing descriptor sets near the start of the
pipeline layout, and place the descriptor sets representing the most
frequently changing resources near the end.
When pipelines are switched, only the descriptor set bindings that have been
invalidated will need to be updated and the remainder of the descriptor set
bindings will remain in place.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The maximum number of descriptor sets that <strong class="purple">can</strong> be bound to a pipeline
layout is queried from physical device properties (see
<code>maxBoundDescriptorSets</code> in <a href="#limits">Limits</a>).</p>
</div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">const</span> VkDescriptorSetLayout layouts[] = { layout1, layout2 };

<span class="directive">const</span> VkPushConstantRange ranges[] =
{
    {
        VK_PIPELINE_STAGE_VERTEX_SHADER_BIT,    <span class="comment">// stageFlags</span>
        <span class="integer">0</span>,                                      <span class="comment">// offset</span>
        <span class="integer">4</span>                                       <span class="comment">// size</span>
    },

    {
        VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT,  <span class="comment">// stageFlags</span>
        <span class="integer">4</span>,                                      <span class="comment">// offset</span>
        <span class="integer">4</span>                                       <span class="comment">// size</span>
    },
};

<span class="directive">const</span> VkPipelineLayoutCreateInfo createInfo =
{
    VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO,  <span class="comment">// sType</span>
    <span class="predefined-constant">NULL</span>,                                           <span class="comment">// pNext</span>
    <span class="integer">0</span>,                                              <span class="comment">// flags</span>
    <span class="integer">2</span>,                                              <span class="comment">// setLayoutCount</span>
    layouts,                                        <span class="comment">// pSetLayouts</span>
    <span class="integer">2</span>,                                              <span class="comment">// pushConstantRangeCount</span>
    ranges                                          <span class="comment">// pPushConstantRanges</span>
};

VkPipelineLayout myPipelineLayout;
myResult = vkCreatePipelineLayout(
    myDevice,
    &amp;createInfo,
    <span class="predefined-constant">NULL</span>,
    &amp;myPipelineLayout);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-allocation"><a class="anchor" href="#descriptorsets-allocation"></a>13.2.3. Allocation of Descriptor Sets</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A <em>descriptor pool</em> maintains a pool of descriptors, from which descriptor
sets are allocated.
Descriptor pools are externally synchronized, meaning that the application
<strong class="purple">must</strong> not allocate and/or free descriptor sets from the same pool in
multiple threads simultaneously.</p>
</div>
<div class="paragraph">
<p>Descriptor pools are represented by <code>VkDescriptorPool</code> handles:</p>
</div>
<div id="VkDescriptorPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDescriptorPool)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a descriptor pool object, call:</p>
</div>
<div id="vkCreateDescriptorPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateDescriptorPool(
    VkDevice                                    device,
    <span class="directive">const</span> VkDescriptorPoolCreateInfo*           pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkDescriptorPool*                           pDescriptorPool);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the descriptor pool.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>
structure specifying the state of the descriptor pool object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pDescriptorPool</code> is a pointer to a <a href="#VkDescriptorPool">VkDescriptorPool</a> handle in
which the resulting descriptor pool object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</div>
<div class="paragraph">
<p>The created descriptor pool is returned in <code>pDescriptorPool</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDescriptorPool-device-parameter" href="#VUID-vkCreateDescriptorPool-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorPool-pCreateInfo-parameter" href="#VUID-vkCreateDescriptorPool-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorPool-pAllocator-parameter" href="#VUID-vkCreateDescriptorPool-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorPool-pDescriptorPool-parameter" href="#VUID-vkCreateDescriptorPool-pDescriptorPool-parameter"></a> <code>pDescriptorPool</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Additional information about the pool is passed in a
<code>VkDescriptorPoolCreateInfo</code> structure:</p>
</div>
<div id="VkDescriptorPoolCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDescriptorPoolCreateInfo {
    VkStructureType                sType;
    <span class="directive">const</span> <span class="directive">void</span>*                    pNext;
    VkDescriptorPoolCreateFlags    flags;
    uint32_t                       maxSets;
    uint32_t                       poolSizeCount;
    <span class="directive">const</span> VkDescriptorPoolSize*    pPoolSizes;
} VkDescriptorPoolCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a>
specifying certain supported operations on the pool.</p>
</li>
<li>
<p><code>maxSets</code> is the maximum number of descriptor sets that <strong class="purple">can</strong> be
allocated from the pool.</p>
</li>
<li>
<p><code>poolSizeCount</code> is the number of elements in <code>pPoolSizes</code>.</p>
</li>
<li>
<p><code>pPoolSizes</code> is a pointer to an array of <a href="#VkDescriptorPoolSize">VkDescriptorPoolSize</a>
structures, each containing a descriptor type and number of descriptors
of that type to be allocated in the pool.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If multiple <code>VkDescriptorPoolSize</code> structures appear in the
<code>pPoolSizes</code> array then the pool will be created with enough storage for
the total number of descriptors of each type.</p>
</div>
<div class="paragraph">
<p>Fragmentation of a descriptor pool is possible and <strong class="purple">may</strong> lead to descriptor
set allocation failures.
A failure due to fragmentation is defined as failing a descriptor set
allocation despite the sum of all outstanding descriptor set allocations
from the pool plus the requested allocation requiring no more than the total
number of descriptors requested at pool creation.
Implementations provide certain guarantees of when fragmentation <strong class="purple">must</strong> not
cause allocation failure, as described below.</p>
</div>
<div class="paragraph">
<p>If a descriptor pool has not had any descriptor sets freed since it was
created or most recently reset then fragmentation <strong class="purple">must</strong> not cause an
allocation failure (note that this is always the case for a pool created
without the <code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> bit
set).
Additionally, if all sets allocated from the pool since it was created or
most recently reset use the same number of descriptors (of each type) and
the requested allocation also uses that same number of descriptors (of each
type), then fragmentation <strong class="purple">must</strong> not cause an allocation failure.</p>
</div>
<div class="paragraph">
<p>If an allocation failure occurs due to fragmentation, an application <strong class="purple">can</strong>
create an additional descriptor pool to perform further descriptor set
allocations.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-maxSets-00301" href="#VUID-VkDescriptorPoolCreateInfo-maxSets-00301"></a>
<code>maxSets</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-sType-sType" href="#VUID-VkDescriptorPoolCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-pNext-pNext" href="#VUID-VkDescriptorPoolCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-flags-parameter" href="#VUID-VkDescriptorPoolCreateInfo-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-pPoolSizes-parameter" href="#VUID-VkDescriptorPoolCreateInfo-pPoolSizes-parameter"></a> <code>pPoolSizes</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>poolSizeCount</code> valid <a href="#VkDescriptorPoolSize">VkDescriptorPoolSize</a> structures</p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-poolSizeCount-arraylength" href="#VUID-VkDescriptorPoolCreateInfo-poolSizeCount-arraylength"></a> <code>poolSizeCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>::<code>flags</code> to
enable operations on a descriptor pool are:</p>
</div>
<div id="VkDescriptorPoolCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkDescriptorPoolCreateFlagBits {
    VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT = <span class="hex">0x00000001</span>,
    VK_DESCRIPTOR_POOL_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkDescriptorPoolCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> specifies that
descriptor sets <strong class="purple">can</strong> return their individual allocations to the pool,
i.e. all of <a href="#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a>, <a href="#vkFreeDescriptorSets">vkFreeDescriptorSets</a>,
and <a href="#vkResetDescriptorPool">vkResetDescriptorPool</a> are allowed.
Otherwise, descriptor sets allocated from the pool <strong class="purple">must</strong> not be
individually freed back to the pool, i.e. only
<a href="#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a> and <a href="#vkResetDescriptorPool">vkResetDescriptorPool</a> are
allowed.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorPoolCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkDescriptorPoolCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorPoolCreateFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorPoolSize</code> structure is defined as:</p>
</div>
<div id="VkDescriptorPoolSize" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDescriptorPoolSize {
    VkDescriptorType    type;
    uint32_t            descriptorCount;
} VkDescriptorPoolSize;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>type</code> is the type of descriptor.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors of that type to
allocate.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolSize-descriptorCount-00302" href="#VUID-VkDescriptorPoolSize-descriptorCount-00302"></a>
<code>descriptorCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolSize-type-parameter" href="#VUID-VkDescriptorPoolSize-type-parameter"></a> <code>type</code> <strong class="purple">must</strong> be a valid <a href="#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a descriptor pool, call:</p>
</div>
<div id="vkDestroyDescriptorPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyDescriptorPool(
    VkDevice                                    device,
    VkDescriptorPool                            descriptorPool,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the descriptor pool.</p>
</li>
<li>
<p><code>descriptorPool</code> is the descriptor pool to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a pool is destroyed, all descriptor sets allocated from the pool are
implicitly freed and become invalid.
Descriptor sets allocated from a given pool do not need to be freed before
destroying that descriptor pool.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-00303" href="#VUID-vkDestroyDescriptorPool-descriptorPool-00303"></a>
All submitted commands that refer to <code>descriptorPool</code> (via any
allocated descriptor sets) <strong class="purple">must</strong> have completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-00304" href="#VUID-vkDestroyDescriptorPool-descriptorPool-00304"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>descriptorPool</code>
was created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-00305" href="#VUID-vkDestroyDescriptorPool-descriptorPool-00305"></a>
If no <code>VkAllocationCallbacks</code> were provided when
<code>descriptorPool</code> was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-device-parameter" href="#VUID-vkDestroyDescriptorPool-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-parameter" href="#VUID-vkDestroyDescriptorPool-descriptorPool-parameter"></a> If <code>descriptorPool</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>descriptorPool</code> <strong class="purple">must</strong> be a valid <a href="#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-pAllocator-parameter" href="#VUID-vkDestroyDescriptorPool-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-parent" href="#VUID-vkDestroyDescriptorPool-descriptorPool-parent"></a> If <code>descriptorPool</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Descriptor sets are allocated from descriptor pool objects, and are
represented by <code>VkDescriptorSet</code> handles:</p>
</div>
<div id="VkDescriptorSet" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkDescriptorSet)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To allocate descriptor sets from a descriptor pool, call:</p>
</div>
<div id="vkAllocateDescriptorSets" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkAllocateDescriptorSets(
    VkDevice                                    device,
    <span class="directive">const</span> VkDescriptorSetAllocateInfo*          pAllocateInfo,
    VkDescriptorSet*                            pDescriptorSets);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the descriptor pool.</p>
</li>
<li>
<p><code>pAllocateInfo</code> is a pointer to a <a href="#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a>
structure describing parameters of the allocation.</p>
</li>
<li>
<p><code>pDescriptorSets</code> is a pointer to an array of <a href="#VkDescriptorSet">VkDescriptorSet</a>
handles in which the resulting descriptor set objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The allocated descriptor sets are returned in <code>pDescriptorSets</code>.</p>
</div>
<div class="paragraph">
<p>When a descriptor set is allocated, the initial state is largely
uninitialized and all descriptors are undefined.
Descriptors also become undefined if the underlying resource is destroyed.
Descriptor sets containing undefined descriptors <strong class="purple">can</strong> still be bound and
used, subject to the following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Descriptors that are <a href="#shaders-staticuse">statically used</a> <strong class="purple">must</strong> have
been populated before the descriptor set is
<a href="#descriptorsets-binding">consumed</a>.</p>
</li>
<li>
<p>Entries that are not used by a pipeline <strong class="purple">can</strong> have undefined
descriptors.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If an allocation fails due to fragmentation, an indeterminate error is
returned with an unspecified error code.
Any returned error other than
<code>VK_ERROR_FRAGMENTED_POOL</code> does not imply its usual meaning:
applications <strong class="purple">should</strong> assume that the allocation failed due to fragmentation,
and create a new descriptor pool.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications <strong class="purple">should</strong> check for a negative return value when allocating new
descriptor sets, assume that any error
effectively means <code>VK_ERROR_FRAGMENTED_POOL</code>, and try to create a new
descriptor pool.
If <code>VK_ERROR_FRAGMENTED_POOL</code> is the actual return value, it adds
certainty to that decision.</p>
</div>
<div class="paragraph">
<p>The reason for this is that <code>VK_ERROR_FRAGMENTED_POOL</code> was only added in
a later version of the 1.0 specification, and so drivers <strong class="purple">may</strong> return other
errors if they were written against earlier versions.
To ensure full compatibility with earlier patch versions, these other errors
are allowed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-device-parameter" href="#VUID-vkAllocateDescriptorSets-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-pAllocateInfo-parameter" href="#VUID-vkAllocateDescriptorSets-pAllocateInfo-parameter"></a> <code>pAllocateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-pDescriptorSets-parameter" href="#VUID-vkAllocateDescriptorSets-pDescriptorSets-parameter"></a> <code>pDescriptorSets</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pAllocateInfo</code>::descriptorSetCount <a href="#VkDescriptorSet">VkDescriptorSet</a> handles</p>
</li>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-pAllocateInfo::descriptorSetCount-arraylength" href="#VUID-vkAllocateDescriptorSets-pAllocateInfo::descriptorSetCount-arraylength"></a> The value referenced by <code>pAllocateInfo</code>::<code>descriptorSetCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pAllocateInfo</code>::descriptorPool <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FRAGMENTED_POOL</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorSetAllocateInfo</code> structure is defined as:</p>
</div>
<div id="VkDescriptorSetAllocateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDescriptorSetAllocateInfo {
    VkStructureType                 sType;
    <span class="directive">const</span> <span class="directive">void</span>*                     pNext;
    VkDescriptorPool                descriptorPool;
    uint32_t                        descriptorSetCount;
    <span class="directive">const</span> VkDescriptorSetLayout*    pSetLayouts;
} VkDescriptorSetAllocateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>descriptorPool</code> is the pool which the sets will be allocated from.</p>
</li>
<li>
<p><code>descriptorSetCount</code> determines the number of descriptor sets to be
allocated from the pool.</p>
</li>
<li>
<p><code>pSetLayouts</code> is a pointer to an array of descriptor set layouts,
with each member specifying how the corresponding descriptor set is
allocated.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-descriptorSetCount-00306" href="#VUID-VkDescriptorSetAllocateInfo-descriptorSetCount-00306"></a>
<code>descriptorSetCount</code> <strong class="purple">must</strong> not be greater than the number of sets
that are currently available for allocation in <code>descriptorPool</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-descriptorPool-00307" href="#VUID-VkDescriptorSetAllocateInfo-descriptorPool-00307"></a>
<code>descriptorPool</code> <strong class="purple">must</strong> have enough free descriptor capacity
remaining to allocate the descriptor sets of the specified layouts</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-sType-sType" href="#VUID-VkDescriptorSetAllocateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_ALLOCATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pNext-pNext" href="#VUID-VkDescriptorSetAllocateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-descriptorPool-parameter" href="#VUID-VkDescriptorSetAllocateInfo-descriptorPool-parameter"></a> <code>descriptorPool</code> <strong class="purple">must</strong> be a valid <a href="#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pSetLayouts-parameter" href="#VUID-VkDescriptorSetAllocateInfo-pSetLayouts-parameter"></a> <code>pSetLayouts</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorSetCount</code> valid <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handles</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-descriptorSetCount-arraylength" href="#VUID-VkDescriptorSetAllocateInfo-descriptorSetCount-arraylength"></a> <code>descriptorSetCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-commonparent" href="#VUID-VkDescriptorSetAllocateInfo-commonparent"></a> Both of <code>descriptorPool</code>, and the elements of <code>pSetLayouts</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To free allocated descriptor sets, call:</p>
</div>
<div id="vkFreeDescriptorSets" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkFreeDescriptorSets(
    VkDevice                                    device,
    VkDescriptorPool                            descriptorPool,
    uint32_t                                    descriptorSetCount,
    <span class="directive">const</span> VkDescriptorSet*                      pDescriptorSets);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the descriptor pool.</p>
</li>
<li>
<p><code>descriptorPool</code> is the descriptor pool from which the descriptor
sets were allocated.</p>
</li>
<li>
<p><code>descriptorSetCount</code> is the number of elements in the
<code>pDescriptorSets</code> array.</p>
</li>
<li>
<p><code>pDescriptorSets</code> is a pointer to an array of handles to
<a href="#VkDescriptorSet">VkDescriptorSet</a> objects.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After calling <code>vkFreeDescriptorSets</code>, all descriptor sets in
<code>pDescriptorSets</code> are invalid.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkFreeDescriptorSets-pDescriptorSets-00309" href="#VUID-vkFreeDescriptorSets-pDescriptorSets-00309"></a>
All submitted commands that refer to any element of
<code>pDescriptorSets</code> <strong class="purple">must</strong> have completed execution</p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-pDescriptorSets-00310" href="#VUID-vkFreeDescriptorSets-pDescriptorSets-00310"></a>
<code>pDescriptorSets</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>descriptorSetCount</code> <code>VkDescriptorSet</code> handles, each element of
which <strong class="purple">must</strong> either be a valid handle or <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-pDescriptorSets-00311" href="#VUID-vkFreeDescriptorSets-pDescriptorSets-00311"></a>
Each valid handle in <code>pDescriptorSets</code> <strong class="purple">must</strong> have been allocated
from <code>descriptorPool</code></p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorPool-00312" href="#VUID-vkFreeDescriptorSets-descriptorPool-00312"></a>
<code>descriptorPool</code> <strong class="purple">must</strong> have been created with the
<code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> flag</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkFreeDescriptorSets-device-parameter" href="#VUID-vkFreeDescriptorSets-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorPool-parameter" href="#VUID-vkFreeDescriptorSets-descriptorPool-parameter"></a> <code>descriptorPool</code> <strong class="purple">must</strong> be a valid <a href="#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorSetCount-arraylength" href="#VUID-vkFreeDescriptorSets-descriptorSetCount-arraylength"></a> <code>descriptorSetCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorPool-parent" href="#VUID-vkFreeDescriptorSets-descriptorPool-parent"></a> <code>descriptorPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-pDescriptorSets-parent" href="#VUID-vkFreeDescriptorSets-pDescriptorSets-parent"></a> Each element of <code>pDescriptorSets</code> that is a valid handle <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>descriptorPool</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to each member of <code>pDescriptorSets</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To return all descriptor sets allocated from a given pool to the pool,
rather than freeing individual descriptor sets, call:</p>
</div>
<div id="vkResetDescriptorPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkResetDescriptorPool(
    VkDevice                                    device,
    VkDescriptorPool                            descriptorPool,
    VkDescriptorPoolResetFlags                  flags);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the descriptor pool.</p>
</li>
<li>
<p><code>descriptorPool</code> is the descriptor pool to be reset.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Resetting a descriptor pool recycles all of the resources from all of the
descriptor sets allocated from the descriptor pool back to the descriptor
pool, and the descriptor sets are implicitly freed.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetDescriptorPool-descriptorPool-00313" href="#VUID-vkResetDescriptorPool-descriptorPool-00313"></a>
All uses of <code>descriptorPool</code> (via any allocated descriptor sets)
<strong class="purple">must</strong> have completed execution</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetDescriptorPool-device-parameter" href="#VUID-vkResetDescriptorPool-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetDescriptorPool-descriptorPool-parameter" href="#VUID-vkResetDescriptorPool-descriptorPool-parameter"></a> <code>descriptorPool</code> <strong class="purple">must</strong> be a valid <a href="#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetDescriptorPool-flags-zerobitmask" href="#VUID-vkResetDescriptorPool-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkResetDescriptorPool-descriptorPool-parent" href="#VUID-vkResetDescriptorPool-descriptorPool-parent"></a> <code>descriptorPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to any <code>VkDescriptorSet</code> objects allocated from <code>descriptorPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorPoolResetFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkDescriptorPoolResetFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorPoolResetFlags</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-updates"><a class="anchor" href="#descriptorsets-updates"></a>13.2.4. Descriptor Set Updates</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once allocated, descriptor sets <strong class="purple">can</strong> be updated with a combination of write
and copy operations.
To update descriptor sets, call:</p>
</div>
<div id="vkUpdateDescriptorSets" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkUpdateDescriptorSets(
    VkDevice                                    device,
    uint32_t                                    descriptorWriteCount,
    <span class="directive">const</span> VkWriteDescriptorSet*                 pDescriptorWrites,
    uint32_t                                    descriptorCopyCount,
    <span class="directive">const</span> VkCopyDescriptorSet*                  pDescriptorCopies);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that updates the descriptor sets.</p>
</li>
<li>
<p><code>descriptorWriteCount</code> is the number of elements in the
<code>pDescriptorWrites</code> array.</p>
</li>
<li>
<p><code>pDescriptorWrites</code> is a pointer to an array of
<a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structures describing the descriptor sets to
write to.</p>
</li>
<li>
<p><code>descriptorCopyCount</code> is the number of elements in the
<code>pDescriptorCopies</code> array.</p>
</li>
<li>
<p><code>pDescriptorCopies</code> is a pointer to an array of
<a href="#VkCopyDescriptorSet">VkCopyDescriptorSet</a> structures describing the descriptor sets to
copy between.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The operations described by <code>pDescriptorWrites</code> are performed first,
followed by the operations described by <code>pDescriptorCopies</code>.
Within each array, the operations are performed in the order they appear in
the array.</p>
</div>
<div class="paragraph">
<p>Each element in the <code>pDescriptorWrites</code> array describes an operation
updating the descriptor set using descriptors for resources specified in the
structure.</p>
</div>
<div class="paragraph">
<p>Each element in the <code>pDescriptorCopies</code> array is a
<a href="#VkCopyDescriptorSet">VkCopyDescriptorSet</a> structure describing an operation copying
descriptors between sets.</p>
</div>
<div class="paragraph">
<p>If the <code>dstSet</code> member of any element of <code>pDescriptorWrites</code> or
<code>pDescriptorCopies</code> is bound, accessed, or modified by any command that
was recorded to a command buffer which is currently in the
<a href="#commandbuffers-lifecycle">recording or executable state</a>,
that command buffer becomes <a href="#commandbuffers-lifecycle">invalid</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-dstSet-00314" href="#VUID-vkUpdateDescriptorSets-dstSet-00314"></a>
The <code>dstSet</code> member of each element of <code>pDescriptorWrites</code> or
<code>pDescriptorCopies</code> <strong class="purple">must</strong> not be used by any command that was
recorded to a command buffer which is in the <a href="#commandbuffers-lifecycle">pending state</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-device-parameter" href="#VUID-vkUpdateDescriptorSets-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-parameter" href="#VUID-vkUpdateDescriptorSets-pDescriptorWrites-parameter"></a> If <code>descriptorWriteCount</code> is not <code>0</code>, <code>pDescriptorWrites</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorWriteCount</code> valid <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structures</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorCopies-parameter" href="#VUID-vkUpdateDescriptorSets-pDescriptorCopies-parameter"></a> If <code>descriptorCopyCount</code> is not <code>0</code>, <code>pDescriptorCopies</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorCopyCount</code> valid <a href="#VkCopyDescriptorSet">VkCopyDescriptorSet</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pDescriptorWrites</code>[].dstSet <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pDescriptorCopies</code>[].dstSet <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWriteDescriptorSet</code> structure is defined as:</p>
</div>
<div id="VkWriteDescriptorSet" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkWriteDescriptorSet {
    VkStructureType                  sType;
    <span class="directive">const</span> <span class="directive">void</span>*                      pNext;
    VkDescriptorSet                  dstSet;
    uint32_t                         dstBinding;
    uint32_t                         dstArrayElement;
    uint32_t                         descriptorCount;
    VkDescriptorType                 descriptorType;
    <span class="directive">const</span> VkDescriptorImageInfo*     pImageInfo;
    <span class="directive">const</span> VkDescriptorBufferInfo*    pBufferInfo;
    <span class="directive">const</span> VkBufferView*              pTexelBufferView;
} VkWriteDescriptorSet;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>dstSet</code> is the destination descriptor set to update.</p>
</li>
<li>
<p><code>dstBinding</code> is the descriptor binding within that set.</p>
</li>
<li>
<p><code>dstArrayElement</code> is the starting element in that array.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors to update (the number
of elements in <code>pImageInfo</code>, <code>pBufferInfo</code>, or
<code>pTexelBufferView</code>
).</p>
</li>
<li>
<p><code>descriptorType</code> is a <a href="#VkDescriptorType">VkDescriptorType</a> specifying the type of
each descriptor in <code>pImageInfo</code>, <code>pBufferInfo</code>, or
<code>pTexelBufferView</code>, as described below.
It <strong class="purple">must</strong> be the same type as that specified in
<code>VkDescriptorSetLayoutBinding</code> for <code>dstSet</code> at <code>dstBinding</code>.
The type of the descriptor also controls which array the descriptors are
taken from.</p>
</li>
<li>
<p><code>pImageInfo</code> is a pointer to an array of <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a>
structures or is ignored, as described below.</p>
</li>
<li>
<p><code>pBufferInfo</code> is a pointer to an array of
<a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> structures or is ignored, as described
below.</p>
</li>
<li>
<p><code>pTexelBufferView</code> is a pointer to an array of <a href="#VkBufferView">VkBufferView</a>
handles as described in the <a href="#resources-buffer-views">Buffer Views</a>
section or is ignored, as described below.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only one of <code>pImageInfo</code>, <code>pBufferInfo</code>, or <code>pTexelBufferView</code>
members is used according to the descriptor type specified in the
<code>descriptorType</code> member of the containing <code>VkWriteDescriptorSet</code>
structure,
as specified below.</p>
</div>
<div id="descriptorsets-updates-consecutive" class="paragraph">
<p>If the <code>dstBinding</code> has fewer than <code>descriptorCount</code> array elements
remaining starting from <code>dstArrayElement</code>, then the remainder will be
used to update the subsequent binding - <span class="eq"><code>dstBinding</code>+1</span> starting at
array element zero.
If a binding has a <code>descriptorCount</code> of zero, it is skipped.
This behavior applies recursively, with the update affecting consecutive
bindings as needed to update all <code>descriptorCount</code> descriptors.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstBinding-00315" href="#VUID-VkWriteDescriptorSet-dstBinding-00315"></a>
<code>dstBinding</code> <strong class="purple">must</strong> be less than or equal to the maximum value of
<code>binding</code> of all <a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> structures
specified when <code>dstSet</code>&#8217;s descriptor set layout was created</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstBinding-00316" href="#VUID-VkWriteDescriptorSet-dstBinding-00316"></a>
<code>dstBinding</code> <strong class="purple">must</strong> be a binding with a non-zero
<code>descriptorCount</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorCount-00317" href="#VUID-VkWriteDescriptorSet-descriptorCount-00317"></a>
All consecutive bindings updated via a single <code>VkWriteDescriptorSet</code>
structure, except those with a <code>descriptorCount</code> of zero, <strong class="purple">must</strong> have
identical <code>descriptorType</code> and <code>stageFlags</code>.</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorCount-00318" href="#VUID-VkWriteDescriptorSet-descriptorCount-00318"></a>
All consecutive bindings updated via a single <code>VkWriteDescriptorSet</code>
structure, except those with a <code>descriptorCount</code> of zero, <strong class="purple">must</strong> all
either use immutable samplers or <strong class="purple">must</strong> all not use immutable samplers.</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00319" href="#VUID-VkWriteDescriptorSet-descriptorType-00319"></a>
<code>descriptorType</code> <strong class="purple">must</strong> match the type of <code>dstBinding</code> within
<code>dstSet</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstSet-00320" href="#VUID-VkWriteDescriptorSet-dstSet-00320"></a>
<code>dstSet</code> <strong class="purple">must</strong> be a valid <a href="#VkDescriptorSet">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstArrayElement-00321" href="#VUID-VkWriteDescriptorSet-dstArrayElement-00321"></a>
The sum of <code>dstArrayElement</code> and <code>descriptorCount</code> <strong class="purple">must</strong> be less
than or equal to the number of array elements in the descriptor set
binding specified by <code>dstBinding</code>, and all applicable consecutive
bindings, as described by <a href="#descriptorsets-updates-consecutive">consecutive binding updates</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00322" href="#VUID-VkWriteDescriptorSet-descriptorType-00322"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, <code>pImageInfo</code> <strong class="purple">must</strong> be a
valid pointer to an array of <code>descriptorCount</code> valid
<code>VkDescriptorImageInfo</code> structures</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00323" href="#VUID-VkWriteDescriptorSet-descriptorType-00323"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>
or <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, <code>pTexelBufferView</code>
<strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorCount</code> valid
<code>VkBufferView</code> handles</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00324" href="#VUID-VkWriteDescriptorSet-descriptorType-00324"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, <code>pBufferInfo</code> <strong class="purple">must</strong>
be a valid pointer to an array of <code>descriptorCount</code> valid
<code>VkDescriptorBufferInfo</code> structures</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00325" href="#VUID-VkWriteDescriptorSet-descriptorType-00325"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and <code>dstSet</code> was
not allocated with a layout that included immutable samplers for
<code>dstBinding</code> with <code>descriptorType</code>, the <code>sampler</code> member of
each element of <code>pImageInfo</code> <strong class="purple">must</strong> be a valid <code>VkSampler</code> object</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00326" href="#VUID-VkWriteDescriptorSet-descriptorType-00326"></a>
If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the <code>imageView</code> and
<code>imageLayout</code> members of each element of <code>pImageInfo</code> <strong class="purple">must</strong> be a
valid <code>VkImageView</code> and <a href="#VkImageLayout">VkImageLayout</a>, respectively</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-01402" href="#VUID-VkWriteDescriptorSet-descriptorType-01402"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, for
each descriptor that will be accessed via load or store operations the
<code>imageLayout</code> member for corresponding elements of <code>pImageInfo</code>
<strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00327" href="#VUID-VkWriteDescriptorSet-descriptorType-00327"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>offset</code> member
of each element of <code>pBufferInfo</code> <strong class="purple">must</strong> be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minUniformBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00328" href="#VUID-VkWriteDescriptorSet-descriptorType-00328"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>offset</code> member
of each element of <code>pBufferInfo</code> <strong class="purple">must</strong> be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minStorageBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00329" href="#VUID-VkWriteDescriptorSet-descriptorType-00329"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, and the <code>buffer</code>
member of any element of <code>pBufferInfo</code> is the handle of a non-sparse
buffer, then that buffer <strong class="purple">must</strong> be bound completely and contiguously to a
single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00330" href="#VUID-VkWriteDescriptorSet-descriptorType-00330"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>buffer</code> member
of each element of <code>pBufferInfo</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00331" href="#VUID-VkWriteDescriptorSet-descriptorType-00331"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>buffer</code> member
of each element of <code>pBufferInfo</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00332" href="#VUID-VkWriteDescriptorSet-descriptorType-00332"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>range</code> member
of each element of <code>pBufferInfo</code>, or the effective range if
<code>range</code> is <code>VK_WHOLE_SIZE</code>, <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxUniformBufferRange</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00333" href="#VUID-VkWriteDescriptorSet-descriptorType-00333"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>range</code> member
of each element of <code>pBufferInfo</code>, or the effective range if
<code>range</code> is <code>VK_WHOLE_SIZE</code>, <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxStorageBufferRange</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00334" href="#VUID-VkWriteDescriptorSet-descriptorType-00334"></a>
If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>, the <code>VkBuffer</code> that
each element of <code>pTexelBufferView</code> was created from <strong class="purple">must</strong> have been
created with <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00335" href="#VUID-VkWriteDescriptorSet-descriptorType-00335"></a>
If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, the <code>VkBuffer</code> that
each element of <code>pTexelBufferView</code> was created from <strong class="purple">must</strong> have been
created with <code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00336" href="#VUID-VkWriteDescriptorSet-descriptorType-00336"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the <code>imageView</code> member of
each element of <code>pImageInfo</code> <strong class="purple">must</strong> have been created with the
identity swizzle</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00337" href="#VUID-VkWriteDescriptorSet-descriptorType-00337"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, the <code>imageView</code>
member of each element of <code>pImageInfo</code> <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_SAMPLED_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-01403" href="#VUID-VkWriteDescriptorSet-descriptorType-01403"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, the <code>imageLayout</code>
member of each element of <code>pImageInfo</code> <strong class="purple">must</strong> be a member of the list
given in <a href="#descriptorsets-sampledimage">Sampled Image</a> or
<a href="#descriptorsets-combinedimagesampler">Combined Image Sampler</a>,
corresponding to its type</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00338" href="#VUID-VkWriteDescriptorSet-descriptorType-00338"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
the <code>imageView</code> member of each element of <code>pImageInfo</code> <strong class="purple">must</strong>
have been created with <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00339" href="#VUID-VkWriteDescriptorSet-descriptorType-00339"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, the
<code>imageView</code> member of each element of <code>pImageInfo</code> <strong class="purple">must</strong> have
been created with <code>VK_IMAGE_USAGE_STORAGE_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02752" href="#VUID-VkWriteDescriptorSet-descriptorType-02752"></a>
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, then
<code>dstSet</code> <strong class="purple">must</strong> not have been allocated with a layout that included
immutable samplers for <code>dstBinding</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSet-sType-sType" href="#VUID-VkWriteDescriptorSet-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-pNext-pNext" href="#VUID-VkWriteDescriptorSet-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-parameter" href="#VUID-VkWriteDescriptorSet-descriptorType-parameter"></a> <code>descriptorType</code> <strong class="purple">must</strong> be a valid <a href="#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorCount-arraylength" href="#VUID-VkWriteDescriptorSet-descriptorCount-arraylength"></a> <code>descriptorCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-commonparent" href="#VUID-VkWriteDescriptorSet-commonparent"></a> Both of <code>dstSet</code>, and the elements of <code>pTexelBufferView</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The type of descriptors in a descriptor set is specified by
<a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>descriptorType</code>, which <strong class="purple">must</strong> be one of the
values:</p>
</div>
<div id="VkDescriptorType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkDescriptorType {
    VK_DESCRIPTOR_TYPE_SAMPLER = <span class="integer">0</span>,
    VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER = <span class="integer">1</span>,
    VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE = <span class="integer">2</span>,
    VK_DESCRIPTOR_TYPE_STORAGE_IMAGE = <span class="integer">3</span>,
    VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER = <span class="integer">4</span>,
    VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER = <span class="integer">5</span>,
    VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER = <span class="integer">6</span>,
    VK_DESCRIPTOR_TYPE_STORAGE_BUFFER = <span class="integer">7</span>,
    VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC = <span class="integer">8</span>,
    VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC = <span class="integer">9</span>,
    VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT = <span class="integer">10</span>,
    VK_DESCRIPTOR_TYPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkDescriptorType;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_SAMPLER</code> specifies a <a href="#descriptorsets-sampler">sampler descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> specifies a
<a href="#descriptorsets-combinedimagesampler">combined image sampler
descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> specifies a
<a href="#descriptorsets-sampledimage">sampled image descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> specifies a
<a href="#descriptorsets-storageimage">storage image descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> specifies a
<a href="#descriptorsets-uniformtexelbuffer">uniform texel buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> specifies a
<a href="#descriptorsets-storagetexelbuffer">storage texel buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> specifies a
<a href="#descriptorsets-uniformbuffer">uniform buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> specifies a
<a href="#descriptorsets-storagebuffer">storage buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> specifies a
<a href="#descriptorsets-uniformbufferdynamic">dynamic uniform buffer
descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> specifies a
<a href="#descriptorsets-storagebufferdynamic">dynamic storage buffer
descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> specifies an
<a href="#descriptorsets-inputattachment">input attachment descriptor</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a descriptor set is updated via elements of <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>,
members of <code>pImageInfo</code>, <code>pBufferInfo</code> and <code>pTexelBufferView</code>
are only accessed by the implementation when they correspond to descriptor
type being defined - otherwise they are ignored.
The members accessed are as follows for each descriptor type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, only the <code>sampler</code> member of
each element of <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pImageInfo</code> is
accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, only the <code>imageView</code> and
<code>imageLayout</code> members of each element of
<a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pImageInfo</code> are accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, all members of each
element of <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pImageInfo</code> are accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, all members of each
element of <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pBufferInfo</code> are accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, each element of
<a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pTexelBufferView</code> is accessed.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorBufferInfo</code> structure is defined as:</p>
</div>
<div id="VkDescriptorBufferInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDescriptorBufferInfo {
    VkBuffer        buffer;
    VkDeviceSize    offset;
    VkDeviceSize    range;
} VkDescriptorBufferInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>buffer</code> is the buffer resource.</p>
</li>
<li>
<p><code>offset</code> is the offset in bytes from the start of <code>buffer</code>.
Access to buffer memory via this descriptor uses addressing that is
relative to this starting offset.</p>
</li>
<li>
<p><code>range</code> is the size in bytes that is used for this descriptor
update, or <code>VK_WHOLE_SIZE</code> to use the range from <code>offset</code> to the
end of the buffer.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When setting <code>range</code> to <code>VK_WHOLE_SIZE</code>, the effective range <strong class="purple">must</strong>
not be larger than the maximum range for the descriptor type
(<a href="#limits-maxUniformBufferRange"><code>maxUniformBufferRange</code></a> or
<a href="#limits-maxStorageBufferRange"><code>maxStorageBufferRange</code></a>).
This means that <code>VK_WHOLE_SIZE</code> is not typically useful in the common
case where uniform buffer descriptors are suballocated from a buffer that is
much larger than <code>maxUniformBufferRange</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> and
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> descriptor types,
<code>offset</code> is the base offset from which the dynamic offset is applied and
<code>range</code> is the static size used for all dynamic offsets.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-offset-00340" href="#VUID-VkDescriptorBufferInfo-offset-00340"></a>
<code>offset</code> <strong class="purple">must</strong> be less than the size of <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-range-00341" href="#VUID-VkDescriptorBufferInfo-range-00341"></a>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <strong class="purple">must</strong> be
greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-range-00342" href="#VUID-VkDescriptorBufferInfo-range-00342"></a>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <strong class="purple">must</strong> be
less than or equal to the size of <code>buffer</code> minus <code>offset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-buffer-parameter" href="#VUID-VkDescriptorBufferInfo-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorImageInfo</code> structure is defined as:</p>
</div>
<div id="VkDescriptorImageInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDescriptorImageInfo {
    VkSampler        sampler;
    VkImageView      imageView;
    VkImageLayout    imageLayout;
} VkDescriptorImageInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sampler</code> is a sampler handle, and is used in descriptor updates for
types <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> if the binding being
updated does not use immutable samplers.</p>
</li>
<li>
<p><code>imageView</code> is an image view handle, and is used in descriptor
updates for types <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>.</p>
</li>
<li>
<p><code>imageLayout</code> is the layout that the image subresources accessible
from <code>imageView</code> will be in at the time this descriptor is accessed.
<code>imageLayout</code> is used in descriptor updates for types
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Members of <code>VkDescriptorImageInfo</code> that are not used in an update (as
described above) are ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageView-01976" href="#VUID-VkDescriptorImageInfo-imageView-01976"></a>
If <code>imageView</code> is created from a depth/stencil image, the
<code>aspectMask</code> used to create the <code>imageView</code> <strong class="purple">must</strong> include either
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code>VK_IMAGE_ASPECT_STENCIL_BIT</code> but
not both.</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageLayout-00344" href="#VUID-VkDescriptorImageInfo-imageLayout-00344"></a>
<code>imageLayout</code> <strong class="purple">must</strong> match the actual <a href="#VkImageLayout">VkImageLayout</a> of each
subresource accessible from <code>imageView</code> at the time this descriptor
is accessed as defined by the <a href="#resources-image-layouts-matching-rule">image layout matching rules</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorImageInfo-commonparent" href="#VUID-VkDescriptorImageInfo-commonparent"></a> Both of <code>imageView</code>, and <code>sampler</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkCopyDescriptorSet</code> structure is defined as:</p>
</div>
<div id="VkCopyDescriptorSet" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkCopyDescriptorSet {
    VkStructureType    sType;
    <span class="directive">const</span> <span class="directive">void</span>*        pNext;
    VkDescriptorSet    srcSet;
    uint32_t           srcBinding;
    uint32_t           srcArrayElement;
    VkDescriptorSet    dstSet;
    uint32_t           dstBinding;
    uint32_t           dstArrayElement;
    uint32_t           descriptorCount;
} VkCopyDescriptorSet;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>srcSet</code>, <code>srcBinding</code>, and <code>srcArrayElement</code> are the source
set, binding, and array element, respectively.</p>
</li>
<li>
<p><code>dstSet</code>, <code>dstBinding</code>, and <code>dstArrayElement</code> are the
destination set, binding, and array element, respectively.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors to copy from the
source to destination.
If <code>descriptorCount</code> is greater than the number of remaining array
elements in the source or destination binding, those affect consecutive
bindings in a manner similar to <a href="#VkWriteDescriptorSet">VkWriteDescriptorSet</a> above.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcBinding-00345" href="#VUID-VkCopyDescriptorSet-srcBinding-00345"></a>
<code>srcBinding</code> <strong class="purple">must</strong> be a valid binding within <code>srcSet</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcArrayElement-00346" href="#VUID-VkCopyDescriptorSet-srcArrayElement-00346"></a>
The sum of <code>srcArrayElement</code> and <code>descriptorCount</code> <strong class="purple">must</strong> be less
than or equal to the number of array elements in the descriptor set
binding specified by <code>srcBinding</code>, and all applicable consecutive
bindings, as described by <a href="#descriptorsets-updates-consecutive">consecutive binding updates</a></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstBinding-00347" href="#VUID-VkCopyDescriptorSet-dstBinding-00347"></a>
<code>dstBinding</code> <strong class="purple">must</strong> be a valid binding within <code>dstSet</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstArrayElement-00348" href="#VUID-VkCopyDescriptorSet-dstArrayElement-00348"></a>
The sum of <code>dstArrayElement</code> and <code>descriptorCount</code> <strong class="purple">must</strong> be less
than or equal to the number of array elements in the descriptor set
binding specified by <code>dstBinding</code>, and all applicable consecutive
bindings, as described by <a href="#descriptorsets-updates-consecutive">consecutive binding updates</a></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstBinding-02632" href="#VUID-VkCopyDescriptorSet-dstBinding-02632"></a>
The type of <code>dstBinding</code> within <code>dstSet</code> <strong class="purple">must</strong> be equal to the
type of <code>srcBinding</code> within <code>srcSet</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-00349" href="#VUID-VkCopyDescriptorSet-srcSet-00349"></a>
If <code>srcSet</code> is equal to <code>dstSet</code>, then the source and
destination ranges of descriptors <strong class="purple">must</strong> not overlap, where the ranges
<strong class="purple">may</strong> include array elements from consecutive bindings as described by
<a href="#descriptorsets-updates-consecutive">consecutive binding updates</a></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstBinding-02753" href="#VUID-VkCopyDescriptorSet-dstBinding-02753"></a>
If the descriptor type of the descriptor set binding specified by
<code>dstBinding</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, then <code>dstSet</code>
<strong class="purple">must</strong> not have been allocated with a layout that included immutable
samplers for <code>dstBinding</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCopyDescriptorSet-sType-sType" href="#VUID-VkCopyDescriptorSet-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_COPY_DESCRIPTOR_SET</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-pNext-pNext" href="#VUID-VkCopyDescriptorSet-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-parameter" href="#VUID-VkCopyDescriptorSet-srcSet-parameter"></a> <code>srcSet</code> <strong class="purple">must</strong> be a valid <a href="#VkDescriptorSet">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstSet-parameter" href="#VUID-VkCopyDescriptorSet-dstSet-parameter"></a> <code>dstSet</code> <strong class="purple">must</strong> be a valid <a href="#VkDescriptorSet">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-commonparent" href="#VUID-VkCopyDescriptorSet-commonparent"></a> Both of <code>dstSet</code>, and <code>srcSet</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-binding"><a class="anchor" href="#descriptorsets-binding"></a>13.2.5. Descriptor Set Binding</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To bind one or more descriptor sets to a command buffer, call:</p>
</div>
<div id="vkCmdBindDescriptorSets" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdBindDescriptorSets(
    VkCommandBuffer                             commandBuffer,
    VkPipelineBindPoint                         pipelineBindPoint,
    VkPipelineLayout                            layout,
    uint32_t                                    firstSet,
    uint32_t                                    descriptorSetCount,
    <span class="directive">const</span> VkDescriptorSet*                      pDescriptorSets,
    uint32_t                                    dynamicOffsetCount,
    <span class="directive">const</span> uint32_t*                             pDynamicOffsets);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the descriptor sets will
be bound to.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> indicating
whether the descriptors will be used by graphics pipelines or compute
pipelines.
There is a separate set of bind points for each of graphics and compute,
so binding one does not disturb the other.</p>
</li>
<li>
<p><code>layout</code> is a <a href="#VkPipelineLayout">VkPipelineLayout</a> object used to program the
bindings.</p>
</li>
<li>
<p><code>firstSet</code> is the set number of the first descriptor set to be
bound.</p>
</li>
<li>
<p><code>descriptorSetCount</code> is the number of elements in the
<code>pDescriptorSets</code> array.</p>
</li>
<li>
<p><code>pDescriptorSets</code> is a pointer to an array of handles to
<a href="#VkDescriptorSet">VkDescriptorSet</a> objects describing the descriptor sets to write
to.</p>
</li>
<li>
<p><code>dynamicOffsetCount</code> is the number of dynamic offsets in the
<code>pDynamicOffsets</code> array.</p>
</li>
<li>
<p><code>pDynamicOffsets</code> is a pointer to an array of <code>uint32_t</code> values
specifying dynamic offsets.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdBindDescriptorSets</code> causes the sets numbered [<code>firstSet</code>..
<code>firstSet</code>+<code>descriptorSetCount</code>-1] to use the bindings stored in
<code>pDescriptorSets</code>[0..descriptorSetCount-1] for subsequent rendering
commands (either compute or graphics, according to the
<code>pipelineBindPoint</code>).
Any bindings that were previously applied via these sets are no longer
valid.</p>
</div>
<div class="paragraph">
<p>Once bound, a descriptor set affects rendering of subsequent graphics or
compute commands in the command buffer until a different set is bound to the
same set number, or else until the set is disturbed as described in
<a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a>.</p>
</div>
<div class="paragraph">
<p>A compatible descriptor set <strong class="purple">must</strong> be bound for all set numbers that any
shaders in a pipeline access, at the time that a draw or dispatch command is
recorded to execute using that pipeline.
However, if none of the shaders in a pipeline statically use any bindings
with a particular set number, then no descriptor set need be bound for that
set number, even if the pipeline layout includes a non-trivial descriptor
set layout for that set number.</p>
</div>
<div id="descriptorsets-binding-dynamicoffsets" class="paragraph">
<p>If any of the sets being bound include dynamic uniform or storage buffers,
then <code>pDynamicOffsets</code> includes one element for each array element in
each dynamic descriptor type binding in each set.
Values are taken from <code>pDynamicOffsets</code> in an order such that all
entries for set N come before set N+1; within a set, entries are ordered by
the binding numbers in the descriptor set layouts; and within a binding
array, elements are in order.
<code>dynamicOffsetCount</code> <strong class="purple">must</strong> equal the total number of dynamic descriptors
in the sets being bound.</p>
</div>
<div class="paragraph">
<p>The effective offset used for dynamic uniform and storage buffer bindings is
the sum of the relative offset taken from <code>pDynamicOffsets</code>, and the
base address of the buffer plus base offset in the descriptor set.
The range of the dynamic uniform and storage buffer bindings is the buffer
range as specified in the descriptor set.</p>
</div>
<div class="paragraph">
<p>Each of the <code>pDescriptorSets</code> <strong class="purple">must</strong> be compatible with the pipeline
layout specified by <code>layout</code>.
The layout used to program the bindings <strong class="purple">must</strong> also be compatible with the
pipeline used in subsequent graphics or compute commands, as defined in the
<a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a> section.</p>
</div>
<div class="paragraph">
<p>The descriptor set contents bound by a call to <code>vkCmdBindDescriptorSets</code>
<strong class="purple">may</strong> be consumed at the following times:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>during host execution of the command, or during shader execution of the
resulting draws and dispatches, or any time in between.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Thus, the contents of a descriptor set binding <strong class="purple">must</strong> not be altered
(overwritten by an update command, or freed) between the first point in time
that it <strong class="purple">may</strong> be consumed, and when the command completes executing on the
queue.</p>
</div>
<div class="paragraph">
<p>The contents of <code>pDynamicOffsets</code> are consumed immediately during
execution of <code>vkCmdBindDescriptorSets</code>.
Once all pending uses have completed, it is legal to update and reuse a
descriptor set.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-00358" href="#VUID-vkCmdBindDescriptorSets-pDescriptorSets-00358"></a>
Each element of <code>pDescriptorSets</code> <strong class="purple">must</strong> have been allocated with a
<code>VkDescriptorSetLayout</code> that matches (is the same as, or identically
defined as) the <code>VkDescriptorSetLayout</code> at set <em>n</em> in <code>layout</code>,
where <em>n</em> is the sum of <code>firstSet</code> and the index into
<code>pDescriptorSets</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-dynamicOffsetCount-00359" href="#VUID-vkCmdBindDescriptorSets-dynamicOffsetCount-00359"></a>
<code>dynamicOffsetCount</code> <strong class="purple">must</strong> be equal to the total number of dynamic
descriptors in <code>pDescriptorSets</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-firstSet-00360" href="#VUID-vkCmdBindDescriptorSets-firstSet-00360"></a>
The sum of <code>firstSet</code> and <code>descriptorSetCount</code> <strong class="purple">must</strong> be less
than or equal to <code>VkPipelineLayoutCreateInfo</code>::<code>setLayoutCount</code>
provided when <code>layout</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pipelineBindPoint-00361" href="#VUID-vkCmdBindDescriptorSets-pipelineBindPoint-00361"></a>
<code>pipelineBindPoint</code> <strong class="purple">must</strong> be supported by the <code>commandBuffer</code>&#8217;s
parent <code>VkCommandPool</code>&#8217;s queue family</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01971" href="#VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01971"></a>
Each element of <code>pDynamicOffsets</code> which corresponds to a descriptor
binding with type <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> <strong class="purple">must</strong>
be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minUniformBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01972" href="#VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01972"></a>
Each element of <code>pDynamicOffsets</code> which corresponds to a descriptor
binding with type <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> <strong class="purple">must</strong>
be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minStorageBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-01979" href="#VUID-vkCmdBindDescriptorSets-pDescriptorSets-01979"></a>
For each dynamic uniform or storage buffer binding in
<code>pDescriptorSets</code>, the sum of the effective offset, as defined
above, and the range of the binding <strong class="purple">must</strong> be less than or equal to the
size of the buffer</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commandBuffer-parameter" href="#VUID-vkCmdBindDescriptorSets-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pipelineBindPoint-parameter" href="#VUID-vkCmdBindDescriptorSets-pipelineBindPoint-parameter"></a> <code>pipelineBindPoint</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineBindPoint">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-layout-parameter" href="#VUID-vkCmdBindDescriptorSets-layout-parameter"></a> <code>layout</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-parameter" href="#VUID-vkCmdBindDescriptorSets-pDescriptorSets-parameter"></a> <code>pDescriptorSets</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorSetCount</code> valid <a href="#VkDescriptorSet">VkDescriptorSet</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDynamicOffsets-parameter" href="#VUID-vkCmdBindDescriptorSets-pDynamicOffsets-parameter"></a> If <code>dynamicOffsetCount</code> is not <code>0</code>, <code>pDynamicOffsets</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>dynamicOffsetCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commandBuffer-recording" href="#VUID-vkCmdBindDescriptorSets-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commandBuffer-cmdpool" href="#VUID-vkCmdBindDescriptorSets-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-descriptorSetCount-arraylength" href="#VUID-vkCmdBindDescriptorSets-descriptorSetCount-arraylength"></a> <code>descriptorSetCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commonparent" href="#VUID-vkCmdBindDescriptorSets-commonparent"></a> Each of <code>commandBuffer</code>, <code>layout</code>, and the elements of <code>pDescriptorSets</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_push_constant_updates"><a class="anchor" href="#_push_constant_updates"></a>13.2.6. Push Constant Updates</h4>
<div id="descriptorsets-push-constants" class="paragraph">
<p>As described above in section <a href="#descriptorsets-pipelinelayout">Pipeline
Layouts</a>, the pipeline layout defines shader push constants which are
updated via Vulkan commands rather than via writes to memory or copy
commands.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Push constants represent a high speed path to modify constant data in
pipelines that is expected to outperform memory-backed resource updates.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The values of push constants are undefined at the start of a command
buffer.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To update push constants, call:</p>
</div>
<div id="vkCmdPushConstants" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdPushConstants(
    VkCommandBuffer                             commandBuffer,
    VkPipelineLayout                            layout,
    VkShaderStageFlags                          stageFlags,
    uint32_t                                    offset,
    uint32_t                                    size,
    <span class="directive">const</span> <span class="directive">void</span>*                                 pValues);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer in which the push constant
update will be recorded.</p>
</li>
<li>
<p><code>layout</code> is the pipeline layout used to program the push constant
updates.</p>
</li>
<li>
<p><code>stageFlags</code> is a bitmask of <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> specifying
the shader stages that will use the push constants in the updated range.</p>
</li>
<li>
<p><code>offset</code> is the start offset of the push constant range to update,
in units of bytes.</p>
</li>
<li>
<p><code>size</code> is the size of the push constant range to update, in units of
bytes.</p>
</li>
<li>
<p><code>pValues</code> is a pointer to an array of <code>size</code> bytes containing
the new push constant values.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>As <code>stageFlags</code> needs to include all flags the relevant push constant
ranges were created with, any flags that are not supported by the queue
family that the <a href="#VkCommandPool">VkCommandPool</a> used to allocate <code>commandBuffer</code> was
created on are ignored.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-01795" href="#VUID-vkCmdPushConstants-offset-01795"></a>
For each byte in the range specified by <code>offset</code> and <code>size</code> and
for each shader stage in <code>stageFlags</code>, there <strong class="purple">must</strong> be a push
constant range in <code>layout</code> that includes that byte and that stage</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-01796" href="#VUID-vkCmdPushConstants-offset-01796"></a>
For each byte in the range specified by <code>offset</code> and <code>size</code> and
for each push constant range that overlaps that byte, <code>stageFlags</code>
<strong class="purple">must</strong> include all stages in that push constant range&#8217;s
<a href="#VkPushConstantRange">VkPushConstantRange</a>::<code>stageFlags</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-00368" href="#VUID-vkCmdPushConstants-offset-00368"></a>
<code>offset</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-size-00369" href="#VUID-vkCmdPushConstants-size-00369"></a>
<code>size</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-00370" href="#VUID-vkCmdPushConstants-offset-00370"></a>
<code>offset</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-size-00371" href="#VUID-vkCmdPushConstants-size-00371"></a>
<code>size</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code> minus
<code>offset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushConstants-commandBuffer-parameter" href="#VUID-vkCmdPushConstants-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-layout-parameter" href="#VUID-vkCmdPushConstants-layout-parameter"></a> <code>layout</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-stageFlags-parameter" href="#VUID-vkCmdPushConstants-stageFlags-parameter"></a> <code>stageFlags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-stageFlags-requiredbitmask" href="#VUID-vkCmdPushConstants-stageFlags-requiredbitmask"></a> <code>stageFlags</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-pValues-parameter" href="#VUID-vkCmdPushConstants-pValues-parameter"></a> <code>pValues</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>size</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-commandBuffer-recording" href="#VUID-vkCmdPushConstants-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-commandBuffer-cmdpool" href="#VUID-vkCmdPushConstants-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-size-arraylength" href="#VUID-vkCmdPushConstants-size-arraylength"></a> <code>size</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-commonparent" href="#VUID-vkCmdPushConstants-commonparent"></a> Both of <code>commandBuffer</code>, and <code>layout</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="interfaces"><a class="anchor" href="#interfaces"></a>14. Shader Interfaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When a pipeline is created, the set of shaders specified in the
corresponding <code>Vk*PipelineCreateInfo</code> structure are implicitly linked at
a number of different interfaces.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#interfaces-iointerfaces">Shader Input and Output Interface</a></p>
</li>
<li>
<p><a href="#interfaces-vertexinput">Vertex Input Interface</a></p>
</li>
<li>
<p><a href="#interfaces-fragmentoutput">Fragment Output Interface</a></p>
</li>
<li>
<p><a href="#interfaces-inputattachment">Fragment Input Attachment Interface</a></p>
</li>
<li>
<p><a href="#interfaces-resources">Shader Resource Interface</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Interface definitions make use of the following SPIR-V decorations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>DescriptorSet</code> and <code>Binding</code></p>
</li>
<li>
<p><code>Location</code>, <code>Component</code>, and <code>Index</code></p>
</li>
<li>
<p><code>Flat</code>, <code>NoPerspective</code>, <code>Centroid</code>, and <code>Sample</code></p>
</li>
<li>
<p><code>Block</code> and <code>BufferBlock</code></p>
</li>
<li>
<p><code>InputAttachmentIndex</code></p>
</li>
<li>
<p><code>Offset</code>, <code>ArrayStride</code>, and <code>MatrixStride</code></p>
</li>
<li>
<p><code>BuiltIn</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This specification describes valid uses for Vulkan of these decorations.
Any other use of one of these decorations is invalid.</p>
</div>
<div class="sect2">
<h3 id="interfaces-iointerfaces"><a class="anchor" href="#interfaces-iointerfaces"></a>14.1. Shader Input and Output Interfaces</h3>
<div class="paragraph">
<p>When multiple stages are present in a pipeline, the outputs of one stage
form an interface with the inputs of the next stage.
When such an interface involves a shader, shader outputs are matched against
the inputs of the next stage, and shader inputs are matched against the
outputs of the previous stage.</p>
</div>
<div class="paragraph">
<p>All the variables forming the shader input and output <em>interfaces</em> are
listed as operands to the <code>OpEntryPoint</code> instruction and are declared
with the <code>Input</code> or <code>Output</code> storage classes, respectively, in the
SPIR-V module.
These generally form the interfaces between consecutive shader stages,
regardless of any non-shader stages between the consecutive shader stages.</p>
</div>
<div class="paragraph">
<p>There are two classes of variables that <strong class="purple">can</strong> be matched between shader
stages, built-in variables and user-defined variables.
Each class has a different set of matching criteria.</p>
</div>
<div class="paragraph">
<p><code>Output</code> variables of a shader stage have undefined values until the
shader writes to them or uses the <code>Initializer</code> operand when declaring
the variable.</p>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-builtin"><a class="anchor" href="#interfaces-iointerfaces-builtin"></a>14.1.1. Built-in Interface Block</h4>
<div class="paragraph">
<p>Shader <a href="#interfaces-builtin-variables">built-in</a> variables meeting the
following requirements define the <em>built-in interface block</em>.
They <strong class="purple">must</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>be explicitly declared (there are no implicit built-ins),</p>
</li>
<li>
<p>be identified with a <code>BuiltIn</code> decoration,</p>
</li>
<li>
<p>form object types as described in the
<a href="#interfaces-builtin-variables">Built-in Variables</a> section, and</p>
</li>
<li>
<p>be declared in a block whose top-level members are the built-ins.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There <strong class="purple">must</strong> be no more than one built-in interface block per shader per
interface.</p>
</div>
<div class="paragraph">
<p>Built-ins <strong class="purple">must</strong> not have any <code>Location</code> or <code>Component</code> decorations.</p>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-user"><a class="anchor" href="#interfaces-iointerfaces-user"></a>14.1.2. User-defined Variable Interface</h4>
<div class="paragraph">
<p>The non-built-in variables listed by <code>OpEntryPoint</code> with the <code>Input</code>
or <code>Output</code> storage class form the <em>user-defined variable interface</em>.
These <strong class="purple">must</strong> have SPIR-V numerical types or, recursively, composite types of
such types.
These variables <strong class="purple">must</strong> be identified with a <code>Location</code> decoration and <strong class="purple">can</strong>
also be identified with a <code>Component</code> decoration.</p>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-matching"><a class="anchor" href="#interfaces-iointerfaces-matching"></a>14.1.3. Interface Matching</h4>
<div class="paragraph">
<p>Interface matching rules only apply to built-ins when they are declared as
members of the built-in interface block.</p>
</div>
<div class="paragraph">
<p>Tessellation control
shader per-vertex output variables and blocks, and tessellation control,
tessellation evaluation, and geometry shader per-vertex input variables and
blocks are required to be declared as arrays, with each element representing
input or output values for a single vertex of a multi-vertex primitive.
For the purposes of interface matching, the outermost array dimension of
such variables and blocks is ignored.</p>
</div>
<div class="paragraph">
<p>A user-defined output variable is considered to match an input variable in
the subsequent stage if the two variables are declared with the same
<code>Location</code> and <code>Component</code> decoration and match in type and
decoration, except that <a href="#shaders-interpolation-decorations">interpolation
decorations</a> are not <strong class="purple">required</strong> to match.
For the purposes of interface matching, variables declared without a
<code>Component</code> decoration are considered to have a <code>Component</code> decoration
of zero.</p>
</div>
<div class="paragraph">
<p>Variables or block members declared as structures are considered to match in
type if and only if the structure members match in type, decoration, number,
and declaration order.
Variables or block members declared as arrays are considered to match in
type only if both declarations specify the same element type and size.</p>
</div>
<div class="paragraph">
<p>At an interface between two non-fragment shader stages, the built-in
interface block <strong class="purple">must</strong> match exactly, as described
above.
At an interface involving the fragment shader inputs, the presence or
absence of any built-in output does not affect the interface matching.</p>
</div>
<div class="paragraph">
<p>At an interface between two shader stages, the user-defined variable
interface <strong class="purple">must</strong> match exactly, as described above.</p>
</div>
<div class="paragraph">
<p>Any input value to a shader stage is well-defined as long as the preceding
stages writes to a matching output, as described above.</p>
</div>
<div class="paragraph">
<p>Additionally, scalar and vector inputs are well-defined if there is a
corresponding output satisfying all of the following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the input and output match exactly in decoration,</p>
</li>
<li>
<p>the output is a vector with the same basic type and has at least as many
components as the input, and</p>
</li>
<li>
<p>the common component type of the input and output is
32-bit integer or floating-point (64-bit component types are excluded).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this case, the components of the input will be taken from the first
components of the output, and any extra components of the output will be
ignored.</p>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-locations"><a class="anchor" href="#interfaces-iointerfaces-locations"></a>14.1.4. Location Assignment</h4>
<div class="paragraph">
<p>This section describes how many locations are consumed by a given type.
<a href="#interfaces-iointerfaces-matching">As mentioned above</a>, some inputs and
outputs have an additional level of arrayness relative to other shader
inputs and outputs.
This outer array level is removed from the type before considering how many
locations the type consumes.</p>
</div>
<div class="paragraph">
<p>The <code>Location</code> value specifies an interface slot comprised of a 32-bit
four-component vector conveyed between stages.
The <code>Component</code> specifies
<a href="#interfaces-iointerfaces-components">components</a> within these vector
locations.
Only types with widths of
32 or 64 are supported in shader interfaces.</p>
</div>
<div class="paragraph">
<p>Inputs and outputs of the following types consume a single interface
location:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>32-bit scalar and vector types, and</p>
</li>
<li>
<p>64-bit scalar and 2-component vector types.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>64-bit three- and four-component vectors consume two consecutive locations.</p>
</div>
<div class="paragraph">
<p>If a declared input or output is an array of size <em>n</em> and each element takes
<em>m</em> locations, it will be assigned <em>m</em>  <em>n</em> consecutive locations
starting with the location specified.</p>
</div>
<div class="paragraph">
<p>If the declared input or output is an <em>n</em>  <em>m</em>
32- or 64-bit matrix, it will be assigned multiple locations starting with
the location specified.
The number of locations assigned for each matrix will be the same as for an
<em>n</em>-element array of <em>m</em>-component vectors.</p>
</div>
<div class="paragraph">
<p>The layout of a structure type used as an <code>Input</code> or <code>Output</code> depends
on whether it is also a <code>Block</code> (i.e. has a <code>Block</code> decoration).</p>
</div>
<div class="paragraph">
<p>If it is a not a <code>Block</code>, then the structure type <strong class="purple">must</strong> have a
<code>Location</code> decoration.
Its members are assigned consecutive locations in their declaration order,
with the first member assigned to the location specified for the structure
type.
The members, and their nested types, <strong class="purple">must</strong> not themselves have <code>Location</code>
decorations.</p>
</div>
<div class="paragraph">
<p>If the structure type is a <code>Block</code> but without a <code>Location</code>, then each
of its members <strong class="purple">must</strong> have a <code>Location</code> decoration.
If it is a <code>Block</code> with a <code>Location</code> decoration, then its members are
assigned consecutive locations in declaration order, starting from the first
member which is initially assigned the location specified for the
<code>Block</code>.
Any member with its own <code>Location</code> decoration is assigned that location.
Each remaining member is assigned the location after the immediately
preceding member in declaration order.</p>
</div>
<div class="paragraph">
<p>The locations consumed by block and structure members are determined by
applying the rules above in a depth-first traversal of the instantiated
members as though the structure or block member were declared as an input or
output variable of the same type.</p>
</div>
<div class="paragraph">
<p>Any two inputs listed as operands on the same <code>OpEntryPoint</code> <strong class="purple">must</strong> not be
assigned the same location, either explicitly or implicitly.
Any two outputs listed as operands on the same <code>OpEntryPoint</code> <strong class="purple">must</strong> not
be assigned the same location, either explicitly or implicitly.</p>
</div>
<div class="paragraph">
<p>The number of input and output locations available for a shader input or
output interface are limited, and dependent on the shader stage as described
in <a href="#interfaces-iointerfaces-limits">Shader Input and Output Locations</a>.
All variables in both the <a href="#interfaces-builtin-variables">built-in interface
block</a> and the <a href="#interfaces-iointerfaces-user">user-defined variable
interface</a> count against these limits.
Each effective <code>Location</code> <strong class="purple">must</strong> have a value less than the number of
locations available for the given interface, as specified in the "Locations
Available" column in <a href="#interfaces-iointerfaces-limits">Shader Input and Output Locations</a>.</p>
</div>
<table id="interfaces-iointerfaces-limits" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 11. Shader Input and Output Locations</caption>
<colgroup>
<col style="width: 31.5789%;">
<col style="width: 68.4211%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Shader Interface</th>
<th class="tableblock halign-left valign-top">Locations Available</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vertex input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexInputAttributes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vertex output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation control input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerVertexInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation control output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerVertexOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation evaluation input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationEvaluationInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation evaluation output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationEvaluationOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragment input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragment output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentOutputAttachments</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-components"><a class="anchor" href="#interfaces-iointerfaces-components"></a>14.1.5. Component Assignment</h4>
<div class="paragraph">
<p>The <code>Component</code> decoration allows the <code>Location</code> to be more finely
specified for scalars and vectors, down to the individual components within
a location that are consumed.
The components within a location are 0, 1, 2, and 3.
A variable or block member starting at component N will consume components
N, N+1, N+2, &#8230;&#8203;
up through its size.
For single precision types,
it is invalid if this sequence of components gets larger than 3.
A scalar 64-bit type will consume two of these components in sequence, and a
two-component 64-bit vector type will consume all four components available
within a location.
A three- or four-component 64-bit vector type <strong class="purple">must</strong> not specify a
<code>Component</code> decoration.
A three-component 64-bit vector type will consume all four components of the
first location and components 0 and 1 of the second location.
This leaves components 2 and 3 available for other component-qualified
declarations.</p>
</div>
<div class="paragraph">
<p>A scalar or two-component 64-bit data type <strong class="purple">must</strong> not specify a
<code>Component</code> decoration of 1 or 3.
A <code>Component</code> decoration <strong class="purple">must</strong> not be specified for any type that is not
a scalar or vector.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-vertexinput"><a class="anchor" href="#interfaces-vertexinput"></a>14.2. Vertex Input Interface</h3>
<div class="paragraph">
<p>When the vertex stage is present in a pipeline, the vertex shader input
variables form an interface with the vertex input attributes.
The vertex shader input variables are matched by the <code>Location</code> and
<code>Component</code> decorations to the vertex input attributes specified in the
<code>pVertexInputState</code> member of the <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>
structure.</p>
</div>
<div class="paragraph">
<p>The vertex shader input variables listed by <code>OpEntryPoint</code> with the
<code>Input</code> storage class form the <em>vertex input interface</em>.
These variables <strong class="purple">must</strong> be identified with a <code>Location</code> decoration and <strong class="purple">can</strong>
also be identified with a <code>Component</code> decoration.</p>
</div>
<div class="paragraph">
<p>For the purposes of interface matching: variables declared without a
<code>Component</code> decoration are considered to have a <code>Component</code> decoration
of zero.
The number of available vertex input locations is given by the
<code>maxVertexInputAttributes</code> member of the <code>VkPhysicalDeviceLimits</code>
structure.</p>
</div>
<div class="paragraph">
<p>See <a href="#fxvertex-attrib-location">Attribute Location and Component Assignment</a> for details.</p>
</div>
<div class="paragraph">
<p>All vertex shader inputs declared as above <strong class="purple">must</strong> have a corresponding
attribute and binding in the pipeline.</p>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-fragmentoutput"><a class="anchor" href="#interfaces-fragmentoutput"></a>14.3. Fragment Output Interface</h3>
<div class="paragraph">
<p>When the fragment stage is present in a pipeline, the fragment shader
outputs form an interface with the output attachments of the current
subpass.
The fragment shader output variables are matched by the <code>Location</code> and
<code>Component</code> decorations to the color attachments specified in the
<code>pColorAttachments</code> array of the <a href="#VkSubpassDescription">VkSubpassDescription</a> structure
describing the subpass that the fragment shader is executed in.</p>
</div>
<div class="paragraph">
<p>The fragment shader output variables listed by <code>OpEntryPoint</code> with the
<code>Output</code> storage class form the <em>fragment output interface</em>.
These variables <strong class="purple">must</strong> be identified with a <code>Location</code> decoration.
They <strong class="purple">can</strong> also be identified with a <code>Component</code> decoration and/or an
<code>Index</code> decoration.
For the purposes of interface matching: variables declared without a
<code>Component</code> decoration are considered to have a <code>Component</code> decoration
of zero, and variables declared without an <code>Index</code> decoration are
considered to have an <code>Index</code> decoration of zero.</p>
</div>
<div class="paragraph">
<p>A fragment shader output variable identified with a <code>Location</code> decoration
of <em>i</em> is directed to the color attachment indicated by
<code>pColorAttachments</code>[<em>i</em>], after passing through the blending unit as
described in <a href="#framebuffer-blending">Blending</a>, if enabled.
Locations are consumed as described in
<a href="#interfaces-iointerfaces-locations">Location Assignment</a>.
The number of available fragment output locations is given by the
<code>maxFragmentOutputAttachments</code> member of the
<code>VkPhysicalDeviceLimits</code> structure.</p>
</div>
<div class="paragraph">
<p>Components of the output variables are assigned as described in
<a href="#interfaces-iointerfaces-components">Component Assignment</a>.
Output components identified as 0, 1, 2, and 3 will be directed to the R, G,
B, and A inputs to the blending unit, respectively, or to the output
attachment if blending is disabled.
If two variables are placed within the same location, they <strong class="purple">must</strong> have the
same underlying type (floating-point or integer).
The input values to blending or color attachment writes are undefined for
components which do not correspond to a fragment shader output.</p>
</div>
<div class="paragraph">
<p>Fragment outputs identified with an <code>Index</code> of zero are directed to the
first input of the blending unit associated with the corresponding
<code>Location</code>.
Outputs identified with an <code>Index</code> of one are directed to the second
input of the corresponding blending unit.</p>
</div>
<div class="paragraph">
<p>No <em>component aliasing</em> of output variables is allowed, that is there <strong class="purple">must</strong>
not be two output variables which have the same location, component, and
index, either explicitly declared or implied.</p>
</div>
<div class="paragraph">
<p>Output values written by a fragment shader <strong class="purple">must</strong> be declared with either
<code>OpTypeFloat</code> or <code>OpTypeInt</code>, and a <code>Width</code> of 32.
Composites of these types are also permitted.
If the color attachment has a signed or unsigned normalized fixed-point
format, color values are assumed to be floating-point and are converted to
fixed-point as described in <a href="#fundamentals-fpfixedconv">Conversion from Floating-Point to Normalized Fixed-Point</a>; If the color
attachment has an integer format, color values are assumed to be integers
and converted to the bit-depth of the target.
Any value that cannot be represented in the attachment&#8217;s format is
undefined.
For any other attachment format no conversion is performed.
If the type of the values written by the fragment shader do not match the
format of the corresponding color attachment, the resulting values are
undefined for those components.</p>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-inputattachment"><a class="anchor" href="#interfaces-inputattachment"></a>14.4. Fragment Input Attachment Interface</h3>
<div class="paragraph">
<p>When a fragment stage is present in a pipeline, the fragment shader subpass
inputs form an interface with the input attachments of the current subpass.
The fragment shader subpass input variables are matched by
<code>InputAttachmentIndex</code> decorations to the input attachments specified in
the <code>pInputAttachments</code> array of the <a href="#VkSubpassDescription">VkSubpassDescription</a>
structure describing the subpass that the fragment shader is executed in.</p>
</div>
<div class="paragraph">
<p>The fragment shader subpass input variables with the <code>UniformConstant</code>
storage class and a decoration of <code>InputAttachmentIndex</code> that are
statically used by <code>OpEntryPoint</code> form the <em>fragment input attachment
interface</em>.
These variables <strong class="purple">must</strong> be declared with a type of <code>OpTypeImage</code>, a
<code>Dim</code> operand of <code>SubpassData</code>, and a <code>Sampled</code> operand of 2.</p>
</div>
<div class="paragraph">
<p>A subpass input variable identified with an <code>InputAttachmentIndex</code>
decoration of <em>i</em> reads from the input attachment indicated by
<code>pInputAttachments</code>[<em>i</em>] member of <code>VkSubpassDescription</code>.
If the subpass input variable is declared as an array of size N, it consumes
N consecutive input attachments, starting with the index specified.
There <strong class="purple">must</strong> not be more than one input variable with the same
<code>InputAttachmentIndex</code> whether explicitly declared or implied by an array
declaration.
The number of available input attachment indices is given by the
<code>maxPerStageDescriptorInputAttachments</code> member of the
<code>VkPhysicalDeviceLimits</code> structure.</p>
</div>
<div class="paragraph">
<p>Variables identified with the <code>InputAttachmentIndex</code> <strong class="purple">must</strong> only be used
by a fragment stage.
The basic data type (floating-point, integer, unsigned integer) of the
subpass input <strong class="purple">must</strong> match the basic format of the corresponding input
attachment, or the values of subpass loads from these variables are
undefined.</p>
</div>
<div class="paragraph">
<p>See <a href="#descriptorsets-inputattachment">Input Attachment</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-resources"><a class="anchor" href="#interfaces-resources"></a>14.5. Shader Resource Interface</h3>
<div class="paragraph">
<p>When a shader stage accesses buffer or image resources, as described in the
<a href="#descriptorsets">Resource Descriptors</a> section, the shader resource
variables <strong class="purple">must</strong> be matched with the <a href="#descriptorsets-pipelinelayout">pipeline
layout</a> that is provided at pipeline creation time.</p>
</div>
<div class="paragraph">
<p>The set of shader resources that form the <em>shader resource interface</em> for a
stage are the variables statically used by <code>OpEntryPoint</code> with the
storage class of <code>Uniform</code>, <code>UniformConstant</code>, or <code>PushConstant</code>.
For the fragment shader, this includes the <a href="#interfaces-inputattachment">fragment input attachment interface</a>.</p>
</div>
<div class="paragraph">
<p>The shader resource interface consists of two sub-interfaces: the push
constant interface and the descriptor set interface.</p>
</div>
<div class="sect3">
<h4 id="interfaces-resources-pushconst"><a class="anchor" href="#interfaces-resources-pushconst"></a>14.5.1. Push Constant Interface</h4>
<div class="paragraph">
<p>The shader variables defined with a storage class of <code>PushConstant</code> that
are statically used by the shader entry points for the pipeline define the
<em>push constant interface</em>.
They <strong class="purple">must</strong> be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>typed as <code>OpTypeStruct</code>,</p>
</li>
<li>
<p>identified with a <code>Block</code> decoration, and</p>
</li>
<li>
<p>laid out explicitly using the <code>Offset</code>, <code>ArrayStride</code>, and
<code>MatrixStride</code> decorations as specified in
<a href="#interfaces-resources-layout">Offset and Stride Assignment</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There <strong class="purple">must</strong> be no more than one push constant block statically used per
shader entry point.</p>
</div>
<div class="paragraph">
<p>Each statically used member of a push constant block <strong class="purple">must</strong> be placed at an
<code>Offset</code> such that the entire member is entirely contained within the
<a href="#VkPushConstantRange">VkPushConstantRange</a> for each <code>OpEntryPoint</code> that uses it, and the
<code>stageFlags</code> for that range <strong class="purple">must</strong> specify the appropriate
<a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a> for that stage.
The <code>Offset</code> decoration for any member of a push constant block <strong class="purple">must</strong> not
cause the space required for that member to extend outside the range
<span class="eq">[0, <code>maxPushConstantsSize</code>)</span>.</p>
</div>
<div class="paragraph">
<p>Any member of a push constant block that is declared as an array <strong class="purple">must</strong> only
be accessed with <em>dynamically uniform</em> indices.</p>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-resources-descset"><a class="anchor" href="#interfaces-resources-descset"></a>14.5.2. Descriptor Set Interface</h4>
<div class="paragraph">
<p>The <em>descriptor set interface</em> is comprised of the shader variables with the
storage class of
<code>Uniform</code> or <code>UniformConstant</code> (including the variables in the
<a href="#interfaces-inputattachment">fragment input attachment interface</a>) that are
statically used by the shader entry points for the pipeline.</p>
</div>
<div class="paragraph">
<p>These variables <strong class="purple">must</strong> have <code>DescriptorSet</code> and <code>Binding</code> decorations
specified, which are assigned and matched with the
<code>VkDescriptorSetLayout</code> objects in the pipeline layout as described in
<a href="#interfaces-resources-setandbinding">DescriptorSet and Binding Assignment</a>.</p>
</div>
<div class="paragraph">
<p>The <code>Image</code> <code>Format</code> of an <code>OpTypeImage</code> declaration <strong class="purple">must</strong> not be
<strong>Unknown</strong>, for variables which are used for <code>OpImageRead</code>,
<code>OpImageSparseRead</code>, or <code>OpImageWrite</code> operations, except under the
following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For <code>OpImageWrite</code>, if the <code>shaderStorageImageWriteWithoutFormat</code>
feature is enabled and the shader module declares the
<code>StorageImageWriteWithoutFormat</code> capability.</p>
</li>
<li>
<p>For <code>OpImageRead</code> or <code>OpImageSparseRead</code>, if the
<code>shaderStorageImageReadWithoutFormat</code> feature is enabled and the
shader module declares the <code>StorageImageReadWithoutFormat</code>
capability.</p>
</li>
<li>
<p>For <code>OpImageRead</code>, if <code>Dim</code> is <code>SubpassData</code> (indicating a read
from an input attachment).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Image</code> <code>Format</code> of an <code>OpTypeImage</code> declaration <strong class="purple">must</strong> not be
<strong>Unknown</strong>, for variables which are used for <code>OpAtomic</code>* operations.</p>
</div>
<div class="paragraph">
<p>Variables identified with the <code>Uniform</code> storage class are used to access
transparent buffer backed resources.
Such variables <strong class="purple">must</strong> be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>typed as <code>OpTypeStruct</code>, or an array of this type,</p>
</li>
<li>
<p>identified with a <code>Block</code> or <code>BufferBlock</code> decoration, and</p>
</li>
<li>
<p>laid out explicitly using the <code>Offset</code>, <code>ArrayStride</code>, and
<code>MatrixStride</code> decorations as specified in
<a href="#interfaces-resources-layout">Offset and Stride Assignment</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Offset</code> decoration for any variable in a <code>Block</code> <strong class="purple">must</strong> not cause
the space required for that variable to extend outside the range <span class="eq">[0,
<code>maxUniformBufferRange</code>)</span>.
The <code>Offset</code> decoration for any variable in a <code>BufferBlock</code> <strong class="purple">must</strong> not
cause the space required for that variable to extend outside the range
<span class="eq">[0, <code>maxStorageBufferRange</code>)</span>.</p>
</div>
<div class="paragraph">
<p>Variables identified with a storage class of <code>UniformConstant</code> and a
decoration of <code>InputAttachmentIndex</code> <strong class="purple">must</strong> be declared as described in
<a href="#interfaces-inputattachment">Fragment Input Attachment Interface</a>.</p>
</div>
<div class="paragraph">
<p>SPIR-V variables decorated with a descriptor set and binding that identify a
<a href="#descriptorsets-combinedimagesampler">combined image sampler descriptor</a>
<strong class="purple">can</strong> have a type of <code>OpTypeImage</code>, <code>OpTypeSampler</code> (<code>Sampled</code>=1),
or <code>OpTypeSampledImage</code>.</p>
</div>
<div class="paragraph">
<p>Arrays of any of these types <strong class="purple">can</strong> be indexed with <em>constant integral
expressions</em>.
The following features <strong class="purple">must</strong> be enabled and capabilities <strong class="purple">must</strong> be declared
in order to index such arrays with dynamically uniform or non-uniform
indices:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Storage images (except storage texel buffers and input attachments):</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderStorageImageArrayDynamicIndexing</code> and
<code>StorageImageArrayDynamicIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Sampled images (except uniform texel buffers), samplers and combined
image samplers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderSampledImageArrayDynamicIndexing</code> and
<code>SampledImageArrayDynamicIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Uniform buffers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderUniformBufferArrayDynamicIndexing</code> and
<code>UniformBufferArrayDynamicIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Storage buffers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderStorageBufferArrayDynamicIndexing</code> and
<code>StorageBufferArrayDynamicIndexing</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If an instruction loads from or stores to a resource (including atomics and
image instructions) and the resource descriptor being accessed is not
uniform, then the corresponding dynamic indexing
feature <strong class="purple">must</strong> be enabled and the capability <strong class="purple">must</strong> be declared.</p>
</div>
<table id="interfaces-resources-correspondence" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 12. Shader Resource and Descriptor Type Correspondence</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Descriptor Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
                           <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
                           <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
                           <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
                           <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code></p></td>
</tr>
</tbody>
</table>
<table id="interfaces-resources-storage-class-correspondence" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. Shader Resource and Storage Class Correspondence</caption>
<colgroup>
<col style="width: 21%;">
<col style="width: 22%;">
<col style="width: 27%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Storage Class</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Decoration(s)<sup>1</sup></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeSampler</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Sampled</code>=1)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeSampledImage</code><br>
                                 <code>OpTypeImage</code> (<code>Sampled</code>=1)<br>
                                 <code>OpTypeSampler</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>Buffer</code>, <code>Sampled</code>=1)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>Buffer</code>, <code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Uniform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeStruct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Block</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Uniform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeStruct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BufferBlock</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>SubpassData</code>, <code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InputAttachmentIndex</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">1</dt>
<dd>
<p>in addition to <code>DescriptorSet</code> and <code>Binding</code></p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-resources-setandbinding"><a class="anchor" href="#interfaces-resources-setandbinding"></a>14.5.3. DescriptorSet and Binding Assignment</h4>
<div class="paragraph">
<p>A variable decorated with a <code>DescriptorSet</code> decoration of <span class="eq">s</span> and a
<code>Binding</code> decoration of <span class="eq">b</span> indicates that this variable is
associated with the <a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> that has a
<code>binding</code> equal to <span class="eq">b</span> in <code>pSetLayouts</code>[<em>s</em>] that was specified
in <a href="#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>.</p>
</div>
<div class="paragraph">
<p><code>DescriptorSet</code> decoration values <strong class="purple">must</strong> be between zero and
<code>maxBoundDescriptorSets</code> minus one, inclusive.
<code>Binding</code> decoration values <strong class="purple">can</strong> be any 32-bit unsigned integer value, as
described in <a href="#descriptorsets-setlayout">Descriptor Set Layout</a>.
Each descriptor set has its own binding name space.</p>
</div>
<div class="paragraph">
<p>If the <code>Binding</code> decoration is used with an array, the entire array is
assigned that binding value.
The array <strong class="purple">must</strong> be a single-dimensional array and size of the array <strong class="purple">must</strong> be
no larger than the number of descriptors in the binding.
The array <strong class="purple">must</strong> not be runtime-sized.
The index of each element of the array is referred to as the <em>arrayElement</em>.
For the purposes of interface matching and descriptor set
<a href="#descriptorsets-updates">operations</a>, if a resource variable is not an
array, it is treated as if it has an arrayElement of zero.</p>
</div>
<div class="paragraph">
<p>There is a limit on the number of resources of each type that <strong class="purple">can</strong> be
accessed by a pipeline stage as shown in
<a href="#interfaces-resources-limits">Shader Resource Limits</a>.
The &#8220;Resources Per Stage&#8221; column gives the limit on the number each type
of resource that <strong class="purple">can</strong> be statically used for an entry point in any given
stage in a pipeline.
The &#8220;Resource Types&#8221; column lists which resource types are counted against
the limit.
Some resource types count against multiple limits.</p>
</div>
<div class="paragraph">
<p>The pipeline layout <strong class="purple">may</strong> include descriptor sets and bindings which are not
referenced by any variables statically used by the entry points for the
shader stages in the binding&#8217;s <code>stageFlags</code>.</p>
</div>
<div class="paragraph">
<p>However, if a variable assigned to a given <code>DescriptorSet</code> and
<code>Binding</code> is statically used by the entry point for a shader stage, the
pipeline layout <strong class="purple">must</strong> contain a descriptor set layout binding in that
descriptor set layout and for that binding number, and that binding&#8217;s
<code>stageFlags</code> <strong class="purple">must</strong> include the appropriate <a href="#VkShaderStageFlagBits">VkShaderStageFlagBits</a>
for that stage.
The variable <strong class="purple">must</strong> be of a valid resource type determined by its SPIR-V type
and storage class, as defined in
<a href="#interfaces-resources-storage-class-correspondence">Shader Resource and
Storage Class Correspondence</a>.
The descriptor set layout binding <strong class="purple">must</strong> be of a corresponding descriptor
type, as defined in <a href="#interfaces-resources-correspondence">Shader Resource
and Descriptor Type Correspondence</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There are no limits on the number of shader variables that can have
overlapping set and binding values in a shader; but which resources are
<a href="#shaders-staticuse">statically used</a> has an impact.
If any shader variable identifying a resource is
<a href="#shaders-staticuse">statically used</a> in a shader, then the underlying
descriptor bound at the declared set and binding must
<a href="#interfaces-resources-correspondence">support the declared type in the
shader</a> when the shader executes.</p>
</div>
<div class="paragraph">
<p>If multiple shader variables are declared with the same set and binding
values, and with the same underlying descriptor type, they can all be
statically used within the same shader.
However, accesses are not automatically synchronized, and <code>Aliased</code>
decorations should be used to avoid data hazards (see
<a href="https://www.khronos.org/registry/spir-v/specs/unified1/SPIRV.html#_a_id_aliasingsection_a_aliasing">section
2.18.2 Aliasing in the SPIR-V specification</a>).</p>
</div>
<div class="paragraph">
<p>If multiple shader variables with the same set and binding values are
declared in a single shader, but with different declared types, where any of
those are not supported by the relevant bound descriptor, that shader can
only be executed if the variables with the unsupported type are not
statically used.</p>
</div>
<div class="paragraph">
<p>A noteworthy example of using multiple statically-used shader variables
sharing the same descriptor set and binding values is a descriptor of type
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> that has multiple
corresponding shader variables in the <code>UniformConstant</code> storage class,
where some could be <code>OpTypeImage</code>, some could be <code>OpTypeSampler</code>
(<code>Sampled</code>=1), and some could be <code>OpTypeSampledImage</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<table id="interfaces-resources-limits" class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 14. Shader Resource Limits</caption>
<colgroup>
<col style="width: 60.3448%;">
<col style="width: 39.6552%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resources per Stage</th>
<th class="tableblock halign-left valign-top">Resource Types</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorSamplers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock"><code>maxPerStageDescriptorSampledImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorStorageImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment<sup>1</sup></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">1</dt>
<dd>
<p>Input attachments <strong class="purple">can</strong> only be used in the fragment shader stage</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-resources-layout"><a class="anchor" href="#interfaces-resources-layout"></a>14.5.4. Offset and Stride Assignment</h4>
<div class="paragraph">
<p>All variables with a storage class of <code>Uniform</code>, <code>StorageBuffer</code>, or
<code>PushConstant</code> <strong class="purple">must</strong> be explicitly laid out using the <code>Offset</code>,
<code>ArrayStride</code>, and <code>MatrixStride</code> decorations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The numeric order of <code>Offset</code> decorations does not need to follow member
declaration order.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="interfaces-alignment-requirements" class="paragraph">
<p><strong>Alignment Requirements</strong></p>
</div>
<div class="paragraph">
<p>There are different alignment requirements depending on the specific
resources and on the features enabled on the device.</p>
</div>
<div class="paragraph">
<p>The <em>scalar alignment</em> of the type of an <code>OpTypeStruct</code> member is defined
recursively as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A scalar of size <span class="eq">N</span> has a scalar alignment of <span class="eq">N</span>.</p>
</li>
<li>
<p>A vector or matrix type has a scalar alignment equal to that of its
component type.</p>
</li>
<li>
<p>An array type has a scalar alignment equal to that of its element type.</p>
</li>
<li>
<p>A structure has a scalar alignment equal to the largest scalar alignment
of any of its members.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>base alignment</em> of the type of an <code>OpTypeStruct</code> member is defined
recursively as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A scalar has a base alignment equal to its scalar alignment.</p>
</li>
<li>
<p>A two-component vector has a base alignment equal to twice its scalar
alignment.</p>
</li>
<li>
<p>A three- or four-component vector has a base alignment equal to four
times its scalar alignment.</p>
</li>
<li>
<p>An array has a base alignment equal to the base alignment of its element
type.</p>
</li>
<li>
<p>A structure has a base alignment equal to the largest base alignment of
any of its members.</p>
</li>
<li>
<p>A row-major matrix of <span class="eq">C</span> columns has a base alignment equal to the
base alignment of a vector of <span class="eq">C</span> matrix components.</p>
</li>
<li>
<p>A column-major matrix has a base alignment equal to the base alignment
of the matrix column type.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>extended alignment</em> of the type of an <code>OpTypeStruct</code> member is
similarly defined as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A scalar, vector or matrix type has an extended alignment equal to its
base alignment.</p>
</li>
<li>
<p>An array or structure type has an extended alignment equal to the
largest extended alignment of any of its members, rounded up to a
multiple of 16.</p>
</li>
</ul>
</div>
<div id="interfaces-resources-standard-layout" class="paragraph">
<p><strong>Standard Buffer Layout</strong></p>
</div>
<div class="paragraph">
<p>Every member of an <code>OpTypeStruct</code> with storage class of <code>Uniform</code>,
<code>StorageBuffer</code>, or <code>PushConstant</code> <strong class="purple">must</strong> be aligned according to the
first matching rule as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Any
member of an <code>OpTypeStruct</code> with a storage class of <code>Uniform</code> and a
decoration of <code>Block</code> <strong class="purple">must</strong> be aligned according to its extended
alignment.</p>
</li>
<li>
<p>Every other member <strong class="purple">must</strong> be aligned according to its base alignment.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The memory layout <strong class="purple">must</strong> obey the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>Offset</code> decoration of any member <strong class="purple">must</strong> be a multiple of its
alignment.</p>
</li>
<li>
<p>Any <code>ArrayStride</code> or <code>MatrixStride</code> decoration <strong class="purple">must</strong> be a multiple
of the alignment of the array or matrix as defined above.</p>
</li>
<li>
<p>The <code>Offset</code> decoration of a member <strong class="purple">must</strong> not place it between the
end of a structure or an array and the next multiple of the alignment of
that structure or array.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <strong>std430 layout</strong> in GLSL satisfies these rules for types using the base
alignment.
The <strong>std140 layout</strong> satisfies the rules for types using the extended
alignment.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-builtin-variables"><a class="anchor" href="#interfaces-builtin-variables"></a>14.6. Built-In Variables</h3>
<div class="paragraph">
<p>Built-in variables are accessed in shaders by declaring a variable decorated
with a <code>BuiltIn</code> SPIR-V decoration.
The meaning of each <code>BuiltIn</code> decoration is as follows.
In the remainder of this section, the name of a built-in is used
interchangeably with a term equivalent to a variable decorated with that
particular built-in.
Built-ins that represent integer values <strong class="purple">can</strong> be declared as either signed or
unsigned 32-bit integers.</p>
</div>
<div class="paragraph">
<p><a href="#interfaces-iointerfaces-matching">As mentioned above</a>, some inputs and
outputs have an additional level of arrayness relative to other shader
inputs and outputs.
This level of arrayness is not included in the type descriptions below, but
must be included when declaring the built-in.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ClipDistance</code></dt>
<dd>
<p>Decorating a variable with the <code>ClipDistance</code> built-in decoration will
make that variable contain the mechanism for controlling user clipping.
<code>ClipDistance</code> is an array such that the i<sup>th</sup> element of the array
specifies the clip distance for plane i.
A clip distance of 0 means the vertex is on the plane, a positive distance
means the vertex is inside the clip half-space, and a negative distance
means the point is outside the clip half-space.</p>
<div class="paragraph">
<p>The <code>ClipDistance</code> decoration <strong class="purple">must</strong> be used only within
vertex, fragment, tessellation control, tessellation evaluation, and
geometry shaders.</p>
</div>
<div class="paragraph">
<p>In
vertex shaders, any variable decorated with <code>ClipDistance</code> <strong class="purple">must</strong> be
declared using the <code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>In fragment shaders, any variable decorated with <code>ClipDistance</code> <strong class="purple">must</strong> be
declared using the <code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>In tessellation control, tessellation evaluation, or geometry shaders, any
variable decorated with <code>ClipDistance</code> <strong class="purple">must</strong> not be in a storage class
other than <code>Input</code> or <code>Output</code>.</p>
</div>
<div class="paragraph">
<p>Any variable decorated with <code>ClipDistance</code> <strong class="purple">must</strong> be declared as an array
of 32-bit floating-point values.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The array variable decorated with <code>ClipDistance</code> is explicitly sized by
the shader.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In the last vertex processing stage, these values will be linearly
interpolated across the primitive and the portion of the primitive with
interpolated distances less than 0 will be considered outside the clip
volume.
If <code>ClipDistance</code> is then used by a fragment shader, <code>ClipDistance</code>
contains these linearly interpolated values.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>CullDistance</code></dt>
<dd>
<p>Decorating a variable with the <code>CullDistance</code> built-in decoration will
make that variable contain the mechanism for controlling user culling.
If any member of this array is assigned a negative value for all vertices
belonging to a primitive, then the primitive is discarded before
rasterization.</p>
<div class="paragraph">
<p>The <code>CullDistance</code> decoration <strong class="purple">must</strong> be used only within
vertex, fragment, tessellation control, tessellation evaluation, and
geometry shaders.</p>
</div>
<div class="paragraph">
<p>In
vertex shaders, any variable decorated with <code>CullDistance</code> <strong class="purple">must</strong> be
declared using the <code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>In fragment shaders, any variable decorated with <code>CullDistance</code> <strong class="purple">must</strong> be
declared using the <code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>In tessellation control, tessellation evaluation, or geometry shaders, any
variable decorated with <code>CullDistance</code> <strong class="purple">must</strong> not be declared in a storage
class other than input or output.</p>
</div>
<div class="paragraph">
<p>Any variable decorated with <code>CullDistance</code> <strong class="purple">must</strong> be declared as an array
of 32-bit floating-point values.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In fragment shaders, the values of the <code>CullDistance</code> array are linearly
interpolated across each primitive.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If <code>CullDistance</code> decorates an input variable, that variable will contain
the corresponding value from the <code>CullDistance</code> decorated output variable
from the previous shader stage.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FragCoord</code></dt>
<dd>
<p>Decorating a variable with the <code>FragCoord</code> built-in decoration will make
that variable contain the framebuffer coordinate
\((x,y,z,\frac{1}{w})\) of the fragment being processed.
The <span class="eq">(x,y)</span> coordinate <span class="eq">(0,0)</span> is the upper left corner of the upper
left pixel in the framebuffer.</p>
<div class="paragraph">
<p>When <a href="#primsrast-sampleshading">Sample Shading</a> is enabled, the <span class="eq">x</span> and
<span class="eq">y</span> components of <code>FragCoord</code> reflect the location of one of the
samples corresponding to the shader invocation.</p>
</div>
<div class="paragraph">
<p>Otherwise, the <span class="eq">x</span> and <span class="eq">y</span> components of <code>FragCoord</code> reflect the
location of the center of the fragment.</p>
</div>
<div class="paragraph">
<p>The <span class="eq">z</span> component of <code>FragCoord</code> is the interpolated depth value of
the primitive.</p>
</div>
<div class="paragraph">
<p>The <span class="eq">w</span> component is the interpolated \(\frac{1}{w}\).</p>
</div>
<div class="paragraph">
<p>The <code>FragCoord</code> decoration <strong class="purple">must</strong> be used only within fragment shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>FragCoord</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The <code>Centroid</code> interpolation decoration is ignored, but allowed, on
<code>FragCoord</code>.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>FragCoord</code> <strong class="purple">must</strong> be declared as a
four-component vector of 32-bit floating-point values.</p>
</div>
</dd>
<dt class="hdlist1"><code>FragDepth</code></dt>
<dd>
<p>To have a shader supply a fragment-depth value, the shader <strong class="purple">must</strong> declare the
<code>DepthReplacing</code> execution mode.
Such a shader&#8217;s fragment-depth value will come from the variable decorated
with the <code>FragDepth</code> built-in decoration.</p>
<div class="paragraph">
<p>This value will be used for any subsequent depth testing performed by the
implementation or writes to the depth attachment.</p>
</div>
<div class="paragraph">
<p>The <code>FragDepth</code> decoration <strong class="purple">must</strong> be used only within fragment shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>FragDepth</code> <strong class="purple">must</strong> be declared using the
<code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>FragDepth</code> <strong class="purple">must</strong> be declared as a scalar
32-bit floating-point value.</p>
</div>
</dd>
<dt class="hdlist1"><code>FrontFacing</code></dt>
<dd>
<p>Decorating a variable with the <code>FrontFacing</code> built-in decoration will
make that variable contain whether the fragment is front or back facing.
This variable is non-zero if the current fragment is considered to be part
of a <a href="#primsrast-polygons-basic">front-facing</a> polygon primitive or of a
non-polygon primitive and is zero if the fragment is considered to be part
of a back-facing polygon primitive.</p>
<div class="paragraph">
<p>The <code>FrontFacing</code> decoration <strong class="purple">must</strong> be used only within fragment shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>FrontFacing</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>FrontFacing</code> <strong class="purple">must</strong> be declared as a boolean.</p>
</div>
</dd>
<dt class="hdlist1"><code>GlobalInvocationId</code></dt>
<dd>
<p>Decorating a variable with the <code>GlobalInvocationId</code> built-in decoration
will make that variable contain the location of the current invocation
within the global workgroup.
Each component is equal to the index of the local workgroup multiplied by
the size of the local workgroup plus <code>LocalInvocationId</code>.</p>
<div class="paragraph">
<p>The <code>GlobalInvocationId</code> decoration <strong class="purple">must</strong> be used only within
compute shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>GlobalInvocationId</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>GlobalInvocationId</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit integers.</p>
</div>
</dd>
<dt class="hdlist1"><code>HelperInvocation</code></dt>
<dd>
<p>Decorating a variable with the <code>HelperInvocation</code> built-in decoration
will make that variable contain whether the current invocation is a helper
invocation.
This variable is non-zero if the current fragment being shaded is a helper
invocation and zero otherwise.
A helper invocation is an invocation of the shader that is produced to
satisfy internal requirements such as the generation of derivatives.</p>
<div class="paragraph">
<p>The <code>HelperInvocation</code> decoration <strong class="purple">must</strong> be used only within fragment
shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>HelperInvocation</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>HelperInvocation</code> <strong class="purple">must</strong> be declared as a
boolean.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is very likely that a helper invocation will have a value of
<code>SampleMask</code> fragment shader input value that is zero.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>InvocationId</code></dt>
<dd>
<p>Decorating a variable with the <code>InvocationId</code> built-in decoration will
make that variable contain the index of the current shader invocation in a
geometry shader, or the index of the output patch vertex in a tessellation
control shader.</p>
<div class="paragraph">
<p>In a geometry shader, the index of the current shader invocation ranges from
zero to the number of <a href="#geometry-invocations">instances</a> declared in the
shader minus one.
If the instance count of the geometry shader is one or is not specified,
then <code>InvocationId</code> will be zero.</p>
</div>
<div class="paragraph">
<p>The <code>InvocationId</code> decoration <strong class="purple">must</strong> be used only within tessellation
control and geometry shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>InvocationId</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>InvocationId</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer.</p>
</div>
</dd>
<dt class="hdlist1"><code>InstanceIndex</code></dt>
<dd>
<p>Decorating a variable in a vertex shader with the <code>InstanceIndex</code>
built-in decoration will make that variable contain the index of the
instance that is being processed by the current vertex shader invocation.
<code>InstanceIndex</code> begins at the <code>firstInstance</code> parameter to
<a href="#vkCmdDraw">vkCmdDraw</a> or <a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a> or at the <code>firstInstance</code>
member of a structure consumed by <a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a> or
<a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a>.</p>
<div class="paragraph">
<p>The <code>InstanceIndex</code> decoration <strong class="purple">must</strong> be used only within vertex shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>InstanceIndex</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>InstanceIndex</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer.</p>
</div>
</dd>
</dl>
</div>
<div id="interfaces-builtin-variables-layer" class="dlist">
<dl>
<dt class="hdlist1"><code>Layer</code></dt>
<dd>
<p>Decorating a variable with the <code>Layer</code> built-in decoration will make that
variable contain the select layer of a multi-layer framebuffer attachment.</p>
<div class="paragraph">
<p>In a
geometry shader, any variable decorated with <code>Layer</code> can be written with
the framebuffer layer index to which the primitive produced by that shader
will be directed.</p>
</div>
<div class="paragraph">
<p>If the last active vertex processing stage shader entry point&#8217;s interface
does not include a variable decorated with <code>Layer</code>, then the first layer
is used.
If a vertex processing stage shader entry point&#8217;s interface includes a
variable decorated with <code>Layer</code>, it <strong class="purple">must</strong> write the same value to
<code>Layer</code> for all output vertices of a given primitive.
If the <code>Layer</code> value is less than 0 or greater than or equal to the
number of layers in the framebuffer, then primitives <strong class="purple">may</strong> still be
rasterized, fragment shaders <strong class="purple">may</strong> be executed, and the framebuffer values
for all layers are undefined.</p>
</div>
<div class="paragraph">
<p>The <code>Layer</code> decoration <strong class="purple">must</strong> be used only within
geometry, and fragment shaders.</p>
</div>
<div class="paragraph">
<p>In a
geometry shader, any variable decorated with <code>Layer</code> <strong class="purple">must</strong> be declared
using the <code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, a variable decorated with <code>Layer</code> contains the
layer index of the primitive that the fragment invocation belongs to.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, any variable decorated with <code>Layer</code> <strong class="purple">must</strong> be
declared using the <code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>Any variable decorated with <code>Layer</code> <strong class="purple">must</strong> be declared as a scalar 32-bit
integer.</p>
</div>
</dd>
<dt class="hdlist1"><code>LocalInvocationId</code></dt>
<dd>
<p>Decorating a variable with the <code>LocalInvocationId</code> built-in decoration
will make that variable contain the location of the current
compute shader invocation within the local workgroup.
Each component ranges from zero through to the size of the workgroup in that
dimension minus one.</p>
<div class="paragraph">
<p>The <code>LocalInvocationId</code> decoration <strong class="purple">must</strong> be used only within
compute shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>LocalInvocationId</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>LocalInvocationId</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit integers.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If the size of the workgroup in a particular dimension is one, then the
<code>LocalInvocationId</code> in that dimension will be zero.
If the workgroup is effectively two-dimensional, then
<code>LocalInvocationId.z</code> will be zero.
If the workgroup is effectively one-dimensional, then both
<code>LocalInvocationId.y</code> and <code>LocalInvocationId.z</code> will be zero.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>LocalInvocationIndex</code></dt>
<dd>
<p>Decorating a variable with the <code>LocalInvocationIndex</code> built-in decoration
will make that variable contain a one-dimensional representation of
<code>LocalInvocationId</code>.
This is computed as:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">LocalInvocationIndex =
    LocalInvocationId.z * WorkgroupSize.x * WorkgroupSize.y +
    LocalInvocationId.y * WorkgroupSize.x +
    LocalInvocationId.x;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>LocalInvocationIndex</code> decoration <strong class="purple">must</strong> be used only within
compute shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>LocalInvocationIndex</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>LocalInvocationIndex</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer.</p>
</div>
</dd>
<dt class="hdlist1"><code>NumWorkgroups</code></dt>
<dd>
<p>Decorating a variable with the <code>NumWorkgroups</code> built-in decoration will
make that variable contain the number of local workgroups that are part of
the dispatch that the invocation belongs to.
Each component is equal to the values of the workgroup count parameters
passed into the dispatch commands.</p>
<div class="paragraph">
<p>The <code>NumWorkgroups</code> decoration <strong class="purple">must</strong> be used only within compute shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>NumWorkgroups</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>NumWorkgroups</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit integers.</p>
</div>
</dd>
<dt class="hdlist1"><code>PatchVertices</code></dt>
<dd>
<p>Decorating a variable with the <code>PatchVertices</code> built-in decoration will
make that variable contain the number of vertices in the input patch being
processed by the shader.
A single tessellation control or tessellation evaluation shader <strong class="purple">can</strong> read
patches of differing sizes, so the value of the <code>PatchVertices</code> variable
<strong class="purple">may</strong> differ between patches.</p>
<div class="paragraph">
<p>The <code>PatchVertices</code> decoration <strong class="purple">must</strong> be used only within tessellation
control and tessellation evaluation shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>PatchVertices</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>PatchVertices</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer.</p>
</div>
</dd>
<dt class="hdlist1"><code>PointCoord</code></dt>
<dd>
<p>Decorating a variable with the <code>PointCoord</code> built-in decoration will make
that variable contain the coordinate of the current fragment within the
point being rasterized, normalized to the size of the point with origin in
the upper left corner of the point, as described in
<a href="#primsrast-points-basic">Basic Point Rasterization</a>.
If the primitive the fragment shader invocation belongs to is not a point,
then the variable decorated with <code>PointCoord</code> contains an undefined
value.</p>
<div class="paragraph">
<p>The <code>PointCoord</code> decoration <strong class="purple">must</strong> be used only within fragment shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>PointCoord</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>PointCoord</code> <strong class="purple">must</strong> be declared as
two-component vector of 32-bit floating-point values.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Depending on how the point is rasterized, <code>PointCoord</code> <strong class="purple">may</strong> never reach
<span class="eq">(0,0)</span> or <span class="eq">(1,1)</span>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PointSize</code></dt>
<dd>
<p>Decorating a variable with the <code>PointSize</code> built-in decoration will make
that variable contain the size of point primitives.
The value written to the variable decorated with <code>PointSize</code> by the last
vertex processing stage in the pipeline is used as the framebuffer-space
size of points produced by rasterization.</p>
<div class="paragraph">
<p>The <code>PointSize</code> decoration <strong class="purple">must</strong> be used only within
vertex, tessellation control, tessellation evaluation, and geometry shaders.</p>
</div>
<div class="paragraph">
<p>In a
vertex shader, any variable decorated with <code>PointSize</code> <strong class="purple">must</strong> be declared
using the <code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>In a tessellation control, tessellation evaluation, or geometry shader, any
variable decorated with <code>PointSize</code> <strong class="purple">must</strong> be declared using either the
<code>Input</code> or <code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>Any variable decorated with <code>PointSize</code> <strong class="purple">must</strong> be declared as a scalar
32-bit floating-point value.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When <code>PointSize</code> decorates a variable in the <code>Input</code> storage class, it
contains the data written to the output variable decorated with
<code>PointSize</code> from the previous shader stage.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>Position</code></dt>
<dd>
<p>Decorating a variable with the <code>Position</code> built-in decoration will make
that variable contain the position of the current vertex.
In the last vertex processing stage, the value of the variable decorated
with <code>Position</code> is used in subsequent primitive assembly, clipping, and
rasterization operations.</p>
<div class="paragraph">
<p>The <code>Position</code> decoration <strong class="purple">must</strong> be used only within
vertex, tessellation control, tessellation evaluation, and geometry shaders.</p>
</div>
<div class="paragraph">
<p>In a
vertex shader, any variable decorated with <code>Position</code> <strong class="purple">must</strong> be declared
using the <code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>In a tessellation control, tessellation evaluation, or geometry shader, any
variable decorated with <code>Position</code> <strong class="purple">must</strong> not be declared in a storage
class other than <code>Input</code> or <code>Output</code>.</p>
</div>
<div class="paragraph">
<p>Any variable decorated with <code>Position</code> <strong class="purple">must</strong> be declared as a
four-component vector of 32-bit floating-point values.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When <code>Position</code> decorates a variable in the <code>Input</code> storage class, it
contains the data written to the output variable decorated with
<code>Position</code> from the previous shader stage.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PrimitiveId</code></dt>
<dd>
<p>Decorating a variable with the <code>PrimitiveId</code> built-in decoration will
make that variable contain the index of the current primitive.</p>
<div class="paragraph">
<p>The index of the first primitive generated by a drawing command is zero, and
the index is incremented after every individual point, line, or triangle
primitive is processed.</p>
</div>
<div class="paragraph">
<p>For triangles drawn as points or line segments (see <a href="#primsrast-polygonmode">Polygon Mode</a>), the primitive index is incremented only once, even if
multiple points or lines are eventually drawn.</p>
</div>
<div class="paragraph">
<p>Variables decorated with <code>PrimitiveId</code> are reset to zero between each
instance drawn.</p>
</div>
<div class="paragraph">
<p>Restarting a primitive topology using primitive restart has no effect on the
value of variables decorated with <code>PrimitiveId</code>.</p>
</div>
<div class="paragraph">
<p>In tessellation control and tessellation evaluation shaders, it will contain
the index of the patch within the current set of rendering primitives that
correspond to the shader invocation.</p>
</div>
<div class="paragraph">
<p>In a geometry shader, it will contain the number of primitives presented as
input to the shader since the current set of rendering primitives was
started.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, it will contain the primitive index written by the
geometry shader if a geometry shader is present, or with the value that
would have been presented as input to the geometry shader had it been
present.</p>
</div>
<div class="paragraph">
<p>If a geometry shader is present and the fragment shader reads from an input
variable decorated with <code>PrimitiveId</code>, then the geometry shader <strong class="purple">must</strong>
write to an output variable decorated with <code>PrimitiveId</code> in all execution
paths.</p>
</div>
<div class="paragraph">
<p>The <code>PrimitiveId</code> decoration <strong class="purple">must</strong> be used only within
fragment, tessellation control, tessellation evaluation, and geometry
shaders.</p>
</div>
<div class="paragraph">
<p>In
a
tessellation control, or tessellation evaluation shader, any variable
decorated with <code>PrimitiveId</code> <strong class="purple">must</strong> be declared using the <code>Input</code>
storage class.</p>
</div>
<div class="paragraph">
<p>In a geometry shader, any variable decorated with <code>PrimitiveId</code> <strong class="purple">must</strong> be
declared using either the <code>Input</code> or <code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, any variable decorated with <code>PrimitiveId</code> <strong class="purple">must</strong> be
declared using the <code>Input</code> storage class, and either the <code>Geometry</code> or
<code>Tessellation</code> capability <strong class="purple">must</strong> also be declared.</p>
</div>
<div class="paragraph">
<p>Any variable decorated with <code>PrimitiveId</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When the <code>PrimitiveId</code> decoration is applied to an output variable in the
geometry shader, the resulting value is seen through the <code>PrimitiveId</code>
decorated input variable in the fragment shader.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SampleId</code></dt>
<dd>
<p>Decorating a variable with the <code>SampleId</code> built-in decoration will make
that variable contain the zero-based index of the sample the invocation
corresponds to.
<code>SampleId</code> ranges from zero to the number of samples in the framebuffer
minus one.
If a fragment shader entry point&#8217;s interface includes an input variable
decorated with <code>SampleId</code>, <a href="#primsrast-sampleshading">Sample Shading</a> is
considered enabled with a <code>minSampleShading</code> value of 1.0.</p>
<div class="paragraph">
<p>The <code>SampleId</code> decoration <strong class="purple">must</strong> be used only within fragment shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>SampleId</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>SampleId</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer.</p>
</div>
</dd>
</dl>
</div>
<div id="interfaces-builtin-variables-samplemask" class="dlist">
<dl>
<dt class="hdlist1"><code>SampleMask</code></dt>
<dd>
<p>Decorating a variable with the <code>SampleMask</code> built-in decoration will make
any variable contain the sample coverage mask for the current fragment
shader invocation.</p>
<div class="paragraph">
<p>A variable in the <code>Input</code> storage class decorated with <code>SampleMask</code>
will contain a bitmask of the set of samples covered by the primitive
generating the fragment during rasterization.
It has a sample bit set if and only if the sample is considered covered for
this fragment shader invocation.
<code>SampleMask</code>[] is an array of integers.
Bits are mapped to samples in a manner where bit B of mask M
(<code>SampleMask[M]</code>) corresponds to sample <span class="eq">32  M +  B</span>.</p>
</div>
<div class="paragraph">
<p>When state specifies multiple fragment shader invocations for a given
fragment, the sample mask for any single fragment shader invocation
specifies the subset of the covered samples for the fragment that correspond
to the invocation.
In this case, the bit corresponding to each covered sample will be set in
exactly one fragment shader invocation.</p>
</div>
<div class="paragraph">
<p>A variable in the <code>Output</code> storage class decorated with <code>SampleMask</code>
is an array of integers forming a bit array in a manner similar an input
variable decorated with <code>SampleMask</code>, but where each bit represents
coverage as computed by the shader.
Modifying the sample mask by writing zero to a bit of <code>SampleMask</code> causes
the sample to be considered uncovered.
However, setting sample mask bits to one will never enable samples not
covered by the original primitive.
If the fragment shader is being evaluated at any frequency other than
per-fragment, bits of the sample mask not corresponding to the current
fragment shader invocation are ignored.
This array <strong class="purple">must</strong> be sized in the fragment shader either implicitly or
explicitly, to be no larger than the implementation-dependent maximum
sample-mask (as an array of 32-bit elements), determined by the maximum
number of samples.
If a fragment shader entry point&#8217;s interface includes an output variable
decorated with <code>SampleMask</code>, the sample mask will be undefined for any
array elements of any fragment shader invocations that fail to assign a
value.
If a fragment shader entry point&#8217;s interface does not include an output
variable decorated with <code>SampleMask</code>, the sample mask has no effect on
the processing of a fragment.</p>
</div>
<div class="paragraph">
<p>The <code>SampleMask</code> decoration <strong class="purple">must</strong> be used only within fragment shaders.</p>
</div>
<div class="paragraph">
<p>Any variable decorated with <code>SampleMask</code> <strong class="purple">must</strong> be declared using either
the <code>Input</code> or <code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>Any variable decorated with <code>SampleMask</code> <strong class="purple">must</strong> be declared as an array of
32-bit integers.</p>
</div>
</dd>
<dt class="hdlist1"><code>SamplePosition</code></dt>
<dd>
<p>Decorating a variable with the <code>SamplePosition</code> built-in decoration will
make that variable contain the sub-pixel position of the sample being
shaded.
The top left of the pixel is considered to be at coordinate <span class="eq">(0,0)</span> and
the bottom right of the pixel is considered to be at coordinate <span class="eq">(1,1)</span>.</p>
<div class="paragraph">
<p>+
If a fragment shader entry point&#8217;s interface includes an input variable
decorated with <code>SamplePosition</code>, <a href="#primsrast-sampleshading">Sample
Shading</a> is considered enabled with a <code>minSampleShading</code> value of 1.0.</p>
</div>
<div class="paragraph">
<p>+
The <code>SamplePosition</code> decoration <strong class="purple">must</strong> be used only within fragment
shaders.</p>
</div>
<div class="paragraph">
<p>+
The variable decorated with <code>SamplePosition</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>+
The variable decorated with <code>SamplePosition</code> <strong class="purple">must</strong> be declared as a
two-component vector of 32-bit floating-point values.</p>
</div>
</dd>
<dt class="hdlist1"><code>TessCoord</code></dt>
<dd>
<p>Decorating a variable with the <code>TessCoord</code> built-in decoration will make
that variable contain the three-dimensional <span class="eq">(u,v,w)</span> barycentric
coordinate of the tessellated vertex within the patch.
<span class="eq">u</span>, <span class="eq">v</span>, and <span class="eq">w</span> are in the range <span class="eq">[0,1]</span> and vary linearly
across the primitive being subdivided.
For the tessellation modes of <code>Quads</code> or <code>IsoLines</code>, the third
component is always zero.</p>
<div class="paragraph">
<p>The <code>TessCoord</code> decoration <strong class="purple">must</strong> be used only within tessellation
evaluation shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>TessCoord</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>TessCoord</code> <strong class="purple">must</strong> be declared as
three-component vector of 32-bit floating-point values.</p>
</div>
</dd>
<dt class="hdlist1"><code>TessLevelOuter</code></dt>
<dd>
<p>Decorating a variable with the <code>TessLevelOuter</code> built-in decoration will
make that variable contain the outer tessellation levels for the current
patch.</p>
<div class="paragraph">
<p>In tessellation control shaders, the variable decorated with
<code>TessLevelOuter</code> <strong class="purple">can</strong> be written to, which controls the tessellation
factors for the resulting patch.
These values are used by the tessellator to control primitive tessellation
and <strong class="purple">can</strong> be read by tessellation evaluation shaders.</p>
</div>
<div class="paragraph">
<p>In tessellation evaluation shaders, the variable decorated with
<code>TessLevelOuter</code> <strong class="purple">can</strong> read the values written by the tessellation control
shader.</p>
</div>
<div class="paragraph">
<p>The <code>TessLevelOuter</code> decoration <strong class="purple">must</strong> be used only within tessellation
control and tessellation evaluation shaders.</p>
</div>
<div class="paragraph">
<p>In a tessellation control shader, any variable decorated with
<code>TessLevelOuter</code> <strong class="purple">must</strong> be declared using the <code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>In a tessellation evaluation shader, any variable decorated with
<code>TessLevelOuter</code> <strong class="purple">must</strong> be declared using the <code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>Any variable decorated with <code>TessLevelOuter</code> <strong class="purple">must</strong> be declared as an
array of size four, containing 32-bit floating-point values.</p>
</div>
</dd>
<dt class="hdlist1"><code>TessLevelInner</code></dt>
<dd>
<p>Decorating a variable with the <code>TessLevelInner</code> built-in decoration will
make that variable contain the inner tessellation levels for the current
patch.</p>
<div class="paragraph">
<p>In tessellation control shaders, the variable decorated with
<code>TessLevelInner</code> <strong class="purple">can</strong> be written to, which controls the tessellation
factors for the resulting patch.
These values are used by the tessellator to control primitive tessellation
and <strong class="purple">can</strong> be read by tessellation evaluation shaders.</p>
</div>
<div class="paragraph">
<p>In tessellation evaluation shaders, the variable decorated with
<code>TessLevelInner</code> <strong class="purple">can</strong> read the values written by the tessellation control
shader.</p>
</div>
<div class="paragraph">
<p>The <code>TessLevelInner</code> decoration <strong class="purple">must</strong> be used only within tessellation
control and tessellation evaluation shaders.</p>
</div>
<div class="paragraph">
<p>In a tessellation control shader, any variable decorated with
<code>TessLevelInner</code> <strong class="purple">must</strong> be declared using the <code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>In a tessellation evaluation shader, any variable decorated with
<code>TessLevelInner</code> <strong class="purple">must</strong> be declared using the <code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>Any variable decorated with <code>TessLevelInner</code> <strong class="purple">must</strong> be declared as an
array of size two, containing 32-bit floating-point values.</p>
</div>
</dd>
<dt class="hdlist1"><code>VertexIndex</code></dt>
<dd>
<p>Decorating a variable with the <code>VertexIndex</code> built-in decoration will
make that variable contain the index of the vertex that is being processed
by the current vertex shader invocation.
For non-indexed draws, this variable begins at the <code>firstVertex</code>
parameter to <a href="#vkCmdDraw">vkCmdDraw</a> or the <code>firstVertex</code> member of a structure
consumed by <a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a> and increments by one for each vertex in
the draw.
For indexed draws, its value is the content of the index buffer for the
vertex plus the <code>vertexOffset</code> parameter to <a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a> or
the <code>vertexOffset</code> member of the structure consumed by
<a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a>.</p>
<div class="paragraph">
<p>The <code>VertexIndex</code> decoration <strong class="purple">must</strong> be used only within vertex shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>VertexIndex</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>VertexIndex</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>VertexIndex</code> starts at the same starting value for each instance.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="interfaces-builtin-variables-viewportindex" class="dlist">
<dl>
<dt class="hdlist1"><code>ViewportIndex</code></dt>
<dd>
<p>Decorating a variable with the <code>ViewportIndex</code> built-in decoration will
make that variable contain the index of the viewport.</p>
<div class="paragraph">
<p>In a
geometry shader, the variable decorated with <code>ViewportIndex</code> can be
written to with the viewport index to which the primitive produced by that
shader will be directed.</p>
</div>
<div class="paragraph">
<p>The selected viewport index is used to select the
viewport transform and
scissor rectangle.</p>
</div>
<div class="paragraph">
<p>If the last active vertex processing stage shader entry point&#8217;s interface
does not include a variable decorated with <code>ViewportIndex</code>, then the
first viewport is used.
If a vertex processing stage shader entry point&#8217;s interface includes a
variable decorated with <code>ViewportIndex</code>, it <strong class="purple">must</strong> write the same value to
<code>ViewportIndex</code> for all output vertices of a given primitive.</p>
</div>
<div class="paragraph">
<p>The <code>ViewportIndex</code> decoration <strong class="purple">must</strong> be used only within
geometry, and fragment shaders.</p>
</div>
<div class="paragraph">
<p>In a
geometry shader, any variable decorated with <code>ViewportIndex</code> <strong class="purple">must</strong> be
declared using the <code>Output</code> storage class.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, the variable decorated with <code>ViewportIndex</code>
contains the viewport index of the primitive that the fragment invocation
belongs to.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, any variable decorated with <code>ViewportIndex</code> <strong class="purple">must</strong>
be declared using the <code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>Any variable decorated with <code>ViewportIndex</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer.</p>
</div>
</dd>
<dt class="hdlist1"><code>WorkgroupId</code></dt>
<dd>
<p>Decorating a variable with the <code>WorkgroupId</code> built-in decoration will
make that variable contain the global workgroup that the current invocation
is a member of.
Each component ranges from a base value to a <span class="eq">base +  count</span> value,
based on the parameters passed into the dispatch commands.</p>
<div class="paragraph">
<p>The <code>WorkgroupId</code> decoration <strong class="purple">must</strong> be used only within
compute shaders.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>WorkgroupId</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> storage class.</p>
</div>
<div class="paragraph">
<p>The variable decorated with <code>WorkgroupId</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit integers.</p>
</div>
</dd>
<dt class="hdlist1"><code>WorkgroupSize</code></dt>
<dd>
<p>Decorating an object with the <code>WorkgroupSize</code> built-in decoration will
make that object contain the dimensions of a local workgroup.
If an object is decorated with the <code>WorkgroupSize</code> decoration, this <strong class="purple">must</strong>
take precedence over any execution mode set for <code>LocalSize</code>.</p>
<div class="paragraph">
<p>The <code>WorkgroupSize</code> decoration <strong class="purple">must</strong> be used only within
compute shaders.</p>
</div>
<div class="paragraph">
<p>The object decorated with <code>WorkgroupSize</code> <strong class="purple">must</strong> be a specialization
constant or a constant.</p>
</div>
<div class="paragraph">
<p>The object decorated with <code>WorkgroupSize</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit integers.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="textures"><a class="anchor" href="#textures"></a>15. Image Operations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_image_operations_overview"><a class="anchor" href="#_image_operations_overview"></a>15.1. Image Operations Overview</h3>
<div class="paragraph">
<p>Vulkan Image Operations are operations performed by those SPIR-V Image
Instructions which take an <code>OpTypeImage</code> (representing a
<code>VkImageView</code>) or <code>OpTypeSampledImage</code> (representing a
(<code>VkImageView</code>, <code>VkSampler</code>) pair) and texel coordinates as
operands, and return a value based on one or more neighboring texture
elements (<em>texels</em>) in the image.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Texel is a term which is a combination of the words texture and element.
Early interactive computer graphics supported texture operations on
textures, a small subset of the image operations on images described here.
The discrete samples remain essentially equivalent, however, so we retain
the historical term texel to refer to them.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Image Operations include the functionality of the following SPIR-V Image
Instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>OpImageSample</code>* and <code>OpImageSparseSample</code>* read one or more
neighboring texels of the image, and <a href="#textures-texel-filtering">filter</a>
the texel values based on the state of the sampler.</p>
<div class="ulist">
<ul>
<li>
<p>Instructions with <code>ImplicitLod</code> in the name
<a href="#textures-level-of-detail-operation">determine</a> the LOD used in the
sampling operation based on the coordinates used in neighboring
fragments.</p>
</li>
<li>
<p>Instructions with <code>ExplicitLod</code> in the name
<a href="#textures-level-of-detail-operation">determine</a> the LOD used in the
sampling operation based on additional coordinates.</p>
</li>
<li>
<p>Instructions with <code>Proj</code> in the name apply homogeneous
<a href="#textures-projection">projection</a> to the coordinates.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>OpImageFetch</code> and <code>OpImageSparseFetch</code> return a single texel of
the image.
No sampler is used.</p>
</li>
<li>
<p><code>OpImage</code>*<code>Gather</code> and <code>OpImageSparse</code>*<code>Gather</code> read
neighboring texels and <a href="#textures-gather">return a single component</a> of
each.</p>
</li>
<li>
<p><code>OpImageRead</code> (and <code>OpImageSparseRead</code>) and <code>OpImageWrite</code> read
and write, respectively, a texel in the image.
No sampler is used.</p>
</li>
<li>
<p>Instructions with <code>Dref</code> in the name apply
<a href="#textures-depth-compare-operation">depth comparison</a> on the texel
values.</p>
</li>
<li>
<p>Instructions with <code>Sparse</code> in the name additionally return a
<a href="#textures-sparse-residency">sparse residency</a> code.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="textures-texel-coordinate-systems"><a class="anchor" href="#textures-texel-coordinate-systems"></a>15.1.1. Texel Coordinate Systems</h4>
<div class="paragraph">
<p>Images are addressed by <em>texel coordinates</em>.
There are three <em>texel coordinate systems</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>normalized texel coordinates <span class="eq">[0.0, 1.0]</span></p>
</li>
<li>
<p>unnormalized texel coordinates <span class="eq">[0.0, width / height / depth)</span></p>
</li>
<li>
<p>integer texel coordinates <span class="eq">[0, width / height / depth)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>SPIR-V <code>OpImageFetch</code>, <code>OpImageSparseFetch</code>, <code>OpImageRead</code>,
<code>OpImageSparseRead</code>, and <code>OpImageWrite</code> instructions use integer texel
coordinates.
Other image instructions <strong class="purple">can</strong> use either normalized or unnormalized texel
coordinates (selected by the <code>unnormalizedCoordinates</code> state of the
sampler used in the instruction), but there are
<a href="#samplers-unnormalizedCoordinates">limitations</a> on what operations, image
state, and sampler state is supported.
Normalized coordinates are logically
<a href="#textures-normalized-to-unnormalized">converted</a> to unnormalized as part of
image operations, and <a href="#textures-normalized-operations">certain steps</a> are
only performed on normalized coordinates.
The array layer coordinate is always treated as unnormalized even when other
coordinates are normalized.</p>
</div>
<div class="paragraph">
<p>Normalized texel coordinates are referred to as <span class="eq">(s,t,r,q,a)</span>, with the
coordinates having the following meanings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">s</span>: Coordinate in the first dimension of an image.</p>
</li>
<li>
<p><span class="eq">t</span>: Coordinate in the second dimension of an image.</p>
</li>
<li>
<p><span class="eq">r</span>: Coordinate in the third dimension of an image.</p>
<div class="ulist">
<ul>
<li>
<p><span class="eq">(s,t,r)</span> are interpreted as a direction vector for Cube images.</p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="eq">q</span>: Fourth coordinate, for homogeneous (projective) coordinates.</p>
</li>
<li>
<p><span class="eq">a</span>: Coordinate for array layer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The coordinates are extracted from the SPIR-V operand based on the
dimensionality of the image variable and type of instruction.
For <code>Proj</code> instructions, the components are in order <span class="eq">(s [,t] [,r]
q)</span>, with <span class="eq">t</span> and <span class="eq">r</span> being conditionally present based on the
<code>Dim</code> of the image.
For non-<code>Proj</code> instructions, the coordinates are <span class="eq">(s [,t] [,r]
[,a])</span>, with <span class="eq">t</span> and <span class="eq">r</span> being conditionally present based on the
<code>Dim</code> of the image and <span class="eq">a</span> being conditionally present based on the
<code>Arrayed</code> property of the image.
Projective image instructions are not supported on <code>Arrayed</code> images.</p>
</div>
<div class="paragraph">
<p>Unnormalized texel coordinates are referred to as <span class="eq">(u,v,w,a)</span>, with the
coordinates having the following meanings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">u</span>: Coordinate in the first dimension of an image.</p>
</li>
<li>
<p><span class="eq">v</span>: Coordinate in the second dimension of an image.</p>
</li>
<li>
<p><span class="eq">w</span>: Coordinate in the third dimension of an image.</p>
</li>
<li>
<p><span class="eq">a</span>: Coordinate for array layer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only the <span class="eq">u</span> and <span class="eq">v</span> coordinates are directly extracted from the
SPIR-V operand, because only 1D and 2D (non-<code>Arrayed</code>) dimensionalities
support unnormalized coordinates.
The components are in order <span class="eq">(u [,v])</span>, with <span class="eq">v</span> being conditionally
present when the dimensionality is 2D.
When normalized coordinates are converted to unnormalized coordinates, all
four coordinates are used.</p>
</div>
<div class="paragraph">
<p>Integer texel coordinates are referred to as <span class="eq">(i,j,k,l,n)</span>, with the
coordinates having the following meanings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">i</span>: Coordinate in the first dimension of an image.</p>
</li>
<li>
<p><span class="eq">j</span>: Coordinate in the second dimension of an image.</p>
</li>
<li>
<p><span class="eq">k</span>: Coordinate in the third dimension of an image.</p>
</li>
<li>
<p><span class="eq">l</span>: Coordinate for array layer.</p>
</li>
<li>
<p><span class="eq">n</span>: Coordinate for the sample index.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>They are extracted from the SPIR-V operand in order <span class="eq">(i, [,j], [,k],
[,l])</span>, with <span class="eq">j</span> and <span class="eq">k</span> conditionally present based on the <code>Dim</code>
of the image, and <span class="eq">l</span> conditionally present based on the <code>Arrayed</code>
property of the image.
<span class="eq">n</span> is conditionally present and is taken from the <code>Sample</code> image
operand.</p>
</div>
<div class="paragraph">
<p>For all coordinate types, unused coordinates are assigned a value of zero.</p>
</div>
<div id="textures-texel-coordinate-systems-diagrams" class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="706.10547"
   height="384.11328"
   viewBox="0 0 186.82375 101.62997"
   version="1.1"
   id="svg8"
   inkscape:version="0.48.4 r9939"
   sodipodi:docname="vulkantexture0-ll.svg">
  <defs
     id="defs2">
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="marker2415"
       style="overflow:visible;"
       inkscape:isstock="true">
      <path
         id="path2413"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1;fill:#000000;fill-opacity:1"
         transform="scale(0.4) rotate(180) translate(10,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible;"
       id="marker1517"
       refX="0.0"
       refY="0.0"
       orient="auto"
       inkscape:stockid="Arrow1Mend"
       inkscape:collect="always">
      <path
         transform="scale(0.4) rotate(180) translate(10,0)"
         style="fill-rule:evenodd;stroke:#ff0000;stroke-width:1pt;stroke-opacity:1;fill:#ff0000;fill-opacity:1"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         id="path1515" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow1Mend"
       style="overflow:visible;"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path1132"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#ff0000;stroke-width:1pt;stroke-opacity:1;fill:#ff0000;fill-opacity:1"
         transform="scale(0.4) rotate(180) translate(10,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow2Lend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow2Lend"
       style="overflow:visible;"
       inkscape:isstock="true">
      <path
         id="path1144"
         style="fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round;stroke:#ff0000;stroke-opacity:1;fill:#ff0000;fill-opacity:1"
         d="M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "
         transform="scale(1.1) rotate(180) translate(1,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker1073"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend">
      <path
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#ff0000;fill-opacity:1;fill-rule:evenodd;stroke:#ff0000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path1071"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker1483"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path1481"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path977"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend-0"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path977-6"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker1483-7"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path1481-0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker2415-4"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path2413-3"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)" />
    </marker>
    <pattern
       y="0"
       x="0"
       height="6"
       width="6"
       patternUnits="userSpaceOnUse"
       id="EMFhbasepattern" />
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2"
     inkscape:cx="409.64232"
     inkscape:cy="185.01098"
     inkscape:document-units="px"
     inkscape:current-layer="g3740"
     showgrid="true"
     inkscape:snap-object-midpoints="true"
     inkscape:snap-text-baseline="true"
     inkscape:window-width="1920"
     inkscape:window-height="1057"
     inkscape:window-x="1928"
     inkscape:window-y="31"
     inkscape:window-maximized="0"
     fit-margin-top="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     fit-margin-left="1"
     units="px"
     inkscape:snap-center="false"
     inkscape:snap-global="false">
    <inkscape:grid
       type="xygrid"
       id="grid12"
       originx="0.79995428"
       originy="-29.882412"
       dotted="false" />
  </sodipodi:namedview>
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-6.9498988,47.8249)">
    <g
       id="g3888">
      <g
         id="g3699">
        <g
           id="g3675">
          <text
             id="text121-6"
             y="36.062489"
             x="44.791519"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="36.062489"
               x="44.791519"
               id="tspan119-11"
               sodipodi:role="line">0</tspan></text>
          <text
             id="text121-30"
             y="36.062489"
             x="63.312355"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="36.062489"
               x="63.312355"
               id="tspan119-47"
               sodipodi:role="line">1</tspan></text>
          <text
             id="text121-1"
             y="36.062489"
             x="81.833191"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="36.062489"
               x="81.833191"
               id="tspan119-9"
               sodipodi:role="line">2</tspan></text>
          <text
             id="text121-8"
             y="36.062489"
             x="100.35403"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="36.062489"
               x="100.35403"
               id="tspan119-7"
               sodipodi:role="line">3</tspan></text>
          <text
             id="text121-4"
             y="36.062489"
             x="118.87486"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="36.062489"
               x="118.87486"
               id="tspan119-0"
               sodipodi:role="line">4</tspan></text>
          <text
             id="text121-7"
             y="36.062489"
             x="137.39569"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="36.062489"
               x="137.39569"
               id="tspan119-8"
               sodipodi:role="line">5</tspan></text>
          <text
             id="text121-79"
             y="36.062489"
             x="155.91653"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="36.062489"
               x="155.91653"
               id="tspan119-16"
               sodipodi:role="line">6</tspan></text>
          <text
             id="text121-31"
             y="36.062489"
             x="174.43736"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="36.062489"
               x="174.43736"
               id="tspan119-09"
               sodipodi:role="line">7</tspan></text>
          <text
             id="text121-3-7-3"
             y="37.611748"
             x="110.83607"
             style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
             xml:space="preserve"><tspan
               style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               y="37.611748"
               x="110.83607"
               id="tspan119-1-8-7"
               sodipodi:role="line">i</tspan></text>
        </g>
        <g
           id="g3666">
          <text
             id="text121-09-74"
             y="45.537884"
             x="28.097963"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="45.537884"
               x="28.097963"
               id="tspan119-67-18"
               sodipodi:role="line">0.0</tspan></text>
          <text
             id="text121-09-74-5"
             y="45.538918"
             x="186.86346"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="45.538918"
               x="186.86346"
               id="tspan119-67-18-0"
               sodipodi:role="line">8.0</tspan></text>
          <path
             inkscape:connector-curvature="0"
             id="path972"
             d="m 36.854018,43.999991 h 71.437502 m 5.29167,2e-6 h 71.4375"
             style="fill:none;stroke:#000000;stroke-width:0.26458335px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend)" />
          <text
             id="text121-3-7-3-3"
             y="45.122406"
             x="110.86915"
             style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
             xml:space="preserve"><tspan
               style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               y="45.122406"
               x="110.86915"
               id="tspan119-1-8-7-2"
               sodipodi:role="line">u</tspan></text>
        </g>
        <g
           id="g3657">
          <text
             id="text121-09-74-7"
             y="53.47538"
             x="28.097961"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="53.47538"
               x="28.097961"
               id="tspan119-67-18-1"
               sodipodi:role="line">0.0</tspan></text>
          <text
             id="text121-09-74-5-4"
             y="53.476414"
             x="186.86346"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="53.476414"
               x="186.86346"
               id="tspan119-67-18-0-9"
               sodipodi:role="line">1.0</tspan></text>
          <path
             inkscape:connector-curvature="0"
             id="path972-8"
             d="m 36.854015,51.937489 h 71.437505 m 5.29167,2e-6 h 71.4375"
             style="fill:none;stroke:#000000;stroke-width:0.26458335px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend-0)" />
          <text
             id="text121-3-7-3-3-5"
             y="53.059902"
             x="110.86914"
             style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
             xml:space="preserve"><tspan
               style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               y="53.059902"
               x="110.86914"
               id="tspan119-1-8-7-2-2"
               sodipodi:role="line">s</tspan></text>
        </g>
      </g>
      <g
         id="g3628">
        <g
           id="g3616">
          <text
             id="text121"
             y="-32.729183"
             x="31.562353"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="-32.729183"
               x="31.562353"
               id="tspan119"
               sodipodi:role="line">3</tspan></text>
          <text
             id="text121-3"
             y="-14.208344"
             x="31.562353"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="-14.208344"
               x="31.562353"
               id="tspan119-1"
               sodipodi:role="line">2</tspan></text>
          <text
             id="text121-0"
             y="4.3124895"
             x="31.562353"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="4.3124895"
               x="31.562353"
               id="tspan119-4"
               sodipodi:role="line">1</tspan></text>
          <text
             id="text121-33"
             y="22.833323"
             x="31.562353"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="22.833323"
               x="31.562353"
               id="tspan119-6"
               sodipodi:role="line">0</tspan></text>
          <text
             id="text121-3-7"
             y="-5.1587672"
             x="31.790766"
             style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
             xml:space="preserve"><tspan
               style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               y="-5.1587672"
               x="31.790766"
               id="tspan119-1-8"
               sodipodi:role="line">j</tspan></text>
        </g>
        <g
           id="g3607">
          <text
             id="text121-09"
             y="-44.420456"
             x="17.576641"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="-44.420456"
               x="17.576641"
               id="tspan119-67"
               sodipodi:role="line">4.0</tspan></text>
          <text
             id="text121-09-7"
             y="34.954548"
             x="17.514629"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="34.954548"
               x="17.514629"
               id="tspan119-67-1"
               sodipodi:role="line">0.0</tspan></text>
          <path
             style="fill:none;stroke:#000000;stroke-width:0.26458335px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483)"
             d="M 20.979018,30.770823 V -3.6250121 m 1e-6,-5.2916661 V -43.312513"
             id="path1473"
             inkscape:connector-curvature="0" />
          <text
             id="text121-3-7-8"
             y="-5.1587677"
             x="20.479824"
             style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
             xml:space="preserve"><tspan
               style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               y="-5.1587677"
               x="20.479824"
               id="tspan119-1-8-3"
               sodipodi:role="line">v</tspan></text>
        </g>
        <g
           id="g3598">
          <text
             xml:space="preserve"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             x="6.9933071"
             y="-44.420456"
             id="text1601-4"><tspan
               sodipodi:role="line"
               id="tspan1599-1"
               x="6.9933071"
               y="-44.420456"
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'">1.0</tspan></text>
          <text
             xml:space="preserve"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             x="6.9312954"
             y="34.954548"
             id="text1605-6"><tspan
               sodipodi:role="line"
               id="tspan1603-7"
               x="6.9312954"
               y="34.954548"
               style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'">0.0</tspan></text>
          <path
             inkscape:connector-curvature="0"
             id="path1607-6"
             d="M 10.395684,30.770823 V -3.6250121 m 1e-6,-5.2916661 V -43.312513"
             style="fill:none;stroke:#000000;stroke-width:0.26458335px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483-7)" />
          <text
             xml:space="preserve"
             style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
             x="9.8964901"
             y="-5.1587677"
             id="text1611-4"><tspan
               sodipodi:role="line"
               id="tspan1609-3"
               x="9.8964901"
               y="-5.1587677"
               style="font-size:4.23333359px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'">t</tspan></text>
        </g>
      </g>
      <g
         id="g3695">
        <path
           inkscape:connector-curvature="0"
           id="path2429-6"
           d="m 129.43215,30.887503 11.90625,0"
           style="fill:#000000;stroke:#000000;stroke-width:0.26458335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#marker2415-4)"
           sodipodi:nodetypes="cc" />
        <path
           inkscape:connector-curvature="0"
           id="path1089"
           style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
           d="m 145.23168,32.17424 h -0.38861 v -0.241846 q -0.16743,0.144694 -0.34933,0.22531 -0.1819,0.08062 -0.39481,0.08062 -0.41341,0 -0.65732,-0.318327 -0.24185,-0.318327 -0.24185,-0.882633 0,-0.293522 0.0827,-0.522966 0.0847,-0.229443 0.22738,-0.390674 0.14056,-0.157096 0.3266,-0.239778 0.1881,-0.08268 0.3886,-0.08268 0.1819,0 0.32246,0.04548 0.14056,0.04547 0.29559,0.12609 v -0.107487 h 0.38861 z m -0.38861,-0.568441 v -1.314648 q -0.15709,-0.07028 -0.28112,-0.101286 -0.12402,-0.03307 -0.27078,-0.03307 -0.3266,0 -0.5085,0.227377 -0.1819,0.227376 -0.1819,0.644921 0,0.411345 0.14056,0.626319 0.14056,0.212907 0.45062,0.212907 0.16537,0 0.33486,-0.07235 0.1695,-0.07441 0.31626,-0.19017 z" />
      </g>
      <g
         id="g3800">
        <g
           id="g3789">
          <path
             sodipodi:nodetypes="cc"
             inkscape:connector-curvature="0"
             id="path1842"
             d="M 138.6988,21.49061 65.777117,3.8028339"
             style="fill:none;stroke:#ff0000;stroke-width:0.30418205px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1517)" />
          <g
             transform="matrix(1,0,0,-1,3.1750002,24.485338)"
             id="g3589">
            <path
               inkscape:connector-curvature="0"
               id="path1095"
               style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               d="m 100.72287,12.249991 h -0.34236 q -0.14534,0.235774 -0.239,0.510305 -0.0937,0.274531 -0.0937,0.573286 0,0.306828 0.0743,0.591048 0.0743,0.285836 0.21801,0.561981 0.13726,0.261613 0.32782,0.495772 0.19217,0.234158 0.4231,0.445708 h 0.36496 v -0.01616 q -0.18409,-0.135656 -0.38434,-0.34397 -0.19863,-0.208322 -0.3585,-0.460244 -0.16311,-0.256767 -0.26646,-0.566827 -0.10174,-0.308444 -0.10174,-0.6508 0,-0.350429 0.10174,-0.637879 0.10173,-0.289066 0.27614,-0.486082 z" />
            <path
               inkscape:connector-curvature="0"
               id="path1097"
               style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               d="m 103.46979,12.915325 h -2.24146 l 1.46309,2.404569 h 0.42633 z m -0.35366,0.259997 -0.2713,1.863582 -1.13042,-1.863582 z" />
            <path
               inkscape:connector-curvature="0"
               id="path1099"
               style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               d="m 104.70195,15.336043 -0.0727,-0.314903 h -0.34236 l 0.0727,0.314903 z m -0.16148,-0.616888 -0.41665,-1.80383 h -0.30359 l 0.41664,1.80383 z" />
            <path
               inkscape:connector-curvature="0"
               id="path1101"
               style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               d="m 105.47872,13.375569 -0.70087,-1.057753 h -0.23577 l 0.52322,1.057753 z" />
            <path
               inkscape:connector-curvature="0"
               id="path1103"
               style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               d="m 107.98502,12.915325 h -2.24146 l 1.46309,2.404569 h 0.42633 z m -0.35366,0.259997 -0.2713,1.863582 -1.13042,-1.863582 z" />
            <path
               inkscape:connector-curvature="0"
               id="path1105"
               style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               d="m 109.38352,15.02114 h -0.34559 l 0.0727,0.314903 h 0.34559 z m -0.51677,-2.149416 q -0.0727,-0.313289 -0.25838,-0.476392 -0.1841,-0.163105 -0.45863,-0.163105 -0.0646,0 -0.16956,0.01297 -0.10497,0.01297 -0.17279,0.0323 l 0.063,0.276146 h 0.0161 q 0.0468,-0.021 0.11142,-0.04038 0.063,-0.02098 0.14696,-0.02098 0.11304,0 0.18894,0.03553 0.0775,0.03391 0.12596,0.10336 0.0468,0.06783 0.0775,0.169562 0.0307,0.100125 0.0549,0.209936 l 0.33751,1.464705 h -0.37627 l 0.0565,0.243847 h 0.6831 z" />
            <path
               inkscape:connector-curvature="0"
               id="path1107"
               style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
               d="m 110.65766,14.344502 q 0,-0.305214 -0.0759,-0.597509 -0.0759,-0.29068 -0.2164,-0.555522 -0.1405,-0.264841 -0.33267,-0.500614 -0.19217,-0.237389 -0.41825,-0.440866 h -0.36497 v 0.01616 q 0.18572,0.138875 0.38273,0.342357 0.19863,0.201861 0.36012,0.461857 0.1841,0.297139 0.27615,0.595894 0.092,0.298755 0.092,0.621731 0,0.343972 -0.10173,0.633038 -0.10012,0.29068 -0.27614,0.490925 v 0.01616 h 0.34235 q 0.14372,-0.234158 0.23739,-0.508689 0.0953,-0.272916 0.0953,-0.5749 z" />
          </g>
        </g>
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517"
           cx="42.333332"
           cy="21.833345"
           r="0.52778977"
           d="m 42.861122,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="42.333332"
           sodipodi:cy="21.833345"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7"
           cx="52.916668"
           cy="21.833345"
           r="0.52778977"
           d="m 53.444458,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="52.916668"
           sodipodi:cy="21.833345"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-78"
           cx="63.5"
           cy="21.833345"
           r="0.52778977"
           d="m 64.02779,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="63.5"
           sodipodi:cy="21.833345"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-9"
           cx="74.083336"
           cy="21.833345"
           r="0.52778977"
           d="m 74.611126,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="74.083336"
           sodipodi:cy="21.833345"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-0"
           cx="84.666664"
           cy="21.833345"
           r="0.52778977"
           d="m 85.194454,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="84.666664"
           sodipodi:cy="21.833345"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-0"
           cx="95.25"
           cy="21.833345"
           r="0.52778977"
           d="m 95.77779,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="95.25"
           sodipodi:cy="21.833345"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-1"
           cx="105.83334"
           cy="21.833345"
           r="0.52778977"
           d="m 106.36113,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="105.83334"
           sodipodi:cy="21.833345"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-7"
           cx="116.41666"
           cy="21.833345"
           r="0.52778977"
           d="m 116.94445,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="116.41666"
           sodipodi:cy="21.833345"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <path
           style="fill:none;stroke:#808080;stroke-width:0.26458335;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
           d="m 36.85402,30.770821 h 148.16667 l 2e-5,-74.083337 H 36.854029 l -9e-6,74.083337 m 18.520836,0 7e-6,-74.083337 m 18.520832,0 -7e-6,74.083337 m 18.520832,0 1.4e-5,-74.083337 m 18.520836,0 -1e-5,74.083337 m 18.52084,0 v -74.083337 m 18.52083,0 -1e-5,74.083337 m 18.52082,0 2e-5,-74.083337 m 18.52085,18.52083 H 36.854029 m -7e-6,18.5208395 H 185.02069 m 0,18.5208325 H 36.854022"
           id="path1171"
           inkscape:connector-curvature="0"
           sodipodi:nodetypes="ccccccccccccccccccccccccc" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-6"
           cx="42.333332"
           cy="32.416679"
           r="0.52778977"
           d="m 42.861122,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="42.333332"
           sodipodi:cy="32.416679"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-3"
           cx="52.916668"
           cy="32.416679"
           r="0.52778977"
           d="m 53.444458,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="52.916668"
           sodipodi:cy="32.416679"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-78-9"
           cx="63.5"
           cy="32.416679"
           r="0.52778977"
           d="m 64.02779,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="63.5"
           sodipodi:cy="32.416679"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-9-1"
           cx="74.083336"
           cy="32.416679"
           r="0.52778977"
           d="m 74.611126,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="74.083336"
           sodipodi:cy="32.416679"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-0-6"
           cx="84.666664"
           cy="32.416679"
           r="0.52778977"
           d="m 85.194454,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="84.666664"
           sodipodi:cy="32.416679"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-0-8"
           cx="95.25"
           cy="32.416679"
           r="0.52778977"
           d="m 95.77779,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="95.25"
           sodipodi:cy="32.416679"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-1-5"
           cx="105.83334"
           cy="32.416679"
           r="0.52778977"
           d="m 106.36113,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="105.83334"
           sodipodi:cy="32.416679"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-7-5"
           cx="116.41665"
           cy="32.416679"
           r="0.52778977"
           d="m 116.94444,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="116.41665"
           sodipodi:cy="32.416679"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-4"
           cx="42.333332"
           cy="43.000011"
           r="0.52778977"
           d="m 42.861122,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="42.333332"
           sodipodi:cy="43.000011"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-2"
           cx="52.916668"
           cy="43.000011"
           r="0.52778977"
           d="m 53.444458,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="52.916668"
           sodipodi:cy="43.000011"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-78-3"
           cx="63.5"
           cy="43.000011"
           r="0.52778977"
           d="m 64.02779,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="63.5"
           sodipodi:cy="43.000011"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-9-0"
           cx="74.083336"
           cy="43.000011"
           r="0.52778977"
           d="m 74.611126,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="74.083336"
           sodipodi:cy="43.000011"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-0-9"
           cx="84.666664"
           cy="43.000011"
           r="0.52778977"
           d="m 85.194454,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="84.666664"
           sodipodi:cy="43.000011"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-0-1"
           cx="95.25"
           cy="43.000011"
           r="0.52778977"
           d="m 95.77779,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="95.25"
           sodipodi:cy="43.000011"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-1-9"
           cx="105.83334"
           cy="43.000011"
           r="0.52778977"
           d="m 106.36113,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="105.83334"
           sodipodi:cy="43.000011"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-7-7"
           cx="116.41665"
           cy="43.000011"
           r="0.52778977"
           d="m 116.94444,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z"
           sodipodi:cx="116.41665"
           sodipodi:cy="43.000011"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-14"
           cx="42.333332"
           cy="53.583344"
           r="0.52778977"
           d="m 42.861122,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z"
           sodipodi:cx="42.333332"
           sodipodi:cy="53.583344"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-4"
           cx="52.916668"
           cy="53.583344"
           r="0.52778977"
           d="m 53.444458,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z"
           sodipodi:cx="52.916668"
           sodipodi:cy="53.583344"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-78-7"
           cx="63.5"
           cy="53.583344"
           r="0.52778977"
           d="m 64.02779,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z"
           sodipodi:cx="63.5"
           sodipodi:cy="53.583344"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-9-8"
           cx="74.083336"
           cy="53.583344"
           r="0.52778977"
           d="m 74.611126,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z"
           sodipodi:cx="74.083336"
           sodipodi:cy="53.583344"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-0-7"
           cx="84.666664"
           cy="53.583344"
           r="0.52778977"
           d="m 85.194454,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z"
           sodipodi:cx="84.666664"
           sodipodi:cy="53.583344"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-0-9"
           cx="95.25"
           cy="53.583344"
           r="0.52778977"
           d="m 95.77779,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z"
           sodipodi:cx="95.25"
           sodipodi:cy="53.583344"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-1-4"
           cx="105.83334"
           cy="53.583344"
           r="0.52778977"
           d="m 106.36113,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z"
           sodipodi:cx="105.83334"
           sodipodi:cy="53.583344"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <circle
           style="fill:#000000;fill-opacity:1;stroke:none"
           id="path4517-7-7-52"
           cx="116.41665"
           cy="53.583344"
           r="0.52778977"
           d="m 116.94444,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z"
           sodipodi:cx="116.41665"
           sodipodi:cy="53.583344"
           sodipodi:rx="0.52778977"
           sodipodi:ry="0.52778977"
           transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718761)" />
        <path
           style="fill:none;stroke:#808080;stroke-width:0.16467975;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
           d="M 141.36444,16.782908 V 31.13271"
           id="path3054-3"
           inkscape:connector-curvature="0"
           sodipodi:nodetypes="cc" />
        <path
           style="fill:none;stroke:#808080;stroke-width:0.13229167;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
           d="m 129.45819,18.864575 h 14.55208"
           id="path3054"
           inkscape:connector-curvature="0" />
        <rect
           style="fill:none;stroke:#ff0000;stroke-width:0.5291667;stroke-linecap:square;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:2.11666671, 2.11666671;stroke-dashoffset:0"
           id="rect1609"
           width="37.041668"
           height="37.041668"
           x="58.020679"
           y="-9.6041584"
           transform="scale(1,-1)" />
        <rect
           style="fill:none;stroke:#ff0000;stroke-width:0.5291667;stroke-linecap:square;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:2.11666671, 2.11666671;stroke-dashoffset:0"
           id="rect1609-6"
           width="37.041668"
           height="37.041668"
           x="132.10402"
           y="-28.124992"
           transform="scale(1,-1)" />
        <g
           id="g3736">
          <path
             d="m 130.47105,15.425011 q 0,0.417545 -0.27906,0.690397 -0.27698,0.272851 -0.70073,0.272851 -0.1633,0 -0.3452,-0.04547 -0.1819,-0.04547 -0.31212,-0.132291 v 0.983919 h -0.38861 v -3.079915 q 0,-0.463021 0.26045,-0.725537 0.26252,-0.262517 0.72347,-0.262517 0.18603,0 0.339,0.04548 0.15503,0.04341 0.27698,0.138492 0.11783,0.08888 0.1881,0.231511 0.0703,0.142627 0.0703,0.330729 0,0.262516 -0.14469,0.458887 -0.14262,0.194303 -0.40514,0.270784 v 0.03514 q 0.32866,0.05374 0.52296,0.260449 0.19431,0.204639 0.19431,0.5271 z m -0.40101,-0.01034 q 0,-0.183969 -0.0724,-0.297657 -0.0703,-0.115755 -0.19017,-0.179834 -0.12196,-0.06615 -0.27285,-0.08888 -0.1509,-0.02274 -0.30179,-0.02274 h -0.0744 v -0.330729 h 0.0744 q 0.13642,0 0.27078,-0.02894 0.13436,-0.03101 0.21497,-0.09302 0.0951,-0.07028 0.14056,-0.171566 0.0475,-0.101286 0.0475,-0.276986 0,-0.23151 -0.14262,-0.351399 -0.14263,-0.11989 -0.36794,-0.11989 -0.1509,0 -0.25838,0.05581 -0.10749,0.05374 -0.1757,0.144694 -0.0661,0.09095 -0.0971,0.212907 -0.031,0.119889 -0.031,0.248047 v 1.781803 q 0.13642,0.07855 0.29145,0.111621 0.15503,0.03101 0.30386,0.03101 0.30799,0 0.47336,-0.161231 0.16743,-0.163297 0.16743,-0.46302 z"
             style="font-size:4.23333311px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             id="path1092"
             inkscape:connector-curvature="0" />
          <path
             sodipodi:nodetypes="cc"
             style="fill:#000000;stroke:#000000;stroke-width:0.26458335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#marker2415)"
             d="m 129.45819,30.770825 0,-11.90625"
             id="path2429"
             inkscape:connector-curvature="0" />
        </g>
        <g
           id="g3740">
          <text
             id="text5070-2-1"
             y="6.2589712"
             x="138.71861"
             style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"><tspan
               style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               y="6.2589712"
               x="138.71861"
               id="tspan5068-0-6"
               sodipodi:role="line"><tspan
                 id="tspan7821"
                 style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"> i0j1</tspan></tspan></text>
          <text
             id="text5070-2-1-7"
             y="6.2589712"
             x="157.23944"
             style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"
             sodipodi:linespacing="0%"><tspan
               sodipodi:role="line"
               id="tspan4060"> i1j1</tspan></text>
          <text
             id="text5070-2-1-0"
             y="24.779802"
             x="138.71861"
             style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"
             sodipodi:linespacing="0%"><tspan
               sodipodi:role="line"
               id="tspan4064"> i0j0</tspan></text>
          <text
             id="text5070-2-1-2"
             y="24.779802"
             x="157.23944"
             style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"
             sodipodi:linespacing="0%"><tspan
               sodipodi:role="line"
               id="tspan4054"> i1j0</tspan><tspan
               sodipodi:role="line"
               id="tspan4056" /></text>
        </g>
        <g
           id="g3778">
          <path
             sodipodi:nodetypes="cc"
             inkscape:connector-curvature="0"
             id="path1063"
             d="m 150.36028,9.868741 -8.20209,8.202084"
             style="fill:none;stroke:#ff0000;stroke-width:0.26458335px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend)" />
          <g
             id="g3773">
            <circle
               style="fill:#ff0000;fill-opacity:1;stroke:none"
               id="path4517-0-8-5"
               cx="141.36444"
               cy="-31.406267"
               r="0.92363214"
               d="m 142.28807,-31.406267 c 0,0.510108 -0.41352,0.923632 -0.92363,0.923632 -0.51011,0 -0.92363,-0.413524 -0.92363,-0.923632 0,-0.510108 0.41352,-0.923632 0.92363,-0.923632 0.51011,0 0.92363,0.413524 0.92363,0.923632 z"
               sodipodi:cx="141.36444"
               sodipodi:cy="-31.406267"
               sodipodi:rx="0.92363214"
               sodipodi:ry="0.92363214"
               transform="matrix(1,0,0,-1,0,-12.541691)" />
            <text
               xml:space="preserve"
               style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               x="143.54691"
               y="20.09103"
               id="text5070"><tspan
                 sodipodi:role="line"
                 id="tspan5068"
                 x="143.54691"
                 y="20.09103"
                 style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'">(u-0.5,v-0.5)</tspan></text>
          </g>
          <g
             id="g3768">
            <circle
               style="fill:#ff0000;fill-opacity:1;stroke:none"
               id="path4517-0-8"
               cx="150.62486"
               cy="-22.145849"
               r="0.92363214"
               d="m 151.54849,-22.145849 c 0,0.510108 -0.41352,0.923632 -0.92363,0.923632 -0.51011,0 -0.92363,-0.413524 -0.92363,-0.923632 0,-0.510108 0.41352,-0.923632 0.92363,-0.923632 0.51011,0 0.92363,0.413524 0.92363,0.923632 z"
               sodipodi:cx="150.62486"
               sodipodi:cy="-22.145849"
               sodipodi:rx="0.92363214"
               sodipodi:ry="0.92363214"
               transform="matrix(1,0,0,-1,0,-12.541691)" />
            <text
               xml:space="preserve"
               style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
               x="152.21477"
               y="10.830611"
               id="text5070-2"><tspan
                 sodipodi:role="line"
                 id="tspan5068-0"
                 x="152.21477"
                 y="10.830611"
                 style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'">(u,v)</tspan></text>
          </g>
        </g>
        <g
           id="g3754">
          <text
             id="text5070-2-1-06"
             y="-16.495201"
             x="64.635269"
             style="font-size:3.52777742999999999px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:35%;letter-spacing:0px;word-spacing:0px;writing-mode:lr;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"
             sodipodi:linespacing="35%"><tspan
               sodipodi:role="line"
               id="tspan4046"> i0j1'</tspan></text>
          <text
             id="text5070-2-1-25"
             y="-16.495201"
             x="83.156105"
             style="font-size:3.52777742999999999px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:35%;letter-spacing:0px;word-spacing:0px;writing-mode:lr;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"
             sodipodi:linespacing="35%"><tspan
               sodipodi:role="line"
               id="tspan4048"> i1j1'</tspan></text>
          <text
             id="text5070-2-1-75"
             y="2.0256376"
             x="64.635269"
             style="font-size:3.52777742999999999px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:35%;letter-spacing:0px;word-spacing:0px;writing-mode:lr;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"
             sodipodi:linespacing="35%"><tspan
               sodipodi:role="line"
               id="tspan4044"> i0j0'</tspan></text>
          <text
             id="text5070-2-1-3"
             y="2.0256376"
             x="83.156105"
             style="font-size:3.52777742999999999px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:35%;letter-spacing:0px;word-spacing:0px;writing-mode:lr;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
             xml:space="preserve"
             sodipodi:linespacing="35%"><tspan
               sodipodi:role="line"
               id="tspan4050"> i1j0'</tspan></text>
        </g>
      </g>
    </g>
  </g>
</svg>
</div>
<div class="title">Figure 3. Texel Coordinate Systems, Linear Filtering</div>
</div>
<div class="paragraph">
<p>The Texel Coordinate Systems - For the example shown of an 84 texel
two dimensional image.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Normalized texel coordinates:</p>
<div class="ulist">
<ul>
<li>
<p>The <span class="eq">s</span> coordinate goes from 0.0 to 1.0.</p>
</li>
<li>
<p>The <span class="eq">t</span> coordinate goes from 0.0 to 1.0.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Unnormalized texel coordinates:</p>
<div class="ulist">
<ul>
<li>
<p>The <span class="eq">u</span> coordinate within the range 0.0 to 8.0 is within the image,
otherwise it is outside the image.</p>
</li>
<li>
<p>The <span class="eq">v</span> coordinate within the range 0.0 to 4.0 is within the image,
otherwise it is outside the image.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Integer texel coordinates:</p>
<div class="ulist">
<ul>
<li>
<p>The <span class="eq">i</span> coordinate within the range 0 to 7 addresses texels within
the image, otherwise it is outside the image.</p>
</li>
<li>
<p>The <span class="eq">j</span> coordinate within the range 0 to 3 addresses texels within
the image, otherwise it outside the image.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Also shown for linear filtering:</p>
<div class="ulist">
<ul>
<li>
<p>Given the unnormalized coordinates <span class="eq">(u,v)</span>, the four texels
selected are <span class="eq">i<sub>0</sub>j<sub>0</sub></span>, <span class="eq">i<sub>1</sub>j<sub>0</sub></span>, <span class="eq">i<sub>0</sub>j<sub>1</sub></span>, and
<span class="eq">i<sub>1</sub>j<sub>1</sub></span>.</p>
</li>
<li>
<p>The fractions <span class="eq">留</span> and <span class="eq">硫</span>.</p>
</li>
<li>
<p>Given the offset <span class="eq"><sub>i</sub></span> and <span class="eq"><sub>j</sub></span>, the
four texels selected by the offset are <span class="eq">i<sub>0</sub>j'<sub>0</sub></span>,
<span class="eq">i<sub>1</sub>j'<sub>0</sub></span>, <span class="eq">i<sub>0</sub>j'<sub>1</sub></span>, and <span class="eq">i<sub>1</sub>j'<sub>1</sub></span>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="706.10547"
   height="384.11328"
   viewBox="0 0 186.82375 101.62997"
   version="1.1"
   id="svg8"
   inkscape:version="0.48.4 r9939"
   sodipodi:docname="vulkantexture1-ll.svg">
  <defs
     id="defs2">
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="marker2415"
       style="overflow:visible;"
       inkscape:isstock="true">
      <path
         id="path2413"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1;fill:#000000;fill-opacity:1"
         transform="scale(0.4) rotate(180) translate(10,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible;"
       id="marker1517"
       refX="0.0"
       refY="0.0"
       orient="auto"
       inkscape:stockid="Arrow1Mend"
       inkscape:collect="always">
      <path
         transform="scale(0.4) rotate(180) translate(10,0)"
         style="fill-rule:evenodd;stroke:#ff0000;stroke-width:1pt;stroke-opacity:1;fill:#ff0000;fill-opacity:1"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         id="path1515" />
    </marker>
    <marker
       inkscape:stockid="Arrow2Lend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow2Lend"
       style="overflow:visible;"
       inkscape:isstock="true">
      <path
         id="path1144"
         style="fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round;stroke:#ff0000;stroke-opacity:1;fill:#ff0000;fill-opacity:1"
         d="M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "
         transform="scale(1.1) rotate(180) translate(1,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker1073"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend">
      <path
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#ff0000;fill-opacity:1;fill-rule:evenodd;stroke:#ff0000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path1071"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker1483"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path1481"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path977"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend-0"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path977-6"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker1483-7"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path1481-0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker2415-4"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path2413-3"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)" />
    </marker>
    <pattern
       y="0"
       x="0"
       height="6"
       width="6"
       patternUnits="userSpaceOnUse"
       id="EMFhbasepattern" />
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2"
     inkscape:cx="423.62557"
     inkscape:cy="183.39269"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:snap-object-midpoints="true"
     inkscape:snap-text-baseline="true"
     inkscape:window-width="1920"
     inkscape:window-height="1057"
     inkscape:window-x="0"
     inkscape:window-y="23"
     inkscape:window-maximized="0"
     fit-margin-top="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     fit-margin-left="1"
     units="px"
     inkscape:snap-center="false">
    <inkscape:grid
       type="xygrid"
       id="grid12"
       originx="0.79995428"
       originy="-29.882412"
       dotted="false" />
  </sodipodi:namedview>
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-6.9498988,47.8249)">
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.26458335px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1517)"
       d="M 157.23948,2.9895792 102.99988,-15.002089"
       id="path1842"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <g
       id="g1953"
       transform="translate(-2.6458349,-3.056108e-6)">
      <text
         id="text121"
         y="-32.729179"
         x="34.208187"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="-32.729179"
           x="34.208187"
           id="tspan119"
           sodipodi:role="line">3</tspan></text>
      <text
         id="text121-3"
         y="-14.208342"
         x="34.208187"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="-14.208342"
           x="34.208187"
           id="tspan119-1"
           sodipodi:role="line">2</tspan></text>
      <text
         id="text121-0"
         y="4.3124924"
         x="34.208187"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="4.3124924"
           x="34.208187"
           id="tspan119-4"
           sodipodi:role="line">1</tspan></text>
      <text
         id="text121-33"
         y="22.833326"
         x="34.208187"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="22.833326"
           x="34.208187"
           id="tspan119-6"
           sodipodi:role="line">0</tspan></text>
      <text
         id="text121-6"
         y="36.062492"
         x="47.437355"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="36.062492"
           x="47.437355"
           id="tspan119-11"
           sodipodi:role="line">0</tspan></text>
      <text
         id="text121-30"
         y="36.062492"
         x="65.958191"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="36.062492"
           x="65.958191"
           id="tspan119-47"
           sodipodi:role="line">1</tspan></text>
      <text
         id="text121-1"
         y="36.062492"
         x="84.479027"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="36.062492"
           x="84.479027"
           id="tspan119-9"
           sodipodi:role="line">2</tspan></text>
      <text
         id="text121-8"
         y="36.062492"
         x="102.99986"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="36.062492"
           x="102.99986"
           id="tspan119-7"
           sodipodi:role="line">3</tspan></text>
      <text
         id="text121-4"
         y="36.062492"
         x="121.52069"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="36.062492"
           x="121.52069"
           id="tspan119-0"
           sodipodi:role="line">4</tspan></text>
      <text
         id="text121-7"
         y="36.062492"
         x="140.04152"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="36.062492"
           x="140.04152"
           id="tspan119-8"
           sodipodi:role="line">5</tspan></text>
      <text
         id="text121-79"
         y="36.062492"
         x="158.56236"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="36.062492"
           x="158.56236"
           id="tspan119-16"
           sodipodi:role="line">6</tspan></text>
      <text
         id="text121-31"
         y="36.062492"
         x="177.08319"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332"
           y="36.062492"
           x="177.08319"
           id="tspan119-09"
           sodipodi:role="line">7</tspan></text>
      <text
         id="text121-3-7"
         y="-5.1587644"
         x="34.4366"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
           y="-5.1587644"
           x="34.4366"
           id="tspan119-1-8"
           sodipodi:role="line">j</tspan></text>
      <text
         id="text121-3-7-3"
         y="37.611752"
         x="113.4819"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
         xml:space="preserve"><tspan
           style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
           y="37.611752"
           x="113.4819"
           id="tspan119-1-8-7"
           sodipodi:role="line">i</tspan></text>
      <g
         transform="translate(-23.812502,2.2e-6)"
         id="g1370">
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
           x="54.556301"
           y="45.537884"
           id="text121-09-74"><tspan
             sodipodi:role="line"
             id="tspan119-67-18"
             x="54.556301"
             y="45.537884"
             style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332">0.0</tspan></text>
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
           x="213.32181"
           y="45.538918"
           id="text121-09-74-5"><tspan
             sodipodi:role="line"
             id="tspan119-67-18-0"
             x="213.32181"
             y="45.538918"
             style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332">8.0</tspan></text>
        <path
           style="fill:none;stroke:#000000;stroke-width:0.26458335px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend)"
           d="m 63.312355,43.999992 h 71.437505 m 5.29167,2e-6 h 71.4375"
           id="path972"
           inkscape:connector-curvature="0" />
        <text
           xml:space="preserve"
           style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
           x="137.32748"
           y="45.122406"
           id="text121-3-7-3-3"><tspan
             sodipodi:role="line"
             id="tspan119-1-8-7-2"
             x="137.32748"
             y="45.122406"
             style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">u</tspan></text>
      </g>
      <g
         transform="translate(-23.812505,7.9375005)"
         id="g1471">
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
           x="54.556301"
           y="45.537884"
           id="text121-09-74-7"><tspan
             sodipodi:role="line"
             id="tspan119-67-18-1"
             x="54.556301"
             y="45.537884"
             style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332">0.0</tspan></text>
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
           x="213.32181"
           y="45.538918"
           id="text121-09-74-5-4"><tspan
             sodipodi:role="line"
             id="tspan119-67-18-0-9"
             x="213.32181"
             y="45.538918"
             style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332">1.0</tspan></text>
        <path
           style="fill:none;stroke:#000000;stroke-width:0.26458335px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend-0)"
           d="m 63.312355,43.999992 h 71.437505 m 5.29167,2e-6 h 71.4375"
           id="path972-8"
           inkscape:connector-curvature="0" />
        <text
           xml:space="preserve"
           style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
           x="137.32748"
           y="45.122406"
           id="text121-3-7-3-3-5"><tspan
             sodipodi:role="line"
             id="tspan119-1-8-7-2-2"
             x="137.32748"
             y="45.122406"
             style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">s</tspan></text>
      </g>
      <g
         transform="translate(-23.812501,2.6458339)"
         id="g1597">
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
           x="44.034977"
           y="-47.066288"
           id="text121-09"><tspan
             sodipodi:role="line"
             id="tspan119-67"
             x="44.034977"
             y="-47.066288"
             style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332">4.0</tspan></text>
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
           x="43.972965"
           y="32.308716"
           id="text121-09-7"><tspan
             sodipodi:role="line"
             id="tspan119-67-1"
             x="43.972965"
             y="32.308716"
             style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332">0.0</tspan></text>
        <path
           inkscape:connector-curvature="0"
           id="path1473"
           d="M 47.437354,28.124992 V -6.2708429 m 10e-7,-5.2916661 v -34.395835"
           style="fill:none;stroke:#000000;stroke-width:0.26458335px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483)" />
        <text
           xml:space="preserve"
           style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
           x="46.93816"
           y="-7.8045983"
           id="text121-3-7-8"><tspan
             sodipodi:role="line"
             id="tspan119-1-8-3"
             x="46.93816"
             y="-7.8045983"
             style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">v</tspan></text>
      </g>
      <g
         id="g1613-5"
         transform="translate(-34.395835,2.6458339)">
        <g
           id="g1802">
          <text
             xml:space="preserve"
             style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
             x="44.034977"
             y="-47.066288"
             id="text1601-4"><tspan
               sodipodi:role="line"
               id="tspan1599-1"
               x="44.034977"
               y="-47.066288"
               style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332">1.0</tspan></text>
          <text
             xml:space="preserve"
             style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
             x="43.972965"
             y="32.308716"
             id="text1605-6"><tspan
               sodipodi:role="line"
               id="tspan1603-7"
               x="43.972965"
               y="32.308716"
               style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458332">0.0</tspan></text>
          <path
             inkscape:connector-curvature="0"
             id="path1607-6"
             d="M 47.437354,28.124992 V -6.2708429 m 10e-7,-5.2916661 v -34.395835"
             style="fill:none;stroke:#000000;stroke-width:0.26458335px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483-7)" />
          <text
             xml:space="preserve"
             style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
             x="46.93816"
             y="-7.8045983"
             id="text1611-4"><tspan
               sodipodi:role="line"
               id="tspan1609-3"
               x="46.93816"
               y="-7.8045983"
               style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">t</tspan></text>
        </g>
      </g>
    </g>
    <g
       style="stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none"
       transform="matrix(1.7500001,0,0,-1.7500001,-27.968899,59.718765)"
       id="g1463">
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="21.833345"
         sodipodi:cx="42.333332"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517"
         cx="42.333332"
         cy="21.833345"
         r="0.52778977"
         d="m 42.861122,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="21.833345"
         sodipodi:cx="52.916668"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7"
         cx="52.916668"
         cy="21.833345"
         r="0.52778977"
         d="m 53.444458,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="21.833345"
         sodipodi:cx="63.5"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-78"
         cx="63.5"
         cy="21.833345"
         r="0.52778977"
         d="m 64.02779,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="21.833345"
         sodipodi:cx="74.083336"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-9"
         cx="74.083336"
         cy="21.833345"
         r="0.52778977"
         d="m 74.611126,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="21.833345"
         sodipodi:cx="84.666664"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-0"
         cx="84.666664"
         cy="21.833345"
         r="0.52778977"
         d="m 85.194454,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="21.833345"
         sodipodi:cx="95.25"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-0"
         cx="95.25"
         cy="21.833345"
         r="0.52778977"
         d="m 95.77779,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="21.833345"
         sodipodi:cx="105.83334"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-1"
         cx="105.83334"
         cy="21.833345"
         r="0.52778977"
         d="m 106.36113,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="21.833345"
         sodipodi:cx="116.41666"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-7"
         cx="116.41666"
         cy="21.833345"
         r="0.52778977"
         d="m 116.94445,21.833345 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <path
         style="fill:none;stroke:#808080;stroke-width:0.15119047;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
         d="m 37.041666,16.541679 h 84.666664 l 1e-5,42.333333 H 37.041671 l -5e-6,-42.333333 m 10.583334,0 4e-6,42.333333 m 10.583332,0 -4e-6,-42.333333 m 10.583332,0 8e-6,42.333333 m 10.583336,0 -8e-6,-42.333333 m 10.583336,0 v 42.333333 m 10.583334,0 -1e-5,-42.333333 m 10.58333,0 1e-5,42.333333 M 121.70834,48.291681 H 37.041671 m -4e-6,-10.583336 h 84.666663 m 0,-10.583332 H 37.041667"
         id="path1171"
         inkscape:connector-curvature="0"
         sodipodi:nodetypes="ccccccccccccccccccccccccc" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="32.416679"
         sodipodi:cx="42.333332"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-6"
         cx="42.333332"
         cy="32.416679"
         r="0.52778977"
         d="m 42.861122,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="32.416679"
         sodipodi:cx="52.916668"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-3"
         cx="52.916668"
         cy="32.416679"
         r="0.52778977"
         d="m 53.444458,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="32.416679"
         sodipodi:cx="63.5"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-78-9"
         cx="63.5"
         cy="32.416679"
         r="0.52778977"
         d="m 64.02779,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="32.416679"
         sodipodi:cx="74.083336"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-9-1"
         cx="74.083336"
         cy="32.416679"
         r="0.52778977"
         d="m 74.611126,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="32.416679"
         sodipodi:cx="84.666664"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-0-6"
         cx="84.666664"
         cy="32.416679"
         r="0.52778977"
         d="m 85.194454,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="32.416679"
         sodipodi:cx="95.25"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-0-8"
         cx="95.25"
         cy="32.416679"
         r="0.52778977"
         d="m 95.77779,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="32.416679"
         sodipodi:cx="105.83334"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-1-5"
         cx="105.83334"
         cy="32.416679"
         r="0.52778977"
         d="m 106.36113,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="32.416679"
         sodipodi:cx="116.41665"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-7-5"
         cx="116.41665"
         cy="32.416679"
         r="0.52778977"
         d="m 116.94444,32.416679 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="43.000011"
         sodipodi:cx="42.333332"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-4"
         cx="42.333332"
         cy="43.000011"
         r="0.52778977"
         d="m 42.861122,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="43.000011"
         sodipodi:cx="52.916668"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-2"
         cx="52.916668"
         cy="43.000011"
         r="0.52778977"
         d="m 53.444458,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="43.000011"
         sodipodi:cx="63.5"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-78-3"
         cx="63.5"
         cy="43.000011"
         r="0.52778977"
         d="m 64.02779,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="43.000011"
         sodipodi:cx="74.083336"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-9-0"
         cx="74.083336"
         cy="43.000011"
         r="0.52778977"
         d="m 74.611126,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="43.000011"
         sodipodi:cx="84.666664"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-0-9"
         cx="84.666664"
         cy="43.000011"
         r="0.52778977"
         d="m 85.194454,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="43.000011"
         sodipodi:cx="95.25"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-0-1"
         cx="95.25"
         cy="43.000011"
         r="0.52778977"
         d="m 95.77779,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="43.000011"
         sodipodi:cx="105.83334"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-1-9"
         cx="105.83334"
         cy="43.000011"
         r="0.52778977"
         d="m 106.36113,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="43.000011"
         sodipodi:cx="116.41665"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-7-7"
         cx="116.41665"
         cy="43.000011"
         r="0.52778977"
         d="m 116.94444,43.000011 c 0,0.291491 -0.2363,0.52779 -0.52779,0.52779 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.52779 0,-0.29149 0.2363,-0.527789 0.52779,-0.527789 0.29149,0 0.52779,0.236299 0.52779,0.527789 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="53.583344"
         sodipodi:cx="42.333332"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-14"
         cx="42.333332"
         cy="53.583344"
         r="0.52778977"
         d="m 42.861122,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="53.583344"
         sodipodi:cx="52.916668"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-4"
         cx="52.916668"
         cy="53.583344"
         r="0.52778977"
         d="m 53.444458,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="53.583344"
         sodipodi:cx="63.5"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-78-7"
         cx="63.5"
         cy="53.583344"
         r="0.52778977"
         d="m 64.02779,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="53.583344"
         sodipodi:cx="74.083336"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-9-8"
         cx="74.083336"
         cy="53.583344"
         r="0.52778977"
         d="m 74.611126,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="53.583344"
         sodipodi:cx="84.666664"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-0-7"
         cx="84.666664"
         cy="53.583344"
         r="0.52778977"
         d="m 85.194454,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="53.583344"
         sodipodi:cx="95.25"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-0-9"
         cx="95.25"
         cy="53.583344"
         r="0.52778977"
         d="m 95.77779,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="53.583344"
         sodipodi:cx="105.83334"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-1-4"
         cx="105.83334"
         cy="53.583344"
         r="0.52778977"
         d="m 106.36113,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z" />
      <circle
         sodipodi:ry="0.52778977"
         sodipodi:rx="0.52778977"
         sodipodi:cy="53.583344"
         sodipodi:cx="116.41665"
         style="fill:#000000;fill-opacity:1;stroke:none"
         id="path4517-7-7-52"
         cx="116.41665"
         cy="53.583344"
         r="0.52778977"
         d="m 116.94444,53.583344 c 0,0.29149 -0.2363,0.527789 -0.52779,0.527789 -0.29149,0 -0.52779,-0.236299 -0.52779,-0.527789 0,-0.291491 0.2363,-0.52779 0.52779,-0.52779 0.29149,0 0.52779,0.236299 0.52779,0.52779 z" />
    </g>
    <rect
       style="fill:none;stroke:#ff0000;stroke-width:0.5291667;stroke-linecap:square;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:2.11666671, 2.11666671;stroke-dashoffset:0"
       id="rect1609"
       width="18.520826"
       height="18.520876"
       x="86.066528"
       y="-0.079162598"
       transform="scale(1,-1)" />
    <rect
       style="fill:none;stroke:#ff0000;stroke-width:0.5291667;stroke-linecap:square;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:2.11666671, 2.11666671;stroke-dashoffset:0"
       id="rect1609-6"
       width="18.520836"
       height="18.520834"
       x="141.62901"
       y="-18.600004"
       transform="scale(1,-1)" />
    <text
       xml:space="preserve"
       style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
       x="155.65187"
       y="7.3173094"
       id="text5070-2-1-0"><tspan
         sodipodi:role="line"
         id="tspan5068-0-6-9"
         x="155.65187"
         y="7.3173094"
         style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"><tspan
           style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
           id="tspan7821-8"> ij</tspan></tspan></text>
    <g
       aria-label="(i,j)"
       style="font-size:10.58333302px;font-style:normal;font-weight:normal;line-height:1.25;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif"
       id="text5070-2-2"
       transform="matrix(1.5625,0,0,1.5625,-1.1282694,-44.645549)">
      <path
         d="m 71.619395,25.566439 h -0.219108 q -0.09302,-0.150895 -0.152962,-0.326595 -0.05994,-0.1757 -0.05994,-0.366903 0,-0.19637 0.04754,-0.378271 0.04754,-0.182935 0.139527,-0.359668 0.08785,-0.167432 0.209806,-0.317294 0.12299,-0.149861 0.270784,-0.285253 h 0.233578 v 0.01034 q -0.117822,0.08682 -0.24598,0.220141 -0.127124,0.133326 -0.229443,0.294556 -0.104387,0.164331 -0.170532,0.362769 -0.06511,0.197404 -0.06511,0.416512 0,0.224275 0.06511,0.408243 0.06511,0.185002 0.176733,0.311092 z"
         style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
         id="path1095"
         inkscape:connector-curvature="0" />
      <path
         d="m 73.377427,25.140625 h -1.434538 l 0.936377,-1.538924 h 0.272852 z m -0.226343,-0.166398 -0.173633,-1.192692 -0.72347,1.192692 z"
         style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
         id="path1097"
         inkscape:connector-curvature="0" />
      <path
         d="m 74.166009,23.591366 -0.04651,0.201538 H 73.90039 l 0.04651,-0.201538 z m -0.103353,0.394808 -0.26665,1.154451 h -0.194303 l 0.26665,-1.154451 z"
         style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
         id="path1099"
         inkscape:connector-curvature="0" />
      <path
         d="m 74.663137,24.846069 -0.448552,0.676962 H 74.06369 l 0.334863,-0.676962 z"
         style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
         id="path1101"
         inkscape:connector-curvature="0" />
      <path
         d="m 76.267173,25.140625 h -1.434538 l 0.936377,-1.538924 h 0.272852 z m -0.226343,-0.166398 -0.173632,-1.192692 -0.723471,1.192692 z"
         style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
         id="path1103"
         inkscape:connector-curvature="0" />
      <path
         d="m 77.162209,23.792904 h -0.221175 l 0.04651,-0.201538 h 0.221175 z M 76.83148,25.16853 q -0.04651,0.200505 -0.165365,0.304891 -0.117822,0.104387 -0.293522,0.104387 -0.04134,0 -0.10852,-0.0083 -0.06718,-0.0083 -0.110588,-0.02067 l 0.04031,-0.176734 h 0.01033 q 0.02997,0.01344 0.07131,0.02584 0.04031,0.01343 0.09405,0.01343 0.07235,0 0.120922,-0.02274 0.04961,-0.0217 0.08062,-0.06615 0.02997,-0.04341 0.04961,-0.10852 0.01964,-0.06408 0.03514,-0.134359 l 0.216007,-0.937411 h -0.240812 l 0.03617,-0.156062 h 0.437182 z"
         style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
         id="path1105"
         inkscape:connector-curvature="0" />
      <path
         d="m 77.977663,24.225952 q 0,0.195337 -0.04858,0.382406 -0.04858,0.186035 -0.138493,0.355534 -0.08992,0.169498 -0.212907,0.320393 -0.12299,0.151929 -0.267684,0.282154 h -0.233577 v -0.01034 q 0.118856,-0.08888 0.244946,-0.219108 0.127124,-0.129191 0.230477,-0.295589 0.117822,-0.190169 0.176733,-0.381372 0.05891,-0.191203 0.05891,-0.397908 0,-0.220142 -0.06511,-0.405144 -0.06408,-0.186035 -0.176733,-0.314192 v -0.01034 h 0.219108 q 0.09198,0.149861 0.151929,0.325561 0.06098,0.174666 0.06098,0.367936 z"
         style="font-size:2.11666656px;font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic'"
         id="path1107"
         inkscape:connector-curvature="0" />
    </g>
    <text
       xml:space="preserve"
       style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
       x="99.560272"
       y="-10.14519"
       id="text5070-2-1-3"><tspan
         sodipodi:role="line"
         id="tspan5068-0-6-8"
         x="99.560272"
         y="-10.14519"
         style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"><tspan
           style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
           id="tspan7821-4"> ij'</tspan></tspan></text>
    <circle
       style="fill:#ff0000;fill-opacity:1;stroke:none"
       id="path4517-0-8"
       cx="150.62486"
       cy="-22.145849"
       r="0.92363214"
       d="m 151.54849,-22.145849 c 0,0.510108 -0.41352,0.923632 -0.92363,0.923632 -0.51011,0 -0.92363,-0.413524 -0.92363,-0.923632 0,-0.510108 0.41352,-0.923632 0.92363,-0.923632 0.51011,0 0.92363,0.413524 0.92363,0.923632 z"
       sodipodi:cx="150.62486"
       sodipodi:cy="-22.145849"
       sodipodi:rx="0.92363214"
       sodipodi:ry="0.92363214"
       transform="matrix(1,0,0,-1,0,-12.541691)" />
    <text
       xml:space="preserve"
       style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:1.25;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'"
       x="151.68561"
       y="10.830611"
       id="text5070-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0"
         x="151.68561"
         y="10.830611"
         style="font-size:3.52777743px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f40000;fill-opacity:1;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal'">(u,v)</tspan></text>
  </g>
</svg>
</div>
<div class="title">Figure 4. Texel Coordinate Systems, Nearest Filtering</div>
</div>
<div class="paragraph">
<p>The Texel Coordinate Systems - For the example shown of an 84 texel
two dimensional image.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Texel coordinates as above.
Also shown for nearest filtering:</p>
<div class="ulist">
<ul>
<li>
<p>Given the unnormalized coordinates <span class="eq">(u,v)</span>, the texel selected is
<span class="eq">ij</span>.</p>
</li>
<li>
<p>Given the offset <span class="eq"><sub>i</sub></span> and <span class="eq"><sub>j</sub></span>, the
texel selected by the offset is <span class="eq">ij'</span>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_conversion_formulas"><a class="anchor" href="#_conversion_formulas"></a>15.2. Conversion Formulas</h3>
<div class="sect3">
<h4 id="textures-RGB-sexp"><a class="anchor" href="#textures-RGB-sexp"></a>15.2.1. RGB to Shared Exponent Conversion</h4>
<div class="paragraph">
<p>An RGB color <span class="eq">(red, green, blue)</span> is transformed to a shared exponent
color <span class="eq">(red<sub>shared</sub>, green<sub>shared</sub>, blue<sub>shared</sub>, exp<sub>shared</sub>)</span> as
follows:</p>
</div>
<div class="paragraph">
<p>First, the components <span class="eq">(red, green, blue)</span> are clamped to
<span class="eq">(red<sub>clamped</sub>, green<sub>clamped</sub>, blue<sub>clamped</sub>)</span> as:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">red<sub>clamped</sub> = max(0, min(sharedexp<sub>max</sub>, red))</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">green<sub>clamped</sub> = max(0, min(sharedexp<sub>max</sub>, green))</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">blue<sub>clamped</sub> = max(0, min(sharedexp<sub>max</sub>, blue))</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
N               &amp; = 9  &amp; \text{number of mantissa bits per component} \\
B               &amp; = 15 &amp; \text{exponent bias} \\
E_{max}         &amp; = 31 &amp; \text{maximum possible biased exponent value} \\
sharedexp_{max} &amp; = \frac{(2^N-1)}{2^N} \times 2^{(E_{max}-B)}
\end{aligned}\]
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><span class="eq">NaN</span>, if supported, is handled as in <a href="#ieee-754">IEEE 754-2008</a>
<code>minNum()</code> and <code>maxNum()</code>.
This results in any <span class="eq">NaN</span> being mapped to zero.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The largest clamped component, <span class="eq">max<sub>clamped</sub></span> is determined:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">max<sub>clamped</sub> = max(red<sub>clamped</sub>, green<sub>clamped</sub>,
blue<sub>clamped</sub>)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A preliminary shared exponent <span class="eq">exp'</span> is computed:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
exp' =
  \begin{cases}
    \left \lfloor \log_2(max_{clamped}) \right \rfloor + (B+1)
      &amp; \text{for}\  max_{clamped} &gt; 2^{-(B+1)} \\
    0
      &amp; \text{for}\  max_{clamped} \leq 2^{-(B+1)}
  \end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>The shared exponent <span class="eq">exp<sub>shared</sub></span> is computed:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
max_{shared} =
    \left \lfloor
        { \frac{max_{clamped}}{2^{(exp'-B-N)}} + \frac{1}{2} }
    \right \rfloor
\end{aligned}\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
exp_{shared} =
  \begin{cases}
    exp'   &amp; \text{for}\  0 \leq max_{shared} &lt; 2^N \\
    exp'+1 &amp; \text{for}\  max_{shared} = 2^N
  \end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>Finally, three integer values in the range <span class="eq">0</span> to <span class="eq">2<sup>N</sup></span> are
computed:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
red_{shared} &amp; =
    \left \lfloor
        { \frac{red_{clamped}}{2^{(exp_{shared}-B-N)}}+ \frac{1}{2} }
    \right \rfloor \\
green_{shared} &amp; =
    \left \lfloor
        { \frac{green_{clamped}}{2^{(exp_{shared}-B-N)}}+ \frac{1}{2} }
    \right \rfloor \\
blue_{shared} &amp; =
    \left \lfloor
        { \frac{blue_{clamped}}{2^{(exp_{shared}-B-N)}}+ \frac{1}{2} }
    \right \rfloor
\end{aligned}\]
</div>
</div>
</div>
<div class="sect3">
<h4 id="textures-sexp-RGB"><a class="anchor" href="#textures-sexp-RGB"></a>15.2.2. Shared Exponent to RGB</h4>
<div class="paragraph">
<p>A shared exponent color <span class="eq">(red<sub>shared</sub>, green<sub>shared</sub>, blue<sub>shared</sub>,
exp<sub>shared</sub>)</span> is transformed to an RGB color <span class="eq">(red, green, blue)</span> as
follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>\(red = red_{shared} \times {2^{(exp_{shared}-B-N)}}\)</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p>\(green = green_{shared} \times
{2^{(exp_{shared}-B-N)}}\)</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p>\(blue = blue_{shared} \times {2^{(exp_{shared}-B-N)}}\)</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">N = 9</span> (number of mantissa bits per component)</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">B = 15</span> (exponent bias)</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_texel_input_operations"><a class="anchor" href="#_texel_input_operations"></a>15.3. Texel Input Operations</h3>
<div class="paragraph">
<p><em>Texel input instructions</em> are SPIR-V image instructions that read from an
image.
<em>Texel input operations</em> are a set of steps that are performed on state,
coordinates, and texel values while processing a texel input instruction,
and which are common to some or all texel input instructions.
They include the following steps, which are performed in the listed order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#textures-input-validation">Validation operations</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#textures-operation-validation">Instruction/Sampler/Image validation</a></p>
</li>
<li>
<p><a href="#textures-integer-coordinate-validation">Coordinate validation</a></p>
</li>
<li>
<p><a href="#textures-sparse-validation">Sparse validation</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#textures-format-conversion">Format conversion</a></p>
</li>
<li>
<p><a href="#textures-texel-replacement">Texel replacement</a></p>
</li>
<li>
<p><a href="#textures-depth-compare-operation">Depth comparison</a></p>
</li>
<li>
<p><a href="#textures-conversion-to-rgba">Conversion to RGBA</a></p>
</li>
<li>
<p><a href="#textures-component-swizzle">Component swizzle</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For texel input instructions involving multiple texels (for sampling or
gathering), these steps are applied for each texel that is used in the
instruction.
Depending on the type of image instruction, other steps are conditionally
performed between these steps or involving multiple coordinate or texel
values.</p>
</div>
<div class="sect3">
<h4 id="textures-input-validation"><a class="anchor" href="#textures-input-validation"></a>15.3.1. Texel Input Validation Operations</h4>
<div class="paragraph">
<p><em>Texel input validation operations</em> inspect instruction/image/sampler state
or coordinates, and in certain circumstances cause the texel value to be
replaced or become undefined.
There are a series of validations that the texel undergoes.</p>
</div>
<div class="sect4">
<h5 id="textures-operation-validation"><a class="anchor" href="#textures-operation-validation"></a>Instruction/Sampler/Image View Validation</h5>
<div class="paragraph">
<p>There are a number of cases where a SPIR-V instruction <strong class="purple">can</strong> mismatch with
the sampler, the image view, or both.
There are a number of cases where the sampler <strong class="purple">can</strong> mismatch with the image
view.
In such cases the value of the texel returned is undefined.</p>
</div>
<div class="paragraph">
<p>These cases include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The sampler <code>borderColor</code> is an integer type and the image view
<code>format</code> is not one of the <a href="#VkFormat">VkFormat</a> integer types or a stencil
component of a depth/stencil format.</p>
</li>
<li>
<p>The sampler <code>borderColor</code> is a float type and the image view
<code>format</code> is not one of the <a href="#VkFormat">VkFormat</a> float types or a depth
component of a depth/stencil format.</p>
</li>
<li>
<p>The sampler <code>borderColor</code> is one of the opaque black colors
(<code>VK_BORDER_COLOR_FLOAT_OPAQUE_BLACK</code> or
<code>VK_BORDER_COLOR_INT_OPAQUE_BLACK</code>) and the image view
<a href="#VkComponentSwizzle">VkComponentSwizzle</a> for any of the <a href="#VkComponentMapping">VkComponentMapping</a>
components is not <code>VK_COMPONENT_SWIZZLE_IDENTITY</code>.</p>
</li>
<li>
<p>The <a href="#VkImageLayout">VkImageLayout</a> of any subresource in the image view does not
match that specified in <a href="#VkDescriptorImageInfo">VkDescriptorImageInfo</a>::<code>imageLayout</code>
used to write the image descriptor.</p>
</li>
<li>
<p>If the instruction is <code>OpImageRead</code> or <code>OpImageSparseRead</code> and the
<code>shaderStorageImageReadWithoutFormat</code> feature is not enabled, or the
instruction is <code>OpImageWrite</code> and the
<code>shaderStorageImageWriteWithoutFormat</code> feature is not enabled, then
the SPIR-V Image Format <strong class="purple">must</strong> be <a href="#spirvenv-image-formats">compatible</a>
with the image view&#8217;s <code>format</code>.</p>
</li>
<li>
<p>The sampler <code>unnormalizedCoordinates</code> is <code>VK_TRUE</code> and any of
the <a href="#samplers-unnormalizedCoordinates">limitations of unnormalized
coordinates</a> are violated.</p>
</li>
<li>
<p>The SPIR-V instruction is one of the <code>OpImage</code>*<code>Dref</code>*
instructions and the sampler <code>compareEnable</code> is <code>VK_FALSE</code></p>
</li>
<li>
<p>The SPIR-V instruction is not one of the <code>OpImage</code>*<code>Dref</code>*
instructions and the sampler <code>compareEnable</code> is <code>VK_TRUE</code></p>
</li>
<li>
<p>The SPIR-V instruction is one of the <code>OpImage</code>*<code>Dref</code>*
instructions and the image view <code>format</code> is not one of the
depth/stencil formats with a depth component, or the image view aspect
is not <code>VK_IMAGE_ASPECT_DEPTH_BIT</code>.</p>
</li>
<li>
<p>The SPIR-V instruction&#8217;s image variable&#8217;s properties are not compatible
with the image view:</p>
<div class="ulist">
<ul>
<li>
<p>Rules for <code>viewType</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_VIEW_TYPE_1D</code> <strong class="purple">must</strong> have <code>Dim</code> = 1D, <code>Arrayed</code> =
0, <code>MS</code> = 0.</p>
</li>
<li>
<p><code>VK_IMAGE_VIEW_TYPE_2D</code> <strong class="purple">must</strong> have <code>Dim</code> = 2D, <code>Arrayed</code> =
0.</p>
</li>
<li>
<p><code>VK_IMAGE_VIEW_TYPE_3D</code> <strong class="purple">must</strong> have <code>Dim</code> = 3D, <code>Arrayed</code> =
0, <code>MS</code> = 0.</p>
</li>
<li>
<p><code>VK_IMAGE_VIEW_TYPE_CUBE</code> <strong class="purple">must</strong> have <code>Dim</code> = Cube, <code>Arrayed</code>
= 0, <code>MS</code> = 0.</p>
</li>
<li>
<p><code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code> <strong class="purple">must</strong> have <code>Dim</code> = 1D,
<code>Arrayed</code> = 1, <code>MS</code> = 0.</p>
</li>
<li>
<p><code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> <strong class="purple">must</strong> have <code>Dim</code> = 2D,
<code>Arrayed</code> = 1.</p>
</li>
<li>
<p><code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code> <strong class="purple">must</strong> have <code>Dim</code> = Cube,
<code>Arrayed</code> = 1, <code>MS</code> = 0.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the image was created with <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>samples</code>
equal to <code>VK_SAMPLE_COUNT_1_BIT</code>, the instruction <strong class="purple">must</strong> have
<code>MS</code> = 0.</p>
</li>
<li>
<p>If the image was created with <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>samples</code>
not equal to <code>VK_SAMPLE_COUNT_1_BIT</code>, the instruction <strong class="purple">must</strong> have
<code>MS</code> = 1.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="textures-integer-coordinate-validation"><a class="anchor" href="#textures-integer-coordinate-validation"></a>Integer Texel Coordinate Validation</h5>
<div class="paragraph">
<p>Integer texel coordinates are validated against the size of the image level,
and the number of layers and number of samples in the image.
For SPIR-V instructions that use integer texel coordinates, this is
performed directly on the integer coordinates.
For instructions that use normalized or unnormalized texel coordinates, this
is performed on the coordinates that result after
<a href="#textures-unnormalized-to-integer">conversion</a> to integer texel
coordinates.</p>
</div>
<div class="paragraph">
<p>If the integer texel coordinates do not satisfy all of the conditions</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">0  i &lt; w<sub>s</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">0  j &lt; h<sub>s</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">0  k &lt; d<sub>s</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">0  l &lt; layers</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">0  n &lt; samples</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">w<sub>s</sub> =</span> width of the image level</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">h<sub>s</sub> =</span> height of the image level</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">d<sub>s</sub> =</span> depth of the image level</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">layers =</span> number of layers in the image</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">samples =</span> number of samples per texel in the image</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>then the texel fails integer texel coordinate validation.</p>
</div>
<div class="paragraph">
<p>There are four cases to consider:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Valid Texel Coordinates</p>
<div class="ulist">
<ul>
<li>
<p>If the texel coordinates pass validation (that is, the coordinates lie
within the image),</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>then the texel value comes from the value in image memory.</p>
</div>
</li>
<li>
<p>Border Texel</p>
<div class="ulist">
<ul>
<li>
<p>If the texel coordinates fail validation, and</p>
</li>
<li>
<p>If the read is the result of an image sample instruction or image gather
instruction, and</p>
</li>
<li>
<p>If the image is not a cube image,</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>then the texel is a border texel and <a href="#textures-texel-replacement">texel
replacement</a> is performed.</p>
</div>
</li>
<li>
<p>Invalid Texel</p>
<div class="ulist">
<ul>
<li>
<p>If the texel coordinates fail validation, and</p>
</li>
<li>
<p>If the read is the result of an image fetch instruction, image read
instruction, or atomic instruction,</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>then the texel is an invalid texel and <a href="#textures-texel-replacement">texel
replacement</a> is performed.</p>
</div>
</li>
<li>
<p>Cube Map Edge or Corner</p>
<div class="paragraph">
<p>Otherwise the texel coordinates lie beyond the edges or corners of the
selected cube map face, and <a href="#textures-cubemapedge">Cube map edge handling</a>
is performed.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="textures-cubemapedge"><a class="anchor" href="#textures-cubemapedge"></a>Cube Map Edge Handling</h5>
<div class="paragraph">
<p>If the texel coordinates lie beyond the edges or corners of the selected
cube map face, the following steps are performed.
Note that this does not occur when using <code>VK_FILTER_NEAREST</code> filtering
within a mip level, since <code>VK_FILTER_NEAREST</code> is treated as using
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cube Map Edge Texel</p>
<div class="ulist">
<ul>
<li>
<p>If the texel lies beyond the selected cube map face in either only
<span class="eq">i</span> or only <span class="eq">j</span>, then the coordinates <span class="eq">(i,j)</span> and the array
layer <span class="eq">l</span> are transformed to select the adjacent texel from the
appropriate neighboring face.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cube Map Corner Texel</p>
<div class="ulist">
<ul>
<li>
<p>If the texel lies beyond the selected cube map face in both <span class="eq">i</span> and
     <span class="eq">j</span>, then there is no unique neighboring face from which to read
     that texel.
     The texel <strong class="purple">should</strong> be replaced by the average of the three values of the
     adjacent texels in each incident face.
     However, implementations <strong class="purple">may</strong> replace the cube map corner texel by
     other methods.
The methods are subject to the constraint that if the three available texels
have the same value, the resulting filtered texel <strong class="purple">must</strong> have that value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="textures-sparse-validation"><a class="anchor" href="#textures-sparse-validation"></a>Sparse Validation</h5>
<div class="paragraph">
<p>If the texel reads from an unbound region of a sparse image, the texel is a
<em>sparse unbound texel</em>, and processing continues with
<a href="#textures-texel-replacement">texel replacement</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="textures-format-conversion"><a class="anchor" href="#textures-format-conversion"></a>15.3.2. Format Conversion</h4>
<div class="paragraph">
<p>Texels undergo a format conversion from the <a href="#VkFormat">VkFormat</a> of the image view
to a vector of either floating point or signed or unsigned integer
components, with the number of components based on the number of components
present in the format.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Color formats have one, two, three, or four components, according to the
format.</p>
</li>
<li>
<p>Depth/stencil formats are one component.
The depth or stencil component is selected by the <code>aspectMask</code> of
the image view.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each component is converted based on its type and size (as defined in the
<a href="#formats-definition">Format Definition</a> section for each <a href="#VkFormat">VkFormat</a>),
using the appropriate equations in <a href="#fundamentals-fp16">16-Bit Floating-Point
Numbers</a>, <a href="#fundamentals-fp11">Unsigned 11-Bit Floating-Point Numbers</a>,
<a href="#fundamentals-fp10">Unsigned 10-Bit Floating-Point Numbers</a>,
<a href="#fundamentals-fixedconv">Fixed-Point Data Conversion</a>, and
<a href="#textures-sexp-RGB">Shared Exponent to RGB</a>.
Signed integer components smaller than 32 bits are sign-extended.</p>
</div>
<div class="paragraph">
<p>If the image view format is sRGB, the color components are first converted
as if they are UNORM, and then sRGB to linear conversion is applied to the
R, G, and B components as described in the &#8220;sRGB EOTF&#8221; section of the
<a href="#data-format">Khronos Data Format Specification</a>.
The A component, if present, is unchanged.</p>
</div>
<div class="paragraph">
<p>If the image view format is block-compressed, then the texel value is first
decoded, then converted based on the type and number of components defined
by the compressed format.</p>
</div>
</div>
<div class="sect3">
<h4 id="textures-texel-replacement"><a class="anchor" href="#textures-texel-replacement"></a>15.3.3. Texel Replacement</h4>
<div class="paragraph">
<p>A texel is replaced if it is one (and only one) of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a border texel,</p>
</li>
<li>
<p>an invalid texel, or</p>
</li>
<li>
<p>a sparse unbound texel.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Border texels are replaced with a value based on the image format and the
<code>borderColor</code> of the sampler.
The border color is:</p>
</div>
<table id="textures-border-replacement-color" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 15. Border Color <span class="eq">B</span></caption>
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Sampler <code>borderColor</code></th>
<th class="tableblock halign-left valign-top">Corresponding Border Color</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BORDER_COLOR_FLOAT_TRANSPARENT_BLACK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[B<sub>r</sub>, B<sub>g</sub>, B<sub>b</sub>, B<sub>a</sub>] = [0.0, 0.0, 0.0, 0.0]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BORDER_COLOR_FLOAT_OPAQUE_BLACK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[B<sub>r</sub>, B<sub>g</sub>, B<sub>b</sub>, B<sub>a</sub>] = [0.0, 0.0, 0.0, 1.0]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BORDER_COLOR_FLOAT_OPAQUE_WHITE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[B<sub>r</sub>, B<sub>g</sub>, B<sub>b</sub>, B<sub>a</sub>] = [1.0, 1.0, 1.0, 1.0]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BORDER_COLOR_INT_TRANSPARENT_BLACK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[B<sub>r</sub>, B<sub>g</sub>, B<sub>b</sub>, B<sub>a</sub>] = [0, 0, 0, 0]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BORDER_COLOR_INT_OPAQUE_BLACK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[B<sub>r</sub>, B<sub>g</sub>, B<sub>b</sub>, B<sub>a</sub>] = [0, 0, 0, 1]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BORDER_COLOR_INT_OPAQUE_WHITE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[B<sub>r</sub>, B<sub>g</sub>, B<sub>b</sub>, B<sub>a</sub>] = [1, 1, 1, 1]</span></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The names <code>VK_BORDER_COLOR_*_TRANSPARENT_BLACK</code>,
<code>VK_BORDER_COLOR_*_OPAQUE_BLACK</code>, and
<code>VK_BORDER_COLOR_*_OPAQUE_WHITE</code> are meant to describe which components
are zeros and ones in the vocabulary of compositing, and are not meant to
imply that the numerical value of <code>VK_BORDER_COLOR_INT_OPAQUE_WHITE</code> is
a saturating value for integers.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This is substituted for the texel value by replacing the number of
components in the image format</p>
</div>
<table id="textures-border-replacement-table" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 16. Border Texel Components After Replacement</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Texel Aspect or Format</th>
<th class="tableblock halign-left valign-top">Component Assignment</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depth aspect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">D                                     = B<sub>r</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stencil aspect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">S                                     = B<sub>r</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">One component color format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">Color<sub>r</sub>                              = B<sub>r</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Two component color format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[Color<sub>r</sub>,Color<sub>g</sub>]                   = [B<sub>r</sub>,B<sub>g</sub>]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Three component color format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[Color<sub>r</sub>,Color<sub>g</sub>,Color<sub>b</sub>]          = [B<sub>r</sub>,B<sub>g</sub>,B<sub>b</sub>]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Four component color format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[Color<sub>r</sub>,Color<sub>g</sub>,Color<sub>b</sub>,Color<sub>a</sub>] = [B<sub>r</sub>,B<sub>g</sub>,B<sub>b</sub>,B<sub>a</sub>]</span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The value returned by a read of an invalid texel is undefined, unless that
read operation is from a buffer resource and the <code>robustBufferAccess</code>
feature is enabled.
In that case, an invalid texel is replaced as described by the
<a href="#features-robustBufferAccess"><code>robustBufferAccess</code> feature</a>.</p>
</div>
<div class="paragraph">
<p>If the
<a href="#VkPhysicalDeviceSparseProperties">VkPhysicalDeviceSparseProperties</a>::<code>residencyNonResidentStrict</code>
property is <code>VK_TRUE</code>, a sparse unbound texel is replaced with 0 or 0.0
values for integer and floating-point components of the image format,
respectively.</p>
</div>
<div class="paragraph">
<p>If <code>residencyNonResidentStrict</code> is <code>VK_FALSE</code>, the value of the
sparse unbound texel is undefined.</p>
</div>
</div>
<div class="sect3">
<h4 id="textures-depth-compare-operation"><a class="anchor" href="#textures-depth-compare-operation"></a>15.3.4. Depth Compare Operation</h4>
<div class="paragraph">
<p>If the image view has a depth/stencil format, the depth component is
selected by the <code>aspectMask</code>, and the operation is a <code>Dref</code>
instruction, a depth comparison is performed.
The value of the result <span class="eq">D</span> is <span class="eq">1.0</span> if the result of the compare
operation is <span class="eq">true</span>, and <span class="eq">0.0</span> otherwise.
The compare operation is selected by the <code>compareOp</code> member of the
sampler.</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
D &amp; = 1.0 &amp;
  \begin{cases}
    D_{\textit{ref}} \leq D &amp; \text{for LEQUAL}   \\
    D_{\textit{ref}} \geq D &amp; \text{for GEQUAL}   \\
    D_{\textit{ref}} &lt; D    &amp; \text{for LESS}     \\
    D_{\textit{ref}} &gt; D    &amp; \text{for GREATER}  \\
    D_{\textit{ref}} = D    &amp; \text{for EQUAL}    \\
    D_{\textit{ref}} \neq D &amp; \text{for NOTEQUAL} \\
    \textit{true}           &amp; \text{for ALWAYS}   \\
    \textit{false}          &amp; \text{for NEVER}
  \end{cases} \\
D &amp; = 0.0 &amp; \text{otherwise}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>where, in the depth comparison:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">D<sub>ref</sub> = shaderOp.D<sub>ref</sub></span> (from <strong class="purple">optional</strong> SPIR-V operand)</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">D</span> (texel depth value)</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="textures-conversion-to-rgba"><a class="anchor" href="#textures-conversion-to-rgba"></a>15.3.5. Conversion to RGBA</h4>
<div class="paragraph">
<p>The texel is expanded from one, two, or three components to four components
based on the image base color:</p>
</div>
<table id="textures-texel-color-rgba-conversion-table" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 17. Texel Color After Conversion To RGBA</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Texel Aspect or Format</th>
<th class="tableblock halign-left valign-top">RGBA Color</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depth aspect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[Color<sub>r</sub>,Color<sub>g</sub>,Color<sub>b</sub>, Color<sub>a</sub>] = [D,0,0,one]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stencil aspect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[Color<sub>r</sub>,Color<sub>g</sub>,Color<sub>b</sub>, Color<sub>a</sub>] = [S,0,0,one]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">One component color format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[Color<sub>r</sub>,Color<sub>g</sub>,Color<sub>b</sub>, Color<sub>a</sub>] = [Color<sub>r</sub>,0,0,one]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Two component color format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[Color<sub>r</sub>,Color<sub>g</sub>,Color<sub>b</sub>, Color<sub>a</sub>] = [Color<sub>r</sub>,Color<sub>g</sub>,0,one]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Three component color format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[Color<sub>r</sub>,Color<sub>g</sub>,Color<sub>b</sub>, Color<sub>a</sub>] = [Color<sub>r</sub>,Color<sub>g</sub>,Color<sub>b</sub>,one]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Four component color format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">[Color<sub>r</sub>,Color<sub>g</sub>,Color<sub>b</sub>, Color<sub>a</sub>] = [Color<sub>r</sub>,Color<sub>g</sub>,Color<sub>b</sub>,Color<sub>a</sub>]</span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>where <span class="eq">one = 1.0f</span> for floating-point formats and depth aspects, and
<span class="eq">one = 1</span> for integer formats and stencil aspects.</p>
</div>
</div>
<div class="sect3">
<h4 id="textures-component-swizzle"><a class="anchor" href="#textures-component-swizzle"></a>15.3.6. Component Swizzle</h4>
<div class="paragraph">
<p>All texel input instructions apply a <em>swizzle</em> based on the
<a href="#VkComponentSwizzle">VkComponentSwizzle</a> enums in the <code>components</code> member of the
<a href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a> structure for the image being read.</p>
</div>
<div class="paragraph">
<p>The swizzle <strong class="purple">can</strong> rearrange the components of the texel, or substitute zero
or one for any components.
It is defined as follows for each color <span class="eq">component</span>:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
Color'_{component} &amp; =
\begin{cases}
Color_r          &amp; \text{for RED swizzle}   \\
Color_g          &amp; \text{for GREEN swizzle} \\
Color_b          &amp; \text{for BLUE swizzle}  \\
Color_a          &amp; \text{for ALPHA swizzle} \\
0                &amp; \text{for ZERO swizzle}  \\
one              &amp; \text{for ONE swizzle} \\
identity         &amp; \text{for IDENTITY swizzle}
\end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
one &amp; =
\begin{cases}
&amp; 1.0\text{f}  &amp; \text{for floating point components} \\
&amp; 1            &amp; \text{for integer components} \\
\end{cases}
\\
identity &amp; =
\begin{cases}
&amp; Color_r          &amp; \text{for}\ component = r \\
&amp; Color_g          &amp; \text{for}\ component = g \\
&amp; Color_b          &amp; \text{for}\ component = b \\
&amp; Color_a          &amp; \text{for}\ component = a \\
\end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>If the border color is one of the <code>VK_BORDER_COLOR_*_OPAQUE_BLACK</code> enums
and the <a href="#VkComponentSwizzle">VkComponentSwizzle</a> is not <code>VK_COMPONENT_SWIZZLE_IDENTITY</code>
for all components (or the
<a href="#resources-image-views-identity-mappings">equivalent identity mapping</a>),
the value of the texel after swizzle is undefined.</p>
</div>
</div>
<div class="sect3">
<h4 id="textures-sparse-residency"><a class="anchor" href="#textures-sparse-residency"></a>15.3.7. Sparse Residency</h4>
<div class="paragraph">
<p><code>OpImageSparse</code>* instructions return a structure which includes a
<em>residency code</em> indicating whether any texels accessed by the instruction
are sparse unbound texels.
This code <strong class="purple">can</strong> be interpreted by the <code>OpImageSparseTexelsResident</code>
instruction which converts the residency code to a boolean value.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_texel_output_operations"><a class="anchor" href="#_texel_output_operations"></a>15.4. Texel Output Operations</h3>
<div class="paragraph">
<p><em>Texel output instructions</em> are SPIR-V image instructions that write to an
image.
<em>Texel output operations</em> are a set of steps that are performed on state,
coordinates, and texel values while processing a texel output instruction,
and which are common to some or all texel output instructions.
They include the following steps, which are performed in the listed order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#textures-output-validation">Validation operations</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#textures-format-validation">Format validation</a></p>
</li>
<li>
<p><a href="#textures-output-coordinate-validation">Coordinate validation</a></p>
</li>
<li>
<p><a href="#textures-output-sparse-validation">Sparse validation</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#textures-output-format-conversion">Texel output format conversion</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="textures-output-validation"><a class="anchor" href="#textures-output-validation"></a>15.4.1. Texel Output Validation Operations</h4>
<div class="paragraph">
<p><em>Texel output validation operations</em> inspect instruction/image state or
coordinates, and in certain circumstances cause the write to have no effect.
There are a series of validations that the texel undergoes.</p>
</div>
<div class="sect4">
<h5 id="textures-format-validation"><a class="anchor" href="#textures-format-validation"></a>Texel Format Validation</h5>
<div class="paragraph">
<p>If the image format of the <code>OpTypeImage</code> is not compatible with the
<code>VkImageView</code>&#8217;s <code>format</code>, the write causes the contents of the
image&#8217;s memory to become undefined.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="textures-output-coordinate-validation"><a class="anchor" href="#textures-output-coordinate-validation"></a>15.4.2. Integer Texel Coordinate Validation</h4>
<div class="paragraph">
<p>The integer texel coordinates are validated according to the same rules as
for texel input <a href="#textures-integer-coordinate-validation">coordinate
validation</a>.</p>
</div>
<div class="paragraph">
<p>If the texel fails integer texel coordinate validation, then the write has
no effect.</p>
</div>
</div>
<div class="sect3">
<h4 id="textures-output-sparse-validation"><a class="anchor" href="#textures-output-sparse-validation"></a>15.4.3. Sparse Texel Operation</h4>
<div class="paragraph">
<p>If the texel attempts to write to an unbound region of a sparse image, the
texel is a sparse unbound texel.
In such a case, if the
<a href="#VkPhysicalDeviceSparseProperties">VkPhysicalDeviceSparseProperties</a>::<code>residencyNonResidentStrict</code>
property is <code>VK_TRUE</code>, the sparse unbound texel write has no effect.
If <code>residencyNonResidentStrict</code> is <code>VK_FALSE</code>, the write <strong class="purple">may</strong> have a
side effect that becomes visible to other accesses to unbound texels in any
resource, but will not be visible to any device memory allocated by the
application.</p>
</div>
</div>
<div class="sect3">
<h4 id="textures-output-format-conversion"><a class="anchor" href="#textures-output-format-conversion"></a>15.4.4. Texel Output Format Conversion</h4>
<div class="paragraph">
<p>If the image format is sRGB, a linear to sRGB conversion is applied to the
R, G, and B components as described in the &#8220;sRGB EOTF&#8221; section of the
<a href="#data-format">Khronos Data Format Specification</a>.
The A component, if present, is unchanged.</p>
</div>
<div class="paragraph">
<p>Texels then undergo a format conversion from the floating point, signed, or
unsigned integer type of the texel data to the <a href="#VkFormat">VkFormat</a> of the image
view.
Any unused components are ignored.</p>
</div>
<div class="paragraph">
<p>Each component is converted based on its type and size (as defined in the
<a href="#formats-definition">Format Definition</a> section for each <a href="#VkFormat">VkFormat</a>).
Floating-point outputs are converted as described in
<a href="#fundamentals-fp-conversion">Floating-Point Format Conversions</a> and
<a href="#fundamentals-fixedconv">Fixed-Point Data Conversion</a>.
Integer outputs are converted such that their value is preserved.
The converted value of any integer that cannot be represented in the target
format is undefined.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="textures-normalized-operations"><a class="anchor" href="#textures-normalized-operations"></a>15.5. Normalized Texel Coordinate Operations</h3>
<div class="paragraph">
<p>If the image sampler instruction provides normalized texel coordinates, some
of the following operations are performed.</p>
</div>
<div class="sect3">
<h4 id="textures-projection"><a class="anchor" href="#textures-projection"></a>15.5.1. Projection Operation</h4>
<div class="paragraph">
<p>For <code>Proj</code> image operations, the normalized texel coordinates
<span class="eq">(s,t,r,q,a)</span> and (if present) the <span class="eq">D<sub>ref</sub></span> coordinate are
transformed as follows:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
s       &amp; = \frac{s}{q},       &amp; \text{for 1D, 2D, or 3D image} \\
\\
t       &amp; = \frac{t}{q},       &amp; \text{for 2D or 3D image} \\
\\
r       &amp; = \frac{r}{q},       &amp; \text{for 3D image} \\
\\
D_{\textit{ref}} &amp; = \frac{D_{\textit{ref}}}{q}, &amp; \text{if provided}
\end{aligned}\]
</div>
</div>
</div>
<div class="sect3">
<h4 id="textures-derivative-image-operations"><a class="anchor" href="#textures-derivative-image-operations"></a>15.5.2. Derivative Image Operations</h4>
<div class="paragraph">
<p>Derivatives are used for LOD selection.
These derivatives are either implicit (in an <code>ImplicitLod</code> image
instruction in a fragment shader) or explicit (provided explicitly by shader
to the image instruction in any shader).</p>
</div>
<div class="paragraph">
<p>For implicit derivatives image instructions, the derivatives of texel
coordinates are calculated in the same manner as
<a href="#shaders-derivative-operations">derivative operations</a>.
That is:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\partial{s}/\partial{x} &amp; = dPdx(s), &amp; \partial{s}/\partial{y} &amp; = dPdy(s), &amp; \text{for 1D, 2D, Cube, or 3D image} \\
\partial{t}/\partial{x} &amp; = dPdx(t), &amp; \partial{t}/\partial{y} &amp; = dPdy(t), &amp; \text{for 2D, Cube, or 3D image} \\
\partial{u}/\partial{x} &amp; = dPdx(u), &amp; \partial{u}/\partial{y} &amp; = dPdy(u), &amp; \text{for Cube or 3D image}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>Partial derivatives not defined above for certain image dimensionalities are
set to zero.</p>
</div>
<div class="paragraph">
<p>For explicit LOD image instructions, if the <strong class="purple">optional</strong> SPIR-V operand
<span class="eq">Grad</span> is provided, then the operand values are used for the
derivatives.
The number of components present in each derivative for a given image
dimensionality matches the number of partial derivatives computed above.</p>
</div>
<div class="paragraph">
<p>If the <strong class="purple">optional</strong> SPIR-V operand <span class="eq">Lod</span> is provided, then derivatives are
set to zero, the cube map derivative transformation is skipped, and the
scale factor operation is skipped.
Instead, the floating point scalar coordinate is directly assigned to
<span class="eq">了<sub>base</sub></span> as described in <a href="#textures-level-of-detail-operation">Level-of-Detail Operation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cube_map_face_selection_and_transformations"><a class="anchor" href="#_cube_map_face_selection_and_transformations"></a>15.5.3. Cube Map Face Selection and Transformations</h4>
<div class="paragraph">
<p>For cube map image instructions, the <span class="eq">(s,t,r)</span> coordinates are treated
as a direction vector <span class="eq">(r<sub>x</sub>,r<sub>y</sub>,r<sub>z</sub>)</span>.
The direction vector is used to select a cube map face.
The direction vector is transformed to a per-face texel coordinate system
<span class="eq">(s<sub>face</sub>,t<sub>face</sub>)</span>, The direction vector is also used to transform the
derivatives to per-face derivatives.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cube_map_face_selection"><a class="anchor" href="#_cube_map_face_selection"></a>15.5.4. Cube Map Face Selection</h4>
<div class="paragraph">
<p>The direction vector selects one of the cube map&#8217;s faces based on the
largest magnitude coordinate direction (the major axis direction).
Since two or more coordinates <strong class="purple">can</strong> have identical magnitude, the
implementation <strong class="purple">must</strong> have rules to disambiguate this situation.</p>
</div>
<div class="paragraph">
<p>The rules <strong class="purple">should</strong> have as the first rule that <span class="eq">r<sub>z</sub></span> wins over
<span class="eq">r<sub>y</sub></span> and <span class="eq">r<sub>x</sub></span>, and the second rule that <span class="eq">r<sub>y</sub></span> wins over
<span class="eq">r<sub>x</sub></span>.
An implementation <strong class="purple">may</strong> choose other rules, but the rules <strong class="purple">must</strong> be
deterministic and depend only on <span class="eq">(r<sub>x</sub>,r<sub>y</sub>,r<sub>z</sub>)</span>.</p>
</div>
<div class="paragraph">
<p>The layer number (corresponding to a cube map face), the coordinate
selections for <span class="eq">s<sub>c</sub></span>, <span class="eq">t<sub>c</sub></span>, <span class="eq">r<sub>c</sub></span>, and the selection of
derivatives, are determined by the major axis direction as specified in the
following two tables.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 75%;">
<caption class="title">Table 18. Cube map face and coordinate selection</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Major Axis Direction</th>
<th class="tableblock halign-left valign-top">Layer Number</th>
<th class="tableblock halign-left valign-top">Cube Map Face</th>
<th class="tableblock halign-left valign-top"><span class="eq">s<sub>c</sub></span></th>
<th class="tableblock halign-left valign-top"><span class="eq">t<sub>c</sub></span></th>
<th class="tableblock halign-left valign-top"><span class="eq">r<sub>c</sub></span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Positive X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">r<sub>x</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">1</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Negative X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">r<sub>x</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">2</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Positive Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">r<sub>y</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">3</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Negative Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">r<sub>y</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">4</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Positive Z</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">r<sub>z</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">5</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Negative Z</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">r<sub>z</sub></span></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 75%;">
<caption class="title">Table 19. Cube map derivative selection</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Major Axis Direction</th>
<th class="tableblock halign-left valign-top"><span class="eq">s<sub>c</sub> / x</span></th>
<th class="tableblock halign-left valign-top"><span class="eq">s<sub>c</sub> / y</span></th>
<th class="tableblock halign-left valign-top"><span class="eq">t<sub>c</sub> / x</span></th>
<th class="tableblock halign-left valign-top"><span class="eq">t<sub>c</sub> / y</span></th>
<th class="tableblock halign-left valign-top"><span class="eq">r<sub>c</sub> / x</span></th>
<th class="tableblock halign-left valign-top"><span class="eq">r<sub>c</sub> / y</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>z</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>z</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub> / y</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>x</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>z</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>z</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>x</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>x</sub> / y</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>z</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>z</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>y</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>y</sub> / y</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>z</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>z</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub> / y</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>x</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>z</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">+r<sub>z</sub> / y</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>z</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>x</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>x</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>y</sub> / y</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>z</sub> / x</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">-r<sub>z</sub> / y</span></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_cube_map_coordinate_transformation"><a class="anchor" href="#_cube_map_coordinate_transformation"></a>15.5.5. Cube Map Coordinate Transformation</h4>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
s_{\textit{face}} &amp; =
    \frac{1}{2} \times \frac{s_c}{|r_c|} + \frac{1}{2} \\
t_{\textit{face}} &amp; =
    \frac{1}{2} \times \frac{t_c}{|r_c|} + \frac{1}{2} \\
\end{aligned}\]
</div>
</div>
</div>
<div class="sect3">
<h4 id="_cube_map_derivative_transformation"><a class="anchor" href="#_cube_map_derivative_transformation"></a>15.5.6. Cube Map Derivative Transformation</h4>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\frac{\partial{s_{\textit{face}}}}{\partial{x}} &amp;=
    \frac{\partial}{\partial{x}} \left ( \frac{1}{2} \times \frac{s_{c}}{|r_{c}|}
    + \frac{1}{2}\right ) \\
\frac{\partial{s_{\textit{face}}}}{\partial{x}} &amp;=
    \frac{1}{2} \times \frac{\partial}{\partial{x}}
    \left ( \frac{s_{c}}{|r_{c}|}  \right ) \\
\frac{\partial{s_{\textit{face}}}}{\partial{x}} &amp;=
    \frac{1}{2} \times
    \left (
    \frac{
      |r_{c}| \times \partial{s_c}/\partial{x}
      -s_c \times {\partial{r_{c}}}/{\partial{x}}}
    {\left ( r_{c} \right )^2}
    \right )
\end{aligned}\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\frac{\partial{s_{\textit{face}}}}{\partial{y}} &amp;=
    \frac{1}{2} \times
    \left (
    \frac{
      |r_{c}| \times \partial{s_c}/\partial{y}
      -s_c \times {\partial{r_{c}}}/{\partial{y}}}
    {\left ( r_{c} \right )^2}
    \right )\\
\frac{\partial{t_{\textit{face}}}}{\partial{x}} &amp;=
    \frac{1}{2} \times
    \left (
    \frac{
      |r_{c}| \times \partial{t_c}/\partial{x}
      -t_c \times {\partial{r_{c}}}/{\partial{x}}}
    {\left ( r_{c} \right )^2}
    \right ) \\
\frac{\partial{t_{\textit{face}}}}{\partial{y}} &amp;=
    \frac{1}{2} \times
    \left (
    \frac{
       |r_{c}| \times \partial{t_c}/\partial{y}
      -t_c \times {\partial{r_{c}}}/{\partial{y}}}
    {\left ( r_{c} \right )^2}
    \right )
\end{aligned}\]
</div>
</div>
</div>
<div class="sect3">
<h4 id="_scale_factor_operation_level_of_detail_operation_and_image_levels_selection"><a class="anchor" href="#_scale_factor_operation_level_of_detail_operation_and_image_levels_selection"></a>15.5.7. Scale Factor Operation, Level-of-Detail Operation and Image Level(s) Selection</h4>
<div class="paragraph">
<p>LOD selection <strong class="purple">can</strong> be either explicit (provided explicitly by the image
instruction) or implicit (determined from a scale factor calculated from the
derivatives).
The implicit LOD selected <strong class="purple">can</strong> be queried using the SPIR-V instruction
<code>OpImageQueryLod</code>, which gives access to the <span class="eq">了</span>' and
<span class="eq">d<sub>l</sub></span> values, defined below.
These values <strong class="purple">must</strong> be computed with <code>mipmapPrecisionBits</code> of accuracy
and <strong class="purple">may</strong> be subject to implementation-specific maxima and minima for very
large, out-of-range values.</p>
</div>
<div class="sect4">
<h5 id="textures-scale-factor"><a class="anchor" href="#textures-scale-factor"></a>Scale Factor Operation</h5>
<div class="paragraph">
<p>The magnitude of the derivatives are calculated by:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">m<sub>ux</sub> = |s/x|  w<sub>base</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">m<sub>vx</sub> = |t/x|  h<sub>base</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">m<sub>wx</sub> = |r/x|  d<sub>base</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">m<sub>uy</sub> = |s/y|  w<sub>base</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">m<sub>vy</sub> = |t/y|  h<sub>base</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">m<sub>wy</sub> = |r/y|  d<sub>base</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">t/x = t/y = 0</span> (for 1D
images)</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">r/x = r/y = 0</span> (for 1D,
2D or Cube images)</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>and:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">w<sub>base</sub> = image.w</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">h<sub>base</sub> = image.h</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">d<sub>base</sub> = image.d</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>(for the <code>baseMipLevel</code>, from the image descriptor).</p>
</div>
<div class="paragraph">
<p>A point sampled in screen space has an elliptical footprint in texture
space.
The minimum and maximum scale factors <span class="eq">(<sub>min</sub>, <sub>max</sub>)</span> <strong class="purple">should</strong>
be the minor and major axes of this ellipse.</p>
</div>
<div class="paragraph">
<p>The <em>scale factors</em> <span class="eq"><sub>x</sub></span> and <span class="eq"><sub>y</sub></span>, calculated from the
magnitude of the derivatives in x and y, are used to compute the minimum and
maximum scale factors.</p>
</div>
<div class="paragraph">
<p><span class="eq"><sub>x</sub></span> and <span class="eq"><sub>y</sub></span> <strong class="purple">may</strong> be approximated with functions
<span class="eq">f<sub>x</sub></span> and <span class="eq">f<sub>y</sub></span>, subject to the following constraints:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
&amp; f_x \text{\ is\ continuous\ and\ monotonically\ increasing\ in\ each\ of\ }
    m_{ux},
    m_{vx}, \text{\ and\ }
    m_{wx} \\
&amp; f_y \text{\ is\ continuous\ and\ monotonically\ increasing\ in\ each\ of\ }
    m_{uy},
    m_{vy}, \text{\ and\ }
    m_{wy}
\end{aligned}\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\max(|m_{ux}|, |m_{vx}|, |m_{wx}|) \leq f_{x}
\leq \sqrt{2} (|m_{ux}| + |m_{vx}| + |m_{wx}|) \\
\max(|m_{uy}|, |m_{vy}|, |m_{wy}|) \leq f_{y}
\leq \sqrt{2} (|m_{uy}| + |m_{vy}| + |m_{wy}|)
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>The minimum and maximum scale factors <span class="eq">(<sub>min</sub>,<sub>max</sub>)</span> are
determined by:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><sub>max</sub> = max(<sub>x</sub>, <sub>y</sub>)</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><sub>min</sub> = min(<sub>x</sub>, <sub>y</sub>)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The ratio of anisotropy is determined by:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">侶 = min(<sub>max</sub>/<sub>min</sub>, max<sub>Aniso</sub>)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">sampler.max<sub>Aniso</sub> = <code>maxAnisotropy</code></span> (from sampler
descriptor)</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">limits.max<sub>Aniso</sub> = <code>maxSamplerAnisotropy</code></span> (from
physical device limits)</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">max<sub>Aniso</sub> = min(sampler.max<sub>Aniso</sub>, limits.max<sub>Aniso</sub>)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If <span class="eq"><sub>max</sub> = <sub>min</sub> = 0</span>, then all the partial derivatives are
zero, the fragment&#8217;s footprint in texel space is a point, and <span class="eq">N</span>
<strong class="purple">should</strong> be treated as 1.
If <span class="eq"><sub>max</sub>  0</span> and <span class="eq"><sub>min</sub> = 0</span> then all partial
derivatives along one axis are zero, the fragment&#8217;s footprint in texel space
is a line segment, and <span class="eq">侶</span> <strong class="purple">should</strong> be treated as <span class="eq">max<sub>Aniso</sub></span>.
However, anytime the footprint is small in texel space the implementation
<strong class="purple">may</strong> use a smaller value of <span class="eq">侶</span>, even when <span class="eq"><sub>min</sub></span> is zero
or close to zero.
If either <a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a>::<code>samplerAnisotropy</code> or
<a href="#VkSamplerCreateInfo">VkSamplerCreateInfo</a>::<code>anisotropyEnable</code> are <code>VK_FALSE</code>,
<span class="eq">max<sub>Aniso</sub></span> is set to 1.</p>
</div>
<div class="paragraph">
<p>If <span class="eq">侶 = 1</span>, sampling is isotropic.
If <span class="eq">侶 &gt; 1</span>, sampling is anisotropic.</p>
</div>
<div class="paragraph">
<p>The sampling rate (<span class="eq">N</span>) is derived as:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">N = 侶</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An implementation <strong class="purple">may</strong> round <span class="eq">N</span> up to the nearest supported sampling
rate.
An implementation <strong class="purple">may</strong> use the value of <span class="eq">N</span> as an approximation of
<span class="eq">侶</span>.</p>
</div>
</div>
<div class="sect4">
<h5 id="textures-level-of-detail-operation"><a class="anchor" href="#textures-level-of-detail-operation"></a>Level-of-Detail Operation</h5>
<div class="paragraph">
<p>The LOD parameter <span class="eq">了</span> is computed as follows:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\lambda_{base}(x,y) &amp; =
  \begin{cases}
    shaderOp.Lod                                    &amp; \text{(from optional SPIR-V operand)} \\
    \log_2 \left ( \frac{\rho_{max}}{\eta} \right ) &amp; \text{otherwise}
  \end{cases} \\
\lambda'(x,y)       &amp; = \lambda_{base} + \mathbin{clamp}(sampler.bias + shaderOp.bias,-maxSamplerLodBias,maxSamplerLodBias) \\
\lambda             &amp; =
  \begin{cases}
    lod_{max}, &amp; \lambda' &gt; lod_{max} \\
    \lambda',  &amp; lod_{min} \leq \lambda' \leq lod_{max} \\
    lod_{min}, &amp; \lambda' &lt; lod_{min} \\
    \textit{undefined}, &amp; lod_{min} &gt; lod_{max}
  \end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
sampler.bias       &amp; = mipLodBias &amp; \text{(from sampler descriptor)} \\
shaderOp.bias      &amp; =
  \begin{cases}
    Bias &amp; \text{(from optional SPIR-V operand)} \\
    0    &amp; \text{otherwise}
  \end{cases} \\
sampler.lod_{min}  &amp; = minLod &amp; \text{(from sampler descriptor)} \\
shaderOp.lod_{min} &amp; =
  \begin{cases}
    MinLod &amp; \text{(from optional SPIR-V operand)} \\
    0      &amp; \text{otherwise}
  \end{cases} \\
\\
lod_{min}          &amp; = \max(sampler.lod_{min}, shaderOp.lod_{min}) \\
lod_{max}          &amp; = maxLod &amp; \text{(from sampler descriptor)}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>and <span class="eq">maxSamplerLodBias</span> is the value of the <a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>
feature <a href="#limits-maxSamplerLodBias"><code>maxSamplerLodBias</code></a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="textures-image-level-selection"><a class="anchor" href="#textures-image-level-selection"></a>Image Level(s) Selection</h5>
<div class="paragraph">
<p>The image level(s) <span class="eq">d</span>, <span class="eq">d<sub>hi</sub></span>, and <span class="eq">d<sub>lo</sub></span> which texels are
read from are determined by an image-level parameter <span class="eq">d<sub>l</sub></span>, which is
computed based on the LOD parameter, as follows:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
d_{l} =
  \begin{cases}
    nearest(d'),  &amp; \text{mipmapMode is VK\_SAMPLER\_MIPMAP\_MODE\_NEAREST} \\
    d',           &amp; \text{otherwise}
  \end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
d' = level_{base} + \text{clamp}(\lambda, 0, q)
\end{aligned}\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
nearest(d') &amp; =
  \begin{cases}
    \left \lceil d' + 0.5\right \rceil - 1, &amp;
        \text{preferred} \\
    \left \lfloor d' + 0.5\right \rfloor,   &amp;
        \text{alternative}
  \end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>and:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">level<sub>base</sub> = <code>baseMipLevel</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">q = <code>levelCount</code> - 1</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code>baseMipLevel</code> and <code>levelCount</code> are taken from the
<code>subresourceRange</code> of the image view.</p>
</div>
<div class="paragraph">
<p>If the sampler&#8217;s <code>mipmapMode</code> is <code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code>,
then the level selected is <span class="eq">d = d<sub>l</sub></span>.</p>
</div>
<div class="paragraph">
<p>If the sampler&#8217;s <code>mipmapMode</code> is <code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code>,
two neighboring levels are selected:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
d_{hi} &amp; = \lfloor d_{l} \rfloor \\
d_{lo} &amp; = min( d_{hi} + 1, q ) \\
\delta &amp; = d_{l} - d_{hi}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p><span class="eq">隆</span> is the fractional value, quantized to the number of
<a href="#limits-mipmapPrecisionBits">mipmap precision bits</a>, used for
<a href="#textures-texel-filtering">linear filtering</a> between levels.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="textures-normalized-to-unnormalized"><a class="anchor" href="#textures-normalized-to-unnormalized"></a>15.5.8. (s,t,r,q,a) to (u,v,w,a) Transformation</h4>
<div class="paragraph">
<p>The normalized texel coordinates are scaled by the image level dimensions
and the array layer is selected.</p>
</div>
<div class="paragraph">
<p>This transformation is performed once for each level used in
<a href="#textures-texel-filtering">filtering</a> (either <span class="eq">d</span>, or <span class="eq">d<sub>hi</sub></span> and
<span class="eq">d<sub>lo</sub></span>).</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
u(x,y) &amp; = s(x,y) \times width_{scale} + \Delta_i\\
v(x,y) &amp; =
  \begin{cases}
    0                         &amp; \text{for 1D images} \\
    t(x,y) \times height_{scale} + \Delta_j &amp; \text{otherwise}
  \end{cases} \\
w(x,y) &amp; =
  \begin{cases}
    0                         &amp; \text{for 2D or Cube images} \\
    r(x,y) \times depth_{scale}  + \Delta_k &amp; \text{otherwise}
  \end{cases} \\
\\
a(x,y) &amp; =
  \begin{cases}
    a(x,y)                    &amp; \text{for array images} \\
    0                         &amp; \text{otherwise}
  \end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">width<sub>scale</sub> = width<sub>level</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">height<sub>scale</sub> = height<sub>level</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">depth<sub>scale</sub> = depth<sub>level</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>and where <span class="eq">(<sub>i</sub>, <sub>j</sub>, <sub>k</sub>)</span> are
taken from the image instruction if it includes a <code>ConstOffset</code> or
<code>Offset</code> operand, otherwise they are taken to be zero.</p>
</div>
<div class="paragraph">
<p>Operations then proceed to Unnormalized Texel Coordinate Operations.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_unnormalized_texel_coordinate_operations"><a class="anchor" href="#_unnormalized_texel_coordinate_operations"></a>15.6. Unnormalized Texel Coordinate Operations</h3>
<div class="sect3">
<h4 id="textures-unnormalized-to-integer"><a class="anchor" href="#textures-unnormalized-to-integer"></a>15.6.1. (u,v,w,a) to (i,j,k,l,n) Transformation And Array Layer Selection</h4>
<div class="paragraph">
<p>The unnormalized texel coordinates are transformed to integer texel
coordinates relative to the selected mipmap level.</p>
</div>
<div class="paragraph">
<p>The layer index <span class="eq">l</span> is computed as:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">l = clamp(RNE(a), 0, <code>layerCount</code> - 1) + 
<code>baseArrayLayer</code></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <code>layerCount</code> is the number of layers in the image subresource
range of the image view, <code>baseArrayLayer</code> is the first layer from the
subresource range, and where:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\mathbin{RNE}(a) &amp; =
  \begin{cases}
    \mathbin{roundTiesToEven}(a)                  &amp; \text{preferred, from IEEE Std 754-2008 Floating-Point Arithmetic} \\
    \left \lfloor a + 0.5 \right \rfloor &amp; \text{alternative}
  \end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>The sample index n is assigned the value zero.</p>
</div>
<div class="paragraph">
<p>Nearest filtering (<code>VK_FILTER_NEAREST</code>) computes the integer texel
coordinates that the unnormalized coordinates lie within:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
i &amp;= \lfloor u + shift \rfloor \\
j &amp;= \lfloor v + shift \rfloor \\
k &amp;= \lfloor w + shift \rfloor
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">shift = 0.0</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Linear filtering (<code>VK_FILTER_LINEAR</code>) computes a set of neighboring
coordinates which bound the unnormalized coordinates.
The integer texel coordinates are combinations of <span class="eq">i<sub>0</sub></span> or <span class="eq">i<sub>1</sub></span>,
<span class="eq">j<sub>0</sub></span> or <span class="eq">j<sub>1</sub></span>, <span class="eq">k<sub>0</sub></span> or <span class="eq">k<sub>1</sub></span>, as well as weights
<span class="eq">留, 硫</span>, and <span class="eq">粒</span>.</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
i_0 &amp;= \lfloor u - shift \rfloor \\
i_1 &amp;= i_0 + 1 \\
j_0 &amp;= \lfloor v - shift \rfloor \\
j_1 &amp;= j_0 + 1 \\
k_0 &amp;= \lfloor w - shift \rfloor
k_1 &amp;= k_0 + 1
\end{aligned}\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\alpha &amp;= \mathbin{frac}\left(u - shift\right)  \\[1em]
\beta &amp;= \mathbin{frac}\left(v - shift\right)  \\[1em]
\gamma &amp;= \mathbin{frac}\left(w - shift\right)
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">shift = 0.5</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>and where:</p>
</div>
<div class="stemblock">
<div class="content">
\[\mathbin{frac}(x) = x -  \lfloor x \rfloor\]
</div>
</div>
<div class="paragraph">
<p>where the number of fraction bits retained is specified by
<code>VkPhysicalDeviceLimits</code>::<code>subTexelPrecisionBits</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="textures-integer-coordinate-operations"><a class="anchor" href="#textures-integer-coordinate-operations"></a>15.7. Integer Texel Coordinate Operations</h3>
<div class="paragraph">
<p>The <code>OpImageFetch</code> and <code>OpImageFetchSparse</code> SPIR-V instructions <strong class="purple">may</strong>
supply a LOD from which texels are to be fetched using the optional SPIR-V
operand <code>Lod</code>.
Other integer-coordinate operations <strong class="purple">must</strong> not.
If the <code>Lod</code> is provided then it <strong class="purple">must</strong> be an integer.</p>
</div>
<div class="paragraph">
<p>The image level selected is:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
d &amp; = level_{base} +
  \begin{cases}
    Lod &amp; \text{(from optional SPIR-V operand)} \\
    0   &amp; \text{otherwise}
  \end{cases} \\
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>If <span class="eq">d</span> does not lie in the range <span class="eq">[<code>baseMipLevel</code>,
<code>baseMipLevel</code> +  <code>levelCount</code>)</span> then any values fetched are
undefined.</p>
</div>
</div>
<div class="sect2">
<h3 id="textures-sample-operations"><a class="anchor" href="#textures-sample-operations"></a>15.8. Image Sample Operations</h3>
<div class="sect3">
<h4 id="textures-wrapping-operation"><a class="anchor" href="#textures-wrapping-operation"></a>15.8.1. Wrapping Operation</h4>
<div class="paragraph">
<p><code>Cube</code> images ignore the wrap modes specified in the sampler.
Instead, if <code>VK_FILTER_NEAREST</code> is used within a mip level then
<code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code> is used, and if
<code>VK_FILTER_LINEAR</code> is used within a mip level then sampling at the edges
is performed as described earlier in the <a href="#textures-cubemapedge">Cube map
edge handling</a> section.</p>
</div>
<div class="paragraph">
<p>The first integer texel coordinate i is transformed based on the
<code>addressModeU</code> parameter of the sampler.</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
i &amp;=
  \begin{cases}
    i \bmod size                                &amp; \text{for repeat} \\
    (size - 1) - \mathbin{mirror}
        ((i \bmod (2 \times size)) - size)      &amp; \text{for mirrored repeat} \\
    \mathbin{clamp}(i,0,size-1)                  &amp; \text{for clamp to edge} \\
    \mathbin{clamp}(i,-1,size)                   &amp; \text{for clamp to border} \\
    \mathbin{clamp}(\mathbin{mirror}(i),0,size-1) &amp; \text{for mirror clamp to edge}
  \end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
&amp; \mathbin{mirror}(n) =
  \begin{cases}
    n      &amp; \text{for}\  n \geq 0 \\
    -(1+n) &amp; \text{otherwise}
  \end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p><span class="eq">j</span> (for 2D and Cube image) and <span class="eq">k</span> (for 3D image) are similarly
transformed based on the <code>addressModeV</code> and <code>addressModeW</code>
parameters of the sampler, respectively.</p>
</div>
</div>
<div class="sect3">
<h4 id="textures-gather"><a class="anchor" href="#textures-gather"></a>15.8.2. Texel Gathering</h4>
<div class="paragraph">
<p>SPIR-V instructions with <code>Gather</code> in the name return a vector derived
from 4 texels in the base level of the image view.
The rules for the <code>VK_FILTER_LINEAR</code> minification filter are applied to
identify the four selected texels.
Each texel is then converted to an RGBA value according to
<a href="#textures-conversion-to-rgba">conversion to RGBA</a> and then
<a href="#textures-component-swizzle">swizzled</a>.
A four-component vector is then assembled by taking the component indicated
by the <code>Component</code> value in the instruction from the swizzled color value
of the four texels.
If the operation does not use the <code>ConstOffsets</code> image operand then the
four texels form the 2  2 rectangle used for texture filtering:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\tau[R] &amp;= \tau_{i0j1}[level_{base}][comp] \\
\tau[G] &amp;= \tau_{i1j1}[level_{base}][comp] \\
\tau[B] &amp;= \tau_{i1j0}[level_{base}][comp] \\
\tau[A] &amp;= \tau_{i0j0}[level_{base}][comp]
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>If the operation does use the <code>ConstOffsets</code> image operand then the
offsets allow a custom filter to be defined:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\tau[R] &amp;= \tau_{i0j0 + \Delta_0}[level_{base}][comp] \\
\tau[G] &amp;= \tau_{i0j0 + \Delta_1}[level_{base}][comp] \\
\tau[B] &amp;= \tau_{i0j0 + \Delta_2}[level_{base}][comp] \\
\tau[A] &amp;= \tau_{i0j0 + \Delta_3}[level_{base}][comp]
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\tau[level_{base}][comp] &amp;=
  \begin{cases}
    \tau[level_{base}][R], &amp; \text{for}\  comp = 0 \\
    \tau[level_{base}][G], &amp; \text{for}\  comp = 1 \\
    \tau[level_{base}][B], &amp; \text{for}\  comp = 2 \\
    \tau[level_{base}][A], &amp; \text{for}\  comp = 3
  \end{cases}\\
comp &amp; \,\text{from SPIR-V operand Component}
\end{aligned}\]
</div>
</div>
</div>
<div class="sect3">
<h4 id="textures-texel-filtering"><a class="anchor" href="#textures-texel-filtering"></a>15.8.3. Texel Filtering</h4>
<div class="paragraph">
<p>Texel filtering is first performed for each level (either <span class="eq">d</span> or
<span class="eq">d<sub>hi</sub></span> and <span class="eq">d<sub>lo</sub></span>).</p>
</div>
<div class="paragraph">
<p>If <span class="eq">了</span> is less than or equal to zero, the texture is said to be
<em>magnified</em>, and the filter mode within a mip level is selected by the
<code>magFilter</code> in the sampler.
If <span class="eq">了</span> is greater than zero, the texture is said to be
<em>minified</em>, and the filter mode within a mip level is selected by the
<code>minFilter</code> in the sampler.</p>
</div>
<div class="sect4">
<h5 id="textures-texel-nearest-filtering"><a class="anchor" href="#textures-texel-nearest-filtering"></a>Texel Nearest Filtering</h5>
<div class="paragraph">
<p>Within a mip level, <code>VK_FILTER_NEAREST</code> filtering selects a single value
using the <span class="eq">(i, j, k)</span> texel coordinates, with all texels taken from
layer l.</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\tau[level] &amp;=
  \begin{cases}
     \tau_{ijk}[level], &amp; \text{for 3D image} \\
     \tau_{ij}[level],  &amp; \text{for 2D or Cube image} \\
     \tau_{i}[level],   &amp; \text{for 1D image}
   \end{cases}
\end{aligned}\]
</div>
</div>
</div>
<div class="sect4">
<h5 id="textures-texel-linear-filtering"><a class="anchor" href="#textures-texel-linear-filtering"></a>Texel Linear Filtering</h5>
<div class="paragraph">
<p>Within a mip level, <code>VK_FILTER_LINEAR</code> filtering combines 8 (for 3D), 4
(for 2D or Cube), or 2 (for 1D) texel values, together with their linear
weights.
The linear weights are derived from the fractions computed earlier:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
w_{i_0} &amp;= (1-\alpha) \\
w_{i_1} &amp;= (\alpha)   \\
w_{j_0} &amp;= (1-\beta)  \\
w_{j_1} &amp;= (\beta)    \\
w_{k_0} &amp;= (1-\gamma) \\
w_{k_1} &amp;= (\gamma)
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>The values of multiple texels, together with their weights, are combined
using a weighted average to produce a filtered value:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\tau_{3D} &amp;= \sum_{k=k_0}^{k_1}\sum_{j=j_0}^{j_1}\sum_{i=i_0}^{i_1}(w_{i})(w_{j})(w_{k})\tau_{ijk} \\
\tau_{2D} &amp;= \sum_{j=j_0}^{j_1}\sum_{i=i_0}^{i_1}(w_{i})(w_{j})\tau_{ij} \\
\tau_{1D} &amp;= \sum_{i=i_0}^{i_1}(w_{i})\tau_{i}
\end{aligned}\]
</div>
</div>
</div>
<div class="sect4">
<h5 id="textures-texel-mipmap-filtering"><a class="anchor" href="#textures-texel-mipmap-filtering"></a>Texel Mipmap Filtering</h5>
<div class="paragraph">
<p><code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code> filtering returns the value of a single
mipmap level,</p>
</div>
<div class="paragraph">
<p><span class="eq"> = [d]</span>.</p>
</div>
<div class="paragraph">
<p><code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code> filtering combines the values of
multiple mipmap levels ([hi] and [lo]), together with their linear
weights.</p>
</div>
<div class="paragraph">
<p>The linear weights are derived from the fraction computed earlier:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
w_{hi} &amp;= (1-\delta) \\
w_{lo} &amp;= (\delta)   \\
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p>The values of multiple mipmap levels together with their linear weights, are
combined using a weighted average to produce a final filtered value:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\tau &amp;= (w_{hi})\tau[hi]+(w_{lo})\tau[lo]
\end{aligned}\]
</div>
</div>
</div>
<div class="sect4">
<h5 id="textures-texel-anisotropic-filtering"><a class="anchor" href="#textures-texel-anisotropic-filtering"></a>Texel Anisotropic Filtering</h5>
<div class="paragraph">
<p>Anisotropic filtering is enabled by the <code>anisotropyEnable</code> in the
sampler.
When enabled, the image filtering scheme accounts for a degree of
anisotropy.</p>
</div>
<div class="paragraph">
<p>The particular scheme for anisotropic texture filtering is implementation
dependent.
Implementations <strong class="purple">should</strong> consider the <code>magFilter</code>, <code>minFilter</code> and
<code>mipmapMode</code> of the sampler to control the specifics of the anisotropic
filtering scheme used.
In addition, implementations <strong class="purple">should</strong> consider <code>minLod</code> and <code>maxLod</code>
of the sampler.</p>
</div>
<div class="paragraph">
<p>The following describes one particular approach to implementing anisotropic
filtering for the 2D Image case, implementations <strong class="purple">may</strong> choose other methods:</p>
</div>
<div class="paragraph">
<p>Given a <code>magFilter</code>, <code>minFilter</code> of <code>VK_FILTER_LINEAR</code> and a
<code>mipmapMode</code> of <code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code>:</p>
</div>
<div class="paragraph">
<p>Instead of a single isotropic sample, N isotropic samples are be sampled
within the image footprint of the image level <span class="eq">d</span> to approximate an
anisotropic filter.
The sum <span class="eq"><sub>2Daniso</sub></span> is defined using the single isotropic
<span class="eq"><sub>2D</sub>(u,v)</span> at level <span class="eq">d</span>.</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
\tau_{2Daniso} &amp; =
     \frac{1}{N}\sum_{i=1}^{N}
     {\tau_{2D}\left (
       u \left ( x - \frac{1}{2} + \frac{i}{N+1} , y \right ),
         \left ( v \left (x-\frac{1}{2}+\frac{i}{N+1} \right ), y
\right )
     \right )},
     &amp; \text{when}\  \rho_{x} &gt; \rho_{y} \\
\tau_{2Daniso} &amp;=
     \frac{1}{N}\sum_{i=1}^{N}
     {\tau_{2D}\left (
        u \left  ( x, y - \frac{1}{2} + \frac{i}{N+1} \right ),
          \left ( v \left (x,y-\frac{1}{2}+\frac{i}{N+1} \right )
\right )
     \right )},
     &amp; \text{when}\  \rho_{y} \geq \rho_{x}
\end{aligned}\]
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="textures-instructions"><a class="anchor" href="#textures-instructions"></a>15.9. Image Operation Steps</h3>
<div class="paragraph">
<p>Each step described in this chapter is performed by a subset of the image
instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Texel Input Validation Operations, Format Conversion, Texel Replacement,
Conversion to RGBA, and Component Swizzle: Performed by all instructions
except <code>OpImageWrite</code>.</p>
</li>
<li>
<p>Depth Comparison: Performed by <code>OpImage</code>*<code>Dref</code> instructions.</p>
</li>
<li>
<p>All Texel output operations: Performed by <code>OpImageWrite</code>.</p>
</li>
<li>
<p>Projection: Performed by all <code>OpImage</code>*<code>Proj</code> instructions.</p>
</li>
<li>
<p>Derivative Image Operations, Cube Map Operations, Scale Factor
Operation, Level-of-Detail Operation and Image Level(s) Selection, and
Texel Anisotropic Filtering: Performed by all <code>OpImageSample</code>* and
<code>OpImageSparseSample</code>* instructions.</p>
</li>
<li>
<p>(s,t,r,q,a) to (u,v,w,a) Transformation, Wrapping, and (u,v,w,a) to
(i,j,k,l,n) Transformation And Array Layer Selection: Performed by all
<code>OpImageSample</code>, <code>OpImageSparseSample</code>, and
<code>OpImage</code>*<code>Gather</code> instructions.</p>
</li>
<li>
<p>Texel Gathering: Performed by <code>OpImage</code>*<code>Gather</code> instructions.</p>
</li>
<li>
<p>Texel Filtering: Performed by all <code>OpImageSample</code>* and
<code>OpImageSparseSample</code>* instructions.</p>
</li>
<li>
<p>Sparse Residency: Performed by all <code>OpImageSparse</code>* instructions.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="queries"><a class="anchor" href="#queries"></a>16. Queries</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Queries</em> provide a mechanism to return information about the processing of
a sequence of Vulkan commands.
Query operations are asynchronous, and as such, their results are not
returned immediately.
Instead, their results, and their availability status are stored in a
<a href="#queries-pools">Query Pool</a>.
The state of these queries <strong class="purple">can</strong> be read back on the host, or copied to a
buffer object on the device.</p>
</div>
<div class="paragraph">
<p>The supported query types are <a href="#queries-occlusion">Occlusion Queries</a>,
<a href="#queries-pipestats">Pipeline Statistics Queries</a>, and <a href="#queries-timestamps">Timestamp Queries</a>.</p>
</div>
<div class="sect2">
<h3 id="queries-pools"><a class="anchor" href="#queries-pools"></a>16.1. Query Pools</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Queries are managed using <em>query pool</em> objects.
Each query pool is a collection of a specific number of queries of a
particular type.</p>
</div>
<div class="paragraph">
<p>Query pools are represented by <code>VkQueryPool</code> handles:</p>
</div>
<div id="VkQueryPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkQueryPool)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a query pool, call:</p>
</div>
<div id="vkCreateQueryPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateQueryPool(
    VkDevice                                    device,
    <span class="directive">const</span> VkQueryPoolCreateInfo*                pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkQueryPool*                                pQueryPool);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the query pool.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <code>VkQueryPoolCreateInfo</code>
structure containing the number and type of queries to be managed by the
pool.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pQueryPool</code> is a pointer to a <a href="#VkQueryPool">VkQueryPool</a> handle in which the
resulting query pool object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateQueryPool-device-parameter" href="#VUID-vkCreateQueryPool-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateQueryPool-pCreateInfo-parameter" href="#VUID-vkCreateQueryPool-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateQueryPool-pAllocator-parameter" href="#VUID-vkCreateQueryPool-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateQueryPool-pQueryPool-parameter" href="#VUID-vkCreateQueryPool-pQueryPool-parameter"></a> <code>pQueryPool</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkQueryPool">VkQueryPool</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkQueryPoolCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkQueryPoolCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkQueryPoolCreateInfo {
    VkStructureType                  sType;
    <span class="directive">const</span> <span class="directive">void</span>*                      pNext;
    VkQueryPoolCreateFlags           flags;
    VkQueryType                      queryType;
    uint32_t                         queryCount;
    VkQueryPipelineStatisticFlags    pipelineStatistics;
} VkQueryPoolCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>queryType</code> is a <a href="#VkQueryType">VkQueryType</a> value specifying the type of
queries managed by the pool.</p>
</li>
<li>
<p><code>queryCount</code> is the number of queries managed by the pool.</p>
</li>
<li>
<p><code>pipelineStatistics</code> is a bitmask of
<a href="#VkQueryPipelineStatisticFlagBits">VkQueryPipelineStatisticFlagBits</a> specifying which counters will be
returned in queries on the new pool, as described below in
<a href="#queries-pipestats">Pipeline Statistics Queries</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>pipelineStatistics</code> is ignored if <code>queryType</code> is not
<code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkQueryPoolCreateInfo-queryType-00791" href="#VUID-VkQueryPoolCreateInfo-queryType-00791"></a>
If the <a href="#features-pipelineStatisticsQuery">pipeline statistics queries</a>
feature is not enabled, <code>queryType</code> <strong class="purple">must</strong> not be
<code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code></p>
</li>
<li>
<p><a id="VUID-VkQueryPoolCreateInfo-queryType-00792" href="#VUID-VkQueryPoolCreateInfo-queryType-00792"></a>
If <code>queryType</code> is <code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code>,
<code>pipelineStatistics</code> <strong class="purple">must</strong> be a valid combination of
<a href="#VkQueryPipelineStatisticFlagBits">VkQueryPipelineStatisticFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkQueryPoolCreateInfo-queryCount-02763" href="#VUID-VkQueryPoolCreateInfo-queryCount-02763"></a>
<code>queryCount</code> <strong class="purple">must</strong> be greater than 0</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkQueryPoolCreateInfo-sType-sType" href="#VUID-VkQueryPoolCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkQueryPoolCreateInfo-pNext-pNext" href="#VUID-VkQueryPoolCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkQueryPoolCreateInfo-flags-zerobitmask" href="#VUID-VkQueryPoolCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkQueryPoolCreateInfo-queryType-parameter" href="#VUID-VkQueryPoolCreateInfo-queryType-parameter"></a> <code>queryType</code> <strong class="purple">must</strong> be a valid <a href="#VkQueryType">VkQueryType</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkQueryPoolCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkQueryPoolCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkQueryPoolCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a query pool, call:</p>
</div>
<div id="vkDestroyQueryPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyQueryPool(
    VkDevice                                    device,
    VkQueryPool                                 queryPool,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the query pool.</p>
</li>
<li>
<p><code>queryPool</code> is the query pool to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyQueryPool-queryPool-00793" href="#VUID-vkDestroyQueryPool-queryPool-00793"></a>
All submitted commands that refer to <code>queryPool</code> <strong class="purple">must</strong> have
completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyQueryPool-queryPool-00794" href="#VUID-vkDestroyQueryPool-queryPool-00794"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>queryPool</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyQueryPool-queryPool-00795" href="#VUID-vkDestroyQueryPool-queryPool-00795"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>queryPool</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyQueryPool-device-parameter" href="#VUID-vkDestroyQueryPool-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyQueryPool-queryPool-parameter" href="#VUID-vkDestroyQueryPool-queryPool-parameter"></a> If <code>queryPool</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>queryPool</code> <strong class="purple">must</strong> be a valid <a href="#VkQueryPool">VkQueryPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyQueryPool-pAllocator-parameter" href="#VUID-vkDestroyQueryPool-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyQueryPool-queryPool-parent" href="#VUID-vkDestroyQueryPool-queryPool-parent"></a> If <code>queryPool</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>queryPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>::<code>queryType</code>, specifying
the type of queries managed by the pool, are:</p>
</div>
<div id="VkQueryType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkQueryType {
    VK_QUERY_TYPE_OCCLUSION = <span class="integer">0</span>,
    VK_QUERY_TYPE_PIPELINE_STATISTICS = <span class="integer">1</span>,
    VK_QUERY_TYPE_TIMESTAMP = <span class="integer">2</span>,
    VK_QUERY_TYPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkQueryType;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_OCCLUSION</code> specifies an <a href="#queries-occlusion">occlusion query</a>.</p>
</li>
<li>
<p><code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code> specifies a <a href="#queries-pipestats">pipeline statistics query</a>.</p>
</li>
<li>
<p><code>VK_QUERY_TYPE_TIMESTAMP</code> specifies a <a href="#queries-timestamps">timestamp query</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="queries-operation"><a class="anchor" href="#queries-operation"></a>16.2. Query Operation</h3>
<div class="paragraph">
<p>The operation of queries is controlled by the commands
<a href="#vkCmdBeginQuery">vkCmdBeginQuery</a>, <a href="#vkCmdEndQuery">vkCmdEndQuery</a>,
<a href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a>, <a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a>, and
<a href="#vkCmdWriteTimestamp">vkCmdWriteTimestamp</a>.</p>
</div>
<div class="paragraph">
<p>In order for a <code>VkCommandBuffer</code> to record query management commands,
the queue family for which its <code>VkCommandPool</code> was created <strong class="purple">must</strong> support
the appropriate type of operations (graphics, compute) suitable for the
query type of a given query pool.</p>
</div>
<div class="paragraph">
<p>Each query in a query pool has a status that is either <em>unavailable</em> or
<em>available</em>, and also has state to store the numerical results of a query
operation of the type requested when the query pool was created.
Resetting a query via <a href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a>
sets the status to unavailable and makes the numerical results undefined.
Performing a query operation with <a href="#vkCmdBeginQuery">vkCmdBeginQuery</a> and
<a href="#vkCmdEndQuery">vkCmdEndQuery</a> changes the status to available when the query
<a href="#queries-operation-finished">finishes</a>, and updates the numerical results.
Both the availability status and numerical results are retrieved by calling
either <a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a> or <a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a>.</p>
</div>
<div id="queries-order" class="paragraph">
<p>Query commands, for the same query and submitted to the same queue, execute
in their entirety in <a href="#synchronization-submission-order">submission order</a>,
relative to each other.
In effect there is an implicit execution dependency from each such query
command to all query command previously submitted to the same queue.
There is one significant exception to this; if the <code>flags</code> parameter of
<a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a> does not include
<code>VK_QUERY_RESULT_WAIT_BIT</code>, execution of <a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a>
<strong class="purple">may</strong> happen-before the results of <a href="#vkCmdEndQuery">vkCmdEndQuery</a> are available.</p>
</div>
<div class="paragraph">
<p>After query pool creation, each query <strong class="purple">must</strong> be reset before it is used.
Queries <strong class="purple">must</strong> also be reset between uses.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To reset a range of queries in a query pool on a queue, call:</p>
</div>
<div id="vkCmdResetQueryPool" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdResetQueryPool(
    VkCommandBuffer                             commandBuffer,
    VkQueryPool                                 queryPool,
    uint32_t                                    firstQuery,
    uint32_t                                    queryCount);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which this command will
be recorded.</p>
</li>
<li>
<p><code>queryPool</code> is the handle of the query pool managing the queries
being reset.</p>
</li>
<li>
<p><code>firstQuery</code> is the initial query index to reset.</p>
</li>
<li>
<p><code>queryCount</code> is the number of queries to reset.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When executed on a queue, this command sets the status of query indices
<span class="eq">[<code>firstQuery</code>, <code>firstQuery</code> +  <code>queryCount</code> - 1]</span> to
unavailable.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdResetQueryPool-firstQuery-00796" href="#VUID-vkCmdResetQueryPool-firstQuery-00796"></a>
<code>firstQuery</code> <strong class="purple">must</strong> be less than the number of queries in
<code>queryPool</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResetQueryPool-firstQuery-00797" href="#VUID-vkCmdResetQueryPool-firstQuery-00797"></a>
The sum of <code>firstQuery</code> and <code>queryCount</code> <strong class="purple">must</strong> be less than or
equal to the number of queries in <code>queryPool</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResetQueryPool-None-02841" href="#VUID-vkCmdResetQueryPool-None-02841"></a>
All queries used by the command <strong class="purple">must</strong> not be active</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdResetQueryPool-commandBuffer-parameter" href="#VUID-vkCmdResetQueryPool-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdResetQueryPool-queryPool-parameter" href="#VUID-vkCmdResetQueryPool-queryPool-parameter"></a> <code>queryPool</code> <strong class="purple">must</strong> be a valid <a href="#VkQueryPool">VkQueryPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdResetQueryPool-commandBuffer-recording" href="#VUID-vkCmdResetQueryPool-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdResetQueryPool-commandBuffer-cmdpool" href="#VUID-vkCmdResetQueryPool-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdResetQueryPool-renderpass" href="#VUID-vkCmdResetQueryPool-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdResetQueryPool-commonparent" href="#VUID-vkCmdResetQueryPool-commonparent"></a> Both of <code>commandBuffer</code>, and <code>queryPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Once queries are reset and ready for use, query commands <strong class="purple">can</strong> be issued to a
command buffer.
Occlusion queries and pipeline statistics queries count events - drawn
samples and pipeline stage invocations, respectively - resulting from
commands that are recorded between a <a href="#vkCmdBeginQuery">vkCmdBeginQuery</a> command and a
<a href="#vkCmdEndQuery">vkCmdEndQuery</a> command within a specified command buffer, effectively
scoping a set of drawing and/or dispatch commands.
Timestamp queries write timestamps to a query pool.</p>
</div>
<div class="paragraph">
<p>A query <strong class="purple">must</strong> begin and end in the same command buffer, although if it is a
primary command buffer, and the <a href="#features-inheritedQueries">inherited
queries</a> feature is enabled, it <strong class="purple">can</strong> execute secondary command buffers
during the query operation.
For a secondary command buffer to be executed while a query is active, it
<strong class="purple">must</strong> set the <code>occlusionQueryEnable</code>, <code>queryFlags</code>, and/or
<code>pipelineStatistics</code> members of <a href="#VkCommandBufferInheritanceInfo">VkCommandBufferInheritanceInfo</a> to
conservative values, as described in the <a href="#commandbuffers-recording">Command
Buffer Recording</a> section.
A query <strong class="purple">must</strong> either begin and end inside the same subpass of a render pass
instance, or <strong class="purple">must</strong> both begin and end outside of a render pass instance
(i.e. contain entire render pass instances).</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To begin a query, call:</p>
</div>
<div id="vkCmdBeginQuery" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdBeginQuery(
    VkCommandBuffer                             commandBuffer,
    VkQueryPool                                 queryPool,
    uint32_t                                    query,
    VkQueryControlFlags                         flags);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which this command will
be recorded.</p>
</li>
<li>
<p><code>queryPool</code> is the query pool that will manage the results of the
query.</p>
</li>
<li>
<p><code>query</code> is the query index within the query pool that will contain
the results.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkQueryControlFlagBits">VkQueryControlFlagBits</a> specifying
constraints on the types of queries that <strong class="purple">can</strong> be performed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>queryType</code> of the pool is <code>VK_QUERY_TYPE_OCCLUSION</code> and
<code>flags</code> contains <code>VK_QUERY_CONTROL_PRECISE_BIT</code>, an implementation
<strong class="purple">must</strong> return a result that matches the actual number of samples passed.
This is described in more detail in <a href="#queries-occlusion">Occlusion Queries</a>.</p>
</div>
<div id="queries-operation-active" class="paragraph">
<p>After beginning a query, that query is considered <em>active</em> within the
command buffer it was called in until that same query is ended.
Queries active in a primary command buffer when secondary command buffers
are executed are considered active for those secondary command buffers.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBeginQuery-queryPool-01922" href="#VUID-vkCmdBeginQuery-queryPool-01922"></a>
<code>queryPool</code> <strong class="purple">must</strong> have been created with a <code>queryType</code> that
differs from that of any queries that are
<a href="#queries-operation-active">active</a> within <code>commandBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-None-00807" href="#VUID-vkCmdBeginQuery-None-00807"></a>
All queries used by the command <strong class="purple">must</strong> be unavailable</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-queryType-02804" href="#VUID-vkCmdBeginQuery-queryType-02804"></a>
The <code>queryType</code> used to create <code>queryPool</code> <strong class="purple">must</strong> not be
<code>VK_QUERY_TYPE_TIMESTAMP</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-queryType-00800" href="#VUID-vkCmdBeginQuery-queryType-00800"></a>
If the <a href="#features-occlusionQueryPrecise">precise occlusion queries</a>
feature is not enabled, or the <code>queryType</code> used to create
<code>queryPool</code> was not <code>VK_QUERY_TYPE_OCCLUSION</code>, <code>flags</code> <strong class="purple">must</strong>
not contain <code>VK_QUERY_CONTROL_PRECISE_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-query-00802" href="#VUID-vkCmdBeginQuery-query-00802"></a>
<code>query</code> <strong class="purple">must</strong> be less than the number of queries in <code>queryPool</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-queryType-00803" href="#VUID-vkCmdBeginQuery-queryType-00803"></a>
If the <code>queryType</code> used to create <code>queryPool</code> was
<code>VK_QUERY_TYPE_OCCLUSION</code>, the <code>VkCommandPool</code> that
<code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-queryType-00804" href="#VUID-vkCmdBeginQuery-queryType-00804"></a>
If the <code>queryType</code> used to create <code>queryPool</code> was
<code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code> and any of the
<code>pipelineStatistics</code> indicate graphics operations, the
<code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong>
support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-queryType-00805" href="#VUID-vkCmdBeginQuery-queryType-00805"></a>
If the <code>queryType</code> used to create <code>queryPool</code> was
<code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code> and any of the
<code>pipelineStatistics</code> indicate compute operations, the
<code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong>
support compute operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBeginQuery-commandBuffer-parameter" href="#VUID-vkCmdBeginQuery-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-queryPool-parameter" href="#VUID-vkCmdBeginQuery-queryPool-parameter"></a> <code>queryPool</code> <strong class="purple">must</strong> be a valid <a href="#VkQueryPool">VkQueryPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-flags-parameter" href="#VUID-vkCmdBeginQuery-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkQueryControlFlagBits">VkQueryControlFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-commandBuffer-recording" href="#VUID-vkCmdBeginQuery-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-commandBuffer-cmdpool" href="#VUID-vkCmdBeginQuery-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginQuery-commonparent" href="#VUID-vkCmdBeginQuery-commonparent"></a> Both of <code>commandBuffer</code>, and <code>queryPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#vkCmdBeginQuery">vkCmdBeginQuery</a>::<code>flags</code>, specifying
constraints on the types of queries that <strong class="purple">can</strong> be performed, are:</p>
</div>
<div id="VkQueryControlFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkQueryControlFlagBits {
    VK_QUERY_CONTROL_PRECISE_BIT = <span class="hex">0x00000001</span>,
    VK_QUERY_CONTROL_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkQueryControlFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_CONTROL_PRECISE_BIT</code> specifies the precision of
<a href="#queries-occlusion">occlusion queries</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkQueryControlFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkQueryControlFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkQueryControlFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkQueryControlFlagBits">VkQueryControlFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To end a query after the set of desired draw or dispatch commands is
executed, call:</p>
</div>
<div id="vkCmdEndQuery" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdEndQuery(
    VkCommandBuffer                             commandBuffer,
    VkQueryPool                                 queryPool,
    uint32_t                                    query);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which this command will
be recorded.</p>
</li>
<li>
<p><code>queryPool</code> is the query pool that is managing the results of the
query.</p>
</li>
<li>
<p><code>query</code> is the query index within the query pool where the result is
stored.</p>
</li>
</ul>
</div>
<div id="queries-operation-finished" class="paragraph">
<p>As queries operate asynchronously, ending a query does not immediately set
the query&#8217;s status to available.
A query is considered <em>finished</em> when the final results of the query are
ready to be retrieved by <a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a> and
<a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a>, and this is when the query&#8217;s status is set
to available.</p>
</div>
<div class="paragraph">
<p>Once a query is ended the query <strong class="purple">must</strong> finish in finite time, unless the
state of the query is changed using other commands, e.g. by issuing a reset
of the query.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdEndQuery-None-01923" href="#VUID-vkCmdEndQuery-None-01923"></a>
All queries used by the command <strong class="purple">must</strong> be
<a href="#queries-operation-active">active</a></p>
</li>
<li>
<p><a id="VUID-vkCmdEndQuery-query-00810" href="#VUID-vkCmdEndQuery-query-00810"></a>
<code>query</code> <strong class="purple">must</strong> be less than the number of queries in <code>queryPool</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdEndQuery-commandBuffer-parameter" href="#VUID-vkCmdEndQuery-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdEndQuery-queryPool-parameter" href="#VUID-vkCmdEndQuery-queryPool-parameter"></a> <code>queryPool</code> <strong class="purple">must</strong> be a valid <a href="#VkQueryPool">VkQueryPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdEndQuery-commandBuffer-recording" href="#VUID-vkCmdEndQuery-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdEndQuery-commandBuffer-cmdpool" href="#VUID-vkCmdEndQuery-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdEndQuery-commonparent" href="#VUID-vkCmdEndQuery-commonparent"></a> Both of <code>commandBuffer</code>, and <code>queryPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="queries-operation-memorylayout" class="paragraph">
<p>An application <strong class="purple">can</strong> retrieve results either by requesting they be written
into application-provided memory, or by requesting they be copied into a
<code>VkBuffer</code>.
In either case, the layout in memory is defined as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The first query&#8217;s result is written starting at the first byte requested
by the command, and each subsequent query&#8217;s result begins <code>stride</code>
bytes later.</p>
</li>
<li>
<p>Occlusion queries, pipeline statistics queries,
and timestamp queries store results in a tightly packed array of
unsigned integers, either 32- or 64-bits as requested by the command,
storing the numerical results and, if requested, the availability
status.</p>
</li>
<li>
<p>If <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is used, the final
element of each query&#8217;s result is an integer indicating whether the
query&#8217;s result is available, with any non-zero value indicating that it
is available.</p>
</li>
<li>
<p>Occlusion queries write one integer value - the number of samples
passed.
Pipeline statistics queries write one integer value for each bit that is
enabled in the <code>pipelineStatistics</code> when the pool is created, and
the statistics values are written in bit order starting from the least
significant bit.
Timestamp queries write one integer value.</p>
</li>
<li>
<p>If more than one query is retrieved and <code>stride</code> is not at least as
large as the size of the array of values corresponding to a single
query, the values written to memory are undefined.</p>
</li>
</ul>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To retrieve status and results for a set of queries, call:</p>
</div>
<div id="vkGetQueryPoolResults" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkGetQueryPoolResults(
    VkDevice                                    device,
    VkQueryPool                                 queryPool,
    uint32_t                                    firstQuery,
    uint32_t                                    queryCount,
    size_t                                      dataSize,
    <span class="directive">void</span>*                                       pData,
    VkDeviceSize                                stride,
    VkQueryResultFlags                          flags);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the query pool.</p>
</li>
<li>
<p><code>queryPool</code> is the query pool managing the queries containing the
desired results.</p>
</li>
<li>
<p><code>firstQuery</code> is the initial query index.</p>
</li>
<li>
<p><code>queryCount</code> is the number of queries to read.</p>
</li>
<li>
<p><code>dataSize</code> is the size in bytes of the buffer pointed to by
<code>pData</code>.</p>
</li>
<li>
<p><code>pData</code> is a pointer to a user-allocated buffer where the results
will be written</p>
</li>
<li>
<p><code>stride</code> is the stride in bytes between results for individual
queries within <code>pData</code>.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a> specifying how
and when results are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The range of queries read is defined by <span class="eq">[<code>firstQuery</code>,
<code>firstQuery</code> +  <code>queryCount</code> - 1]</span>.
For pipeline statistics queries, each query index in the pool contains one
integer value for each bit that is enabled in
<a href="#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>::<code>pipelineStatistics</code> when the pool is
created.</p>
</div>
<div class="paragraph">
<p>If no bits are set in <code>flags</code>, and all requested queries are in the
available state, results are written as an array of 32-bit unsigned integer
values.
The behavior when not all queries are available, is described
<a href="#queries-wait-bit-not-set">below</a>.</p>
</div>
<div class="paragraph">
<p>If <code>VK_QUERY_RESULT_64_BIT</code> is not set and the result overflows a 32-bit
value, the value <strong class="purple">may</strong> either wrap or saturate.
Similarly, if <code>VK_QUERY_RESULT_64_BIT</code> is set and the result overflows a
64-bit value, the value <strong class="purple">may</strong> either wrap or saturate.</p>
</div>
<div class="paragraph">
<p>If <code>VK_QUERY_RESULT_WAIT_BIT</code> is set, Vulkan will wait for each query to
be in the available state before retrieving the numerical results for that
query.
In this case, <code>vkGetQueryPoolResults</code> is guaranteed to succeed and
return <code>VK_SUCCESS</code> if the queries become available in a finite time
(i.e. if they have been issued and not reset).
If queries will never finish (e.g. due to being reset but not issued), then
<code>vkGetQueryPoolResults</code> <strong class="purple">may</strong> not return in finite time.</p>
</div>
<div id="queries-wait-bit-not-set" class="paragraph">
<p>If <code>VK_QUERY_RESULT_WAIT_BIT</code> and <code>VK_QUERY_RESULT_PARTIAL_BIT</code> are
both not set then no result values are written to <code>pData</code> for queries
that are in the unavailable state at the time of the call, and
<code>vkGetQueryPoolResults</code> returns <code>VK_NOT_READY</code>.
However, availability state is still written to <code>pData</code> for those
queries if <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is set.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications <strong class="purple">must</strong> take care to ensure that use of the
<code>VK_QUERY_RESULT_WAIT_BIT</code> bit has the desired effect.</p>
</div>
<div class="paragraph">
<p>For example, if a query has been used previously and a command buffer
records the commands <code>vkCmdResetQueryPool</code>, <code>vkCmdBeginQuery</code>, and
<code>vkCmdEndQuery</code> for that query, then the query will remain in the
available state until
the <code>vkCmdResetQueryPool</code> command executes on a queue.
Applications <strong class="purple">can</strong> use fences or events to ensure that a query has already
been reset before checking for its results or availability status.
Otherwise, a stale value could be returned from a previous use of the query.</p>
</div>
<div class="paragraph">
<p>The above also applies when <code>VK_QUERY_RESULT_WAIT_BIT</code> is used in
combination with <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code>.
In this case, the returned availability status <strong class="purple">may</strong> reflect the result of a
previous use of the query unless
the <code>vkCmdResetQueryPool</code> command has been executed since the last use
of the query.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications <strong class="purple">can</strong> double-buffer query pool usage, with a pool per frame, and
reset queries at the end of the frame in which they are read.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If <code>VK_QUERY_RESULT_PARTIAL_BIT</code> is set, <code>VK_QUERY_RESULT_WAIT_BIT</code>
is not set, and the query&#8217;s status is unavailable, an intermediate result
value between zero and the final result value is written to <code>pData</code> for
that query.</p>
</div>
<div class="paragraph">
<p>If <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is set, the final integer
value written for each query is non-zero if the query&#8217;s status was available
or zero if the status was unavailable.
When <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is used, implementations
<strong class="purple">must</strong> guarantee that if they return a non-zero availability value then the
numerical results <strong class="purple">must</strong> be valid, assuming the results are not reset by a
subsequent command.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Satisfying this guarantee <strong class="purple">may</strong> require careful ordering by the application,
e.g. to read the availability status before reading the results.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetQueryPoolResults-firstQuery-00813" href="#VUID-vkGetQueryPoolResults-firstQuery-00813"></a>
<code>firstQuery</code> <strong class="purple">must</strong> be less than the number of queries in
<code>queryPool</code></p>
</li>
<li>
<p><a id="VUID-vkGetQueryPoolResults-flags-02827" href="#VUID-vkGetQueryPoolResults-flags-02827"></a>
If <code>VK_QUERY_RESULT_64_BIT</code> is not set in <code>flags</code>, then
<code>pData</code> and <code>stride</code> <strong class="purple">must</strong> be multiples of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkGetQueryPoolResults-flags-00815" href="#VUID-vkGetQueryPoolResults-flags-00815"></a>
If <code>VK_QUERY_RESULT_64_BIT</code> is set in <code>flags</code> then <code>pData</code>
and <code>stride</code> <strong class="purple">must</strong> be multiples of <code>8</code></p>
</li>
<li>
<p><a id="VUID-vkGetQueryPoolResults-firstQuery-00816" href="#VUID-vkGetQueryPoolResults-firstQuery-00816"></a>
The sum of <code>firstQuery</code> and <code>queryCount</code> <strong class="purple">must</strong> be less than or
equal to the number of queries in <code>queryPool</code></p>
</li>
<li>
<p><a id="VUID-vkGetQueryPoolResults-dataSize-00817" href="#VUID-vkGetQueryPoolResults-dataSize-00817"></a>
<code>dataSize</code> <strong class="purple">must</strong> be large enough to contain the result of each
query, as described <a href="#queries-operation-memorylayout">here</a></p>
</li>
<li>
<p><a id="VUID-vkGetQueryPoolResults-queryType-00818" href="#VUID-vkGetQueryPoolResults-queryType-00818"></a>
If the <code>queryType</code> used to create <code>queryPool</code> was
<code>VK_QUERY_TYPE_TIMESTAMP</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_QUERY_RESULT_PARTIAL_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetQueryPoolResults-device-parameter" href="#VUID-vkGetQueryPoolResults-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetQueryPoolResults-queryPool-parameter" href="#VUID-vkGetQueryPoolResults-queryPool-parameter"></a> <code>queryPool</code> <strong class="purple">must</strong> be a valid <a href="#VkQueryPool">VkQueryPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetQueryPoolResults-pData-parameter" href="#VUID-vkGetQueryPoolResults-pData-parameter"></a> <code>pData</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkGetQueryPoolResults-flags-parameter" href="#VUID-vkGetQueryPoolResults-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetQueryPoolResults-dataSize-arraylength" href="#VUID-vkGetQueryPoolResults-dataSize-arraylength"></a> <code>dataSize</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkGetQueryPoolResults-queryPool-parent" href="#VUID-vkGetQueryPoolResults-queryPool-parent"></a> <code>queryPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_NOT_READY</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a>::<code>flags</code> and
<a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a>::<code>flags</code>, specifying how and when
results are returned, are:</p>
</div>
<div id="VkQueryResultFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkQueryResultFlagBits {
    VK_QUERY_RESULT_64_BIT = <span class="hex">0x00000001</span>,
    VK_QUERY_RESULT_WAIT_BIT = <span class="hex">0x00000002</span>,
    VK_QUERY_RESULT_WITH_AVAILABILITY_BIT = <span class="hex">0x00000004</span>,
    VK_QUERY_RESULT_PARTIAL_BIT = <span class="hex">0x00000008</span>,
    VK_QUERY_RESULT_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkQueryResultFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_RESULT_64_BIT</code> specifies the results will be written as an
array of 64-bit unsigned integer values.
If this bit is not set, the results will be written as an array of
32-bit unsigned integer values.</p>
</li>
<li>
<p><code>VK_QUERY_RESULT_WAIT_BIT</code> specifies that Vulkan will wait for each
query&#8217;s status to become available before retrieving its results.</p>
</li>
<li>
<p><code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> specifies that the
availability status accompanies the results.</p>
</li>
<li>
<p><code>VK_QUERY_RESULT_PARTIAL_BIT</code> specifies that returning partial
results is acceptable.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkQueryResultFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkQueryResultFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkQueryResultFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To copy query statuses and numerical results directly to buffer memory,
call:</p>
</div>
<div id="vkCmdCopyQueryPoolResults" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdCopyQueryPoolResults(
    VkCommandBuffer                             commandBuffer,
    VkQueryPool                                 queryPool,
    uint32_t                                    firstQuery,
    uint32_t                                    queryCount,
    VkBuffer                                    dstBuffer,
    VkDeviceSize                                dstOffset,
    VkDeviceSize                                stride,
    VkQueryResultFlags                          flags);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which this command will
be recorded.</p>
</li>
<li>
<p><code>queryPool</code> is the query pool managing the queries containing the
desired results.</p>
</li>
<li>
<p><code>firstQuery</code> is the initial query index.</p>
</li>
<li>
<p><code>queryCount</code> is the number of queries.
<code>firstQuery</code> and <code>queryCount</code> together define a range of
queries.</p>
</li>
<li>
<p><code>dstBuffer</code> is a <a href="#VkBuffer">VkBuffer</a> object that will receive the results
of the copy command.</p>
</li>
<li>
<p><code>dstOffset</code> is an offset into <code>dstBuffer</code>.</p>
</li>
<li>
<p><code>stride</code> is the stride in bytes between results for individual
queries within <code>dstBuffer</code>.
The required size of the backing memory for <code>dstBuffer</code> is
determined as described above for <a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a>.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a> specifying how
and when results are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdCopyQueryPoolResults</code> is guaranteed to see the effect of previous
uses of <code>vkCmdResetQueryPool</code> in the same queue, without any additional
synchronization.
Thus, the results will always reflect the most recent use of the query.</p>
</div>
<div class="paragraph">
<p><code>flags</code> has the same possible values described above for the <code>flags</code>
parameter of <a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a>, but the different style of
execution causes some subtle behavioral differences.
Because <code>vkCmdCopyQueryPoolResults</code> executes in order with respect to
other query commands, there is less ambiguity about which use of a query is
being requested.</p>
</div>
<div class="paragraph">
<p>Results for all requested occlusion queries, pipeline statistics queries,
and timestamp queries are written as 64-bit unsigned integer values if
<code>VK_QUERY_RESULT_64_BIT</code> is set or 32-bit unsigned integer values
otherwise.</p>
</div>
<div class="paragraph">
<p>If neither of <code>VK_QUERY_RESULT_WAIT_BIT</code> and
<code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> are set, results are only
written out for queries in the available state.</p>
</div>
<div class="paragraph">
<p>If <code>VK_QUERY_RESULT_WAIT_BIT</code> is set, the implementation will wait for
each query&#8217;s status to be in the available state before retrieving the
numerical results for that query.
This is guaranteed to reflect the most recent use of the query on the same
queue, assuming that the query is not being simultaneously used by other
queues.
If the query does not become available in a finite amount of time (e.g. due
to not issuing a query since the last reset), a <code>VK_ERROR_DEVICE_LOST</code>
error <strong class="purple">may</strong> occur.</p>
</div>
<div class="paragraph">
<p>Similarly, if <code>VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</code> is set and
<code>VK_QUERY_RESULT_WAIT_BIT</code> is not set, the availability is guaranteed to
reflect the most recent use of the query on the same queue, assuming that
the query is not being simultaneously used by other queues.
As with <code>vkGetQueryPoolResults</code>, implementations <strong class="purple">must</strong> guarantee that if
they return a non-zero availability value, then the numerical results are
valid.</p>
</div>
<div class="paragraph">
<p>If <code>VK_QUERY_RESULT_PARTIAL_BIT</code> is set, <code>VK_QUERY_RESULT_WAIT_BIT</code>
is not set, and the query&#8217;s status is unavailable, an intermediate result
value between zero and the final result value is written for that query.</p>
</div>
<div class="paragraph">
<p><code>VK_QUERY_RESULT_PARTIAL_BIT</code> <strong class="purple">must</strong> not be used if the pool&#8217;s
<code>queryType</code> is <code>VK_QUERY_TYPE_TIMESTAMP</code>.</p>
</div>
<div class="paragraph">
<p><code>vkCmdCopyQueryPoolResults</code> is considered to be a transfer operation,
and its writes to buffer memory <strong class="purple">must</strong> be synchronized using
<code>VK_PIPELINE_STAGE_TRANSFER_BIT</code> and <code>VK_ACCESS_TRANSFER_WRITE_BIT</code>
before using the results.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-dstOffset-00819" href="#VUID-vkCmdCopyQueryPoolResults-dstOffset-00819"></a>
<code>dstOffset</code> <strong class="purple">must</strong> be less than the size of <code>dstBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-firstQuery-00820" href="#VUID-vkCmdCopyQueryPoolResults-firstQuery-00820"></a>
<code>firstQuery</code> <strong class="purple">must</strong> be less than the number of queries in
<code>queryPool</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-firstQuery-00821" href="#VUID-vkCmdCopyQueryPoolResults-firstQuery-00821"></a>
The sum of <code>firstQuery</code> and <code>queryCount</code> <strong class="purple">must</strong> be less than or
equal to the number of queries in <code>queryPool</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-flags-00822" href="#VUID-vkCmdCopyQueryPoolResults-flags-00822"></a>
If <code>VK_QUERY_RESULT_64_BIT</code> is not set in <code>flags</code> then
<code>dstOffset</code> and <code>stride</code> <strong class="purple">must</strong> be multiples of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-flags-00823" href="#VUID-vkCmdCopyQueryPoolResults-flags-00823"></a>
If <code>VK_QUERY_RESULT_64_BIT</code> is set in <code>flags</code> then
<code>dstOffset</code> and <code>stride</code> <strong class="purple">must</strong> be multiples of <code>8</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-dstBuffer-00824" href="#VUID-vkCmdCopyQueryPoolResults-dstBuffer-00824"></a>
<code>dstBuffer</code> <strong class="purple">must</strong> have enough storage, from <code>dstOffset</code>, to
contain the result of each query, as described
<a href="#queries-operation-memorylayout">here</a></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-dstBuffer-00825" href="#VUID-vkCmdCopyQueryPoolResults-dstBuffer-00825"></a>
<code>dstBuffer</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-dstBuffer-00826" href="#VUID-vkCmdCopyQueryPoolResults-dstBuffer-00826"></a>
If <code>dstBuffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-queryType-00827" href="#VUID-vkCmdCopyQueryPoolResults-queryType-00827"></a>
If the <code>queryType</code> used to create <code>queryPool</code> was
<code>VK_QUERY_TYPE_TIMESTAMP</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_QUERY_RESULT_PARTIAL_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-commandBuffer-parameter" href="#VUID-vkCmdCopyQueryPoolResults-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-queryPool-parameter" href="#VUID-vkCmdCopyQueryPoolResults-queryPool-parameter"></a> <code>queryPool</code> <strong class="purple">must</strong> be a valid <a href="#VkQueryPool">VkQueryPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-dstBuffer-parameter" href="#VUID-vkCmdCopyQueryPoolResults-dstBuffer-parameter"></a> <code>dstBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-flags-parameter" href="#VUID-vkCmdCopyQueryPoolResults-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkQueryResultFlagBits">VkQueryResultFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-commandBuffer-recording" href="#VUID-vkCmdCopyQueryPoolResults-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-commandBuffer-cmdpool" href="#VUID-vkCmdCopyQueryPoolResults-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-renderpass" href="#VUID-vkCmdCopyQueryPoolResults-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyQueryPoolResults-commonparent" href="#VUID-vkCmdCopyQueryPoolResults-commonparent"></a> Each of <code>commandBuffer</code>, <code>dstBuffer</code>, and <code>queryPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="queries-operation-undefined" class="paragraph">
<p>Rendering operations such as clears, MSAA resolves, attachment load/store
operations, and blits <strong class="purple">may</strong> count towards the results of queries.
This behavior is implementation-dependent and <strong class="purple">may</strong> vary depending on the
path used within an implementation.
For example, some implementations have several types of clears, some of
which <strong class="purple">may</strong> include vertices and some not.</p>
</div>
</div>
<div class="sect2">
<h3 id="queries-occlusion"><a class="anchor" href="#queries-occlusion"></a>16.3. Occlusion Queries</h3>
<div class="paragraph">
<p>Occlusion queries track the number of samples that pass the per-fragment
tests for a set of drawing commands.
As such, occlusion queries are only available on queue families supporting
graphics operations.
The application <strong class="purple">can</strong> then use these results to inform future rendering
decisions.
An occlusion query is begun and ended by calling <code>vkCmdBeginQuery</code> and
<code>vkCmdEndQuery</code>, respectively.
When an occlusion query begins, the count of passing samples always starts
at zero.
For each drawing command, the count is incremented as described in
<a href="#fragops-samplecount">Sample Counting</a>.
If <code>flags</code> does not contain <code>VK_QUERY_CONTROL_PRECISE_BIT</code> an
implementation <strong class="purple">may</strong> generate any non-zero result value for the query if the
count of passing samples is non-zero.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Not setting <code>VK_QUERY_CONTROL_PRECISE_BIT</code> mode <strong class="purple">may</strong> be more efficient
on some implementations, and <strong class="purple">should</strong> be used where it is sufficient to know
a boolean result on whether any samples passed the per-fragment tests.
In this case, some implementations <strong class="purple">may</strong> only return zero or one, indifferent
to the actual number of samples passing the per-fragment tests.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When an occlusion query finishes, the result for that query is marked as
available.
The application <strong class="purple">can</strong> then either copy the result to a buffer (via
<code>vkCmdCopyQueryPoolResults</code>) or request it be put into host memory (via
<code>vkGetQueryPoolResults</code>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If occluding geometry is not drawn first, samples <strong class="purple">can</strong> pass the depth test,
but still not be visible in a final image.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="queries-pipestats"><a class="anchor" href="#queries-pipestats"></a>16.4. Pipeline Statistics Queries</h3>
<div class="paragraph">
<p>Pipeline statistics queries allow the application to sample a specified set
of <code>VkPipeline</code> counters.
These counters are accumulated by Vulkan for a set of either draw or
dispatch commands while a pipeline statistics query is active.
As such, pipeline statistics queries are available on queue families
supporting either graphics or compute operations.
The availability of pipeline statistics queries is indicated by the
<code>pipelineStatisticsQuery</code> member of the <code>VkPhysicalDeviceFeatures</code>
object (see <code>vkGetPhysicalDeviceFeatures</code> and <code>vkCreateDevice</code> for
detecting and requesting this query type on a <code>VkDevice</code>).</p>
</div>
<div class="paragraph">
<p>A pipeline statistics query is begun and ended by calling
<code>vkCmdBeginQuery</code> and <code>vkCmdEndQuery</code>, respectively.
When a pipeline statistics query begins, all statistics counters are set to
zero.
While the query is active, the pipeline type determines which set of
statistics are available, but these <strong class="purple">must</strong> be configured on the query pool
when it is created.
If a statistic counter is issued on a command buffer that does not support
the corresponding operation, the value of that counter is undefined after
the query has finished.
At least one statistic counter relevant to the operations supported on the
recording command buffer <strong class="purple">must</strong> be enabled.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set to individually enable pipeline statistics counters
for query pools with <a href="#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>::<code>pipelineStatistics</code>,
and for secondary command buffers with
<a href="#VkCommandBufferInheritanceInfo">VkCommandBufferInheritanceInfo</a>::<code>pipelineStatistics</code>, are:</p>
</div>
<div id="VkQueryPipelineStatisticFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkQueryPipelineStatisticFlagBits {
    VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT = <span class="hex">0x00000001</span>,
    VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT = <span class="hex">0x00000002</span>,
    VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT = <span class="hex">0x00000004</span>,
    VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT = <span class="hex">0x00000008</span>,
    VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT = <span class="hex">0x00000010</span>,
    VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT = <span class="hex">0x00000020</span>,
    VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT = <span class="hex">0x00000040</span>,
    VK_QUERY_PIPELINE_STATISTIC_FRAGMENT_SHADER_INVOCATIONS_BIT = <span class="hex">0x00000080</span>,
    VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT = <span class="hex">0x00000100</span>,
    VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT = <span class="hex">0x00000200</span>,
    VK_QUERY_PIPELINE_STATISTIC_COMPUTE_SHADER_INVOCATIONS_BIT = <span class="hex">0x00000400</span>,
    VK_QUERY_PIPELINE_STATISTIC_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkQueryPipelineStatisticFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT</code> specifies
that queries managed by the pool will count the number of vertices
processed by the <a href="#drawing">input assembly</a> stage.
Vertices corresponding to incomplete primitives <strong class="purple">may</strong> contribute to the
count.</p>
</li>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT</code>
specifies that queries managed by the pool will count the number of
primitives processed by the <a href="#drawing">input assembly</a> stage.
If primitive restart is enabled, restarting the primitive topology has
no effect on the count.
Incomplete primitives <strong class="purple">may</strong> be counted.</p>
</li>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT</code>
specifies that queries managed by the pool will count the number of
vertex shader invocations.
This counter&#8217;s value is incremented each time a vertex shader is
<a href="#shaders-vertex-execution">invoked</a>.</p>
</li>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT</code>
specifies that queries managed by the pool will count the number of
geometry shader invocations.
This counter&#8217;s value is incremented each time a geometry shader is
<a href="#shaders-geometry-execution">invoked</a>.
In the case of <a href="#geometry-invocations">instanced geometry shaders</a>, the
geometry shader invocations count is incremented for each separate
instanced invocation.</p>
</li>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT</code>
specifies that queries managed by the pool will count the number of
primitives generated by geometry shader invocations.
The counter&#8217;s value is incremented each time the geometry shader emits a
primitive.
Restarting primitive topology using the SPIR-V instructions
<code>OpEndPrimitive</code> or <code>OpEndStreamPrimitive</code> has no effect on the
geometry shader output primitives count.</p>
</li>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT</code> specifies
that queries managed by the pool will count the number of primitives
processed by the <a href="#vertexpostproc-clipping">Primitive Clipping</a> stage of
the pipeline.
The counter&#8217;s value is incremented each time a primitive reaches the
primitive clipping stage.</p>
</li>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT</code> specifies that
queries managed by the pool will count the number of primitives output
by the <a href="#vertexpostproc-clipping">Primitive Clipping</a> stage of the
pipeline.
The counter&#8217;s value is incremented each time a primitive passes the
primitive clipping stage.
The actual number of primitives output by the primitive clipping stage
for a particular input primitive is implementation-dependent but <strong class="purple">must</strong>
satisfy the following conditions:</p>
<div class="ulist">
<ul>
<li>
<p>If at least one vertex of the input primitive lies inside the clipping
volume, the counter is incremented by one or more.</p>
</li>
<li>
<p>Otherwise, the counter is incremented by zero or more.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_FRAGMENT_SHADER_INVOCATIONS_BIT</code>
specifies that queries managed by the pool will count the number of
fragment shader invocations.
The counter&#8217;s value is incremented each time the fragment shader is
<a href="#shaders-fragment-execution">invoked</a>.</p>
</li>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT</code>
specifies that queries managed by the pool will count the number of
patches processed by the tessellation control shader.
The counter&#8217;s value is incremented once for each patch for which a
tessellation control shader is
<a href="#shaders-tessellation-control-execution">invoked</a>.</p>
</li>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT</code>
specifies that queries managed by the pool will count the number of
invocations of the tessellation evaluation shader.
The counter&#8217;s value is incremented each time the tessellation evaluation
shader is <a href="#shaders-tessellation-evaluation-execution">invoked</a>.</p>
</li>
<li>
<p><code>VK_QUERY_PIPELINE_STATISTIC_COMPUTE_SHADER_INVOCATIONS_BIT</code>
specifies that queries managed by the pool will count the number of
compute shader invocations.
The counter&#8217;s value is incremented every time the compute shader is
invoked.
Implementations <strong class="purple">may</strong> skip the execution of certain compute shader
invocations or execute additional compute shader invocations for
implementation-dependent reasons as long as the results of rendering
otherwise remain unchanged.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These values are intended to measure relative statistics on one
implementation.
Various device architectures will count these values differently.
Any or all counters <strong class="purple">may</strong> be affected by the issues described in
<a href="#queries-operation-undefined">Query Operation</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For example, tile-based rendering devices <strong class="purple">may</strong> need to replay the scene
multiple times, affecting some of the counts.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If a pipeline has <code>rasterizerDiscardEnable</code> enabled, implementations
<strong class="purple">may</strong> discard primitives after the final vertex processing stage.
As a result, if <code>rasterizerDiscardEnable</code> is enabled, the clipping input
and output primitives counters <strong class="purple">may</strong> not be incremented.</p>
</div>
<div class="paragraph">
<p>When a pipeline statistics query finishes, the result for that query is
marked as available.
The application <strong class="purple">can</strong> copy the result to a buffer (via
<code>vkCmdCopyQueryPoolResults</code>), or request it be put into host memory (via
<code>vkGetQueryPoolResults</code>).</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkQueryPipelineStatisticFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkQueryPipelineStatisticFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkQueryPipelineStatisticFlags</code> is a bitmask type for setting a mask of
zero or more <a href="#VkQueryPipelineStatisticFlagBits">VkQueryPipelineStatisticFlagBits</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="queries-timestamps"><a class="anchor" href="#queries-timestamps"></a>16.5. Timestamp Queries</h3>
<div class="paragraph">
<p><em>Timestamps</em> provide applications with a mechanism for timing the execution
of commands.
A timestamp is an integer value generated by the <code>VkPhysicalDevice</code>.
Unlike other queries, timestamps do not operate over a range, and so do not
use <a href="#vkCmdBeginQuery">vkCmdBeginQuery</a> or <a href="#vkCmdEndQuery">vkCmdEndQuery</a>.
The mechanism is built around a set of commands that allow the application
to tell the <code>VkPhysicalDevice</code> to write timestamp values to a
<a href="#queries-pools">query pool</a> and then either read timestamp values on the
host (using <a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a>) or copy timestamp values to a
<code>VkBuffer</code> (using <a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a>).
The application <strong class="purple">can</strong> then compute differences between timestamps to
determine execution time.</p>
</div>
<div class="paragraph">
<p>The number of valid bits in a timestamp value is determined by the
<code>VkQueueFamilyProperties</code>::<code>timestampValidBits</code> property of the
queue on which the timestamp is written.
Timestamps are supported on any queue which reports a non-zero value for
<code>timestampValidBits</code> via <a href="#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a>.
If the <a href="#limits-timestampComputeAndGraphics"><code>timestampComputeAndGraphics</code></a> limit is <code>VK_TRUE</code>, timestamps are
supported by every queue family that supports either graphics or compute
operations (see <a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a>).</p>
</div>
<div class="paragraph">
<p>The number of nanoseconds it takes for a timestamp value to be incremented
by 1 <strong class="purple">can</strong> be obtained from
<code>VkPhysicalDeviceLimits</code>::<code>timestampPeriod</code> after a call to
<code>vkGetPhysicalDeviceProperties</code>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To request a timestamp, call:</p>
</div>
<div id="vkCmdWriteTimestamp" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdWriteTimestamp(
    VkCommandBuffer                             commandBuffer,
    VkPipelineStageFlagBits                     pipelineStage,
    VkQueryPool                                 queryPool,
    uint32_t                                    query);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>pipelineStage</code> is one of the <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>,
specifying a stage of the pipeline.</p>
</li>
<li>
<p><code>queryPool</code> is the query pool that will manage the timestamp.</p>
</li>
<li>
<p><code>query</code> is the query within the query pool that will contain the
timestamp.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdWriteTimestamp</code> latches the value of the timer when all previous
commands have completed executing as far as the specified pipeline stage,
and writes the timestamp value to memory.
When the timestamp value is written, the availability status of the query is
set to available.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If an implementation is unable to detect completion and latch the timer at
any specific stage of the pipeline, it <strong class="purple">may</strong> instead do so at any logically
later stage.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a> <strong class="purple">can</strong> then be called to copy the timestamp
value from the query pool into buffer memory, with ordering and
synchronization behavior equivalent to how other queries operate.
Timestamp values <strong class="purple">can</strong> also be retrieved from the query pool using
<a href="#vkGetQueryPoolResults">vkGetQueryPoolResults</a>.
As with other queries, the query <strong class="purple">must</strong> be reset using
<a href="#vkCmdResetQueryPool">vkCmdResetQueryPool</a>
before requesting the timestamp value be written to it.</p>
</div>
<div class="paragraph">
<p>While <code>vkCmdWriteTimestamp</code> <strong class="purple">can</strong> be called inside or outside of a render
pass instance, <a href="#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a> <strong class="purple">must</strong> only be called outside
of a render pass instance.</p>
</div>
<div class="paragraph">
<p>Timestamps <strong class="purple">may</strong> only be meaningfully compared if they are written by
commands submitted to the same queue.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>An example of such a comparison is determining the execution time of a
sequence of commands.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdWriteTimestamp-queryPool-01416" href="#VUID-vkCmdWriteTimestamp-queryPool-01416"></a>
<code>queryPool</code> <strong class="purple">must</strong> have been created with a <code>queryType</code> of
<code>VK_QUERY_TYPE_TIMESTAMP</code></p>
</li>
<li>
<p><a id="VUID-vkCmdWriteTimestamp-queryPool-00828" href="#VUID-vkCmdWriteTimestamp-queryPool-00828"></a>
The query identified by <code>queryPool</code> and <code>query</code> <strong class="purple">must</strong> be
<em>unavailable</em></p>
</li>
<li>
<p><a id="VUID-vkCmdWriteTimestamp-timestampValidBits-00829" href="#VUID-vkCmdWriteTimestamp-timestampValidBits-00829"></a>
The command pool&#8217;s queue family <strong class="purple">must</strong> support a non-zero
<code>timestampValidBits</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdWriteTimestamp-commandBuffer-parameter" href="#VUID-vkCmdWriteTimestamp-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdWriteTimestamp-pipelineStage-parameter" href="#VUID-vkCmdWriteTimestamp-pipelineStage-parameter"></a> <code>pipelineStage</code> <strong class="purple">must</strong> be a valid <a href="#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdWriteTimestamp-queryPool-parameter" href="#VUID-vkCmdWriteTimestamp-queryPool-parameter"></a> <code>queryPool</code> <strong class="purple">must</strong> be a valid <a href="#VkQueryPool">VkQueryPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdWriteTimestamp-commandBuffer-recording" href="#VUID-vkCmdWriteTimestamp-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdWriteTimestamp-commandBuffer-cmdpool" href="#VUID-vkCmdWriteTimestamp-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support transfer, graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdWriteTimestamp-commonparent" href="#VUID-vkCmdWriteTimestamp-commonparent"></a> Both of <code>commandBuffer</code>, and <code>queryPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer<br>
Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clears"><a class="anchor" href="#clears"></a>17. Clear Commands</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="clears-outside"><a class="anchor" href="#clears-outside"></a>17.1. Clearing Images Outside A Render Pass Instance</h3>
<div class="paragraph">
<p>Color and depth/stencil images <strong class="purple">can</strong> be cleared outside a render pass
instance using <a href="#vkCmdClearColorImage">vkCmdClearColorImage</a> or
<a href="#vkCmdClearDepthStencilImage">vkCmdClearDepthStencilImage</a>, respectively.
These commands are only allowed outside of a render pass instance.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To clear one or more subranges of a color image, call:</p>
</div>
<div id="vkCmdClearColorImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdClearColorImage(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     image,
    VkImageLayout                               imageLayout,
    <span class="directive">const</span> VkClearColorValue*                    pColor,
    uint32_t                                    rangeCount,
    <span class="directive">const</span> VkImageSubresourceRange*              pRanges);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>image</code> is the image to be cleared.</p>
</li>
<li>
<p><code>imageLayout</code> specifies the current layout of the image subresource
ranges to be cleared, and <strong class="purple">must</strong> be
<code>VK_IMAGE_LAYOUT_GENERAL</code> or
<code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>.</p>
</li>
<li>
<p><code>pColor</code> is a pointer to a <a href="#VkClearColorValue">VkClearColorValue</a> structure
containing the values that the image subresource ranges will be cleared
to (see <a href="#clears-values">Clear Values</a> below).</p>
</li>
<li>
<p><code>rangeCount</code> is the number of image subresource range structures in
<code>pRanges</code>.</p>
</li>
<li>
<p><code>pRanges</code> is a pointer to an array of <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a>
structures describing a range of mipmap levels, array layers, and
aspects to be cleared, as described in <a href="#resources-image-views">Image
Views</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each specified range in <code>pRanges</code> is cleared to the value specified by
<code>pColor</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdClearColorImage-image-00002" href="#VUID-vkCmdClearColorImage-image-00002"></a>
<code>image</code> <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-image-00003" href="#VUID-vkCmdClearColorImage-image-00003"></a>
If <code>image</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-imageLayout-00004" href="#VUID-vkCmdClearColorImage-imageLayout-00004"></a>
<code>imageLayout</code> <strong class="purple">must</strong> specify the layout of the image subresource
ranges of <code>image</code> specified in <code>pRanges</code> at the time this
command is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-imageLayout-00005" href="#VUID-vkCmdClearColorImage-imageLayout-00005"></a>
<code>imageLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or
<code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-aspectMask-02498" href="#VUID-vkCmdClearColorImage-aspectMask-02498"></a>
The <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a>::<code>aspectMask</code> members of the
elements of the <code>pRanges</code> array <strong class="purple">must</strong> each only include
<code>VK_IMAGE_ASPECT_COLOR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-baseMipLevel-01470" href="#VUID-vkCmdClearColorImage-baseMipLevel-01470"></a>
The <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a>::<code>baseMipLevel</code> members of the
elements of the <code>pRanges</code> array <strong class="purple">must</strong> each be less than the
<code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-pRanges-01692" href="#VUID-vkCmdClearColorImage-pRanges-01692"></a>
For each <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a> element of <code>pRanges</code>, if the
<code>levelCount</code> member is not <code>VK_REMAINING_MIP_LEVELS</code>, then
<span class="eq"><code>baseMipLevel</code> +  <code>levelCount</code></span> <strong class="purple">must</strong> be less than the
<code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-baseArrayLayer-01472" href="#VUID-vkCmdClearColorImage-baseArrayLayer-01472"></a>
The <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a>::<code>baseArrayLayer</code> members of the
elements of the <code>pRanges</code> array <strong class="purple">must</strong> each be less than the
<code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-pRanges-01693" href="#VUID-vkCmdClearColorImage-pRanges-01693"></a>
For each <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a> element of <code>pRanges</code>, if the
<code>layerCount</code> member is not <code>VK_REMAINING_ARRAY_LAYERS</code>, then
<span class="eq"><code>baseArrayLayer</code> +  <code>layerCount</code></span> <strong class="purple">must</strong> be less than
the <code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when
<code>image</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-image-00007" href="#VUID-vkCmdClearColorImage-image-00007"></a>
<code>image</code> <strong class="purple">must</strong> not have a compressed or depth/stencil format</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdClearColorImage-commandBuffer-parameter" href="#VUID-vkCmdClearColorImage-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-image-parameter" href="#VUID-vkCmdClearColorImage-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-imageLayout-parameter" href="#VUID-vkCmdClearColorImage-imageLayout-parameter"></a> <code>imageLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-pColor-parameter" href="#VUID-vkCmdClearColorImage-pColor-parameter"></a> <code>pColor</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkClearColorValue">VkClearColorValue</a> union</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-pRanges-parameter" href="#VUID-vkCmdClearColorImage-pRanges-parameter"></a> <code>pRanges</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>rangeCount</code> valid <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-commandBuffer-recording" href="#VUID-vkCmdClearColorImage-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-commandBuffer-cmdpool" href="#VUID-vkCmdClearColorImage-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-renderpass" href="#VUID-vkCmdClearColorImage-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-rangeCount-arraylength" href="#VUID-vkCmdClearColorImage-rangeCount-arraylength"></a> <code>rangeCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdClearColorImage-commonparent" href="#VUID-vkCmdClearColorImage-commonparent"></a> Both of <code>commandBuffer</code>, and <code>image</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To clear one or more subranges of a depth/stencil image, call:</p>
</div>
<div id="vkCmdClearDepthStencilImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdClearDepthStencilImage(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     image,
    VkImageLayout                               imageLayout,
    <span class="directive">const</span> VkClearDepthStencilValue*             pDepthStencil,
    uint32_t                                    rangeCount,
    <span class="directive">const</span> VkImageSubresourceRange*              pRanges);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>image</code> is the image to be cleared.</p>
</li>
<li>
<p><code>imageLayout</code> specifies the current layout of the image subresource
ranges to be cleared, and <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_GENERAL</code> or
<code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>.</p>
</li>
<li>
<p><code>pDepthStencil</code> is a pointer to a <a href="#VkClearDepthStencilValue">VkClearDepthStencilValue</a>
structure containing the values that the depth and stencil image
subresource ranges will be cleared to (see <a href="#clears-values">Clear Values</a> below).</p>
</li>
<li>
<p><code>rangeCount</code> is the number of image subresource range structures in
<code>pRanges</code>.</p>
</li>
<li>
<p><code>pRanges</code> is a pointer to an array of <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a>
structures describing a range of mipmap levels, array layers, and
aspects to be cleared, as described in <a href="#resources-image-views">Image
Views</a>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-image-00009" href="#VUID-vkCmdClearDepthStencilImage-image-00009"></a>
<code>image</code> <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-image-00010" href="#VUID-vkCmdClearDepthStencilImage-image-00010"></a>
If <code>image</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-imageLayout-00011" href="#VUID-vkCmdClearDepthStencilImage-imageLayout-00011"></a>
<code>imageLayout</code> <strong class="purple">must</strong> specify the layout of the image subresource
ranges of <code>image</code> specified in <code>pRanges</code> at the time this
command is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-imageLayout-00012" href="#VUID-vkCmdClearDepthStencilImage-imageLayout-00012"></a>
<code>imageLayout</code> <strong class="purple">must</strong> be either of
<code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> or
<code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-aspectMask-02824" href="#VUID-vkCmdClearDepthStencilImage-aspectMask-02824"></a>
The <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a>::<code>aspectMask</code> member of each
element of the <code>pRanges</code> array <strong class="purple">must</strong> not include bits other than
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code>VK_IMAGE_ASPECT_STENCIL_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-image-02825" href="#VUID-vkCmdClearDepthStencilImage-image-02825"></a>
If the <code>image</code>&#8217;s format does not have a stencil component, then the
<a href="#VkImageSubresourceRange">VkImageSubresourceRange</a>::<code>aspectMask</code> member of each element
of the <code>pRanges</code> array <strong class="purple">must</strong> not include the
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code> bit</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-image-02826" href="#VUID-vkCmdClearDepthStencilImage-image-02826"></a>
If the <code>image</code>&#8217;s format does not have a depth component, then the
<a href="#VkImageSubresourceRange">VkImageSubresourceRange</a>::<code>aspectMask</code> member of each element
of the <code>pRanges</code> array <strong class="purple">must</strong> not include the
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> bit</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-baseMipLevel-01474" href="#VUID-vkCmdClearDepthStencilImage-baseMipLevel-01474"></a>
The <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a>::<code>baseMipLevel</code> members of the
elements of the <code>pRanges</code> array <strong class="purple">must</strong> each be less than the
<code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-pRanges-01694" href="#VUID-vkCmdClearDepthStencilImage-pRanges-01694"></a>
For each <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a> element of <code>pRanges</code>, if the
<code>levelCount</code> member is not <code>VK_REMAINING_MIP_LEVELS</code>, then
<span class="eq"><code>baseMipLevel</code> +  <code>levelCount</code></span> <strong class="purple">must</strong> be less than the
<code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-baseArrayLayer-01476" href="#VUID-vkCmdClearDepthStencilImage-baseArrayLayer-01476"></a>
The <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a>::<code>baseArrayLayer</code> members of the
elements of the <code>pRanges</code> array <strong class="purple">must</strong> each be less than the
<code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-pRanges-01695" href="#VUID-vkCmdClearDepthStencilImage-pRanges-01695"></a>
For each <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a> element of <code>pRanges</code>, if the
<code>layerCount</code> member is not <code>VK_REMAINING_ARRAY_LAYERS</code>, then
<span class="eq"><code>baseArrayLayer</code> +  <code>layerCount</code></span> <strong class="purple">must</strong> be less than
the <code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when
<code>image</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-image-00014" href="#VUID-vkCmdClearDepthStencilImage-image-00014"></a>
<code>image</code> <strong class="purple">must</strong> have a depth/stencil format</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-commandBuffer-parameter" href="#VUID-vkCmdClearDepthStencilImage-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-image-parameter" href="#VUID-vkCmdClearDepthStencilImage-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-imageLayout-parameter" href="#VUID-vkCmdClearDepthStencilImage-imageLayout-parameter"></a> <code>imageLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-pDepthStencil-parameter" href="#VUID-vkCmdClearDepthStencilImage-pDepthStencil-parameter"></a> <code>pDepthStencil</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="#VkClearDepthStencilValue">VkClearDepthStencilValue</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-pRanges-parameter" href="#VUID-vkCmdClearDepthStencilImage-pRanges-parameter"></a> <code>pRanges</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>rangeCount</code> valid <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-commandBuffer-recording" href="#VUID-vkCmdClearDepthStencilImage-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-commandBuffer-cmdpool" href="#VUID-vkCmdClearDepthStencilImage-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-renderpass" href="#VUID-vkCmdClearDepthStencilImage-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-rangeCount-arraylength" href="#VUID-vkCmdClearDepthStencilImage-rangeCount-arraylength"></a> <code>rangeCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdClearDepthStencilImage-commonparent" href="#VUID-vkCmdClearDepthStencilImage-commonparent"></a> Both of <code>commandBuffer</code>, and <code>image</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Clears outside render pass instances are treated as transfer operations for
the purposes of memory barriers.</p>
</div>
</div>
<div class="sect2">
<h3 id="clears-inside"><a class="anchor" href="#clears-inside"></a>17.2. Clearing Images Inside A Render Pass Instance</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To clear one or more regions of color and depth/stencil attachments inside a
render pass instance, call:</p>
</div>
<div id="vkCmdClearAttachments" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdClearAttachments(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    attachmentCount,
    <span class="directive">const</span> VkClearAttachment*                    pAttachments,
    uint32_t                                    rectCount,
    <span class="directive">const</span> VkClearRect*                          pRects);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>attachmentCount</code> is the number of entries in the <code>pAttachments</code>
array.</p>
</li>
<li>
<p><code>pAttachments</code> is a pointer to an array of <a href="#VkClearAttachment">VkClearAttachment</a>
structures defining the attachments to clear and the clear values to
use.
If any attachment to be cleared in the current subpass is
<code>VK_ATTACHMENT_UNUSED</code>, then the clear has no effect on that
attachment.</p>
</li>
<li>
<p><code>rectCount</code> is the number of entries in the <code>pRects</code> array.</p>
</li>
<li>
<p><code>pRects</code> is a pointer to an array of <a href="#VkClearRect">VkClearRect</a> structures
defining regions within each selected attachment to clear.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdClearAttachments</code> <strong class="purple">can</strong> clear multiple regions of each attachment
used in the current subpass of a render pass instance.
This command <strong class="purple">must</strong> be called only inside a render pass instance, and
implicitly selects the images to clear based on the current framebuffer
attachments and the command parameters.</p>
</div>
<div class="paragraph">
<p>Unlike other <a href="#clears">clear commands</a>, <a href="#vkCmdClearAttachments">vkCmdClearAttachments</a> executes
as a drawing command, rather than a transfer command, with writes performed
by it executing in <a href="#primrast-order">rasterization order</a>.
Clears to color attachments are executed as color attachment writes, by the
<code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code> stage.
Clears to depth/stencil attachments are executed as <a href="#fragops-depth">depth
writes</a> and <a href="#fragops-stencil">writes</a> by the
<code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code> and
<code>VK_PIPELINE_STAGE_LATE_FRAGMENT_TESTS_BIT</code> stages.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdClearAttachments-aspectMask-02501" href="#VUID-vkCmdClearAttachments-aspectMask-02501"></a>
If the <code>aspectMask</code> member of any element of <code>pAttachments</code>
contains <code>VK_IMAGE_ASPECT_COLOR_BIT</code>, then the <code>colorAttachment</code>
member of that element <strong class="purple">must</strong> either refer to a color attachment which is
<code>VK_ATTACHMENT_UNUSED</code>, or <strong class="purple">must</strong> be a valid color attachment.</p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-aspectMask-02502" href="#VUID-vkCmdClearAttachments-aspectMask-02502"></a>
If the <code>aspectMask</code> member of any element of <code>pAttachments</code>
contains <code>VK_IMAGE_ASPECT_DEPTH_BIT</code>, then the current subpass'
depth/stencil attachment <strong class="purple">must</strong> either be <code>VK_ATTACHMENT_UNUSED</code>, or
<strong class="purple">must</strong> have a depth component</p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-aspectMask-02503" href="#VUID-vkCmdClearAttachments-aspectMask-02503"></a>
If the <code>aspectMask</code> member of any element of <code>pAttachments</code>
contains <code>VK_IMAGE_ASPECT_STENCIL_BIT</code>, then the current subpass'
depth/stencil attachment <strong class="purple">must</strong> either be <code>VK_ATTACHMENT_UNUSED</code>, or
<strong class="purple">must</strong> have a stencil component</p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-rect-02682" href="#VUID-vkCmdClearAttachments-rect-02682"></a>
The <code>rect</code> member of each element of <code>pRects</code> <strong class="purple">must</strong> have an
<code>extent.width</code> greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-rect-02683" href="#VUID-vkCmdClearAttachments-rect-02683"></a>
The <code>rect</code> member of each element of <code>pRects</code> <strong class="purple">must</strong> have an
<code>extent.height</code> greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-pRects-00016" href="#VUID-vkCmdClearAttachments-pRects-00016"></a>
The rectangular region specified by each element of <code>pRects</code> <strong class="purple">must</strong>
be contained within the render area of the current render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-pRects-00017" href="#VUID-vkCmdClearAttachments-pRects-00017"></a>
The layers specified by each element of <code>pRects</code> <strong class="purple">must</strong> be contained
within every attachment that <code>pAttachments</code> refers to</p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-layerCount-01934" href="#VUID-vkCmdClearAttachments-layerCount-01934"></a>
The <code>layerCount</code> member of each element of <code>pRects</code> <strong class="purple">must</strong> not be
<code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdClearAttachments-commandBuffer-parameter" href="#VUID-vkCmdClearAttachments-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-pAttachments-parameter" href="#VUID-vkCmdClearAttachments-pAttachments-parameter"></a> <code>pAttachments</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>attachmentCount</code> valid <a href="#VkClearAttachment">VkClearAttachment</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-pRects-parameter" href="#VUID-vkCmdClearAttachments-pRects-parameter"></a> <code>pRects</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>rectCount</code> <a href="#VkClearRect">VkClearRect</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-commandBuffer-recording" href="#VUID-vkCmdClearAttachments-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-commandBuffer-cmdpool" href="#VUID-vkCmdClearAttachments-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-renderpass" href="#VUID-vkCmdClearAttachments-renderpass"></a> This command <strong class="purple">must</strong> only be called inside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-attachmentCount-arraylength" href="#VUID-vkCmdClearAttachments-attachmentCount-arraylength"></a> <code>attachmentCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdClearAttachments-rectCount-arraylength" href="#VUID-vkCmdClearAttachments-rectCount-arraylength"></a> <code>rectCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkClearRect</code> structure is defined as:</p>
</div>
<div id="VkClearRect" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkClearRect {
    VkRect2D    rect;
    uint32_t    baseArrayLayer;
    uint32_t    layerCount;
} VkClearRect;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rect</code> is the two-dimensional region to be cleared.</p>
</li>
<li>
<p><code>baseArrayLayer</code> is the first layer to be cleared.</p>
</li>
<li>
<p><code>layerCount</code> is the number of layers to clear.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The layers <span class="eq">[<code>baseArrayLayer</code>, <code>baseArrayLayer</code> + 
<code>layerCount</code>)</span> counting from the base layer of the attachment image view
are cleared.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkClearAttachment</code> structure is defined as:</p>
</div>
<div id="VkClearAttachment" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkClearAttachment {
    VkImageAspectFlags    aspectMask;
    uint32_t              colorAttachment;
    VkClearValue          clearValue;
} VkClearAttachment;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>aspectMask</code> is a mask selecting the color, depth and/or stencil
aspects of the attachment to be cleared.</p>
</li>
<li>
<p><code>colorAttachment</code> is only meaningful if
<code>VK_IMAGE_ASPECT_COLOR_BIT</code> is set in <code>aspectMask</code>, in which
case it is an index to the <code>pColorAttachments</code> array in the
<a href="#VkSubpassDescription">VkSubpassDescription</a> structure of the current subpass which
selects the color attachment to clear.</p>
</li>
<li>
<p><code>clearValue</code> is the color or depth/stencil value to clear the
attachment to, as described in <a href="#clears-values">Clear Values</a> below.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>No memory barriers are needed between <code>vkCmdClearAttachments</code> and
preceding or subsequent draw or attachment clear commands in the same
subpass.</p>
</div>
<div class="paragraph">
<p>The <code>vkCmdClearAttachments</code> command is not affected by the bound
pipeline state.</p>
</div>
<div class="paragraph">
<p>Attachments <strong class="purple">can</strong> also be cleared at the beginning of a render pass instance
by setting <code>loadOp</code> (or <code>stencilLoadOp</code>) of
<a href="#VkAttachmentDescription">VkAttachmentDescription</a> to <code>VK_ATTACHMENT_LOAD_OP_CLEAR</code>, as
described for <a href="#vkCreateRenderPass">vkCreateRenderPass</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkClearAttachment-aspectMask-00019" href="#VUID-VkClearAttachment-aspectMask-00019"></a>
If <code>aspectMask</code> includes <code>VK_IMAGE_ASPECT_COLOR_BIT</code>, it <strong class="purple">must</strong>
not include <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkClearAttachment-aspectMask-00020" href="#VUID-VkClearAttachment-aspectMask-00020"></a>
<code>aspectMask</code> <strong class="purple">must</strong> not include <code>VK_IMAGE_ASPECT_METADATA_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkClearAttachment-clearValue-00021" href="#VUID-VkClearAttachment-clearValue-00021"></a>
<code>clearValue</code> <strong class="purple">must</strong> be a valid <code>VkClearValue</code> union</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkClearAttachment-aspectMask-parameter" href="#VUID-VkClearAttachment-aspectMask-parameter"></a> <code>aspectMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkClearAttachment-aspectMask-requiredbitmask" href="#VUID-VkClearAttachment-aspectMask-requiredbitmask"></a> <code>aspectMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="clears-values"><a class="anchor" href="#clears-values"></a>17.3. Clear Values</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkClearColorValue</code> structure is defined as:</p>
</div>
<div id="VkClearColorValue" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">union</span> VkClearColorValue {
    <span class="predefined-type">float</span>       float32[<span class="integer">4</span>];
    int32_t     int32[<span class="integer">4</span>];
    uint32_t    uint32[<span class="integer">4</span>];
} VkClearColorValue;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>float32</code> are the color clear values when the format of the image or
attachment is one of the formats in the <a href="#formats-numericformat">Interpretation of Numeric Format</a> table
other than signed integer (<code>SINT</code>) or unsigned integer (<code>UINT</code>).
Floating point values are automatically converted to the format of the
image, with the clear value being treated as linear if the image is
sRGB.</p>
</li>
<li>
<p><code>int32</code> are the color clear values when the format of the image or
attachment is signed integer (<code>SINT</code>).
Signed integer values are converted to the format of the image by
casting to the smaller type (with negative 32-bit values mapping to
negative values in the smaller type).
If the integer clear value is not representable in the target type (e.g.
would overflow in conversion to that type), the clear value is
undefined.</p>
</li>
<li>
<p><code>uint32</code> are the color clear values when the format of the image or
attachment is unsigned integer (<code>UINT</code>).
Unsigned integer values are converted to the format of the image by
casting to the integer type with fewer bits.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The four array elements of the clear color map to R, G, B, and A components
of image formats, in order.</p>
</div>
<div class="paragraph">
<p>If the image has more than one sample, the same value is written to all
samples for any pixels being cleared.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkClearDepthStencilValue</code> structure is defined as:</p>
</div>
<div id="VkClearDepthStencilValue" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkClearDepthStencilValue {
    <span class="predefined-type">float</span>       depth;
    uint32_t    stencil;
} VkClearDepthStencilValue;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>depth</code> is the clear value for the depth aspect of the depth/stencil
attachment.
It is a floating-point value which is automatically converted to the
attachment&#8217;s format.</p>
</li>
<li>
<p><code>stencil</code> is the clear value for the stencil aspect of the
depth/stencil attachment.
It is a 32-bit integer value which is converted to the attachment&#8217;s
format by taking the appropriate number of LSBs.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkClearDepthStencilValue-depth-02506" href="#VUID-VkClearDepthStencilValue-depth-02506"></a>
<code>depth</code> <strong class="purple">must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkClearValue</code> union is defined as:</p>
</div>
<div id="VkClearValue" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">union</span> VkClearValue {
    VkClearColorValue           color;
    VkClearDepthStencilValue    depthStencil;
} VkClearValue;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>color</code> specifies the color image clear values to use when clearing
a color image or attachment.</p>
</li>
<li>
<p><code>depthStencil</code> specifies the depth and stencil clear values to use
when clearing a depth/stencil image or attachment.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This union is used where part of the API requires either color or
depth/stencil clear values, depending on the attachment, and defines the
initial clear values in the <a href="#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a> structure.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="clears-filling-buffers"><a class="anchor" href="#clears-filling-buffers"></a>17.4. Filling Buffers</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To clear buffer data, call:</p>
</div>
<div id="vkCmdFillBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdFillBuffer(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    dstBuffer,
    VkDeviceSize                                dstOffset,
    VkDeviceSize                                size,
    uint32_t                                    data);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>dstBuffer</code> is the buffer to be filled.</p>
</li>
<li>
<p><code>dstOffset</code> is the byte offset into the buffer at which to start
filling, and <strong class="purple">must</strong> be a multiple of 4.</p>
</li>
<li>
<p><code>size</code> is the number of bytes to fill, and <strong class="purple">must</strong> be either a
multiple of 4, or <code>VK_WHOLE_SIZE</code> to fill the range from
<code>offset</code> to the end of the buffer.
If <code>VK_WHOLE_SIZE</code> is used and the remaining size of the buffer is
not a multiple of 4, then the nearest smaller multiple is used.</p>
</li>
<li>
<p><code>data</code> is the 4-byte word written repeatedly to the buffer to fill
<code>size</code> bytes of data.
The data word is written to memory according to the host endianness.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdFillBuffer</code> is treated as &#8220;transfer&#8221; operation for the purposes
of synchronization barriers.
The <code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> <strong class="purple">must</strong> be specified in <code>usage</code>
of <code>VkBufferCreateInfo</code> in order for the buffer to be compatible with
<code>vkCmdFillBuffer</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdFillBuffer-dstOffset-00024" href="#VUID-vkCmdFillBuffer-dstOffset-00024"></a>
<code>dstOffset</code> <strong class="purple">must</strong> be less than the size of <code>dstBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-dstOffset-00025" href="#VUID-vkCmdFillBuffer-dstOffset-00025"></a>
<code>dstOffset</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-size-00026" href="#VUID-vkCmdFillBuffer-size-00026"></a>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <strong class="purple">must</strong> be
greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-size-00027" href="#VUID-vkCmdFillBuffer-size-00027"></a>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <strong class="purple">must</strong> be
less than or equal to the size of <code>dstBuffer</code> minus <code>dstOffset</code></p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-size-00028" href="#VUID-vkCmdFillBuffer-size-00028"></a>
If <code>size</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>size</code> <strong class="purple">must</strong> be a
multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-dstBuffer-00029" href="#VUID-vkCmdFillBuffer-dstBuffer-00029"></a>
<code>dstBuffer</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-commandBuffer-00030" href="#VUID-vkCmdFillBuffer-commandBuffer-00030"></a>
The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from
<strong class="purple">must</strong> support graphics or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-dstBuffer-00031" href="#VUID-vkCmdFillBuffer-dstBuffer-00031"></a>
If <code>dstBuffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdFillBuffer-commandBuffer-parameter" href="#VUID-vkCmdFillBuffer-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-dstBuffer-parameter" href="#VUID-vkCmdFillBuffer-dstBuffer-parameter"></a> <code>dstBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-commandBuffer-recording" href="#VUID-vkCmdFillBuffer-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-commandBuffer-cmdpool" href="#VUID-vkCmdFillBuffer-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-renderpass" href="#VUID-vkCmdFillBuffer-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdFillBuffer-commonparent" href="#VUID-vkCmdFillBuffer-commonparent"></a> Both of <code>commandBuffer</code>, and <code>dstBuffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="clears-updating-buffers"><a class="anchor" href="#clears-updating-buffers"></a>17.5. Updating Buffers</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To update buffer data inline in a command buffer, call:</p>
</div>
<div id="vkCmdUpdateBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdUpdateBuffer(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    dstBuffer,
    VkDeviceSize                                dstOffset,
    VkDeviceSize                                dataSize,
    <span class="directive">const</span> <span class="directive">void</span>*                                 pData);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>dstBuffer</code> is a handle to the buffer to be updated.</p>
</li>
<li>
<p><code>dstOffset</code> is the byte offset into the buffer to start updating,
and <strong class="purple">must</strong> be a multiple of 4.</p>
</li>
<li>
<p><code>dataSize</code> is the number of bytes to update, and <strong class="purple">must</strong> be a multiple
of 4.</p>
</li>
<li>
<p><code>pData</code> is a pointer to the source data for the buffer update, and
<strong class="purple">must</strong> be at least <code>dataSize</code> bytes in size.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>dataSize</code> <strong class="purple">must</strong> be less than or equal to 65536 bytes.
For larger updates, applications <strong class="purple">can</strong> use buffer to buffer
<a href="#copies-buffers">copies</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Buffer updates performed with <code>vkCmdUpdateBuffer</code> first copy the data
into command buffer memory when the command is recorded (which requires
additional storage and may incur an additional allocation), and then copy
the data from the command buffer into <code>dstBuffer</code> when the command is
executed on a device.</p>
</div>
<div class="paragraph">
<p>The additional cost of this functionality compared to <a href="#copies-buffers">buffer to buffer copies</a> means it is only recommended for very small
amounts of data, and is why it is limited to only 65536 bytes.</p>
</div>
<div class="paragraph">
<p>Applications <strong class="purple">can</strong> work around this by issuing multiple
<code>vkCmdUpdateBuffer</code> commands to different ranges of the same buffer, but
it is strongly recommended that they <strong class="purple">should</strong> not.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The source data is copied from the user pointer to the command buffer when
the command is called.</p>
</div>
<div class="paragraph">
<p><code>vkCmdUpdateBuffer</code> is only allowed outside of a render pass.
This command is treated as &#8220;transfer&#8221; operation, for the purposes of
synchronization barriers.
The <code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> <strong class="purple">must</strong> be specified in <code>usage</code>
of <a href="#VkBufferCreateInfo">VkBufferCreateInfo</a> in order for the buffer to be compatible with
<code>vkCmdUpdateBuffer</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-dstOffset-00032" href="#VUID-vkCmdUpdateBuffer-dstOffset-00032"></a>
<code>dstOffset</code> <strong class="purple">must</strong> be less than the size of <code>dstBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-dataSize-00033" href="#VUID-vkCmdUpdateBuffer-dataSize-00033"></a>
<code>dataSize</code> <strong class="purple">must</strong> be less than or equal to the size of
<code>dstBuffer</code> minus <code>dstOffset</code></p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-dstBuffer-00034" href="#VUID-vkCmdUpdateBuffer-dstBuffer-00034"></a>
<code>dstBuffer</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-dstBuffer-00035" href="#VUID-vkCmdUpdateBuffer-dstBuffer-00035"></a>
If <code>dstBuffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-dstOffset-00036" href="#VUID-vkCmdUpdateBuffer-dstOffset-00036"></a>
<code>dstOffset</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-dataSize-00037" href="#VUID-vkCmdUpdateBuffer-dataSize-00037"></a>
<code>dataSize</code> <strong class="purple">must</strong> be less than or equal to <code>65536</code></p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-dataSize-00038" href="#VUID-vkCmdUpdateBuffer-dataSize-00038"></a>
<code>dataSize</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-commandBuffer-parameter" href="#VUID-vkCmdUpdateBuffer-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-dstBuffer-parameter" href="#VUID-vkCmdUpdateBuffer-dstBuffer-parameter"></a> <code>dstBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-pData-parameter" href="#VUID-vkCmdUpdateBuffer-pData-parameter"></a> <code>pData</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-commandBuffer-recording" href="#VUID-vkCmdUpdateBuffer-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-commandBuffer-cmdpool" href="#VUID-vkCmdUpdateBuffer-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support transfer, graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-renderpass" href="#VUID-vkCmdUpdateBuffer-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-dataSize-arraylength" href="#VUID-vkCmdUpdateBuffer-dataSize-arraylength"></a> <code>dataSize</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdUpdateBuffer-commonparent" href="#VUID-vkCmdUpdateBuffer-commonparent"></a> Both of <code>commandBuffer</code>, and <code>dstBuffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer<br>
Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>pData</code> parameter was of type <code>uint32_t</code>* instead of <code>void</code>*
prior to version 1.0.19 of the Specification and <a href="#VK_HEADER_VERSION">VK_HEADER_VERSION</a> 19
of the <a href="#boilerplate-headers">Vulkan Header Files</a>.
This was a historical anomaly, as the source data may be of other types.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copies"><a class="anchor" href="#copies"></a>18. Copy Commands</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An application <strong class="purple">can</strong> copy buffer and image data using several methods
depending on the type of data transfer.
Data <strong class="purple">can</strong> be copied between buffer objects with <code>vkCmdCopyBuffer</code> and a
portion of an image <strong class="purple">can</strong> be copied to another image with
<code>vkCmdCopyImage</code>.
Image data <strong class="purple">can</strong> also be copied to and from buffer memory using
<code>vkCmdCopyImageToBuffer</code> and <code>vkCmdCopyBufferToImage</code>.
Image data <strong class="purple">can</strong> be blitted (with or without scaling and filtering) with
<code>vkCmdBlitImage</code>.
Multisampled images <strong class="purple">can</strong> be resolved to a non-multisampled image with
<code>vkCmdResolveImage</code>.</p>
</div>
<div class="sect2">
<h3 id="_common_operation"><a class="anchor" href="#_common_operation"></a>18.1. Common Operation</h3>
<div class="paragraph">
<p>The following valid usage rules apply to all copy commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Copy commands <strong class="purple">must</strong> be recorded outside of a render pass instance.</p>
</li>
<li>
<p>The set of all bytes bound to all the source regions <strong class="purple">must</strong> not overlap
the set of all bytes bound to the destination regions.</p>
</li>
<li>
<p>The set of all bytes bound to each destination region <strong class="purple">must</strong> not overlap
the set of all bytes bound to another destination region.</p>
</li>
<li>
<p>Copy regions <strong class="purple">must</strong> be non-empty.</p>
</li>
<li>
<p>Regions <strong class="purple">must</strong> not extend outside the bounds of the buffer or image
level, except that regions of compressed images <strong class="purple">can</strong> extend as far as
the dimension of the image level rounded up to a complete compressed
texel block.</p>
</li>
<li>
<p>Source image subresources <strong class="purple">must</strong> be in either the
<code>VK_IMAGE_LAYOUT_GENERAL</code> or
<code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> layout.
Destination image subresources <strong class="purple">must</strong> be in the
<code>VK_IMAGE_LAYOUT_GENERAL</code> or
<code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> layout.
As a consequence, if an image subresource is used as both source and
destination of a copy, it <strong class="purple">must</strong> be in the <code>VK_IMAGE_LAYOUT_GENERAL</code>
layout.</p>
</li>
<li>
<p>Source buffers <strong class="purple">must</strong> have been created with the
<code>VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> usage bit enabled and destination
buffers <strong class="purple">must</strong> have been created with the
<code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage bit enabled.</p>
</li>
<li>
<p>Source images <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> set in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>usage</code></p>
</li>
<li>
<p>Destination images <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> set in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>usage</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All copy commands are treated as &#8220;transfer&#8221; operations for the purposes of
synchronization barriers.</p>
</div>
<div class="paragraph">
<p>All copy commands that have a source format with an X component in its
format description read undefined values from those bits.</p>
</div>
<div class="paragraph">
<p>All copy commands that have a destination format with an X component in its
format description write undefined values to those bits.</p>
</div>
</div>
<div class="sect2">
<h3 id="copies-buffers"><a class="anchor" href="#copies-buffers"></a>18.2. Copying Data Between Buffers</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To copy data between buffer objects, call:</p>
</div>
<div id="vkCmdCopyBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdCopyBuffer(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    srcBuffer,
    VkBuffer                                    dstBuffer,
    uint32_t                                    regionCount,
    <span class="directive">const</span> VkBufferCopy*                         pRegions);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>srcBuffer</code> is the source buffer.</p>
</li>
<li>
<p><code>dstBuffer</code> is the destination buffer.</p>
</li>
<li>
<p><code>regionCount</code> is the number of regions to copy.</p>
</li>
<li>
<p><code>pRegions</code> is a pointer to an array of <a href="#VkBufferCopy">VkBufferCopy</a> structures
specifying the regions to copy.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each region in <code>pRegions</code> is copied from the source buffer to the same
region of the destination buffer.
<code>srcBuffer</code> and <code>dstBuffer</code> <strong class="purple">can</strong> be the same buffer or alias the
same memory, but the resulting values are undefined if the copy regions
overlap in memory.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdCopyBuffer-srcOffset-00113" href="#VUID-vkCmdCopyBuffer-srcOffset-00113"></a>
The <code>srcOffset</code> member of each element of <code>pRegions</code> <strong class="purple">must</strong> be
less than the size of <code>srcBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-dstOffset-00114" href="#VUID-vkCmdCopyBuffer-dstOffset-00114"></a>
The <code>dstOffset</code> member of each element of <code>pRegions</code> <strong class="purple">must</strong> be
less than the size of <code>dstBuffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-size-00115" href="#VUID-vkCmdCopyBuffer-size-00115"></a>
The <code>size</code> member of each element of <code>pRegions</code> <strong class="purple">must</strong> be less
than or equal to the size of <code>srcBuffer</code> minus <code>srcOffset</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-size-00116" href="#VUID-vkCmdCopyBuffer-size-00116"></a>
The <code>size</code> member of each element of <code>pRegions</code> <strong class="purple">must</strong> be less
than or equal to the size of <code>dstBuffer</code> minus <code>dstOffset</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-pRegions-00117" href="#VUID-vkCmdCopyBuffer-pRegions-00117"></a>
The union of the source regions, and the union of the destination
regions, specified by the elements of <code>pRegions</code>, <strong class="purple">must</strong> not overlap
in memory</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-srcBuffer-00118" href="#VUID-vkCmdCopyBuffer-srcBuffer-00118"></a>
<code>srcBuffer</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-srcBuffer-00119" href="#VUID-vkCmdCopyBuffer-srcBuffer-00119"></a>
If <code>srcBuffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-dstBuffer-00120" href="#VUID-vkCmdCopyBuffer-dstBuffer-00120"></a>
<code>dstBuffer</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-dstBuffer-00121" href="#VUID-vkCmdCopyBuffer-dstBuffer-00121"></a>
If <code>dstBuffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdCopyBuffer-commandBuffer-parameter" href="#VUID-vkCmdCopyBuffer-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-srcBuffer-parameter" href="#VUID-vkCmdCopyBuffer-srcBuffer-parameter"></a> <code>srcBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-dstBuffer-parameter" href="#VUID-vkCmdCopyBuffer-dstBuffer-parameter"></a> <code>dstBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-pRegions-parameter" href="#VUID-vkCmdCopyBuffer-pRegions-parameter"></a> <code>pRegions</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>regionCount</code> valid <a href="#VkBufferCopy">VkBufferCopy</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-commandBuffer-recording" href="#VUID-vkCmdCopyBuffer-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-commandBuffer-cmdpool" href="#VUID-vkCmdCopyBuffer-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support transfer, graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-renderpass" href="#VUID-vkCmdCopyBuffer-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-regionCount-arraylength" href="#VUID-vkCmdCopyBuffer-regionCount-arraylength"></a> <code>regionCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBuffer-commonparent" href="#VUID-vkCmdCopyBuffer-commonparent"></a> Each of <code>commandBuffer</code>, <code>dstBuffer</code>, and <code>srcBuffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer<br>
Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBufferCopy</code> structure is defined as:</p>
</div>
<div id="VkBufferCopy" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkBufferCopy {
    VkDeviceSize    srcOffset;
    VkDeviceSize    dstOffset;
    VkDeviceSize    size;
} VkBufferCopy;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>srcOffset</code> is the starting offset in bytes from the start of
<code>srcBuffer</code>.</p>
</li>
<li>
<p><code>dstOffset</code> is the starting offset in bytes from the start of
<code>dstBuffer</code>.</p>
</li>
<li>
<p><code>size</code> is the number of bytes to copy.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferCopy-size-01988" href="#VUID-VkBufferCopy-size-01988"></a>
The <code>size</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="copies-images"><a class="anchor" href="#copies-images"></a>18.3. Copying Data Between Images</h3>
<div class="paragraph">
<p><code>vkCmdCopyImage</code> performs image copies in a similar manner to a host
memcpy.
It does not perform general-purpose conversions such as scaling, resizing,
blending, color-space conversion, or format conversions.
Rather, it simply copies raw image data.
<code>vkCmdCopyImage</code> <strong class="purple">can</strong> copy between images with different formats,
provided the formats are compatible as defined below.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To copy data between image objects, call:</p>
</div>
<div id="vkCmdCopyImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdCopyImage(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     srcImage,
    VkImageLayout                               srcImageLayout,
    VkImage                                     dstImage,
    VkImageLayout                               dstImageLayout,
    uint32_t                                    regionCount,
    <span class="directive">const</span> VkImageCopy*                          pRegions);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>srcImage</code> is the source image.</p>
</li>
<li>
<p><code>srcImageLayout</code> is the current layout of the source image
subresource.</p>
</li>
<li>
<p><code>dstImage</code> is the destination image.</p>
</li>
<li>
<p><code>dstImageLayout</code> is the current layout of the destination image
subresource.</p>
</li>
<li>
<p><code>regionCount</code> is the number of regions to copy.</p>
</li>
<li>
<p><code>pRegions</code> is a pointer to an array of <a href="#VkImageCopy">VkImageCopy</a> structures
specifying the regions to copy.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each region in <code>pRegions</code> is copied from the source image to the same
region of the destination image.
<code>srcImage</code> and <code>dstImage</code> <strong class="purple">can</strong> be the same image or alias the same
memory.</p>
</div>
<div id="copies-images-format-compatibility" class="paragraph">
<p>The formats of <code>srcImage</code> and <code>dstImage</code> <strong class="purple">must</strong> be compatible.
Formats are compatible if they share the same class, as shown in the
<a href="#formats-compatibility">Compatible Formats</a> table.
Depth/stencil formats <strong class="purple">must</strong> match exactly.</p>
</div>
<div id="copies-images-format-size-compatibility" class="paragraph">
<p><code>vkCmdCopyImage</code> allows copying between <em>size-compatible</em> compressed and
uncompressed internal formats.
Formats are size-compatible if the texel block size of the uncompressed
format is equal to the texel block size of the compressed format.
Such a copy does not perform on-the-fly compression or decompression.
When copying from an uncompressed format to a compressed format, each texel
of uncompressed data of the source image is copied as a raw value to the
corresponding compressed texel block of the destination image.
When copying from a compressed format to an uncompressed format, each
compressed texel block of the source image is copied as a raw value to the
corresponding texel of uncompressed data in the destination image.
Thus, for example, it is legal to copy between a 128-bit uncompressed format
and a compressed format which has a 128-bit sized compressed texel block
representing 44 texels (using 8 bits per texel), or between a 64-bit
uncompressed format and a compressed format which has a 64-bit sized
compressed texel block representing 44 texels (using 4 bits per
texel).</p>
</div>
<div class="paragraph">
<p>When copying between compressed and uncompressed formats the <code>extent</code>
members represent the texel dimensions of the source image and not the
destination.
When copying from a compressed image to an uncompressed image the image
texel dimensions written to the uncompressed image will be source extent
divided by the compressed texel block dimensions.
When copying from an uncompressed image to a compressed image the image
texel dimensions written to the compressed image will be the source extent
multiplied by the compressed texel block dimensions.
In both cases the number of bytes read and the number of bytes written will
be identical.</p>
</div>
<div class="paragraph">
<p>Copying to or from block-compressed images is typically done in multiples of
the compressed texel block size.
For this reason the <code>extent</code> <strong class="purple">must</strong> be a multiple of the compressed texel
block dimension.
There is one exception to this rule which is <strong class="purple">required</strong> to handle compressed
images created with dimensions that are not a multiple of the compressed
texel block dimensions: if the <code>srcImage</code> is compressed, then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>extent.width</code> is not a multiple of the compressed texel block
width, then <span class="eq">(<code>extent.width</code> +  <code>srcOffset.x</code>)</span> <strong class="purple">must</strong>
equal the image subresource width.</p>
</li>
<li>
<p>If <code>extent.height</code> is not a multiple of the compressed texel block
height, then <span class="eq">(<code>extent.height</code> +  <code>srcOffset.y</code>)</span> <strong class="purple">must</strong>
equal the image subresource height.</p>
</li>
<li>
<p>If <code>extent.depth</code> is not a multiple of the compressed texel block
depth, then <span class="eq">(<code>extent.depth</code> +  <code>srcOffset.z</code>)</span> <strong class="purple">must</strong>
equal the image subresource depth.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Similarly, if the <code>dstImage</code> is compressed, then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>extent.width</code> is not a multiple of the compressed texel block
width, then <span class="eq">(<code>extent.width</code> +  <code>dstOffset.x</code>)</span> <strong class="purple">must</strong>
equal the image subresource width.</p>
</li>
<li>
<p>If <code>extent.height</code> is not a multiple of the compressed texel block
height, then <span class="eq">(<code>extent.height</code> +  <code>dstOffset.y</code>)</span> <strong class="purple">must</strong>
equal the image subresource height.</p>
</li>
<li>
<p>If <code>extent.depth</code> is not a multiple of the compressed texel block
depth, then <span class="eq">(<code>extent.depth</code> +  <code>dstOffset.z</code>)</span> <strong class="purple">must</strong>
equal the image subresource depth.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This allows the last compressed texel block of the image in each
non-multiple dimension to be included as a source or destination of the
copy.</p>
</div>
<div class="paragraph">
<p><code>vkCmdCopyImage</code> <strong class="purple">can</strong> be used to copy image data between multisample
images, but both images <strong class="purple">must</strong> have the same number of samples.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdCopyImage-pRegions-00124" href="#VUID-vkCmdCopyImage-pRegions-00124"></a>
The union of all source regions, and the union of all destination
regions, specified by the elements of <code>pRegions</code>, <strong class="purple">must</strong> not overlap
in memory</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-srcImage-00126" href="#VUID-vkCmdCopyImage-srcImage-00126"></a>
<code>srcImage</code> <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-srcImage-00127" href="#VUID-vkCmdCopyImage-srcImage-00127"></a>
If <code>srcImage</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-srcImageLayout-00128" href="#VUID-vkCmdCopyImage-srcImageLayout-00128"></a>
<code>srcImageLayout</code> <strong class="purple">must</strong> specify the layout of the image subresources
of <code>srcImage</code> specified in <code>pRegions</code> at the time this command
is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-srcImageLayout-00129" href="#VUID-vkCmdCopyImage-srcImageLayout-00129"></a>
<code>srcImageLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code>
or <code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-dstImage-00131" href="#VUID-vkCmdCopyImage-dstImage-00131"></a>
<code>dstImage</code> <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-dstImage-00132" href="#VUID-vkCmdCopyImage-dstImage-00132"></a>
If <code>dstImage</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-dstImageLayout-00133" href="#VUID-vkCmdCopyImage-dstImageLayout-00133"></a>
<code>dstImageLayout</code> <strong class="purple">must</strong> specify the layout of the image subresources
of <code>dstImage</code> specified in <code>pRegions</code> at the time this command
is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-dstImageLayout-00134" href="#VUID-vkCmdCopyImage-dstImageLayout-00134"></a>
<code>dstImageLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>
or <code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-srcImage-00135" href="#VUID-vkCmdCopyImage-srcImage-00135"></a>
The <a href="#VkFormat">VkFormat</a> of each of <code>srcImage</code> and <code>dstImage</code> <strong class="purple">must</strong> be
compatible, as defined <a href="#copies-images-format-compatibility">above</a></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-srcImage-00136" href="#VUID-vkCmdCopyImage-srcImage-00136"></a>
The sample count of <code>srcImage</code> and <code>dstImage</code> <strong class="purple">must</strong> match</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-srcSubresource-01696" href="#VUID-vkCmdCopyImage-srcSubresource-01696"></a>
The <code>srcSubresource.mipLevel</code> member of each element of
<code>pRegions</code> <strong class="purple">must</strong> be less than the <code>mipLevels</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>srcImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-dstSubresource-01697" href="#VUID-vkCmdCopyImage-dstSubresource-01697"></a>
The <code>dstSubresource.mipLevel</code> member of each element of
<code>pRegions</code> <strong class="purple">must</strong> be less than the <code>mipLevels</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>dstImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-srcSubresource-01698" href="#VUID-vkCmdCopyImage-srcSubresource-01698"></a>
The <span class="eq"><code>srcSubresource.baseArrayLayer</code> + 
<code>srcSubresource.layerCount</code></span> of each element of <code>pRegions</code> <strong class="purple">must</strong>
be less than or equal to the <code>arrayLayers</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>srcImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-dstSubresource-01699" href="#VUID-vkCmdCopyImage-dstSubresource-01699"></a>
The <span class="eq"><code>dstSubresource.baseArrayLayer</code> + 
<code>dstSubresource.layerCount</code></span> of each element of <code>pRegions</code> <strong class="purple">must</strong>
be less than or equal to the <code>arrayLayers</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>dstImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-srcOffset-01783" href="#VUID-vkCmdCopyImage-srcOffset-01783"></a>
The <code>srcOffset</code> and <code>extent</code> members of each element of
<code>pRegions</code> <strong class="purple">must</strong> respect the image transfer granularity requirements
of <code>commandBuffer</code>&#8217;s command pool&#8217;s queue family, as described in
<a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-dstOffset-01784" href="#VUID-vkCmdCopyImage-dstOffset-01784"></a>
The <code>dstOffset</code> and <code>extent</code> members of each element of
<code>pRegions</code> <strong class="purple">must</strong> respect the image transfer granularity requirements
of <code>commandBuffer</code>&#8217;s command pool&#8217;s queue family, as described in
<a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdCopyImage-commandBuffer-parameter" href="#VUID-vkCmdCopyImage-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-srcImage-parameter" href="#VUID-vkCmdCopyImage-srcImage-parameter"></a> <code>srcImage</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-srcImageLayout-parameter" href="#VUID-vkCmdCopyImage-srcImageLayout-parameter"></a> <code>srcImageLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-dstImage-parameter" href="#VUID-vkCmdCopyImage-dstImage-parameter"></a> <code>dstImage</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-dstImageLayout-parameter" href="#VUID-vkCmdCopyImage-dstImageLayout-parameter"></a> <code>dstImageLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-pRegions-parameter" href="#VUID-vkCmdCopyImage-pRegions-parameter"></a> <code>pRegions</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>regionCount</code> valid <a href="#VkImageCopy">VkImageCopy</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-commandBuffer-recording" href="#VUID-vkCmdCopyImage-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-commandBuffer-cmdpool" href="#VUID-vkCmdCopyImage-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support transfer, graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-renderpass" href="#VUID-vkCmdCopyImage-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-regionCount-arraylength" href="#VUID-vkCmdCopyImage-regionCount-arraylength"></a> <code>regionCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImage-commonparent" href="#VUID-vkCmdCopyImage-commonparent"></a> Each of <code>commandBuffer</code>, <code>dstImage</code>, and <code>srcImage</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer<br>
Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageCopy</code> structure is defined as:</p>
</div>
<div id="VkImageCopy" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageCopy {
    VkImageSubresourceLayers    srcSubresource;
    VkOffset3D                  srcOffset;
    VkImageSubresourceLayers    dstSubresource;
    VkOffset3D                  dstOffset;
    VkExtent3D                  extent;
} VkImageCopy;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>srcSubresource</code> and <code>dstSubresource</code> are
<a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a> structures specifying the image
subresources of the images used for the source and destination image
data, respectively.</p>
</li>
<li>
<p><code>srcOffset</code> and <code>dstOffset</code> select the initial <code>x</code>, <code>y</code>,
and <code>z</code> offsets in texels of the sub-regions of the source and
destination image data.</p>
</li>
<li>
<p><code>extent</code> is the size in texels of the image to copy in <code>width</code>,
<code>height</code> and <code>depth</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Copies are done layer by layer starting with <code>baseArrayLayer</code> member of
<code>srcSubresource</code> for the source and <code>dstSubresource</code> for the
destination.
<code>layerCount</code> layers are copied to the destination image.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageCopy-aspectMask-00137" href="#VUID-VkImageCopy-aspectMask-00137"></a>
The <code>aspectMask</code> member of <code>srcSubresource</code> and
<code>dstSubresource</code> <strong class="purple">must</strong> match</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-layerCount-00138" href="#VUID-VkImageCopy-layerCount-00138"></a>
The <code>layerCount</code> member of <code>srcSubresource</code> and
<code>dstSubresource</code> <strong class="purple">must</strong> match</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-srcImage-00139" href="#VUID-VkImageCopy-srcImage-00139"></a>
If either of the calling command&#8217;s <code>srcImage</code> or <code>dstImage</code>
parameters are of <a href="#VkImageType">VkImageType</a> <code>VK_IMAGE_TYPE_3D</code>, the
<code>baseArrayLayer</code> and <code>layerCount</code> members of both
<code>srcSubresource</code> and <code>dstSubresource</code> <strong class="purple">must</strong> be <code>0</code> and <code>1</code>,
respectively</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-aspectMask-00142" href="#VUID-VkImageCopy-aspectMask-00142"></a>
The <code>aspectMask</code> member of <code>srcSubresource</code> <strong class="purple">must</strong> specify
aspects present in the calling command&#8217;s <code>srcImage</code></p>
</li>
<li>
<p><a id="VUID-VkImageCopy-aspectMask-00143" href="#VUID-VkImageCopy-aspectMask-00143"></a>
The <code>aspectMask</code> member of <code>dstSubresource</code> <strong class="purple">must</strong> specify
aspects present in the calling command&#8217;s <code>dstImage</code></p>
</li>
<li>
<p><a id="VUID-VkImageCopy-srcOffset-00144" href="#VUID-VkImageCopy-srcOffset-00144"></a>
<code>srcOffset.x</code> and <span class="eq">(<code>extent.width</code> + 
<code>srcOffset.x</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the source image subresource width</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-srcOffset-00145" href="#VUID-VkImageCopy-srcOffset-00145"></a>
<code>srcOffset.y</code> and <span class="eq">(<code>extent.height</code> + 
<code>srcOffset.y</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the source image subresource height</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-srcImage-00146" href="#VUID-VkImageCopy-srcImage-00146"></a>
If the calling command&#8217;s <code>srcImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code>, then <code>srcOffset.y</code> <strong class="purple">must</strong> be <code>0</code> and
<code>extent.height</code> <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-srcOffset-00147" href="#VUID-VkImageCopy-srcOffset-00147"></a>
<code>srcOffset.z</code> and <span class="eq">(<code>extent.depth</code> + 
<code>srcOffset.z</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the source image subresource depth</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-srcImage-01785" href="#VUID-VkImageCopy-srcImage-01785"></a>
If the calling command&#8217;s <code>srcImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code>, then <code>srcOffset.z</code> <strong class="purple">must</strong> be <code>0</code> and
<code>extent.depth</code> <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-dstImage-01786" href="#VUID-VkImageCopy-dstImage-01786"></a>
If the calling command&#8217;s <code>dstImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code>, then <code>dstOffset.z</code> <strong class="purple">must</strong> be <code>0</code> and
<code>extent.depth</code> <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-srcImage-01787" href="#VUID-VkImageCopy-srcImage-01787"></a>
If the calling command&#8217;s <code>srcImage</code> is of type
<code>VK_IMAGE_TYPE_2D</code>, then <code>srcOffset.z</code> <strong class="purple">must</strong> be <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-dstImage-01788" href="#VUID-VkImageCopy-dstImage-01788"></a>
If the calling command&#8217;s <code>dstImage</code> is of type
<code>VK_IMAGE_TYPE_2D</code>, then <code>dstOffset.z</code> <strong class="purple">must</strong> be <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-srcImage-01789" href="#VUID-VkImageCopy-srcImage-01789"></a>
If the calling command&#8217;s <code>srcImage</code> or <code>dstImage</code> is of type
<code>VK_IMAGE_TYPE_2D</code>, then <code>extent.depth</code> <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-dstOffset-00150" href="#VUID-VkImageCopy-dstOffset-00150"></a>
<code>dstOffset.x</code> and <span class="eq">(<code>extent.width</code> + 
<code>dstOffset.x</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the destination image subresource width</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-dstOffset-00151" href="#VUID-VkImageCopy-dstOffset-00151"></a>
<code>dstOffset.y</code> and <span class="eq">(<code>extent.height</code> + 
<code>dstOffset.y</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the destination image subresource height</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-dstImage-00152" href="#VUID-VkImageCopy-dstImage-00152"></a>
If the calling command&#8217;s <code>dstImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code>, then <code>dstOffset.y</code> <strong class="purple">must</strong> be <code>0</code> and
<code>extent.height</code> <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-dstOffset-00153" href="#VUID-VkImageCopy-dstOffset-00153"></a>
<code>dstOffset.z</code> and <span class="eq">(<code>extent.depth</code> + 
<code>dstOffset.z</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the destination image subresource depth</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-srcOffset-00157" href="#VUID-VkImageCopy-srcOffset-00157"></a>
If the calling command&#8217;s <code>srcImage</code> is a compressed image, all
members of <code>srcOffset</code> <strong class="purple">must</strong> be a multiple of the corresponding
dimensions of the compressed texel block</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-extent-00158" href="#VUID-VkImageCopy-extent-00158"></a>
If the calling command&#8217;s <code>srcImage</code> is a compressed image,
<code>extent.width</code> <strong class="purple">must</strong> be a multiple of the compressed texel block
width or <span class="eq">(<code>extent.width</code> +  <code>srcOffset.x</code>)</span> <strong class="purple">must</strong> equal
the source image subresource width</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-extent-00159" href="#VUID-VkImageCopy-extent-00159"></a>
If the calling command&#8217;s <code>srcImage</code> is a compressed image,
<code>extent.height</code> <strong class="purple">must</strong> be a multiple of the compressed texel block
height or <span class="eq">(<code>extent.height</code> +  <code>srcOffset.y</code>)</span> <strong class="purple">must</strong>
equal the source image subresource height</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-extent-00160" href="#VUID-VkImageCopy-extent-00160"></a>
If the calling command&#8217;s <code>srcImage</code> is a compressed image,
<code>extent.depth</code> <strong class="purple">must</strong> be a multiple of the compressed texel block
depth or <span class="eq">(<code>extent.depth</code> +  <code>srcOffset.z</code>)</span> <strong class="purple">must</strong> equal
the source image subresource depth</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-dstOffset-00162" href="#VUID-VkImageCopy-dstOffset-00162"></a>
If the calling command&#8217;s <code>dstImage</code> is a compressed format image,
all members of <code>dstOffset</code> <strong class="purple">must</strong> be a multiple of the corresponding
dimensions of the compressed texel block</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-extent-00163" href="#VUID-VkImageCopy-extent-00163"></a>
If the calling command&#8217;s <code>dstImage</code> is a compressed format image,
<code>extent.width</code> <strong class="purple">must</strong> be a multiple of the compressed texel block
width or <span class="eq">(<code>extent.width</code> +  <code>dstOffset.x</code>)</span> <strong class="purple">must</strong> equal
the destination image subresource width</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-extent-00164" href="#VUID-VkImageCopy-extent-00164"></a>
If the calling command&#8217;s <code>dstImage</code> is a compressed format image,
<code>extent.height</code> <strong class="purple">must</strong> be a multiple of the compressed texel block
height or <span class="eq">(<code>extent.height</code> +  <code>dstOffset.y</code>)</span> <strong class="purple">must</strong>
equal the destination image subresource height</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-extent-00165" href="#VUID-VkImageCopy-extent-00165"></a>
If the calling command&#8217;s <code>dstImage</code> is a compressed format image,
<code>extent.depth</code> <strong class="purple">must</strong> be a multiple of the compressed texel block
depth or <span class="eq">(<code>extent.depth</code> +  <code>dstOffset.z</code>)</span> <strong class="purple">must</strong> equal
the destination image subresource depth</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageCopy-srcSubresource-parameter" href="#VUID-VkImageCopy-srcSubresource-parameter"></a> <code>srcSubresource</code> <strong class="purple">must</strong> be a valid <a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a> structure</p>
</li>
<li>
<p><a id="VUID-VkImageCopy-dstSubresource-parameter" href="#VUID-VkImageCopy-dstSubresource-parameter"></a> <code>dstSubresource</code> <strong class="purple">must</strong> be a valid <a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageSubresourceLayers</code> structure is defined as:</p>
</div>
<div id="VkImageSubresourceLayers" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageSubresourceLayers {
    VkImageAspectFlags    aspectMask;
    uint32_t              mipLevel;
    uint32_t              baseArrayLayer;
    uint32_t              layerCount;
} VkImageSubresourceLayers;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>aspectMask</code> is a combination of <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a>,
selecting the color, depth and/or stencil aspects to be copied.</p>
</li>
<li>
<p><code>mipLevel</code> is the mipmap level to copy from.</p>
</li>
<li>
<p><code>baseArrayLayer</code> and <code>layerCount</code> are the starting layer and
number of layers to copy.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageSubresourceLayers-aspectMask-00167" href="#VUID-VkImageSubresourceLayers-aspectMask-00167"></a>
If <code>aspectMask</code> contains <code>VK_IMAGE_ASPECT_COLOR_BIT</code>, it <strong class="purple">must</strong>
not contain either of <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageSubresourceLayers-aspectMask-00168" href="#VUID-VkImageSubresourceLayers-aspectMask-00168"></a>
<code>aspectMask</code> <strong class="purple">must</strong> not contain <code>VK_IMAGE_ASPECT_METADATA_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageSubresourceLayers-layerCount-01700" href="#VUID-VkImageSubresourceLayers-layerCount-01700"></a>
<code>layerCount</code> <strong class="purple">must</strong> be greater than 0</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageSubresourceLayers-aspectMask-parameter" href="#VUID-VkImageSubresourceLayers-aspectMask-parameter"></a> <code>aspectMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkImageSubresourceLayers-aspectMask-requiredbitmask" href="#VUID-VkImageSubresourceLayers-aspectMask-requiredbitmask"></a> <code>aspectMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="copies-buffers-images"><a class="anchor" href="#copies-buffers-images"></a>18.4. Copying Data Between Buffers and Images</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To copy data from a buffer object to an image object, call:</p>
</div>
<div id="vkCmdCopyBufferToImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdCopyBufferToImage(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    srcBuffer,
    VkImage                                     dstImage,
    VkImageLayout                               dstImageLayout,
    uint32_t                                    regionCount,
    <span class="directive">const</span> VkBufferImageCopy*                    pRegions);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>srcBuffer</code> is the source buffer.</p>
</li>
<li>
<p><code>dstImage</code> is the destination image.</p>
</li>
<li>
<p><code>dstImageLayout</code> is the layout of the destination image subresources
for the copy.</p>
</li>
<li>
<p><code>regionCount</code> is the number of regions to copy.</p>
</li>
<li>
<p><code>pRegions</code> is a pointer to an array of <a href="#VkBufferImageCopy">VkBufferImageCopy</a>
structures specifying the regions to copy.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each region in <code>pRegions</code> is copied from the specified region of the
source buffer to the specified region of the destination image.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-pRegions-00171" href="#VUID-vkCmdCopyBufferToImage-pRegions-00171"></a>
<code>srcBuffer</code> <strong class="purple">must</strong> be large enough to contain all buffer locations
that are accessed according to <a href="#copies-buffers-images-addressing">Buffer
and Image Addressing</a>, for each element of <code>pRegions</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-pRegions-00172" href="#VUID-vkCmdCopyBufferToImage-pRegions-00172"></a>
The image region specified by each element of <code>pRegions</code> <strong class="purple">must</strong> be a
region that is contained within <code>dstImage</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-pRegions-00173" href="#VUID-vkCmdCopyBufferToImage-pRegions-00173"></a>
The union of all source regions, and the union of all destination
regions, specified by the elements of <code>pRegions</code>, <strong class="purple">must</strong> not overlap
in memory</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-srcBuffer-00174" href="#VUID-vkCmdCopyBufferToImage-srcBuffer-00174"></a>
<code>srcBuffer</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-srcBuffer-00176" href="#VUID-vkCmdCopyBufferToImage-srcBuffer-00176"></a>
If <code>srcBuffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-dstImage-00177" href="#VUID-vkCmdCopyBufferToImage-dstImage-00177"></a>
<code>dstImage</code> <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-dstImage-00178" href="#VUID-vkCmdCopyBufferToImage-dstImage-00178"></a>
If <code>dstImage</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-dstImage-00179" href="#VUID-vkCmdCopyBufferToImage-dstImage-00179"></a>
<code>dstImage</code> <strong class="purple">must</strong> have a sample count equal to
<code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-dstImageLayout-00180" href="#VUID-vkCmdCopyBufferToImage-dstImageLayout-00180"></a>
<code>dstImageLayout</code> <strong class="purple">must</strong> specify the layout of the image subresources
of <code>dstImage</code> specified in <code>pRegions</code> at the time this command
is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-dstImageLayout-00181" href="#VUID-vkCmdCopyBufferToImage-dstImageLayout-00181"></a>
<code>dstImageLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>
or <code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-imageSubresource-01701" href="#VUID-vkCmdCopyBufferToImage-imageSubresource-01701"></a>
The <code>imageSubresource.mipLevel</code> member of each element of
<code>pRegions</code> <strong class="purple">must</strong> be less than the <code>mipLevels</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>dstImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-imageSubresource-01702" href="#VUID-vkCmdCopyBufferToImage-imageSubresource-01702"></a>
The <span class="eq"><code>imageSubresource.baseArrayLayer</code> + 
<code>imageSubresource.layerCount</code></span> of each element of <code>pRegions</code>
<strong class="purple">must</strong> be less than or equal to the <code>arrayLayers</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>dstImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-imageOffset-01793" href="#VUID-vkCmdCopyBufferToImage-imageOffset-01793"></a>
The <code>imageOffset</code> and <code>imageExtent</code> members of each element of
<code>pRegions</code> <strong class="purple">must</strong> respect the image transfer granularity requirements
of <code>commandBuffer</code>&#8217;s command pool&#8217;s queue family, as described in
<a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-commandBuffer-parameter" href="#VUID-vkCmdCopyBufferToImage-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-srcBuffer-parameter" href="#VUID-vkCmdCopyBufferToImage-srcBuffer-parameter"></a> <code>srcBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-dstImage-parameter" href="#VUID-vkCmdCopyBufferToImage-dstImage-parameter"></a> <code>dstImage</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-dstImageLayout-parameter" href="#VUID-vkCmdCopyBufferToImage-dstImageLayout-parameter"></a> <code>dstImageLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-pRegions-parameter" href="#VUID-vkCmdCopyBufferToImage-pRegions-parameter"></a> <code>pRegions</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>regionCount</code> valid <a href="#VkBufferImageCopy">VkBufferImageCopy</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-commandBuffer-recording" href="#VUID-vkCmdCopyBufferToImage-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-commandBuffer-cmdpool" href="#VUID-vkCmdCopyBufferToImage-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support transfer, graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-renderpass" href="#VUID-vkCmdCopyBufferToImage-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-regionCount-arraylength" href="#VUID-vkCmdCopyBufferToImage-regionCount-arraylength"></a> <code>regionCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyBufferToImage-commonparent" href="#VUID-vkCmdCopyBufferToImage-commonparent"></a> Each of <code>commandBuffer</code>, <code>dstImage</code>, and <code>srcBuffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer<br>
Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To copy data from an image object to a buffer object, call:</p>
</div>
<div id="vkCmdCopyImageToBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdCopyImageToBuffer(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     srcImage,
    VkImageLayout                               srcImageLayout,
    VkBuffer                                    dstBuffer,
    uint32_t                                    regionCount,
    <span class="directive">const</span> VkBufferImageCopy*                    pRegions);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>srcImage</code> is the source image.</p>
</li>
<li>
<p><code>srcImageLayout</code> is the layout of the source image subresources for
the copy.</p>
</li>
<li>
<p><code>dstBuffer</code> is the destination buffer.</p>
</li>
<li>
<p><code>regionCount</code> is the number of regions to copy.</p>
</li>
<li>
<p><code>pRegions</code> is a pointer to an array of <a href="#VkBufferImageCopy">VkBufferImageCopy</a>
structures specifying the regions to copy.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each region in <code>pRegions</code> is copied from the specified region of the
source image to the specified region of the destination buffer.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-pRegions-00182" href="#VUID-vkCmdCopyImageToBuffer-pRegions-00182"></a>
The image region specified by each element of <code>pRegions</code> <strong class="purple">must</strong> be a
region that is contained within <code>srcImage</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-pRegions-00183" href="#VUID-vkCmdCopyImageToBuffer-pRegions-00183"></a>
<code>dstBuffer</code> <strong class="purple">must</strong> be large enough to contain all buffer locations
that are accessed according to <a href="#copies-buffers-images-addressing">Buffer
and Image Addressing</a>, for each element of <code>pRegions</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-pRegions-00184" href="#VUID-vkCmdCopyImageToBuffer-pRegions-00184"></a>
The union of all source regions, and the union of all destination
regions, specified by the elements of <code>pRegions</code>, <strong class="purple">must</strong> not overlap
in memory</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-srcImage-00186" href="#VUID-vkCmdCopyImageToBuffer-srcImage-00186"></a>
<code>srcImage</code> <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-srcImage-00187" href="#VUID-vkCmdCopyImageToBuffer-srcImage-00187"></a>
If <code>srcImage</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-srcImage-00188" href="#VUID-vkCmdCopyImageToBuffer-srcImage-00188"></a>
<code>srcImage</code> <strong class="purple">must</strong> have a sample count equal to
<code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-srcImageLayout-00189" href="#VUID-vkCmdCopyImageToBuffer-srcImageLayout-00189"></a>
<code>srcImageLayout</code> <strong class="purple">must</strong> specify the layout of the image subresources
of <code>srcImage</code> specified in <code>pRegions</code> at the time this command
is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-srcImageLayout-00190" href="#VUID-vkCmdCopyImageToBuffer-srcImageLayout-00190"></a>
<code>srcImageLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code>
or <code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-dstBuffer-00191" href="#VUID-vkCmdCopyImageToBuffer-dstBuffer-00191"></a>
<code>dstBuffer</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-dstBuffer-00192" href="#VUID-vkCmdCopyImageToBuffer-dstBuffer-00192"></a>
If <code>dstBuffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-imageSubresource-01703" href="#VUID-vkCmdCopyImageToBuffer-imageSubresource-01703"></a>
The <code>imageSubresource.mipLevel</code> member of each element of
<code>pRegions</code> <strong class="purple">must</strong> be less than the <code>mipLevels</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>srcImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-imageSubresource-01704" href="#VUID-vkCmdCopyImageToBuffer-imageSubresource-01704"></a>
The <span class="eq"><code>imageSubresource.baseArrayLayer</code> + 
<code>imageSubresource.layerCount</code></span> of each element of <code>pRegions</code>
<strong class="purple">must</strong> be less than or equal to the <code>arrayLayers</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>srcImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-imageOffset-01794" href="#VUID-vkCmdCopyImageToBuffer-imageOffset-01794"></a>
The <code>imageOffset</code> and <code>imageExtent</code> members of each element of
<code>pRegions</code> <strong class="purple">must</strong> respect the image transfer granularity requirements
of <code>commandBuffer</code>&#8217;s command pool&#8217;s queue family, as described in
<a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-commandBuffer-parameter" href="#VUID-vkCmdCopyImageToBuffer-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-srcImage-parameter" href="#VUID-vkCmdCopyImageToBuffer-srcImage-parameter"></a> <code>srcImage</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-srcImageLayout-parameter" href="#VUID-vkCmdCopyImageToBuffer-srcImageLayout-parameter"></a> <code>srcImageLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-dstBuffer-parameter" href="#VUID-vkCmdCopyImageToBuffer-dstBuffer-parameter"></a> <code>dstBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-pRegions-parameter" href="#VUID-vkCmdCopyImageToBuffer-pRegions-parameter"></a> <code>pRegions</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>regionCount</code> valid <a href="#VkBufferImageCopy">VkBufferImageCopy</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-commandBuffer-recording" href="#VUID-vkCmdCopyImageToBuffer-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-commandBuffer-cmdpool" href="#VUID-vkCmdCopyImageToBuffer-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support transfer, graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-renderpass" href="#VUID-vkCmdCopyImageToBuffer-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-regionCount-arraylength" href="#VUID-vkCmdCopyImageToBuffer-regionCount-arraylength"></a> <code>regionCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdCopyImageToBuffer-commonparent" href="#VUID-vkCmdCopyImageToBuffer-commonparent"></a> Each of <code>commandBuffer</code>, <code>dstBuffer</code>, and <code>srcImage</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer<br>
Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>For both <a href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a> and <a href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a>, each
element of <code>pRegions</code> is a structure defined as:</p>
</div>
<div id="VkBufferImageCopy" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkBufferImageCopy {
    VkDeviceSize                bufferOffset;
    uint32_t                    bufferRowLength;
    uint32_t                    bufferImageHeight;
    VkImageSubresourceLayers    imageSubresource;
    VkOffset3D                  imageOffset;
    VkExtent3D                  imageExtent;
} VkBufferImageCopy;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bufferOffset</code> is the offset in bytes from the start of the buffer
object where the image data is copied from or to.</p>
</li>
<li>
<p><code>bufferRowLength</code> and <code>bufferImageHeight</code> specify in texels a
subregion of a larger two- or three-dimensional image in buffer memory,
and control the addressing calculations.
If either of these values is zero, that aspect of the buffer memory is
considered to be tightly packed according to the <code>imageExtent</code>.</p>
</li>
<li>
<p><code>imageSubresource</code> is a <a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a> used to
specify the specific image subresources of the image used for the source
or destination image data.</p>
</li>
<li>
<p><code>imageOffset</code> selects the initial <code>x</code>, <code>y</code>, <code>z</code> offsets
in texels of the sub-region of the source or destination image data.</p>
</li>
<li>
<p><code>imageExtent</code> is the size in texels of the image to copy in
<code>width</code>, <code>height</code> and <code>depth</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When copying to or from a depth or stencil aspect, the data in buffer memory
uses a layout that is a (mostly) tightly packed representation of the depth
or stencil data.
Specifically:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>data copied to or from the stencil aspect of any depth/stencil format is
tightly packed with one <code>VK_FORMAT_S8_UINT</code> value per texel.</p>
</li>
<li>
<p>data copied to or from the depth aspect of a <code>VK_FORMAT_D16_UNORM</code>
or <code>VK_FORMAT_D16_UNORM_S8_UINT</code> format is tightly packed with one
<code>VK_FORMAT_D16_UNORM</code> value per texel.</p>
</li>
<li>
<p>data copied to or from the depth aspect of a <code>VK_FORMAT_D32_SFLOAT</code>
or <code>VK_FORMAT_D32_SFLOAT_S8_UINT</code> format is tightly packed with one
<code>VK_FORMAT_D32_SFLOAT</code> value per texel.</p>
</li>
<li>
<p>data copied to or from the depth aspect of a
<code>VK_FORMAT_X8_D24_UNORM_PACK32</code> or <code>VK_FORMAT_D24_UNORM_S8_UINT</code>
format is packed with one 32-bit word per texel with the D24 value in
the LSBs of the word, and undefined values in the eight MSBs.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>To copy both the depth and stencil aspects of a depth/stencil format, two
entries in <code>pRegions</code> <strong class="purple">can</strong> be used, where one specifies the depth aspect
in <code>imageSubresource</code>, and the other specifies the stencil aspect.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Because depth or stencil aspect buffer to image copies <strong class="purple">may</strong> require format
conversions on some implementations, they are not supported on queues that
do not support graphics.</p>
</div>
<div class="paragraph">
<p>When copying to a depth aspect,
the data in buffer memory <strong class="purple">must</strong> be in the range <span class="eq">[0,1]</span>, or the
resulting values are undefined.</p>
</div>
<div class="paragraph">
<p>Copies are done layer by layer starting with image layer
<code>baseArrayLayer</code> member of <code>imageSubresource</code>.
<code>layerCount</code> layers are copied from the source image or to the
destination image.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferImageCopy-bufferOffset-00193" href="#VUID-VkBufferImageCopy-bufferOffset-00193"></a>
If the calling command&#8217;s <code>VkImage</code> parameter&#8217;s format is not a
depth/stencil format, then <code>bufferOffset</code> <strong class="purple">must</strong> be a multiple of the
format&#8217;s texel block size.</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-bufferOffset-00194" href="#VUID-VkBufferImageCopy-bufferOffset-00194"></a>
<code>bufferOffset</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-bufferRowLength-00195" href="#VUID-VkBufferImageCopy-bufferRowLength-00195"></a>
<code>bufferRowLength</code> <strong class="purple">must</strong> be <code>0</code>, or greater than or equal to the
<code>width</code> member of <code>imageExtent</code></p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-bufferImageHeight-00196" href="#VUID-VkBufferImageCopy-bufferImageHeight-00196"></a>
<code>bufferImageHeight</code> <strong class="purple">must</strong> be <code>0</code>, or greater than or equal to the
<code>height</code> member of <code>imageExtent</code></p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-imageOffset-00197" href="#VUID-VkBufferImageCopy-imageOffset-00197"></a>
<code>imageOffset.x</code> and <span class="eq">(<code>imageExtent.width</code> + 
<code>imageOffset.x</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and
less than or equal to the image subresource width</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-imageOffset-00198" href="#VUID-VkBufferImageCopy-imageOffset-00198"></a>
<code>imageOffset.y</code> and <span class="eq">(imageExtent.height + 
<code>imageOffset.y</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and
less than or equal to the image subresource height</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-srcImage-00199" href="#VUID-VkBufferImageCopy-srcImage-00199"></a>
If the calling command&#8217;s <code>srcImage</code> (<a href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a>)
or <code>dstImage</code> (<a href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a>) is of type
<code>VK_IMAGE_TYPE_1D</code>, then <code>imageOffset.y</code> <strong class="purple">must</strong> be <code>0</code> and
<code>imageExtent.height</code> <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-imageOffset-00200" href="#VUID-VkBufferImageCopy-imageOffset-00200"></a>
<code>imageOffset.z</code> and <span class="eq">(imageExtent.depth + 
<code>imageOffset.z</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and
less than or equal to the image subresource depth</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-srcImage-00201" href="#VUID-VkBufferImageCopy-srcImage-00201"></a>
If the calling command&#8217;s <code>srcImage</code> (<a href="#vkCmdCopyImageToBuffer">vkCmdCopyImageToBuffer</a>)
or <code>dstImage</code> (<a href="#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a>) is of type
<code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then
<code>imageOffset.z</code> <strong class="purple">must</strong> be <code>0</code> and <code>imageExtent.depth</code> <strong class="purple">must</strong> be
<code>1</code></p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-bufferRowLength-00203" href="#VUID-VkBufferImageCopy-bufferRowLength-00203"></a>
If the calling command&#8217;s <code>VkImage</code> parameter is a compressed image,
<code>bufferRowLength</code> <strong class="purple">must</strong> be a multiple of the compressed texel block
width</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-bufferImageHeight-00204" href="#VUID-VkBufferImageCopy-bufferImageHeight-00204"></a>
If the calling command&#8217;s <code>VkImage</code> parameter is a compressed image,
<code>bufferImageHeight</code> <strong class="purple">must</strong> be a multiple of the compressed texel
block height</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-imageOffset-00205" href="#VUID-VkBufferImageCopy-imageOffset-00205"></a>
If the calling command&#8217;s <code>VkImage</code> parameter is a compressed image,
all members of <code>imageOffset</code> <strong class="purple">must</strong> be a multiple of the
corresponding dimensions of the compressed texel block</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-bufferOffset-00206" href="#VUID-VkBufferImageCopy-bufferOffset-00206"></a>
If the calling command&#8217;s <code>VkImage</code> parameter is a compressed image,
<code>bufferOffset</code> <strong class="purple">must</strong> be a multiple of the compressed texel block
size in bytes</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-imageExtent-00207" href="#VUID-VkBufferImageCopy-imageExtent-00207"></a>
If the calling command&#8217;s <code>VkImage</code> parameter is a compressed image,
<code>imageExtent.width</code> <strong class="purple">must</strong> be a multiple of the compressed texel
block width or <span class="eq">(<code>imageExtent.width</code> + 
<code>imageOffset.x</code>)</span> <strong class="purple">must</strong> equal the image subresource width</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-imageExtent-00208" href="#VUID-VkBufferImageCopy-imageExtent-00208"></a>
If the calling command&#8217;s <code>VkImage</code> parameter is a compressed image,
<code>imageExtent.height</code> <strong class="purple">must</strong> be a multiple of the compressed texel
block height or <span class="eq">(<code>imageExtent.height</code> + 
<code>imageOffset.y</code>)</span> <strong class="purple">must</strong> equal the image subresource height</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-imageExtent-00209" href="#VUID-VkBufferImageCopy-imageExtent-00209"></a>
If the calling command&#8217;s <code>VkImage</code> parameter is a compressed image,
<code>imageExtent.depth</code> <strong class="purple">must</strong> be a multiple of the compressed texel
block depth or <span class="eq">(<code>imageExtent.depth</code> + 
<code>imageOffset.z</code>)</span> <strong class="purple">must</strong> equal the image subresource depth</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-aspectMask-00211" href="#VUID-VkBufferImageCopy-aspectMask-00211"></a>
The <code>aspectMask</code> member of <code>imageSubresource</code> <strong class="purple">must</strong> specify
aspects present in the calling command&#8217;s <code>VkImage</code> parameter</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-aspectMask-00212" href="#VUID-VkBufferImageCopy-aspectMask-00212"></a>
The <code>aspectMask</code> member of <code>imageSubresource</code> <strong class="purple">must</strong> only have a
single bit set</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-baseArrayLayer-00213" href="#VUID-VkBufferImageCopy-baseArrayLayer-00213"></a>
If the calling command&#8217;s <code>VkImage</code> parameter is of <a href="#VkImageType">VkImageType</a>
<code>VK_IMAGE_TYPE_3D</code>, the <code>baseArrayLayer</code> and <code>layerCount</code>
members of <code>imageSubresource</code> <strong class="purple">must</strong> be <code>0</code> and <code>1</code>, respectively</p>
</li>
<li>
<p><a id="VUID-VkBufferImageCopy-None-00214" href="#VUID-VkBufferImageCopy-None-00214"></a>
When copying to the depth aspect of an image subresource, the data in
the source buffer <strong class="purple">must</strong> be in the range <span class="eq">[0,1]</span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferImageCopy-imageSubresource-parameter" href="#VUID-VkBufferImageCopy-imageSubresource-parameter"></a> <code>imageSubresource</code> <strong class="purple">must</strong> be a valid <a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="copies-buffers-images-addressing"><a class="anchor" href="#copies-buffers-images-addressing"></a>18.4.1. Buffer and Image Addressing</h4>
<div class="paragraph">
<p>Pseudocode for image/buffer addressing of uncompressed formats is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">rowLength = region-&gt;bufferRowLength;
<span class="keyword">if</span> (rowLength == <span class="integer">0</span>)
    rowLength = region-&gt;imageExtent.width;

imageHeight = region-&gt;bufferImageHeight;
<span class="keyword">if</span> (imageHeight == <span class="integer">0</span>)
    imageHeight = region-&gt;imageExtent.height;

texelBlockSize = &lt;texel block size of the format of the src/dstImage&gt;;

address of (x,y,z) = region-&gt;bufferOffset + (((z * imageHeight) + y) * rowLength + x) * texelBlockSize;

where x,y,z range from (<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>) to region-&gt;imageExtent.{width,height,depth}.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that <code>imageOffset</code> does not affect addressing calculations for
buffer memory.
Instead, <code>bufferOffset</code> <strong class="purple">can</strong> be used to select the starting address in
buffer memory.</p>
</div>
<div class="paragraph">
<p>For block-compressed formats, all parameters are still specified in texels
rather than compressed texel blocks, but the addressing math operates on
whole compressed texel blocks.
Pseudocode for compressed copy addressing is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">rowLength = region-&gt;bufferRowLength;
<span class="keyword">if</span> (rowLength == <span class="integer">0</span>)
    rowLength = region-&gt;imageExtent.width;

imageHeight = region-&gt;bufferImageHeight;
<span class="keyword">if</span> (imageHeight == <span class="integer">0</span>)
    imageHeight = region-&gt;imageExtent.height;

compressedTexelBlockSizeInBytes = &lt;compressed texel block size taken from the src/dstImage&gt;;
rowLength /= compressedTexelBlockWidth;
imageHeight /= compressedTexelBlockHeight;

address of (x,y,z) = region-&gt;bufferOffset + (((z * imageHeight) + y) * rowLength + x) * compressedTexelBlockSizeInBytes;

where x,y,z range from (<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>) to region-&gt;imageExtent.{width/compressedTexelBlockWidth,height/compressedTexelBlockHeight,depth/compressedTexelBlockDepth}.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Copying to or from block-compressed images is typically done in multiples of
the compressed texel block size.
For this reason the <code>imageExtent</code> <strong class="purple">must</strong> be a multiple of the compressed
texel block dimension.
There is one exception to this rule which is <strong class="purple">required</strong> to handle compressed
images created with dimensions that are not a multiple of the compressed
texel block dimensions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>imageExtent.width</code> is not a multiple of the compressed texel
block width, then <span class="eq">(<code>imageExtent.width</code> + 
<code>imageOffset.x</code>)</span> <strong class="purple">must</strong> equal the image subresource width.</p>
</li>
<li>
<p>If <code>imageExtent.height</code> is not a multiple of the compressed texel
block height, then <span class="eq">(<code>imageExtent.height</code> + 
<code>imageOffset.y</code>)</span> <strong class="purple">must</strong> equal the image subresource height.</p>
</li>
<li>
<p>If <code>imageExtent.depth</code> is not a multiple of the compressed texel
block depth, then <span class="eq">(<code>imageExtent.depth</code> + 
<code>imageOffset.z</code>)</span> <strong class="purple">must</strong> equal the image subresource depth.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This allows the last compressed texel block of the image in each
non-multiple dimension to be included as a source or destination of the
copy.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="copies-imagescaling"><a class="anchor" href="#copies-imagescaling"></a>18.5. Image Copies with Scaling</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To copy regions of a source image into a destination image, potentially
performing format conversion, arbitrary scaling, and filtering, call:</p>
</div>
<div id="vkCmdBlitImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdBlitImage(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     srcImage,
    VkImageLayout                               srcImageLayout,
    VkImage                                     dstImage,
    VkImageLayout                               dstImageLayout,
    uint32_t                                    regionCount,
    <span class="directive">const</span> VkImageBlit*                          pRegions,
    VkFilter                                    filter);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>srcImage</code> is the source image.</p>
</li>
<li>
<p><code>srcImageLayout</code> is the layout of the source image subresources for
the blit.</p>
</li>
<li>
<p><code>dstImage</code> is the destination image.</p>
</li>
<li>
<p><code>dstImageLayout</code> is the layout of the destination image subresources
for the blit.</p>
</li>
<li>
<p><code>regionCount</code> is the number of regions to blit.</p>
</li>
<li>
<p><code>pRegions</code> is a pointer to an array of <a href="#VkImageBlit">VkImageBlit</a> structures
specifying the regions to blit.</p>
</li>
<li>
<p><code>filter</code> is a <a href="#VkFilter">VkFilter</a> specifying the filter to apply if the
blits require scaling.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdBlitImage</code> <strong class="purple">must</strong> not be used for multisampled source or
destination images.
Use <a href="#vkCmdResolveImage">vkCmdResolveImage</a> for this purpose.</p>
</div>
<div class="paragraph">
<p>As the sizes of the source and destination extents <strong class="purple">can</strong> differ in any
dimension, texels in the source extent are scaled and filtered to the
destination extent.
Scaling occurs via the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For each destination texel, the integer coordinate of that texel is
converted to an unnormalized texture coordinate, using the effective
inverse of the equations described in
<a href="#textures-unnormalized-to-integer">unnormalized to integer
conversion</a>:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">u<sub>base</sub> = i +  遜</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">v<sub>base</sub> = j +  遜</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">w<sub>base</sub> = k +  遜</span></p>
</dd>
</dl>
</div>
</li>
<li>
<p>These base coordinates are then offset by the first destination offset:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">u<sub>offset</sub> = u<sub>base</sub> - x<sub>dst0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">v<sub>offset</sub> = v<sub>base</sub> - y<sub>dst0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">w<sub>offset</sub> = w<sub>base</sub> - z<sub>dst0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">a<sub>offset</sub> = a - <code>baseArrayCount</code><sub>dst</sub></span></p>
</dd>
</dl>
</div>
</li>
<li>
<p>The scale is determined from the source and destination regions, and
applied to the offset coordinates:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">scale_u = (x<sub>src1</sub> - x<sub>src0</sub>) / (x<sub>dst1</sub> - x<sub>dst0</sub>)</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">scale_v = (y<sub>src1</sub> - y<sub>src0</sub>) / (y<sub>dst1</sub> - y<sub>dst0</sub>)</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">scale_w = (z<sub>src1</sub> - z<sub>src0</sub>) / (z<sub>dst1</sub> - z<sub>dst0</sub>)</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">u<sub>scaled</sub> = u<sub>offset</sub> * scale<sub>u</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">v<sub>scaled</sub> = v<sub>offset</sub> * scale<sub>v</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">w<sub>scaled</sub> = w<sub>offset</sub> * scale<sub>w</sub></span></p>
</dd>
</dl>
</div>
</li>
<li>
<p>Finally the source offset is added to the scaled coordinates, to
determine the final unnormalized coordinates used to sample from
<code>srcImage</code>:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">u = u<sub>scaled</sub> +  x<sub>src0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">v = v<sub>scaled</sub> +  y<sub>src0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">w = w<sub>scaled</sub> +  z<sub>src0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">q = <code>mipLevel</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">a = a<sub>offset</sub> +  <code>baseArrayCount</code><sub>src</sub></span></p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>These coordinates are used to sample from the source image, as described in
<a href="#textures">Image Operations chapter</a>, with the filter mode equal to that
of <code>filter</code>, a mipmap mode of <code>VK_SAMPLER_MIPMAP_MODE_NEAREST</code> and
an address mode of <code>VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE</code>.
Implementations <strong class="purple">must</strong> clamp at the edge of the source image, and <strong class="purple">may</strong>
additionally clamp to the edge of the source region.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Due to allowable rounding errors in the generation of the source texture
coordinates, it is not always possible to guarantee exactly which source
texels will be sampled for a given blit.
As rounding errors are implementation dependent, the exact results of a
blitting operation are also implementation dependent.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Blits are done layer by layer starting with the <code>baseArrayLayer</code> member
of <code>srcSubresource</code> for the source and <code>dstSubresource</code> for the
destination.
<code>layerCount</code> layers are blitted to the destination image.</p>
</div>
<div class="paragraph">
<p>3D textures are blitted slice by slice.
Slices in the source region bounded by <code>srcOffsets</code>[0].z and
<code>srcOffsets</code>[1].z are copied to slices in the destination region bounded
by <code>dstOffsets</code>[0].z and <code>dstOffsets</code>[1].z.
For each destination slice, a source <strong>z</strong> coordinate is linearly interpolated
between <code>srcOffsets</code>[0].z and <code>srcOffsets</code>[1].z.
If the <code>filter</code> parameter is <code>VK_FILTER_LINEAR</code> then the value
sampled from the source image is taken by doing linear filtering using the
interpolated <strong>z</strong> coordinate.
If <code>filter</code> parameter is <code>VK_FILTER_NEAREST</code> then the value sampled
from the source image is taken from the single nearest slice, with an
implementation-dependent arithmetic rounding mode.</p>
</div>
<div class="paragraph">
<p>The following filtering and conversion rules apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Integer formats <strong class="purple">can</strong> only be converted to other integer formats with the
same signedness.</p>
</li>
<li>
<p>No format conversion is supported between depth/stencil images.
The formats <strong class="purple">must</strong> match.</p>
</li>
<li>
<p>Format conversions on unorm, snorm, unscaled and packed float formats of
the copied aspect of the image are performed by first converting the
pixels to float values.</p>
</li>
<li>
<p>For sRGB source formats, nonlinear RGB values are converted to linear
representation prior to filtering.</p>
</li>
<li>
<p>After filtering, the float values are first clamped and then cast to the
destination image format.
In case of sRGB destination format, linear RGB values are converted to
nonlinear representation before writing the pixel to the image.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Signed and unsigned integers are converted by first clamping to the
representable range of the destination format, then casting the value.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBlitImage-pRegions-00215" href="#VUID-vkCmdBlitImage-pRegions-00215"></a>
The source region specified by each element of <code>pRegions</code> <strong class="purple">must</strong> be a
region that is contained within <code>srcImage</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-pRegions-00216" href="#VUID-vkCmdBlitImage-pRegions-00216"></a>
The destination region specified by each element of <code>pRegions</code> <strong class="purple">must</strong>
be a region that is contained within <code>dstImage</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-pRegions-00217" href="#VUID-vkCmdBlitImage-pRegions-00217"></a>
The union of all destination regions, specified by the elements of
<code>pRegions</code>, <strong class="purple">must</strong> not overlap in memory with any texel that <strong class="purple">may</strong> be
sampled during the blit operation</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImage-01999" href="#VUID-vkCmdBlitImage-srcImage-01999"></a>
The <a href="#resources-image-format-features">format features</a> of
<code>srcImage</code> <strong class="purple">must</strong> contain <code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImage-00219" href="#VUID-vkCmdBlitImage-srcImage-00219"></a>
<code>srcImage</code> <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImage-00220" href="#VUID-vkCmdBlitImage-srcImage-00220"></a>
If <code>srcImage</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImageLayout-00221" href="#VUID-vkCmdBlitImage-srcImageLayout-00221"></a>
<code>srcImageLayout</code> <strong class="purple">must</strong> specify the layout of the image subresources
of <code>srcImage</code> specified in <code>pRegions</code> at the time this command
is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImageLayout-00222" href="#VUID-vkCmdBlitImage-srcImageLayout-00222"></a>
<code>srcImageLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code>
or <code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-dstImage-02000" href="#VUID-vkCmdBlitImage-dstImage-02000"></a>
The <a href="#resources-image-format-features">format features</a> of
<code>dstImage</code> <strong class="purple">must</strong> contain <code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-dstImage-00224" href="#VUID-vkCmdBlitImage-dstImage-00224"></a>
<code>dstImage</code> <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage flag</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-dstImage-00225" href="#VUID-vkCmdBlitImage-dstImage-00225"></a>
If <code>dstImage</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-dstImageLayout-00226" href="#VUID-vkCmdBlitImage-dstImageLayout-00226"></a>
<code>dstImageLayout</code> <strong class="purple">must</strong> specify the layout of the image subresources
of <code>dstImage</code> specified in <code>pRegions</code> at the time this command
is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-dstImageLayout-00227" href="#VUID-vkCmdBlitImage-dstImageLayout-00227"></a>
<code>dstImageLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>
or <code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImage-00228" href="#VUID-vkCmdBlitImage-srcImage-00228"></a>
The sample count of <code>srcImage</code> and <code>dstImage</code> <strong class="purple">must</strong> both be
equal to <code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImage-00229" href="#VUID-vkCmdBlitImage-srcImage-00229"></a>
If either of <code>srcImage</code> or <code>dstImage</code> was created with a signed
integer <a href="#VkFormat">VkFormat</a>, the other <strong class="purple">must</strong> also have been created with a
signed integer <a href="#VkFormat">VkFormat</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImage-00230" href="#VUID-vkCmdBlitImage-srcImage-00230"></a>
If either of <code>srcImage</code> or <code>dstImage</code> was created with an
unsigned integer <a href="#VkFormat">VkFormat</a>, the other <strong class="purple">must</strong> also have been created
with an unsigned integer <a href="#VkFormat">VkFormat</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImage-00231" href="#VUID-vkCmdBlitImage-srcImage-00231"></a>
If either of <code>srcImage</code> or <code>dstImage</code> was created with a
depth/stencil format, the other <strong class="purple">must</strong> have exactly the same format</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImage-00232" href="#VUID-vkCmdBlitImage-srcImage-00232"></a>
If <code>srcImage</code> was created with a depth/stencil format, <code>filter</code>
<strong class="purple">must</strong> be <code>VK_FILTER_NEAREST</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImage-00233" href="#VUID-vkCmdBlitImage-srcImage-00233"></a>
<code>srcImage</code> <strong class="purple">must</strong> have been created with a <code>samples</code> value of
<code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-dstImage-00234" href="#VUID-vkCmdBlitImage-dstImage-00234"></a>
<code>dstImage</code> <strong class="purple">must</strong> have been created with a <code>samples</code> value of
<code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-filter-02001" href="#VUID-vkCmdBlitImage-filter-02001"></a>
If <code>filter</code> is <code>VK_FILTER_LINEAR</code>, then the
<a href="#resources-image-format-features">format features</a> of <code>srcImage</code>
<strong class="purple">must</strong> contain <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcSubresource-01705" href="#VUID-vkCmdBlitImage-srcSubresource-01705"></a>
The <code>srcSubresource.mipLevel</code> member of each element of
<code>pRegions</code> <strong class="purple">must</strong> be less than the <code>mipLevels</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>srcImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-dstSubresource-01706" href="#VUID-vkCmdBlitImage-dstSubresource-01706"></a>
The <code>dstSubresource.mipLevel</code> member of each element of
<code>pRegions</code> <strong class="purple">must</strong> be less than the <code>mipLevels</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>dstImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcSubresource-01707" href="#VUID-vkCmdBlitImage-srcSubresource-01707"></a>
The <span class="eq"><code>srcSubresource.baseArrayLayer</code> + 
<code>srcSubresource.layerCount</code></span> of each element of <code>pRegions</code> <strong class="purple">must</strong>
be less than or equal to the <code>arrayLayers</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>srcImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-dstSubresource-01708" href="#VUID-vkCmdBlitImage-dstSubresource-01708"></a>
The <span class="eq"><code>dstSubresource.baseArrayLayer</code> + 
<code>dstSubresource.layerCount</code></span> of each element of <code>pRegions</code> <strong class="purple">must</strong>
be less than or equal to the <code>arrayLayers</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>dstImage</code> was created</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBlitImage-commandBuffer-parameter" href="#VUID-vkCmdBlitImage-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImage-parameter" href="#VUID-vkCmdBlitImage-srcImage-parameter"></a> <code>srcImage</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-srcImageLayout-parameter" href="#VUID-vkCmdBlitImage-srcImageLayout-parameter"></a> <code>srcImageLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-dstImage-parameter" href="#VUID-vkCmdBlitImage-dstImage-parameter"></a> <code>dstImage</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-dstImageLayout-parameter" href="#VUID-vkCmdBlitImage-dstImageLayout-parameter"></a> <code>dstImageLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-pRegions-parameter" href="#VUID-vkCmdBlitImage-pRegions-parameter"></a> <code>pRegions</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>regionCount</code> valid <a href="#VkImageBlit">VkImageBlit</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-filter-parameter" href="#VUID-vkCmdBlitImage-filter-parameter"></a> <code>filter</code> <strong class="purple">must</strong> be a valid <a href="#VkFilter">VkFilter</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-commandBuffer-recording" href="#VUID-vkCmdBlitImage-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-commandBuffer-cmdpool" href="#VUID-vkCmdBlitImage-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-renderpass" href="#VUID-vkCmdBlitImage-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-regionCount-arraylength" href="#VUID-vkCmdBlitImage-regionCount-arraylength"></a> <code>regionCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBlitImage-commonparent" href="#VUID-vkCmdBlitImage-commonparent"></a> Each of <code>commandBuffer</code>, <code>dstImage</code>, and <code>srcImage</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageBlit</code> structure is defined as:</p>
</div>
<div id="VkImageBlit" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageBlit {
    VkImageSubresourceLayers    srcSubresource;
    VkOffset3D                  srcOffsets[<span class="integer">2</span>];
    VkImageSubresourceLayers    dstSubresource;
    VkOffset3D                  dstOffsets[<span class="integer">2</span>];
} VkImageBlit;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>srcSubresource</code> is the subresource to blit from.</p>
</li>
<li>
<p><code>srcOffsets</code> is a pointer to an array of two <a href="#VkOffset3D">VkOffset3D</a>
structures specifying the bounds of the source region within
<code>srcSubresource</code>.</p>
</li>
<li>
<p><code>dstSubresource</code> is the subresource to blit into.</p>
</li>
<li>
<p><code>dstOffsets</code> is a pointer to an array of two <a href="#VkOffset3D">VkOffset3D</a>
structures specifying the bounds of the destination region within
<code>dstSubresource</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For each element of the <code>pRegions</code> array, a blit operation is performed
the specified source and destination regions.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageBlit-aspectMask-00238" href="#VUID-VkImageBlit-aspectMask-00238"></a>
The <code>aspectMask</code> member of <code>srcSubresource</code> and
<code>dstSubresource</code> <strong class="purple">must</strong> match</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-layerCount-00239" href="#VUID-VkImageBlit-layerCount-00239"></a>
The <code>layerCount</code> member of <code>srcSubresource</code> and
<code>dstSubresource</code> <strong class="purple">must</strong> match</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-srcImage-00240" href="#VUID-VkImageBlit-srcImage-00240"></a>
If either of the calling command&#8217;s <code>srcImage</code> or <code>dstImage</code>
parameters are of <a href="#VkImageType">VkImageType</a> <code>VK_IMAGE_TYPE_3D</code>, the
<code>baseArrayLayer</code> and <code>layerCount</code> members of both
<code>srcSubresource</code> and <code>dstSubresource</code> <strong class="purple">must</strong> be <code>0</code> and <code>1</code>,
respectively</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-aspectMask-00241" href="#VUID-VkImageBlit-aspectMask-00241"></a>
The <code>aspectMask</code> member of <code>srcSubresource</code> <strong class="purple">must</strong> specify
aspects present in the calling command&#8217;s <code>srcImage</code></p>
</li>
<li>
<p><a id="VUID-VkImageBlit-aspectMask-00242" href="#VUID-VkImageBlit-aspectMask-00242"></a>
The <code>aspectMask</code> member of <code>dstSubresource</code> <strong class="purple">must</strong> specify
aspects present in the calling command&#8217;s <code>dstImage</code></p>
</li>
<li>
<p><a id="VUID-VkImageBlit-srcOffset-00243" href="#VUID-VkImageBlit-srcOffset-00243"></a>
<code>srcOffset</code>[0].x and <code>srcOffset</code>[1].x <strong class="purple">must</strong> both be greater than
or equal to <code>0</code> and less than or equal to the source image subresource
width</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-srcOffset-00244" href="#VUID-VkImageBlit-srcOffset-00244"></a>
<code>srcOffset</code>[0].y and <code>srcOffset</code>[1].y <strong class="purple">must</strong> both be greater than
or equal to <code>0</code> and less than or equal to the source image subresource
height</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-srcImage-00245" href="#VUID-VkImageBlit-srcImage-00245"></a>
If the calling command&#8217;s <code>srcImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code>, then <code>srcOffset</code>[0].y <strong class="purple">must</strong> be <code>0</code> and
<code>srcOffset</code>[1].y <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-srcOffset-00246" href="#VUID-VkImageBlit-srcOffset-00246"></a>
<code>srcOffset</code>[0].z and <code>srcOffset</code>[1].z <strong class="purple">must</strong> both be greater than
or equal to <code>0</code> and less than or equal to the source image subresource
depth</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-srcImage-00247" href="#VUID-VkImageBlit-srcImage-00247"></a>
If the calling command&#8217;s <code>srcImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then
<code>srcOffset</code>[0].z <strong class="purple">must</strong> be <code>0</code> and <code>srcOffset</code>[1].z <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-dstOffset-00248" href="#VUID-VkImageBlit-dstOffset-00248"></a>
<code>dstOffset</code>[0].x and <code>dstOffset</code>[1].x <strong class="purple">must</strong> both be greater than
or equal to <code>0</code> and less than or equal to the destination image
subresource width</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-dstOffset-00249" href="#VUID-VkImageBlit-dstOffset-00249"></a>
<code>dstOffset</code>[0].y and <code>dstOffset</code>[1].y <strong class="purple">must</strong> both be greater than
or equal to <code>0</code> and less than or equal to the destination image
subresource height</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-dstImage-00250" href="#VUID-VkImageBlit-dstImage-00250"></a>
If the calling command&#8217;s <code>dstImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code>, then <code>dstOffset</code>[0].y <strong class="purple">must</strong> be <code>0</code> and
<code>dstOffset</code>[1].y <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-dstOffset-00251" href="#VUID-VkImageBlit-dstOffset-00251"></a>
<code>dstOffset</code>[0].z and <code>dstOffset</code>[1].z <strong class="purple">must</strong> both be greater than
or equal to <code>0</code> and less than or equal to the destination image
subresource depth</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-dstImage-00252" href="#VUID-VkImageBlit-dstImage-00252"></a>
If the calling command&#8217;s <code>dstImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then
<code>dstOffset</code>[0].z <strong class="purple">must</strong> be <code>0</code> and <code>dstOffset</code>[1].z <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageBlit-srcSubresource-parameter" href="#VUID-VkImageBlit-srcSubresource-parameter"></a> <code>srcSubresource</code> <strong class="purple">must</strong> be a valid <a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a> structure</p>
</li>
<li>
<p><a id="VUID-VkImageBlit-dstSubresource-parameter" href="#VUID-VkImageBlit-dstSubresource-parameter"></a> <code>dstSubresource</code> <strong class="purple">must</strong> be a valid <a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="copies-resolve"><a class="anchor" href="#copies-resolve"></a>18.6. Resolving Multisample Images</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To resolve a multisample image to a non-multisample image, call:</p>
</div>
<div id="vkCmdResolveImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdResolveImage(
    VkCommandBuffer                             commandBuffer,
    VkImage                                     srcImage,
    VkImageLayout                               srcImageLayout,
    VkImage                                     dstImage,
    VkImageLayout                               dstImageLayout,
    uint32_t                                    regionCount,
    <span class="directive">const</span> VkImageResolve*                       pRegions);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>srcImage</code> is the source image.</p>
</li>
<li>
<p><code>srcImageLayout</code> is the layout of the source image subresources for
the resolve.</p>
</li>
<li>
<p><code>dstImage</code> is the destination image.</p>
</li>
<li>
<p><code>dstImageLayout</code> is the layout of the destination image subresources
for the resolve.</p>
</li>
<li>
<p><code>regionCount</code> is the number of regions to resolve.</p>
</li>
<li>
<p><code>pRegions</code> is a pointer to an array of <a href="#VkImageResolve">VkImageResolve</a>
structures specifying the regions to resolve.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>During the resolve the samples corresponding to each pixel location in the
source are converted to a single sample before being written to the
destination.
If the source formats are floating-point or normalized types, the sample
values for each pixel are resolved in an implementation-dependent manner.
If the source formats are integer types, a single sample&#8217;s value is selected
for each pixel.</p>
</div>
<div class="paragraph">
<p><code>srcOffset</code> and <code>dstOffset</code> select the initial <code>x</code>, <code>y</code>, and
<code>z</code> offsets in texels of the sub-regions of the source and destination
image data.
<code>extent</code> is the size in texels of the source image to resolve in
<code>width</code>, <code>height</code> and <code>depth</code>.</p>
</div>
<div class="paragraph">
<p>Resolves are done layer by layer starting with <code>baseArrayLayer</code> member
of <code>srcSubresource</code> for the source and <code>dstSubresource</code> for the
destination.
<code>layerCount</code> layers are resolved to the destination image.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdResolveImage-pRegions-00253" href="#VUID-vkCmdResolveImage-pRegions-00253"></a>
The source region specified by each element of <code>pRegions</code> <strong class="purple">must</strong> be a
region that is contained within <code>srcImage</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-pRegions-00254" href="#VUID-vkCmdResolveImage-pRegions-00254"></a>
The destination region specified by each element of <code>pRegions</code> <strong class="purple">must</strong>
be a region that is contained within <code>dstImage</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-pRegions-00255" href="#VUID-vkCmdResolveImage-pRegions-00255"></a>
The union of all source regions, and the union of all destination
regions, specified by the elements of <code>pRegions</code>, <strong class="purple">must</strong> not overlap
in memory</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-srcImage-00256" href="#VUID-vkCmdResolveImage-srcImage-00256"></a>
If <code>srcImage</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-srcImage-00257" href="#VUID-vkCmdResolveImage-srcImage-00257"></a>
<code>srcImage</code> <strong class="purple">must</strong> have a sample count equal to any valid sample count
value other than <code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-dstImage-00258" href="#VUID-vkCmdResolveImage-dstImage-00258"></a>
If <code>dstImage</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-dstImage-00259" href="#VUID-vkCmdResolveImage-dstImage-00259"></a>
<code>dstImage</code> <strong class="purple">must</strong> have a sample count equal to
<code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-srcImageLayout-00260" href="#VUID-vkCmdResolveImage-srcImageLayout-00260"></a>
<code>srcImageLayout</code> <strong class="purple">must</strong> specify the layout of the image subresources
of <code>srcImage</code> specified in <code>pRegions</code> at the time this command
is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-srcImageLayout-00261" href="#VUID-vkCmdResolveImage-srcImageLayout-00261"></a>
<code>srcImageLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code>
or <code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-dstImageLayout-00262" href="#VUID-vkCmdResolveImage-dstImageLayout-00262"></a>
<code>dstImageLayout</code> <strong class="purple">must</strong> specify the layout of the image subresources
of <code>dstImage</code> specified in <code>pRegions</code> at the time this command
is executed on a <code>VkDevice</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-dstImageLayout-00263" href="#VUID-vkCmdResolveImage-dstImageLayout-00263"></a>
<code>dstImageLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code>
or <code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-dstImage-02003" href="#VUID-vkCmdResolveImage-dstImage-02003"></a>
The <a href="#resources-image-format-features">format features</a> of
<code>dstImage</code> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-srcImage-01386" href="#VUID-vkCmdResolveImage-srcImage-01386"></a>
<code>srcImage</code> and <code>dstImage</code> <strong class="purple">must</strong> have been created with the same
image format</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-srcSubresource-01709" href="#VUID-vkCmdResolveImage-srcSubresource-01709"></a>
The <code>srcSubresource.mipLevel</code> member of each element of
<code>pRegions</code> <strong class="purple">must</strong> be less than the <code>mipLevels</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>srcImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-dstSubresource-01710" href="#VUID-vkCmdResolveImage-dstSubresource-01710"></a>
The <code>dstSubresource.mipLevel</code> member of each element of
<code>pRegions</code> <strong class="purple">must</strong> be less than the <code>mipLevels</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>dstImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-srcSubresource-01711" href="#VUID-vkCmdResolveImage-srcSubresource-01711"></a>
The <span class="eq"><code>srcSubresource.baseArrayLayer</code> + 
<code>srcSubresource.layerCount</code></span> of each element of <code>pRegions</code> <strong class="purple">must</strong>
be less than or equal to the <code>arrayLayers</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>srcImage</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-dstSubresource-01712" href="#VUID-vkCmdResolveImage-dstSubresource-01712"></a>
The <span class="eq"><code>dstSubresource.baseArrayLayer</code> + 
<code>dstSubresource.layerCount</code></span> of each element of <code>pRegions</code> <strong class="purple">must</strong>
be less than or equal to the <code>arrayLayers</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>dstImage</code> was created</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdResolveImage-commandBuffer-parameter" href="#VUID-vkCmdResolveImage-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-srcImage-parameter" href="#VUID-vkCmdResolveImage-srcImage-parameter"></a> <code>srcImage</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-srcImageLayout-parameter" href="#VUID-vkCmdResolveImage-srcImageLayout-parameter"></a> <code>srcImageLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-dstImage-parameter" href="#VUID-vkCmdResolveImage-dstImage-parameter"></a> <code>dstImage</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-dstImageLayout-parameter" href="#VUID-vkCmdResolveImage-dstImageLayout-parameter"></a> <code>dstImageLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-pRegions-parameter" href="#VUID-vkCmdResolveImage-pRegions-parameter"></a> <code>pRegions</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>regionCount</code> valid <a href="#VkImageResolve">VkImageResolve</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-commandBuffer-recording" href="#VUID-vkCmdResolveImage-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-commandBuffer-cmdpool" href="#VUID-vkCmdResolveImage-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-renderpass" href="#VUID-vkCmdResolveImage-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-regionCount-arraylength" href="#VUID-vkCmdResolveImage-regionCount-arraylength"></a> <code>regionCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdResolveImage-commonparent" href="#VUID-vkCmdResolveImage-commonparent"></a> Each of <code>commandBuffer</code>, <code>dstImage</code>, and <code>srcImage</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageResolve</code> structure is defined as:</p>
</div>
<div id="VkImageResolve" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageResolve {
    VkImageSubresourceLayers    srcSubresource;
    VkOffset3D                  srcOffset;
    VkImageSubresourceLayers    dstSubresource;
    VkOffset3D                  dstOffset;
    VkExtent3D                  extent;
} VkImageResolve;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>srcSubresource</code> and <code>dstSubresource</code> are
<a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a> structures specifying the image
subresources of the images used for the source and destination image
data, respectively.
Resolve of depth/stencil images is not supported.</p>
</li>
<li>
<p><code>srcOffset</code> and <code>dstOffset</code> select the initial <code>x</code>, <code>y</code>,
and <code>z</code> offsets in texels of the sub-regions of the source and
destination image data.</p>
</li>
<li>
<p><code>extent</code> is the size in texels of the source image to resolve in
<code>width</code>, <code>height</code> and <code>depth</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageResolve-aspectMask-00266" href="#VUID-VkImageResolve-aspectMask-00266"></a>
The <code>aspectMask</code> member of <code>srcSubresource</code> and
<code>dstSubresource</code> <strong class="purple">must</strong> only contain <code>VK_IMAGE_ASPECT_COLOR_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageResolve-layerCount-00267" href="#VUID-VkImageResolve-layerCount-00267"></a>
The <code>layerCount</code> member of <code>srcSubresource</code> and
<code>dstSubresource</code> <strong class="purple">must</strong> match</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-srcImage-00268" href="#VUID-VkImageResolve-srcImage-00268"></a>
If either of the calling command&#8217;s <code>srcImage</code> or <code>dstImage</code>
parameters are of <a href="#VkImageType">VkImageType</a> <code>VK_IMAGE_TYPE_3D</code>, the
<code>baseArrayLayer</code> and <code>layerCount</code> members of both
<code>srcSubresource</code> and <code>dstSubresource</code> <strong class="purple">must</strong> be <code>0</code> and <code>1</code>,
respectively</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-srcOffset-00269" href="#VUID-VkImageResolve-srcOffset-00269"></a>
<code>srcOffset.x</code> and <span class="eq">(<code>extent.width</code> + 
<code>srcOffset.x</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the source image subresource width</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-srcOffset-00270" href="#VUID-VkImageResolve-srcOffset-00270"></a>
<code>srcOffset.y</code> and <span class="eq">(<code>extent.height</code> + 
<code>srcOffset.y</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the source image subresource height</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-srcImage-00271" href="#VUID-VkImageResolve-srcImage-00271"></a>
If the calling command&#8217;s <code>srcImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code>, then <code>srcOffset.y</code> <strong class="purple">must</strong> be <code>0</code> and
<code>extent.height</code> <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-srcOffset-00272" href="#VUID-VkImageResolve-srcOffset-00272"></a>
<code>srcOffset.z</code> and <span class="eq">(<code>extent.depth</code> + 
<code>srcOffset.z</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the source image subresource depth</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-srcImage-00273" href="#VUID-VkImageResolve-srcImage-00273"></a>
If the calling command&#8217;s <code>srcImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then <code>srcOffset.z</code>
<strong class="purple">must</strong> be <code>0</code> and <code>extent.depth</code> <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-dstOffset-00274" href="#VUID-VkImageResolve-dstOffset-00274"></a>
<code>dstOffset.x</code> and <span class="eq">(<code>extent.width</code> + 
<code>dstOffset.x</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the destination image subresource width</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-dstOffset-00275" href="#VUID-VkImageResolve-dstOffset-00275"></a>
<code>dstOffset.y</code> and <span class="eq">(<code>extent.height</code> + 
<code>dstOffset.y</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the destination image subresource height</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-dstImage-00276" href="#VUID-VkImageResolve-dstImage-00276"></a>
If the calling command&#8217;s <code>dstImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code>, then <code>dstOffset.y</code> <strong class="purple">must</strong> be <code>0</code> and
<code>extent.height</code> <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-dstOffset-00277" href="#VUID-VkImageResolve-dstOffset-00277"></a>
<code>dstOffset.z</code> and <span class="eq">(<code>extent.depth</code> + 
<code>dstOffset.z</code>)</span> <strong class="purple">must</strong> both be greater than or equal to <code>0</code> and less
than or equal to the destination image subresource depth</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-dstImage-00278" href="#VUID-VkImageResolve-dstImage-00278"></a>
If the calling command&#8217;s <code>dstImage</code> is of type
<code>VK_IMAGE_TYPE_1D</code> or <code>VK_IMAGE_TYPE_2D</code>, then <code>dstOffset.z</code>
<strong class="purple">must</strong> be <code>0</code> and <code>extent.depth</code> <strong class="purple">must</strong> be <code>1</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageResolve-srcSubresource-parameter" href="#VUID-VkImageResolve-srcSubresource-parameter"></a> <code>srcSubresource</code> <strong class="purple">must</strong> be a valid <a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a> structure</p>
</li>
<li>
<p><a id="VUID-VkImageResolve-dstSubresource-parameter" href="#VUID-VkImageResolve-dstSubresource-parameter"></a> <code>dstSubresource</code> <strong class="purple">must</strong> be a valid <a href="#VkImageSubresourceLayers">VkImageSubresourceLayers</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="drawing"><a class="anchor" href="#drawing"></a>19. Drawing Commands</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Drawing commands</em> (commands with <code>Draw</code> in the name) provoke work in a
graphics pipeline.
Drawing commands are recorded into a command buffer and when executed by a
queue, will produce work which executes according to the bound graphics
pipeline.
A graphics pipeline <strong class="purple">must</strong> be bound to a command buffer before any drawing
commands are recorded in that command buffer.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Each draw is made up of zero or more vertices and zero or more instances,
which are processed by the device and result in the assembly of primitives.
Primitives are assembled according to the <code>pInputAssemblyState</code> member
of the <code>VkGraphicsPipelineCreateInfo</code> structure, which is of type
<code>VkPipelineInputAssemblyStateCreateInfo</code>:</p>
</div>
<div id="VkPipelineInputAssemblyStateCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineInputAssemblyStateCreateInfo {
    VkStructureType                            sType;
    <span class="directive">const</span> <span class="directive">void</span>*                                pNext;
    VkPipelineInputAssemblyStateCreateFlags    flags;
    VkPrimitiveTopology                        topology;
    VkBool32                                   primitiveRestartEnable;
} VkPipelineInputAssemblyStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>topology</code> is a <a href="#VkPrimitiveTopology">VkPrimitiveTopology</a> defining the primitive
topology, as described below.</p>
</li>
<li>
<p><code>primitiveRestartEnable</code> controls whether a special vertex index
value is treated as restarting the assembly of primitives.
This enable only applies to indexed draws (<a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a> and
<a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a>), and the special index value is either
0xFFFFFFFF when the <code>indexType</code> parameter of
<code>vkCmdBindIndexBuffer</code> is equal to <code>VK_INDEX_TYPE_UINT32</code>,
or 0xFFFF when <code>indexType</code> is equal to <code>VK_INDEX_TYPE_UINT16</code>.
Primitive restart is not allowed for &#8220;list&#8221; topologies.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Restarting the assembly of primitives discards the most recent index values
if those elements formed an incomplete primitive, and restarts the primitive
assembly using the subsequent indices, but only assembling the immediately
following element through the end of the originally specified elements.
The primitive restart index value comparison is performed before adding the
<code>vertexOffset</code> value to the index value.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineInputAssemblyStateCreateInfo-topology-00428" href="#VUID-VkPipelineInputAssemblyStateCreateInfo-topology-00428"></a>
If <code>topology</code> is <code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code>,
<code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code>,
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code>,
<code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code>,
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code> or
<code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>, <code>primitiveRestartEnable</code>
<strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineInputAssemblyStateCreateInfo-topology-00429" href="#VUID-VkPipelineInputAssemblyStateCreateInfo-topology-00429"></a>
If the <a href="#features-geometryShader">geometry shaders</a> feature is not
enabled, <code>topology</code> <strong class="purple">must</strong> not be any of
<code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code>,
<code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code>,
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code> or
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineInputAssemblyStateCreateInfo-topology-00430" href="#VUID-VkPipelineInputAssemblyStateCreateInfo-topology-00430"></a>
If the <a href="#features-tessellationShader">tessellation shaders</a> feature is
not enabled, <code>topology</code> <strong class="purple">must</strong> not be
<code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineInputAssemblyStateCreateInfo-sType-sType" href="#VUID-VkPipelineInputAssemblyStateCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineInputAssemblyStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineInputAssemblyStateCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineInputAssemblyStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineInputAssemblyStateCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineInputAssemblyStateCreateInfo-topology-parameter" href="#VUID-VkPipelineInputAssemblyStateCreateInfo-topology-parameter"></a> <code>topology</code> <strong class="purple">must</strong> be a valid <a href="#VkPrimitiveTopology">VkPrimitiveTopology</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineInputAssemblyStateCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineInputAssemblyStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineInputAssemblyStateCreateFlags</code> is a bitmask type for setting
a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="drawing-primitive-topologies"><a class="anchor" href="#drawing-primitive-topologies"></a>19.1. Primitive Topologies</h3>
<div class="paragraph">
<p><em>Primitive topology</em> determines how consecutive vertices are organized into
primitives, and determines the type of primitive that is used at the
beginning of the graphics pipeline.
The effective topology for later stages of the pipeline is altered by
tessellation or geometry shading (if either is in use) and depends on the
execution modes of those shaders.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The primitive topologies defined by <a href="#VkPrimitiveTopology">VkPrimitiveTopology</a> are:</p>
</div>
<div id="VkPrimitiveTopology" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkPrimitiveTopology {
    VK_PRIMITIVE_TOPOLOGY_POINT_LIST = <span class="integer">0</span>,
    VK_PRIMITIVE_TOPOLOGY_LINE_LIST = <span class="integer">1</span>,
    VK_PRIMITIVE_TOPOLOGY_LINE_STRIP = <span class="integer">2</span>,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST = <span class="integer">3</span>,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP = <span class="integer">4</span>,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN = <span class="integer">5</span>,
    VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY = <span class="integer">6</span>,
    VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY = <span class="integer">7</span>,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY = <span class="integer">8</span>,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY = <span class="integer">9</span>,
    VK_PRIMITIVE_TOPOLOGY_PATCH_LIST = <span class="integer">10</span>,
    VK_PRIMITIVE_TOPOLOGY_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkPrimitiveTopology;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code> specifies a series of
<a href="#drawing-point-lists">separate point primitives</a>.</p>
</li>
<li>
<p><code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code> specifies a series of
<a href="#drawing-line-lists">separate line primitives</a>.</p>
</li>
<li>
<p><code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP</code> specifies a series of
<a href="#drawing-line-strips">connected line primitives</a> with consecutive lines
sharing a vertex.</p>
</li>
<li>
<p><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code> specifies a series of
<a href="#drawing-triangle-lists">separate triangle primitives</a>.</p>
</li>
<li>
<p><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code> specifies a series of
<a href="#drawing-triangle-strips">connected triangle primitives</a> with
consecutive triangles sharing an edge.</p>
</li>
<li>
<p><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code> specifies a series of
<a href="#drawing-triangle-fans">connected triangle primitives</a> with all
triangles sharing a common vertex.</p>
</li>
<li>
<p><code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code> specifies a series
of <a href="#drawing-line-lists-with-adjacency">separate line primitives with
adjacency</a>.</p>
</li>
<li>
<p><code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code> specifies a series
of <a href="#drawing-line-strips-with-adjacency">connected line primitives with
adjacency</a>, with consecutive primitives sharing three vertices.</p>
</li>
<li>
<p><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code> specifies a
series of <a href="#drawing-triangle-lists-with-adjacency">separate triangle
primitives with adjacency</a>.</p>
</li>
<li>
<p><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code> specifies
<a href="#drawing-triangle-strips-with-adjacency">connected triangle primitives
with adjacency</a>, with consecutive triangles sharing an edge.</p>
</li>
<li>
<p><code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code> specifies
<a href="#drawing-patch-lists">separate patch primitives</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each primitive topology, and its construction from a list of vertices, is
described in detail below with a supporting diagram, according to the
following key:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 75.0001%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><span class="image"><svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="8.9817867"
   height="8.9817867"
   viewBox="0 0 8.9817868 8.981787"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_key_vertex.svg">
  <defs
     id="defs8647" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8284271"
     inkscape:cx="100.2616"
     inkscape:cy="-104.45147"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="-90.50911"
       originy="-645.50922" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-103.0435,232.526)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2-3"
       cx="107.53439"
       cy="-228.03511"
       r="3.4908931" />
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Vertex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A point in 3-dimensional space.
  Positions chosen within the diagrams are arbitrary and for
  illustration only.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><span class="image"><svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="9.578125"
   height="13.875"
   viewBox="0 0 9.5781251 13.875"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_key_vertex_number.svg">
  <defs
     id="defs8647" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8284271"
     inkscape:cx="78.58644"
     inkscape:cy="-69.568388"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="-90.367191"
       originy="-618.75784" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-102.90158,210.66786)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="107.53439"
       y="-198.03505"
       id="text5070-2-2-9-9-41-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-1-5"
         x="107.53439"
         y="-198.03505"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">5</tspan></text>
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Vertex Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sequence position of a vertex within the provided vertex data.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><span class="image"><svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="57.461571"
   height="8.9817867"
   viewBox="0 0 57.461571 8.981787"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_key_vertex.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8284271"
     inkscape:cx="65.468648"
     inkscape:cy="-55.865628"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="-90.50911"
       originy="-595.50916" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-103.0435,182.52595)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <g
       transform="translate(-130,35.000057)"
       id="g11913-0">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1-5"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2-2)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3-8"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Provoking Vertex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provoking vertex within the main primitive.
  The arrow points along an edge of the relevant primitive, following winding order.
  Used in <a href="#vertexpostproc-flatshading">flat shading</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><span class="image"><svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="82"
   height="3"
   viewBox="0 0 82.000001 3.0000001"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_key_edge.svg">
  <defs
     id="defs8647" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8284271"
     inkscape:cx="-93.554098"
     inkscape:cy="-75.268926"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="-309"
       originy="-648.50003" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-321.53439,229.53503)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 322.53439,-228.03503 h 80"
       id="path2033-1"
       inkscape:connector-curvature="0" />
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Primitive Edge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An edge connecting the points of a main primitive.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><span class="image"><svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="82"
   height="3"
   viewBox="0 0 82.000001 3.0000001"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_key_adjacency_edge.svg">
  <defs
     id="defs8647" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8284271"
     inkscape:cx="-47.592157"
     inkscape:cy="-70.775023"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="-309"
       originy="-623.50003" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-321.53439,204.53503)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       d="m 322.53439,-203.03503 h 80"
       id="path2033"
       inkscape:connector-curvature="0" />
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Adjacency Edge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Points connected by these lines do not contribute to a main primitive,
  and are only accessible in a <a href="#geometry">geometry shader</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><span class="image"><svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="55.063816"
   height="46.178829"
   viewBox="0 0 55.063817 46.17883"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_key_winding_order.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-1"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-0"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-6"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-6"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-80"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path890-0"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8284271"
     inkscape:cx="-140.55056"
     inkscape:cy="-8.4326646"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="-307.02933"
       originy="-566.46097" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-319.56371,190.6748)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <g
       id="g4389-89"
       transform="translate(255,-44.999995)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-79"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039-1)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-3"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891-6)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-9"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend-80)" />
    </g>
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Winding Order</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The relative order in which vertices are defined within a primitive,
  used in the <a href="#primsrast-polygons-basic">facing determination</a>.
  This ordering has no specific start or end point.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The diagrams are supported with mathematical definitions where the vertices
(<span class="eq">v</span>) and primitives (<span class="eq">p</span>) are numbered starting from <span class="eq">0</span>;
<span class="eq">v<sub>0</sub></span> is the first vertex in the provided data and <span class="eq">p<sub>0</sub></span> is the
first primitive in the set of primitives defined by the vertices and
topology.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="drawing-point-lists"><a class="anchor" href="#drawing-point-lists"></a>19.1.1. Point Lists</h4>
<div class="paragraph">
<p>When the topology is <code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code>, each
consecutive vertex defines a single point primitive, according to the
equation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>i</sub>}</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>As there is only one vertex, that vertex is the provoking vertex.
The number of primitives generated is equal to <span class="eq"><code>vertexCount</code></span>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="200.14062"
   height="147.16275"
   viewBox="0 0 200.14063 147.16275"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_point_list.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path6742"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path6462"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2335"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart">
      <path
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2333"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Torso"
       orient="auto"
       refY="0"
       refX="0"
       id="Torso"
       style="overflow:visible"
       inkscape:isstock="true">
      <g
         id="g1107"
         transform="scale(0.7)"
         style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1">
        <path
           id="path1093"
           d="m -4.7792281,-3.239542 c 2.350374,0.3659393 5.30026732,1.9375477 5.03715532,3.62748546 C -0.00518779,2.0778819 -2.2126741,2.6176539 -4.5630471,2.2517169 -6.9134221,1.8857769 -8.521035,0.75201414 -8.257922,-0.93792336 -7.994809,-2.6278615 -7.1296041,-3.6054813 -4.7792281,-3.239542 Z"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.25;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path1095"
           d="M 4.4598789,0.08866574 C -2.5564571,-4.378332 5.2248769,-3.9061806 -0.84829578,-8.7197331"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path1097"
           d="M 4.9298719,0.05752074 C -1.3872731,1.7494689 1.8027579,5.4782079 -4.9448731,7.5462725"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <rect
           id="rect1099"
           transform="matrix(0.527536,-0.849533,0.887668,0.460484,0,0)"
           y="-1.7408575"
           x="-10.391706"
           height="2.7608147"
           width="2.6366582"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" />
        <rect
           id="rect1101"
           transform="matrix(0.671205,-0.741272,0.790802,0.612072,0,0)"
           y="-7.9629307"
           x="4.9587269"
           height="2.8614161"
           width="2.7327356"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" />
        <path
           id="path1103"
           transform="matrix(0,-1.109517,1.109517,0,25.96648,19.71619)"
           d="m 16.779951,-28.685045 a 0.60731727,0.60731727 0 1 0 -1.214634,0 0.60731727,0.60731727 0 1 0 1.214634,0 z"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path1105"
           transform="matrix(0,-1.109517,1.109517,0,26.8245,16.99126)"
           d="m 16.779951,-28.685045 a 0.60731727,0.60731727 0 1 0 -1.214634,0 0.60731727,0.60731727 0 1 0 1.214634,0 z"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
      </g>
    </marker>
    <marker
       inkscape:stockid="Tail"
       orient="auto"
       refY="0"
       refX="0"
       id="Tail"
       style="overflow:visible"
       inkscape:isstock="true">
      <g
         id="g929"
         transform="scale(-1.2)"
         style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1">
        <path
           id="path917"
           d="M -3.8048674,-3.9585227 0.54352094,0"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path919"
           d="M -1.2866832,-3.9585227 3.0617053,0"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path921"
           d="M 1.3053582,-3.9585227 5.6537466,0"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path923"
           d="M -3.8048674,4.1775838 0.54352094,0.21974226"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path925"
           d="M -1.2866832,4.1775838 3.0617053,0.21974226"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path927"
           d="M 1.3053582,4.1775838 5.6537466,0.21974226"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
      </g>
    </marker>
    <marker
       inkscape:stockid="Legs"
       orient="auto"
       refY="0"
       refX="0"
       id="Legs"
       style="overflow:visible"
       inkscape:isstock="true">
      <g
         id="g1090"
         transform="scale(-0.7)"
         style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1">
        <g
           id="g1084"
           transform="matrix(0,-1,-1,0,20.70862,21.31391)"
           style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1">
          <path
             id="path1080"
             d="m 21.22125,20.67536 c -6.910151,4.721157 -2.454525,6.606844 -5.841071,13.443235"
             style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
             inkscape:connector-curvature="0" />
          <path
             id="path1082"
             d="m 21.39811,20.54812 c -1.360509,8.347524 3.536072,8.76994 4.505041,13.824958"
             style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
             inkscape:connector-curvature="0" />
        </g>
        <path
           id="path1086"
           d="m -14.09007,-6.7318716 -0.922168,4.043383 3.962751,-1.22307 z"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path1088"
           d="m -15.215679,4.5567534 1.874127,3.699613 2.266874,-3.472855 z"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
      </g>
    </marker>
    <marker
       inkscape:stockid="Scissors"
       orient="auto"
       refY="0"
       refX="0"
       id="Scissors"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="schere"
         d="M 9.0898857,-3.6061018 C 8.1198849,-4.7769976 6.3697607,-4.7358294 5.0623558,-4.2327734 l -8.2124046,3.0779029 c -2.3882933,-1.3067135 -4.7482873,-0.9325372 -4.7482873,-1.5687873 0,-0.4973164 0.4566662,-0.3883222 0.3883068,-1.6831941 -0.065635,-1.2432767 -1.3635771,-2.1630796 -2.5903987,-2.0816435 -1.227271,-0.00735 -2.499439,0.9331613 -2.510341,2.2300611 -0.09143,1.3063864 1.007209,2.5196896 2.306764,2.6052316 1.5223406,0.2266616 4.218258,-0.6955566 5.482945,1.57086006 -0.9422847,1.73825774 -2.6140244,1.74307674 -4.1255107,1.65607034 -1.2548743,-0.072235 -2.7620933,0.2873979 -3.3606483,1.5208605 -0.578367,1.1820862 -0.0112,2.8646022 1.316749,3.226412 1.3401912,0.4918277 3.1806689,-0.129711 3.4993722,-1.6707242 0.2456585,-1.187823 -0.5953659,-1.7459574 -0.2725074,-2.1771537 0.2436135,-0.32536 1.7907806,-0.1368452 4.5471053,-1.3748244 L 5.6763468,4.2330688 C 6.8000164,4.5467672 8.1730685,4.5362646 9.1684433,3.4313614 l -9.22008423,-3.48508362 z m -18.3078016,-1.900504 c 1.294559,0.7227998 1.1888392,2.6835702 -0.1564272,3.0632889 -1.2165179,0.423661 -2.7710269,-0.7589694 -2.3831779,-2.0774648 0.227148,-1.0818519 1.653387,-1.480632 2.5396051,-0.9858241 z m 0.056264,8.0173649 c 1.3508301,0.4988648 1.1214429,2.7844356 -0.2522207,3.091609 -0.9110594,0.3163391 -2.2135494,-0.1387976 -2.3056964,-1.2121394 -0.177609,-1.305055 1.356085,-2.4841482 2.5579171,-1.8794696 z"
         style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="TriangleInS"
       orient="auto"
       refY="0"
       refX="0"
       id="TriangleInS"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path1020"
         d="M 5.77,0 -2.88,5 V -5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="scale(-0.2)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="DiamondS"
       orient="auto"
       refY="0"
       refX="0"
       id="DiamondS"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path966"
         d="M 0,-7.0710768 -7.0710894,0 0,7.0710589 7.0710462,0 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="scale(0.2)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow2Send"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow2Send"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path914"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.625;stroke-linejoin:round;stroke-opacity:1"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         transform="matrix(-0.3,0,0,-0.3,0.69,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow2Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow2Mend"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path908"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.625;stroke-linejoin:round;stroke-opacity:1"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         transform="scale(-0.6)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="TriangleInM"
       orient="auto"
       refY="0"
       refX="0"
       id="TriangleInM"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path1017"
         d="M 5.77,0 -2.88,5 V -5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="scale(-0.4)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path884"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-4"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-9" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-6"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-8" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-0"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-5" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-7"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-5" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-9"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-2" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-0"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-4" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-1"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-99" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-75"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-3" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-6"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-8"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-7" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-6-3"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-0-2" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-8-3"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-7-1" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-1-9"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-99-5" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-75-9"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-3-1" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-2"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-53" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-5"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-6" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-0"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-88"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-1-9-3"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-99-5-6" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-75-9-2"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-3-1-7" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-2-4"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-53-9" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-5-1"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-6-6" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-1-9-3-5"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-99-5-6-2" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-75-9-2-5"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-3-1-7-1" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8284272"
     inkscape:cx="118.95274"
     inkscape:cy="44.306863"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="64.835941"
       originy="-455.50911" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(52.301544,180.70697)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="12.534395"
       y="-108.03511"
       id="text5070-2-2-9-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9"
         x="12.534395"
         y="-108.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="142.53439"
       y="-118.03511"
       id="text5070-2-2-9-9-1"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-3"
         x="142.53439"
         y="-118.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">4</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="-47.465607"
       y="-148.03511"
       id="text5070-2-2-9-9-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6"
         x="-47.465607"
         y="-148.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="52.534393"
       y="-168.0351"
       id="text5070-2-2-9-9-6"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4"
         x="52.534393"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="-48.03511"
       id="text5070-2-2-9-9-77"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5"
         x="92.534393"
         y="-48.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8"
       cx="142.53439"
       cy="-108.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91"
       cx="52.534393"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2"
       cx="92.534393"
       cy="-38.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-25"
       cx="-47.465607"
       cy="-138.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-5"
       cx="12.534393"
       cy="-98.03511"
       r="3.4908931" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       x="572.53442"
       y="-168.03511"
       id="text11340"><tspan
         sodipodi:role="line"
         id="tspan11338"
         x="572.53442"
         y="-131.5419" /></text>
  </g>
</svg>
</div>
</div>
</div>
<div class="sect3">
<h4 id="drawing-line-lists"><a class="anchor" href="#drawing-line-lists"></a>19.1.2. Line Lists</h4>
<div class="paragraph">
<p>When the <code>topology</code> is <code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code>, each
consecutive pair of vertices defines a single line primitive, according to
the equation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>2i</sub>, v<sub>2i+1</sub>}</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The provoking vertex for <span class="eq">p<sub>i</sub></span> is <span class="eq">v<sub>2i</sub></span>.
The number of primitives generated is equal to
<span class="eq"><code>vertexCount</code>/2</span>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="89.898438"
   height="107.35807"
   viewBox="0 0 89.898439 107.35807"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_line_list.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="4.0000001"
     inkscape:cx="-58.787592"
     inkscape:cy="35.104811"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="-74.976564"
       originy="-495.50911" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-87.510956,180.90228)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="-168.0351"
       id="text5070-2-2-9-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9"
         x="92.534393"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="-88.035103"
       id="text5070-2-2-9-9-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6"
         x="92.534393"
         y="-88.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="172.53439"
       y="-168.0351"
       id="text5070-2-2-9-9-6"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4"
         x="172.53439"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="172.53439"
       y="-88.035103"
       id="text5070-2-2-9-9-77"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5"
         x="172.53439"
         y="-88.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2"
       cx="172.53439"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2-4"
       cx="172.53439"
       cy="-78.035103"
       r="3.4908931" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 92.534393,-158.0351 H 172.53439"
       id="path2033"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 92.534393,-78.035103 H 172.53439"
       id="path2033-5"
       inkscape:connector-curvature="0" />
    <g
       transform="translate(-145,135.00001)"
       id="g11913">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       transform="translate(-145,55.00001)"
       id="g11913-0">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1-5"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2-2)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3-8"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
  </g>
</svg>
</div>
</div>
</div>
<div class="sect3">
<h4 id="drawing-line-strips"><a class="anchor" href="#drawing-line-strips"></a>19.1.3. Line Strips</h4>
<div class="paragraph">
<p>When the <code>topology</code> is <code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP</code>, one line
primitive is defined by each vertex and the following vertex, according to
the equation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>i</sub>, v<sub>i+1</sub>}</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The provoking vertex for <span class="eq">p<sub>i</sub></span> is <span class="eq">v<sub>i</sub></span>.
The number of primitives generated is equal to
<span class="eq">max(0,<code>vertexCount</code>-1)</span>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="249.89841"
   height="27.365885"
   viewBox="0 0 249.89841 27.365885"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_line_strip.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2-1"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67-6"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2-4"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67-9"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8284272"
     inkscape:cx="107.20619"
     inkscape:cy="-38.353989"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="-314.97657"
       originy="-495.50911" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-327.51096,100.9101)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="332.53439"
       y="-88.035095"
       id="text5070-2-2-9-9-8"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-9"
         x="332.53439"
         y="-88.035095"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="492.53439"
       y="-88.035095"
       id="text5070-2-2-9-9-7-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6-6"
         x="492.53439"
         y="-88.035095"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="412.53439"
       y="-88.035095"
       id="text5070-2-2-9-9-6-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-8"
         x="412.53439"
         y="-88.035095"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="572.53436"
       y="-88.035095"
       id="text5070-2-2-9-9-77-5"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5-1"
         x="572.53436"
         y="-88.035095"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-5-0-7"
       cx="572.53436"
       cy="-78.035103"
       r="3.4908931" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 332.53439,-78.0351 240,-5e-6"
       id="path2085"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <g
       transform="translate(94.999997,135.00001)"
       id="g11913">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       transform="translate(175,135.00001)"
       id="g11913-2">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1-9"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2-1)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3-9"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       transform="translate(255,135.00001)"
       id="g11913-4">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1-7"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2-4)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3-1"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
  </g>
</svg>
</div>
</div>
</div>
<div class="sect3">
<h4 id="drawing-triangle-lists"><a class="anchor" href="#drawing-triangle-lists"></a>19.1.4. Triangle Lists</h4>
<div class="paragraph">
<p>When the <code>topology</code> is <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code>, each
consecutive set of three vertices defines a single triangle primitive,
according to the equation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>3i</sub>, v<sub>3i+1</sub>, v<sub>3i+2</sub>}</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The provoking vertex for <span class="eq">p<sub>i</sub></span> is <span class="eq">v<sub>3i</sub></span>.
The number of primitives generated is equal to
<span class="eq"><code>vertexCount</code>/3</span>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="210.32816"
   height="104.11718"
   viewBox="0 0 210.32816 104.11718"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_triangle_list.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-2-4"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-53-9" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-5-1"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-6-6" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-7-3"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         id="path890-92-9"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-5"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path6462-51"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2471"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart"
       inkscape:collect="always">
      <path
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2469"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-4"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path6742-54"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="5.6568544"
     inkscape:cx="96.202476"
     inkscape:cy="45.476384"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="-474.97657"
       originy="-498.75782" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-487.51096,180.9101)">
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 612.53439,-158.0351 40,59.999997 40,-59.999997 z"
       id="path11344"
       inkscape:connector-curvature="0" />
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="572.53442"
       y="-78.035103"
       id="text5070-2-2-9-9-75-8"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-68-4"
         x="572.53442"
         y="-78.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="532.53436"
       y="-168.03508"
       id="text5070-2-2-9-9-7-4-5"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6-3-1"
         x="532.53436"
         y="-168.03508"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="492.53439"
       y="-78.035103"
       id="text5070-2-2-9-9-6-2-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-4-0"
         x="492.53439"
         y="-78.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91-9-3"
       cx="532.53436"
       cy="-158.03508"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-25-0-0"
       cx="572.53442"
       cy="-98.035103"
       r="3.4908931" />
    <g
       id="g4389-3-6"
       transform="translate(440,2.147998e-5)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-1-8"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039-2-4)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-2-7"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891-5-1)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-1-0"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend-7-3)" />
    </g>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="612.53442"
       y="-168.0351"
       id="text5070-2-2-9-9-75-8-3"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-68-4-4"
         x="612.53442"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="652.53442"
       y="-78.035103"
       id="text5070-2-2-9-9-1-4-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-3-6-1"
         x="652.53442"
         y="-78.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">5</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="692.53442"
       y="-168.0351"
       id="text5070-2-2-9-9-77-2-4"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5-2-0"
         x="692.53442"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">4</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8-0-3"
       cx="652.53442"
       cy="-98.035103"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-25-0-0-6"
       cx="692.53442"
       cy="-158.0351"
       r="3.4908931" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       x="572.53442"
       y="-168.03511"
       id="text11340"><tspan
         sodipodi:role="line"
         id="tspan11338"
         x="572.53442"
         y="-131.5419" /></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 492.53439,-98.035095 40,-59.999995 40,59.999995 z"
       id="path11342"
       inkscape:connector-curvature="0" />
    <g
       id="g7055"
       transform="translate(350.00001,-10)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3"
         d="m 277.53439,-133.0351 20,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-5)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-9-9"
         d="m 307.53439,-103.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker2471)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3"
         d="m 327.53439,-143.0351 h -50"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-4)" />
    </g>
    <g
       id="g11971"
       transform="translate(225.33855,39.31883)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-4-6"
         d="m 287.19584,-167.35393 -20,30"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5)" />
      <circle
         r="3.4908931"
         cy="-138.03511"
         cx="267.53439"
         id="path4517-0-8-5-91-0-97"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       transform="translate(375,55.00001)"
       id="g11913">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
  </g>
</svg>
</div>
</div>
</div>
<div class="sect3">
<h4 id="drawing-triangle-strips"><a class="anchor" href="#drawing-triangle-strips"></a>19.1.5. Triangle Strips</h4>
<div class="paragraph">
<p>When the <code>topology</code> is <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>, one
triangle primitive is defined by each vertex and the two vertices that
follow it, according to the equation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>i</sub>, v<sub>i+(1+i%2)</sub>, v<sub>i+(2-i%2)</sub>}</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The provoking vertex for <span class="eq">p<sub>i</sub></span> is <span class="eq">v<sub>i</sub></span>.
The number of primitives generated is equal to
<span class="eq">max(0,<code>vertexCount</code>-2)</span>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="170.32812"
   height="104.11719"
   viewBox="0 0 170.32813 104.11719"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_triangle_strip.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path6742"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path6462"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path890"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2335"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart">
      <path
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2333"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Torso"
       orient="auto"
       refY="0"
       refX="0"
       id="Torso"
       style="overflow:visible"
       inkscape:isstock="true">
      <g
         id="g1107"
         transform="scale(0.7)"
         style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1">
        <path
           id="path1093"
           d="m -4.7792281,-3.239542 c 2.350374,0.3659393 5.30026732,1.9375477 5.03715532,3.62748546 C -0.00518779,2.0778819 -2.2126741,2.6176539 -4.5630471,2.2517169 -6.9134221,1.8857769 -8.521035,0.75201414 -8.257922,-0.93792336 -7.994809,-2.6278615 -7.1296041,-3.6054813 -4.7792281,-3.239542 Z"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.25;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path1095"
           d="M 4.4598789,0.08866574 C -2.5564571,-4.378332 5.2248769,-3.9061806 -0.84829578,-8.7197331"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path1097"
           d="M 4.9298719,0.05752074 C -1.3872731,1.7494689 1.8027579,5.4782079 -4.9448731,7.5462725"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <rect
           id="rect1099"
           transform="matrix(0.527536,-0.849533,0.887668,0.460484,0,0)"
           y="-1.7408575"
           x="-10.391706"
           height="2.7608147"
           width="2.6366582"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" />
        <rect
           id="rect1101"
           transform="matrix(0.671205,-0.741272,0.790802,0.612072,0,0)"
           y="-7.9629307"
           x="4.9587269"
           height="2.8614161"
           width="2.7327356"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" />
        <path
           id="path1103"
           transform="matrix(0,-1.109517,1.109517,0,25.96648,19.71619)"
           d="m 16.779951,-28.685045 a 0.60731727,0.60731727 0 1 0 -1.214634,0 0.60731727,0.60731727 0 1 0 1.214634,0 z"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path1105"
           transform="matrix(0,-1.109517,1.109517,0,26.8245,16.99126)"
           d="m 16.779951,-28.685045 a 0.60731727,0.60731727 0 1 0 -1.214634,0 0.60731727,0.60731727 0 1 0 1.214634,0 z"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
      </g>
    </marker>
    <marker
       inkscape:stockid="Tail"
       orient="auto"
       refY="0"
       refX="0"
       id="Tail"
       style="overflow:visible"
       inkscape:isstock="true">
      <g
         id="g929"
         transform="scale(-1.2)"
         style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1">
        <path
           id="path917"
           d="M -3.8048674,-3.9585227 0.54352094,0"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path919"
           d="M -1.2866832,-3.9585227 3.0617053,0"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path921"
           d="M 1.3053582,-3.9585227 5.6537466,0"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path923"
           d="M -3.8048674,4.1775838 0.54352094,0.21974226"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path925"
           d="M -1.2866832,4.1775838 3.0617053,0.21974226"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path927"
           d="M 1.3053582,4.1775838 5.6537466,0.21974226"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.80000001;stroke-linecap:round;stroke-opacity:1"
           inkscape:connector-curvature="0" />
      </g>
    </marker>
    <marker
       inkscape:stockid="Legs"
       orient="auto"
       refY="0"
       refX="0"
       id="Legs"
       style="overflow:visible"
       inkscape:isstock="true">
      <g
         id="g1090"
         transform="scale(-0.7)"
         style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1">
        <g
           id="g1084"
           transform="matrix(0,-1,-1,0,20.70862,21.31391)"
           style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1">
          <path
             id="path1080"
             d="m 21.22125,20.67536 c -6.910151,4.721157 -2.454525,6.606844 -5.841071,13.443235"
             style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
             inkscape:connector-curvature="0" />
          <path
             id="path1082"
             d="m 21.39811,20.54812 c -1.360509,8.347524 3.536072,8.76994 4.505041,13.824958"
             style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
             inkscape:connector-curvature="0" />
        </g>
        <path
           id="path1086"
           d="m -14.09007,-6.7318716 -0.922168,4.043383 3.962751,-1.22307 z"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
        <path
           id="path1088"
           d="m -15.215679,4.5567534 1.874127,3.699613 2.266874,-3.472855 z"
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
           inkscape:connector-curvature="0" />
      </g>
    </marker>
    <marker
       inkscape:stockid="Scissors"
       orient="auto"
       refY="0"
       refX="0"
       id="Scissors"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="schere"
         d="M 9.0898857,-3.6061018 C 8.1198849,-4.7769976 6.3697607,-4.7358294 5.0623558,-4.2327734 l -8.2124046,3.0779029 c -2.3882933,-1.3067135 -4.7482873,-0.9325372 -4.7482873,-1.5687873 0,-0.4973164 0.4566662,-0.3883222 0.3883068,-1.6831941 -0.065635,-1.2432767 -1.3635771,-2.1630796 -2.5903987,-2.0816435 -1.227271,-0.00735 -2.499439,0.9331613 -2.510341,2.2300611 -0.09143,1.3063864 1.007209,2.5196896 2.306764,2.6052316 1.5223406,0.2266616 4.218258,-0.6955566 5.482945,1.57086006 -0.9422847,1.73825774 -2.6140244,1.74307674 -4.1255107,1.65607034 -1.2548743,-0.072235 -2.7620933,0.2873979 -3.3606483,1.5208605 -0.578367,1.1820862 -0.0112,2.8646022 1.316749,3.226412 1.3401912,0.4918277 3.1806689,-0.129711 3.4993722,-1.6707242 0.2456585,-1.187823 -0.5953659,-1.7459574 -0.2725074,-2.1771537 0.2436135,-0.32536 1.7907806,-0.1368452 4.5471053,-1.3748244 L 5.6763468,4.2330688 C 6.8000164,4.5467672 8.1730685,4.5362646 9.1684433,3.4313614 l -9.22008423,-3.48508362 z m -18.3078016,-1.900504 c 1.294559,0.7227998 1.1888392,2.6835702 -0.1564272,3.0632889 -1.2165179,0.423661 -2.7710269,-0.7589694 -2.3831779,-2.0774648 0.227148,-1.0818519 1.653387,-1.480632 2.5396051,-0.9858241 z m 0.056264,8.0173649 c 1.3508301,0.4988648 1.1214429,2.7844356 -0.2522207,3.091609 -0.9110594,0.3163391 -2.2135494,-0.1387976 -2.3056964,-1.2121394 -0.177609,-1.305055 1.356085,-2.4841482 2.5579171,-1.8794696 z"
         style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="TriangleInS"
       orient="auto"
       refY="0"
       refX="0"
       id="TriangleInS"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path1020"
         d="M 5.77,0 -2.88,5 V -5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="scale(-0.2)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="DiamondS"
       orient="auto"
       refY="0"
       refX="0"
       id="DiamondS"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path966"
         d="M 0,-7.0710768 -7.0710894,0 0,7.0710589 7.0710462,0 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="scale(0.2)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow2Send"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow2Send"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path914"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.625;stroke-linejoin:round;stroke-opacity:1"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         transform="matrix(-0.3,0,0,-0.3,0.69,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow2Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow2Mend"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path908"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.625;stroke-linejoin:round;stroke-opacity:1"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         transform="scale(-0.6)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="TriangleInM"
       orient="auto"
       refY="0"
       refX="0"
       id="TriangleInM"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path1017"
         d="M 5.77,0 -2.88,5 V -5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="scale(-0.4)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path884"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-4"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-9" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-6"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-8" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-0"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-5" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-7"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-5" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-9"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-2" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-0"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-4" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-1"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-99" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-75"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-3" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-9"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         id="path890-9"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-6"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-8"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-7" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-6-3"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-0-2" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-8-3"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-7-1" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-1-9"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-99-5" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-75-9"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-3-1" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-2"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-53" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-5"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-6" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2471-7"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2469-6" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-0"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-88"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-1-9-3"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-99-5-6" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-75-9-2"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-3-1-7" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-2-4"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-53-9" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-5-1"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-6-6" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-1-9-3-5"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-99-5-6-2" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-75-9-2-5"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-3-1-7-1" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-9"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-2"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8284272"
     inkscape:cx="190.90357"
     inkscape:cy="64.284967"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="5.0234376"
       originy="-498.75782" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-7.5109558,180.91011)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="12.534393"
       y="-78.03511"
       id="text5070-2-2-9-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9"
         x="12.534393"
         y="-78.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="172.53439"
       y="-78.035103"
       id="text5070-2-2-9-9-1"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-3"
         x="172.53439"
         y="-78.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">4</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="-78.035103"
       id="text5070-2-2-9-9-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6"
         x="92.534393"
         y="-78.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="52.534393"
       y="-168.0351"
       id="text5070-2-2-9-9-6"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4"
         x="52.534393"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="132.53439"
       y="-168.03511"
       id="text5070-2-2-9-9-77"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5"
         x="132.53439"
         y="-168.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8"
       cx="172.53439"
       cy="-98.035103"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2"
       cx="132.53439"
       cy="-158.03511"
       r="3.4908931" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 12.534393,-98.035106 40,-59.999994 h 79.999997 l 40,59.999994 z m 40,-59.999994 39.999997,59.999994 40,-59.999994"
       id="path875"
       inkscape:connector-curvature="0" />
    <g
       id="g4389"
       transform="translate(-40,-2.5e-6)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend)" />
    </g>
    <g
       transform="translate(39.661444,0.68117295)"
       id="g4389-5">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-6"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039-1)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-4"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891-75)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-0"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend-9)" />
    </g>
    <g
       transform="translate(-210,-10.000003)"
       id="g7055-4">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3"
         d="m 277.53439,-133.0351 20,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-9-9-3"
         d="m 307.53439,-103.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker2471-7)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1"
         d="m 327.53439,-143.0351 h -50"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8)" />
    </g>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       x="572.53442"
       y="-168.03511"
       id="text11340"><tspan
         sodipodi:role="line"
         id="tspan11338"
         x="572.53442"
         y="-131.5419" /></text>
    <g
       id="g11971"
       transform="translate(-254.66145,39.318827)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-4-6"
         d="m 287.19584,-167.35393 -20,30"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5)" />
      <circle
         r="3.4908931"
         cy="-138.03511"
         cx="267.53439"
         id="path4517-0-8-5-91-0-97"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       id="g11971-3"
       transform="translate(-175,40.000008)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-4-6-3"
         d="m 287.19584,-167.35393 -20,30"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5-9)" />
      <circle
         r="3.4908931"
         cy="-138.03511"
         cx="267.53439"
         id="path4517-0-8-5-91-0-97-3"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       transform="translate(-185,55.000008)"
       id="g11913">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
  </g>
</svg>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The ordering of the vertices in each successive triangle is reversed, so
that the winding order is consistent throughout the strip.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="drawing-triangle-fans"><a class="anchor" href="#drawing-triangle-fans"></a>19.1.6. Triangle Fans</h4>
<div class="paragraph">
<p>When the <code>topology</code> is <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code>,
triangle primitives are defined around a shared common vertex, according to
the equation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>i+1</sub>, v<sub>i+2</sub>, v<sub>0</sub>}</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The provoking vertex for <span class="eq">p<sub>i</sub></span> is <span class="eq">v<sub>i+1</sub></span>.
The number of primitives generated is equal to
<span class="eq">max(0,<code>vertexCount</code>-2)</span>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="169.79558"
   height="104.11718"
   viewBox="0 0 169.79558 104.11718"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_triangle_fan.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path6742"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path6462"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2471"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart"
       inkscape:collect="always">
      <path
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2469"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-1-9"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-99-5" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-75-9"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-3-1" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-9-0"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         id="path890-9-1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-2"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-53" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-5"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-6" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-7"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         id="path890-92"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-7"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-9"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#ff0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-7-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-9-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#ff0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8284272"
     inkscape:cx="103.53008"
     inkscape:cy="28.252529"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="-235.50911"
       originy="-498.75781" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-248.0435,180.9101)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="332.53439"
       y="-78.035103"
       id="text5070-2-2-9-9-75"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-68"
         x="332.53439"
         y="-78.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="412.53439"
       y="-78.035103"
       id="text5070-2-2-9-9-1-4"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-3-6"
         x="412.53439"
         y="-78.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">4</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="292.53439"
       y="-168.0351"
       id="text5070-2-2-9-9-7-4"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6-3"
         x="292.53439"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="252.53439"
       y="-78.035103"
       id="text5070-2-2-9-9-6-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-4"
         x="252.53439"
         y="-78.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="372.53439"
       y="-168.0351"
       id="text5070-2-2-9-9-77-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5-2"
         x="372.53439"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8-0"
       cx="412.53439"
       cy="-98.035095"
       r="3.4908931" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 252.53439,-98.0351 40,-59.99999 h 80 l 40,59.99999 z m 40,-59.99999 40,59.99999 40,-59.99999"
       id="path875-4"
       inkscape:connector-curvature="0" />
    <g
       id="g4389-3"
       transform="translate(200,6.6621094e-6)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-1"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039-2)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-2"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891-5)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-1"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend-7)" />
    </g>
    <g
       transform="translate(279.66144,0.68117665)"
       id="g4389-5-5">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-6-6"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039-1-9)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-4-3"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891-75-9)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-0-9"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend-9-0)" />
    </g>
    <g
       id="g7055"
       transform="translate(30,-9.9999914)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3"
         d="m 277.53439,-133.0351 20,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-9-9"
         d="m 307.53439,-103.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker2471)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3"
         d="m 327.53439,-143.0351 h -50"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744)" />
    </g>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       x="572.53442"
       y="-168.03511"
       id="text11340"><tspan
         sodipodi:role="line"
         id="tspan11338"
         x="572.53442"
         y="-131.5419" /></text>
    <g
       transform="translate(55,55)"
       id="g11913">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       id="g1412"
       transform="translate(-185,80)">
      <circle
         r="3.4908931"
         cy="-178.03511"
         cx="437.53439"
         id="path4517-0-8-5-2-9"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-4-6-8"
         d="m 457.53438,-208.03511 -19.99999,30"
         style="fill:#ff0000;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5-7)" />
    </g>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2-9-7"
       cx="332.53439"
       cy="-98.03511"
       r="3.4908931" />
    <g
       id="g1412-5"
       transform="matrix(1,0,0,-1,-65,-336.07022)">
      <circle
         r="3.4908931"
         cy="-178.03511"
         cx="437.53439"
         id="path4517-0-8-5-2-9-6"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-4-6-8-0"
         d="m 457.53438,-208.03511 -19.99999,30"
         style="fill:#ff0000;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5-7-2)" />
    </g>
  </g>
</svg>
</div>
</div>
</div>
<div class="sect3">
<h4 id="drawing-line-lists-with-adjacency"><a class="anchor" href="#drawing-line-lists-with-adjacency"></a>19.1.7. Line Lists With Adjacency</h4>
<div class="paragraph">
<p>When the <code>topology</code> is
<code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code>, each consecutive set
of four vertices defines a single line primitive with adjacency, according
to the equation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>4i</sub>, v<sub>4i+1</sub>, v<sub>4i+2</sub>,v<sub>4i+3</sub>}</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A line primitive is described by the second and third vertices of the total
primitive, with the remaining two vertices only accessible in a
<a href="#geometry">geometry shader</a>.</p>
</div>
<div class="paragraph">
<p>The provoking vertex for <span class="eq">p<sub>i</sub></span> is <span class="eq">v<sub>4i+1</sub></span>.
The number of primitives generated is equal to
<span class="eq"><code>vertexCount</code>/4</span>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="250.5625"
   height="107.36588"
   viewBox="0 0 250.5625 107.36588"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_line_list_with_adjacency.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2-3"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67-0"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="4.0000001"
     inkscape:cx="138.82804"
     inkscape:cy="53.360384"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="5.4921875"
       originy="-495.5091" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-7.0422058,180.9101)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="12.534393"
       y="-168.0351"
       id="text5070-2-2-9-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9"
         x="12.534393"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="172.53439"
       y="-168.0351"
       id="text5070-2-2-9-9-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6"
         x="172.53439"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="-168.0351"
       id="text5070-2-2-9-9-6"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4"
         x="92.534393"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="252.53439"
       y="-168.0351"
       id="text5070-2-2-9-9-77"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5"
         x="252.53439"
         y="-168.0351"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8"
       cx="12.534393"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2"
       cx="172.53439"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-5-0"
       cx="252.53439"
       cy="-158.03511"
       r="3.4908931" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="12.534393"
       y="-88.035088"
       id="text5070-2-2-9-9-0"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-1"
         x="12.534393"
         y="-88.035088"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">4</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="172.53439"
       y="-88.035088"
       id="text5070-2-2-9-9-7-3"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6-8"
         x="172.53439"
         y="-88.035088"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">6</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="-88.035088"
       id="text5070-2-2-9-9-6-4"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-1"
         x="92.534393"
         y="-88.035088"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">5</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="252.53439"
       y="-88.035088"
       id="text5070-2-2-9-9-77-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5-3"
         x="252.53439"
         y="-88.035088"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">7</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8-7"
       cx="12.534393"
       cy="-78.035103"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2-4"
       cx="172.53439"
       cy="-78.035103"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-5-0-2"
       cx="252.53439"
       cy="-78.035103"
       r="3.4908931" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       d="m 12.534393,-158.0351 h 80 m 79.999997,0 h 80"
       id="path2031"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 92.534393,-158.0351 H 172.53439"
       id="path2033"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       d="m 12.534393,-78.035103 h 80 m 79.999997,0 h 80"
       id="path2031-2"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 92.534393,-78.035103 H 172.53439"
       id="path2033-5"
       inkscape:connector-curvature="0" />
    <g
       transform="translate(-145,54.999993)"
       id="g11913">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       transform="translate(-145,134.99999)"
       id="g11913-3">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1-0"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2-3)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3-9"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
  </g>
</svg>
</div>
</div>
</div>
<div class="sect3">
<h4 id="drawing-line-strips-with-adjacency"><a class="anchor" href="#drawing-line-strips-with-adjacency"></a>19.1.8. Line Strips With Adjacency</h4>
<div class="paragraph">
<p>When the <code>topology</code> is
<code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code>, one line primitive
with adjacency is defined by each vertex and the following vertex, according
to the equation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>i</sub>, v<sub>i+1</sub>, v<sub>i+2</sub>, v<sub>i+3</sub>}</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A line primitive is described by the second and third vertices of the total
primitive, with the remaining two vertices only accessible in a
<a href="#geometry">geometry shader</a>.</p>
</div>
<div class="paragraph">
<p>The provoking vertex for <span class="eq">p<sub>i</sub></span> is <span class="eq">v<sub>i+1</sub></span>.
The number of primitives generated is equal to
<span class="eq">max(0,<code>vertexCount</code>-3)</span>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="409.96866"
   height="27.365885"
   viewBox="0 0 409.96867 27.365885"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_line_strip_with_adjacency.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2-4"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67-1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2-0"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67-7"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="4.0000001"
     inkscape:cx="189.42142"
     inkscape:cy="-6.5731638"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="-314.97657"
       originy="-495.50911" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-327.51096,100.9101)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="332.53439"
       y="-88.035095"
       id="text5070-2-2-9-9-8"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-9"
         x="332.53439"
         y="-88.035095"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="492.53439"
       y="-88.035095"
       id="text5070-2-2-9-9-7-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6-6"
         x="492.53439"
         y="-88.035095"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="412.53439"
       y="-88.035095"
       id="text5070-2-2-9-9-6-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-8"
         x="412.53439"
         y="-88.035095"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="572.53436"
       y="-88.035095"
       id="text5070-2-2-9-9-77-5"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5-1"
         x="572.53436"
         y="-88.035095"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8-8"
       cx="332.53439"
       cy="-78.035103"
       r="3.4908931" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="652.53436"
       y="-88.035103"
       id="text5070-2-2-9-9-7-7-4"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6-6-9"
         x="652.53436"
         y="-88.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">4</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="732.5343"
       y="-88.035103"
       id="text5070-2-2-9-9-77-5-0"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5-1-5"
         x="732.5343"
         y="-88.035103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">5</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2-2-2"
       cx="652.53436"
       cy="-78.035103"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-5-0-7-1"
       cx="732.5343"
       cy="-78.035103"
       r="3.4908931" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       d="m 332.53439,-78.035103 h 80 m 240,0 h 80"
       id="path2083"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 412.53439,-78.035103 h 240"
       id="path2085"
       inkscape:connector-curvature="0" />
    <g
       transform="translate(175,135.00001)"
       id="g11913">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       transform="translate(255,135.00001)"
       id="g11913-2">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1-2"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2-4)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3-9"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       transform="translate(335,135.00001)"
       id="g11913-1">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1-3"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2-0)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3-6"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
  </g>
</svg>
</div>
</div>
</div>
<div class="sect3">
<h4 id="drawing-triangle-lists-with-adjacency"><a class="anchor" href="#drawing-triangle-lists-with-adjacency"></a>19.1.9. Triangle Lists With Adjacency</h4>
<div class="paragraph">
<p>When the <code>topology</code> is
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code>, each consecutive
set of six vertices defines a single triangle primitive with adjacency,
according to the equations:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>6i</sub>, v<sub>6i+1</sub>, v<sub>6i+2</sub>, v<sub>6i+3</sub>, v<sub>6i+4</sub>,
v<sub>6i+5</sub>}</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A triangle primitive is described by the first, third, and fifth vertices of
the total primitive, with the remaining three vertices only accessible in a
<a href="#geometry">geometry shader</a>.</p>
</div>
<div class="paragraph">
<p>The provoking vertex for <span class="eq">p<sub>i</sub></span> is <span class="eq">v<sub>6i</sub></span>.
The number of primitives generated is equal to
<span class="eq"><code>vertexCount</code>/6</span>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="409.51437"
   height="165.99219"
   viewBox="0 0 409.51438 165.99219"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_triangle_list_with_adjacency.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path890"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2471-7"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2469-6" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.0000001"
     inkscape:cx="243.92332"
     inkscape:cy="63.036639"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="4.4908931"
       originy="-436.88283" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-8.0435002,180.91011)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="52.534393"
       y="-78.03511"
       id="text5070-2-2-9-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9"
         x="52.534393"
         y="-78.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="132.53439"
       y="-78.03511"
       id="text5070-2-2-9-9-1"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-3"
         x="132.53439"
         y="-78.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">4</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="-168.03511"
       id="text5070-2-2-9-9-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6"
         x="92.534393"
         y="-168.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="12.534393"
       y="-168.03511"
       id="text5070-2-2-9-9-6"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4"
         x="12.534393"
         y="-168.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="-18.03511"
       id="text5070-2-2-9-9-41"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-1"
         x="92.534393"
         y="-18.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">5</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="172.53439"
       y="-168.03511"
       id="text5070-2-2-9-9-77"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5"
         x="172.53439"
         y="-168.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8"
       cx="12.534393"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91"
       cx="92.534393"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2"
       cx="172.53439"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-25"
       cx="132.53439"
       cy="-98.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-80"
       cx="92.534393"
       cy="-38.035107"
       r="3.4908931" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       d="m 12.534393,-158.03511 80,120.000002 79.999997,-120.000002 z"
       id="path1690"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 52.534393,-98.035108 40,-60.000002 39.999997,60.000002 z"
       id="path1700"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="292.53439"
       y="-106.41011"
       id="text5070-2-2-9-9-54"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-0"
         x="292.53439"
         y="-106.41011"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">6</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="372.53442"
       y="-106.4023"
       id="text5070-2-2-9-9-1-5"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-3-0"
         x="372.53442"
         y="-106.4023"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">8</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="332.53442"
       y="-16.16011"
       id="text5070-2-2-9-9-7-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6-2"
         x="332.53442"
         y="-16.16011"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">10</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="252.53439"
       y="-16.363235"
       id="text5070-2-2-9-9-6-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-1"
         x="252.53439"
         y="-16.363235"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">11</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="332.53442"
       y="-166.64449"
       id="text5070-2-2-9-9-41-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-1-7"
         x="332.53442"
         y="-166.64449"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">7</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="412.53442"
       y="-16.402298"
       id="text5070-2-2-9-9-77-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5-8"
         x="412.53442"
         y="-16.402298"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">9</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8-7"
       cx="252.53439"
       cy="38.03511"
       r="3.4908931"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91-3"
       cx="332.53442"
       cy="38.03511"
       r="3.4908931"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2-2"
       cx="412.53442"
       cy="38.03511"
       r="3.4908931"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-25-6"
       cx="372.53442"
       cy="98.03511"
       r="3.4908931"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-80-2"
       cx="332.53442"
       cy="158.03511"
       r="3.4908931"
       transform="scale(1,-1)" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       d="m 252.53439,-38.03511 80,-120 80,120 z"
       id="path1690-4"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 292.53439,-98.03511 40,60 40,-60 z"
       id="path1700-3"
       inkscape:connector-curvature="0" />
    <g
       id="g4389"
       transform="translate(2.0000015e-7,-2.5e-6)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend)" />
    </g>
    <g
       transform="translate(30.000003,49.999997)"
       id="g7055-4">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3"
         d="m 277.53439,-133.0351 20,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-9-9-3"
         d="m 307.53439,-103.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker2471-7)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1"
         d="m 327.53439,-143.0351 h -50"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8)" />
    </g>
    <g
       transform="translate(55,115.00002)"
       id="g11913">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       id="g11971"
       transform="translate(-215,40.000018)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-4-6"
         d="m 287.19584,-167.35393 -20,30"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5)" />
      <circle
         r="3.4908931"
         cy="-138.03511"
         cx="267.53439"
         id="path4517-0-8-5-91-0-97"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
  </g>
</svg>
</div>
</div>
</div>
<div class="sect3">
<h4 id="drawing-triangle-strips-with-adjacency"><a class="anchor" href="#drawing-triangle-strips-with-adjacency"></a>19.1.10. Triangle Strips With Adjacency</h4>
<div class="paragraph">
<p>When the <code>topology</code> is
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code>, one triangle
primitive with adjacency is defined by each vertex and the following 5
vertices.</p>
</div>
<div class="paragraph">
<p>The number of primitives generated, <span class="eq">n</span>, is equal to <span class="eq">max(0,
<code>vertexCount</code> - 4)/2</span>.</p>
</div>
<div class="paragraph">
<p>If <span class="eq">n=1</span>, the primitive is defined as:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p = {v<sub>0</sub>, v<sub>1</sub>, v<sub>2</sub>, v<sub>5</sub>, v<sub>4</sub>, v<sub>3</sub>}</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If <span class="eq">n&gt;1</span>, the total primitive consists of different vertices according
to where it is in the strip:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>2i</sub>, v<sub>2i+1</sub>, v<sub>2i+2</sub>, v<sub>2i+6</sub>, v<sub>2i+4</sub>,
v<sub>2i+3</sub>}</span> when <span class="eq">i=0</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>2i</sub>, v<sub>2i+3</sub>, v<sub>2i+4</sub>, v<sub>2i+6</sub>, v<sub>2i+2</sub>,
v<sub>2i-2</sub>}</span> when <span class="eq">i&gt;0</span>, <span class="eq">i&lt;n-1</span>, and <span class="eq">i%2=1</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>2i</sub>, v<sub>2i-2</sub>, v<sub>2i+2</sub>, v<sub>2i+6</sub>, v<sub>2i+4</sub>,
v<sub>2i+3</sub>}</span> when <span class="eq">i&gt;0</span>, <span class="eq">i&lt;n-1</span>, and <span class="eq">i%2=0</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>2i</sub>, v<sub>2i+3</sub>, v<sub>2i+4</sub>, v<sub>2i+5</sub>, v<sub>2i+2</sub>,
v<sub>2i-2</sub>}</span> when <span class="eq">i=n-1</span> and <span class="eq">i%2=1</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>2i</sub>, v<sub>2i-2</sub>, v<sub>2i+2</sub>, v<sub>2i+5</sub>, v<sub>2i+4</sub>,
v<sub>2i+3</sub>}</span> when <span class="eq">i=n-1</span> and <span class="eq">i%2=0</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A triangle primitive is described by the first, third, and fifth vertices of
the total primitive in all cases, with the remaining three vertices only
accessible in a <a href="#geometry">geometry shader</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The ordering of the vertices in each successive triangle is altered so that
the winding order is consistent throughout the strip.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The provoking vertex for <span class="eq">p<sub>i</sub></span> is always <span class="eq">v<sub>2i</sub></span>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="613.95959"
   height="463.875"
   viewBox="0 0 613.9596 463.875"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="primitive_topology_triangle_strip_with_adjacency.svg">
  <defs
     id="defs8647">
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2471-7"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2469-6" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-0"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-2"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2471-7-8"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2469-6-7" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-7"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-07"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2471-7-4"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2469-6-5" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-4"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-6"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-1"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-4"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2471-7-0"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mstart"
       inkscape:collect="always">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(0.4,0,0,0.4,4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2469-6-9" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-5"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-3"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path890"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-8"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-8"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-8"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-5"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-2"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path890-4"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-6"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-2"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-1"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-55"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-6"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path890-6"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-2"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-6"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-11"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-3"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-8"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path890-7"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-3"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-7"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-7"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-7"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-9"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path890-71"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker3039-7"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path3037-70"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2891-71"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2889-2"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-0"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path890-1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-79"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-7"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#ff0000;fill-opacity:1;fill-rule:evenodd;stroke:#fe0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-4"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-6"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-6"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-7"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-4"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-0"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-74"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-1"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-2"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-9"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-29"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-15"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-41"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-8"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-5"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6464-8-13-5-3"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6462-2-3-3-69"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2-5"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67-0"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2-5-2"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67-0-8"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2-5-5"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67-0-5"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6744-8-2-5-27"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path6742-9-67-0-88"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#fb0000;fill-opacity:1;fill-rule:evenodd;stroke:#fb0000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8284271"
     inkscape:cx="251.42684"
     inkscape:cy="329.4609"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     units="px"
     borderlayer="false">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="4.490893"
       originy="-198.75781" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-8.0435002,240.66792)">
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,3.9432958,-45.67575)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="52.534393"
       y="-78.03511"
       id="text5070-2-2-9-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9"
         x="52.534393"
         y="-78.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="132.53439"
       y="-78.03511"
       id="text5070-2-2-9-9-1"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-3"
         x="132.53439"
         y="-78.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">4</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="-168.03511"
       id="text5070-2-2-9-9-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6"
         x="92.534393"
         y="-168.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="12.534393"
       y="-168.03511"
       id="text5070-2-2-9-9-6"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4"
         x="12.534393"
         y="-168.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="172.53439"
       y="-168.03511"
       id="text5070-2-2-9-9-41"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-1"
         x="172.53439"
         y="-168.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">5</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="-18.035109"
       id="text5070-2-2-9-9-77"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5"
         x="92.534393"
         y="-18.035109"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="412.53439"
       y="-168.03511"
       id="text5070-2-2-9-9-7-8"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6-7"
         x="412.53439"
         y="-168.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="492.53439"
       y="-168.03511"
       id="text5070-2-2-9-9-41-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-1-4"
         x="492.53439"
         y="-168.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">6</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="452.53439"
       y="-228.03511"
       id="text5070-2-2-9-9-6-1-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-4"
         x="452.53439"
         y="-228.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">5</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="532.53436"
       y="-78.03511"
       id="text5070-2-2-9-9-6-1-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-7"
         x="532.53436"
         y="-78.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">7</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="172.53439"
       y="221.96489"
       id="text5070-2-2-9-9-6-1-7-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-7-1"
         x="172.53439"
         y="221.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">7</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="212.53439"
       y="161.96489"
       id="text5070-2-2-9-9-6-1-7-9-3"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-7-1-4"
         x="212.53439"
         y="161.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">8</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="252.53439"
       y="71.96489"
       id="text5070-2-2-9-9-6-1-7-9-8"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-7-1-7"
         x="252.53439"
         y="71.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">9</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="492.53439"
       y="221.96489"
       id="text5070-2-2-9-9-6-1-7-9-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-7-1-5"
         x="492.53439"
         y="221.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">7</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="532.53436"
       y="161.96489"
       id="text5070-2-2-9-9-6-1-7-9-3-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-7-1-4-6"
         x="532.53436"
         y="161.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">8</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="572.53436"
       y="71.96489"
       id="text5070-2-2-9-9-6-1-7-9-8-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-7-1-7-6"
         x="572.53436"
         y="71.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">10</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="532.53436"
       y="11.964892"
       id="text5070-2-2-9-9-6-1-7-9-8-9-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-7-1-7-6-5"
         x="532.53436"
         y="11.964892"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">9</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="612.53436"
       y="161.96489"
       id="text5070-2-2-9-9-6-1-7-9-8-9-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-7-1-7-6-6"
         x="612.53436"
         y="161.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">11</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8"
       cx="12.534393"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91"
       cx="92.534393"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2"
       cx="172.53439"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-25"
       cx="132.53439"
       cy="-98.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-80"
       cx="92.534393"
       cy="-38.035107"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8-2"
       cx="332.53439"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-2-9"
       cx="492.53439"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-25-1"
       cx="452.53439"
       cy="-98.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-80-9"
       cx="412.53439"
       cy="-38.035107"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91-0-5"
       cx="452.53439"
       cy="-218.03511"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91-0-1"
       cx="532.53442"
       cy="-98.035118"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8-2-7"
       cx="12.534395"
       cy="81.96489"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-80-9-8"
       cx="92.534393"
       cy="201.96487"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91-0-5-9"
       cx="132.53439"
       cy="21.964891"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91-0-1-0"
       cx="212.53442"
       cy="141.96487"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-25-1-0-8"
       cx="172.53439"
       cy="201.96487"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-25-1-0-6"
       cx="252.53439"
       cy="81.964874"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-8-2-7-9"
       cx="332.53439"
       cy="81.96489"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-80-9-8-2"
       cx="412.53439"
       cy="201.96487"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91-0-5-9-0"
       cx="452.53442"
       cy="21.964899"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91-0-1-0-9"
       cx="532.53442"
       cy="141.96489"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-25-1-0-8-1"
       cx="492.53442"
       cy="201.96487"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-25-1-0-6-1"
       cx="572.53436"
       cy="81.964867"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91-0-5-9-0-9"
       cx="532.53442"
       cy="21.964895"
       r="3.4908931" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91-0-5-9-0-3"
       cx="612.53442"
       cy="141.96489"
       r="3.4908931" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       d="m 12.534393,-158.03511 80,120.000002 79.999997,-120.000002 z"
       id="path1690"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       d="m 332.53439,-158.03511 80,120.000002 40,-60 h 80 l -80,-120.000002 -40,60 z"
       id="path1694"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       d="m 12.534393,81.964892 80,119.999998 39.999997,-60 40,60 80,-119.999998 h -80 l -40,-60 -39.999997,60 z"
       id="path1696"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:4, 4;stroke-dashoffset:0;stroke-opacity:1"
       d="m 332.53439,81.964892 h 80 l 40,-60 40,60 40,-60 80,119.999998 h -80 l -40,60 -40,-60 -40,60 z"
       id="path1698"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccccccccccc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 52.534393,-98.035108 40,-60.000002 39.999997,60.000002 z"
       id="path1700"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 372.53439,-98.035108 40,-60.000002 h 80 l -40,60.000002 z m 40,-60.000002 40,60.000002"
       id="path1702"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 52.534393,141.96489 40,-59.999998 h 79.999997 l 40,59.999998 h -80 z m 40,-59.999998 39.999997,59.999998 40,-59.999998"
       id="path1706"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 372.53439,141.96489 40,-59.999998 h 160 l -40,59.999998 z m 40,-59.999998 40,59.999998 40,-59.999998 40,59.999998"
       id="path1712"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="372.53439"
       y="-78.03511"
       id="text5070-2-2-9-9-5"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-20"
         x="372.53439"
         y="-78.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="452.53439"
       y="-78.03511"
       id="text5070-2-2-9-9-1-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-3-9"
         x="452.53439"
         y="-78.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">4</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="332.53439"
       y="-168.03511"
       id="text5070-2-2-9-9-6-5"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-2"
         x="332.53439"
         y="-168.03511"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="412.53439"
       y="-18.035109"
       id="text5070-2-2-9-9-77-5"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5-2"
         x="412.53439"
         y="-18.035109"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="71.96489"
       id="text5070-2-2-9-9-7-8-5"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6-7-8"
         x="92.534393"
         y="71.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="172.53439"
       y="71.96489"
       id="text5070-2-2-9-9-41-2-93"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-1-4-4"
         x="172.53439"
         y="71.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">6</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="132.53438"
       y="11.964892"
       id="text5070-2-2-9-9-6-1-2-6"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-4-4"
         x="132.53438"
         y="11.964892"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">5</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="52.534393"
       y="161.96489"
       id="text5070-2-2-9-9-5-5"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-20-4"
         x="52.534393"
         y="161.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="132.53438"
       y="161.96489"
       id="text5070-2-2-9-9-1-9-4"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-3-9-9"
         x="132.53438"
         y="161.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">4</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="12.534393"
       y="71.96489"
       id="text5070-2-2-9-9-6-5-0"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-2-8"
         x="12.534393"
         y="71.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="92.534393"
       y="221.96489"
       id="text5070-2-2-9-9-77-5-6"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5-2-6"
         x="92.534393"
         y="221.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="412.53439"
       y="71.96489"
       id="text5070-2-2-9-9-7-8-6"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-6-7-9"
         x="412.53439"
         y="71.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="492.53439"
       y="71.96489"
       id="text5070-2-2-9-9-41-2-97"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-1-4-81"
         x="492.53439"
         y="71.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">6</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="452.53436"
       y="11.964892"
       id="text5070-2-2-9-9-6-1-2-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-3-4-7"
         x="452.53436"
         y="11.964892"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">5</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="372.53439"
       y="161.96489"
       id="text5070-2-2-9-9-5-7"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-20-0"
         x="372.53439"
         y="161.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="452.53436"
       y="161.96489"
       id="text5070-2-2-9-9-1-9-6"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-3-9-8"
         x="452.53436"
         y="161.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">4</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="332.53439"
       y="71.96489"
       id="text5070-2-2-9-9-6-5-07"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-4-2-1"
         x="332.53439"
         y="71.96489"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1.16427398"
       x="412.53439"
       y="221.96487"
       id="text5070-2-2-9-9-77-5-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5-2-1"
         x="412.53439"
         y="221.96487"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:16px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:1.16427398">3</tspan></text>
    <g
       transform="translate(150,-10.00001)"
       id="g7055-4">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3"
         d="m 277.53439,-133.0351 20,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-9-9-3"
         d="m 307.53439,-103.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker2471-7)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1"
         d="m 327.53439,-143.0351 h -50"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8)" />
    </g>
    <g
       transform="translate(-170,229.99999)"
       id="g7055-4-8">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-3"
         d="m 277.53439,-133.0351 20,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-0)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-9-9-3-7"
         d="m 307.53439,-103.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker2471-7-8)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-8"
         d="m 327.53439,-143.0351 h -50"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-7)" />
    </g>
    <g
       transform="translate(150,229.99999)"
       id="g7055-4-7">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-9"
         d="m 277.53439,-133.0351 20,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-07)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-9-9-3-8"
         d="m 307.53439,-103.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker2471-7-4)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-9"
         d="m 327.53439,-143.0351 h -50"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-4)" />
    </g>
    <g
       transform="translate(230,229.99999)"
       id="g7055-4-9">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-36"
         d="m 277.53439,-133.0351 20,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-1)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-9-9-3-75"
         d="m 307.53439,-103.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker2471-7-0)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-5"
         d="m 327.53439,-143.0351 h -50"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-5)" />
    </g>
    <g
       id="g4389"
       transform="translate(1.000012e-7,-1e-5)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend)" />
    </g>
    <g
       id="g4389-8"
       transform="translate(320,-1e-5)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-7"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039-8)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-4"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891-8)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend-2)" />
    </g>
    <g
       id="g4389-0"
       transform="translate(1.0000121e-7,239.99999)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-9"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039-6)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-8"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891-1)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-6"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend-6)" />
    </g>
    <g
       id="g4389-9"
       transform="translate(80,239.99999)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-4"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039-2)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-5"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891-11)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-0"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend-8)" />
    </g>
    <g
       id="g4389-3"
       transform="translate(320,239.99999)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-1"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039-3)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-2"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891-7)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-28"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend-9)" />
    </g>
    <g
       id="g4389-1"
       transform="translate(400,239.99999)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-3"
         d="m 67.534393,-113.0351 20,-30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker3039-7)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1870-0"
         d="m 97.534393,-143.0351 19.999997,30"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker2891-71)" />
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-1"
         d="M 117.53439,-103.0351 H 67.534393"
         style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Mend-0)" />
    </g>
    <circle
       style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-91-0"
       cx="412.53439"
       cy="-158.03511"
       r="3.4908931" />
    <circle
       style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-5-3"
       cx="372.53439"
       cy="-98.03511"
       r="3.4908931" />
    <path
       style="fill:#ff0000;stroke:#fe0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-79)"
       d="m 461.54905,-158.03511 h -50"
       id="path1872-2-3-1-2"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5-4)"
       d="m 392.19583,-127.35393 -19.99999,29.999998"
       id="path1868-08-3-3-4-6-2"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <circle
       style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="path4517-0-8-5-5"
       cx="52.534393"
       cy="-98.03511"
       r="3.4908931" />
    <path
       style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5-6)"
       d="m 72.195832,-127.35393 -19.99999,29.999998"
       id="path1868-08-3-3-4-6-3"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <g
       id="g11971-7"
       transform="translate(-215,280)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-4-6-0"
         d="m 287.19584,-167.35393 -20,30"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5-29)" />
      <circle
         r="3.4908931"
         cy="-138.03511"
         cx="267.53439"
         id="path4517-0-8-5-91-0-97-2"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       id="g11971-4"
       transform="translate(-135,280)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-4-6-08"
         d="m 287.19584,-167.35393 -20,30"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5-41)" />
      <circle
         r="3.4908931"
         cy="-138.03511"
         cx="267.53439"
         id="path4517-0-8-5-91-0-97-6"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       id="g11971-6"
       transform="translate(105,280)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-4-6-5"
         d="m 287.19584,-167.35393 -20,30"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5-5)" />
      <circle
         r="3.4908931"
         cy="-138.03511"
         cx="267.53439"
         id="path4517-0-8-5-91-0-97-0"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       id="g11971-3"
       transform="translate(185,280)">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1868-08-3-3-4-6-7"
         d="m 287.19584,-167.35393 -20,30"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6464-8-13-5-3)" />
      <circle
         r="3.4908931"
         cy="-138.03511"
         cx="267.53439"
         id="path4517-0-8-5-91-0-97-26"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       transform="translate(-145,295)"
       id="g11913-4-4">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1-2-5"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2-5-2)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3-1-1"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       transform="translate(175,295)"
       id="g11913-4">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1-2"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2-5-5)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3-1"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <g
       transform="translate(255,295)"
       id="g11913-4-2">
      <path
         sodipodi:nodetypes="cc"
         inkscape:connector-curvature="0"
         id="path1872-2-3-1-1-2-9"
         d="m 287.53439,-213.03511 h -50"
         style="fill:none;stroke:#fb0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#marker6744-8-2-5-27)" />
      <circle
         r="3.4908931"
         cy="-213.03511"
         cx="237.53439"
         id="path4517-0-8-5-91-0-3-1-2"
         style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    </g>
    <circle
       r="3.4908931"
       cy="81.96489"
       cx="172.53439"
       id="circle9368"
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
  </g>
</svg>
</div>
</div>
</div>
<div class="sect3">
<h4 id="drawing-patch-lists"><a class="anchor" href="#drawing-patch-lists"></a>19.1.11. Patch Lists</h4>
<div class="paragraph">
<p>When the <code>topology</code> is <code>VK_PRIMITIVE_TOPOLOGY_PATCH_LIST</code>, each
consecutive set of <span class="eq">m</span> vertices defines a single patch primitive,
according to the equation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>i</sub> = {v<sub>mi</sub>, v<sub>mi+1</sub>, &#8230;&#8203;, v<sub>mi+(m-2)</sub>, v<sub>mi+(m-1)</sub>}</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">m</span> is equal to
<a href="#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a>::<code>patchControlPoints</code>.</p>
</div>
<div class="paragraph">
<p>Patch lists are never passed to <a href="#vertexpostproc">vertex post-processing</a>,
and as such no provoking vertex is defined for patch primitives.
The number of primitives generated is equal to
<span class="eq"><code>vertexCount</code>/m</span>.</p>
</div>
<div class="paragraph">
<p>The vertices comprising a patch have no implied geometry, and are used as
inputs to tessellation shaders and the fixed-function tessellator to
generate new point, line, or triangle primitives.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="drawing-primitive-order"><a class="anchor" href="#drawing-primitive-order"></a>19.2. Primitive Order</h3>
<div class="paragraph">
<p>Primitives generated by <a href="#drawing">drawing commands</a> progress through the
stages of the <a href="#synchronization-pipeline-stages-types">graphics pipeline</a>
in <em>primitive order</em>.
Primitive order is initially determined in the following way:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Submission order determines the initial ordering</p>
</li>
<li>
<p>For indirect draw commands, the order in which accessed instances of the
<a href="#VkDrawIndirectCommand">VkDrawIndirectCommand</a> are stored in <code>buffer</code>, from lower
indirect buffer addresses to higher addresses.</p>
</li>
<li>
<p>If a draw command includes multiple instances, the order in which
instances are executed, from lower numbered instances to higher.</p>
</li>
<li>
<p>The order in which primitives are specified by a draw command:</p>
<div class="ulist">
<ul>
<li>
<p>For non-indexed draws, from vertices with a lower numbered
<code>vertexIndex</code> to a higher numbered <code>vertexIndex</code>.</p>
</li>
<li>
<p>For indexed draws, vertices sourced from a lower index buffer addresses
to higher addresses.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Within this order implementations further sort primitives:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>If tessellation shading is active, by an implementation-dependent order
of new primitives generated by <a href="#tessellation-primitive-order">tessellation</a>.</p>
</li>
<li>
<p>If geometry shading is active, by the order new primitives are generated
by <a href="#geometry-ordering">geometry shading</a>.</p>
</li>
<li>
<p>If the <a href="#primsrast-polygonmode">polygon mode</a> is not
<code>VK_POLYGON_MODE_FILL</code>,
by an implementation-dependent ordering of the new primitives generated
within the original primitive.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Primitive order is later used to define <a href="#primrast-order">rasterization
order</a>, which determines the order in which fragments output results to a
framebuffer.</p>
</div>
</div>
<div class="sect2">
<h3 id="drawing-primitive-shading"><a class="anchor" href="#drawing-primitive-shading"></a>19.3. Programmable Primitive Shading</h3>
<div class="paragraph">
<p>Once primitives are assembled, they proceed to the vertex shading stage of
the pipeline.
If the draw includes multiple instances, then the set of primitives is sent
to the vertex shading stage multiple times, once for each instance.</p>
</div>
<div class="paragraph">
<p>It is implementation-dependent whether vertex shading occurs on vertices
that are discarded as part of incomplete primitives, but if it does occur
then it operates as if they were vertices in complete primitives and such
invocations <strong class="purple">can</strong> have side effects.</p>
</div>
<div class="paragraph">
<p>Vertex shading receives two per-vertex inputs from the primitive assembly
stage - the <code>vertexIndex</code> and the <code>instanceIndex</code>.
How these values are generated is defined below, with each command.</p>
</div>
<div class="paragraph">
<p>Drawing commands fall roughly into two categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Non-indexed drawing commands present a sequential <code>vertexIndex</code> to
the vertex shader.
The sequential index is generated automatically by the device (see
<a href="#fxvertex">Fixed-Function Vertex Processing</a> for details on both
specifying the vertex attributes indexed by <code>vertexIndex</code>, as well as
binding vertex buffers containing those attributes to a command buffer).
These commands are:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#vkCmdDraw">vkCmdDraw</a></p>
</li>
<li>
<p><a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Indexed drawing commands read index values from an <em>index buffer</em> and
use this to compute the <code>vertexIndex</code> value for the vertex shader.
These commands are:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a></p>
</li>
<li>
<p><a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To bind an index buffer to a command buffer, call:</p>
</div>
<div id="vkCmdBindIndexBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdBindIndexBuffer(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkIndexType                                 indexType);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>buffer</code> is the buffer being bound.</p>
</li>
<li>
<p><code>offset</code> is the starting offset in bytes within <code>buffer</code> used in
index buffer address calculations.</p>
</li>
<li>
<p><code>indexType</code> is a <a href="#VkIndexType">VkIndexType</a> value specifying whether indices
are treated as 16 bits or 32 bits.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindIndexBuffer-offset-00431" href="#VUID-vkCmdBindIndexBuffer-offset-00431"></a>
<code>offset</code> <strong class="purple">must</strong> be less than the size of <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindIndexBuffer-offset-00432" href="#VUID-vkCmdBindIndexBuffer-offset-00432"></a>
The sum of <code>offset</code> and the address of the range of
<code>VkDeviceMemory</code> object that is backing <code>buffer</code>, <strong class="purple">must</strong> be a
multiple of the type indicated by <code>indexType</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindIndexBuffer-buffer-00433" href="#VUID-vkCmdBindIndexBuffer-buffer-00433"></a>
<code>buffer</code> <strong class="purple">must</strong> have been created with the
<code>VK_BUFFER_USAGE_INDEX_BUFFER_BIT</code> flag</p>
</li>
<li>
<p><a id="VUID-vkCmdBindIndexBuffer-buffer-00434" href="#VUID-vkCmdBindIndexBuffer-buffer-00434"></a>
If <code>buffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindIndexBuffer-commandBuffer-parameter" href="#VUID-vkCmdBindIndexBuffer-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindIndexBuffer-buffer-parameter" href="#VUID-vkCmdBindIndexBuffer-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindIndexBuffer-indexType-parameter" href="#VUID-vkCmdBindIndexBuffer-indexType-parameter"></a> <code>indexType</code> <strong class="purple">must</strong> be a valid <a href="#VkIndexType">VkIndexType</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBindIndexBuffer-commandBuffer-recording" href="#VUID-vkCmdBindIndexBuffer-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindIndexBuffer-commandBuffer-cmdpool" href="#VUID-vkCmdBindIndexBuffer-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindIndexBuffer-commonparent" href="#VUID-vkCmdBindIndexBuffer-commonparent"></a> Both of <code>buffer</code>, and <code>commandBuffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a>::<code>indexType</code>, specifying
the size of indices, are:</p>
</div>
<div id="VkIndexType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkIndexType {
    VK_INDEX_TYPE_UINT16 = <span class="integer">0</span>,
    VK_INDEX_TYPE_UINT32 = <span class="integer">1</span>,
    VK_INDEX_TYPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkIndexType;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDEX_TYPE_UINT16</code> specifies that indices are 16-bit unsigned
integer values.</p>
</li>
<li>
<p><code>VK_INDEX_TYPE_UINT32</code> specifies that indices are 32-bit unsigned
integer values.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>The parameters for each drawing command are specified directly in the
command or read from buffer memory, depending on the command.
Drawing commands that source their parameters from buffer memory are known
as <em>indirect</em> drawing commands.</p>
</div>
<div class="paragraph">
<p>All drawing commands interact with the <a href="#features-robustBufferAccess">Robust
Buffer Access</a> feature.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record a non-indexed draw, call:</p>
</div>
<div id="vkCmdDraw" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdDraw(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    vertexCount,
    uint32_t                                    instanceCount,
    uint32_t                                    firstVertex,
    uint32_t                                    firstInstance);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>vertexCount</code> is the number of vertices to draw.</p>
</li>
<li>
<p><code>instanceCount</code> is the number of instances to draw.</p>
</li>
<li>
<p><code>firstVertex</code> is the index of the first vertex to draw.</p>
</li>
<li>
<p><code>firstInstance</code> is the instance ID of the first instance to draw.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the command is executed, primitives are assembled using the current
primitive topology and <code>vertexCount</code> consecutive vertex indices with the
first <code>vertexIndex</code> value equal to <code>firstVertex</code>.
The primitives are drawn <code>instanceCount</code> times with <code>instanceIndex</code>
starting with <code>firstInstance</code> and increasing sequentially for each
instance.
The assembled primitives execute the bound graphics pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDraw-None-02690" href="#VUID-vkCmdDraw-None-02690"></a>
If a <code>VkImageView</code> is sampled with <code>VK_FILTER_LINEAR</code> as a
result of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02691" href="#VUID-vkCmdDraw-None-02691"></a>
If a <code>VkImageView</code> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02697" href="#VUID-vkCmdDraw-None-02697"></a>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code> bound
to the pipeline bind point used by this command, a descriptor set <strong class="purple">must</strong>
have been bound to <em>n</em> at the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for set <em>n</em>, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02698" href="#VUID-vkCmdDraw-None-02698"></a>
For each push constant that is statically used by the <code>VkPipeline</code>
bound to the pipeline bind point used by this command, a push constant
value <strong class="purple">must</strong> have been set for the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for push constants, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02699" href="#VUID-vkCmdDraw-None-02699"></a>
Descriptors in each bound descriptor set, specified via
<code>vkCmdBindDescriptorSets</code>, <strong class="purple">must</strong> be valid if they are statically
used by the <code>VkPipeline</code> bound to the pipeline bind point used by
this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02700" href="#VUID-vkCmdDraw-None-02700"></a>
A valid pipeline <strong class="purple">must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-commandBuffer-02701" href="#VUID-vkCmdDraw-commandBuffer-02701"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command requires any dynamic state, that state <strong class="purple">must</strong> have been set
for <code>commandBuffer</code>, and done so after any previously bound pipeline
with the corresponding state not specified as dynamic</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02859" href="#VUID-vkCmdDraw-None-02859"></a>
There <strong class="purple">must</strong> not have been any calls to dynamic state setting commands
for any state not specified as dynamic in the <code>VkPipeline</code> object
bound to the pipeline bind point used by this command, since that
pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02702" href="#VUID-vkCmdDraw-None-02702"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used to sample from any
<code>VkImage</code> with a <code>VkImageView</code> of the type
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>,
<code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02703" href="#VUID-vkCmdDraw-None-02703"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name, in any shader
stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02704" href="#VUID-vkCmdDraw-None-02704"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02705" href="#VUID-vkCmdDraw-None-02705"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a uniform buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02706" href="#VUID-vkCmdDraw-None-02706"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a storage buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-renderPass-02684" href="#VUID-vkCmdDraw-renderPass-02684"></a>
The current render pass <strong class="purple">must</strong> be <a href="#renderpass-compatibility">compatible</a>
with the <code>renderPass</code> member of the
<code>VkGraphicsPipelineCreateInfo</code> structure specified when creating the
<code>VkPipeline</code> bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-subpass-02685" href="#VUID-vkCmdDraw-subpass-02685"></a>
The subpass index of the current render pass <strong class="purple">must</strong> be equal to the
<code>subpass</code> member of the <code>VkGraphicsPipelineCreateInfo</code> structure
specified when creating the <code>VkPipeline</code> bound to
<code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02686" href="#VUID-vkCmdDraw-None-02686"></a>
Every input attachment used by the current subpass <strong class="purple">must</strong> be bound to the
pipeline via a descriptor set</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02687" href="#VUID-vkCmdDraw-None-02687"></a>
Image subresources used as attachments in the current render pass <strong class="purple">must</strong>
not be accessed in any way other than as an attachment by this command.</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02720" href="#VUID-vkCmdDraw-None-02720"></a>
All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point&#8217;s interface <strong class="purple">must</strong> have valid buffers
bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-None-02721" href="#VUID-vkCmdDraw-None-02721"></a>
For a given vertex buffer binding, any attribute data fetched <strong class="purple">must</strong> be
entirely contained within the corresponding vertex buffer binding, as
described in <a href="#fxvertex-input">Vertex Input Description</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDraw-commandBuffer-parameter" href="#VUID-vkCmdDraw-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-commandBuffer-recording" href="#VUID-vkCmdDraw-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-commandBuffer-cmdpool" href="#VUID-vkCmdDraw-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDraw-renderpass" href="#VUID-vkCmdDraw-renderpass"></a> This command <strong class="purple">must</strong> only be called inside of a render pass instance</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record an indexed draw, call:</p>
</div>
<div id="vkCmdDrawIndexed" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdDrawIndexed(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    indexCount,
    uint32_t                                    instanceCount,
    uint32_t                                    firstIndex,
    int32_t                                     vertexOffset,
    uint32_t                                    firstInstance);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>indexCount</code> is the number of vertices to draw.</p>
</li>
<li>
<p><code>instanceCount</code> is the number of instances to draw.</p>
</li>
<li>
<p><code>firstIndex</code> is the base index within the index buffer.</p>
</li>
<li>
<p><code>vertexOffset</code> is the value added to the vertex index before
indexing into the vertex buffer.</p>
</li>
<li>
<p><code>firstInstance</code> is the instance ID of the first instance to draw.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the command is executed, primitives are assembled using the current
primitive topology and <code>indexCount</code> vertices whose indices are retrieved
from the index buffer.
The index buffer is treated as an array of tightly packed unsigned integers
of size defined by the <a href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a>::<code>indexType</code> parameter
with which the buffer was bound.</p>
</div>
<div class="paragraph">
<p>The first vertex index is at an offset of <code>firstIndex</code> * <code>indexSize</code>
+  <code>offset</code> within the bound index buffer, where <code>offset</code> is the
offset specified by <code>vkCmdBindIndexBuffer</code> and <code>indexSize</code> is the
byte size of the type specified by <code>indexType</code>.
Subsequent index values are retrieved from consecutive locations in the
index buffer.
Indices are first compared to the primitive restart value, then zero
extended to 32 bits (if the <code>indexType</code> is
<code>VK_INDEX_TYPE_UINT16</code>) and have <code>vertexOffset</code> added to them,
before being supplied as the <code>vertexIndex</code> value.</p>
</div>
<div class="paragraph">
<p>The primitives are drawn <code>instanceCount</code> times with <code>instanceIndex</code>
starting with <code>firstInstance</code> and increasing sequentially for each
instance.
The assembled primitives execute the bound graphics pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02690" href="#VUID-vkCmdDrawIndexed-None-02690"></a>
If a <code>VkImageView</code> is sampled with <code>VK_FILTER_LINEAR</code> as a
result of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02691" href="#VUID-vkCmdDrawIndexed-None-02691"></a>
If a <code>VkImageView</code> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02697" href="#VUID-vkCmdDrawIndexed-None-02697"></a>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code> bound
to the pipeline bind point used by this command, a descriptor set <strong class="purple">must</strong>
have been bound to <em>n</em> at the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for set <em>n</em>, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02698" href="#VUID-vkCmdDrawIndexed-None-02698"></a>
For each push constant that is statically used by the <code>VkPipeline</code>
bound to the pipeline bind point used by this command, a push constant
value <strong class="purple">must</strong> have been set for the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for push constants, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02699" href="#VUID-vkCmdDrawIndexed-None-02699"></a>
Descriptors in each bound descriptor set, specified via
<code>vkCmdBindDescriptorSets</code>, <strong class="purple">must</strong> be valid if they are statically
used by the <code>VkPipeline</code> bound to the pipeline bind point used by
this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02700" href="#VUID-vkCmdDrawIndexed-None-02700"></a>
A valid pipeline <strong class="purple">must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-commandBuffer-02701" href="#VUID-vkCmdDrawIndexed-commandBuffer-02701"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command requires any dynamic state, that state <strong class="purple">must</strong> have been set
for <code>commandBuffer</code>, and done so after any previously bound pipeline
with the corresponding state not specified as dynamic</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02859" href="#VUID-vkCmdDrawIndexed-None-02859"></a>
There <strong class="purple">must</strong> not have been any calls to dynamic state setting commands
for any state not specified as dynamic in the <code>VkPipeline</code> object
bound to the pipeline bind point used by this command, since that
pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02702" href="#VUID-vkCmdDrawIndexed-None-02702"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used to sample from any
<code>VkImage</code> with a <code>VkImageView</code> of the type
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>,
<code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02703" href="#VUID-vkCmdDrawIndexed-None-02703"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name, in any shader
stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02704" href="#VUID-vkCmdDrawIndexed-None-02704"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02705" href="#VUID-vkCmdDrawIndexed-None-02705"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a uniform buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02706" href="#VUID-vkCmdDrawIndexed-None-02706"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a storage buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-renderPass-02684" href="#VUID-vkCmdDrawIndexed-renderPass-02684"></a>
The current render pass <strong class="purple">must</strong> be <a href="#renderpass-compatibility">compatible</a>
with the <code>renderPass</code> member of the
<code>VkGraphicsPipelineCreateInfo</code> structure specified when creating the
<code>VkPipeline</code> bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-subpass-02685" href="#VUID-vkCmdDrawIndexed-subpass-02685"></a>
The subpass index of the current render pass <strong class="purple">must</strong> be equal to the
<code>subpass</code> member of the <code>VkGraphicsPipelineCreateInfo</code> structure
specified when creating the <code>VkPipeline</code> bound to
<code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02686" href="#VUID-vkCmdDrawIndexed-None-02686"></a>
Every input attachment used by the current subpass <strong class="purple">must</strong> be bound to the
pipeline via a descriptor set</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02687" href="#VUID-vkCmdDrawIndexed-None-02687"></a>
Image subresources used as attachments in the current render pass <strong class="purple">must</strong>
not be accessed in any way other than as an attachment by this command.</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02720" href="#VUID-vkCmdDrawIndexed-None-02720"></a>
All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point&#8217;s interface <strong class="purple">must</strong> have valid buffers
bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-None-02721" href="#VUID-vkCmdDrawIndexed-None-02721"></a>
For a given vertex buffer binding, any attribute data fetched <strong class="purple">must</strong> be
entirely contained within the corresponding vertex buffer binding, as
described in <a href="#fxvertex-input">Vertex Input Description</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-indexSize-00463" href="#VUID-vkCmdDrawIndexed-indexSize-00463"></a>
<span class="eq">(<code>indexSize</code> * (<code>firstIndex</code> +  <code>indexCount</code>) + 
<code>offset</code>)</span> <strong class="purple">must</strong> be less than or equal to the size of the bound
index buffer, with <code>indexSize</code> being based on the type specified by
<code>indexType</code>, where the index buffer, <code>indexType</code>, and
<code>offset</code> are specified via <code>vkCmdBindIndexBuffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDrawIndexed-commandBuffer-parameter" href="#VUID-vkCmdDrawIndexed-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-commandBuffer-recording" href="#VUID-vkCmdDrawIndexed-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-commandBuffer-cmdpool" href="#VUID-vkCmdDrawIndexed-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexed-renderpass" href="#VUID-vkCmdDrawIndexed-renderpass"></a> This command <strong class="purple">must</strong> only be called inside of a render pass instance</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record a non-indexed indirect draw, call:</p>
</div>
<div id="vkCmdDrawIndirect" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdDrawIndirect(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    uint32_t                                    drawCount,
    uint32_t                                    stride);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>buffer</code> is the buffer containing draw parameters.</p>
</li>
<li>
<p><code>offset</code> is the byte offset into <code>buffer</code> where parameters
begin.</p>
</li>
<li>
<p><code>drawCount</code> is the number of draws to execute, and <strong class="purple">can</strong> be zero.</p>
</li>
<li>
<p><code>stride</code> is the byte stride between successive sets of draw
parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdDrawIndirect</code> behaves similarly to <a href="#vkCmdDraw">vkCmdDraw</a> except that the
parameters are read by the device from a buffer during execution.
<code>drawCount</code> draws are executed by the command, with parameters taken
from <code>buffer</code> starting at <code>offset</code> and increasing by <code>stride</code>
bytes for each successive draw.
The parameters of each draw are encoded in an array of
<a href="#VkDrawIndirectCommand">VkDrawIndirectCommand</a> structures.
If <code>drawCount</code> is less than or equal to one, <code>stride</code> is ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02690" href="#VUID-vkCmdDrawIndirect-None-02690"></a>
If a <code>VkImageView</code> is sampled with <code>VK_FILTER_LINEAR</code> as a
result of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02691" href="#VUID-vkCmdDrawIndirect-None-02691"></a>
If a <code>VkImageView</code> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02697" href="#VUID-vkCmdDrawIndirect-None-02697"></a>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code> bound
to the pipeline bind point used by this command, a descriptor set <strong class="purple">must</strong>
have been bound to <em>n</em> at the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for set <em>n</em>, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02698" href="#VUID-vkCmdDrawIndirect-None-02698"></a>
For each push constant that is statically used by the <code>VkPipeline</code>
bound to the pipeline bind point used by this command, a push constant
value <strong class="purple">must</strong> have been set for the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for push constants, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02699" href="#VUID-vkCmdDrawIndirect-None-02699"></a>
Descriptors in each bound descriptor set, specified via
<code>vkCmdBindDescriptorSets</code>, <strong class="purple">must</strong> be valid if they are statically
used by the <code>VkPipeline</code> bound to the pipeline bind point used by
this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02700" href="#VUID-vkCmdDrawIndirect-None-02700"></a>
A valid pipeline <strong class="purple">must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-commandBuffer-02701" href="#VUID-vkCmdDrawIndirect-commandBuffer-02701"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command requires any dynamic state, that state <strong class="purple">must</strong> have been set
for <code>commandBuffer</code>, and done so after any previously bound pipeline
with the corresponding state not specified as dynamic</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02859" href="#VUID-vkCmdDrawIndirect-None-02859"></a>
There <strong class="purple">must</strong> not have been any calls to dynamic state setting commands
for any state not specified as dynamic in the <code>VkPipeline</code> object
bound to the pipeline bind point used by this command, since that
pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02702" href="#VUID-vkCmdDrawIndirect-None-02702"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used to sample from any
<code>VkImage</code> with a <code>VkImageView</code> of the type
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>,
<code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02703" href="#VUID-vkCmdDrawIndirect-None-02703"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name, in any shader
stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02704" href="#VUID-vkCmdDrawIndirect-None-02704"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02705" href="#VUID-vkCmdDrawIndirect-None-02705"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a uniform buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02706" href="#VUID-vkCmdDrawIndirect-None-02706"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a storage buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-renderPass-02684" href="#VUID-vkCmdDrawIndirect-renderPass-02684"></a>
The current render pass <strong class="purple">must</strong> be <a href="#renderpass-compatibility">compatible</a>
with the <code>renderPass</code> member of the
<code>VkGraphicsPipelineCreateInfo</code> structure specified when creating the
<code>VkPipeline</code> bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-subpass-02685" href="#VUID-vkCmdDrawIndirect-subpass-02685"></a>
The subpass index of the current render pass <strong class="purple">must</strong> be equal to the
<code>subpass</code> member of the <code>VkGraphicsPipelineCreateInfo</code> structure
specified when creating the <code>VkPipeline</code> bound to
<code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02686" href="#VUID-vkCmdDrawIndirect-None-02686"></a>
Every input attachment used by the current subpass <strong class="purple">must</strong> be bound to the
pipeline via a descriptor set</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02687" href="#VUID-vkCmdDrawIndirect-None-02687"></a>
Image subresources used as attachments in the current render pass <strong class="purple">must</strong>
not be accessed in any way other than as an attachment by this command.</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02720" href="#VUID-vkCmdDrawIndirect-None-02720"></a>
All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point&#8217;s interface <strong class="purple">must</strong> have valid buffers
bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-None-02721" href="#VUID-vkCmdDrawIndirect-None-02721"></a>
For a given vertex buffer binding, any attribute data fetched <strong class="purple">must</strong> be
entirely contained within the corresponding vertex buffer binding, as
described in <a href="#fxvertex-input">Vertex Input Description</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-buffer-02708" href="#VUID-vkCmdDrawIndirect-buffer-02708"></a>
If <code>buffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-buffer-02709" href="#VUID-vkCmdDrawIndirect-buffer-02709"></a>
<code>buffer</code> <strong class="purple">must</strong> have been created with the
<code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> bit set</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-offset-02710" href="#VUID-vkCmdDrawIndirect-offset-02710"></a>
<code>offset</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-drawCount-02718" href="#VUID-vkCmdDrawIndirect-drawCount-02718"></a>
If the <a href="#features-multiDrawIndirect">multi-draw indirect</a> feature is not
enabled, <code>drawCount</code> <strong class="purple">must</strong> be <code>0</code> or <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-drawCount-02719" href="#VUID-vkCmdDrawIndirect-drawCount-02719"></a>
<code>drawCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDrawIndirectCount</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-firstInstance-00478" href="#VUID-vkCmdDrawIndirect-firstInstance-00478"></a>
If the <a href="#features-drawIndirectFirstInstance">drawIndirectFirstInstance</a>
feature is not enabled, all the <code>firstInstance</code> members of the
<code>VkDrawIndirectCommand</code> structures accessed by this command <strong class="purple">must</strong> be
<code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-drawCount-00476" href="#VUID-vkCmdDrawIndirect-drawCount-00476"></a>
If <code>drawCount</code> is greater than <code>1</code>, <code>stride</code> <strong class="purple">must</strong> be a multiple
of <code>4</code> and <strong class="purple">must</strong> be greater than or equal to
<code>sizeof</code>(<code>VkDrawIndirectCommand</code>)</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-drawCount-00487" href="#VUID-vkCmdDrawIndirect-drawCount-00487"></a>
If <code>drawCount</code> is equal to <code>1</code>, <span class="eq">(<code>offset</code> + 
<code>sizeof</code>(<a href="#VkDrawIndirectCommand">VkDrawIndirectCommand</a>))</span> <strong class="purple">must</strong> be less than or equal
to the size of <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-drawCount-00488" href="#VUID-vkCmdDrawIndirect-drawCount-00488"></a>
If <code>drawCount</code> is greater than <code>1</code>, <span class="eq">(<code>stride</code> 
(<code>drawCount</code> - 1) +  <code>offset</code> + 
<code>sizeof</code>(<a href="#VkDrawIndirectCommand">VkDrawIndirectCommand</a>))</span> <strong class="purple">must</strong> be less than or equal
to the size of <code>buffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDrawIndirect-commandBuffer-parameter" href="#VUID-vkCmdDrawIndirect-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-buffer-parameter" href="#VUID-vkCmdDrawIndirect-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-commandBuffer-recording" href="#VUID-vkCmdDrawIndirect-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-commandBuffer-cmdpool" href="#VUID-vkCmdDrawIndirect-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-renderpass" href="#VUID-vkCmdDrawIndirect-renderpass"></a> This command <strong class="purple">must</strong> only be called inside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndirect-commonparent" href="#VUID-vkCmdDrawIndirect-commonparent"></a> Both of <code>buffer</code>, and <code>commandBuffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDrawIndirectCommand</code> structure is defined as:</p>
</div>
<div id="VkDrawIndirectCommand" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDrawIndirectCommand {
    uint32_t    vertexCount;
    uint32_t    instanceCount;
    uint32_t    firstVertex;
    uint32_t    firstInstance;
} VkDrawIndirectCommand;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>vertexCount</code> is the number of vertices to draw.</p>
</li>
<li>
<p><code>instanceCount</code> is the number of instances to draw.</p>
</li>
<li>
<p><code>firstVertex</code> is the index of the first vertex to draw.</p>
</li>
<li>
<p><code>firstInstance</code> is the instance ID of the first instance to draw.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkDrawIndirectCommand</code> have the same meaning as the
similarly named parameters of <a href="#vkCmdDraw">vkCmdDraw</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDrawIndirectCommand-None-00500" href="#VUID-VkDrawIndirectCommand-None-00500"></a>
For a given vertex buffer binding, any attribute data fetched <strong class="purple">must</strong> be
entirely contained within the corresponding vertex buffer binding, as
described in <a href="#fxvertex-input">Vertex Input Description</a></p>
</li>
<li>
<p><a id="VUID-VkDrawIndirectCommand-firstInstance-00501" href="#VUID-VkDrawIndirectCommand-firstInstance-00501"></a>
If the <a href="#features-drawIndirectFirstInstance">drawIndirectFirstInstance</a>
feature is not enabled, <code>firstInstance</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record an indexed indirect draw, call:</p>
</div>
<div id="vkCmdDrawIndexedIndirect" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdDrawIndexedIndirect(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    uint32_t                                    drawCount,
    uint32_t                                    stride);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>buffer</code> is the buffer containing draw parameters.</p>
</li>
<li>
<p><code>offset</code> is the byte offset into <code>buffer</code> where parameters
begin.</p>
</li>
<li>
<p><code>drawCount</code> is the number of draws to execute, and <strong class="purple">can</strong> be zero.</p>
</li>
<li>
<p><code>stride</code> is the byte stride between successive sets of draw
parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdDrawIndexedIndirect</code> behaves similarly to <a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a>
except that the parameters are read by the device from a buffer during
execution.
<code>drawCount</code> draws are executed by the command, with parameters taken
from <code>buffer</code> starting at <code>offset</code> and increasing by <code>stride</code>
bytes for each successive draw.
The parameters of each draw are encoded in an array of
<a href="#VkDrawIndexedIndirectCommand">VkDrawIndexedIndirectCommand</a> structures.
If <code>drawCount</code> is less than or equal to one, <code>stride</code> is ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02690" href="#VUID-vkCmdDrawIndexedIndirect-None-02690"></a>
If a <code>VkImageView</code> is sampled with <code>VK_FILTER_LINEAR</code> as a
result of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02691" href="#VUID-vkCmdDrawIndexedIndirect-None-02691"></a>
If a <code>VkImageView</code> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02697" href="#VUID-vkCmdDrawIndexedIndirect-None-02697"></a>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code> bound
to the pipeline bind point used by this command, a descriptor set <strong class="purple">must</strong>
have been bound to <em>n</em> at the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for set <em>n</em>, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02698" href="#VUID-vkCmdDrawIndexedIndirect-None-02698"></a>
For each push constant that is statically used by the <code>VkPipeline</code>
bound to the pipeline bind point used by this command, a push constant
value <strong class="purple">must</strong> have been set for the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for push constants, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02699" href="#VUID-vkCmdDrawIndexedIndirect-None-02699"></a>
Descriptors in each bound descriptor set, specified via
<code>vkCmdBindDescriptorSets</code>, <strong class="purple">must</strong> be valid if they are statically
used by the <code>VkPipeline</code> bound to the pipeline bind point used by
this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02700" href="#VUID-vkCmdDrawIndexedIndirect-None-02700"></a>
A valid pipeline <strong class="purple">must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-commandBuffer-02701" href="#VUID-vkCmdDrawIndexedIndirect-commandBuffer-02701"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command requires any dynamic state, that state <strong class="purple">must</strong> have been set
for <code>commandBuffer</code>, and done so after any previously bound pipeline
with the corresponding state not specified as dynamic</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02859" href="#VUID-vkCmdDrawIndexedIndirect-None-02859"></a>
There <strong class="purple">must</strong> not have been any calls to dynamic state setting commands
for any state not specified as dynamic in the <code>VkPipeline</code> object
bound to the pipeline bind point used by this command, since that
pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02702" href="#VUID-vkCmdDrawIndexedIndirect-None-02702"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used to sample from any
<code>VkImage</code> with a <code>VkImageView</code> of the type
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>,
<code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02703" href="#VUID-vkCmdDrawIndexedIndirect-None-02703"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name, in any shader
stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02704" href="#VUID-vkCmdDrawIndexedIndirect-None-02704"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02705" href="#VUID-vkCmdDrawIndexedIndirect-None-02705"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a uniform buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02706" href="#VUID-vkCmdDrawIndexedIndirect-None-02706"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a storage buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-renderPass-02684" href="#VUID-vkCmdDrawIndexedIndirect-renderPass-02684"></a>
The current render pass <strong class="purple">must</strong> be <a href="#renderpass-compatibility">compatible</a>
with the <code>renderPass</code> member of the
<code>VkGraphicsPipelineCreateInfo</code> structure specified when creating the
<code>VkPipeline</code> bound to <code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-subpass-02685" href="#VUID-vkCmdDrawIndexedIndirect-subpass-02685"></a>
The subpass index of the current render pass <strong class="purple">must</strong> be equal to the
<code>subpass</code> member of the <code>VkGraphicsPipelineCreateInfo</code> structure
specified when creating the <code>VkPipeline</code> bound to
<code>VK_PIPELINE_BIND_POINT_GRAPHICS</code>.</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02686" href="#VUID-vkCmdDrawIndexedIndirect-None-02686"></a>
Every input attachment used by the current subpass <strong class="purple">must</strong> be bound to the
pipeline via a descriptor set</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02687" href="#VUID-vkCmdDrawIndexedIndirect-None-02687"></a>
Image subresources used as attachments in the current render pass <strong class="purple">must</strong>
not be accessed in any way other than as an attachment by this command.</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02720" href="#VUID-vkCmdDrawIndexedIndirect-None-02720"></a>
All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point&#8217;s interface <strong class="purple">must</strong> have valid buffers
bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-None-02721" href="#VUID-vkCmdDrawIndexedIndirect-None-02721"></a>
For a given vertex buffer binding, any attribute data fetched <strong class="purple">must</strong> be
entirely contained within the corresponding vertex buffer binding, as
described in <a href="#fxvertex-input">Vertex Input Description</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-buffer-02708" href="#VUID-vkCmdDrawIndexedIndirect-buffer-02708"></a>
If <code>buffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-buffer-02709" href="#VUID-vkCmdDrawIndexedIndirect-buffer-02709"></a>
<code>buffer</code> <strong class="purple">must</strong> have been created with the
<code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> bit set</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-offset-02710" href="#VUID-vkCmdDrawIndexedIndirect-offset-02710"></a>
<code>offset</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-drawCount-02718" href="#VUID-vkCmdDrawIndexedIndirect-drawCount-02718"></a>
If the <a href="#features-multiDrawIndirect">multi-draw indirect</a> feature is not
enabled, <code>drawCount</code> <strong class="purple">must</strong> be <code>0</code> or <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-drawCount-02719" href="#VUID-vkCmdDrawIndexedIndirect-drawCount-02719"></a>
<code>drawCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDrawIndirectCount</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-drawCount-00528" href="#VUID-vkCmdDrawIndexedIndirect-drawCount-00528"></a>
If <code>drawCount</code> is greater than <code>1</code>, <code>stride</code> <strong class="purple">must</strong> be a multiple
of <code>4</code> and <strong class="purple">must</strong> be greater than or equal to
<code>sizeof</code>(<code>VkDrawIndexedIndirectCommand</code>)</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-firstInstance-00530" href="#VUID-vkCmdDrawIndexedIndirect-firstInstance-00530"></a>
If the <a href="#features-drawIndirectFirstInstance">drawIndirectFirstInstance</a>
feature is not enabled, all the <code>firstInstance</code> members of the
<code>VkDrawIndexedIndirectCommand</code> structures accessed by this command
<strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-drawCount-00539" href="#VUID-vkCmdDrawIndexedIndirect-drawCount-00539"></a>
If <code>drawCount</code> is equal to <code>1</code>, <span class="eq">(<code>offset</code> + 
<code>sizeof</code>(<code>VkDrawIndexedIndirectCommand</code>))</span> <strong class="purple">must</strong> be less than or
equal to the size of <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-drawCount-00540" href="#VUID-vkCmdDrawIndexedIndirect-drawCount-00540"></a>
If <code>drawCount</code> is greater than <code>1</code>, <span class="eq">(<code>stride</code> 
(<code>drawCount</code> - 1) +  <code>offset</code> + 
<code>sizeof</code>(<code>VkDrawIndexedIndirectCommand</code>))</span> <strong class="purple">must</strong> be less than or
equal to the size of <code>buffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-commandBuffer-parameter" href="#VUID-vkCmdDrawIndexedIndirect-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-buffer-parameter" href="#VUID-vkCmdDrawIndexedIndirect-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-commandBuffer-recording" href="#VUID-vkCmdDrawIndexedIndirect-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-commandBuffer-cmdpool" href="#VUID-vkCmdDrawIndexedIndirect-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-renderpass" href="#VUID-vkCmdDrawIndexedIndirect-renderpass"></a> This command <strong class="purple">must</strong> only be called inside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdDrawIndexedIndirect-commonparent" href="#VUID-vkCmdDrawIndexedIndirect-commonparent"></a> Both of <code>buffer</code>, and <code>commandBuffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDrawIndexedIndirectCommand</code> structure is defined as:</p>
</div>
<div id="VkDrawIndexedIndirectCommand" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDrawIndexedIndirectCommand {
    uint32_t    indexCount;
    uint32_t    instanceCount;
    uint32_t    firstIndex;
    int32_t     vertexOffset;
    uint32_t    firstInstance;
} VkDrawIndexedIndirectCommand;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>indexCount</code> is the number of vertices to draw.</p>
</li>
<li>
<p><code>instanceCount</code> is the number of instances to draw.</p>
</li>
<li>
<p><code>firstIndex</code> is the base index within the index buffer.</p>
</li>
<li>
<p><code>vertexOffset</code> is the value added to the vertex index before
indexing into the vertex buffer.</p>
</li>
<li>
<p><code>firstInstance</code> is the instance ID of the first instance to draw.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkDrawIndexedIndirectCommand</code> have the same meaning as
the similarly named parameters of <a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDrawIndexedIndirectCommand-None-00552" href="#VUID-VkDrawIndexedIndirectCommand-None-00552"></a>
For a given vertex buffer binding, any attribute data fetched <strong class="purple">must</strong> be
entirely contained within the corresponding vertex buffer binding, as
described in <a href="#fxvertex-input">Vertex Input Description</a></p>
</li>
<li>
<p><a id="VUID-VkDrawIndexedIndirectCommand-indexSize-00553" href="#VUID-VkDrawIndexedIndirectCommand-indexSize-00553"></a>
<span class="eq">(<code>indexSize</code> * (<code>firstIndex</code> +  <code>indexCount</code>) + 
<code>offset</code>)</span> <strong class="purple">must</strong> be less than or equal to the size of the bound
index buffer, with <code>indexSize</code> being based on the type specified by
<code>indexType</code>, where the index buffer, <code>indexType</code>, and
<code>offset</code> are specified via <code>vkCmdBindIndexBuffer</code></p>
</li>
<li>
<p><a id="VUID-VkDrawIndexedIndirectCommand-firstInstance-00554" href="#VUID-VkDrawIndexedIndirectCommand-firstInstance-00554"></a>
If the <a href="#features-drawIndirectFirstInstance">drawIndirectFirstInstance</a>
feature is not enabled, <code>firstInstance</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fxvertex"><a class="anchor" href="#fxvertex"></a>20. Fixed-Function Vertex Processing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vertex fetching is controlled via configurable state, as a logically
distinct graphics pipeline stage.</p>
</div>
<div class="sect2">
<h3 id="fxvertex-attrib"><a class="anchor" href="#fxvertex-attrib"></a>20.1. Vertex Attributes</h3>
<div class="paragraph">
<p>Vertex shaders <strong class="purple">can</strong> define input variables, which receive <em>vertex attribute</em>
data transferred from one or more <code>VkBuffer</code>(s) by drawing commands.
Vertex shader input variables are bound to buffers via an indirect binding
where the vertex shader associates a <em>vertex input attribute</em> number with
each variable, vertex input attributes are associated to <em>vertex input
bindings</em> on a per-pipeline basis, and vertex input bindings are associated
with specific buffers on a per-draw basis via the
<code>vkCmdBindVertexBuffers</code> command.
Vertex input attribute and vertex input binding descriptions also contain
format information controlling how data is extracted from buffer memory and
converted to the format expected by the vertex shader.</p>
</div>
<div class="paragraph">
<p>There are <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputAttributes</code>
number of vertex input attributes and
<code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code> number of vertex
input bindings (each referred to by zero-based indices), where there are at
least as many vertex input attributes as there are vertex input bindings.
Applications <strong class="purple">can</strong> store multiple vertex input attributes interleaved in a
single buffer, and use a single vertex input binding to access those
attributes.</p>
</div>
<div class="paragraph">
<p>In GLSL, vertex shaders associate input variables with a vertex input
attribute number using the <code>location</code> layout qualifier.
The <code>component</code> layout qualifier associates components of a vertex shader
input variable with components of a vertex input attribute.</p>
</div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="glsl">// Assign location M to variableName
layout (location=M, component=2) in vec2 variableName;

// Assign locations [N,N+L) to the array elements of variableNameArray
layout (location=N) in vec4 variableNameArray[L];</code></pre>
</div>
</div>
<div class="paragraph">
<p>In SPIR-V, vertex shaders associate input variables with a vertex input
attribute number using the <code>Location</code> decoration.
The <code>Component</code> decoration associates components of a vertex shader input
variable with components of a vertex input attribute.
The <code>Location</code> and <code>Component</code> decorations are specified via the
<code>OpDecorate</code> instruction.</p>
</div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="spirv">               ...
          %1 = OpExtInstImport &quot;GLSL.std.450&quot;
               ...
               OpName %9 &quot;variableName&quot;
               OpName %15 &quot;variableNameArray&quot;
               OpDecorate %18 BuiltIn VertexIndex
               OpDecorate %19 BuiltIn InstanceIndex
               OpDecorate %9 Location M
               OpDecorate %9 Component 2
               OpDecorate %15 Location N
               ...
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeVector %6 2
          %8 = OpTypePointer Input %7
          %9 = OpVariable %8 Input
         %10 = OpTypeVector %6 4
         %11 = OpTypeInt 32 0
         %12 = OpConstant %11 L
         %13 = OpTypeArray %10 %12
         %14 = OpTypePointer Input %13
         %15 = OpVariable %14 Input
               ...</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="fxvertex-attrib-location"><a class="anchor" href="#fxvertex-attrib-location"></a>20.1.1. Attribute Location and Component Assignment</h4>
<div class="paragraph">
<p>Vertex shaders allow <code>Location</code> and <code>Component</code> decorations on input
variable declarations.
The <code>Location</code> decoration specifies which vertex input attribute is used
to read and interpret the data that a variable will consume.
The <code>Component</code> decoration allows the location to be more finely
specified for scalars and vectors, down to the individual components within
a location that are consumed.
The components within a location are 0, 1, 2, and 3.
A variable starting at component N will consume components N, N+1, N+2, &#8230;&#8203;
up through its size.
For single precision types, it is invalid if the sequence of components gets
larger than 3.</p>
</div>
<div class="paragraph">
<p>When a vertex shader input variable declared using a scalar or vector 32-bit
data type is assigned a location, its value(s) are taken from the components
of the input attribute specified with the corresponding
<code>VkVertexInputAttributeDescription</code>::<code>location</code>.
The components used depend on the type of variable and the <code>Component</code>
decoration specified in the variable declaration, as identified in
<a href="#fxvertex-attrib-components">Input attribute components accessed by 32-bit input variables</a>.
Any 32-bit scalar or vector input will consume a single location.
For 32-bit data types, missing components are filled in with default values
as described <a href="#fxvertex-input-extraction">below</a>.</p>
</div>
<table id="fxvertex-attrib-components" class="tableblock frame-all grid-all" style="width: 65%;">
<caption class="title">Table 20. Input attribute components accessed by 32-bit input variables</caption>
<colgroup>
<col style="width: 45.4545%;">
<col style="width: 27.2727%;">
<col style="width: 27.2728%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">32-bit data type</th>
<th class="tableblock halign-left valign-top"><code>Component</code> decoration</th>
<th class="tableblock halign-left valign-top">Components consumed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, o, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(o, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(o, o, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(o, o, o, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(o, y, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(o, o, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(o, y, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">four-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, z, w)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Components indicated by &#8220;o&#8221; are available for use by other input variables
which are sourced from the same attribute, and if used, are either filled
with the corresponding component from the input format (if present), or the
default value.</p>
</div>
<div class="paragraph">
<p>When a vertex shader input variable declared using a 32-bit floating point
matrix type is assigned a location <em>i</em>, its values are taken from
consecutive input attributes starting with the corresponding
<code>VkVertexInputAttributeDescription</code>::<code>location</code>.
Such matrices are treated as an array of column vectors with values taken
from the input attributes identified in <a href="#fxvertex-attrib-matrix">Input attributes accessed by 32-bit input matrix variables</a>.
The <code>VkVertexInputAttributeDescription</code>::<code>format</code> <strong class="purple">must</strong> be specified
with a <a href="#VkFormat">VkFormat</a> that corresponds to the appropriate type of column
vector.
The <code>Component</code> decoration <strong class="purple">must</strong> not be used with matrix types.</p>
</div>
<table id="fxvertex-attrib-matrix" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 21. Input attributes accessed by 32-bit input matrix variables</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 24%;">
<col style="width: 21%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Data type</th>
<th class="tableblock halign-left valign-top">Column vector type</th>
<th class="tableblock halign-left valign-top">Locations consumed</th>
<th class="tableblock halign-left valign-top">Components consumed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mat2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i, i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, o, o), (x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mat2x3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i, i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, z, o), (x, y, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mat2x4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">four-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i, i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, z, w), (x, y, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mat3x2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i, i+1, i+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, o, o), (x, y, o, o), (x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mat3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i, i+1, i+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, z, o), (x, y, z, o), (x, y, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mat3x4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">four-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i, i+1, i+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, z, w), (x, y, z, w), (x, y, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mat4x2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i, i+1, i+2, i+3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, o, o), (x, y, o, o), (x, y, o, o), (x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mat4x3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i, i+1, i+2, i+3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, z, o), (x, y, z, o), (x, y, z, o), (x, y, z, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mat4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">four-component vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i, i+1, i+2, i+3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, z, w), (x, y, z, w), (x, y, z, w), (x, y, z, w)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Components indicated by &#8220;o&#8221; are available for use by other input variables
which are sourced from the same attribute, and if used, are either filled
with the corresponding component from the input (if present), or the default
value.</p>
</div>
<div class="paragraph">
<p>When a vertex shader input variable declared using a scalar or vector 64-bit
data type is assigned a location <em>i</em>, its values are taken from consecutive
input attributes starting with the corresponding
<code>VkVertexInputAttributeDescription</code>::<code>location</code>.
The locations and components used depend on the type of variable and the
<code>Component</code> decoration specified in the variable declaration, as
identified in <a href="#fxvertex-attrib-double">Input attribute locations and components accessed by 64-bit input variables</a>.
For 64-bit data types, no default attribute values are provided.
Input variables <strong class="purple">must</strong> not use more components than provided by the
attribute.
Input attributes which have one- or two-component 64-bit formats will
consume a single location.
Input attributes which have three- or four-component 64-bit formats will
consume two consecutive locations.
A 64-bit scalar data type will consume two components, and a 64-bit
two-component vector data type will consume all four components available
within a location.
A three- or four-component 64-bit data type <strong class="purple">must</strong> not specify a component.
A three-component 64-bit data type will consume all four components of the
first location and components 0 and 1 of the second location.
This leaves components 2 and 3 available for other component-qualified
declarations.
A four-component 64-bit data type will consume all four components of the
first location and all four components of the second location.
It is invalid for a scalar or two-component 64-bit data type to specify a
component of 1 or 3.</p>
</div>
<table id="fxvertex-attrib-double" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 22. Input attribute locations and components accessed by 64-bit input variables</caption>
<colgroup>
<col style="width: 18%;">
<col style="width: 12%;">
<col style="width: 25%;">
<col style="width: 14%;">
<col style="width: 18%;">
<col style="width: 13%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Input format</th>
<th class="tableblock halign-center valign-top">Locations consumed</th>
<th class="tableblock halign-center valign-middle">64-bit data type</th>
<th class="tableblock halign-center valign-top"><code>Location</code> decoration</th>
<th class="tableblock halign-center valign-top"><code>Component</code> decoration</th>
<th class="tableblock halign-center valign-top">32-bit components consumed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">R64G64</p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(o, o, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(x, y, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="5"><p class="tableblock">R64G64B64</p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock">i, i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, o, o), (o, o, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(o, o, z, w), (o, o, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(o, o, o, o), (x, y, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(x, y, z, w), (o, o, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unspecified</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(x, y, z, w), (x, y, -, -)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="8"><p class="tableblock">R64G64B64A64</p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock">i, i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(x, y, o, o), (o, o, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(o, o, z, w), (o, o, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(o, o, o, o), (x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scalar</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(o, o, o, o), (o, o, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(x, y, z, w), (o, o, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">two-component vector</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or unspecified</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(o, o, o, o), (x, y, z, w)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">three-component vector</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unspecified</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(x, y, z, w), (x, y, o, o)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">four-component vector</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unspecified</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(x, y, z, w), (x, y, z, w)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Components indicated by &#8220;o&#8221; are available for use by other input variables
which are sourced from the same attribute.
Components indicated by &#8220;-&#8221; are not available for input variables as there
are no default values provided for 64-bit data types, and there is no data
provided by the input format.</p>
</div>
<div class="paragraph">
<p>When a vertex shader input variable declared using a 64-bit floating-point
matrix type is assigned a location <em>i</em>, its values are taken from
consecutive input attribute locations.
Such matrices are treated as an array of column vectors with values taken
from the input attributes as shown in <a href="#fxvertex-attrib-double">Input attribute locations and components accessed by 64-bit input variables</a>.
Each column vector starts at the location immediately following the last
location of the previous column vector.
The number of attributes and components assigned to each matrix is
determined by the matrix dimensions and ranges from two to eight locations.</p>
</div>
<div class="paragraph">
<p>When a vertex shader input variable declared using an array type is assigned
a location, its values are taken from consecutive input attributes starting
with the corresponding
<code>VkVertexInputAttributeDescription</code>::<code>location</code>.
The number of attributes and components assigned to each element are
determined according to the data type of the array elements and
<code>Component</code> decoration (if any) specified in the declaration of the
array, as described above.
Each element of the array, in order, is assigned to consecutive locations,
but all at the same specified component within each location.</p>
</div>
<div class="paragraph">
<p>Only input variables declared with the data types and component decorations
as specified above are supported.
<em>Location aliasing</em> is causing two variables to have the same location
number.
<em>Component aliasing</em> is assigning the same (or overlapping) component number
for two location aliases.
Location aliasing is allowed only if it does not cause component aliasing.
Further, when location aliasing, the aliases sharing the location <strong class="purple">must</strong> all
have the same SPIR-V floating-point component type or all have the same
width integer-type components.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fxvertex-input"><a class="anchor" href="#fxvertex-input"></a>20.2. Vertex Input Description</h3>
<div class="paragraph">
<p>Applications specify vertex input attribute and vertex input binding
descriptions as part of graphics pipeline creation.
<a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>pVertexInputState</code> is a pointer to
a <a href="#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a> value.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineVertexInputStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineVertexInputStateCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineVertexInputStateCreateInfo {
    VkStructureType                             sType;
    <span class="directive">const</span> <span class="directive">void</span>*                                 pNext;
    VkPipelineVertexInputStateCreateFlags       flags;
    uint32_t                                    vertexBindingDescriptionCount;
    <span class="directive">const</span> VkVertexInputBindingDescription*      pVertexBindingDescriptions;
    uint32_t                                    vertexAttributeDescriptionCount;
    <span class="directive">const</span> VkVertexInputAttributeDescription*    pVertexAttributeDescriptions;
} VkPipelineVertexInputStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>vertexBindingDescriptionCount</code> is the number of vertex binding
descriptions provided in <code>pVertexBindingDescriptions</code>.</p>
</li>
<li>
<p><code>pVertexBindingDescriptions</code> is a pointer to an array of
<code>VkVertexInputBindingDescription</code> structures.</p>
</li>
<li>
<p><code>vertexAttributeDescriptionCount</code> is the number of vertex attribute
descriptions provided in <code>pVertexAttributeDescriptions</code>.</p>
</li>
<li>
<p><code>pVertexAttributeDescriptions</code> is a pointer to an array of
<code>VkVertexInputAttributeDescription</code> structures.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineVertexInputStateCreateInfo-vertexBindingDescriptionCount-00613" href="#VUID-VkPipelineVertexInputStateCreateInfo-vertexBindingDescriptionCount-00613"></a>
<code>vertexBindingDescriptionCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineVertexInputStateCreateInfo-vertexAttributeDescriptionCount-00614" href="#VUID-VkPipelineVertexInputStateCreateInfo-vertexAttributeDescriptionCount-00614"></a>
<code>vertexAttributeDescriptionCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputAttributes</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineVertexInputStateCreateInfo-binding-00615" href="#VUID-VkPipelineVertexInputStateCreateInfo-binding-00615"></a>
For every <code>binding</code> specified by each element of
<code>pVertexAttributeDescriptions</code>, a
<code>VkVertexInputBindingDescription</code> <strong class="purple">must</strong> exist in
<code>pVertexBindingDescriptions</code> with the same value of <code>binding</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineVertexInputStateCreateInfo-pVertexBindingDescriptions-00616" href="#VUID-VkPipelineVertexInputStateCreateInfo-pVertexBindingDescriptions-00616"></a>
All elements of <code>pVertexBindingDescriptions</code> <strong class="purple">must</strong> describe distinct
binding numbers</p>
</li>
<li>
<p><a id="VUID-VkPipelineVertexInputStateCreateInfo-pVertexAttributeDescriptions-00617" href="#VUID-VkPipelineVertexInputStateCreateInfo-pVertexAttributeDescriptions-00617"></a>
All elements of <code>pVertexAttributeDescriptions</code> <strong class="purple">must</strong> describe
distinct attribute locations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineVertexInputStateCreateInfo-sType-sType" href="#VUID-VkPipelineVertexInputStateCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineVertexInputStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineVertexInputStateCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineVertexInputStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineVertexInputStateCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineVertexInputStateCreateInfo-pVertexBindingDescriptions-parameter" href="#VUID-VkPipelineVertexInputStateCreateInfo-pVertexBindingDescriptions-parameter"></a> If <code>vertexBindingDescriptionCount</code> is not <code>0</code>, <code>pVertexBindingDescriptions</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>vertexBindingDescriptionCount</code> valid <a href="#VkVertexInputBindingDescription">VkVertexInputBindingDescription</a> structures</p>
</li>
<li>
<p><a id="VUID-VkPipelineVertexInputStateCreateInfo-pVertexAttributeDescriptions-parameter" href="#VUID-VkPipelineVertexInputStateCreateInfo-pVertexAttributeDescriptions-parameter"></a> If <code>vertexAttributeDescriptionCount</code> is not <code>0</code>, <code>pVertexAttributeDescriptions</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>vertexAttributeDescriptionCount</code> valid <a href="#VkVertexInputAttributeDescription">VkVertexInputAttributeDescription</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineVertexInputStateCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineVertexInputStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineVertexInputStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Each vertex input binding is specified by the
<code>VkVertexInputBindingDescription</code> structure, defined as:</p>
</div>
<div id="VkVertexInputBindingDescription" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkVertexInputBindingDescription {
    uint32_t             binding;
    uint32_t             stride;
    VkVertexInputRate    inputRate;
} VkVertexInputBindingDescription;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>binding</code> is the binding number that this structure describes.</p>
</li>
<li>
<p><code>stride</code> is the distance in bytes between two consecutive elements
within the buffer.</p>
</li>
<li>
<p><code>inputRate</code> is a <a href="#VkVertexInputRate">VkVertexInputRate</a> value specifying whether
vertex attribute addressing is a function of the vertex index or of the
instance index.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkVertexInputBindingDescription-binding-00618" href="#VUID-VkVertexInputBindingDescription-binding-00618"></a>
<code>binding</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code></p>
</li>
<li>
<p><a id="VUID-VkVertexInputBindingDescription-stride-00619" href="#VUID-VkVertexInputBindingDescription-stride-00619"></a>
<code>stride</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindingStride</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkVertexInputBindingDescription-inputRate-parameter" href="#VUID-VkVertexInputBindingDescription-inputRate-parameter"></a> <code>inputRate</code> <strong class="purple">must</strong> be a valid <a href="#VkVertexInputRate">VkVertexInputRate</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkVertexInputBindingDescription">VkVertexInputBindingDescription</a>::<code>inputRate</code>,
specifying the rate at which vertex attributes are pulled from buffers, are:</p>
</div>
<div id="VkVertexInputRate" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkVertexInputRate {
    VK_VERTEX_INPUT_RATE_VERTEX = <span class="integer">0</span>,
    VK_VERTEX_INPUT_RATE_INSTANCE = <span class="integer">1</span>,
    VK_VERTEX_INPUT_RATE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkVertexInputRate;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_VERTEX_INPUT_RATE_VERTEX</code> specifies that vertex attribute
addressing is a function of the vertex index.</p>
</li>
<li>
<p><code>VK_VERTEX_INPUT_RATE_INSTANCE</code> specifies that vertex attribute
addressing is a function of the instance index.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Each vertex input attribute is specified by the
<code>VkVertexInputAttributeDescription</code> structure, defined as:</p>
</div>
<div id="VkVertexInputAttributeDescription" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkVertexInputAttributeDescription {
    uint32_t    location;
    uint32_t    binding;
    VkFormat    format;
    uint32_t    offset;
} VkVertexInputAttributeDescription;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>location</code> is the shader binding location number for this attribute.</p>
</li>
<li>
<p><code>binding</code> is the binding number which this attribute takes its data
from.</p>
</li>
<li>
<p><code>format</code> is the size and type of the vertex attribute data.</p>
</li>
<li>
<p><code>offset</code> is a byte offset of this attribute relative to the start of
an element in the vertex input binding.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkVertexInputAttributeDescription-location-00620" href="#VUID-VkVertexInputAttributeDescription-location-00620"></a>
<code>location</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputAttributes</code></p>
</li>
<li>
<p><a id="VUID-VkVertexInputAttributeDescription-binding-00621" href="#VUID-VkVertexInputAttributeDescription-binding-00621"></a>
<code>binding</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code></p>
</li>
<li>
<p><a id="VUID-VkVertexInputAttributeDescription-offset-00622" href="#VUID-VkVertexInputAttributeDescription-offset-00622"></a>
<code>offset</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputAttributeOffset</code></p>
</li>
<li>
<p><a id="VUID-VkVertexInputAttributeDescription-format-00623" href="#VUID-VkVertexInputAttributeDescription-format-00623"></a>
<code>format</code> <strong class="purple">must</strong> be allowed as a vertex buffer format, as specified by
the <code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code> flag in
<code>VkFormatProperties</code>::<code>bufferFeatures</code> returned by
<code>vkGetPhysicalDeviceFormatProperties</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkVertexInputAttributeDescription-format-parameter" href="#VUID-VkVertexInputAttributeDescription-format-parameter"></a> <code>format</code> <strong class="purple">must</strong> be a valid <a href="#VkFormat">VkFormat</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To bind vertex buffers to a command buffer for use in subsequent draw
commands, call:</p>
</div>
<div id="vkCmdBindVertexBuffers" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdBindVertexBuffers(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstBinding,
    uint32_t                                    bindingCount,
    <span class="directive">const</span> VkBuffer*                             pBuffers,
    <span class="directive">const</span> VkDeviceSize*                         pOffsets);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>firstBinding</code> is the index of the first vertex input binding whose
state is updated by the command.</p>
</li>
<li>
<p><code>bindingCount</code> is the number of vertex input bindings whose state is
updated by the command.</p>
</li>
<li>
<p><code>pBuffers</code> is a pointer to an array of buffer handles.</p>
</li>
<li>
<p><code>pOffsets</code> is a pointer to an array of buffer offsets.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The values taken from elements <span class="eq">i</span> of <code>pBuffers</code> and <code>pOffsets</code>
replace the current state for the vertex input binding
<span class="eq"><code>firstBinding</code> +  i</span>, for <span class="eq">i</span> in <span class="eq">[0,
<code>bindingCount</code>)</span>.
The vertex input binding is updated to start at the offset indicated by
<code>pOffsets</code>[i] from the start of the buffer <code>pBuffers</code>[i].
All vertex input attributes that use each of these bindings will use these
updated addresses in their address calculations for subsequent draw
commands.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-firstBinding-00624" href="#VUID-vkCmdBindVertexBuffers-firstBinding-00624"></a>
<code>firstBinding</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-firstBinding-00625" href="#VUID-vkCmdBindVertexBuffers-firstBinding-00625"></a>
The sum of <code>firstBinding</code> and <code>bindingCount</code> <strong class="purple">must</strong> be less than
or equal to <code>VkPhysicalDeviceLimits</code>::<code>maxVertexInputBindings</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-pOffsets-00626" href="#VUID-vkCmdBindVertexBuffers-pOffsets-00626"></a>
All elements of <code>pOffsets</code> <strong class="purple">must</strong> be less than the size of the
corresponding element in <code>pBuffers</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-pBuffers-00627" href="#VUID-vkCmdBindVertexBuffers-pBuffers-00627"></a>
All elements of <code>pBuffers</code> <strong class="purple">must</strong> have been created with the
<code>VK_BUFFER_USAGE_VERTEX_BUFFER_BIT</code> flag</p>
</li>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-pBuffers-00628" href="#VUID-vkCmdBindVertexBuffers-pBuffers-00628"></a>
Each element of <code>pBuffers</code> that is non-sparse <strong class="purple">must</strong> be bound
completely and contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-commandBuffer-parameter" href="#VUID-vkCmdBindVertexBuffers-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-pBuffers-parameter" href="#VUID-vkCmdBindVertexBuffers-pBuffers-parameter"></a> <code>pBuffers</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bindingCount</code> valid <a href="#VkBuffer">VkBuffer</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-pOffsets-parameter" href="#VUID-vkCmdBindVertexBuffers-pOffsets-parameter"></a> <code>pOffsets</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bindingCount</code> <code>VkDeviceSize</code> values</p>
</li>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-commandBuffer-recording" href="#VUID-vkCmdBindVertexBuffers-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-commandBuffer-cmdpool" href="#VUID-vkCmdBindVertexBuffers-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-bindingCount-arraylength" href="#VUID-vkCmdBindVertexBuffers-bindingCount-arraylength"></a> <code>bindingCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindVertexBuffers-commonparent" href="#VUID-vkCmdBindVertexBuffers-commonparent"></a> Both of <code>commandBuffer</code>, and the elements of <code>pBuffers</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The address of each attribute for each <code>vertexIndex</code> and
<code>instanceIndex</code> is calculated as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Let <code>attribDesc</code> be the member of
<code>VkPipelineVertexInputStateCreateInfo</code>::<code>pVertexAttributeDescriptions</code>
with <code>VkVertexInputAttributeDescription</code>::<code>location</code> equal to
the vertex input attribute number.</p>
</li>
<li>
<p>Let <code>bindingDesc</code> be the member of
<code>VkPipelineVertexInputStateCreateInfo</code>::<code>pVertexBindingDescriptions</code>
with <code>VkVertexInputAttributeDescription</code>::<code>binding</code> equal to
<code>attribDesc.binding</code>.</p>
</li>
<li>
<p>Let <code>vertexIndex</code> be the index of the vertex within the draw (a value
between <code>firstVertex</code> and <code>firstVertex</code>+<code>vertexCount</code> for
<code>vkCmdDraw</code>, or a value taken from the index buffer for
<code>vkCmdDrawIndexed</code>), and let <code>instanceIndex</code> be the instance
number of the draw (a value between <code>firstInstance</code> and
<code>firstInstance</code>+<code>instanceCount</code>).</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">bufferBindingAddress = buffer[binding].baseAddress + offset[binding];

<span class="keyword">if</span> (bindingDesc.inputRate == VK_VERTEX_INPUT_RATE_VERTEX)
    vertexOffset = vertexIndex * bindingDesc.stride;
<span class="keyword">else</span>
    vertexOffset = instanceIndex * bindingDesc.stride;

attribAddress = bufferBindingAddress + vertexOffset + attribDesc.offset;</code></pre>
</div>
</div>
<div id="fxvertex-input-extraction" class="paragraph">
<p>For each attribute, raw data is extracted starting at <code>attribAddress</code> and is
converted from the <code>VkVertexInputAttributeDescription</code>&#8217;s <code>format</code> to
either floating-point, unsigned integer, or signed integer based on the base
type of the format; the base type of the format <strong class="purple">must</strong> match the base type of
the input variable in the shader.
If <code>format</code> is a packed format, <code>attribAddress</code> <strong class="purple">must</strong> be a multiple of
the size in bytes of the whole attribute data type as described in
<a href="#formats-packed">Packed Formats</a>.
Otherwise, <code>attribAddress</code> <strong class="purple">must</strong> be a multiple of the size in bytes of the
component type indicated by <code>format</code> (see <a href="#formats">Formats</a>).
If the format does not include G, B, or A components, then those are filled
with <span class="eq">(0,0,1)</span> as needed (using either 1.0f or integer 1 based on the
format) for attributes that are not 64-bit data types.
The number of components in the vertex shader input variable need not
exactly match the number of components in the format.
If the vertex shader has fewer components, the extra components are
discarded.</p>
</div>
</div>
<div class="sect2">
<h3 id="fxvertex-example"><a class="anchor" href="#fxvertex-example"></a>20.3. Example</h3>
<div class="paragraph">
<p>To create a graphics pipeline that uses the following vertex description:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">struct</span> Vertex
{
    <span class="predefined-type">float</span>   x, y, z, w;
    uint8_t u, v;
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>The application could use the following set of structures:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">const</span> VkVertexInputBindingDescription binding =
{
    <span class="integer">0</span>,                                          <span class="comment">// binding</span>
    <span class="keyword">sizeof</span>(Vertex),                             <span class="comment">// stride</span>
    VK_VERTEX_INPUT_RATE_VERTEX                 <span class="comment">// inputRate</span>
};

<span class="directive">const</span> VkVertexInputAttributeDescription attributes[] =
{
    {
        <span class="integer">0</span>,                                      <span class="comment">// location</span>
        binding.binding,                        <span class="comment">// binding</span>
        VK_FORMAT_R32G32B32A32_SFLOAT,          <span class="comment">// format</span>
        <span class="integer">0</span>                                       <span class="comment">// offset</span>
    },
    {
        <span class="integer">1</span>,                                      <span class="comment">// location</span>
        binding.binding,                        <span class="comment">// binding</span>
        VK_FORMAT_R8G8_UNORM,                   <span class="comment">// format</span>
        <span class="integer">4</span> * <span class="keyword">sizeof</span>(<span class="predefined-type">float</span>)                       <span class="comment">// offset</span>
    }
};

<span class="directive">const</span> VkPipelineVertexInputStateCreateInfo viInfo =
{
    VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_CREATE_INFO,    <span class="comment">// sType</span>
    <span class="predefined-constant">NULL</span>,                         <span class="comment">// pNext</span>
    <span class="integer">0</span>,                            <span class="comment">// flags</span>
    <span class="integer">1</span>,                            <span class="comment">// vertexBindingDescriptionCount</span>
    &amp;binding,                     <span class="comment">// pVertexBindingDescriptions</span>
    <span class="integer">2</span>,                            <span class="comment">// vertexAttributeDescriptionCount</span>
    &amp;attributes[<span class="integer">0</span>]                <span class="comment">// pVertexAttributeDescriptions</span>
};</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tessellation"><a class="anchor" href="#tessellation"></a>21. Tessellation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Tessellation involves three pipeline stages.
First, a <a href="#shaders-tessellation-control">tessellation control shader</a>
transforms control points of a patch and <strong class="purple">can</strong> produce per-patch data.
Second, a fixed-function tessellator generates multiple primitives
corresponding to a tessellation of the patch in (u,v) or (u,v,w) parameter
space.
Third, a <a href="#shaders-tessellation-evaluation">tessellation evaluation shader</a>
transforms the vertices of the tessellated patch, for example to compute
their positions and attributes as part of the tessellated surface.
The tessellator is enabled when the pipeline contains both a tessellation
control shader and a tessellation evaluation shader.</p>
</div>
<div class="sect2">
<h3 id="_tessellator"><a class="anchor" href="#_tessellator"></a>21.1. Tessellator</h3>
<div class="paragraph">
<p>If a pipeline includes both tessellation shaders (control and evaluation),
the tessellator consumes each input patch (after vertex shading) and
produces a new set of independent primitives (points, lines, or triangles).
These primitives are logically produced by subdividing a geometric primitive
(rectangle or triangle) according to the per-patch outer and inner
tessellation levels written by the tessellation control shader.
These levels are specified using the <a href="#interfaces-builtin-variables">built-in
variables</a> <code>TessLevelOuter</code> and <code>TessLevelInner</code>, respectively.
This subdivision is performed in an implementation-dependent manner.
If no tessellation shaders are present in the pipeline, the tessellator is
disabled and incoming primitives are passed through without modification.</p>
</div>
<div class="paragraph">
<p>The type of subdivision performed by the tessellator is specified by an
<code>OpExecutionMode</code> instruction in the tessellation evaluation or
tessellation control shader using one of execution modes <code>Triangles</code>,
<code>Quads</code>, and <code>IsoLines</code>.
Other tessellation-related execution modes <strong class="purple">can</strong> also be specified in either
the tessellation control or tessellation evaluation shaders, and if they are
specified in both then the modes <strong class="purple">must</strong> be the same.</p>
</div>
<div class="paragraph">
<p>Tessellation execution modes include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Triangles</code>, <code>Quads</code>, and <code>IsoLines</code>.
These control the type of subdivision and topology of the output
primitives.
One mode <strong class="purple">must</strong> be set in at least one of the tessellation shader stages.</p>
</li>
<li>
<p><code>VertexOrderCw</code> and <code>VertexOrderCcw</code>.
These control the orientation of triangles generated by the tessellator.
One mode <strong class="purple">must</strong> be set in at least one of the tessellation shader stages.</p>
</li>
<li>
<p><code>PointMode</code>.
Controls generation of points rather than triangles or lines.
This functionality defaults to disabled, and is enabled if either shader
stage includes the execution mode.</p>
</li>
<li>
<p><code>SpacingEqual</code>, <code>SpacingFractionalEven</code>, and
<code>SpacingFractionalOdd</code>.
Controls the spacing of segments on the edges of tessellated primitives.
One mode <strong class="purple">must</strong> be set in at least one of the tessellation shader stages.</p>
</li>
<li>
<p><code>OutputVertices</code>.
Controls the size of the output patch of the tessellation control
shader.
One value <strong class="purple">must</strong> be set in at least one of the tessellation shader
stages.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For triangles, the tessellator subdivides a triangle primitive into smaller
triangles.
For quads, the tessellator subdivides a rectangle primitive into smaller
triangles.
For isolines, the tessellator subdivides a rectangle primitive into a
collection of line segments arranged in strips stretching across the
rectangle in the <span class="eq">u</span> dimension (i.e. the coordinates in <code>TessCoord</code>
are of the form (0,x) through (1,x) for all tessellation evaluation shader
invocations that share a line).</p>
</div>
<div class="paragraph">
<p>Each vertex produced by the tessellator has an associated (u,v,w) or (u,v)
position in a normalized parameter space, with parameter values in the range
<span class="eq">[0,1]</span>, as illustrated
in figure <a href="#img-tessellation-topology-ul">Domain parameterization for tessellation primitive modes (upper-left origin)</a>.
The domain space has an upper-left origin.</p>
</div>
<div id="img-tessellation-topology-ul" class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="158.03326mm"
   height="140.2262mm"
   viewBox="0 0 158.03326 140.2262"
   version="1.1"
   id="svg3252"
   sodipodi:docname="tessparamUL.svg"
   inkscape:version="0.92.2 (5c3e80d, 2017-08-06)">
  <defs
     id="defs3246">
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path1632"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mstart"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path1629"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1"
     inkscape:cx="62.03704"
     inkscape:cy="267.41508"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:snap-object-midpoints="true"
     inkscape:snap-text-baseline="true"
     inkscape:window-width="1680"
     inkscape:window-height="987"
     inkscape:window-x="1672"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     fit-margin-left="1"
     fit-margin-top="1"
     fit-margin-right="1"
     fit-margin-bottom="1">
    <inkscape:grid
       type="xygrid"
       id="grid3797"
       originx="-70.89992"
       originy="-158.47658" />
  </sodipodi:namedview>
  <metadata
     id="metadata3249">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-70.899921,1.7027646)">
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687496;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="M 188.9636,35.609765 173.08861,11.797268 h 31.75 z"
       id="path5083"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687496;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="M 188.9636,51.484765 C 157.21361,3.859768 157.21361,3.859768 157.21361,3.859768 h 63.5 z"
       id="path4959"
       inkscape:connector-curvature="0" />
    <rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect5129"
       width="31.750002"
       height="31.750002"
       x="89.744835"
       y="12.435458" />
    <rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect5129-4"
       width="47.624992"
       height="47.624992"
       x="81.80735"
       y="4.4979596" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687496px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 129.64583,80.041678 h 47.625"
       id="path5163"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687496px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 129.64583,119.72918 h 47.625"
       id="path5165"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687496px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 129.64583,111.79168 h 47.625"
       id="path5167"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687496px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 129.64583,103.85418 h 47.625"
       id="path5169"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687496px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 129.64583,95.916678 h 47.625"
       id="path5171"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687496px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 129.64583,87.979178 h 47.625"
       id="path5173"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:15.875px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="139.35422"
       y="64.029213"
       id="text5179"><tspan
         sodipodi:role="line"
         id="tspan5177"
         x="139.35422"
         y="78.512459"
         style="stroke-width:0.39687496" /></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="153.45833"
       y="127.66668"
       id="text2799"><tspan
         sodipodi:role="line"
         id="tspan2797"
         x="153.45833"
         y="127.66668"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">(no edge)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="129.43236"
       y="131.49797"
       id="text2799-3"><tspan
         sodipodi:role="line"
         id="tspan2797-9"
         x="129.43236"
         y="131.49797"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">(0,1)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="177.05736"
       y="131.49797"
       id="text2799-3-1"><tspan
         sodipodi:role="line"
         id="tspan2797-9-7"
         x="177.05736"
         y="131.49797"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">(1,1)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="129.43236"
       y="77.91983"
       id="text2799-3-1-8"><tspan
         sodipodi:role="line"
         id="tspan2797-9-7-2"
         x="129.43236"
         y="77.91983"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">(0,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="177.05736"
       y="77.919846"
       id="text2799-3-1-7"><tspan
         sodipodi:role="line"
         id="tspan2797-9-7-0"
         x="177.05736"
         y="77.919846"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">(1,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="188.96361"
       y="55.833851"
       id="text5070-2-2-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36"
         x="188.96361"
         y="55.833851"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:0.39687496">(0,1,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="220.71503"
       y="2.5135767"
       id="text5070-2-2-9-3"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-1"
         x="220.71503"
         y="2.5135767"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:0.39687496">(1,0,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="157.17018"
       y="2.5762503"
       id="text5070-2-2-9-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9"
         x="157.17018"
         y="2.5762503"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke-width:0.39687496">(0,0,1)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="81.807327"
       y="56.091728"
       id="text2799-3-7"><tspan
         sodipodi:role="line"
         id="tspan2797-9-70"
         x="81.807327"
         y="56.091728"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">(0,1)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="129.43236"
       y="56.091728"
       id="text2799-3-1-5"><tspan
         sodipodi:role="line"
         id="tspan2797-9-7-3"
         x="129.43236"
         y="56.091728"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">(1,1)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="81.807327"
       y="2.5135767"
       id="text2799-3-1-8-0"><tspan
         sodipodi:role="line"
         id="tspan2797-9-7-2-0"
         x="81.807327"
         y="2.5135767"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">(0,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="129.43236"
       y="2.5135882"
       id="text2799-3-1-7-3"><tspan
         sodipodi:role="line"
         id="tspan2797-9-7-0-2"
         x="129.43236"
         y="2.5135882"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">(1,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="113.55736"
       y="105.70109"
       id="text2799-38"><tspan
         sodipodi:role="line"
         id="tspan2797-6"
         x="113.55736"
         y="105.70109"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">OL0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="153.24486"
       y="131.49796"
       id="text2799-38-8"><tspan
         sodipodi:role="line"
         id="tspan2797-6-4"
         x="153.24486"
         y="131.49796"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">OL1</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:0.397;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.588,1.588;stroke-dashoffset:0;stroke-opacity:1;marker-start:url(#Arrow1Mstart);marker-end:url(#Arrow1Mend)"
       d="M 119.51048,79.904209 V 127.52921"
       id="path8332"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="75.854202"
       y="28.310457"
       id="text2799-38-88"><tspan
         sodipodi:role="line"
         id="tspan2797-6-9"
         x="75.854202"
         y="28.310457"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">OL0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="105.61983"
       y="56.091705"
       id="text2799-38-8-5"><tspan
         sodipodi:role="line"
         id="tspan2797-6-4-0"
         x="105.61983"
         y="56.091705"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">OL3</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="105.61983"
       y="2.5135825"
       id="text2799-38-8-5-0"><tspan
         sodipodi:role="line"
         id="tspan2797-6-4-0-5"
         x="105.61983"
         y="2.5135825"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">OL1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="135.38548"
       y="28.310457"
       id="text2799-38-8-5-1"><tspan
         sodipodi:role="line"
         id="tspan2797-6-4-0-6"
         x="135.38548"
         y="28.310457"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">OL2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="105.61983"
       y="16.404207"
       id="text2799-38-8-5-3"><tspan
         sodipodi:role="line"
         id="tspan2797-6-4-0-9"
         x="105.61983"
         y="16.404207"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">IL0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="95.697983"
       y="28.310457"
       id="text2799-38-8-5-7"><tspan
         sodipodi:role="line"
         id="tspan2797-6-4-0-0"
         x="95.697983"
         y="28.310457"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">IL1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="167.13547"
       y="28.310457"
       id="text2799-38-88-3"><tspan
         sodipodi:role="line"
         id="tspan2797-6-9-9"
         x="167.13547"
         y="28.310457"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">OL0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="210.79172"
       y="28.310457"
       id="text2799-38-8-5-1-8"><tspan
         sodipodi:role="line"
         id="tspan2797-6-4-0-6-8"
         x="210.79172"
         y="28.310457"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">OL2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="188.96361"
       y="2.5135882"
       id="text2799-38-8-5-2"><tspan
         sodipodi:role="line"
         id="tspan2797-6-4-0-56"
         x="188.96361"
         y="2.5135882"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">OL1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="188.96361"
       y="22.357338"
       id="text2799-38-8-5-3-1"><tspan
         sodipodi:role="line"
         id="tspan2797-6-4-0-9-0"
         x="188.96361"
         y="22.357338"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">IL0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="105.61983"
       y="62.04483"
       id="text2799-30"><tspan
         sodipodi:role="line"
         id="tspan2797-0"
         x="105.61983"
         y="62.04483"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">Quads</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="188.96361"
       y="62.04483"
       id="text2799-30-4"><tspan
         sodipodi:role="line"
         id="tspan2797-0-8"
         x="188.96361"
         y="62.04483"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">Triangles</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="153.24486"
       y="137.45108"
       id="text2799-30-5"><tspan
         sodipodi:role="line"
         id="tspan2797-0-80"
         x="153.24486"
         y="137.45108"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496">Isolines</tspan></text>
  </g>
</svg>
</div>
<div class="title">Figure 5. Domain parameterization for tessellation primitive modes (upper-left origin)</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph">
<p>In the domain parameterization diagrams, the coordinates illustrate the
value of <code>TessCoord</code> at the corners of the domain.
The labels on the edges indicate the inner (IL0 and IL1) and outer (OL0
through OL3) tessellation level values used to control the number of
subdivisions along each edge of the domain.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>For triangles, the vertex&#8217;s position is a barycentric coordinate
<span class="eq">(u,v,w)</span>, where <span class="eq">u +  v +  w = 1.0</span>, and indicates the
relative influence of the three vertices of the triangle on the position of
the vertex.
For quads and isolines, the position is a <span class="eq">(u,v)</span> coordinate indicating
the relative horizontal and vertical position of the vertex relative to the
subdivided rectangle.
The subdivision process is explained in more detail in subsequent sections.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tessellator_patch_discard"><a class="anchor" href="#_tessellator_patch_discard"></a>21.2. Tessellator Patch Discard</h3>
<div class="paragraph">
<p>A patch is discarded by the tessellator if any relevant outer tessellation
level is less than or equal to zero.</p>
</div>
<div class="paragraph">
<p>Patches will also be discarded if any relevant outer tessellation level
corresponds to a floating-point <span class="eq">NaN</span> (not a number) in implementations
supporting <span class="eq">NaN</span>.</p>
</div>
<div class="paragraph">
<p>No new primitives are generated and the tessellation evaluation shader is
not executed for patches that are discarded.
For <code>Quads</code>, all four outer levels are relevant.
For <code>Triangles</code> and <code>IsoLines</code>, only the first three or two outer
levels, respectively, are relevant.
Negative inner levels will not cause a patch to be discarded; they will be
clamped as described below.</p>
</div>
</div>
<div class="sect2">
<h3 id="tessellation-tessellator-spacing"><a class="anchor" href="#tessellation-tessellator-spacing"></a>21.3. Tessellator Spacing</h3>
<div class="paragraph">
<p>Each of the tessellation levels is used to determine the number and spacing
of segments used to subdivide a corresponding edge.
The method used to derive the number and spacing of segments is specified by
an <code>OpExecutionMode</code> in the tessellation control or tessellation
evaluation shader using one of the identifiers <code>SpacingEqual</code>,
<code>SpacingFractionalEven</code>, or <code>SpacingFractionalOdd</code>.</p>
</div>
<div class="paragraph">
<p>If <code>SpacingEqual</code> is used, the floating-point tessellation level is first
clamped to <span class="eq">[1, <code>maxLevel</code>]</span>, where <span class="eq"><code>maxLevel</code></span> is the
implementation-dependent maximum tessellation level
(<code>VkPhysicalDeviceLimits</code>::<code>maxTessellationGenerationLevel</code>).
The result is rounded up to the nearest integer <span class="eq">n</span>, and the
corresponding edge is divided into <span class="eq">n</span> segments of equal length in (u,v)
space.</p>
</div>
<div class="paragraph">
<p>If <code>SpacingFractionalEven</code> is used, the tessellation level is first
clamped to <span class="eq">[2, <code>maxLevel</code>]</span> and then rounded up to the nearest even
integer <span class="eq">n</span>.
If <code>SpacingFractionalOdd</code> is used, the tessellation level is clamped to
<span class="eq">[1, <code>maxLevel</code> - 1]</span> and then rounded up to the nearest odd integer
<span class="eq">n</span>.
If <span class="eq">n</span> is one, the edge will not be subdivided.
Otherwise, the corresponding edge will be divided into <span class="eq">n - 2</span> segments
of equal length, and two additional segments of equal length that are
typically shorter than the other segments.
The length of the two additional segments relative to the others will
decrease monotonically with <span class="eq">n - f</span>, where <span class="eq">f</span> is the clamped
floating-point tessellation level.
When <span class="eq">n - f</span> is zero, the additional segments will have equal length to
the other segments.
As <span class="eq">n - f</span> approaches 2.0, the relative length of the additional
segments approaches zero.
The two additional segments <strong class="purple">must</strong> be placed symmetrically on opposite sides
of the subdivided edge.
The relative location of these two segments is implementation-dependent, but
<strong class="purple">must</strong> be identical for any pair of subdivided edges with identical values of
<span class="eq">f</span>.</p>
</div>
<div class="paragraph">
<p>When tessellating triangles or quads using <a href="#tessellation-point-mode">point
mode</a> with fractional odd spacing, the tessellator <strong class="purple">may</strong> produce <em>interior
vertices</em> that are positioned on the edge of the patch if an inner
tessellation level is less than or equal to one.
Such vertices are considered distinct from vertices produced by subdividing
the outer edge of the patch, even if there are pairs of vertices with
identical coordinates.</p>
</div>
</div>
<div class="sect2">
<h3 id="tessellation-primitive-order"><a class="anchor" href="#tessellation-primitive-order"></a>21.4. Tessellation Primitive Ordering</h3>
<div class="paragraph">
<p>Few guarantees are provided for the relative ordering of primitives produced
by tessellation, as they pertain to <a href="#drawing-primitive-order">primitive
order</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The output primitives generated from each input primitive are passed to
subsequent pipeline stages in an implementation-dependent order.</p>
</li>
<li>
<p>All output primitives generated from a given input primitive are passed
to subsequent pipeline stages before any output primitives generated
from subsequent input primitives.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="tessellation-vertex-winding-order"><a class="anchor" href="#tessellation-vertex-winding-order"></a>21.5. Tessellator Vertex Winding Order</h3>
<div class="paragraph">
<p>When the tessellator produces triangles (in the <code>Triangles</code> or <code>Quads</code>
modes), the orientation of all triangles is specified with an
<code>OpExecutionMode</code> of <code>VertexOrderCw</code> or <code>VertexOrderCcw</code> in the
tessellation control or tessellation evaluation shaders.
If the order is <code>VertexOrderCw</code>, the vertices of all generated triangles
will have clockwise ordering in (u,v) or (u,v,w) space.
If the order is <code>VertexOrderCcw</code>, the vertices will have
counter-clockwise ordering in that space.</p>
</div>
<div class="paragraph">
<p>If the tessellation domain has an upper-left origin, the vertices of a
triangle have counter-clockwise ordering if</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">a = u<sub>0</sub> v<sub>1</sub> - u<sub>1</sub> v<sub>0</sub> +  u<sub>1</sub> v<sub>2</sub> - u<sub>2</sub> v<sub>1</sub>
+  u<sub>2</sub> v<sub>0</sub> - u<sub>0</sub> v<sub>2</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>is negative, and clockwise ordering if <span class="eq">a</span> is positive.
<span class="eq">u<sub>i</sub></span> and <span class="eq">v<sub>i</sub></span> are the <span class="eq">u</span> and <span class="eq">v</span> coordinates in
normalized parameter space of the <span class="eq">i</span>th vertex of the triangle.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The value <span class="eq">a</span> is proportional (with a positive factor) to the signed
area of the triangle.</p>
</div>
<div class="paragraph">
<p>In <code>Triangles</code> mode, even though the vertex coordinates have a <span class="eq">w</span>
value, it does not participate directly in the computation of <span class="eq">a</span>, being
an affine combination of <span class="eq">u</span> and <span class="eq">v</span>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="tessellation-triangle-tessellation"><a class="anchor" href="#tessellation-triangle-tessellation"></a>21.6. Triangle Tessellation</h3>
<div class="paragraph">
<p>If the tessellation primitive mode is <code>Triangles</code>, an equilateral
triangle is subdivided into a collection of triangles covering the area of
the original triangle.
First, the original triangle is subdivided into a collection of concentric
equilateral triangles.
The edges of each of these triangles are subdivided, and the area between
each triangle pair is filled by triangles produced by joining the vertices
on the subdivided edges.
The number of concentric triangles and the number of subdivisions along each
triangle except the outermost is derived from the first inner tessellation
level.
The edges of the outermost triangle are subdivided independently, using the
first, second, and third outer tessellation levels to control the number of
subdivisions of the <span class="eq">u = 0</span> (left), <span class="eq">v = 0</span> (bottom), and <span class="eq">w =
0</span> (right) edges, respectively.
The second inner tessellation level and the fourth outer tessellation level
have no effect in this mode.</p>
</div>
<div class="paragraph">
<p>If the first inner tessellation level and all three outer tessellation
levels are exactly one after clamping and rounding, only a single triangle
with <span class="eq">(u,v,w)</span> coordinates of <span class="eq">(0,0,1)</span>, <span class="eq">(1,0,0)</span>, and
<span class="eq">(0,1,0)</span> is generated.
If the inner tessellation level is one and any of the outer tessellation
levels is greater than one, the inner tessellation level is treated as
though it were originally specified as <span class="eq">1 +  竜</span> and will
result in a two- or three-segment subdivision depending on the tessellation
spacing.
When used with fractional odd spacing, the three-segment subdivision <strong class="purple">may</strong>
produce <em>inner vertices</em> positioned on the edge of the triangle.</p>
</div>
<div class="paragraph">
<p>If any tessellation level is greater than one, tessellation begins by
producing a set of concentric inner triangles and subdividing their edges.
First, the three outer edges are temporarily subdivided using the clamped
and rounded first inner tessellation level and the specified tessellation
spacing, generating <span class="eq">n</span> segments.
For the outermost inner triangle, the inner triangle is degenerate&#8201;&#8212;&#8201;a
single point at the center of the triangle&#8201;&#8212;&#8201;if <span class="eq">n</span> is two.
Otherwise, for each corner of the outer triangle, an inner triangle corner
is produced at the intersection of two lines extended perpendicular to the
corner&#8217;s two adjacent edges running through the vertex of the subdivided
outer edge nearest that corner.
If <span class="eq">n</span> is three, the edges of the inner triangle are not subdivided and
is the final triangle in the set of concentric triangles.
Otherwise, each edge of the inner triangle is divided into <span class="eq">n - 2</span>
segments, with the <span class="eq">n - 1</span> vertices of this subdivision produced by
intersecting the inner edge with lines perpendicular to the edge running
through the <span class="eq">n - 1</span> innermost vertices of the subdivision of the outer
edge.
Once the outermost inner triangle is subdivided, the previous subdivision
process repeats itself, using the generated triangle as an outer triangle.
This subdivision process is illustrated in <a href="#img-innertri">Inner Triangle
Tessellation</a>.</p>
</div>
<div id="img-innertri" class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="180.51871mm"
   height="75.629333mm"
   viewBox="0 0 180.5187 75.629333"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.2 (5c3e80d, 2017-08-06)"
   sodipodi:docname="innertri.svg">
  <defs
     id="defs8647" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1"
     inkscape:cx="243.40083"
     inkscape:cy="90.033505"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1680"
     inkscape:window-height="987"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="66.42264"
       originy="-193.13802" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(66.422641,-28.232645)">
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.39687499px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m -26.458331,61.520827 -15.875,23.812499 h 31.750001 z"
       id="path5083"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
       x="-33.922741"
       y="44.355228"
       id="text5070-2-2-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36"
         x="-33.922741"
         y="44.355228"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687499">(0,1,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
       x="-29.592077"
       y="102.01035"
       id="text2799"><tspan
         sodipodi:role="line"
         id="tspan2797"
         x="-29.592077"
         y="102.01035"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499">(a)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
       x="65.757034"
       y="99.802383"
       id="text2799-0"><tspan
         sodipodi:role="line"
         id="tspan2797-0"
         x="65.757034"
         y="99.802383"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687499">(b)</tspan></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot4701"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.396875,0,0,0.396875,8.1155069,-33.740644)"><flowRegion
         id="flowRegion4703"><rect
           id="rect4705"
           width="240"
           height="140"
           x="36.114491"
           y="-8.2994375" /></flowRegion><flowPara
         id="flowPara4707" /></flowRoot>    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8"
       cx="-26.461729"
       cy="45.642532"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6"
       cx="-34.399227"
       cy="57.548782"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-9"
       cx="-42.336727"
       cy="69.455032"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-99"
       cx="-50.274231"
       cy="81.361282"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-7"
       cx="58.204929"
       cy="-93.274124"
       r="0.79168469"
       transform="scale(-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-5"
       cx="18.517424"
       cy="57.548782"
       r="0.79168469"
       transform="scale(-1,1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-9-6"
       cx="10.579925"
       cy="69.45504"
       r="0.79168469"
       transform="scale(-1,1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-99-1"
       cx="2.6424396"
       cy="81.361282"
       r="0.79168469"
       transform="scale(-1,1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-7-4"
       cx="5.2882776"
       cy="-93.274124"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-7-44"
       cx="42.329926"
       cy="-93.274124"
       r="0.79168469"
       transform="scale(-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-7-9"
       cx="26.454931"
       cy="-93.274124"
       r="0.79168469"
       transform="scale(-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-7-7"
       cx="10.579925"
       cy="-93.274124"
       r="0.79168469"
       transform="scale(-1)" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687499px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M -26.458331,45.645828 C -58.20833,93.270825 -58.20833,93.270825 -58.20833,93.270825 H 5.2916687 Z"
       id="path4959"
       inkscape:connector-curvature="0" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1"
       cx="-26.461729"
       cy="61.517532"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-4"
       cx="-18.524229"
       cy="73.423782"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9"
       cx="-34.399231"
       cy="-73.430374"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-1"
       cx="-42.336735"
       cy="-85.336624"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-4"
       cx="10.57994"
       cy="-85.336624"
       r="0.79168469"
       transform="scale(-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-7-44-8"
       cx="26.454931"
       cy="-85.336624"
       r="0.79168469"
       transform="scale(-1)" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m -18.520831,57.552077 -7.9375,3.96875"
       id="path5087"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m -10.58333,69.458327 -7.937501,3.96875"
       id="path5089"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m -2.6458313,81.364576 c -7.9374987,3.96875 -7.9374987,3.96875 -7.9374987,3.96875"
       id="path5091"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m -10.58333,93.270825 c 0,-7.937499 0,-7.937499 0,-7.937499"
       id="path5093"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m -26.458331,93.270825 c 0,-7.937499 0,-7.937499 0,-7.937499"
       id="path5095"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m -42.333331,93.270825 c 0,-7.937499 0,-7.937499 0,-7.937499"
       id="path5097"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m -50.27083,81.364576 c 7.937499,3.96875 7.937499,3.96875 7.937499,3.96875"
       id="path5099"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m -42.333331,69.458327 c 7.937501,3.96875 7.937501,3.96875 7.937501,3.96875"
       id="path5101"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m -34.39583,57.552077 c 7.937499,3.96875 7.937499,3.96875 7.937499,3.96875"
       id="path5103"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
       x="-2.1713245"
       y="97.675507"
       id="text5070-2-2-9-3"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-1"
         x="-2.1713245"
         y="97.675507"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687499">(1,0,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
       x="-65.716164"
       y="97.612831"
       id="text5070-2-2-9-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9"
         x="-65.716164"
         y="97.612831"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687499">(0,0,1)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
       x="58.681427"
       y="32.448986"
       id="text5070-2-2-9-8"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-3"
         x="58.681427"
         y="32.448986"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687499">(0,1,0)</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-1"
       cx="66.142441"
       cy="33.736286"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-3"
       cx="58.204941"
       cy="45.642536"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-9-2"
       cx="50.267445"
       cy="57.548786"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-99-3"
       cx="42.329937"
       cy="69.455032"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-7-99"
       cx="-34.399239"
       cy="-81.367874"
       r="0.79168469"
       transform="scale(-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-5-5"
       cx="-74.086746"
       cy="45.642536"
       r="0.79168469"
       transform="scale(-1,1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-9-6-3"
       cx="-82.024246"
       cy="57.54879"
       r="0.79168469"
       transform="scale(-1,1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-99-1-9"
       cx="-89.961716"
       cy="69.455032"
       r="0.79168469"
       transform="scale(-1,1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-7-4-3"
       cx="97.892448"
       cy="-81.367874"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-7"
       cx="66.142441"
       cy="49.611282"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-4-2"
       cx="74.079941"
       cy="61.517532"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-9"
       cx="58.204941"
       cy="-61.524132"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-1-9"
       cx="50.267433"
       cy="-73.430374"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-4-8"
       cx="-82.024231"
       cy="-73.430374"
       r="0.79168469"
       transform="scale(-1)" />
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.39687499;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="M 66.145837,61.520831 54.239585,79.380206 h 23.8125 z"
       id="path5083-8-8"
       inkscape:connector-curvature="0" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-7-4"
       cx="66.142441"
       cy="61.517532"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-9-2"
       cx="54.236198"
       cy="-79.395912"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-9-2-3"
       cx="78.061111"
       cy="-79.395912"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-7-7"
       cx="50.267433"
       cy="73.423782"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-4-2-4"
       cx="58.204929"
       cy="85.33004"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-9-5"
       cx="42.329937"
       cy="-85.336632"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-7-45"
       cx="82.017433"
       cy="73.423782"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-4-2-6"
       cx="89.954933"
       cy="85.330025"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-9-4"
       cx="74.079948"
       cy="-85.336632"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-4-2-60"
       cx="105.82993"
       cy="93.267532"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-9-45"
       cx="89.954941"
       cy="-93.274124"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-4-2-7"
       cx="42.329937"
       cy="93.267525"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-9-1"
       cx="26.454943"
       cy="-93.274124"
       r="0.79168469"
       transform="scale(1,-1)" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-4-2-1"
       cx="58.204937"
       cy="93.267532"
       r="0.79168469" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15833695;stroke-opacity:1"
       id="path4517-78-7-8-8-6-1-9-9-20"
       cx="74.079941"
       cy="-93.274124"
       r="0.79168469"
       transform="scale(1,-1)" />
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.39687499;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="M 66.145834,49.614578 42.333335,85.333328 H 89.958334 Z"
       id="path6079"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39687499px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 66.145834,33.739578 26.458336,93.270827 h 79.374994 z"
       id="path6081"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m 74.083334,45.645828 -7.9375,3.96875 -7.937499,-3.96875 v 0"
       id="path6083"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m 50.270834,57.552078 7.937501,3.96875 h 7.937499 7.9375 l 7.937501,-3.96875"
       id="path6085"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m 89.958334,69.458328 -7.937499,3.96875 -3.968751,5.953125 -3.96875,5.953125 v 7.937499"
       id="path6087"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m 42.333335,69.458328 7.937499,3.96875 3.96875,5.953125 3.968751,5.953125 v 7.937499"
       id="path6089"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m 34.395835,81.364578 7.9375,3.96875 v 7.937499"
       id="path6091"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.396875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.5875,1.5875;stroke-dashoffset:0;stroke-opacity:1"
       d="m 97.895834,81.364578 -7.9375,3.96875 v 7.937499"
       id="path6093"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
       x="98.370346"
       y="97.675514"
       id="text5070-2-2-9-3-3"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-1-2"
         x="98.370346"
         y="97.675514"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687499">(1,0,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
       x="19.148937"
       y="97.811272"
       id="text5070-2-2-9-9-1"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36-9-5"
         x="19.148937"
         y="97.811272"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687499">(0,0,1)</tspan></text>
  </g>
</svg>
</div>
<div class="title">Figure 6. Inner Triangle Tessellation</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph">
<p>In the <a href="#img-innertri">Inner Triangle Tessellation</a> diagram, inner
tessellation levels of (a) five and (b) four are shown (not to scale).
Solid black circles depict vertices along the edges of the concentric
triangles.
The edges of inner triangles are subdivided by intersecting the edge with
segments perpendicular to the edge passing through each inner vertex of the
subdivided outer edge.
Dotted lines depict edges connecting corresponding vertices on the inner and
outer triangle edges.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Once all the concentric triangles are produced and their edges are
subdivided, the area between each pair of adjacent inner triangles is filled
completely with a set of non-overlapping triangles.
In this subdivision, two of the three vertices of each triangle are taken
from adjacent vertices on a subdivided edge of one triangle; the third is
one of the vertices on the corresponding edge of the other triangle.
If the innermost triangle is degenerate (i.e., a point), the triangle
containing it is subdivided into six triangles by connecting each of the six
vertices on that triangle with the center point.
If the innermost triangle is not degenerate, that triangle is added to the
set of generated triangles as-is.</p>
</div>
<div class="paragraph">
<p>After the area corresponding to any inner triangles is filled, the
tessellator generates triangles to cover the area between the outermost
triangle and the outermost inner triangle.
To do this, the temporary subdivision of the outer triangle edge above is
discarded.
Instead, the <span class="eq">u = 0</span>, <span class="eq">v = 0</span>, and <span class="eq">w = 0</span> edges are subdivided
according to the first, second, and third outer tessellation levels,
respectively, and the tessellation spacing.
The original subdivision of the first inner triangle is retained.
The area between the outer and first inner triangles is completely filled by
non-overlapping triangles as described above.
If the first (and only) inner triangle is degenerate, a set of triangles is
produced by connecting each vertex on the outer triangle edges with the
center point.</p>
</div>
<div class="paragraph">
<p>After all triangles are generated, each vertex in the subdivided triangle is
assigned a barycentric (u,v,w) coordinate based on its location relative to
the three vertices of the outer triangle.</p>
</div>
<div class="paragraph">
<p>The algorithm used to subdivide the triangular domain in (u,v,w) space into
individual triangles is implementation-dependent.
However, the set of triangles produced will completely cover the domain, and
no portion of the domain will be covered by multiple triangles.</p>
</div>
<div class="paragraph">
<p>Output triangles are generated with a topology similar to
<a href="#drawing-triangle-lists">triangle lists</a>, except that the order in which
each triangle is generated, and the order in which the vertices are
generated for each triangle, are implementation-dependent.
However, the order of vertices in each triangle is consistent across the
domain as described in <a href="#tessellation-vertex-winding-order">Tessellator Vertex Winding Order</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="tessellation-quad-tessellation"><a class="anchor" href="#tessellation-quad-tessellation"></a>21.7. Quad Tessellation</h3>
<div class="paragraph">
<p>If the tessellation primitive mode is <code>Quads</code>, a rectangle is subdivided
into a collection of triangles covering the area of the original rectangle.
First, the original rectangle is subdivided into a regular mesh of
rectangles, where the number of rectangles along the <span class="eq">u = 0</span> and <span class="eq">u
= 1</span> (vertical) and <span class="eq">v = 0</span> and <span class="eq">v = 1</span> (horizontal) edges are
derived from the first and second inner tessellation levels, respectively.
All rectangles, except those adjacent to one of the outer rectangle edges,
are decomposed into triangle pairs.
The outermost rectangle edges are subdivided independently, using the first,
second, third, and fourth outer tessellation levels to control the number of
subdivisions of the <span class="eq">u = 0</span> (left), <span class="eq">v = 0</span> (bottom), <span class="eq">u = 1</span>
(right), and <span class="eq">v = 1</span> (top) edges, respectively.
The area between the inner rectangles of the mesh and the outer rectangle
edges are filled by triangles produced by joining the vertices on the
subdivided outer edges to the vertices on the edge of the inner rectangle
mesh.</p>
</div>
<div class="paragraph">
<p>If both clamped inner tessellation levels and all four clamped outer
tessellation levels are exactly one, only a single triangle pair covering
the outer rectangle is generated.
Otherwise, if either clamped inner tessellation level is one, that
tessellation level is treated as though it were originally specified as
<span class="eq">1 +  竜</span> and will result in a two- or three-segment
subdivision depending on the tessellation spacing.
When used with fractional odd spacing, the three-segment subdivision <strong class="purple">may</strong>
produce <em>inner vertices</em> positioned on the edge of the rectangle.</p>
</div>
<div class="paragraph">
<p>If any tessellation level is greater than one, tessellation begins by
subdividing the <span class="eq">u = 0</span> and <span class="eq">u = 1</span> edges of the outer rectangle
into <span class="eq">m</span> segments using the clamped and rounded first inner tessellation
level and the tessellation spacing.
The <span class="eq">v = 0</span> and <span class="eq">v = 1</span> edges are subdivided into <span class="eq">n</span> segments
using the second inner tessellation level.
Each vertex on the <span class="eq">u = 0</span> and <span class="eq">v = 0</span> edges are joined with the
corresponding vertex on the <span class="eq">u = 1</span> and <span class="eq">v = 1</span> edges to produce a
set of vertical and horizontal lines that divide the rectangle into a grid
of smaller rectangles.
The primitive generator emits a pair of non-overlapping triangles covering
each such rectangle not adjacent to an edge of the outer rectangle.
The boundary of the region covered by these triangles forms an inner
rectangle, the edges of which are subdivided by the grid vertices that lie
on the edge.
If either <span class="eq">m</span> or <span class="eq">n</span> is two, the inner rectangle is degenerate, and
one or both of the rectangle&#8217;s <em>edges</em> consist of a single point.
This subdivision is illustrated in Figure <a href="#img-innerquad">Inner Quad
Tessellation</a>.</p>
</div>
<div id="img-innerquad" class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="213.40439mm"
   height="82.336044mm"
   viewBox="0 0 213.40439 82.336044"
   version="1.1"
   id="svg8653"
   inkscape:version="0.92.2 (5c3e80d, 2017-08-06)"
   sodipodi:docname="innerquad.svg">
  <defs
     id="defs8647" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1"
     inkscape:cx="417.43978"
     inkscape:cy="37.024591"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1680"
     inkscape:window-height="987"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     fit-margin-top="1"
     fit-margin-left="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:snap-grids="true">
    <inkscape:grid
       type="xygrid"
       id="grid9626"
       originx="85.351053"
       originy="-193.77742" />
  </sodipodi:namedview>
  <metadata
     id="metadata8650">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(85.351047,-20.886535)">
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.39687496;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 42.333339,42.999989 c 0,31.75 0,31.75 0,31.75"
       id="path2102"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.39687496;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 58.20834,42.999989 c 0,31.75 0,31.75 0,31.75"
       id="path2104"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.39687496;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 74.083339,42.999989 c 0,31.75 0,31.75 0,31.75"
       id="path2106"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.39687496;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 89.958339,42.999989 c 0,31.75 0,31.75 0,31.75"
       id="path2108"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.39687496;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 26.458339,58.874988 c 79.375001,0 79.375001,0 79.375001,0"
       id="path2110"
       inkscape:connector-curvature="0" />
    <rect
       id="rect3703-2"
       width="111.125"
       height="63.499981"
       x="10.583337"
       y="27.124992"
       style="opacity:0.88500001;fill:none;stroke:#000000;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 26.458336,27.124995 V 42.99998"
       id="path9655"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 42.333337,27.124994 V 42.99998"
       id="path9655-4"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 58.208337,27.124994 V 42.99998"
       id="path9655-2"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="m 105.83334,42.99998 h 15.87499"
       id="path9693"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 10.583337,42.999995 H 26.458335"
       id="path9693-1"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="5.5028787"
       y="25.213295"
       id="text5070-2-2"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3"
         x="5.5028787"
         y="25.213295"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687496">(0,1)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="116.35319"
       y="25.102877"
       id="text5070-2-2-6"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-4"
         x="116.35319"
         y="25.102877"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687496">(1,1)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="5.313765"
       y="94.580177"
       id="text5070-2-2-5"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-3"
         x="5.313765"
         y="94.580177"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687496">(0,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="116.56095"
       y="94.66819"
       id="text5070-2-2-6-0"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-4-0"
         x="116.56095"
         y="94.66819"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687496">(1,0)</tspan></text>
    <g
       id="g2002"
       transform="matrix(1.5,0,0,1.5,-46.79366,-77.20566)">
      <circle
         r="0.52778977"
         cy="69.582268"
         cx="38.289722"
         id="path4517"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="69.582268"
         cx="48.873055"
         id="path4517-7"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="69.582268"
         cx="59.456387"
         id="path4517-78"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="69.582268"
         cx="70.039726"
         id="path4517-7-9"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="69.582268"
         cx="80.623055"
         id="path4517-0"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="80.165604"
         cx="38.289722"
         id="path4517-5"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="80.165604"
         cx="48.873055"
         id="path4517-7-8"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="80.165604"
         cx="59.456387"
         id="path4517-78-7"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="80.165604"
         cx="70.039726"
         id="path4517-7-9-2"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="80.165604"
         cx="80.623055"
         id="path4517-0-0"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="90.74894"
         cx="38.289722"
         id="path4517-9"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="90.74894"
         cx="48.873055"
         id="path4517-7-87"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="69.582268"
         cx="91.20639"
         id="path4517-78-70"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="69.582268"
         cx="101.78973"
         id="path4517-7-9-7"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="69.582268"
         cx="112.37305"
         id="path4517-0-7"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="80.165604"
         cx="91.20639"
         id="path4517-78-7-5"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="80.165604"
         cx="101.78973"
         id="path4517-7-9-2-4"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="80.165604"
         cx="112.37305"
         id="path4517-0-0-0"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="90.74894"
         cx="101.78973"
         id="path4517-7-9-4-3"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="90.74894"
         cx="112.37306"
         id="path4517-0-6-7"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-111.9183"
         cx="38.256454"
         id="path4517-56"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-111.9183"
         cx="48.83979"
         id="path4517-7-2"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-111.9183"
         cx="59.423122"
         id="path4517-78-0"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-111.9183"
         cx="70.006462"
         id="path4517-7-9-8"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-111.9183"
         cx="80.58979"
         id="path4517-0-70"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-101.33495"
         cx="38.256454"
         id="path4517-5-6"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-101.33495"
         cx="48.83979"
         id="path4517-7-8-9"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-101.33495"
         cx="59.423122"
         id="path4517-78-7-9"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-101.33495"
         cx="70.006462"
         id="path4517-7-9-2-3"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-101.33495"
         cx="80.58979"
         id="path4517-0-0-4"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-90.751633"
         cx="38.256454"
         id="path4517-9-3"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-90.751633"
         cx="48.83979"
         id="path4517-7-87-0"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-111.9183"
         cx="91.173119"
         id="path4517-78-70-1"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-111.9183"
         cx="101.75645"
         id="path4517-7-9-7-7"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-111.9183"
         cx="112.33977"
         id="path4517-0-7-0"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-101.33495"
         cx="91.173119"
         id="path4517-78-7-5-9"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-101.33495"
         cx="101.75645"
         id="path4517-7-9-2-4-1"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-101.33495"
         cx="112.33977"
         id="path4517-0-0-0-1"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-90.751633"
         cx="101.75645"
         id="path4517-7-9-4-3-6"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
      <circle
         transform="scale(1,-1)"
         r="0.52778977"
         cy="-90.751633"
         cx="112.33979"
         id="path4517-0-6-7-6"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555797;stroke-opacity:1" />
    </g>
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 74.083339,27.124989 V 42.999975"
       id="path9655-2-8"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 89.95834,27.124989 V 42.999975"
       id="path9655-2-6"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 105.83334,27.124989 V 42.999975"
       id="path9655-2-7"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 26.458339,74.749989 V 90.624975"
       id="path9655-2-1"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 42.33334,74.749989 V 90.624975"
       id="path9655-2-4"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 58.20834,74.749989 V 90.624975"
       id="path9655-2-2"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 74.083339,74.749989 V 90.624975"
       id="path9655-2-88"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 89.95834,74.749989 V 90.624975"
       id="path9655-2-0"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 105.83334,74.749989 V 90.624975"
       id="path9655-2-23"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="m 105.83334,58.874988 h 15.87499"
       id="path9693-6"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="m 105.83334,74.749989 h 15.87501"
       id="path9693-9"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 10.58334,74.749989 H 26.458333"
       id="path9693-0"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M 10.58334,58.874988 H 26.458333"
       id="path9693-5"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.39687496;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 26.458339,42.999989 c 79.375001,0 79.375001,0 79.375001,0 v 31.75 H 26.458339 v -31.75"
       id="path2100"
       inkscape:connector-curvature="0" />
    <g
       id="g9727"
       transform="matrix(1.5,0,0,1.5,-136.08449,-54.396465)">
      <circle
         r="0.52778977"
         cy="64.922615"
         cx="37.797619"
         id="path4517-564"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="64.922615"
         cx="48.380951"
         id="path4517-7-24"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="64.922615"
         cx="58.964283"
         id="path4517-78-1"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="64.922615"
         cx="69.547615"
         id="path4517-7-9-77"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="64.922615"
         cx="80.130943"
         id="path4517-0-5"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="75.505951"
         cx="37.797619"
         id="path4517-5-1"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="75.505951"
         cx="48.380951"
         id="path4517-7-8-7"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="75.505951"
         cx="58.964283"
         id="path4517-78-7-8"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="75.505951"
         cx="69.547615"
         id="path4517-7-9-2-8"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="75.505951"
         cx="80.130943"
         id="path4517-0-0-1"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="86.089287"
         cx="37.797619"
         id="path4517-9-5"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="86.089287"
         cx="48.380951"
         id="path4517-7-87-3"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="86.089287"
         cx="58.964283"
         id="path4517-78-0-2"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="86.089287"
         cx="69.547615"
         id="path4517-7-9-4"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
      <circle
         r="0.52778977"
         cy="86.089287"
         cx="80.130951"
         id="path4517-0-6"
         style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.10555796;stroke-opacity:1" />
    </g>
    <rect
       id="rect3703-2-4"
       width="63.499992"
       height="31.75"
       x="-79.375"
       y="42.999996"
       style="opacity:0.88500001;fill:none;stroke:#000000;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="m -63.500001,42.999996 v 31.75"
       id="path9655-0"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M -47.625,42.999995 V 74.749994"
       id="path9655-4-6"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="M -31.749997,42.999995 V 74.749994"
       id="path9655-2-9"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="m -31.749997,58.874995 h 15.874998"
       id="path9693-62"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.39687496;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m -63.500001,58.874995 h 31.749999"
       id="path9695"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.39700006;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58800024,1.58800024;stroke-dashoffset:0;stroke-opacity:1"
       d="m -79.375,58.874995 h 15.874999"
       id="path9693-1-9"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="-84.45546"
       y="41.088295"
       id="text5070-2-2-9"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-36"
         x="-84.45546"
         y="41.088295"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687496">(0,1)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="-21.031706"
       y="41.176315"
       id="text5070-2-2-6-1"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-4-6"
         x="-21.031706"
         y="41.176315"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687496">(1,1)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="-84.644569"
       y="78.903603"
       id="text5070-2-2-5-5"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-3-4"
         x="-84.644569"
         y="78.903603"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687496">(0,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="-21.220816"
       y="78.991623"
       id="text5070-2-2-6-0-4"><tspan
         sodipodi:role="line"
         id="tspan5068-0-3-4-0-3"
         x="-21.220816"
         y="78.991623"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.39687496">(1,0)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="-52.295326"
       y="85.413338"
       id="text2799"><tspan
         sodipodi:role="line"
         id="tspan2797"
         x="-52.295326"
         y="85.413338"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687496">(a)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496"
       x="61.65501"
       y="101.37095"
       id="text2799-0"><tspan
         sodipodi:role="line"
         id="tspan2797-0"
         x="61.65501"
         y="101.37095"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687496">(b)</tspan></text>
  </g>
</svg>
</div>
<div class="title">Figure 7. Inner Quad Tessellation</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Caption</div>
<div class="paragraph">
<p>In the <a href="#img-innerquad">Inner Quad Tessellation</a> diagram, inner quad
tessellation levels of (a) <span class="eq">(4,2)</span> and (b) <span class="eq">(7,4)</span> are shown.
The regions highlighted in red in figure (b) depict the 10 inner rectangles,
each of which will be subdivided into two triangles.
Solid black circles depict vertices on the boundary of the outer and inner
rectangles, where the inner rectangle on the top figure is degenerate (a
single line segment).
Dotted lines depict the horizontal and vertical edges connecting
corresponding vertices on the inner and outer rectangle edges.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>After the area corresponding to the inner rectangle is filled, the
tessellator <strong class="purple">must</strong> produce triangles to cover the area between the inner and
outer rectangles.
To do this, the subdivision of the outer rectangle edge above is discarded.
Instead, the <span class="eq">u = 0</span>, <span class="eq">v = 0</span>, <span class="eq">u = 1</span>, and <span class="eq">v = 1</span> edges
are subdivided according to the first, second, third, and fourth outer
tessellation levels, respectively, and the tessellation spacing.
The original subdivision of the inner rectangle is retained.
The area between the outer and inner rectangles is completely filled by
non-overlapping triangles.
Two of the three vertices of each triangle are adjacent vertices on a
subdivided edge of one rectangle; the third is one of the vertices on the
corresponding edge of the other rectangle.
If either edge of the innermost rectangle is degenerate, the area near the
corresponding outer edges is filled by connecting each vertex on the outer
edge with the single vertex making up the <em>inner edge</em>.</p>
</div>
<div class="paragraph">
<p>The algorithm used to subdivide the rectangular domain in (u,v) space into
individual triangles is implementation-dependent.
However, the set of triangles produced will completely cover the domain, and
no portion of the domain will be covered by multiple triangles.</p>
</div>
<div class="paragraph">
<p>Output triangles are generated with a topology similar to
<a href="#drawing-triangle-lists">triangle lists</a>, except that the order in which
each triangle is generated, and the order in which the vertices are
generated for each triangle, are implementation-dependent.
However, the order of vertices in each triangle is consistent across the
domain as described in <a href="#tessellation-vertex-winding-order">Tessellator Vertex Winding Order</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="tessellation-isoline-tessellation"><a class="anchor" href="#tessellation-isoline-tessellation"></a>21.8. Isoline Tessellation</h3>
<div class="paragraph">
<p>If the tessellation primitive mode is <code>IsoLines</code>, a set of independent
horizontal line segments is drawn.
The segments are arranged into connected strips called <em>isolines</em>, where the
vertices of each isoline have a constant v coordinate and u coordinates
covering the full range <span class="eq">[0,1]</span>.
The number of isolines generated is derived from the first outer
tessellation level; the number of segments in each isoline is derived from
the second outer tessellation level.
Both inner tessellation levels and the third and fourth outer tessellation
levels have no effect in this mode.</p>
</div>
<div class="paragraph">
<p>As with quad tessellation above, isoline tessellation begins with a
rectangle.
The <span class="eq">u = 0</span> and <span class="eq">u = 1</span> edges of the rectangle are subdivided
according to the first outer tessellation level.
For the purposes of this subdivision, the tessellation spacing mode is
ignored and treated as equal_spacing.
An isoline is drawn connecting each vertex on the <span class="eq">u = 0</span> rectangle edge
to the corresponding vertex on the <span class="eq">u = 1</span> rectangle edge, except that
no line is drawn between (0,1) and (1,1).
If the number of isolines on the subdivided <span class="eq">u = 0</span> and <span class="eq">u = 1</span>
edges is <span class="eq">n</span>, this process will result in <span class="eq">n</span> equally spaced lines
with constant v coordinates of 0, \(\frac{1}{n}, \frac{2}{n},
\ldots, \frac{n-1}{n}\).</p>
</div>
<div class="paragraph">
<p>Each of the <span class="eq">n</span> isolines is then subdivided according to the second
outer tessellation level and the tessellation spacing, resulting in <span class="eq">m</span>
line segments.
Each segment of each line is emitted by the tessellator.
These line segments are generated with a topology similar to
<a href="#drawing-line-lists">line lists</a>, except that the order in which each line
is generated, and the order in which the vertices are generated for each
line segment, are implementation-dependent.</p>
</div>
</div>
<div class="sect2">
<h3 id="tessellation-point-mode"><a class="anchor" href="#tessellation-point-mode"></a>21.9. Tessellation Point Mode</h3>
<div class="paragraph">
<p>For all primitive modes, the tessellator is capable of generating points
instead of lines or triangles.
If the tessellation control or tessellation evaluation shader specifies the
<code>OpExecutionMode</code> <code>PointMode</code>, the primitive generator will generate
one point for each distinct vertex produced by tessellation, rather than
emitting triangles or lines.
Otherwise, the tessellator will produce a collection of line segments or
triangles according to the primitive mode.
These points are generated with a topology similar to <a href="#drawing-point-lists">point lists</a>, except the order in which the points are generated for each
input primitive is undefined.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tessellation_pipeline_state"><a class="anchor" href="#_tessellation_pipeline_state"></a>21.10. Tessellation Pipeline State</h3>
<div class="paragraph">
<p>The <code>pTessellationState</code> member of <a href="#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> is
a pointer to a <code>VkPipelineTessellationStateCreateInfo</code> structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineTessellationStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineTessellationStateCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineTessellationStateCreateInfo {
    VkStructureType                           sType;
    <span class="directive">const</span> <span class="directive">void</span>*                               pNext;
    VkPipelineTessellationStateCreateFlags    flags;
    uint32_t                                  patchControlPoints;
} VkPipelineTessellationStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>patchControlPoints</code> number of control points per patch.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineTessellationStateCreateInfo-patchControlPoints-01214" href="#VUID-VkPipelineTessellationStateCreateInfo-patchControlPoints-01214"></a>
<code>patchControlPoints</code> <strong class="purple">must</strong> be greater than zero and less than or
equal to <code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineTessellationStateCreateInfo-sType-sType" href="#VUID-VkPipelineTessellationStateCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineTessellationStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineTessellationStateCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineTessellationStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineTessellationStateCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineTessellationStateCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineTessellationStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineTessellationStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="geometry"><a class="anchor" href="#geometry"></a>22. Geometry Shading</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The geometry shader operates on a group of vertices and their associated
data assembled from a single input primitive, and emits zero or more output
primitives and the group of vertices and their associated data required for
each output primitive.
Geometry shading is enabled when a geometry shader is included in the
pipeline.</p>
</div>
<div class="sect2">
<h3 id="geometry-input"><a class="anchor" href="#geometry-input"></a>22.1. Geometry Shader Input Primitives</h3>
<div class="paragraph">
<p>Each geometry shader invocation has access to all vertices in the primitive
(and their associated data), which are presented to the shader as an array
of inputs.</p>
</div>
<div class="paragraph">
<p>The input primitive type expected by the geometry shader is specified with
an <code>OpExecutionMode</code> instruction in the geometry shader, and <strong class="purple">must</strong> match
the incoming primitive type specified by either the pipeline&#8217;s
<a href="#drawing-primitive-topologies">primitive topology</a> if tessellation is
inactive, or the <a href="#tessellation">tessellation mode</a> if tessellation is
active, as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An input primitive type of <code>InputPoints</code> <strong class="purple">must</strong> only be used with a
pipeline topology of <code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code>, or with a
tessellation shader that specifies <code>PointMode</code>.
The input arrays always contain one element, as described by the
<a href="#drawing-point-lists">point list topology</a> or
<a href="#tessellation-point-mode">tessellation in point mode</a>.</p>
</li>
<li>
<p>An input primitive type of <code>InputLines</code> <strong class="purple">must</strong> only be used with a
pipeline topology of <code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code> or
<code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP</code>, or with a tessellation shader
specifying <code>IsoLines</code> that does not specify <code>PointMode</code>.
The input arrays always contain two elements, as described by the
<a href="#drawing-line-lists">line list topology</a> or <a href="#drawing-line-strips">line strip topology</a>, or by <a href="#tessellation-isoline-tessellation">isoline tessellation</a>.</p>
</li>
<li>
<p>An input primitive type of <code>InputLinesAdjacency</code> <strong class="purple">must</strong> only be used
when tessellation is inactive, with a pipeline topology of
<code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code> or
<code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code>.
The input arrays always contain four elements, as described by the
<a href="#drawing-line-lists-with-adjacency">line list with adjacency topology</a>
or <a href="#drawing-line-strips-with-adjacency">line strip with adjacency
topology</a>.</p>
</li>
<li>
<p>An input primitive type of <code>Triangles</code> <strong class="purple">must</strong> only be used with a
pipeline topology of <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code>,
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>, or
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code>; or with a tessellation shader
specifying <code>Quads</code> or <code>Triangles</code> that does not specify
<code>PointMode</code>.
The input arrays always contain three elements, as described by the
<a href="#drawing-triangle-lists">triangle list topology</a>,
<a href="#drawing-triangle-strips">triangle strip topology</a>, or
<a href="#drawing-triangle-fans">triangle fan topology</a>, or by
<a href="#tessellation-triangle-tessellation">triangle</a> or
<a href="#tessellation-quad-tessellation">quad tessellation</a>.
Vertices <strong class="purple">may</strong> be in a different absolute order to that specified by the
topology, but <strong class="purple">must</strong> adhere to the specified winding order.</p>
</li>
<li>
<p>An input primitive type of <code>InputTrianglesAdjacency</code> <strong class="purple">must</strong> only be
used when tessellation is inactive, with a pipeline topology of
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code> or
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code>.
The input arrays always contain six elements, as described by the
<a href="#drawing-triangle-lists-with-adjacency">triangle list with adjacency
topology</a> or <a href="#drawing-triangle-strips-with-adjacency">triangle strip
with adjacency topology</a>.
Vertices <strong class="purple">may</strong> be in a different absolute order to that specified by the
topology, but <strong class="purple">must</strong> adhere to the specified winding order, and the
vertices making up the main primitive <strong class="purple">must</strong> still occur at the first,
third, and fifth index.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="geometry-output"><a class="anchor" href="#geometry-output"></a>22.2. Geometry Shader Output Primitives</h3>
<div class="paragraph">
<p>A geometry shader generates primitives in one of three output modes: points,
line strips, or triangle strips.
The primitive mode is specified in the shader using an <code>OpExecutionMode</code>
instruction with the <code>OutputPoints</code>, <code>OutputLineStrip</code> or
<code>OutputTriangleStrip</code> modes, respectively.
Each geometry shader <strong class="purple">must</strong> include exactly one output primitive mode.</p>
</div>
<div class="paragraph">
<p>The vertices output by the geometry shader are assembled into points, lines,
or triangles based on the output primitive type and the resulting primitives
are then further processed as described in <a href="#primsrast">Rasterization</a>.
If the number of vertices emitted by the geometry shader is not sufficient
to produce a single primitive, vertices corresponding to incomplete
primitives are not processed by subsequent pipeline stages.
The number of vertices output by the geometry shader is limited to a maximum
count specified in the shader.</p>
</div>
<div class="paragraph">
<p>The maximum output vertex count is specified in the shader using an
<code>OpExecutionMode</code> instruction with the mode set to <code>OutputVertices</code>
and the maximum number of vertices that will be produced by the geometry
shader specified as a literal.
Each geometry shader <strong class="purple">must</strong> specify a maximum output vertex count.</p>
</div>
</div>
<div class="sect2">
<h3 id="geometry-invocations"><a class="anchor" href="#geometry-invocations"></a>22.3. Multiple Invocations of Geometry Shaders</h3>
<div class="paragraph">
<p>Geometry shaders <strong class="purple">can</strong> be invoked more than one time for each input
primitive.
This is known as <em>geometry shader instancing</em> and is requested by including
an <code>OpExecutionMode</code> instruction with <code>mode</code> specified as
<code>Invocations</code> and the number of invocations specified as an integer
literal.</p>
</div>
<div class="paragraph">
<p>In this mode, the geometry shader will execute at least <span class="eq">n</span> times for
each input primitive, where <span class="eq">n</span> is the number of invocations specified
in the <code>OpExecutionMode</code> instruction.
The instance number is available to each invocation as a built-in input
using <code>InvocationId</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="geometry-ordering"><a class="anchor" href="#geometry-ordering"></a>22.4. Geometry Shader Primitive Ordering</h3>
<div class="paragraph">
<p>Limited guarantees are provided for the relative ordering of primitives
produced by a geometry shader, as they pertain to <a href="#drawing-primitive-order">primitive order</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For instanced geometry shaders, the output primitives generated from
each input primitive are passed to subsequent pipeline stages using the
invocation number to order the primitives, from least to greatest.</p>
</li>
<li>
<p>All output primitives generated from a given input primitive are passed
to subsequent pipeline stages before any output primitives generated
from subsequent input primitives.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vertexpostproc"><a class="anchor" href="#vertexpostproc"></a>23. Fixed-Function Vertex Post-Processing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After programmable vertex processing, the following fixed-function
operations are applied to vertices of the resulting primitives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Flat shading (see <a href="#vertexpostproc-flatshading">Flat Shading</a>).</p>
</li>
<li>
<p>Primitive clipping, including client-defined half-spaces (see
<a href="#vertexpostproc-clipping">Primitive Clipping</a>).</p>
</li>
<li>
<p>Shader output attribute clipping (see
<a href="#vertexpostproc-clipping-shader-outputs">Clipping Shader Outputs</a>).</p>
</li>
<li>
<p>Perspective division on clip coordinates (see
<a href="#vertexpostproc-coord-transform">Coordinate Transformations</a>).</p>
</li>
<li>
<p>Viewport mapping, including depth range scaling (see
<a href="#vertexpostproc-viewport">Controlling the Viewport</a>).</p>
</li>
<li>
<p>Front face determination for polygon primitives (see
<a href="#primsrast-polygons-basic">Basic Polygon Rasterization</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Next, rasterization is performed on primitives as described in chapter
<a href="#primsrast">Rasterization</a>.</p>
</div>
<div class="sect2">
<h3 id="vertexpostproc-flatshading"><a class="anchor" href="#vertexpostproc-flatshading"></a>23.1. Flat Shading</h3>
<div class="paragraph">
<p><em>Flat shading</em> a vertex output attribute means to assign all vertices of the
primitive the same value for that output.
The output values assigned are those of the <em>provoking vertex</em> of the
primitive.
Flat shading is applied to those vertex attributes that
<a href="#interfaces-iointerfaces-matching">match</a> fragment input attributes which
are decorated as <code>Flat</code>.</p>
</div>
<div class="paragraph">
<p>If neither <a href="#geometry">geometry</a> nor <a href="#tessellation">tessellation shading</a>
is active, the provoking vertex is determined by the
<a href="#drawing-primitive-topologies">primitive topology</a> defined by
<a href="#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a>:<code>topology</code> used to execute
the <a href="#drawing">drawing command</a>.</p>
</div>
<div class="paragraph">
<p>If <a href="#geometry">geometry shading</a> is active, the provoking vertex is
determined by the <a href="#drawing-primitive-topologies">primitive topology</a>
defined by the <a href="#drawing-point-lists"><code>OutputPoints</code></a>,
<a href="#drawing-line-strips"><code>OutputLineStrips</code></a>, or
<a href="#drawing-triangle-strips"><code>OutputTriangleStrips</code></a> execution mode.</p>
</div>
<div class="paragraph">
<p>If <a href="#tessellation">tessellation shading</a> is active but <a href="#geometry">geometry
shading</a> is not, the provoking vertex <strong class="purple">may</strong> be any of the vertices in each
primitive.</p>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-clipping"><a class="anchor" href="#vertexpostproc-clipping"></a>23.2. Primitive Clipping</h3>
<div class="paragraph">
<p>Primitives are culled against the <em>cull volume</em> and then clipped to the
<em>clip volume</em>.
In clip coordinates, the <em>view volume</em> is defined by:</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{array}{c}
-w_c \leq x_c \leq w_c \\
-w_c \leq y_c \leq w_c \\
0 \leq z_c \leq w_c
\end{array}\]
</div>
</div>
<div class="paragraph">
<p>This view volume <strong class="purple">can</strong> be further restricted by as many as
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code> client-defined
half-spaces.</p>
</div>
<div class="paragraph">
<p>The cull volume is the intersection of up to
<code>VkPhysicalDeviceLimits</code>::<code>maxCullDistances</code> client-defined
half-spaces (if no client-defined cull half-spaces are enabled, culling
against the cull volume is skipped).</p>
</div>
<div class="paragraph">
<p>A shader <strong class="purple">must</strong> write a single cull distance for each enabled cull half-space
to elements of the <code>CullDistance</code> array.
If the cull distance for any enabled cull half-space is negative for all of
the vertices of the primitive under consideration, the primitive is
discarded.
Otherwise the primitive is clipped against the clip volume as defined below.</p>
</div>
<div class="paragraph">
<p>The clip volume is the intersection of up to
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code> client-defined
half-spaces with the view volume (if no client-defined clip half-spaces are
enabled, the clip volume is the view volume).</p>
</div>
<div class="paragraph">
<p>A shader <strong class="purple">must</strong> write a single clip distance for each enabled clip half-space
to elements of the <code>ClipDistance</code> array.
Clip half-space <span class="eq">i</span> is then given by the set of points satisfying the
inequality</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">c<sub>i</sub>(<strong>P</strong>)  0</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">c<sub>i</sub>(<strong>P</strong>)</span> is the clip distance <span class="eq">i</span> at point <span class="eq"><strong>P</strong></span>.
For point primitives, <span class="eq">c<sub>i</sub>(<strong>P</strong>)</span> is simply the clip distance for the
vertex in question.
For line and triangle primitives, per-vertex clip distances are interpolated
using a weighted mean, with weights derived according to the algorithms
described in sections <a href="#primsrast-lines-basic">Basic Line Segment
Rasterization</a> and <a href="#primsrast-polygons-basic">Basic Polygon
Rasterization</a>, using the perspective interpolation equations.</p>
</div>
<div class="paragraph">
<p>The number of client-defined clip and cull half-spaces that are enabled is
determined by the explicit size of the built-in arrays <code>ClipDistance</code> and
<code>CullDistance</code>, respectively, declared as an output in the interface of
the entry point of the final shader stage before clipping.</p>
</div>
<div class="paragraph">
<p>Depth clamping is enabled or disabled via the <code>depthClampEnable</code> enable
of the <code>VkPipelineRasterizationStateCreateInfo</code> structure.
Depth clipping is disabled when <code>depthClampEnable</code> is <code>VK_TRUE</code>.
When depth clipping is disabled, the plane equation</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">0  z<sub>c</sub>  w<sub>c</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>(see the clip volume definition above) is ignored by view volume clipping
(effectively, there is no near or far plane clipping).</p>
</div>
<div class="paragraph">
<p>If the primitive under consideration is a point or line segment, then
clipping passes it unchanged if its vertices lie entirely within the clip
volume.</p>
</div>
<div class="paragraph">
<p>If a point&#8217;s vertex lies outside of the clip volume, the entire primitive
<strong class="purple">may</strong> be discarded.</p>
</div>
<div class="paragraph">
<p>If either of a line segment&#8217;s vertices lie outside of the clip volume, the
line segment <strong class="purple">may</strong> be clipped, with new vertex coordinates computed for each
vertex that lies outside the clip volume.
A clipped line segment endpoint lies on both the original line segment and
the boundary of the clip volume.</p>
</div>
<div class="paragraph">
<p>This clipping produces a value, <span class="eq">0  t  1</span>, for each clipped
vertex.
If the coordinates of a clipped vertex are <span class="eq"><strong>P</strong></span> and the original
vertices&#8217; coordinates are <span class="eq"><strong>P</strong><sub>1</sub></span> and <span class="eq"><strong>P</strong><sub>2</sub></span>, then <span class="eq">t</span>
is given by</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><strong>P</strong> = t <strong>P</strong><sub>1</sub> +  (1-t) <strong>P</strong><sub>2</sub></span>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="eq">t</span> is used to clip vertex output attributes as described in
<a href="#vertexpostproc-clipping-shader-outputs">Clipping Shader Outputs</a>.</p>
</div>
<div class="paragraph">
<p>If the primitive is a polygon, it passes unchanged if every one of its edges
lie entirely inside the clip volume, and it is discarded if every one of its
edges lie entirely outside the clip volume.
If the edges of the polygon intersect the boundary of the clip volume, the
intersecting edges are reconnected by new edges that lie along the boundary
of the clip volume - in some cases requiring the introduction of new
vertices into a polygon.</p>
</div>
<div class="paragraph">
<p>If a polygon intersects an edge of the clip volume&#8217;s boundary, the clipped
polygon <strong class="purple">must</strong> include a point on this boundary edge.</p>
</div>
<div class="paragraph">
<p>Primitives rendered with user-defined half-spaces <strong class="purple">must</strong> satisfy a
complementarity criterion.
Suppose a series of primitives is drawn where each vertex <span class="eq">i</span> has a
single specified clip distance <span class="eq">d<sub>i</sub></span> (or a number of similarly
specified clip distances, if multiple half-spaces are enabled).
Next, suppose that the same series of primitives are drawn again with each
such clip distance replaced by <span class="eq">-d<sub>i</sub></span> (and the graphics pipeline is
otherwise the same).
In this case, primitives <strong class="purple">must</strong> not be missing any pixels, and pixels <strong class="purple">must</strong>
not be drawn twice in regions where those primitives are cut by the clip
planes.</p>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-clipping-shader-outputs"><a class="anchor" href="#vertexpostproc-clipping-shader-outputs"></a>23.3. Clipping Shader Outputs</h3>
<div class="paragraph">
<p>Next, vertex output attributes are clipped.
The output values associated with a vertex that lies within the clip volume
are unaffected by clipping.
If a primitive is clipped, however, the output values assigned to vertices
produced by clipping are clipped.</p>
</div>
<div class="paragraph">
<p>Let the output values assigned to the two vertices <span class="eq"><strong>P</strong><sub>1</sub></span> and
<span class="eq"><strong>P</strong><sub>2</sub></span> of an unclipped edge be <span class="eq"><strong>c</strong><sub>1</sub></span> and <span class="eq"><strong>c</strong><sub>2</sub></span>.
The value of <span class="eq">t</span> (see <a href="#vertexpostproc-clipping">Primitive Clipping</a>)
for a clipped point <span class="eq"><strong>P</strong></span> is used to obtain the output value
associated with <span class="eq"><strong>P</strong></span> as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><strong>c</strong> = t <strong>c</strong><sub>1</sub> +  (1-t) <strong>c</strong><sub>2</sub></span>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>(Multiplying an output value by a scalar means multiplying each of <em>x</em>, <em>y</em>,
<em>z</em>, and <em>w</em> by the scalar.)</p>
</div>
<div class="paragraph">
<p>Since this computation is performed in clip space before division by
<span class="eq">w<sub>c</sub></span>, clipped output values are perspective-correct.</p>
</div>
<div class="paragraph">
<p>Polygon clipping creates a clipped vertex along an edge of the clip volume&#8217;s
boundary.
This situation is handled by noting that polygon clipping proceeds by
clipping against one half-space at a time.
Output value clipping is done in the same way, so that clipped points always
occur at the intersection of polygon edges (possibly already clipped) with
the clip volume&#8217;s boundary.</p>
</div>
<div class="paragraph">
<p>For vertex output attributes whose matching fragment input attributes are
decorated with <code>NoPerspective</code>, the value of <span class="eq">t</span> used to obtain the
output value associated with <span class="eq"><strong>P</strong></span> will be adjusted to produce results
that vary linearly in framebuffer space.</p>
</div>
<div class="paragraph">
<p>Output attributes of integer or unsigned integer type <strong class="purple">must</strong> always be flat
shaded.
Flat shaded attributes are constant over the primitive being rasterized (see
<a href="#primsrast-lines-basic">Basic Line Segment Rasterization</a> and
<a href="#primsrast-polygons-basic">Basic Polygon Rasterization</a>), and no
interpolation is performed.
The output value <span class="eq"><strong>c</strong></span> is taken from either <span class="eq"><strong>c</strong><sub>1</sub></span> or
<span class="eq"><strong>c</strong><sub>2</sub></span>, since flat shading has already occurred and the two values
are identical.</p>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-coord-transform"><a class="anchor" href="#vertexpostproc-coord-transform"></a>23.4. Coordinate Transformations</h3>
<div class="paragraph">
<p><em>Clip coordinates</em> for a vertex result from shader execution, which yields a
vertex coordinate <code>Position</code>.</p>
</div>
<div class="paragraph">
<p>Perspective division on clip coordinates yields <em>normalized device
coordinates</em>, followed by a <em>viewport</em> transformation (see
<a href="#vertexpostproc-viewport">Controlling the Viewport</a>) to convert these
coordinates into <em>framebuffer coordinates</em>.</p>
</div>
<div class="paragraph">
<p>If a vertex in clip coordinates has a position given by</p>
</div>
<div class="stemblock">
<div class="content">
\[\left(\begin{array}{c}
x_c \\
y_c \\
z_c \\
w_c
\end{array}\right)\]
</div>
</div>
<div class="paragraph">
<p>then the vertex&#8217;s normalized device coordinates are</p>
</div>
<div class="stemblock">
<div class="content">
\[\left(
        \begin{array}{c}
                x_d \\
                y_d \\
                z_d
        \end{array}
\right) =
\left(
        \begin{array}{c}
                \frac{x_c}{w_c} \\
                \frac{y_c}{w_c} \\
                \frac{z_c}{w_c}
        \end{array}
\right)\]
</div>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-viewport"><a class="anchor" href="#vertexpostproc-viewport"></a>23.5. Controlling the Viewport</h3>
<div class="paragraph">
<p>The viewport transformation is determined by the selected viewport&#8217;s width
and height in pixels, <span class="eq">p<sub>x</sub></span> and <span class="eq">p<sub>y</sub></span>, respectively, and its
center <span class="eq">(o<sub>x</sub>, o<sub>y</sub>)</span> (also in pixels), as well as its depth range min
and max determining a depth range scale value <span class="eq">p<sub>z</sub></span> and a depth range
bias value <span class="eq">o<sub>z</sub></span> (defined below).
The vertex&#8217;s framebuffer coordinates <span class="eq">(x<sub>f</sub>, y<sub>f</sub>, z<sub>f</sub>)</span> are given by</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">x<sub>f</sub> = (p<sub>x</sub> / 2) x<sub>d</sub> +  o<sub>x</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">y<sub>f</sub> = (p<sub>y</sub> / 2) y<sub>d</sub> +  o<sub>y</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">z<sub>f</sub> = p<sub>z</sub>  z<sub>d</sub> +  o<sub>z</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Multiple viewports are available, numbered zero up to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code> minus one.
The number of viewports used by a pipeline is controlled by the
<code>viewportCount</code> member of the <code>VkPipelineViewportStateCreateInfo</code>
structure used in pipeline creation.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineViewportStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineViewportStateCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineViewportStateCreateInfo {
    VkStructureType                       sType;
    <span class="directive">const</span> <span class="directive">void</span>*                           pNext;
    VkPipelineViewportStateCreateFlags    flags;
    uint32_t                              viewportCount;
    <span class="directive">const</span> VkViewport*                     pViewports;
    uint32_t                              scissorCount;
    <span class="directive">const</span> VkRect2D*                       pScissors;
} VkPipelineViewportStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>viewportCount</code> is the number of viewports used by the pipeline.</p>
</li>
<li>
<p><code>pViewports</code> is a pointer to an array of <a href="#VkViewport">VkViewport</a>
structures, defining the viewport transforms.
If the viewport state is dynamic, this member is ignored.</p>
</li>
<li>
<p><code>scissorCount</code> is the number of <a href="#fragops-scissor">scissors</a> and
<strong class="purple">must</strong> match the number of viewports.</p>
</li>
<li>
<p><code>pScissors</code> is a pointer to an array of <a href="#VkRect2D">VkRect2D</a> structures
defining the rectangular bounds of the scissor for the corresponding
viewport.
If the scissor state is dynamic, this member is ignored.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-viewportCount-01216" href="#VUID-VkPipelineViewportStateCreateInfo-viewportCount-01216"></a>
If the <a href="#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>viewportCount</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-01217" href="#VUID-VkPipelineViewportStateCreateInfo-scissorCount-01217"></a>
If the <a href="#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>scissorCount</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-viewportCount-01218" href="#VUID-VkPipelineViewportStateCreateInfo-viewportCount-01218"></a>
<code>viewportCount</code> <strong class="purple">must</strong> be between <code>1</code> and
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-01219" href="#VUID-VkPipelineViewportStateCreateInfo-scissorCount-01219"></a>
<code>scissorCount</code> <strong class="purple">must</strong> be between <code>1</code> and
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-01220" href="#VUID-VkPipelineViewportStateCreateInfo-scissorCount-01220"></a>
<code>scissorCount</code> and <code>viewportCount</code> <strong class="purple">must</strong> be identical</p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-x-02821" href="#VUID-VkPipelineViewportStateCreateInfo-x-02821"></a>
The <code>x</code> and <code>y</code> members of <code>offset</code> member of any element of
<code>pScissors</code> <strong class="purple">must</strong> be greater than or equal to <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-offset-02822" href="#VUID-VkPipelineViewportStateCreateInfo-offset-02822"></a>
Evaluation of <span class="eq">(<code>offset.x</code> +  <code>extent.width</code>)</span> <strong class="purple">must</strong> not
cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-offset-02823" href="#VUID-VkPipelineViewportStateCreateInfo-offset-02823"></a>
Evaluation of <span class="eq">(<code>offset.y</code> +  <code>extent.height</code>)</span> <strong class="purple">must</strong>
not cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-sType-sType" href="#VUID-VkPipelineViewportStateCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineViewportStateCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineViewportStateCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-viewportCount-arraylength" href="#VUID-VkPipelineViewportStateCreateInfo-viewportCount-arraylength"></a> <code>viewportCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-arraylength" href="#VUID-VkPipelineViewportStateCreateInfo-scissorCount-arraylength"></a> <code>scissorCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineViewportStateCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineViewportStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineViewportStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>If a geometry shader is active and has an output variable decorated with
<code>ViewportIndex</code>, the viewport transformation uses the viewport
corresponding to the value assigned to <code>ViewportIndex</code> taken from an
implementation-dependent vertex of each primitive.
If <code>ViewportIndex</code> is outside the range zero to <code>viewportCount</code> minus
one for a primitive, or if the geometry shader did not assign a value to
<code>ViewportIndex</code> for all vertices of a primitive due to flow control, the
values resulting from the viewport transformation of the vertices of such
primitives are undefined.
If no geometry shader is active, or if the geometry shader does not have an
output decorated with <code>ViewportIndex</code>, the viewport numbered zero is used
by the viewport transformation.</p>
</div>
<div class="paragraph">
<p>A single vertex <strong class="purple">can</strong> be used in more than one individual primitive, in
primitives such as <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>.
In this case, the viewport transformation is applied separately for each
primitive.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the bound pipeline state object was not created with the
<code>VK_DYNAMIC_STATE_VIEWPORT</code> dynamic state enabled, viewport
transformation parameters are specified using the <code>pViewports</code> member of
<code>VkPipelineViewportStateCreateInfo</code> in the pipeline state object.
If the pipeline state object was created with the
<code>VK_DYNAMIC_STATE_VIEWPORT</code> dynamic state enabled, the viewport
transformation parameters are dynamically set and changed with the command:</p>
</div>
<div id="vkCmdSetViewport" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdSetViewport(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstViewport,
    uint32_t                                    viewportCount,
    <span class="directive">const</span> VkViewport*                           pViewports);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>firstViewport</code> is the index of the first viewport whose parameters
are updated by the command.</p>
</li>
<li>
<p><code>viewportCount</code> is the number of viewports whose parameters are
updated by the command.</p>
</li>
<li>
<p><code>pViewports</code> is a pointer to an array of <a href="#VkViewport">VkViewport</a> structures
specifying viewport parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The viewport parameters taken from element <span class="eq">i</span> of <code>pViewports</code>
replace the current state for the viewport index <span class="eq"><code>firstViewport</code>
+  i</span>, for <span class="eq">i</span> in <span class="eq">[0, <code>viewportCount</code>)</span>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewport-firstViewport-01222" href="#VUID-vkCmdSetViewport-firstViewport-01222"></a>
<code>firstViewport</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-firstViewport-01223" href="#VUID-vkCmdSetViewport-firstViewport-01223"></a>
The sum of <code>firstViewport</code> and <code>viewportCount</code> <strong class="purple">must</strong> be between
<code>1</code> and <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-firstViewport-01224" href="#VUID-vkCmdSetViewport-firstViewport-01224"></a>
If the <a href="#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>firstViewport</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-viewportCount-01225" href="#VUID-vkCmdSetViewport-viewportCount-01225"></a>
If the <a href="#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>viewportCount</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewport-commandBuffer-parameter" href="#VUID-vkCmdSetViewport-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-pViewports-parameter" href="#VUID-vkCmdSetViewport-pViewports-parameter"></a> <code>pViewports</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>viewportCount</code> valid <a href="#VkViewport">VkViewport</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-commandBuffer-recording" href="#VUID-vkCmdSetViewport-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-commandBuffer-cmdpool" href="#VUID-vkCmdSetViewport-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-viewportCount-arraylength" href="#VUID-vkCmdSetViewport-viewportCount-arraylength"></a> <code>viewportCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Both <a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a> and <a href="#vkCmdSetViewport">vkCmdSetViewport</a> use
<code>VkViewport</code> to set the viewport transformation parameters.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkViewport</code> structure is defined as:</p>
</div>
<div id="VkViewport" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkViewport {
    <span class="predefined-type">float</span>    x;
    <span class="predefined-type">float</span>    y;
    <span class="predefined-type">float</span>    width;
    <span class="predefined-type">float</span>    height;
    <span class="predefined-type">float</span>    minDepth;
    <span class="predefined-type">float</span>    maxDepth;
} VkViewport;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> and <code>y</code> are the viewport&#8217;s upper left corner <span class="eq">(x,y)</span>.</p>
</li>
<li>
<p><code>width</code> and <code>height</code> are the viewport&#8217;s width and height,
respectively.</p>
</li>
<li>
<p><code>minDepth</code> and <code>maxDepth</code> are the depth range for the viewport.
It is valid for <code>minDepth</code> to be greater than or equal to
<code>maxDepth</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The framebuffer depth coordinate <span class="eq"><code>z</code><sub>f</sub></span> <strong class="purple">may</strong> be represented using
either a fixed-point or floating-point representation.
However, a floating-point representation <strong class="purple">must</strong> be used if the depth/stencil
attachment has a floating-point depth component.
If an <span class="eq">m</span>-bit fixed-point representation is used, we assume that it
represents each value \(\frac{k}{2^m - 1}\), where <span class="eq">k  {
0, 1, &#8230;&#8203;, 2<sup>m</sup>-1 }</span>, as <span class="eq">k</span> (e.g. 1.0 is represented in binary as a
string of all ones).</p>
</div>
<div class="paragraph">
<p>The viewport parameters shown in the above equations are found from these
values as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">o<sub>x</sub> = <code>x</code> +  <code>width</code> / 2</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">o<sub>y</sub> = <code>y</code> +  <code>height</code> / 2</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">o<sub>z</sub> = <code>minDepth</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>x</sub> = <code>width</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>y</sub> = <code>height</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>z</sub> = <code>maxDepth</code> - <code>minDepth</code></span>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The width and height of the <a href="#limits-maxViewportDimensions">implementation-dependent maximum viewport dimensions</a> <strong class="purple">must</strong> be greater than
or equal to the width and height of the largest image which <strong class="purple">can</strong> be created
and attached to a framebuffer.</p>
</div>
<div class="paragraph">
<p>The floating-point viewport bounds are represented with an
<a href="#limits-viewportSubPixelBits">implementation-dependent precision</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkViewport-width-01770" href="#VUID-VkViewport-width-01770"></a>
<code>width</code> <strong class="purple">must</strong> be greater than <code>0.0</code></p>
</li>
<li>
<p><a id="VUID-VkViewport-width-01771" href="#VUID-VkViewport-width-01771"></a>
<code>width</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewportDimensions</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkViewport-height-01772" href="#VUID-VkViewport-height-01772"></a>
<code>height</code> <strong class="purple">must</strong> be greater than <code>0.0</code></p>
</li>
<li>
<p><a id="VUID-VkViewport-height-01773" href="#VUID-VkViewport-height-01773"></a>
The absolute value of <code>height</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewportDimensions</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkViewport-x-01774" href="#VUID-VkViewport-x-01774"></a>
<code>x</code> <strong class="purple">must</strong> be greater than or equal to <code>viewportBoundsRange</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkViewport-x-01232" href="#VUID-VkViewport-x-01232"></a>
<span class="eq">(<code>x</code> +  <code>width</code>)</span> <strong class="purple">must</strong> be less than or equal to
<code>viewportBoundsRange</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkViewport-y-01775" href="#VUID-VkViewport-y-01775"></a>
<code>y</code> <strong class="purple">must</strong> be greater than or equal to <code>viewportBoundsRange</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkViewport-y-01233" href="#VUID-VkViewport-y-01233"></a>
<span class="eq">(<code>y</code> +  <code>height</code>)</span> <strong class="purple">must</strong> be less than or equal to
<code>viewportBoundsRange</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkViewport-minDepth-02540" href="#VUID-VkViewport-minDepth-02540"></a>
<code>minDepth</code> <strong class="purple">must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-VkViewport-maxDepth-02541" href="#VUID-VkViewport-maxDepth-02541"></a>
<code>maxDepth</code> <strong class="purple">must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="primsrast"><a class="anchor" href="#primsrast"></a>24. Rasterization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Rasterization is the process by which a primitive is converted to a
two-dimensional image.
Each point of this image contains associated data such as depth, color, or
other attributes.</p>
</div>
<div class="paragraph">
<p>Rasterizing a primitive begins by determining which squares of an integer
grid in framebuffer coordinates are occupied by the primitive, and assigning
one or more depth values to each such square.
This process is described below for points, lines, and polygons.</p>
</div>
<div class="paragraph">
<p>A grid square, including its <span class="eq">(x,y)</span> framebuffer coordinates, <span class="eq">z</span>
(depth), and associated data added by fragment shaders, is called a
fragment.
A fragment is located by its upper left corner, which lies on integer grid
coordinates.</p>
</div>
<div class="paragraph">
<p>Rasterization operations also refer to a fragment&#8217;s sample locations, which
are offset by fractional values from its upper left corner.
The rasterization rules for points, lines, and triangles involve testing
whether each sample location is inside the primitive.
Fragments need not actually be square, and rasterization rules are not
affected by the aspect ratio of fragments.
Display of non-square grids, however, will cause rasterized points and line
segments to appear fatter in one direction than the other.</p>
</div>
<div class="paragraph">
<p>We assume that fragments are square, since it simplifies antialiasing and
texturing.
After rasterization, fragments are processed by the <a href="#fragops-early">early
per-fragment tests</a>, if enabled.</p>
</div>
<div class="paragraph">
<p>Several factors affect rasterization, including the members of
<code>VkPipelineRasterizationStateCreateInfo</code> and
<code>VkPipelineMultisampleStateCreateInfo</code>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineRasterizationStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineRasterizationStateCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineRasterizationStateCreateInfo {
    VkStructureType                            sType;
    <span class="directive">const</span> <span class="directive">void</span>*                                pNext;
    VkPipelineRasterizationStateCreateFlags    flags;
    VkBool32                                   depthClampEnable;
    VkBool32                                   rasterizerDiscardEnable;
    VkPolygonMode                              polygonMode;
    VkCullModeFlags                            cullMode;
    VkFrontFace                                frontFace;
    VkBool32                                   depthBiasEnable;
    <span class="predefined-type">float</span>                                      depthBiasConstantFactor;
    <span class="predefined-type">float</span>                                      depthBiasClamp;
    <span class="predefined-type">float</span>                                      depthBiasSlopeFactor;
    <span class="predefined-type">float</span>                                      lineWidth;
} VkPipelineRasterizationStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>depthClampEnable</code> controls whether to clamp the fragment&#8217;s depth
values as described in <a href="#fragops-depth">Depth Test</a>.
Enabling depth clamp will also disable clipping primitives to the z
planes of the frustrum as described in <a href="#vertexpostproc-clipping">Primitive Clipping</a>.</p>
</li>
<li>
<p><code>rasterizerDiscardEnable</code> controls whether primitives are discarded
immediately before the rasterization stage.</p>
</li>
<li>
<p><code>polygonMode</code> is the triangle rendering mode.
See <a href="#VkPolygonMode">VkPolygonMode</a>.</p>
</li>
<li>
<p><code>cullMode</code> is the triangle facing direction used for primitive
culling.
See <a href="#VkCullModeFlagBits">VkCullModeFlagBits</a>.</p>
</li>
<li>
<p><code>frontFace</code> is a <a href="#VkFrontFace">VkFrontFace</a> value specifying the front-facing
triangle orientation to be used for culling.</p>
</li>
<li>
<p><code>depthBiasEnable</code> controls whether to bias fragment depth values.</p>
</li>
<li>
<p><code>depthBiasConstantFactor</code> is a scalar factor controlling the
constant depth value added to each fragment.</p>
</li>
<li>
<p><code>depthBiasClamp</code> is the maximum (or minimum) depth bias of a
fragment.</p>
</li>
<li>
<p><code>depthBiasSlopeFactor</code> is a scalar factor applied to a fragment&#8217;s
slope in depth bias calculations.</p>
</li>
<li>
<p><code>lineWidth</code> is the width of rasterized line segments.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-depthClampEnable-00782" href="#VUID-VkPipelineRasterizationStateCreateInfo-depthClampEnable-00782"></a>
If the <a href="#features-depthClamp">depth clamping</a> feature is not enabled,
<code>depthClampEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-01413" href="#VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-01413"></a>
If the <a href="#features-fillModeNonSolid">non-solid fill modes</a> feature is not
enabled, <code>polygonMode</code> <strong class="purple">must</strong> be <code>VK_POLYGON_MODE_FILL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-sType-sType" href="#VUID-VkPipelineRasterizationStateCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineRasterizationStateCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineRasterizationStateCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-parameter" href="#VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-parameter"></a> <code>polygonMode</code> <strong class="purple">must</strong> be a valid <a href="#VkPolygonMode">VkPolygonMode</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-cullMode-parameter" href="#VUID-VkPipelineRasterizationStateCreateInfo-cullMode-parameter"></a> <code>cullMode</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkCullModeFlagBits">VkCullModeFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-frontFace-parameter" href="#VUID-VkPipelineRasterizationStateCreateInfo-frontFace-parameter"></a> <code>frontFace</code> <strong class="purple">must</strong> be a valid <a href="#VkFrontFace">VkFrontFace</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineRasterizationStateCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineRasterizationStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineRasterizationStateCreateFlags</code> is a bitmask type for setting
a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineMultisampleStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineMultisampleStateCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineMultisampleStateCreateInfo {
    VkStructureType                          sType;
    <span class="directive">const</span> <span class="directive">void</span>*                              pNext;
    VkPipelineMultisampleStateCreateFlags    flags;
    VkSampleCountFlagBits                    rasterizationSamples;
    VkBool32                                 sampleShadingEnable;
    <span class="predefined-type">float</span>                                    minSampleShading;
    <span class="directive">const</span> VkSampleMask*                      pSampleMask;
    VkBool32                                 alphaToCoverageEnable;
    VkBool32                                 alphaToOneEnable;
} VkPipelineMultisampleStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>rasterizationSamples</code> is a <a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> specifying
the number of samples used in rasterization.</p>
</li>
<li>
<p><code>sampleShadingEnable</code> <strong class="purple">can</strong> be used to enable
<a href="#primsrast-sampleshading">Sample Shading</a>.</p>
</li>
<li>
<p><code>minSampleShading</code> specifies a minimum fraction of sample shading if
<code>sampleShadingEnable</code> is set to <code>VK_TRUE</code>.</p>
</li>
<li>
<p><code>pSampleMask</code> is a bitmask of static coverage information that is
ANDed with the coverage information generated during rasterization, as
described in <a href="#fragops-samplemask">Sample Mask</a>.</p>
</li>
<li>
<p><code>alphaToCoverageEnable</code> controls whether a temporary coverage value
is generated based on the alpha component of the fragment&#8217;s first color
output as specified in the <a href="#fragops-covg">Multisample Coverage</a>
section.</p>
</li>
<li>
<p><code>alphaToOneEnable</code> controls whether the alpha component of the
fragment&#8217;s first color output is replaced with one as described in
<a href="#fragops-covg">Multisample Coverage</a>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-sampleShadingEnable-00784" href="#VUID-VkPipelineMultisampleStateCreateInfo-sampleShadingEnable-00784"></a>
If the <a href="#features-sampleRateShading">sample rate shading</a> feature is not
enabled, <code>sampleShadingEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-alphaToOneEnable-00785" href="#VUID-VkPipelineMultisampleStateCreateInfo-alphaToOneEnable-00785"></a>
If the <a href="#features-alphaToOne">alpha to one</a> feature is not enabled,
<code>alphaToOneEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-minSampleShading-00786" href="#VUID-VkPipelineMultisampleStateCreateInfo-minSampleShading-00786"></a>
<code>minSampleShading</code> <strong class="purple">must</strong> be in the range <span class="eq">[0,1]</span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-sType-sType" href="#VUID-VkPipelineMultisampleStateCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineMultisampleStateCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineMultisampleStateCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-rasterizationSamples-parameter" href="#VUID-VkPipelineMultisampleStateCreateInfo-rasterizationSamples-parameter"></a> <code>rasterizationSamples</code> <strong class="purple">must</strong> be a valid <a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-pSampleMask-parameter" href="#VUID-VkPipelineMultisampleStateCreateInfo-pSampleMask-parameter"></a> If <code>pSampleMask</code> is not <code>NULL</code>, <code>pSampleMask</code> <strong class="purple">must</strong> be a valid pointer to an array of \(\lceil{\mathit{rasterizationSamples} \over 32}\rceil\) <code>VkSampleMask</code> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineMultisampleStateCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineMultisampleStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineMultisampleStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Rasterization only generates fragments which cover one or more pixels inside
the framebuffer.
Pixels outside the framebuffer are never considered covered in the fragment.
Fragments which would be produced by application of any of the primitive
rasterization rules described below but which lie outside the framebuffer
are not produced, nor are they processed by any later stage of the pipeline,
including any of the early per-fragment tests described in
<a href="#fragops-early">Early Per-Fragment Tests</a>.</p>
</div>
<div class="paragraph">
<p>Surviving fragments are processed by fragment shaders.
Fragment shaders determine associated data for fragments, and <strong class="purple">can</strong> also
modify or replace their assigned depth values.</p>
</div>
<div class="paragraph">
<p>When the <code>VK_AMD_mixed_attachment_samples</code> and
<code>VK_NV_framebuffer_mixed_samples</code> extensions are not enabled, if the subpass
for which this pipeline is being created uses color and/or depth/stencil
attachments, then <code>rasterizationSamples</code> <strong class="purple">must</strong> be the same as the sample
count for those subpass attachments.</p>
</div>
<div class="paragraph">
<p>If the subpass for which this pipeline is being created does not use color
or depth/stencil attachments, <code>rasterizationSamples</code> <strong class="purple">must</strong> follow the
rules for a <a href="#renderpass-noattachments">zero-attachment subpass</a>.</p>
</div>
<div class="sect2">
<h3 id="primsrast-discard"><a class="anchor" href="#primsrast-discard"></a>24.1. Discarding Primitives Before Rasterization</h3>
<div class="paragraph">
<p>Primitives are discarded before rasterization if the
<code>rasterizerDiscardEnable</code> member of
<a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a> is enabled.
When enabled, primitives are discarded after they are processed by the last
active shader stage in the pipeline before rasterization.</p>
</div>
</div>
<div class="sect2">
<h3 id="primrast-order"><a class="anchor" href="#primrast-order"></a>24.2. Rasterization Order</h3>
<div class="paragraph">
<p>Within a subpass of a <a href="#renderpass">render pass instance</a>, for a given
(x,y,layer,sample) sample location, the following operations are guaranteed
to execute in <em>rasterization order</em>, for each separate primitive that
includes that sample location:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#fragops-scissor">Scissor test</a></p>
</li>
<li>
<p><a href="#fragops-samplemask">Sample mask generation</a></p>
</li>
<li>
<p><a href="#fragops-dbt">Depth bounds test</a></p>
</li>
<li>
<p><a href="#fragops-stencil">Stencil test, stencil op and stencil write</a></p>
</li>
<li>
<p><a href="#fragops-depth">Depth test and depth write</a></p>
</li>
<li>
<p><a href="#fragops-samplecount">Sample counting</a> for
<a href="#queries-occlusion">occlusion queries</a></p>
</li>
<li>
<p><a href="#fragops-coverage-reduction">coverage reduction</a></p>
</li>
<li>
<p><a href="#framebuffer-blending">Blending</a>, <a href="#framebuffer-logicop">logic
operations</a>, and color writes</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Each of these operations is atomically executed for each primitive and
sample location.</p>
</div>
<div class="paragraph">
<p>Execution of these operations for each primitive in a subpass occurs in
<a href="#drawing-primitive-order">primitive order</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-multisampling"><a class="anchor" href="#primsrast-multisampling"></a>24.3. Multisampling</h3>
<div class="paragraph">
<p>Multisampling is a mechanism to antialias all Vulkan primitives: points,
lines, and polygons.
The technique is to sample all primitives multiple times at each pixel.
Each sample in each framebuffer attachment has storage for a color, depth,
and/or stencil value, such that per-fragment operations apply to each sample
independently.
The color sample values <strong class="purple">can</strong> be later <em>resolved</em> to a single color (see
<a href="#copies-resolve">Resolving Multisample Images</a> and the <a href="#renderpass">Render
Pass</a> chapter for more details on how to resolve multisample images to
non-multisample images).</p>
</div>
<div class="paragraph">
<p>Vulkan defines rasterization rules for single-sample modes in a way that is
equivalent to a multisample mode with a single sample in the center of each
fragment.</p>
</div>
<div class="paragraph">
<p>Each fragment includes a coverage value with <code>rasterizationSamples</code> bits
(see <a href="#fragops-samplemask">Sample Mask</a>).
Each fragment includes <code>rasterizationSamples</code> depth values and sets of
associated data.
An implementation <strong class="purple">may</strong> choose to assign the same associated data to more
than one sample.
The location for evaluating such associated data <strong class="purple">may</strong> be anywhere within the
fragment area including the fragment&#8217;s center location <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> or
any of the sample locations.
When <code>rasterizationSamples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code>, the
fragment&#8217;s center location <strong class="purple">must</strong> be used.
The different associated data values need not all be evaluated at the same
location.
Each fragment thus consists of integer x and y grid coordinates,
<code>rasterizationSamples</code> depth values and sets of associated data, and a
coverage value with <code>rasterizationSamples</code> bits.</p>
</div>
<div class="paragraph">
<p>It is understood that each pixel has <code>rasterizationSamples</code> locations
associated with it.
These locations are exact positions, rather than regions or areas, and each
is referred to as a sample point.
The sample points associated with a pixel <strong class="purple">must</strong> be located inside or on the
boundary of the unit square that is considered to bound the pixel.
Furthermore, the relative locations of sample points <strong class="purple">may</strong> be identical for
each pixel in the framebuffer, or they <strong class="purple">may</strong> differ.</p>
</div>
<div class="paragraph">
<p>If the current pipeline includes a fragment shader with one or more
variables in its interface decorated with <code>Sample</code> and <code>Input</code>, the
data associated with those variables will be assigned independently for each
sample.
The values for each sample <strong class="purple">must</strong> be evaluated at the location of the sample.
The data associated with any other variables not decorated with <code>Sample</code>
and <code>Input</code> need not be evaluated independently for each sample.</p>
</div>
<div class="paragraph">
<p>If the <code>standardSampleLocations</code> member of <a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>
is <code>VK_TRUE</code>, then the sample counts <code>VK_SAMPLE_COUNT_1_BIT</code>,
<code>VK_SAMPLE_COUNT_2_BIT</code>, <code>VK_SAMPLE_COUNT_4_BIT</code>,
<code>VK_SAMPLE_COUNT_8_BIT</code>, and <code>VK_SAMPLE_COUNT_16_BIT</code> have sample
locations as listed in the following table, with the <span class="eq">i</span>th entry in
the table corresponding to bit <span class="eq">i</span> in the sample masks.
<code>VK_SAMPLE_COUNT_32_BIT</code> and <code>VK_SAMPLE_COUNT_64_BIT</code> do not have
standard sample locations.
Locations are defined relative to an origin in the upper left corner of the
fragment.</p>
</div>
<div style="page-break-after: always;"></div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 23. Standard sample locations</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_2_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_4_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_8_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_16_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(0.5,0.5)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(0.75,0.75)</span><br>
<span class="eq">(0.25,0.25)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(0.375, 0.125)</span><br>
<span class="eq">(0.875, 0.375)</span><br>
<span class="eq">(0.125, 0.625)</span><br>
<span class="eq">(0.625, 0.875)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(0.5625, 0.3125)</span><br>
<span class="eq">(0.4375, 0.6875)</span><br>
<span class="eq">(0.8125, 0.5625)</span><br>
<span class="eq">(0.3125, 0.1875)</span><br>
<span class="eq">(0.1875, 0.8125)</span><br>
<span class="eq">(0.0625, 0.4375)</span><br>
<span class="eq">(0.6875, 0.9375)</span><br>
<span class="eq">(0.9375, 0.0625)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(0.5625, 0.5625)</span><br>
<span class="eq">(0.4375, 0.3125)</span><br>
<span class="eq">(0.3125, 0.625)</span><br>
<span class="eq">(0.75,   0.4375)</span><br>
<span class="eq">(0.1875, 0.375)</span><br>
<span class="eq">(0.625,  0.8125)</span><br>
<span class="eq">(0.8125, 0.6875)</span><br>
<span class="eq">(0.6875, 0.1875)</span><br>
<span class="eq">(0.375,  0.875)</span><br>
<span class="eq">(0.5,    0.0625)</span><br>
<span class="eq">(0.25,   0.125)</span><br>
<span class="eq">(0.125,  0.75)</span><br>
<span class="eq">(0.0,    0.5)</span><br>
<span class="eq">(0.9375, 0.25)</span><br>
<span class="eq">(0.875,  0.9375)</span><br>
<span class="eq">(0.0625, 0.0)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><svg width="160" height="160" viewBox="-500 -500 11000 11000" xmlns="http://www.w3.org/2000/svg" version="1.1">
	<desc>VK_SAMPLE_COUNT_1_BIT</desc>
	<defs>
		<marker id="Triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="8" orient="auto">
			<path d="M 0 0 L 10 5 L 0 10 z" />
		</marker>
	</defs>
	<g>
		<!-- Axises -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)" />
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)" />
		<!-- Helper-lines -->
		<line x1="00000" x2="10000" y1="10000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="10000" x2="10000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Helper-lines horizontal -->
		<line x1="00000" x2="10000" y1="05000" y2="05000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Helper-lines vertical -->
		<line x1="05000" x2="05000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Dots -->
		<circle cx="05000" cy="05000" r="00200" fill="black" /><text x="05000" y="05000" fill="red" font-size="01100" transform="translate(00200 -00200)">0</text>
	</g>
</svg></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><svg width="160" height="160" viewBox="-500 -500 11000 11000" xmlns="http://www.w3.org/2000/svg" version="1.1">
	<desc>VK_SAMPLE_COUNT_2_BIT</desc>
	<defs>
		<marker id="Triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="8" orient="auto">
			<path d="M 0 0 L 10 5 L 0 10 z" />
		</marker>
	</defs>
	<g>
		<!-- Axises -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)" />
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)" />
		<!-- Helper-lines -->
		<line x1="00000" x2="10000" y1="10000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="10000" x2="10000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Helper-lines horizontal -->
		<line x1="00000" x2="10000" y1="02500" y2="02500" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="07500" y2="07500" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Helper-lines vertical -->
		<line x1="02500" x2="02500" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="07500" x2="07500" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Dots -->
		<circle cx="07500" cy="07500" r="00200" fill="black" /><text x="07500" y="07500" fill="red" font-size="01100" transform="translate(00200 -00200)">0</text>
		<circle cx="02500" cy="02500" r="00200" fill="black" /><text x="02500" y="02500" fill="red" font-size="01100" transform="translate(00200 -00200)">1</text>
	</g>
</svg></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><svg width="160" height="160" viewBox="-500 -500 11000 11000" xmlns="http://www.w3.org/2000/svg" version="1.1">
	<desc>VK_SAMPLE_COUNT_4_BIT</desc>
	<defs>
		<marker id="Triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="8" orient="auto">
			<path d="M 0 0 L 10 5 L 0 10 z" />
		</marker>
	</defs>
	<g>
		<!-- Axises -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)" />
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)" />
		<!-- Helper-lines -->
		<line x1="00000" x2="10000" y1="10000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="10000" x2="10000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Helper-lines horizontal -->
		<line x1="00000" x2="10000" y1="01250" y2="01250" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="03750" y2="03750" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="06250" y2="06250" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="08750" y2="08750" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Helper-lines vertical -->
		<line x1="01250" x2="01250" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="03750" x2="03750" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="06250" x2="06250" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="08750" x2="08750" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Dots -->
		<circle cx="03750" cy="01250" r="00200" fill="black" /><text x="03750" y="01250" fill="red" font-size="01100" transform="translate(00200 -00200)">0</text>
		<circle cx="08750" cy="03750" r="00200" fill="black" /><text x="08750" y="03750" fill="red" font-size="01100" transform="translate(00200 -00200)">1</text>
		<circle cx="01250" cy="06250" r="00200" fill="black" /><text x="01250" y="06250" fill="red" font-size="01100" transform="translate(00200 -00200)">2</text>
		<circle cx="06250" cy="08750" r="00200" fill="black" /><text x="06250" y="08750" fill="red" font-size="01100" transform="translate(00200 -00200)">3</text>
	</g>
</svg></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><svg width="160" height="160" viewBox="-500 -500 11000 11000" xmlns="http://www.w3.org/2000/svg" version="1.1">
	<desc>VK_SAMPLE_COUNT_8_BIT</desc>
	<defs>
		<marker id="Triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="8" orient="auto">
			<path d="M 0 0 L 10 5 L 0 10 z" />
		</marker>
	</defs>
	<g>
		<!-- Axises -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)" />
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)" />
		<!-- Helper-lines -->
		<line x1="00000" x2="10000" y1="10000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="10000" x2="10000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Helper-lines horizontal -->
		<line x1="00000" x2="10000" y1="00625" y2="00625" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="01875" y2="01875" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="03125" y2="03125" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="04375" y2="04375" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="05625" y2="05625" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="06875" y2="06875" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="08125" y2="08125" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="09375" y2="09375" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Helper-lines vertical -->
		<line x1="00625" x2="00625" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="01875" x2="01875" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="03125" x2="03125" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="04375" x2="04375" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="05625" x2="05625" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="06875" x2="06875" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="08125" x2="08125" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="09375" x2="09375" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Dots -->
		<circle cx="05625" cy="03125" r="00200" fill="black" /><text x="05625" y="03125" fill="red" font-size="01100" transform="translate(00200 -00200)">0</text>
		<circle cx="04375" cy="06875" r="00200" fill="black" /><text x="04375" y="06875" fill="red" font-size="01100" transform="translate(00200 -00200)">1</text>
		<circle cx="08125" cy="05625" r="00200" fill="black" /><text x="08125" y="05625" fill="red" font-size="01100" transform="translate(00200 -00200)">2</text>
		<circle cx="03125" cy="01875" r="00200" fill="black" /><text x="03125" y="01875" fill="red" font-size="01100" transform="translate(00200 -00200)">3</text>
		<circle cx="01875" cy="08125" r="00200" fill="black" /><text x="01875" y="08125" fill="red" font-size="01100" transform="translate(00200 -00200)">4</text>
		<circle cx="00625" cy="04375" r="00200" fill="black" /><text x="00625" y="04375" fill="red" font-size="01100" transform="translate(00200 -00200)">5</text>
		<circle cx="06875" cy="09375" r="00200" fill="black" /><text x="06875" y="09375" fill="red" font-size="01100" transform="translate(00200 -00200)">6</text>
		<circle cx="09375" cy="00625" r="00200" fill="black" /><text x="09375" y="00625" fill="red" font-size="01100" transform="translate(00200  00700)">7</text>
	</g>
</svg></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><svg width="160" height="160" viewBox="-500 -500 11000 11000" xmlns="http://www.w3.org/2000/svg" version="1.1">
	<desc>VK_SAMPLE_COUNT_16_BIT</desc>
	<defs>
		<marker id="Triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="8" orient="auto">
			<path d="M 0 0 L 10 5 L 0 10 z" />
		</marker>
	</defs>
	<g>
		<!-- Axises -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)" />
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)" />
		<!-- Helper-lines -->
		<line x1="00000" x2="10000" y1="10000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="10000" x2="10000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Helper-lines horizontal -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="00625" y2="00625" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="01250" y2="01250" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="01875" y2="01875" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="02500" y2="02500" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="03125" y2="03125" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="03750" y2="03750" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="04375" y2="04375" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="05000" y2="05000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="05625" y2="05625" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="06250" y2="06250" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="06875" y2="06875" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="07500" y2="07500" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="08125" y2="08125" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="08750" y2="08750" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00000" x2="10000" y1="09375" y2="09375" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Helper-lines vertical -->
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="00625" x2="00625" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="01250" x2="01250" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="01875" x2="01875" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="02500" x2="02500" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="03125" x2="03125" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="03750" x2="03750" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="04375" x2="04375" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="05000" x2="05000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="05625" x2="05625" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="06250" x2="06250" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="06875" x2="06875" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="07500" x2="07500" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="08125" x2="08125" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="08750" x2="08750" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<line x1="09375" x2="09375" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100" />
		<!-- Dots -->
		<circle cx="05625" cy="05625" r="00200" fill="black" /><text x="05625" y="05625" fill="red" font-size="01100" transform="translate(00200 -00200)">0</text>
		<circle cx="04375" cy="03125" r="00200" fill="black" /><text x="04375" y="03125" fill="red" font-size="01100" transform="translate(00200 -00200)">1</text>
		<circle cx="03125" cy="06250" r="00200" fill="black" /><text x="03125" y="06250" fill="red" font-size="01100" transform="translate(00200 -00200)">2</text>
		<circle cx="07500" cy="04375" r="00200" fill="black" /><text x="07500" y="04375" fill="red" font-size="01100" transform="translate(00200 -00200)">3</text>
		<circle cx="01875" cy="03750" r="00200" fill="black" /><text x="01875" y="03750" fill="red" font-size="01100" transform="translate(00200 -00200)">4</text>
		<circle cx="06250" cy="08125" r="00200" fill="black" /><text x="06250" y="08125" fill="red" font-size="01100" transform="translate(00200 -00200)">5</text>
		<circle cx="08125" cy="06875" r="00200" fill="black" /><text x="08125" y="06875" fill="red" font-size="01100" transform="translate(00200 -00200)">6</text>
		<circle cx="06875" cy="01875" r="00200" fill="black" /><text x="06875" y="01875" fill="red" font-size="01100" transform="translate(00200 -00200)">7</text>
		<circle cx="03750" cy="08750" r="00200" fill="black" /><text x="03750" y="08750" fill="red" font-size="01100" transform="translate(00200 -00200)">8</text>
		<circle cx="05000" cy="00625" r="00200" fill="black" /><text x="05000" y="00625" fill="red" font-size="01100" transform="translate(00400  00400)">9</text>
		<circle cx="02500" cy="01250" r="00200" fill="black" /><text x="02500" y="01250" fill="red" font-size="01100" transform="translate(00200 -00200)">10</text>
		<circle cx="01250" cy="07500" r="00200" fill="black" /><text x="01250" y="07500" fill="red" font-size="01100" transform="translate(00200 -00200)">11</text>
		<circle cx="00000" cy="05000" r="00200" fill="black" /><text x="00000" y="05000" fill="red" font-size="01100" transform="translate(00200 -00200)">12</text>
		<circle cx="09375" cy="02500" r="00200" fill="black" /><text x="09375" y="02500" fill="red" font-size="01100" transform="translate(00000 -00400)">13</text>
		<circle cx="08750" cy="09375" r="00200" fill="black" /><text x="08750" y="09375" fill="red" font-size="01100" transform="translate(00200 -00200)">14</text>
		<circle cx="00625" cy="00000" r="00200" fill="black" /><text x="00625" y="00000" fill="red" font-size="01100" transform="translate(00200  00800)">15</text>
	</g>
</svg></span></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="primsrast-sampleshading"><a class="anchor" href="#primsrast-sampleshading"></a>24.4. Sample Shading</h3>
<div class="paragraph">
<p>Sample shading <strong class="purple">can</strong> be used to specify a minimum number of unique samples to
process for each fragment.
If sample shading is enabled an implementation <strong class="purple">must</strong> provide a minimum of
<span class="eq">max( <code>minSampleShadingFactor</code>  <code>totalSamples</code>
, 1)</span> unique associated data for each fragment, where
<code>minSampleShadingFactor</code> is the minimum fraction of sample shading.
<code>totalSamples</code> is the value of
<a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::<code>rasterizationSamples</code>
specified at pipeline creation time.
These are associated with the samples in an implementation-dependent manner.
When <code>minSampleShadingFactor</code> is <code>1.0</code>, a separate set of associated
data are evaluated for each sample, and each set of values is evaluated at
the sample location.</p>
</div>
<div class="paragraph">
<p>Sample shading is enabled for a graphics pipeline:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the interface of the fragment shader entry point of the graphics
pipeline includes an input variable decorated with <code>SampleId</code> or
<code>SamplePosition</code>.
In this case <code>minSampleShadingFactor</code> takes the value <code>1.0</code>.</p>
</li>
<li>
<p>Else if the <code>sampleShadingEnable</code> member of the
<a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a> structure specified when
creating the graphics pipeline is set to <code>VK_TRUE</code>.
In this case <code>minSampleShadingFactor</code> takes the value of
<a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::<code>minSampleShading</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Otherwise, sample shading is considered disabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-points"><a class="anchor" href="#primsrast-points"></a>24.5. Points</h3>
<div class="paragraph">
<p>A point is drawn by generating a set of fragments in the shape of a square
centered around the vertex of the point.
Each vertex has an associated point size that controls the width/height of
that square.
The point size is taken from the (potentially clipped) shader built-in
<code>PointSize</code> written by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the geometry shader, if active;</p>
</li>
<li>
<p>the tessellation evaluation shader, if active and no geometry shader is
active;</p>
</li>
<li>
<p>the vertex shader, otherwise</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>and clamped to the implementation-dependent point size range
<span class="eq">[<code>pointSizeRange</code>[0],<code>pointSizeRange</code>[1]]</span>.
The value written to <code>PointSize</code> <strong class="purple">must</strong> be greater than zero.</p>
</div>
<div class="paragraph">
<p>Not all point sizes need be supported, but the size 1.0 <strong class="purple">must</strong> be supported.
The range of supported sizes and the size of evenly-spaced gradations within
that range are implementation-dependent.
The range and gradations are obtained from the <code>pointSizeRange</code> and
<code>pointSizeGranularity</code> members of <a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.
If, for instance, the size range is from 0.1 to 2.0 and the gradation size
is 0.1, then the size 0.1, 0.2, &#8230;&#8203;, 1.9, 2.0 are supported.
Additional point sizes <strong class="purple">may</strong> also be supported.
There is no requirement that these sizes be equally spaced.
If an unsupported size is requested, the nearest supported size is used
instead.</p>
</div>
<div class="sect3">
<h4 id="primsrast-points-basic"><a class="anchor" href="#primsrast-points-basic"></a>24.5.1. Basic Point Rasterization</h4>
<div class="paragraph">
<p>Point rasterization produces a fragment for each fragment area group of
framebuffer pixels with one or more sample points that intersect a region
centered at the point&#8217;s <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span>.
This region is a square with side equal to the current point size.
Coverage bits that correspond to sample points that intersect the region are
1, other coverage bits are 0.
All fragments produced in rasterizing a point are assigned the same
associated data, which are those of the vertex corresponding to the point.
However, the fragment shader built-in <code>PointCoord</code> contains point sprite
texture coordinates.
The <span class="eq">s</span> and <span class="eq">t</span> point sprite texture coordinates vary from zero to
one across the point horizontally left-to-right and top-to-bottom,
respectively.
The following formulas are used to evaluate <span class="eq">s</span> and <span class="eq">t</span>:</p>
</div>
<div class="stemblock">
<div class="content">
\[s = {1 \over 2} + { \left( x_p - x_f \right) \over \text{size} }\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[t = {1 \over 2} + { \left( y_p - y_f \right) \over \text{size} }\]
</div>
</div>
<div class="paragraph">
<p>where size is the point&#8217;s size; <span class="eq">(x<sub>p</sub>,y<sub>p</sub>)</span> is the location at which
the point sprite coordinates are evaluated - this <strong class="purple">may</strong> be the framebuffer
coordinates of the fragment center, or the location of a sample; and
<span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> is the exact, unrounded framebuffer coordinate of the
vertex for the point.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-lines"><a class="anchor" href="#primsrast-lines"></a>24.6. Line Segments</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Each line segment has an associated width.
The line width is specified by the
<a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>lineWidth</code> property of
the currently active pipeline, if the pipeline was not created with
<code>VK_DYNAMIC_STATE_LINE_WIDTH</code> enabled.</p>
</div>
<div class="paragraph">
<p>Otherwise, the line width is set by calling <code>vkCmdSetLineWidth</code>:</p>
</div>
<div id="vkCmdSetLineWidth" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdSetLineWidth(
    VkCommandBuffer                             commandBuffer,
    <span class="predefined-type">float</span>                                       lineWidth);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>lineWidth</code> is the width of rasterized line segments.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetLineWidth-lineWidth-00788" href="#VUID-vkCmdSetLineWidth-lineWidth-00788"></a>
If the <a href="#features-wideLines">wide lines</a> feature is not enabled,
<code>lineWidth</code> <strong class="purple">must</strong> be <code>1.0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetLineWidth-commandBuffer-parameter" href="#VUID-vkCmdSetLineWidth-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineWidth-commandBuffer-recording" href="#VUID-vkCmdSetLineWidth-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineWidth-commandBuffer-cmdpool" href="#VUID-vkCmdSetLineWidth-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Not all line widths need be supported for line segment rasterization, but
width 1.0 antialiased segments <strong class="purple">must</strong> be provided.
The range and gradations are obtained from the <code>lineWidthRange</code> and
<code>lineWidthGranularity</code> members of <a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.
If, for instance, the size range is from 0.1 to 2.0 and the gradation size
is 0.1, then the size 0.1, 0.2, &#8230;&#8203;, 1.9, 2.0 are supported.
Additional line widths <strong class="purple">may</strong> also be supported.
There is no requirement that these widths be equally spaced.
If an unsupported width is requested, the nearest supported width is used
instead.</p>
</div>
<div class="sect3">
<h4 id="primsrast-lines-basic"><a class="anchor" href="#primsrast-lines-basic"></a>24.6.1. Basic Line Segment Rasterization</h4>
<div class="paragraph">
<p>Rasterized
line segments produce fragments which intersect a rectangle centered on the
line segment.
Two of the edges are parallel to the specified line segment; each is at a
distance of one-half the current width from that segment in directions
perpendicular to the direction of the line.
The other two edges pass through the line endpoints and are perpendicular to
the direction of the specified line segment.
Coverage bits that correspond to sample points that intersect the rectangle
are 1, other coverage bits are 0.</p>
</div>
<div class="paragraph">
<p>Next we specify how the data associated with each rasterized fragment are
obtained.
Let <span class="eq"><strong>p</strong><sub>r</sub> = (x<sub>d</sub>, y<sub>d</sub>)</span> be the framebuffer coordinates at which
associated data are evaluated.
This <strong class="purple">may</strong> be the center of a fragment or the location of a sample within the
fragment.
When <code>rasterizationSamples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code>, the fragment
center <strong class="purple">must</strong> be used.
Let <span class="eq"><strong>p</strong><sub>a</sub> = (x<sub>a</sub>, y<sub>a</sub>)</span> and <span class="eq"><strong>p</strong><sub>b</sub> = (x<sub>b</sub>,y<sub>b</sub>)</span> be
initial and final endpoints of the line segment, respectively.
Set</p>
</div>
<div class="stemblock">
<div class="content">
\[t = {{( \mathbf{p}_r - \mathbf{p}_a ) \cdot ( \mathbf{p}_b - \mathbf{p}_a )}
    \over {\| \mathbf{p}_b - \mathbf{p}_a \|^2 }}\]
</div>
</div>
<div class="paragraph">
<p>(Note that <span class="eq">t = 0</span> at <span class="eq"><strong>p</strong><sub>a</sub></span> and <span class="eq">t = 1</span> at <span class="eq"><strong>p</strong><sub>b</sub></span>.
Also note that this calculation projects the vector from <span class="eq"><strong>p</strong><sub>a</sub></span> to
<span class="eq"><strong>p</strong><sub>r</sub></span> onto the line, and thus computes the normalized distance of
the fragment along the line.)</p>
</div>
<div id="line_perspective_interpolation" class="paragraph">
<p>The value of an associated datum <span class="eq">f</span> for the fragment, whether it be a
shader output or the clip <span class="eq">w</span> coordinate, <strong class="purple">must</strong> be determined using
<em>perspective interpolation</em>:</p>
</div>
<div class="stemblock">
<div class="content">
\[f = {{ (1-t) {f_a / w_a} + t { f_b / w_b} } \over
    {(1-t) / w_a + t / w_b }}\]
</div>
</div>
<div class="paragraph">
<p>where <span class="eq">f<sub>a</sub></span> and <span class="eq">f<sub>b</sub></span> are the data associated with the starting
and ending endpoints of the segment, respectively; <span class="eq">w<sub>a</sub></span> and <span class="eq">w<sub>b</sub></span>
are the clip <span class="eq">w</span> coordinates of the starting and ending endpoints of the
segments, respectively.</p>
</div>
<div id="line_linear_interpolation" class="paragraph">
<p>Depth values for lines <strong class="purple">must</strong> be determined using <em>linear interpolation</em>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">z = (1 - t) z<sub>a</sub> +  t z<sub>b</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">z<sub>a</sub></span> and <span class="eq">z<sub>b</sub></span> are the depth values of the starting and
ending endpoints of the segment, respectively.</p>
</div>
<div class="paragraph">
<p>The <code>NoPerspective</code> and <code>Flat</code>
<a href="#shaders-interpolation-decorations">interpolation decorations</a> <strong class="purple">can</strong> be used
with fragment shader inputs to declare how they are interpolated.
When neither decoration is applied, <a href="#line_perspective_interpolation">perspective interpolation</a> is performed as described above.
When the <code>NoPerspective</code> decoration is used, <a href="#line_linear_interpolation">linear interpolation</a> is performed in the same fashion as for depth values,
as described above.
When the <code>Flat</code> decoration is used, no interpolation is performed, and
outputs are taken from the corresponding input value of the
<a href="#vertexpostproc-flatshading">provoking vertex</a> corresponding to that
primitive.</p>
</div>
<div class="paragraph">
<p>The above description documents the preferred method of line rasterization,
and <strong class="purple">must</strong> be used when the implementation advertises the <code>strictLines</code>
limit in <a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a> as <code>VK_TRUE</code>.</p>
</div>
<div class="paragraph">
<p>When <code>strictLines</code> is <code>VK_FALSE</code>, the edges of the lines are
generated as a parallelogram surrounding the original line.
The major axis is chosen by noting the axis in which there is the greatest
distance between the line start and end points.
If the difference is equal in both directions then the X axis is chosen as
the major axis.
Edges 2 and 3 are aligned to the minor axis and are centered on the
endpoints of the line as in <a href="#fig-non-strict-lines">Non strict lines</a>, and each is
<code>lineWidth</code> long.
Edges 0 and 1 are parallel to the line and connect the endpoints of edges 2
and 3.
Coverage bits that correspond to sample points that intersect the
parallelogram are 1, other coverage bits are 0.</p>
</div>
<div class="paragraph">
<p>Samples that fall exactly on the edge of the parallelogram follow the
polygon rasterization rules.</p>
</div>
<div class="paragraph">
<p>Interpolation occurs as if the parallelogram was decomposed into two
triangles where each pair of vertices at each end of the line has identical
attributes.</p>
</div>
<div id="fig-non-strict-lines" class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="152.70503mm"
   height="83.873383mm"
   viewBox="0 0 152.70503 83.873383"
   version="1.1"
   id="svg8"
   inkscape:version="0.92.2 (5c3e80d, 2017-08-06)"
   sodipodi:docname="non_strict_lines.svg">
  <defs
     id="defs2">
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker2639"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Mend">
      <path
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path2637"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mstart"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path2320"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(0.4,0,0,0.4,4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path2323"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1"
     inkscape:cx="88.14801"
     inkscape:cy="136.35995"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:snap-text-baseline="true"
     inkscape:snap-object-midpoints="true"
     inkscape:window-width="1680"
     inkscape:window-height="987"
     inkscape:window-x="1672"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     fit-margin-left="1"
     fit-margin-top="1"
     fit-margin-right="1"
     fit-margin-bottom="1">
    <inkscape:grid
       type="xygrid"
       id="grid815"
       originx="-7.219306"
       originy="-184.92629" />
  </sodipodi:namedview>
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-7.2193063,-28.200331)">
    <path
       style="fill:none;stroke:#ff0000;stroke-width:0.52916664px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 32.980582,89.448147 133.52226,31.239815 V 52.406479 L 32.980582,110.61481 Z"
       id="path817"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccccc" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.52999997;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Arrow1Mend)"
       d="M 32.980582,100.03148 133.52226,41.823147"
       id="path819"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664"
       x="76.729164"
       y="61.520836"
       id="text2799"><tspan
         sodipodi:role="line"
         id="tspan2797"
         x="76.729164"
         y="61.520836"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;writing-mode:lr-tb;text-anchor:end;stroke-width:0.52916664">Edge 0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664"
       x="89.958336"
       y="82.687508"
       id="text2799-6"><tspan
         sodipodi:role="line"
         id="tspan2797-0"
         x="89.958336"
         y="82.687508"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664">Edge 1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664"
       x="134.9375"
       y="32.416672"
       id="text2799-4"><tspan
         sodipodi:role="line"
         id="tspan2797-02"
         x="134.9375"
         y="32.416672"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664">Edge 3</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664"
       x="31.75"
       y="109.14584"
       id="text2799-38"><tspan
         sodipodi:role="line"
         id="tspan2797-4"
         x="31.75"
         y="109.14584"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;writing-mode:lr-tb;text-anchor:end;stroke-width:0.52916664">Edge 2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664"
       x="27.599689"
       y="101.60439"
       id="text2799-67"
       transform="rotate(-30.47281)"><tspan
         sodipodi:role="line"
         id="tspan2797-1"
         x="27.599689"
         y="101.60439"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664">Original</tspan><tspan
         sodipodi:role="line"
         x="27.599689"
         y="106.89606"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664"
         id="tspan1613">Line</tspan></text>
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.21111594;stroke-opacity:1"
       id="path4517-78-7-8-8-9"
       cx="133.52223"
       cy="41.823147"
       r="1.0555795" />
    <circle
       style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.21111594;stroke-opacity:1"
       id="path4517-78-7-8-8-9-0"
       cx="32.980579"
       cy="100.03149"
       r="1.0555795" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664"
       x="136.16811"
       y="41.823147"
       id="text2799-3"><tspan
         sodipodi:role="line"
         id="tspan2797-9"
         x="136.16811"
         y="41.823147"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664">(Xb,Yb,Zb)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664"
       x="30.334751"
       y="100.03149"
       id="text2799-3-5"><tspan
         sodipodi:role="line"
         id="tspan2797-9-1"
         x="30.334751"
         y="100.03149"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;writing-mode:lr-tb;text-anchor:end;stroke-width:0.52916664">(Xa,Ya,Za)</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:0.52899997;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58699992,1.58699992;stroke-dashoffset:0;stroke-opacity:1;marker-start:url(#Arrow1Mstart);marker-end:url(#marker2639)"
       d="M 115.00141,41.823147 V 62.989813"
       id="path2597"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664"
       x="104.41809"
       y="33.885647"
       id="text2799-7"><tspan
         sodipodi:role="line"
         id="tspan2797-7"
         x="104.41809"
         y="33.885647"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664">Line</tspan><tspan
         sodipodi:role="line"
         x="104.41809"
         y="39.177315"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664"
         id="tspan2695">Width</tspan></text>
  </g>
</svg>
</div>
<div class="title">Figure 8. Non strict lines</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-polygons"><a class="anchor" href="#primsrast-polygons"></a>24.7. Polygons</h3>
<div class="paragraph">
<p>A polygon results from the decomposition of a triangle strip, triangle fan
or a series of independent triangles.
Like points and line segments, polygon rasterization is controlled by
several variables in the <a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>
structure.</p>
</div>
<div class="sect3">
<h4 id="primsrast-polygons-basic"><a class="anchor" href="#primsrast-polygons-basic"></a>24.7.1. Basic Polygon Rasterization</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The first step of polygon rasterization is to determine whether the triangle
is <em>back-facing</em> or <em>front-facing</em>.
This determination is made based on the sign of the (clipped or unclipped)
polygon&#8217;s area computed in framebuffer coordinates.
One way to compute this area is:</p>
</div>
<div class="stemblock">
<div class="content">
\[a = -{1 \over 2}\sum_{i=0}^{n-1}
      x_f^i y_f^{i \oplus 1} -
      x_f^{i \oplus 1} y_f^i\]
</div>
</div>
<div class="paragraph">
<p>where \(x_f^i\) and \(y_f^i\) are the <span class="eq">x</span> and <span class="eq">y</span>
framebuffer coordinates of the <span class="eq">i</span>th vertex of the <span class="eq">n</span>-vertex
polygon (vertices are numbered starting at zero for the purposes of this
computation) and <span class="eq">i  1</span> is <span class="eq">(i +  1) mod n</span>.</p>
</div>
<div class="paragraph">
<p>The interpretation of the sign of <span class="eq">a</span> is determined by the
<a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>frontFace</code> property of
the currently active pipeline.
Possible values are:</p>
</div>
<div id="VkFrontFace" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkFrontFace {
    VK_FRONT_FACE_COUNTER_CLOCKWISE = <span class="integer">0</span>,
    VK_FRONT_FACE_CLOCKWISE = <span class="integer">1</span>,
    VK_FRONT_FACE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkFrontFace;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FRONT_FACE_COUNTER_CLOCKWISE</code> specifies that a triangle with
positive area is considered front-facing.</p>
</li>
<li>
<p><code>VK_FRONT_FACE_CLOCKWISE</code> specifies that a triangle with negative
area is considered front-facing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any triangle which is not front-facing is back-facing, including zero-area
triangles.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once the orientation of triangles is determined, they are culled according
to the <a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>cullMode</code> property
of the currently active pipeline.
Possible values are:</p>
</div>
<div id="VkCullModeFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkCullModeFlagBits {
    VK_CULL_MODE_NONE = <span class="integer">0</span>,
    VK_CULL_MODE_FRONT_BIT = <span class="hex">0x00000001</span>,
    VK_CULL_MODE_BACK_BIT = <span class="hex">0x00000002</span>,
    VK_CULL_MODE_FRONT_AND_BACK = <span class="hex">0x00000003</span>,
    VK_CULL_MODE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkCullModeFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_CULL_MODE_NONE</code> specifies that no triangles are discarded</p>
</li>
<li>
<p><code>VK_CULL_MODE_FRONT_BIT</code> specifies that front-facing triangles are
discarded</p>
</li>
<li>
<p><code>VK_CULL_MODE_BACK_BIT</code> specifies that back-facing triangles are
discarded</p>
</li>
<li>
<p><code>VK_CULL_MODE_FRONT_AND_BACK</code> specifies that all triangles are
discarded.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Following culling, fragments are produced for any triangles which have not
been discarded.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkCullModeFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkCullModeFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkCullModeFlags</code> is a bitmask type for setting a mask of zero or more
<a href="#VkCullModeFlagBits">VkCullModeFlagBits</a>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The rule for determining which fragments are produced by polygon
rasterization is called <em>point sampling</em>.
The two-dimensional projection obtained by taking the x and y framebuffer
coordinates of the polygon&#8217;s vertices is formed.
Fragments are produced for any fragment area groups of pixels for which any
sample points lie inside of this polygon.
Coverage bits that correspond to sample points that satisfy the point
sampling criteria are 1, other coverage bits are 0.
Special treatment is given to a sample whose sample location lies on a
polygon edge.
In such a case, if two polygons lie on either side of a common edge (with
identical endpoints) on which a sample point lies, then exactly one of the
polygons <strong class="purple">must</strong> result in a covered sample for that fragment during
rasterization.
As for the data associated with each fragment produced by rasterizing a
polygon, we begin by specifying how these values are produced for fragments
in a triangle.</p>
</div>
<div id="primsrast-polygon-barycentrics" class="paragraph">
<p><em>Barycentric coordinates</em> are a set of three numbers, <span class="eq">a</span>, <span class="eq">b</span>, and
<span class="eq">c</span>, each in the range <span class="eq">[0,1]</span>, with <span class="eq">a +  b +  c = 1</span>.
These coordinates uniquely specify any point <span class="eq">p</span> within the triangle or
on the triangle&#8217;s boundary as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p = a p<sub>a</sub> +  b p<sub>b</sub> +  c p<sub>c</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, and <span class="eq">p<sub>c</sub></span> are the vertices of the
triangle.
<span class="eq">a</span>, <span class="eq">b</span>, and <span class="eq">c</span> are determined by:</p>
</div>
<div class="stemblock">
<div class="content">
\[a = {{\mathrm{A}(p p_b p_c)} \over {\mathrm{A}(p_a p_b p_c)}}, \quad
b = {{\mathrm{A}(p p_a p_c)} \over {\mathrm{A}(p_a p_b p_c)}}, \quad
c = {{\mathrm{A}(p p_a p_b)} \over {\mathrm{A}(p_a p_b p_c)}},\]
</div>
</div>
<div class="paragraph">
<p>where <span class="eq">A(lmn)</span> denotes the area in framebuffer coordinates of the
triangle with vertices <span class="eq">l</span>, <span class="eq">m</span>, and <span class="eq">n</span>.</p>
</div>
<div class="paragraph">
<p>Denote an associated datum at <span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, or <span class="eq">p<sub>c</sub></span> as
<span class="eq">f<sub>a</sub></span>, <span class="eq">f<sub>b</sub></span>, or <span class="eq">f<sub>c</sub></span>, respectively.</p>
</div>
<div id="triangle_perspective_interpolation" class="paragraph">
<p>The value of an associated datum <span class="eq">f</span> for a fragment produced by
rasterizing a triangle, whether it be a shader output or the clip <span class="eq">w</span>
coordinate, <strong class="purple">must</strong> be determined using perspective interpolation:</p>
</div>
<div class="stemblock">
<div class="content">
\[f = { a {f_a / w_a} + b {f_b / w_b} + c {f_c / w_c} } \over
    { {a / w_a} + {b / w_b} + {c / w_c} }\]
</div>
</div>
<div class="paragraph">
<p>where <span class="eq">w<sub>a</sub></span>, <span class="eq">w<sub>b</sub></span>, and <span class="eq">w<sub>c</sub></span> are the clip <span class="eq">w</span>
coordinates of <span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, and <span class="eq">p<sub>c</sub></span>, respectively.
<span class="eq">a</span>, <span class="eq">b</span>, and <span class="eq">c</span> are the barycentric coordinates of the
location at which the data are produced - this <strong class="purple">must</strong> be the location of the
fragment center or the location of a sample.
When <code>rasterizationSamples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code>, the fragment
center <strong class="purple">must</strong> be used.</p>
</div>
<div id="triangle_linear_interpolation" class="paragraph">
<p>Depth values for triangles <strong class="purple">must</strong> be determined using linear interpolation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">z = a z<sub>a</sub> +  b z<sub>b</sub> +  c z<sub>c</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">z<sub>a</sub></span>, <span class="eq">z<sub>b</sub></span>, and <span class="eq">z<sub>c</sub></span> are the depth values of
<span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, and <span class="eq">p<sub>c</sub></span>, respectively.</p>
</div>
<div class="paragraph">
<p>The <code>NoPerspective</code> and <code>Flat</code>
<a href="#shaders-interpolation-decorations">interpolation decorations</a> <strong class="purple">can</strong> be used
with fragment shader inputs to declare how they are interpolated.
When neither decoration is applied, <a href="#triangle_perspective_interpolation">perspective interpolation</a> is performed as described above.
When the <code>NoPerspective</code> decoration is used,
<a href="#triangle_linear_interpolation">linear interpolation</a> is performed in the
same fashion as for depth values, as described above.
When the <code>Flat</code> decoration is used, no interpolation is performed, and
outputs are taken from the corresponding input value of the
<a href="#vertexpostproc-flatshading">provoking vertex</a> corresponding to that
primitive.</p>
</div>
<div class="paragraph">
<p>For a polygon with more than three edges, such as are produced by clipping a
triangle, a convex combination of the values of the datum at the polygon&#8217;s
vertices <strong class="purple">must</strong> be used to obtain the value assigned to each fragment
produced by the rasterization algorithm.
That is, it <strong class="purple">must</strong> be the case that at every fragment</p>
</div>
<div class="stemblock">
<div class="content">
\[f = \sum_{i=1}^{n} a_i f_i\]
</div>
</div>
<div class="paragraph">
<p>where <span class="eq">n</span> is the number of vertices in the polygon and <span class="eq">f<sub>i</sub></span> is the
value of <span class="eq">f</span> at vertex <span class="eq">i</span>.
For each <span class="eq">i</span>, <span class="eq">0  a<sub>i</sub>  1</span> and
\(\sum_{i=1}^{n}a_i = 1\).
The values of <span class="eq">a<sub>i</sub></span> <strong class="purple">may</strong> differ from fragment to fragment, but at
vertex <span class="eq">i</span>, <span class="eq">a<sub>i</sub> = 1</span> and <span class="eq">a<sub>j</sub> = 0</span> for <span class="eq">j  i</span>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>One algorithm that achieves the required behavior is to triangulate a
polygon (without adding any vertices) and then treat each triangle
individually as already discussed.
A scan-line rasterizer that linearly interpolates data along each edge and
then linearly interpolates data across each horizontal span from edge to
edge also satisfies the restrictions (in this case, the numerator and
denominator of equation <a href="#triangle_perspective_interpolation">[triangle_perspective_interpolation]</a> are iterated
independently and a division performed for each fragment).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-polygonmode"><a class="anchor" href="#primsrast-polygonmode"></a>24.7.2. Polygon Mode</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the
<a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>polygonMode</code> property of
the currently active pipeline, specifying the method of rasterization for
polygons, are:</p>
</div>
<div id="VkPolygonMode" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkPolygonMode {
    VK_POLYGON_MODE_FILL = <span class="integer">0</span>,
    VK_POLYGON_MODE_LINE = <span class="integer">1</span>,
    VK_POLYGON_MODE_POINT = <span class="integer">2</span>,
    VK_POLYGON_MODE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkPolygonMode;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_POLYGON_MODE_POINT</code> specifies that polygon vertices are drawn as
points.</p>
</li>
<li>
<p><code>VK_POLYGON_MODE_LINE</code> specifies that polygon edges are drawn as
line segments.</p>
</li>
<li>
<p><code>VK_POLYGON_MODE_FILL</code> specifies that polygons are rendered using
the polygon rasterization rules in this section.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These modes affect only the final rasterization of polygons: in particular,
a polygon&#8217;s vertices are shaded and the polygon is clipped and possibly
culled before these modes are applied.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-depthbias"><a class="anchor" href="#primsrast-depthbias"></a>24.7.3. Depth Bias</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The depth values of all fragments generated by the rasterization of a
polygon <strong class="purple">can</strong> be offset by a single value that is computed for that polygon.
This behavior is controlled by the <code>depthBiasEnable</code>,
<code>depthBiasConstantFactor</code>, <code>depthBiasClamp</code>, and
<code>depthBiasSlopeFactor</code> members of
<a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>, or by the corresponding
parameters to the <code>vkCmdSetDepthBias</code> command if depth bias state is
dynamic.</p>
</div>
<div id="vkCmdSetDepthBias" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdSetDepthBias(
    VkCommandBuffer                             commandBuffer,
    <span class="predefined-type">float</span>                                       depthBiasConstantFactor,
    <span class="predefined-type">float</span>                                       depthBiasClamp,
    <span class="predefined-type">float</span>                                       depthBiasSlopeFactor);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>depthBiasConstantFactor</code> is a scalar factor controlling the
constant depth value added to each fragment.</p>
</li>
<li>
<p><code>depthBiasClamp</code> is the maximum (or minimum) depth bias of a
fragment.</p>
</li>
<li>
<p><code>depthBiasSlopeFactor</code> is a scalar factor applied to a fragment&#8217;s
slope in depth bias calculations.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>depthBiasEnable</code> is <code>VK_FALSE</code>, no depth bias is applied and the
fragment&#8217;s depth values are unchanged.</p>
</div>
<div class="paragraph">
<p><code>depthBiasSlopeFactor</code> scales the maximum depth slope of the polygon,
and <code>depthBiasConstantFactor</code> scales an implementation-dependent
constant that relates to the usable resolution of the depth buffer.
The resulting values are summed to produce the depth bias value which is
then clamped to a minimum or maximum value specified by
<code>depthBiasClamp</code>.
<code>depthBiasSlopeFactor</code>, <code>depthBiasConstantFactor</code>, and
<code>depthBiasClamp</code> <strong class="purple">can</strong> each be positive, negative, or zero.</p>
</div>
<div class="paragraph">
<p>The maximum depth slope <span class="eq">m</span> of a triangle is</p>
</div>
<div class="stemblock">
<div class="content">
\[m = \sqrt{ \left({{\partial z_f} \over {\partial x_f}}\right)^2
        +  \left({{\partial z_f} \over {\partial y_f}}\right)^2}\]
</div>
</div>
<div class="paragraph">
<p>where <span class="eq">(x<sub>f</sub>, y<sub>f</sub>, z<sub>f</sub>)</span> is a point on the triangle.
<span class="eq">m</span> <strong class="purple">may</strong> be approximated as</p>
</div>
<div class="stemblock">
<div class="content">
\[m = \max\left( \left| { {\partial z_f} \over {\partial x_f} } \right|,
               \left| { {\partial z_f} \over {\partial y_f} } \right|
       \right).\]
</div>
</div>
<div class="paragraph">
<p>The minimum resolvable difference <span class="eq">r</span> is an implementation-dependent
parameter that depends on the depth buffer representation.
It is the smallest difference in framebuffer coordinate <span class="eq">z</span> values that
is guaranteed to remain distinct throughout polygon rasterization and in the
depth buffer.
All pairs of fragments generated by the rasterization of two polygons with
otherwise identical vertices, but <span class="eq"><code>z</code><sub>f</sub></span> values that differ by
<span class="eq">r</span>, will have distinct depth values.</p>
</div>
<div class="paragraph">
<p>For fixed-point depth buffer representations, <span class="eq">r</span> is constant throughout
the range of the entire depth buffer.
For floating-point depth buffers, there is no single minimum resolvable
difference.
In this case, the minimum resolvable difference for a given polygon is
dependent on the maximum exponent, <span class="eq">e</span>, in the range of <span class="eq">z</span> values
spanned by the primitive.
If <span class="eq">n</span> is the number of bits in the floating-point mantissa, the minimum
resolvable difference, <span class="eq">r</span>, for the given primitive is defined as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">r = 2<sup>e-n</sup></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If no depth buffer is present, <span class="eq">r</span> is undefined.</p>
</div>
<div class="paragraph">
<p>The bias value <span class="eq">o</span> for a polygon is</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{aligned}
o &amp;= \mathrm{dbclamp}( m \times \mathtt{depthBiasSlopeFactor} + r \times \mathtt{depthBiasConstantFactor} ) \\
\text{where} &amp;\quad \mathrm{dbclamp}(x) =
\begin{cases}
    x                                 &amp; \mathtt{depthBiasClamp} = 0 \ \text{or}\ \texttt{NaN} \\
    \min(x, \mathtt{depthBiasClamp})  &amp; \mathtt{depthBiasClamp} &gt; 0 \\
    \max(x, \mathtt{depthBiasClamp})  &amp; \mathtt{depthBiasClamp} &lt; 0 \\
\end{cases}
\end{aligned}\]
</div>
</div>
<div class="paragraph">
<p><span class="eq">m</span> is computed as described above.
If the depth buffer uses a fixed-point representation, <span class="eq">m</span> is a function
of depth values in the range <span class="eq">[0,1]</span>, and <span class="eq">o</span> is applied to depth
values in the same range.</p>
</div>
<div class="paragraph">
<p>For fixed-point depth buffers, fragment depth values are always limited to
the range <span class="eq">[0,1]</span> by clamping after depth bias addition is performed.
Fragment depth values are clamped even when the depth buffer uses a
floating-point representation.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBias-depthBiasClamp-00790" href="#VUID-vkCmdSetDepthBias-depthBiasClamp-00790"></a>
If the <a href="#features-depthBiasClamp">depth bias clamping</a> feature is not
enabled, <code>depthBiasClamp</code> <strong class="purple">must</strong> be <code>0.0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBias-commandBuffer-parameter" href="#VUID-vkCmdSetDepthBias-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBias-commandBuffer-recording" href="#VUID-vkCmdSetDepthBias-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBias-commandBuffer-cmdpool" href="#VUID-vkCmdSetDepthBias-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fragops"><a class="anchor" href="#fragops"></a>25. Fragment Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Fragment operations execute on a per-fragment or per-sample basis, affecting
whether or how a fragment or sample is written to the framebuffer.
Some operations execute <a href="#fragops-early">before fragment shading</a>, and
others <a href="#fragops-late">after</a>.
Fragment operations always adhere to <a href="#primrast-order">rasterization order</a>.</p>
</div>
<div class="sect2">
<h3 id="fragops-early"><a class="anchor" href="#fragops-early"></a>25.1. Early Per-Fragment Tests</h3>
<div class="paragraph">
<p>Once fragments are produced by rasterization, a number of per-fragment
operations are performed prior to fragment shader execution.
If a fragment is discarded during any of these operations, it will not be
processed by any subsequent stage, including fragment shader execution.</p>
</div>
<div class="paragraph">
<p>The <a href="#fragops-scissor">scissor test</a> and
<a href="#fragops-samplemask">sample mask generation</a> are always performed during
early fragment tests.</p>
</div>
<div class="paragraph">
<p>Fragment operations are performed in the following order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the scissor test (see <a href="#fragops-scissor">Scissor Test</a>)</p>
</li>
<li>
<p>multisample fragment operations (see <a href="#fragops-samplemask">Sample Mask</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If early per-fragment operations are <a href="#shaders-fragment-earlytest">enabled by
the fragment shader</a>, these operations are also performed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#fragops-dbt">Depth bounds test</a></p>
</li>
<li>
<p><a href="#fragops-stencil">Stencil test</a></p>
</li>
<li>
<p><a href="#fragops-depth">Depth test</a></p>
</li>
<li>
<p><a href="#fragops-samplecount">Sample counting</a> for <a href="#queries-occlusion">occlusion queries</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fragops-scissor"><a class="anchor" href="#fragops-scissor"></a>25.2. Scissor Test</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The scissor test determines if a fragment&#8217;s framebuffer coordinates
<span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> lie within the scissor rectangle corresponding to the
viewport index (see <a href="#vertexpostproc-viewport">Controlling the Viewport</a>)
used by the primitive that generated the fragment.
If the pipeline state object is created without
<code>VK_DYNAMIC_STATE_SCISSOR</code> enabled then the scissor rectangles are set
by the <a href="#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a> state of the pipeline state
object.
Otherwise, to dynamically set the scissor rectangles call:</p>
</div>
<div id="vkCmdSetScissor" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdSetScissor(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstScissor,
    uint32_t                                    scissorCount,
    <span class="directive">const</span> VkRect2D*                             pScissors);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>firstScissor</code> is the index of the first scissor whose state is
updated by the command.</p>
</li>
<li>
<p><code>scissorCount</code> is the number of scissors whose rectangles are
updated by the command.</p>
</li>
<li>
<p><code>pScissors</code> is a pointer to an array of <a href="#VkRect2D">VkRect2D</a> structures
defining scissor rectangles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The scissor rectangles taken from element <span class="eq">i</span> of <code>pScissors</code> replace
the current state for the scissor index <span class="eq"><code>firstScissor</code> +  i</span>,
for <span class="eq">i</span> in <span class="eq">[0, <code>scissorCount</code>)</span>.</p>
</div>
<div class="paragraph">
<p>Each scissor rectangle is described by a <a href="#VkRect2D">VkRect2D</a> structure, with the
<code>offset.x</code> and <code>offset.y</code> values determining the upper left corner
of the scissor rectangle, and the <code>extent.width</code> and <code>extent.height</code>
values determining the size in pixels.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetScissor-firstScissor-00591" href="#VUID-vkCmdSetScissor-firstScissor-00591"></a>
<code>firstScissor</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-firstScissor-00592" href="#VUID-vkCmdSetScissor-firstScissor-00592"></a>
The sum of <code>firstScissor</code> and <code>scissorCount</code> <strong class="purple">must</strong> be between
<code>1</code> and <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-firstScissor-00593" href="#VUID-vkCmdSetScissor-firstScissor-00593"></a>
If the <a href="#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>firstScissor</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-scissorCount-00594" href="#VUID-vkCmdSetScissor-scissorCount-00594"></a>
If the <a href="#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>scissorCount</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-x-00595" href="#VUID-vkCmdSetScissor-x-00595"></a>
The <code>x</code> and <code>y</code> members of <code>offset</code> member of any element of
<code>pScissors</code> <strong class="purple">must</strong> be greater than or equal to <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-offset-00596" href="#VUID-vkCmdSetScissor-offset-00596"></a>
Evaluation of <span class="eq">(<code>offset.x</code> +  <code>extent.width</code>)</span> <strong class="purple">must</strong> not
cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-offset-00597" href="#VUID-vkCmdSetScissor-offset-00597"></a>
Evaluation of <span class="eq">(<code>offset.y</code> +  <code>extent.height</code>)</span> <strong class="purple">must</strong>
not cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetScissor-commandBuffer-parameter" href="#VUID-vkCmdSetScissor-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-pScissors-parameter" href="#VUID-vkCmdSetScissor-pScissors-parameter"></a> <code>pScissors</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>scissorCount</code> <a href="#VkRect2D">VkRect2D</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-commandBuffer-recording" href="#VUID-vkCmdSetScissor-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-commandBuffer-cmdpool" href="#VUID-vkCmdSetScissor-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-scissorCount-arraylength" href="#VUID-vkCmdSetScissor-scissorCount-arraylength"></a> <code>scissorCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If <span class="eq"><code>offset.x</code>  x<sub>f</sub> &lt; <code>offset.x</code> + 
<code>extent.width</code></span> and <span class="eq"><code>offset.y</code>  y<sub>f</sub> &lt; <code>offset.y</code>
+  <code>extent.height</code></span> for the selected scissor rectangle, then the
scissor test passes.
Otherwise, the test fails and the fragment is discarded.
For points, lines, and polygons, the scissor rectangle for a primitive is
selected in the same manner as the viewport (see
<a href="#vertexpostproc-viewport">Controlling the Viewport</a>).
The scissor rectangles test only applies to <a href="#drawing">drawing commands</a>,
not to other commands like clears or copies.</p>
</div>
<div class="paragraph">
<p>It is legal for <span class="eq"><code>offset.x</code> +  <code>extent.width</code></span> or
<span class="eq"><code>offset.y</code> +  <code>extent.height</code></span> to exceed the dimensions of
the framebuffer - the scissor test still applies as defined above.
Rasterization does not produce fragments outside of the framebuffer, so such
fragments never have the scissor test performed on them.</p>
</div>
<div class="paragraph">
<p>The scissor test is always performed.
Applications <strong class="purple">can</strong> effectively disable the scissor test by specifying a
scissor rectangle that encompasses the entire framebuffer.</p>
</div>
</div>
<div class="sect2">
<h3 id="fragops-samplemask"><a class="anchor" href="#fragops-samplemask"></a>25.3. Sample Mask</h3>
<div class="paragraph">
<p>This step modifies fragment coverage values based on the values in the
<code>pSampleMask</code> array member of
<a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>, as described previously in
section <a href="#pipelines-graphics">Graphics Pipelines</a>.</p>
</div>
<div class="paragraph">
<p><code>pSampleMask</code> contains an array of static coverage information that is
<code>ANDed</code> with the coverage information generated during rasterization.
Bits that are zero disable coverage for the corresponding sample.
Bit <span class="eq">B</span> of mask word <span class="eq">M</span> corresponds to sample <span class="eq">32  M
+  B</span>.
The array is sized to a length of <span class="eq"> <code>rasterizationSamples</code> /
32 </span> words.
If <code>pSampleMask</code> is <code>NULL</code>, it is treated as if the mask has all bits
enabled, i.e. no coverage is removed from fragments.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The elements of the sample mask array are of type <code>VkSampleMask</code>,
each representing 32 bits of coverage information:</p>
</div>
<div id="VkSampleMask" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> uint32_t VkSampleMask;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-early-mode"><a class="anchor" href="#fragops-early-mode"></a>25.4. Early Fragment Test Mode</h3>
<div class="paragraph">
<p>The depth bounds test, stencil test, depth test,
and occlusion query sample counting are performed before fragment shading if
and only if early fragment tests are enabled by the fragment shader (see
<a href="#shaders-fragment-earlytest">Early Fragment Tests</a>).
When early per-fragment operations are enabled, these operations are
performed prior to fragment shader execution, and the stencil buffer, depth
buffer, and occlusion query sample counts will be updated accordingly; these
operations will not be performed again after fragment shader execution.</p>
</div>
<div class="paragraph">
<p>If a pipeline&#8217;s fragment shader has early fragment tests disabled, these
operations are performed only after fragment program execution, in the order
described below.
If a pipeline does not contain a fragment shader, these operations are
performed only once.</p>
</div>
<div class="paragraph">
<p>If early fragment tests are enabled, any depth value computed by the
fragment shader has no effect.
Additionally, the depth test (including depth writes), stencil test
(including stencil writes) and sample counting operations are performed even
for fragments or samples that would be discarded after fragment shader
execution due to per-fragment operations such as alpha-to-coverage tests, or
due to the fragment being discarded by the shader itself.</p>
</div>
</div>
<div class="sect2">
<h3 id="fragops-late"><a class="anchor" href="#fragops-late"></a>25.5. Late Per-Fragment Tests</h3>
<div class="paragraph">
<p>After programmable fragment processing, per-fragment operations are
performed before blending and color output to the framebuffer.</p>
</div>
<div class="paragraph">
<p>A fragment is produced by rasterization with framebuffer coordinates of
<span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> and depth <span class="eq">z</span>, as described in
<a href="#primsrast">Rasterization</a>.
The fragment is then modified by programmable fragment processing, which
adds associated data as described in <a href="#shaders">Shaders</a>.
The fragment is then further modified, and possibly discarded by the late
per-fragment operations described in this chapter.
Finally, if the fragment was not discarded, it is used to update the
framebuffer at the fragment&#8217;s framebuffer coordinates for any samples that
remain covered.</p>
</div>
<div class="paragraph">
<p>The depth bounds test, stencil test, and depth test are performed for each
sample, rather than just once for each fragment.
Stencil and depth operations are performed for a sample only if that
sample&#8217;s fragment coverage bit is a value of 1 when the fragment executes
the corresponding stage of the graphics pipeline.
If the corresponding coverage bit is 0, no operations are performed for that
sample.
Failure of the depth bounds, stencil, or depth test results in termination
of the processing of that sample by means of disabling coverage for that
sample, rather than discarding of the fragment.
If, at any point, a fragment&#8217;s coverage becomes zero for all samples, then
the fragment is discarded.
All operations are performed on the depth and stencil values stored in the
depth/stencil attachment of the framebuffer.
The contents of the color attachments are not modified at this point.</p>
</div>
<div class="paragraph">
<p>The depth bounds test, stencil test, depth test, and occlusion query
operations described in <a href="#fragops-dbt">Depth Bounds Test</a>,
<a href="#fragops-stencil">Stencil Test</a>, <a href="#fragops-depth">Depth Test</a>,
<a href="#fragops-samplecount">Sample Counting</a> are instead performed prior to
fragment processing, as described in <a href="#fragops-early-mode">Early Fragment
Test Mode</a>, if requested by the fragment shader.</p>
</div>
</div>
<div class="sect2">
<h3 id="fragops-covg"><a class="anchor" href="#fragops-covg"></a>25.6. Multisample Coverage</h3>
<div class="paragraph">
<p>If a fragment shader is active and its entry point&#8217;s interface includes a
built-in output variable decorated with <code>SampleMask</code>, the fragment
coverage is <code>ANDed</code> with the bits of the sample mask to generate a new
fragment coverage value.
If such a fragment shader did not assign a value to <code>SampleMask</code> due to
flow of control, the value <code>ANDed</code> with the fragment coverage is
undefined.
If no fragment shader is active, or if the active fragment shader does not
include <code>SampleMask</code> in its interface, the fragment coverage is not
modified.</p>
</div>
<div class="paragraph">
<p>Next, the fragment alpha and coverage values are modified based on the
<code>alphaToCoverageEnable</code> and <code>alphaToOneEnable</code> members of the
<a href="#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a> structure.</p>
</div>
<div class="paragraph">
<p>All alpha values in this section refer only to the alpha component of the
fragment shader output that has a <code>Location</code> and <code>Index</code> decoration of
zero (see the <a href="#interfaces-fragmentoutput">Fragment Output Interface</a>
section).
If that shader output has an integer or unsigned integer type, then these
operations are skipped.</p>
</div>
<div class="paragraph">
<p>If <code>alphaToCoverageEnable</code> is enabled, a temporary coverage value with
<code>rasterizationSamples</code> bits is generated where each bit is determined by
the fragment&#8217;s alpha value.
The temporary coverage value is then ANDed with the fragment coverage value
to generate a new fragment coverage value.</p>
</div>
<div class="paragraph">
<p>No specific algorithm is specified for converting the alpha value to a
temporary coverage mask.
It is intended that the number of 1&#8217;s in this value be proportional to the
alpha value (clamped to <span class="eq">[0,1]</span>), with all 1&#8217;s corresponding to a value
of 1.0 and all 0&#8217;s corresponding to 0.0.
The algorithm <strong class="purple">may</strong> be different at different framebuffer coordinates.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Using different algorithms at different framebuffer coordinates <strong class="purple">may</strong> help to
avoid artifacts caused by regular coverage sample locations.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Next, if <code>alphaToOneEnable</code> is enabled, each alpha value is replaced by
the maximum representable alpha value for fixed-point color buffers, or by
1.0 for floating-point buffers.
Otherwise, the alpha values are not changed.</p>
</div>
</div>
<div class="sect2">
<h3 id="fragops-ds-state"><a class="anchor" href="#fragops-ds-state"></a>25.7. Depth and Stencil Operations</h3>
<div class="paragraph">
<p>Pipeline state controlling the <a href="#fragops-dbt">depth bounds tests</a>,
<a href="#fragops-stencil">stencil test</a>, and <a href="#fragops-depth">depth test</a> is
specified through the members of the
<code>VkPipelineDepthStencilStateCreateInfo</code> structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineDepthStencilStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineDepthStencilStateCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineDepthStencilStateCreateInfo {
    VkStructureType                           sType;
    <span class="directive">const</span> <span class="directive">void</span>*                               pNext;
    VkPipelineDepthStencilStateCreateFlags    flags;
    VkBool32                                  depthTestEnable;
    VkBool32                                  depthWriteEnable;
    VkCompareOp                               depthCompareOp;
    VkBool32                                  depthBoundsTestEnable;
    VkBool32                                  stencilTestEnable;
    VkStencilOpState                          front;
    VkStencilOpState                          back;
    <span class="predefined-type">float</span>                                     minDepthBounds;
    <span class="predefined-type">float</span>                                     maxDepthBounds;
} VkPipelineDepthStencilStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>depthTestEnable</code> controls whether <a href="#fragops-depth">depth testing</a>
is enabled.</p>
</li>
<li>
<p><code>depthWriteEnable</code> controls whether <a href="#fragops-depth-write">depth
writes</a> are enabled when <code>depthTestEnable</code> is <code>VK_TRUE</code>.
Depth writes are always disabled when <code>depthTestEnable</code> is
<code>VK_FALSE</code>.</p>
</li>
<li>
<p><code>depthCompareOp</code> is the comparison operator used in the
<a href="#fragops-depth">depth test</a>.</p>
</li>
<li>
<p><code>depthBoundsTestEnable</code> controls whether <a href="#fragops-dbt">depth bounds
testing</a> is enabled.</p>
</li>
<li>
<p><code>stencilTestEnable</code> controls whether <a href="#fragops-stencil">stencil
testing</a> is enabled.</p>
</li>
<li>
<p><code>front</code> and <code>back</code> control the parameters of the
<a href="#fragops-stencil">stencil test</a>.</p>
</li>
<li>
<p><code>minDepthBounds</code> and <code>maxDepthBounds</code> define the range of values
used in the <a href="#fragops-dbt">depth bounds test</a>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-depthBoundsTestEnable-00598" href="#VUID-VkPipelineDepthStencilStateCreateInfo-depthBoundsTestEnable-00598"></a>
If the <a href="#features-depthBounds">depth bounds testing</a> feature is not
enabled, <code>depthBoundsTestEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-sType-sType" href="#VUID-VkPipelineDepthStencilStateCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineDepthStencilStateCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineDepthStencilStateCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-depthCompareOp-parameter" href="#VUID-VkPipelineDepthStencilStateCreateInfo-depthCompareOp-parameter"></a> <code>depthCompareOp</code> <strong class="purple">must</strong> be a valid <a href="#VkCompareOp">VkCompareOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-front-parameter" href="#VUID-VkPipelineDepthStencilStateCreateInfo-front-parameter"></a> <code>front</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOpState">VkStencilOpState</a> structure</p>
</li>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-back-parameter" href="#VUID-VkPipelineDepthStencilStateCreateInfo-back-parameter"></a> <code>back</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOpState">VkStencilOpState</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineDepthStencilStateCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineDepthStencilStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineDepthStencilStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-dbt"><a class="anchor" href="#fragops-dbt"></a>25.8. Depth Bounds Test</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The depth bounds test conditionally disables coverage of a sample based on
the outcome of a comparison between the value <span class="eq">z<sub>a</sub></span> in the depth
attachment at location <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> (for the appropriate sample) and a
range of values.
The test is enabled or disabled by the <code>depthBoundsTestEnable</code> member of
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>: If the pipeline state object is
created without the <code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> dynamic state
enabled then the range of values used in the depth bounds test are defined
by the <code>minDepthBounds</code> and <code>maxDepthBounds</code> members of the
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a> structure.
Otherwise, to dynamically set the depth bounds range values call:</p>
</div>
<div id="vkCmdSetDepthBounds" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdSetDepthBounds(
    VkCommandBuffer                             commandBuffer,
    <span class="predefined-type">float</span>                                       minDepthBounds,
    <span class="predefined-type">float</span>                                       maxDepthBounds);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>minDepthBounds</code> is the lower bound of the range of depth values
used in the depth bounds test.</p>
</li>
<li>
<p><code>maxDepthBounds</code> is the upper bound of the range.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBounds-minDepthBounds-02508" href="#VUID-vkCmdSetDepthBounds-minDepthBounds-02508"></a>
<code>minDepthBounds</code> <strong class="purple">must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBounds-maxDepthBounds-02509" href="#VUID-vkCmdSetDepthBounds-maxDepthBounds-02509"></a>
<code>maxDepthBounds</code> <strong class="purple">must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBounds-commandBuffer-parameter" href="#VUID-vkCmdSetDepthBounds-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBounds-commandBuffer-recording" href="#VUID-vkCmdSetDepthBounds-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBounds-commandBuffer-cmdpool" href="#VUID-vkCmdSetDepthBounds-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If <span class="eq"><code>minDepthBounds</code>  z<sub>a</sub>  <code>maxDepthBounds</code></span>, then
the depth bounds test passes.
Otherwise, the test fails and the sample&#8217;s coverage bit is cleared in the
fragment.
If there is no depth framebuffer attachment or if the depth bounds test is
disabled, it is as if the depth bounds test always passes.</p>
</div>
</div>
<div class="sect2">
<h3 id="fragops-stencil"><a class="anchor" href="#fragops-stencil"></a>25.9. Stencil Test</h3>
<div class="paragraph">
<p>The stencil test conditionally disables coverage of a sample based on the
outcome of a comparison between the stencil value in the depth/stencil
attachment at location <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> (for the appropriate sample) and a
reference value.
The stencil test also updates the value in the stencil attachment, depending
on the test state, the stencil value and the stencil write masks.
The stencil test is enabled or disabled by the <code>stencilTestEnable</code>
member of <a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>.</p>
</div>
<div class="paragraph">
<p>When stencil test is disabled, the stencil test and associated modifications
are not made, and the sample&#8217;s coverage is not modified.</p>
</div>
<div class="paragraph">
<p>The stencil test is controlled by the <code>front</code> and <code>back</code> members of
<code>VkPipelineDepthStencilStateCreateInfo</code>, which are of type
<code>VkStencilOpState</code>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkStencilOpState</code> structure is defined as:</p>
</div>
<div id="VkStencilOpState" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkStencilOpState {
    VkStencilOp    failOp;
    VkStencilOp    passOp;
    VkStencilOp    depthFailOp;
    VkCompareOp    compareOp;
    uint32_t       compareMask;
    uint32_t       writeMask;
    uint32_t       reference;
} VkStencilOpState;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>failOp</code> is a <a href="#VkStencilOp">VkStencilOp</a> value specifying the action
performed on samples that fail the stencil test.</p>
</li>
<li>
<p><code>passOp</code> is a <a href="#VkStencilOp">VkStencilOp</a> value specifying the action
performed on samples that pass both the depth and stencil tests.</p>
</li>
<li>
<p><code>depthFailOp</code> is a <a href="#VkStencilOp">VkStencilOp</a> value specifying the action
performed on samples that pass the stencil test and fail the depth test.</p>
</li>
<li>
<p><code>compareOp</code> is a <a href="#VkCompareOp">VkCompareOp</a> value specifying the comparison
operator used in the stencil test.</p>
</li>
<li>
<p><code>compareMask</code> selects the bits of the unsigned integer stencil
values participating in the stencil test.</p>
</li>
<li>
<p><code>writeMask</code> selects the bits of the unsigned integer stencil values
updated by the stencil test in the stencil framebuffer attachment.</p>
</li>
<li>
<p><code>reference</code> is an integer reference value that is used in the
unsigned stencil comparison.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkStencilOpState-failOp-parameter" href="#VUID-VkStencilOpState-failOp-parameter"></a> <code>failOp</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOp">VkStencilOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkStencilOpState-passOp-parameter" href="#VUID-VkStencilOpState-passOp-parameter"></a> <code>passOp</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOp">VkStencilOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkStencilOpState-depthFailOp-parameter" href="#VUID-VkStencilOpState-depthFailOp-parameter"></a> <code>depthFailOp</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOp">VkStencilOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkStencilOpState-compareOp-parameter" href="#VUID-VkStencilOpState-compareOp-parameter"></a> <code>compareOp</code> <strong class="purple">must</strong> be a valid <a href="#VkCompareOp">VkCompareOp</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>There are two sets of stencil-related state, the front stencil state set and
the back stencil state set.
Stencil tests and writes use the front set of stencil state when processing
front-facing fragments and use the back set of stencil state when processing
back-facing fragments.
Fragments rasterized from non-polygon primitives (points and lines) are
always considered front-facing.
Fragments rasterized from polygon primitives inherit their facingness from
the polygon, even if the polygon is rasterized as points or lines due to the
current <a href="#VkPolygonMode">VkPolygonMode</a>.
Whether a polygon is front- or back-facing is determined in the same manner
used for face culling (see <a href="#primsrast-polygons-basic">Basic Polygon
Rasterization</a>).</p>
</div>
<div class="paragraph">
<p>The operation of the stencil test is also affected by the <code>compareMask</code>,
<code>writeMask</code>, and <code>reference</code> members of <code>VkStencilOpState</code> set
in the pipeline state object if the pipeline state object is created without
the <code>VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code>,
<code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code>, and
<code>VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> dynamic states enabled,
respectively.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the pipeline state object is created with the
<code>VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> dynamic state enabled, then to
dynamically set the stencil compare mask call:</p>
</div>
<div id="vkCmdSetStencilCompareMask" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdSetStencilCompareMask(
    VkCommandBuffer                             commandBuffer,
    VkStencilFaceFlags                          faceMask,
    uint32_t                                    compareMask);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>faceMask</code> is a bitmask of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> specifying
the set of stencil state for which to update the compare mask.</p>
</li>
<li>
<p><code>compareMask</code> is the new value to use as the stencil compare mask.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetStencilCompareMask-commandBuffer-parameter" href="#VUID-vkCmdSetStencilCompareMask-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilCompareMask-faceMask-parameter" href="#VUID-vkCmdSetStencilCompareMask-faceMask-parameter"></a> <code>faceMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilCompareMask-faceMask-requiredbitmask" href="#VUID-vkCmdSetStencilCompareMask-faceMask-requiredbitmask"></a> <code>faceMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilCompareMask-commandBuffer-recording" href="#VUID-vkCmdSetStencilCompareMask-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilCompareMask-commandBuffer-cmdpool" href="#VUID-vkCmdSetStencilCompareMask-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in the
<a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a>::<code>faceMask</code> parameter, and similar
parameters of other commands specifying which stencil state to update
stencil masks for, are:</p>
</div>
<div id="VkStencilFaceFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkStencilFaceFlagBits {
    VK_STENCIL_FACE_FRONT_BIT = <span class="hex">0x00000001</span>,
    VK_STENCIL_FACE_BACK_BIT = <span class="hex">0x00000002</span>,
    VK_STENCIL_FACE_FRONT_AND_BACK = <span class="hex">0x00000003</span>,
    VK_STENCIL_FRONT_AND_BACK = VK_STENCIL_FACE_FRONT_AND_BACK,
    VK_STENCIL_FACE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkStencilFaceFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STENCIL_FACE_FRONT_BIT</code> specifies that only the front set of
stencil state is updated.</p>
</li>
<li>
<p><code>VK_STENCIL_FACE_BACK_BIT</code> specifies that only the back set of
stencil state is updated.</p>
</li>
<li>
<p><code>VK_STENCIL_FACE_FRONT_AND_BACK</code> is the combination of
<code>VK_STENCIL_FACE_FRONT_BIT</code> and <code>VK_STENCIL_FACE_BACK_BIT</code>, and
specifies that both sets of stencil state are updated.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkStencilFaceFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkStencilFaceFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkStencilFaceFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the pipeline state object is created with the
<code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> dynamic state enabled, then to
dynamically set the stencil write mask call:</p>
</div>
<div id="vkCmdSetStencilWriteMask" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdSetStencilWriteMask(
    VkCommandBuffer                             commandBuffer,
    VkStencilFaceFlags                          faceMask,
    uint32_t                                    writeMask);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>faceMask</code> is a bitmask of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> specifying
the set of stencil state for which to update the write mask, as
described above for <a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a>.</p>
</li>
<li>
<p><code>writeMask</code> is the new value to use as the stencil write mask.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetStencilWriteMask-commandBuffer-parameter" href="#VUID-vkCmdSetStencilWriteMask-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilWriteMask-faceMask-parameter" href="#VUID-vkCmdSetStencilWriteMask-faceMask-parameter"></a> <code>faceMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilWriteMask-faceMask-requiredbitmask" href="#VUID-vkCmdSetStencilWriteMask-faceMask-requiredbitmask"></a> <code>faceMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilWriteMask-commandBuffer-recording" href="#VUID-vkCmdSetStencilWriteMask-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilWriteMask-commandBuffer-cmdpool" href="#VUID-vkCmdSetStencilWriteMask-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the pipeline state object is created with the
<code>VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> dynamic state enabled, then to
dynamically set the stencil reference value call:</p>
</div>
<div id="vkCmdSetStencilReference" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdSetStencilReference(
    VkCommandBuffer                             commandBuffer,
    VkStencilFaceFlags                          faceMask,
    uint32_t                                    reference);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>faceMask</code> is a bitmask of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> specifying
the set of stencil state for which to update the reference value, as
described above for <a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a>.</p>
</li>
<li>
<p><code>reference</code> is the new value to use as the stencil reference value.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetStencilReference-commandBuffer-parameter" href="#VUID-vkCmdSetStencilReference-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilReference-faceMask-parameter" href="#VUID-vkCmdSetStencilReference-faceMask-parameter"></a> <code>faceMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilReference-faceMask-requiredbitmask" href="#VUID-vkCmdSetStencilReference-faceMask-requiredbitmask"></a> <code>faceMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilReference-commandBuffer-recording" href="#VUID-vkCmdSetStencilReference-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilReference-commandBuffer-cmdpool" href="#VUID-vkCmdSetStencilReference-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><code>reference</code> is an integer reference value that is used in the unsigned
stencil comparison.
The reference value used by stencil comparison must be within the range
<span class="eq">[0,2<sup>s</sup>-1]</span> , where <span class="eq">s</span> is the number of bits in the stencil
framebuffer attachment, otherwise the reference value is considered
undefined.
The <span class="eq">s</span> least significant bits of <code>compareMask</code> are bitwise
<code>ANDed</code> with both the reference and the stored stencil value, and the
resulting masked values are those that participate in the comparison
controlled by <code>compareOp</code>.
Let <span class="eq">R</span> be the masked reference value and <span class="eq">S</span> be the masked stored
stencil value.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkStencilOpState">VkStencilOpState</a>::<code>compareOp</code>, specifying the
stencil comparison function, are:</p>
</div>
<div id="VkCompareOp" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkCompareOp {
    VK_COMPARE_OP_NEVER = <span class="integer">0</span>,
    VK_COMPARE_OP_LESS = <span class="integer">1</span>,
    VK_COMPARE_OP_EQUAL = <span class="integer">2</span>,
    VK_COMPARE_OP_LESS_OR_EQUAL = <span class="integer">3</span>,
    VK_COMPARE_OP_GREATER = <span class="integer">4</span>,
    VK_COMPARE_OP_NOT_EQUAL = <span class="integer">5</span>,
    VK_COMPARE_OP_GREATER_OR_EQUAL = <span class="integer">6</span>,
    VK_COMPARE_OP_ALWAYS = <span class="integer">7</span>,
    VK_COMPARE_OP_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkCompareOp;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMPARE_OP_NEVER</code> specifies that the test never passes.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_LESS</code> specifies that the test passes when <span class="eq">R &lt;
S</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_EQUAL</code> specifies that the test passes when <span class="eq">R =
S</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_LESS_OR_EQUAL</code> specifies that the test passes when
<span class="eq">R  S</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_GREATER</code> specifies that the test passes when <span class="eq">R &gt;
S</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_NOT_EQUAL</code> specifies that the test passes when <span class="eq">R
 S</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_GREATER_OR_EQUAL</code> specifies that the test passes when
<span class="eq">R  S</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_ALWAYS</code> specifies that the test always passes.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>failOp</code>, <code>passOp</code>, and <code>depthFailOp</code>
members of <a href="#VkStencilOpState">VkStencilOpState</a>, specifying what happens to the stored
stencil value if this or certain subsequent tests fail or pass, are:</p>
</div>
<div id="VkStencilOp" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkStencilOp {
    VK_STENCIL_OP_KEEP = <span class="integer">0</span>,
    VK_STENCIL_OP_ZERO = <span class="integer">1</span>,
    VK_STENCIL_OP_REPLACE = <span class="integer">2</span>,
    VK_STENCIL_OP_INCREMENT_AND_CLAMP = <span class="integer">3</span>,
    VK_STENCIL_OP_DECREMENT_AND_CLAMP = <span class="integer">4</span>,
    VK_STENCIL_OP_INVERT = <span class="integer">5</span>,
    VK_STENCIL_OP_INCREMENT_AND_WRAP = <span class="integer">6</span>,
    VK_STENCIL_OP_DECREMENT_AND_WRAP = <span class="integer">7</span>,
    VK_STENCIL_OP_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkStencilOp;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STENCIL_OP_KEEP</code> keeps the current value.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_ZERO</code> sets the value to 0.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_REPLACE</code> sets the value to <code>reference</code>.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_INCREMENT_AND_CLAMP</code> increments the current value and
clamps to the maximum representable unsigned value.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_DECREMENT_AND_CLAMP</code> decrements the current value and
clamps to 0.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_INVERT</code> bitwise-inverts the current value.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_INCREMENT_AND_WRAP</code> increments the current value and
wraps to 0 when the maximum value would have been exceeded.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_DECREMENT_AND_WRAP</code> decrements the current value and
wraps to the maximum possible value when the value would go below 0.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For purposes of increment and decrement, the stencil bits are considered as
an unsigned integer.</p>
</div>
<div class="paragraph">
<p>If the stencil test fails, the sample&#8217;s coverage bit is cleared in the
fragment.
If there is no stencil framebuffer attachment, stencil modification <strong class="purple">cannot</strong>
occur, and it is as if the stencil tests always pass.</p>
</div>
<div class="paragraph">
<p>If the stencil test passes, the <code>writeMask</code> member of the
<a href="#VkStencilOpState">VkStencilOpState</a> structures controls how the updated stencil value is
written to the stencil framebuffer attachment.</p>
</div>
<div class="paragraph">
<p>The least significant <span class="eq">s</span> bits of <code>writeMask</code>, where <span class="eq">s</span> is the
number of bits in the stencil framebuffer attachment, specify an integer
mask.
Where a <span class="eq">1</span> appears in this mask, the corresponding bit in the stencil
value in the depth/stencil attachment is written; where a <span class="eq">0</span> appears,
the bit is not written.
The <code>writeMask</code> value uses either the front-facing or back-facing state
based on the facingness of the fragment.
Fragments generated by front-facing primitives use the front mask and
fragments generated by back-facing primitives use the back mask.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-depth"><a class="anchor" href="#fragops-depth"></a>25.10. Depth Test</h3>
<div class="paragraph">
<p>The depth test conditionally disables coverage of a sample based on the
outcome of a comparison between the fragment&#8217;s depth value at the sample
location and the sample&#8217;s depth value in the depth/stencil attachment at
location <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span>.
The comparison is enabled or disabled with the <code>depthTestEnable</code> member
of the <a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a> structure.
When disabled, the depth comparison and subsequent possible updates to the
value of the depth component of the depth/stencil attachment are bypassed
and the fragment is passed to the next operation.
The stencil value, however, <strong class="purple">can</strong> be modified as indicated above as if the
depth test passed.
If enabled, the comparison takes place and the depth/stencil attachment
value <strong class="purple">can</strong> subsequently be modified.</p>
</div>
<div class="paragraph">
<p>The comparison is specified with the <code>depthCompareOp</code> member of
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>.
Let <span class="eq"><code>z</code><sub>f</sub></span> be the incoming fragment&#8217;s depth value for a sample,
and let <span class="eq">z<sub>a</sub></span> be the depth/stencil attachment value in memory for that
sample.
The depth test passes under the following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMPARE_OP_NEVER</code>: the test never passes.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_LESS</code>: the test passes when <span class="eq">z<sub>f</sub> &lt; z<sub>a</sub></span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_EQUAL</code>: the test passes when <span class="eq">z<sub>f</sub> = z<sub>a</sub></span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_LESS_OR_EQUAL</code>: the test passes when <span class="eq">z<sub>f</sub> 
z<sub>a</sub></span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_GREATER</code>: the test passes when <span class="eq">z<sub>f</sub> &gt; z<sub>a</sub></span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_NOT_EQUAL</code>: the test passes when <span class="eq">z<sub>f</sub> 
z<sub>a</sub></span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_GREATER_OR_EQUAL</code>: the test passes when <span class="eq">z<sub>f</sub>
 z<sub>a</sub></span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_ALWAYS</code>: the test always passes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>depthClampEnable</code> is
enabled, before the incoming fragment&#8217;s <span class="eq"><code>z</code><sub>f</sub></span> is compared to
<span class="eq"><code>z</code><sub>a</sub></span>, <span class="eq"><code>z</code><sub>f</sub></span> is clamped to <span class="eq">[min(n,f),max(n,f)]</span>,
where <span class="eq">n</span> and <span class="eq">f</span> are the <code>minDepth</code> and <code>maxDepth</code> depth
range values of the viewport used by this fragment, respectively.</p>
</div>
<div class="paragraph">
<p>If the depth test fails, the sample&#8217;s coverage bit is cleared in the
fragment.
The stencil value at the sample&#8217;s location is updated according to the
function currently in effect for depth test failure.</p>
</div>
<div id="fragops-depth-write" class="paragraph">
<p>If the depth test passes, the sample&#8217;s (possibly clamped) <span class="eq"><code>z</code><sub>f</sub></span>
value is conditionally written to the depth framebuffer attachment based on
the <code>depthWriteEnable</code> member of
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>.
The value is written if <code>depthWriteEnable</code> is <code>VK_TRUE</code> and there is
a depth framebuffer attachment.
Otherwise, no value is written.
The stencil value at the sample&#8217;s location is updated according to the
function currently in effect for depth test success.</p>
</div>
<div class="paragraph">
<p>If there is no depth framebuffer attachment, it is as if the depth test
always passes.</p>
</div>
</div>
<div class="sect2">
<h3 id="fragops-samplecount"><a class="anchor" href="#fragops-samplecount"></a>25.11. Sample Counting</h3>
<div class="paragraph">
<p>Occlusion queries use query pool entries to track the number of samples that
pass all the per-fragment tests.
The mechanism of collecting an occlusion query value is described in
<a href="#queries-occlusion">Occlusion Queries</a>.</p>
</div>
<div class="paragraph">
<p>The occlusion query sample counter increments by one for each sample with a
coverage value of 1 in each fragment that survives all the per-fragment
tests, including scissor,
sample mask, alpha to coverage, stencil, and depth tests.</p>
</div>
</div>
<div class="sect2">
<h3 id="fragops-coverage-reduction"><a class="anchor" href="#fragops-coverage-reduction"></a>25.12. Coverage Reduction</h3>
<div class="paragraph">
<p>Coverage reduction generates a <em>color sample mask</em> from the coverage mask,
with one bit for each sample in the color attachment(s) for the subpass.
If a bit in the color sample mask is 0, then blending and writing to the
framebuffer are not performed for that sample.</p>
</div>
<div class="paragraph">
<p>When the <code>VK_NV_framebuffer_mixed_samples</code> extension is not enabled, each
color sample is associated with a unique rasterization sample, and the value
of the coverage mask is assigned to the color sample mask.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="framebuffer"><a class="anchor" href="#framebuffer"></a>26. The Framebuffer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="framebuffer-blending"><a class="anchor" href="#framebuffer-blending"></a>26.1. Blending</h3>
<div class="paragraph">
<p>Blending combines the incoming <em>source</em> fragment&#8217;s R, G, B, and A values
with the <em>destination</em> R, G, B, and A values of each sample stored in the
framebuffer at the fragment&#8217;s <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> location.
Blending is performed for each color sample covered by the fragment, rather
than just once for each fragment.</p>
</div>
<div class="paragraph">
<p>Source and destination values are combined according to the
<a href="#framebuffer-blendoperations">blend operation</a>, quadruplets of source and
destination weighting factors determined by the <a href="#framebuffer-blendfactors">blend factors</a>, and a <a href="#framebuffer-blendconstants">blend constant</a>, to
obtain a new set of R, G, B, and A values, as described below.</p>
</div>
<div class="paragraph">
<p>Blending is computed and applied separately to each color attachment used by
the subpass, with separate controls for each attachment.</p>
</div>
<div class="paragraph">
<p>Prior to performing the blend operation, signed and unsigned normalized
fixed-point color components undergo an implied conversion to floating-point
as specified by <a href="#fundamentals-fixedfpconv">Conversion from Normalized
Fixed-Point to Floating-Point</a>.
Blending computations are treated as if carried out in floating-point, and
basic blend operations are performed with a precision and dynamic range no
lower than that used to represent destination components.</p>
</div>
<div class="paragraph">
<p>Blending applies only to fixed-point and floating-point color attachments.
If the color attachment has an integer format, blending is not applied.</p>
</div>
<div class="paragraph">
<p>The pipeline blend state is included in the
<code>VkPipelineColorBlendStateCreateInfo</code> structure during graphics pipeline
creation:</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineColorBlendStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineColorBlendStateCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineColorBlendStateCreateInfo {
    VkStructureType                               sType;
    <span class="directive">const</span> <span class="directive">void</span>*                                   pNext;
    VkPipelineColorBlendStateCreateFlags          flags;
    VkBool32                                      logicOpEnable;
    VkLogicOp                                     logicOp;
    uint32_t                                      attachmentCount;
    <span class="directive">const</span> VkPipelineColorBlendAttachmentState*    pAttachments;
    <span class="predefined-type">float</span>                                         blendConstants[<span class="integer">4</span>];
} VkPipelineColorBlendStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>logicOpEnable</code> controls whether to apply <a href="#framebuffer-logicop">Logical Operations</a>.</p>
</li>
<li>
<p><code>logicOp</code> selects which logical operation to apply.</p>
</li>
<li>
<p><code>attachmentCount</code> is the number of
<code>VkPipelineColorBlendAttachmentState</code> elements in
<code>pAttachments</code>.
This value <strong class="purple">must</strong> equal the <code>colorAttachmentCount</code> for the subpass in
which this pipeline is used.</p>
</li>
<li>
<p><code>pAttachments</code>: is a pointer to an array of per target attachment
states.</p>
</li>
<li>
<p><code>blendConstants</code> is a pointer to an array of four values used as the
R, G, B, and A components of the blend constant that are used in
blending, depending on the <a href="#framebuffer-blendfactors">blend factor</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each element of the <code>pAttachments</code> array is a
<a href="#VkPipelineColorBlendAttachmentState">VkPipelineColorBlendAttachmentState</a> structure specifying per-target
blending state for each individual color attachment.
If the <a href="#features-independentBlend">independent blending</a> feature is not
enabled on the device, all <a href="#VkPipelineColorBlendAttachmentState">VkPipelineColorBlendAttachmentState</a>
elements in the <code>pAttachments</code> array <strong class="purple">must</strong> be identical.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineColorBlendStateCreateInfo-pAttachments-00605" href="#VUID-VkPipelineColorBlendStateCreateInfo-pAttachments-00605"></a>
If the <a href="#features-independentBlend">independent blending</a> feature is not
enabled, all elements of <code>pAttachments</code> <strong class="purple">must</strong> be identical</p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendStateCreateInfo-logicOpEnable-00606" href="#VUID-VkPipelineColorBlendStateCreateInfo-logicOpEnable-00606"></a>
If the <a href="#features-logicOp">logic operations</a> feature is not enabled,
<code>logicOpEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendStateCreateInfo-logicOpEnable-00607" href="#VUID-VkPipelineColorBlendStateCreateInfo-logicOpEnable-00607"></a>
If <code>logicOpEnable</code> is <code>VK_TRUE</code>, <code>logicOp</code> <strong class="purple">must</strong> be a valid
<a href="#VkLogicOp">VkLogicOp</a> value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineColorBlendStateCreateInfo-sType-sType" href="#VUID-VkPipelineColorBlendStateCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineColorBlendStateCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineColorBlendStateCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendStateCreateInfo-pAttachments-parameter" href="#VUID-VkPipelineColorBlendStateCreateInfo-pAttachments-parameter"></a> If <code>attachmentCount</code> is not <code>0</code>, <code>pAttachments</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>attachmentCount</code> valid <a href="#VkPipelineColorBlendAttachmentState">VkPipelineColorBlendAttachmentState</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineColorBlendStateCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkPipelineColorBlendStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineColorBlendStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineColorBlendAttachmentState</code> structure is defined as:</p>
</div>
<div id="VkPipelineColorBlendAttachmentState" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineColorBlendAttachmentState {
    VkBool32                 blendEnable;
    VkBlendFactor            srcColorBlendFactor;
    VkBlendFactor            dstColorBlendFactor;
    VkBlendOp                colorBlendOp;
    VkBlendFactor            srcAlphaBlendFactor;
    VkBlendFactor            dstAlphaBlendFactor;
    VkBlendOp                alphaBlendOp;
    VkColorComponentFlags    colorWriteMask;
} VkPipelineColorBlendAttachmentState;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>blendEnable</code> controls whether blending is enabled for the
corresponding color attachment.
If blending is not enabled, the source fragment&#8217;s color for that
attachment is passed through unmodified.</p>
</li>
<li>
<p><code>srcColorBlendFactor</code> selects which blend factor is used to
determine the source factors <span class="eq">(S<sub>r</sub>,S<sub>g</sub>,S<sub>b</sub>)</span>.</p>
</li>
<li>
<p><code>dstColorBlendFactor</code> selects which blend factor is used to
determine the destination factors <span class="eq">(D<sub>r</sub>,D<sub>g</sub>,D<sub>b</sub>)</span>.</p>
</li>
<li>
<p><code>colorBlendOp</code> selects which blend operation is used to calculate
the RGB values to write to the color attachment.</p>
</li>
<li>
<p><code>srcAlphaBlendFactor</code> selects which blend factor is used to
determine the source factor <span class="eq">S<sub>a</sub></span>.</p>
</li>
<li>
<p><code>dstAlphaBlendFactor</code> selects which blend factor is used to
determine the destination factor <span class="eq">D<sub>a</sub></span>.</p>
</li>
<li>
<p><code>alphaBlendOp</code> selects which blend operation is use to calculate the
alpha values to write to the color attachment.</p>
</li>
<li>
<p><code>colorWriteMask</code> is a bitmask of <a href="#VkColorComponentFlagBits">VkColorComponentFlagBits</a>
specifying which of the R, G, B, and/or A components are enabled for
writing, as described for the <a href="#framebuffer-color-write-mask">Color Write
Mask</a>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineColorBlendAttachmentState-srcColorBlendFactor-00608" href="#VUID-VkPipelineColorBlendAttachmentState-srcColorBlendFactor-00608"></a>
If the <a href="#features-dualSrcBlend">dual source blending</a> feature is not
enabled, <code>srcColorBlendFactor</code> <strong class="purple">must</strong> not be
<code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, or
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendAttachmentState-dstColorBlendFactor-00609" href="#VUID-VkPipelineColorBlendAttachmentState-dstColorBlendFactor-00609"></a>
If the <a href="#features-dualSrcBlend">dual source blending</a> feature is not
enabled, <code>dstColorBlendFactor</code> <strong class="purple">must</strong> not be
<code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, or
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendAttachmentState-srcAlphaBlendFactor-00610" href="#VUID-VkPipelineColorBlendAttachmentState-srcAlphaBlendFactor-00610"></a>
If the <a href="#features-dualSrcBlend">dual source blending</a> feature is not
enabled, <code>srcAlphaBlendFactor</code> <strong class="purple">must</strong> not be
<code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, or
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendAttachmentState-dstAlphaBlendFactor-00611" href="#VUID-VkPipelineColorBlendAttachmentState-dstAlphaBlendFactor-00611"></a>
If the <a href="#features-dualSrcBlend">dual source blending</a> feature is not
enabled, <code>dstAlphaBlendFactor</code> <strong class="purple">must</strong> not be
<code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, or
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineColorBlendAttachmentState-srcColorBlendFactor-parameter" href="#VUID-VkPipelineColorBlendAttachmentState-srcColorBlendFactor-parameter"></a> <code>srcColorBlendFactor</code> <strong class="purple">must</strong> be a valid <a href="#VkBlendFactor">VkBlendFactor</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendAttachmentState-dstColorBlendFactor-parameter" href="#VUID-VkPipelineColorBlendAttachmentState-dstColorBlendFactor-parameter"></a> <code>dstColorBlendFactor</code> <strong class="purple">must</strong> be a valid <a href="#VkBlendFactor">VkBlendFactor</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendAttachmentState-colorBlendOp-parameter" href="#VUID-VkPipelineColorBlendAttachmentState-colorBlendOp-parameter"></a> <code>colorBlendOp</code> <strong class="purple">must</strong> be a valid <a href="#VkBlendOp">VkBlendOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendAttachmentState-srcAlphaBlendFactor-parameter" href="#VUID-VkPipelineColorBlendAttachmentState-srcAlphaBlendFactor-parameter"></a> <code>srcAlphaBlendFactor</code> <strong class="purple">must</strong> be a valid <a href="#VkBlendFactor">VkBlendFactor</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendAttachmentState-dstAlphaBlendFactor-parameter" href="#VUID-VkPipelineColorBlendAttachmentState-dstAlphaBlendFactor-parameter"></a> <code>dstAlphaBlendFactor</code> <strong class="purple">must</strong> be a valid <a href="#VkBlendFactor">VkBlendFactor</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendAttachmentState-alphaBlendOp-parameter" href="#VUID-VkPipelineColorBlendAttachmentState-alphaBlendOp-parameter"></a> <code>alphaBlendOp</code> <strong class="purple">must</strong> be a valid <a href="#VkBlendOp">VkBlendOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineColorBlendAttachmentState-colorWriteMask-parameter" href="#VUID-VkPipelineColorBlendAttachmentState-colorWriteMask-parameter"></a> <code>colorWriteMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkColorComponentFlagBits">VkColorComponentFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="framebuffer-blendfactors"><a class="anchor" href="#framebuffer-blendfactors"></a>26.1.1. Blend Factors</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The source and destination color and alpha blending factors are selected
from the enum:</p>
</div>
<div id="VkBlendFactor" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkBlendFactor {
    VK_BLEND_FACTOR_ZERO = <span class="integer">0</span>,
    VK_BLEND_FACTOR_ONE = <span class="integer">1</span>,
    VK_BLEND_FACTOR_SRC_COLOR = <span class="integer">2</span>,
    VK_BLEND_FACTOR_ONE_MINUS_SRC_COLOR = <span class="integer">3</span>,
    VK_BLEND_FACTOR_DST_COLOR = <span class="integer">4</span>,
    VK_BLEND_FACTOR_ONE_MINUS_DST_COLOR = <span class="integer">5</span>,
    VK_BLEND_FACTOR_SRC_ALPHA = <span class="integer">6</span>,
    VK_BLEND_FACTOR_ONE_MINUS_SRC_ALPHA = <span class="integer">7</span>,
    VK_BLEND_FACTOR_DST_ALPHA = <span class="integer">8</span>,
    VK_BLEND_FACTOR_ONE_MINUS_DST_ALPHA = <span class="integer">9</span>,
    VK_BLEND_FACTOR_CONSTANT_COLOR = <span class="integer">10</span>,
    VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR = <span class="integer">11</span>,
    VK_BLEND_FACTOR_CONSTANT_ALPHA = <span class="integer">12</span>,
    VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA = <span class="integer">13</span>,
    VK_BLEND_FACTOR_SRC_ALPHA_SATURATE = <span class="integer">14</span>,
    VK_BLEND_FACTOR_SRC1_COLOR = <span class="integer">15</span>,
    VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR = <span class="integer">16</span>,
    VK_BLEND_FACTOR_SRC1_ALPHA = <span class="integer">17</span>,
    VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA = <span class="integer">18</span>,
    VK_BLEND_FACTOR_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkBlendFactor;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The semantics of each enum value is described in the table below:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 24. Blend Factors</caption>
<colgroup>
<col style="width: 59%;">
<col style="width: 28%;">
<col style="width: 13%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkBlendFactor">VkBlendFactor</a></th>
<th class="tableblock halign-left valign-top">RGB Blend Factors <span class="eq">(S<sub>r</sub>,S<sub>g</sub>,S<sub>b</sub>)</span> or <span class="eq">(D<sub>r</sub>,D<sub>g</sub>,D<sub>b</sub>)</span></th>
<th class="tableblock halign-left valign-top">Alpha Blend Factor (<span class="eq">S<sub>a</sub></span> or <span class="eq">D<sub>a</sub></span>)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_ZERO</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(0,0,0)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">0</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_ONE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(1,1,1)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">1</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_SRC_COLOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(R<sub>s0</sub>,G<sub>s0</sub>,B<sub>s0</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A<sub>s0</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_SRC_COLOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(1-R<sub>s0</sub>,1-G<sub>s0</sub>,1-B<sub>s0</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">1-A<sub>s0</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_DST_COLOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(R<sub>d</sub>,G<sub>d</sub>,B<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A<sub>d</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_DST_COLOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(1-R<sub>d</sub>,1-G<sub>d</sub>,1-B<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">1-A<sub>d</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_SRC_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(A<sub>s0</sub>,A<sub>s0</sub>,A<sub>s0</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A<sub>s0</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_SRC_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(1-A<sub>s0</sub>,1-A<sub>s0</sub>,1-A<sub>s0</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">1-A<sub>s0</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_DST_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(A<sub>d</sub>,A<sub>d</sub>,A<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A<sub>d</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_DST_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(1-A<sub>d</sub>,1-A<sub>d</sub>,1-A<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">1-A<sub>d</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_CONSTANT_COLOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(R<sub>c</sub>,G<sub>c</sub>,B<sub>c</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A<sub>c</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(1-R<sub>c</sub>,1-G<sub>c</sub>,1-B<sub>c</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">1-A<sub>c</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_CONSTANT_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(A<sub>c</sub>,A<sub>c</sub>,A<sub>c</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A<sub>c</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(1-A<sub>c</sub>,1-A<sub>c</sub>,1-A<sub>c</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">1-A<sub>c</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_SRC_ALPHA_SATURATE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(f,f,f)</span>; <span class="eq">f = min(A<sub>s0</sub>,1-A<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">1</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_SRC1_COLOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(R<sub>s1</sub>,G<sub>s1</sub>,B<sub>s1</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A<sub>s1</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(1-R<sub>s1</sub>,1-G<sub>s1</sub>,1-B<sub>s1</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">1-A<sub>s1</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_SRC1_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(A<sub>s1</sub>,A<sub>s1</sub>,A<sub>s1</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A<sub>s1</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(1-A<sub>s1</sub>,1-A<sub>s1</sub>,1-A<sub>s1</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">1-A<sub>s1</sub></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In this table, the following conventions are used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">R<sub>s0</sub>,G<sub>s0</sub>,B<sub>s0</sub></span> and <span class="eq">A<sub>s0</sub></span> represent the first source color
R, G, B, and A components, respectively, for the fragment output
location corresponding to the color attachment being blended.</p>
</li>
<li>
<p><span class="eq">R<sub>s1</sub>,G<sub>s1</sub>,B<sub>s1</sub></span> and <span class="eq">A<sub>s1</sub></span> represent the second source
color R, G, B, and A components, respectively, used in dual source
blending modes, for the fragment output location corresponding to the
color attachment being blended.</p>
</li>
<li>
<p><span class="eq">R<sub>d</sub>,G<sub>d</sub>,B<sub>d</sub></span> and <span class="eq">A<sub>d</sub></span> represent the R, G, B, and A
components of the destination color.
That is, the color currently in the corresponding color attachment for
this fragment/sample.</p>
</li>
<li>
<p><span class="eq">R<sub>c</sub>,G<sub>c</sub>,B<sub>c</sub></span> and <span class="eq">A<sub>c</sub></span> represent the blend constant R, G,
B, and A components, respectively.</p>
</li>
</ul>
</div>
</div>
</div>
<div id="framebuffer-blendconstants" class="paragraph">
<p>If the pipeline state object is created without the
<code>VK_DYNAMIC_STATE_BLEND_CONSTANTS</code> dynamic state enabled then the <em>blend
constant</em> <span class="eq">(R<sub>c</sub>,G<sub>c</sub>,B<sub>c</sub>,A<sub>c</sub>)</span> is specified via the
<code>blendConstants</code> member of <a href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Otherwise, to dynamically set and change the blend constant, call:</p>
</div>
<div id="vkCmdSetBlendConstants" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdSetBlendConstants(
    VkCommandBuffer                             commandBuffer,
    <span class="directive">const</span> <span class="predefined-type">float</span>                                 blendConstants[<span class="integer">4</span>]);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>blendConstants</code> is a pointer to an array of four values specifying
the R, G, B, and A components of the blend constant color used in
blending, depending on the <a href="#framebuffer-blendfactors">blend factor</a>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetBlendConstants-commandBuffer-parameter" href="#VUID-vkCmdSetBlendConstants-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetBlendConstants-commandBuffer-recording" href="#VUID-vkCmdSetBlendConstants-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetBlendConstants-commandBuffer-cmdpool" href="#VUID-vkCmdSetBlendConstants-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="framebuffer-dsb"><a class="anchor" href="#framebuffer-dsb"></a>26.1.2. Dual-Source Blending</h4>
<div class="paragraph">
<p>Blend factors that use the secondary color input
<span class="eq">(R<sub>s1</sub>,G<sub>s1</sub>,B<sub>s1</sub>,A<sub>s1</sub>)</span> (<code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, and
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code>) <strong class="purple">may</strong> consume implementation
resources that could otherwise be used for rendering to multiple color
attachments.
Therefore, the number of color attachments that <strong class="purple">can</strong> be used in a
framebuffer <strong class="purple">may</strong> be lower when using dual-source blending.</p>
</div>
<div class="paragraph">
<p>Dual-source blending is only supported if the
<a href="#features-dualSrcBlend"><code>dualSrcBlend</code></a> feature is enabled.</p>
</div>
<div class="paragraph">
<p>The maximum number of color attachments that <strong class="purple">can</strong> be used in a subpass when
using dual-source blending functions is implementation-dependent and is
reported as the <code>maxFragmentDualSrcAttachments</code> member of
<code>VkPhysicalDeviceLimits</code>.</p>
</div>
<div class="paragraph">
<p>When using a fragment shader with dual-source blending functions, the color
outputs are bound to the first and second inputs of the blender using the
<code>Index</code> decoration, as described in <a href="#interfaces-fragmentoutput">Fragment
Output Interface</a>.
If the second color input to the blender is not written in the shader, or if
no output is bound to the second input of a blender, the result of the
blending operation is not defined.</p>
</div>
</div>
<div class="sect3">
<h4 id="framebuffer-blendoperations"><a class="anchor" href="#framebuffer-blendoperations"></a>26.1.3. Blend Operations</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once the source and destination blend factors have been selected, they along
with the source and destination components are passed to the blending
operations.
RGB and alpha components <strong class="purple">can</strong> use different operations.
Possible values of <a href="#VkBlendOp">VkBlendOp</a>, specifying the operations, are:</p>
</div>
<div id="VkBlendOp" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkBlendOp {
    VK_BLEND_OP_ADD = <span class="integer">0</span>,
    VK_BLEND_OP_SUBTRACT = <span class="integer">1</span>,
    VK_BLEND_OP_REVERSE_SUBTRACT = <span class="integer">2</span>,
    VK_BLEND_OP_MIN = <span class="integer">3</span>,
    VK_BLEND_OP_MAX = <span class="integer">4</span>,
    VK_BLEND_OP_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkBlendOp;</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>The semantics of each basic blend operations is described in the table
below:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 25. Basic Blend Operations</caption>
<colgroup>
<col style="width: 45%;">
<col style="width: 30%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkBlendOp">VkBlendOp</a></th>
<th class="tableblock halign-left valign-top">RGB Components</th>
<th class="tableblock halign-left valign-top">Alpha Component</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_OP_ADD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">R = R<sub>s0</sub>  S<sub>r</sub> +  R<sub>d</sub>  D<sub>r</sub></span><br>
  <span class="eq">G = G<sub>s0</sub>  S<sub>g</sub> +  G<sub>d</sub>  D<sub>g</sub></span><br>
  <span class="eq">B = B<sub>s0</sub>  S<sub>b</sub> +  B<sub>d</sub>  D<sub>b</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A = A<sub>s0</sub>  S<sub>a</sub> +  A<sub>d</sub>  D<sub>a</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_OP_SUBTRACT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">R = R<sub>s0</sub>  S<sub>r</sub> - R<sub>d</sub>  D<sub>r</sub></span><br>
  <span class="eq">G = G<sub>s0</sub>  S<sub>g</sub> - G<sub>d</sub>  D<sub>g</sub></span><br>
  <span class="eq">B = B<sub>s0</sub>  S<sub>b</sub> - B<sub>d</sub>  D<sub>b</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A = A<sub>s0</sub>  S<sub>a</sub> - A<sub>d</sub>  D<sub>a</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_OP_REVERSE_SUBTRACT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">R = R<sub>d</sub>  D<sub>r</sub> - R<sub>s0</sub>  S<sub>r</sub></span><br>
  <span class="eq">G = G<sub>d</sub>  D<sub>g</sub> - G<sub>s0</sub>  S<sub>g</sub></span><br>
  <span class="eq">B = B<sub>d</sub>  D<sub>b</sub> - B<sub>s0</sub>  S<sub>b</sub></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A = A<sub>d</sub>  D<sub>a</sub> - A<sub>s0</sub>  S<sub>a</sub></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_OP_MIN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">R = min(R<sub>s0</sub>,R<sub>d</sub>)</span><br>
  <span class="eq">G = min(G<sub>s0</sub>,G<sub>d</sub>)</span><br>
  <span class="eq">B = min(B<sub>s0</sub>,B<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A = min(A<sub>s0</sub>,A<sub>d</sub>)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_BLEND_OP_MAX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">R = max(R<sub>s0</sub>,R<sub>d</sub>)</span><br>
  <span class="eq">G = max(G<sub>s0</sub>,G<sub>d</sub>)</span><br>
  <span class="eq">B = max(B<sub>s0</sub>,B<sub>d</sub>)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">A = max(A<sub>s0</sub>,A<sub>d</sub>)</span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In this table, the following conventions are used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">R<sub>s0</sub>, G<sub>s0</sub>, B<sub>s0</sub></span> and <span class="eq">A<sub>s0</sub></span> represent the first source
color R, G, B, and A components, respectively.</p>
</li>
<li>
<p><span class="eq">R<sub>d</sub>, G<sub>d</sub>, B<sub>d</sub></span> and <span class="eq">A<sub>d</sub></span> represent the R, G, B, and A
components of the destination color.
That is, the color currently in the corresponding color attachment for
this fragment/sample.</p>
</li>
<li>
<p><span class="eq">S<sub>r</sub>, S<sub>g</sub>, S<sub>b</sub></span> and <span class="eq">S<sub>a</sub></span> represent the source blend factor
R, G, B, and A components, respectively.</p>
</li>
<li>
<p><span class="eq">D<sub>r</sub>, D<sub>g</sub>, D<sub>b</sub></span> and <span class="eq">D<sub>a</sub></span> represent the destination blend
factor R, G, B, and A components, respectively.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The blending operation produces a new set of values <span class="eq">R, G, B</span> and
<span class="eq">A</span>, which are written to the framebuffer attachment.
If blending is not enabled for this attachment, then <span class="eq">R, G, B</span> and
<span class="eq">A</span> are assigned <span class="eq">R<sub>s0</sub>, G<sub>s0</sub>, B<sub>s0</sub></span> and <span class="eq">A<sub>s0</sub></span>,
respectively.</p>
</div>
<div class="paragraph">
<p>If the color attachment is fixed-point, the components of the source and
destination values and blend factors are each clamped to <span class="eq">[0,1]</span> or
<span class="eq">[-1,1]</span> respectively for an unsigned normalized or signed normalized
color attachment prior to evaluating the blend operations.
If the color attachment is floating-point, no clamping occurs.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>If the numeric format of a framebuffer attachment uses sRGB encoding, the R,
G, and B destination color values (after conversion from fixed-point to
floating-point) are considered to be encoded for the sRGB color space and
hence are linearized prior to their use in blending.
Each R, G, and B component is converted from nonlinear to linear as
described in the &#8220;sRGB EOTF&#8221; section of the <a href="#data-format">Khronos Data
Format Specification</a>.
If the format is not sRGB, no linearization is performed.</p>
</div>
<div class="paragraph">
<p>If the numeric format of a framebuffer attachment uses sRGB encoding, then
the final R, G and B values are converted into the nonlinear sRGB
representation before being written to the framebuffer attachment as
described in the &#8220;sRGB EOTF<sup>&#160;-1</sup>&#8221; section of the Khronos Data Format
Specification.</p>
</div>
<div class="paragraph">
<p>If the framebuffer color attachment numeric format is not sRGB encoded then
the resulting <span class="eq">c<sub>s</sub></span> values for R, G and B are unmodified.
The value of A is never sRGB encoded.
That is, the alpha component is always stored in memory as linear.</p>
</div>
<div class="paragraph">
<p>If the framebuffer color attachment is <code>VK_ATTACHMENT_UNUSED</code>, no writes
are performed through that attachment.
Framebuffer color attachments greater than or equal to
<code>VkSubpassDescription</code>::<code>colorAttachmentCount</code> perform no writes.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="framebuffer-logicop"><a class="anchor" href="#framebuffer-logicop"></a>26.2. Logical Operations</h3>
<div class="paragraph">
<p>The application <strong class="purple">can</strong> enable a <em>logical operation</em> between the fragment&#8217;s
color values and the existing value in the framebuffer attachment.
This logical operation is applied prior to updating the framebuffer
attachment.
Logical operations are applied only for signed and unsigned integer and
normalized integer framebuffers.
Logical operations are not applied to floating-point or sRGB format color
attachments.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Logical operations are controlled by the <code>logicOpEnable</code> and
<code>logicOp</code> members of <a href="#VkPipelineColorBlendStateCreateInfo">VkPipelineColorBlendStateCreateInfo</a>.
If <code>logicOpEnable</code> is <code>VK_TRUE</code>, then a logical operation selected
by <code>logicOp</code> is applied between each color attachment and the fragment&#8217;s
corresponding output value, and blending of all attachments is treated as if
it were disabled.
Any attachments using color formats for which logical operations are not
supported simply pass through the color values unmodified.
The logical operation is applied independently for each of the red, green,
blue, and alpha components.
The <code>logicOp</code> is selected from the following operations:</p>
</div>
<div id="VkLogicOp" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkLogicOp {
    VK_LOGIC_OP_CLEAR = <span class="integer">0</span>,
    VK_LOGIC_OP_AND = <span class="integer">1</span>,
    VK_LOGIC_OP_AND_REVERSE = <span class="integer">2</span>,
    VK_LOGIC_OP_COPY = <span class="integer">3</span>,
    VK_LOGIC_OP_AND_INVERTED = <span class="integer">4</span>,
    VK_LOGIC_OP_NO_OP = <span class="integer">5</span>,
    VK_LOGIC_OP_XOR = <span class="integer">6</span>,
    VK_LOGIC_OP_OR = <span class="integer">7</span>,
    VK_LOGIC_OP_NOR = <span class="integer">8</span>,
    VK_LOGIC_OP_EQUIVALENT = <span class="integer">9</span>,
    VK_LOGIC_OP_INVERT = <span class="integer">10</span>,
    VK_LOGIC_OP_OR_REVERSE = <span class="integer">11</span>,
    VK_LOGIC_OP_COPY_INVERTED = <span class="integer">12</span>,
    VK_LOGIC_OP_OR_INVERTED = <span class="integer">13</span>,
    VK_LOGIC_OP_NAND = <span class="integer">14</span>,
    VK_LOGIC_OP_SET = <span class="integer">15</span>,
    VK_LOGIC_OP_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkLogicOp;</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>The logical operations supported by Vulkan are summarized in the following
table in which</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">測</span> is bitwise invert,</p>
</li>
<li>
<p><span class="eq"></span> is bitwise and,</p>
</li>
<li>
<p><span class="eq"></span> is bitwise or,</p>
</li>
<li>
<p><span class="eq"></span> is bitwise exclusive or,</p>
</li>
<li>
<p><span class="eq">s</span> is the fragment&#8217;s <span class="eq">R<sub>s0</sub>, G<sub>s0</sub>, B<sub>s0</sub></span> or <span class="eq">A<sub>s0</sub></span>
component value for the fragment output corresponding to the color
attachment being updated, and</p>
</li>
<li>
<p><span class="eq">d</span> is the color attachment&#8217;s <span class="eq">R, G, B</span> or <span class="eq">A</span> component
value:</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all" style="width: 75%;">
<caption class="title">Table 26. Logical Operations</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Mode</th>
<th class="tableblock halign-left valign-top">Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_CLEAR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">0</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_AND</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">s  d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_AND_REVERSE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">s  測 d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_COPY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">s</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_AND_INVERTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">測 s  d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_NO_OP</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_XOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">s  d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_OR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">s  d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_NOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">測 (s  d)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_EQUIVALENT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">測 (s  d)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_INVERT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">測 d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_OR_REVERSE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">s  測 d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_COPY_INVERTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">測 s</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_OR_INVERTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">測 s  d</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_NAND</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">測 (s  d)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_LOGIC_OP_SET</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all 1s</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The result of the logical operation is then written to the color attachment
as controlled by the component write mask, described in
<a href="#framebuffer-blendoperations">Blend Operations</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="framebuffer-color-write-mask"><a class="anchor" href="#framebuffer-color-write-mask"></a>26.3. Color Write Mask</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in
<a href="#VkPipelineColorBlendAttachmentState">VkPipelineColorBlendAttachmentState</a>::<code>colorWriteMask</code> to determine
whether the final color values <span class="eq">R, G, B</span> and <span class="eq">A</span> are written to the
framebuffer attachment are:</p>
</div>
<div id="VkColorComponentFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkColorComponentFlagBits {
    VK_COLOR_COMPONENT_R_BIT = <span class="hex">0x00000001</span>,
    VK_COLOR_COMPONENT_G_BIT = <span class="hex">0x00000002</span>,
    VK_COLOR_COMPONENT_B_BIT = <span class="hex">0x00000004</span>,
    VK_COLOR_COMPONENT_A_BIT = <span class="hex">0x00000008</span>,
    VK_COLOR_COMPONENT_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkColorComponentFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COLOR_COMPONENT_R_BIT</code> specifies that the <span class="eq">R</span> value is
written to the color attachment for the appropriate sample.
Otherwise, the value in memory is unmodified.</p>
</li>
<li>
<p><code>VK_COLOR_COMPONENT_G_BIT</code> specifies that the <span class="eq">G</span> value is
written to the color attachment for the appropriate sample.
Otherwise, the value in memory is unmodified.</p>
</li>
<li>
<p><code>VK_COLOR_COMPONENT_B_BIT</code> specifies that the <span class="eq">B</span> value is
written to the color attachment for the appropriate sample.
Otherwise, the value in memory is unmodified.</p>
</li>
<li>
<p><code>VK_COLOR_COMPONENT_A_BIT</code> specifies that the <span class="eq">A</span> value is
written to the color attachment for the appropriate sample.
Otherwise, the value in memory is unmodified.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The color write mask operation is applied regardless of whether blending is
enabled.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkColorComponentFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkColorComponentFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkColorComponentFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkColorComponentFlagBits">VkColorComponentFlagBits</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dispatch"><a class="anchor" href="#dispatch"></a>27. Dispatching Commands</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Dispatching commands</em> (commands with <code>Dispatch</code> in the name) provoke
work in a compute pipeline.
Dispatching commands are recorded into a command buffer and when executed by
a queue, will produce work which executes according to the bound compute
pipeline.
A compute pipeline <strong class="purple">must</strong> be bound to a command buffer before any dispatch
commands are recorded in that command buffer.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record a dispatch, call:</p>
</div>
<div id="vkCmdDispatch" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdDispatch(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    groupCountX,
    uint32_t                                    groupCountY,
    uint32_t                                    groupCountZ);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>groupCountX</code> is the number of local workgroups to dispatch in the X
dimension.</p>
</li>
<li>
<p><code>groupCountY</code> is the number of local workgroups to dispatch in the Y
dimension.</p>
</li>
<li>
<p><code>groupCountZ</code> is the number of local workgroups to dispatch in the Z
dimension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the command is executed, a global workgroup consisting of
<span class="eq"><code>groupCountX</code>  <code>groupCountY</code>  <code>groupCountZ</code></span>
local workgroups is assembled.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatch-None-02690" href="#VUID-vkCmdDispatch-None-02690"></a>
If a <code>VkImageView</code> is sampled with <code>VK_FILTER_LINEAR</code> as a
result of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02691" href="#VUID-vkCmdDispatch-None-02691"></a>
If a <code>VkImageView</code> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02697" href="#VUID-vkCmdDispatch-None-02697"></a>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code> bound
to the pipeline bind point used by this command, a descriptor set <strong class="purple">must</strong>
have been bound to <em>n</em> at the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for set <em>n</em>, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02698" href="#VUID-vkCmdDispatch-None-02698"></a>
For each push constant that is statically used by the <code>VkPipeline</code>
bound to the pipeline bind point used by this command, a push constant
value <strong class="purple">must</strong> have been set for the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for push constants, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02699" href="#VUID-vkCmdDispatch-None-02699"></a>
Descriptors in each bound descriptor set, specified via
<code>vkCmdBindDescriptorSets</code>, <strong class="purple">must</strong> be valid if they are statically
used by the <code>VkPipeline</code> bound to the pipeline bind point used by
this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02700" href="#VUID-vkCmdDispatch-None-02700"></a>
A valid pipeline <strong class="purple">must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-02701" href="#VUID-vkCmdDispatch-commandBuffer-02701"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command requires any dynamic state, that state <strong class="purple">must</strong> have been set
for <code>commandBuffer</code>, and done so after any previously bound pipeline
with the corresponding state not specified as dynamic</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02859" href="#VUID-vkCmdDispatch-None-02859"></a>
There <strong class="purple">must</strong> not have been any calls to dynamic state setting commands
for any state not specified as dynamic in the <code>VkPipeline</code> object
bound to the pipeline bind point used by this command, since that
pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02702" href="#VUID-vkCmdDispatch-None-02702"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used to sample from any
<code>VkImage</code> with a <code>VkImageView</code> of the type
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>,
<code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02703" href="#VUID-vkCmdDispatch-None-02703"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name, in any shader
stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02704" href="#VUID-vkCmdDispatch-None-02704"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02705" href="#VUID-vkCmdDispatch-None-02705"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a uniform buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-None-02706" href="#VUID-vkCmdDispatch-None-02706"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a storage buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-groupCountX-00386" href="#VUID-vkCmdDispatch-groupCountX-00386"></a>
<code>groupCountX</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-groupCountY-00387" href="#VUID-vkCmdDispatch-groupCountY-00387"></a>
<code>groupCountY</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1]</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-groupCountZ-00388" href="#VUID-vkCmdDispatch-groupCountZ-00388"></a>
<code>groupCountZ</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-parameter" href="#VUID-vkCmdDispatch-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-recording" href="#VUID-vkCmdDispatch-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-commandBuffer-cmdpool" href="#VUID-vkCmdDispatch-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatch-renderpass" href="#VUID-vkCmdDispatch-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To record an indirect command dispatch, call:</p>
</div>
<div id="vkCmdDispatchIndirect" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkCmdDispatchIndirect(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>buffer</code> is the buffer containing dispatch parameters.</p>
</li>
<li>
<p><code>offset</code> is the byte offset into <code>buffer</code> where parameters
begin.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdDispatchIndirect</code> behaves similarly to <a href="#vkCmdDispatch">vkCmdDispatch</a> except
that the parameters are read by the device from a buffer during execution.
The parameters of the dispatch are encoded in a
<a href="#VkDispatchIndirectCommand">VkDispatchIndirectCommand</a> structure taken from <code>buffer</code> starting
at <code>offset</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02690" href="#VUID-vkCmdDispatchIndirect-None-02690"></a>
If a <code>VkImageView</code> is sampled with <code>VK_FILTER_LINEAR</code> as a
result of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02691" href="#VUID-vkCmdDispatchIndirect-None-02691"></a>
If a <code>VkImageView</code> is accessed using atomic operations as a result
of this command, then the image view&#8217;s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02697" href="#VUID-vkCmdDispatchIndirect-None-02697"></a>
For each set <em>n</em> that is statically used by the <code>VkPipeline</code> bound
to the pipeline bind point used by this command, a descriptor set <strong class="purple">must</strong>
have been bound to <em>n</em> at the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for set <em>n</em>, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02698" href="#VUID-vkCmdDispatchIndirect-None-02698"></a>
For each push constant that is statically used by the <code>VkPipeline</code>
bound to the pipeline bind point used by this command, a push constant
value <strong class="purple">must</strong> have been set for the same pipeline bind point, with a
<code>VkPipelineLayout</code> that is compatible for push constants, with the
<code>VkPipelineLayout</code> used to create the current <code>VkPipeline</code>, as
described in <a href="#descriptorsets-compatibility">Pipeline Layout Compatibility</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02699" href="#VUID-vkCmdDispatchIndirect-None-02699"></a>
Descriptors in each bound descriptor set, specified via
<code>vkCmdBindDescriptorSets</code>, <strong class="purple">must</strong> be valid if they are statically
used by the <code>VkPipeline</code> bound to the pipeline bind point used by
this command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02700" href="#VUID-vkCmdDispatchIndirect-None-02700"></a>
A valid pipeline <strong class="purple">must</strong> be bound to the pipeline bind point used by this
command</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-02701" href="#VUID-vkCmdDispatchIndirect-commandBuffer-02701"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command requires any dynamic state, that state <strong class="purple">must</strong> have been set
for <code>commandBuffer</code>, and done so after any previously bound pipeline
with the corresponding state not specified as dynamic</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02859" href="#VUID-vkCmdDispatchIndirect-None-02859"></a>
There <strong class="purple">must</strong> not have been any calls to dynamic state setting commands
for any state not specified as dynamic in the <code>VkPipeline</code> object
bound to the pipeline bind point used by this command, since that
pipeline was bound</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02702" href="#VUID-vkCmdDispatchIndirect-None-02702"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used to sample from any
<code>VkImage</code> with a <code>VkImageView</code> of the type
<code>VK_IMAGE_VIEW_TYPE_3D</code>, <code>VK_IMAGE_VIEW_TYPE_CUBE</code>,
<code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code>, <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code> or
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02703" href="#VUID-vkCmdDispatchIndirect-None-02703"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions with
<code>ImplicitLod</code>, <code>Dref</code> or <code>Proj</code> in their name, in any shader
stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02704" href="#VUID-vkCmdDispatchIndirect-None-02704"></a>
If the <code>VkPipeline</code> object bound to the pipeline bind point used by
this command accesses a <code>VkSampler</code> object that uses unnormalized
coordinates, that sampler <strong class="purple">must</strong> not be used with any of the SPIR-V
<code>OpImageSample*</code> or <code>OpImageSparseSample*</code> instructions that includes a
LOD bias or any offset values, in any shader stage</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02705" href="#VUID-vkCmdDispatchIndirect-None-02705"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a uniform buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-None-02706" href="#VUID-vkCmdDispatchIndirect-None-02706"></a>
If the <a href="#features-robustBufferAccess">robust buffer access</a> feature is
not enabled, and if the <code>VkPipeline</code> object bound to the pipeline
bind point used by this command accesses a storage buffer, it <strong class="purple">must</strong> not
access values outside of the range of the buffer as specified in the
descriptor set bound to the same pipeline bind point</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-buffer-02708" href="#VUID-vkCmdDispatchIndirect-buffer-02708"></a>
If <code>buffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-buffer-02709" href="#VUID-vkCmdDispatchIndirect-buffer-02709"></a>
<code>buffer</code> <strong class="purple">must</strong> have been created with the
<code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> bit set</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-offset-02710" href="#VUID-vkCmdDispatchIndirect-offset-02710"></a>
<code>offset</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-offset-00407" href="#VUID-vkCmdDispatchIndirect-offset-00407"></a>
The sum of <code>offset</code> and the size of <code>VkDispatchIndirectCommand</code>
<strong class="purple">must</strong> be less than or equal to the size of <code>buffer</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-parameter" href="#VUID-vkCmdDispatchIndirect-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-buffer-parameter" href="#VUID-vkCmdDispatchIndirect-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-recording" href="#VUID-vkCmdDispatchIndirect-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commandBuffer-cmdpool" href="#VUID-vkCmdDispatchIndirect-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-renderpass" href="#VUID-vkCmdDispatchIndirect-renderpass"></a> This command <strong class="purple">must</strong> only be called outside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdDispatchIndirect-commonparent" href="#VUID-vkCmdDispatchIndirect-commonparent"></a> Both of <code>buffer</code>, and <code>commandBuffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDispatchIndirectCommand</code> structure is defined as:</p>
</div>
<div id="VkDispatchIndirectCommand" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkDispatchIndirectCommand {
    uint32_t    x;
    uint32_t    y;
    uint32_t    z;
} VkDispatchIndirectCommand;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> is the number of local workgroups to dispatch in the X
dimension.</p>
</li>
<li>
<p><code>y</code> is the number of local workgroups to dispatch in the Y
dimension.</p>
</li>
<li>
<p><code>z</code> is the number of local workgroups to dispatch in the Z
dimension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkDispatchIndirectCommand</code> have the same meaning as the
corresponding parameters of <a href="#vkCmdDispatch">vkCmdDispatch</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDispatchIndirectCommand-x-00417" href="#VUID-VkDispatchIndirectCommand-x-00417"></a>
<code>x</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkDispatchIndirectCommand-y-00418" href="#VUID-VkDispatchIndirectCommand-y-00418"></a>
<code>y</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkDispatchIndirectCommand-z-00419" href="#VUID-VkDispatchIndirectCommand-z-00419"></a>
<code>z</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxComputeWorkGroupCount</code>[2]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sparsememory"><a class="anchor" href="#sparsememory"></a>28. Sparse Resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As documented in <a href="#resources-association">Resource Memory Association</a>,
<code>VkBuffer</code> and <code>VkImage</code> resources in Vulkan <strong class="purple">must</strong> be bound
completely and contiguously to a single <code>VkDeviceMemory</code> object.
This binding <strong class="purple">must</strong> be done before the resource is used, and the binding is
immutable for the lifetime of the resource.</p>
</div>
<div class="paragraph">
<p><em>Sparse resources</em> relax these restrictions and provide these additional
features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sparse resources <strong class="purple">can</strong> be bound non-contiguously to one or more
<code>VkDeviceMemory</code> allocations.</p>
</li>
<li>
<p>Sparse resources <strong class="purple">can</strong> be re-bound to different memory allocations over
the lifetime of the resource.</p>
</li>
<li>
<p>Sparse resources <strong class="purple">can</strong> have descriptors generated and used orthogonally
with memory binding commands.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="sparsememory-sparseresourcefeatures"><a class="anchor" href="#sparsememory-sparseresourcefeatures"></a>28.1. Sparse Resource Features</h3>
<div class="paragraph">
<p>Sparse resources have several features that <strong class="purple">must</strong> be enabled explicitly at
resource creation time.
The features are enabled by including bits in the <code>flags</code> parameter of
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> or <a href="#VkBufferCreateInfo">VkBufferCreateInfo</a>.
Each feature also has one or more corresponding feature enables specified in
<a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#features-sparseBinding">Sparse binding</a> is the base feature, and
provides the following capabilities:</p>
<div class="ulist">
<ul>
<li>
<p>Resources <strong class="purple">can</strong> be bound at some defined (sparse block) granularity.</p>
</li>
<li>
<p>The entire resource <strong class="purple">must</strong> be bound to memory before use regardless of
regions actually accessed.</p>
</li>
<li>
<p>No specific mapping of image region to memory offset is defined, i.e.
the location that each texel corresponds to in memory is
implementation-dependent.</p>
</li>
<li>
<p>Sparse buffers have a well-defined mapping of buffer range to memory
range, where an offset into a range of the buffer that is bound to a
single contiguous range of memory corresponds to an identical offset
within that range of memory.</p>
</li>
<li>
<p>Requested via the <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> and
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> bits.</p>
</li>
<li>
<p>A sparse image created using <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>
(but not <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>) supports all
formats that non-sparse usage supports, and supports both
<code>VK_IMAGE_TILING_OPTIMAL</code> and <code>VK_IMAGE_TILING_LINEAR</code> tiling.</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>Sparse Residency</em> builds on (and requires) the <code>sparseBinding</code>
feature.
It includes the following capabilities:</p>
<div class="ulist">
<ul>
<li>
<p>Resources do not have to be completely bound to memory before use on
the device.</p>
</li>
<li>
<p>Images have a prescribed sparse image block layout, allowing specific
rectangular regions of the image to be bound to specific offsets in
memory allocations.</p>
</li>
<li>
<p>Consistency of access to unbound regions of the resource is defined by
the absence or presence of
<code>VkPhysicalDeviceSparseProperties</code>::<code>residencyNonResidentStrict</code>.
If this property is present, accesses to unbound regions of the
resource are well defined and behave as if the data bound is populated
with all zeros; writes are discarded.
When this property is absent, accesses are considered safe, but reads
will return undefined values.</p>
</li>
<li>
<p>Requested via the <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> and
<code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> bits.</p>
</li>
<li>
<p><a id="features-sparseResidency"></a> Sparse residency support is advertised on
a finer grain via the following features:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#features-sparseResidencyBuffer"><code>sparseResidencyBuffer</code></a>:
Support for creating <code>VkBuffer</code> objects with the
<code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><a href="#features-sparseResidencyImage2D"><code>sparseResidencyImage2D</code></a>:
Support for creating 2D single-sampled <code>VkImage</code> objects with
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><a href="#features-sparseResidencyImage3D"><code>sparseResidencyImage3D</code></a>:
Support for creating 3D <code>VkImage</code> objects with
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><a href="#features-sparseResidency2Samples"><code>sparseResidency2Samples</code></a>:
Support for creating 2D <code>VkImage</code> objects with 2 samples and
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><a href="#features-sparseResidency4Samples"><code>sparseResidency4Samples</code></a>:
Support for creating 2D <code>VkImage</code> objects with 4 samples and
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><a href="#features-sparseResidency8Samples"><code>sparseResidency8Samples</code></a>:
Support for creating 2D <code>VkImage</code> objects with 8 samples and
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><a href="#features-sparseResidency16Samples"><code>sparseResidency16Samples</code></a>:
Support for creating 2D <code>VkImage</code> objects with 16 samples and
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Implementations supporting <code>sparseResidencyImage2D</code> are only <strong class="purple">required</strong>
to support sparse 2D, single-sampled images.
Support for sparse 3D and MSAA images is <strong class="purple">optional</strong> and <strong class="purple">can</strong> be enabled via
<code>sparseResidencyImage3D</code>, <code>sparseResidency2Samples</code>,
<code>sparseResidency4Samples</code>, <code>sparseResidency8Samples</code>, and
<code>sparseResidency16Samples</code>.</p>
</div>
</li>
<li>
<p>A sparse image created using <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
supports all non-compressed color formats with power-of-two element
size that non-sparse usage supports.
Additional formats <strong class="purple">may</strong> also be supported and <strong class="purple">can</strong> be queried via
<a href="#vkGetPhysicalDeviceSparseImageFormatProperties">vkGetPhysicalDeviceSparseImageFormatProperties</a>.
<code>VK_IMAGE_TILING_LINEAR</code> tiling is not supported.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#features-sparseResidencyAliased">Sparse aliasing</a> provides the
following capability that <strong class="purple">can</strong> be enabled per resource:</p>
<div class="paragraph">
<p>Allows physical memory ranges to be shared between multiple locations in the
same sparse resource or between multiple sparse resources, with each binding
of a memory location observing a consistent interpretation of the memory
contents.</p>
</div>
<div class="paragraph">
<p>See <a href="#sparsememory-sparse-memory-aliasing">Sparse Memory Aliasing</a> for more
information.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sparsememory-fully-resident"><a class="anchor" href="#sparsememory-fully-resident"></a>28.2. Sparse Buffers and Fully-Resident Images</h3>
<div class="paragraph">
<p>Both <code>VkBuffer</code> and <code>VkImage</code> objects created with the
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> or
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> bits <strong class="purple">can</strong> be thought of as a
linear region of address space.
In the <code>VkImage</code> case if <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> is
not used, this linear region is entirely opaque, meaning that there is no
application-visible mapping between texel location and memory offset.</p>
</div>
<div class="paragraph">
<p>Unless <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> or
<code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> are also used, the entire
resource <strong class="purple">must</strong> be bound to one or more <code>VkDeviceMemory</code> objects before
use.</p>
</div>
<div class="sect3">
<h4 id="_sparse_buffer_and_fully_resident_image_block_size"><a class="anchor" href="#_sparse_buffer_and_fully_resident_image_block_size"></a>28.2.1. Sparse Buffer and Fully-Resident Image Block Size</h4>
<div class="paragraph">
<p>The sparse block size in bytes for sparse buffers and fully-resident images
is reported as <code>VkMemoryRequirements</code>::<code>alignment</code>.
<code>alignment</code> represents both the memory alignment requirement and the
binding granularity (in bytes) for sparse resources.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sparsememory-partially-resident-buffers"><a class="anchor" href="#sparsememory-partially-resident-buffers"></a>28.3. Sparse Partially-Resident Buffers</h3>
<div class="paragraph">
<p><code>VkBuffer</code> objects created with the
<code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> bit allow the buffer to be made
only partially resident.
Partially resident <code>VkBuffer</code> objects are allocated and bound
identically to <code>VkBuffer</code> objects using only the
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> feature.
The only difference is the ability for some regions of the buffer to be
unbound during device use.</p>
</div>
</div>
<div class="sect2">
<h3 id="sparsememory-partially-resident-images"><a class="anchor" href="#sparsememory-partially-resident-images"></a>28.4. Sparse Partially-Resident Images</h3>
<div class="paragraph">
<p><code>VkImage</code> objects created with the
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> bit allow specific rectangular
regions of the image called sparse image blocks to be bound to specific
ranges of memory.
This allows the application to manage residency at either image subresource
or sparse image block granularity.
Each image subresource (outside of the <a href="#sparsememory-miptail">mip tail</a>)
starts on a sparse block boundary and has dimensions that are integer
multiples of the corresponding dimensions of the sparse image block.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Applications <strong class="purple">can</strong> use these types of images to control LOD based on total
memory consumption.
If memory pressure becomes an issue the application <strong class="purple">can</strong> unbind and disable
specific mipmap levels of images without having to recreate resources or
modify texel data of unaffected levels.</p>
</div>
<div class="paragraph">
<p>The application <strong class="purple">can</strong> also use this functionality to access subregions of the
image in a &#8220;megatexture&#8221; fashion.
The application <strong class="purple">can</strong> create a large image and only populate the region of
the image that is currently being used in the scene.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="sparsememory-accessing-unbound"><a class="anchor" href="#sparsememory-accessing-unbound"></a>28.4.1. Accessing Unbound Regions</h4>
<div class="paragraph">
<p>The following member of <code>VkPhysicalDeviceSparseProperties</code> affects how
data in unbound regions of sparse resources are handled by the
implementation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>residencyNonResidentStrict</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this property is not present, reads of unbound regions of the image will
return undefined values.
Both reads and writes are still considered <em>safe</em> and will not affect other
resources or populated regions of the image.</p>
</div>
<div class="paragraph">
<p>If this property is present, all reads of unbound regions of the image will
behave as if the region was bound to memory populated with all zeros; writes
will be discarded.</p>
</div>
<div class="paragraph">
<p>Formatted accesses to unbound memory <strong class="purple">may</strong> still alter some component values
in the natural way for those accesses, e.g. substituting a value of one for
alpha in formats that do not have an alpha component.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Example: Reading the alpha component of an unbacked <code>VK_FORMAT_R8_UNORM</code>
image will return a value of <span class="eq">1.0f</span>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>See <a href="#devsandqueues-physical-device-enumeration">Physical Device
Enumeration</a> for instructions for retrieving physical device properties.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Implementor&#8217;s Note</div>
<div class="paragraph">
<p>For implementations that <strong class="purple">cannot</strong> natively handle access to unbound regions
of a resource, the implementation <strong class="purple">may</strong> allocate and bind memory to the
unbound regions.
Reads and writes to unbound regions will access the implementation-managed
memory instead.</p>
</div>
<div class="paragraph">
<p>Given that the values resulting from reads of unbound regions are undefined
in this scenario, implementations <strong class="purple">may</strong> use the same physical memory for all
unbound regions of multiple resources within the same process.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-miptail"><a class="anchor" href="#sparsememory-miptail"></a>28.4.2. Mip Tail Regions</h4>
<div class="paragraph">
<p>Sparse images created using <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>
(without also using <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>) have no
specific mapping of image region or image subresource to memory offset
defined, so the entire image <strong class="purple">can</strong> be thought of as a linear opaque address
region.
However, images created with <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> do
have a prescribed sparse image block layout, and hence each image
subresource <strong class="purple">must</strong> start on a sparse block boundary.
Within each array layer, the set of mip levels that have a smaller size than
the sparse block size in bytes are grouped together into a <em>mip tail
region</em>.</p>
</div>
<div class="paragraph">
<p>If the <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> flag is present in
the <code>flags</code> member of <code>VkSparseImageFormatProperties</code>, for the
image&#8217;s <code>format</code>, then any mip level which has dimensions that are not
integer multiples of the corresponding dimensions of the sparse image block,
and all subsequent mip levels, are also included in the mip tail region.</p>
</div>
<div class="paragraph">
<p>The following member of <code>VkPhysicalDeviceSparseProperties</code> <strong class="purple">may</strong> affect
how the implementation places mip levels in the mip tail region:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>residencyAlignedMipSize</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each mip tail region is bound to memory as an opaque region (i.e. <strong class="purple">must</strong> be
bound using a <a href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a> structure) and <strong class="purple">may</strong> be
of a size greater than or equal to the sparse block size in bytes.
This size is guaranteed to be an integer multiple of the sparse block size
in bytes.</p>
</div>
<div class="paragraph">
<p>An implementation <strong class="purple">may</strong> choose to allow each array-layer&#8217;s mip tail region to
be bound to memory independently or require that all array-layer&#8217;s mip tail
regions be treated as one.
This is dictated by <code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> in
<code>VkSparseImageMemoryRequirements</code>::<code>flags</code>.</p>
</div>
<div class="paragraph">
<p>The following diagrams depict how
<code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> and
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> alter memory usage and
requirements.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="213.37727mm"
   height="140.93106mm"
   viewBox="0 0 213.37728 140.93106"
   version="1.1"
   id="svg5072"
   inkscape:version="0.92.2 (5c3e80d, 2017-08-06)"
   sodipodi:docname="sparseimage.svg">
  <defs
     id="defs5066" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1"
     inkscape:cx="312.27341"
     inkscape:cy="211.10847"
     inkscape:document-units="mm"
     inkscape:current-layer="g1301"
     showgrid="true"
     inkscape:measure-start="50,1040"
     inkscape:measure-end="50,900"
     inkscape:snap-object-midpoints="true"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     fit-margin-left="1"
     fit-margin-top="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:window-width="1680"
     inkscape:window-height="987"
     inkscape:window-x="1672"
     inkscape:window-y="-8"
     inkscape:window-maximized="1">
    <inkscape:grid
       type="xygrid"
       id="grid5617"
       originx="5.8699871"
       originy="-141.02337" />
  </sodipodi:namedview>
  <metadata
     id="metadata5069">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(5.8699864,-15.045569)">
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="39.6875"
       y="19.1875"
       id="text7094"><tspan
         sodipodi:role="line"
         id="tspan7092"
         x="39.6875"
         y="19.1875"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="97.895836"
       y="19.187496"
       id="text7094-5"><tspan
         sodipodi:role="line"
         id="tspan7092-3"
         x="97.895836"
         y="19.187496"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="156.10417"
       y="19.187496"
       id="text7094-6"><tspan
         sodipodi:role="line"
         id="tspan7092-0"
         x="156.10417"
         y="19.187496"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="48.291668"
       id="text7094-67"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="48.291668"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="53.583336"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156">Level 0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="93.270836"
       id="text7094-67-1"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="93.270836"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152-2">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="98.5625"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-6">Level 1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="138.25"
       id="text7094-67-2"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="138.25"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152-4">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="143.54167"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0">Level 3</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="119.72918"
       id="text7094-67-2-8"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="119.72918"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152-4-0">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="125.02084"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0-1">Level 2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="154.125"
       id="text7094-67-2-1"><tspan
         sodipodi:role="line"
         x="2.6458333"
         y="154.125"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0-4">Mip Tail</tspan></text>
    <g
       id="g1301"
       transform="translate(1.3229072,-3.1985317e-5)">
      <rect
         y="147.51044"
         x="150.8125"
         height="5.2916665"
         width="5.2916665"
         id="rect6319-7-9-4"
         style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="139.57294"
         x="150.8125"
         height="5.2916675"
         width="5.2916675"
         id="rect5619-4-1-6-6-0-6-8"
         style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.26499999;stroke-miterlimit:4;stroke-dasharray:1.05999995,1.05999995;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="131.63542"
         x="150.8125"
         height="5.2916675"
         width="5.2916675"
         id="rect5619-6-8-6-5-2"
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="125.02087"
         x="149.48959"
         height="29.104164"
         width="55.5625"
         id="rect8983-1"
         style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:1.05833327,1.05833327;stroke-dashoffset:0;stroke-opacity:1" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="177.27084"
         y="128.98961"
         id="text823-4-2-9-4-7-9-85-3"><tspan
           sodipodi:role="line"
           x="177.27084"
           y="128.98961"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3">Legend</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="135.6042"
         id="text823-4-2-9-4-7-9-85-3-6"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="135.6042"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4">Image Pixel Data</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="143.5417"
         id="text823-4-2-9-4-7-9-85-3-6-5"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="143.5417"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4-2">Sparse Memory Block</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="151.4792"
         id="text823-4-2-9-4-7-9-85-3-6-6"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="151.4792"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4-1">Mip Tail Data</tspan></text>
      <path
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
         d="M 11.90626,21.833365 H 64.822927 V 74.750031 H 11.90626 Z m 5.291667,0 V 74.750031 M 27.78126,21.833365 v 52.916666 m -5.291667,0 V 21.833365 m 10.583334,0 v 52.916666 m 5.291666,0 V 21.833365 m 5.291667,0 v 52.916666 m 5.291667,0 V 21.833365 m 5.291666,0 v 52.916666 m 5.291667,0 V 21.833365 m 5.291667,5.291666 H 11.90626 m 0,5.291667 h 52.916667 m 0,5.291667 H 11.90626 m 0,5.291666 h 52.916667 m 0,5.291667 H 11.90626 m 0,5.291667 h 52.916667 m 0,5.291666 H 11.90626 m 0,5.291667 h 52.916667 m 0,5.291667 H 11.90626"
         id="path1236"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
         d="M 70.114593,21.833366 H 123.03125 V 74.750031 H 70.114593 Z m 5.29167,0 V 74.750031 M 85.989596,21.833366 v 52.916665 m -5.291669,0 V 21.833366 m 10.583336,0 v 52.916665 m 5.291661,0 V 21.833366 m 5.291666,0 v 52.916665 m 5.29167,0 V 21.833366 m 5.29166,0 v 52.916665 m 5.29167,0 V 21.833366 m 5.29166,5.291666 H 70.114593 m 0,5.291666 h 52.916657 m 0,5.291667 H 70.114593 m 0,5.291666 h 52.916657 m 0,5.291667 H 70.114593 m 0,5.291667 h 52.916657 m 0,5.291666 H 70.114593 m 0,5.291667 h 52.916657 m 0,5.291667 H 70.114593"
         id="path1236-3"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
         d="m 128.32292,21.833365 h 52.91667 v 52.916666 h -52.91667 z m 5.29167,0 v 52.916666 m 10.58333,-52.916666 v 52.916666 m -5.29166,0 V 21.833365 m 10.58333,0 v 52.916666 m 5.29167,0 V 21.833365 m 5.29166,0 v 52.916666 m 5.29167,0 V 21.833365 m 5.29167,0 v 52.916666 m 5.29166,0 V 21.833365 m 5.29167,5.291666 h -52.91667 m 0,5.291667 h 52.91667 m 0,5.291667 h -52.91667 m 0,5.291666 h 52.91667 m 0,5.291667 h -52.91667 m 0,5.291667 h 52.91667 m 0,5.291666 h -52.91667 m 0,5.291667 h 52.91667 m 0,5.291667 h -52.91667"
         id="path1236-1"
         inkscape:connector-curvature="0" />
      <path
         id="path1299"
         d="M 11.90626,80.041698 H 38.364398 V 106.49984 H 11.90626 Z m 5.291628,0 V 106.49984 M 22.489515,80.041698 V 106.49984 M 27.781142,80.041698 V 106.49984 M 33.07277,80.041698 v 26.458142 m -21.16651,-5.29163 h 26.458138 m 0,-5.291628 H 11.90626 m 0,-5.291627 h 26.458138 m 0,-5.29163 H 11.90626"
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         inkscape:connector-curvature="0" />
      <path
         id="path1299-5"
         d="M 70.114593,80.041698 H 96.572734 V 106.49984 H 70.114593 Z m 5.29163,0 V 106.49984 M 80.69785,80.041698 v 26.458142 m 5.291627,-26.458142 v 26.458142 m 5.291627,-26.458142 v 26.458142 m -21.166511,-5.29163 h 26.458141 m 0,-5.291628 H 70.114593 m 0,-5.291627 h 26.458141 m 0,-5.29163 H 70.114593"
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         inkscape:connector-curvature="0" />
      <path
         id="path1299-7"
         d="m 128.32292,80.041698 h 26.45814 v 26.458142 h -26.45814 z m 5.29163,0 v 26.458142 m 5.29163,-26.458142 v 26.458142 m 5.29162,-26.458142 v 26.458142 m 5.29163,-26.458142 v 26.458142 m -21.16651,-5.29163 h 26.45814 m 0,-5.291628 h -26.45814 m 0,-5.291627 h 26.45814 m 0,-5.29163 h -26.45814"
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#ff0000;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
         d="m 11.90626,148.83337 h 10.583332 v 5.29167 H 11.90626 Z m 5.291667,0 v 5.29167"
         id="path1160"
         inkscape:connector-curvature="0" />
      <path
         style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833334, 1.05833334;stroke-dashoffset:0;stroke-opacity:1"
         d="m 18.52084,143.54172 h 3.96875 V 132.95838 H 11.90626 v 3.96875 m 5.29166,0 v -3.96875 m 1.32292,5.29167 h 3.96875"
         id="path1094-0"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
         d="m 17.19792,143.54172 v -6.61459 m 1.32292,1.32292 h -6.61458 m 6.61458,5.29167 h -6.61458 v -6.61459 h 6.61458 v 6.61459"
         id="path1111-1"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
         d="m 11.90626,114.43753 v 13.22916 H 25.13542 V 114.43753 H 11.90626 m 5.291659,0 v 13.22916 m 5.291671,0 v -13.22916 m -10.58333,2.64584 h 13.22916 m -13.22916,5.29166 h 13.22916"
         id="path1124-3"
         inkscape:connector-curvature="0" />
      <path
         style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833335, 1.05833335;stroke-dashoffset:0;stroke-opacity:1"
         d="m 25.13543,127.66669 h 2.645831 V 111.7917 H 11.90626 v 2.64584 m 5.29167,-2.64584 v 2.64584 m 5.29166,-2.64584 v 2.64584 m 5.291671,2.64583 H 25.13543 m 2.645831,5.29166 H 25.13543"
         id="path1141-9"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#ff0000;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
         d="m 70.114594,148.83338 h 10.583332 v 5.29167 H 70.114594 Z m 5.291666,0 v 5.29167"
         id="path1160-3"
         inkscape:connector-curvature="0" />
      <path
         style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833335, 1.05833335;stroke-dashoffset:0;stroke-opacity:1"
         d="m 76.729174,143.54171 h 3.96875 v -10.58334 h -10.58333 v 3.96875 m 5.29166,0 v -3.96875 m 1.32292,5.29167 h 3.96875"
         id="path1094-0-5"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
         d="m 75.406254,143.54171 v -6.61459 m 1.32292,1.32292 h -6.61458 m 6.61458,5.29167 h -6.61458 v -6.61459 h 6.61458 v 6.61459"
         id="path1111-1-6"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
         d="m 70.114594,114.43754 v 13.22916 h 13.22916 v -13.22916 h -13.22916 m 5.291659,0 v 13.22916 m 5.291671,0 v -13.22916 m -10.58333,2.64584 h 13.22916 m -13.22916,5.29166 h 13.22916"
         id="path1124-3-4"
         inkscape:connector-curvature="0" />
      <path
         style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833336, 1.05833336;stroke-dashoffset:0;stroke-opacity:1"
         d="m 83.343764,127.6667 h 2.645831 V 111.79171 H 70.114594 v 2.64584 m 5.29167,-2.64584 v 2.64584 m 5.29166,-2.64584 v 2.64584 m 5.291671,2.64583 h -2.645831 m 2.645831,5.29166 h -2.645831"
         id="path1141-9-1"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#ff0000;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
         d="m 128.32293,148.83338 h 10.58333 v 5.29167 h -10.58333 z m 5.29167,0 v 5.29167"
         id="path1160-0"
         inkscape:connector-curvature="0" />
      <path
         style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833335, 1.05833335;stroke-dashoffset:0;stroke-opacity:1"
         d="m 134.93751,143.54171 h 3.96875 v -10.58334 h -10.58333 v 3.96875 m 5.29166,0 v -3.96875 m 1.32292,5.29167 h 3.96875"
         id="path1094-0-9"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
         d="m 133.61459,143.54171 v -6.61459 m 1.32292,1.32292 h -6.61458 m 6.61458,5.29167 h -6.61458 v -6.61459 h 6.61458 v 6.61459"
         id="path1111-1-1"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
         d="m 128.32293,114.43754 v 13.22916 h 13.22916 v -13.22916 h -13.22916 m 5.29166,0 v 13.22916 m 5.29167,0 v -13.22916 m -10.58333,2.64584 h 13.22916 m -13.22916,5.29166 h 13.22916"
         id="path1124-3-5"
         inkscape:connector-curvature="0" />
      <path
         style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833336, 1.05833336;stroke-dashoffset:0;stroke-opacity:1"
         d="m 141.5521,127.6667 h 2.64583 v -15.87499 h -15.875 v 2.64584 m 5.29167,-2.64584 v 2.64584 m 5.29166,-2.64584 v 2.64584 m 5.29167,2.64583 h -2.64583 m 2.64583,5.29166 h -2.64583"
         id="path1141-9-5"
         inkscape:connector-curvature="0" />
    </g>
  </g>
</svg>
</div>
<div class="title">Figure 9. Sparse Image</div>
</div>
<div class="paragraph">
<p>In the absence of <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> and
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>, each array layer contains a
mip tail region containing texel data for all mip levels smaller than the
sparse image block in any dimension.</p>
</div>
<div class="paragraph">
<p>Mip levels that are as large or larger than a sparse image block in all
dimensions <strong class="purple">can</strong> be bound individually.
Right-edges and bottom-edges of each level are allowed to have partially
used sparse blocks.
Any bound partially-used-sparse-blocks <strong class="purple">must</strong> still have their full sparse
block size in bytes allocated in memory.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="213.37727mm"
   height="140.93106mm"
   viewBox="0 0 213.37728 140.93106"
   version="1.1"
   id="svg5072"
   sodipodi:docname="sparseimage_singlemiptail.svg"
   inkscape:version="0.92.2 (5c3e80d, 2017-08-06)">
  <defs
     id="defs5066" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4"
     inkscape:cx="395.52786"
     inkscape:cy="210.32605"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:measure-start="50,1040"
     inkscape:measure-end="50,900"
     inkscape:snap-object-midpoints="true"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     fit-margin-left="1"
     fit-margin-top="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:window-width="1680"
     inkscape:window-height="987"
     inkscape:window-x="1672"
     inkscape:window-y="-8"
     inkscape:window-maximized="1">
    <inkscape:grid
       type="xygrid"
       id="grid5617"
       originx="5.869987"
       originy="-141.02337" />
  </sodipodi:namedview>
  <metadata
     id="metadata5069">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(5.8699864,-15.045569)">
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="39.6875"
       y="19.1875"
       id="text7094"><tspan
         sodipodi:role="line"
         id="tspan7092"
         x="39.6875"
         y="19.1875"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="97.895836"
       y="19.187496"
       id="text7094-5"><tspan
         sodipodi:role="line"
         id="tspan7092-3"
         x="97.895836"
         y="19.187496"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="156.10417"
       y="19.187496"
       id="text7094-6"><tspan
         sodipodi:role="line"
         id="tspan7092-0"
         x="156.10417"
         y="19.187496"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="48.291668"
       id="text7094-67"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="48.291668"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="53.583336"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156">Level 0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="93.270836"
       id="text7094-67-1"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="93.270836"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152-2">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="98.5625"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-6">Level 1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="138.25"
       id="text7094-67-2"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="138.25"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152-4">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="143.54167"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0">Level 3</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="119.72918"
       id="text7094-67-2-8"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="119.72918"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152-4-0">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="125.02084"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0-1">Level 2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="154.125"
       id="text7094-67-2-1"><tspan
         sodipodi:role="line"
         x="2.6458333"
         y="154.125"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0-4">Mip Tail</tspan></text>
    <g
       transform="translate(1.3229071,-3.1985317e-5)"
       id="g1301">
      <rect
         y="147.51044"
         x="150.8125"
         height="5.2916665"
         width="5.2916665"
         id="rect6319-7-9-4"
         style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="139.57294"
         x="150.8125"
         height="5.2916675"
         width="5.2916675"
         id="rect5619-4-1-6-6-0-6-8"
         style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.26499999;stroke-miterlimit:4;stroke-dasharray:1.05999995,1.05999995;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="131.63542"
         x="150.8125"
         height="5.2916675"
         width="5.2916675"
         id="rect5619-6-8-6-5-2"
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="125.02087"
         x="149.48959"
         height="29.104164"
         width="55.5625"
         id="rect8983-1"
         style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:1.05833327,1.05833327;stroke-dashoffset:0;stroke-opacity:1" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="177.27084"
         y="128.98961"
         id="text823-4-2-9-4-7-9-85-3"><tspan
           sodipodi:role="line"
           x="177.27084"
           y="128.98961"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3">Legend</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="135.6042"
         id="text823-4-2-9-4-7-9-85-3-6"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="135.6042"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4">Image Pixel Data</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="143.5417"
         id="text823-4-2-9-4-7-9-85-3-6-5"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="143.5417"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4-2">Sparse Memory Block</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="151.4792"
         id="text823-4-2-9-4-7-9-85-3-6-6"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="151.4792"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4-1">Mip Tail Data</tspan></text>
    </g>
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 13.229167,21.833333 H 66.145834 V 74.749999 H 13.229167 Z m 5.291667,0 V 74.749999 M 29.104168,21.833333 v 52.916666 m -5.291668,0 V 21.833333 m 10.583334,0 v 52.916666 m 5.291667,0 V 21.833333 m 5.291666,0 v 52.916666 m 5.291667,0 V 21.833333 m 5.291667,0 v 52.916666 m 5.291666,0 V 21.833333 m 5.291667,5.291666 H 13.229167 m 0,5.291667 h 52.916667 m 0,5.291667 H 13.229167 m 0,5.291666 h 52.916667 m 0,5.291667 H 13.229167 m 0,5.291667 h 52.916667 m 0,5.291666 H 13.229167 m 0,5.291667 h 52.916667 m 0,5.291667 H 13.229167"
       id="path1236"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 71.437501,21.833334 H 124.35417 V 74.749999 H 71.437501 Z m 5.291669,0 V 74.749999 M 87.312503,21.833334 v 52.916665 m -5.291669,0 V 21.833334 m 10.583336,0 v 52.916665 m 5.291657,0 V 21.833334 m 5.291673,0 v 52.916665 m 5.29167,0 V 21.833334 m 5.29166,0 v 52.916665 m 5.29168,0 V 21.833334 M 124.35417,27.125 H 71.437501 m 0,5.291666 h 52.916669 m 0,5.291667 H 71.437501 m 0,5.291666 h 52.916669 m 0,5.291667 H 71.437501 m 0,5.291667 h 52.916669 m 0,5.291666 H 71.437501 m 0,5.291667 h 52.916669 m 0,5.291667 H 71.437501"
       id="path1236-3"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 129.64584,21.833333 h 52.91667 v 52.916666 h -52.91667 z m 5.29167,0 v 52.916666 m 10.58333,-52.916666 v 52.916666 m -5.29166,0 V 21.833333 m 10.58333,0 v 52.916666 m 5.29167,0 V 21.833333 m 5.29166,0 v 52.916666 m 5.29167,0 V 21.833333 m 5.29167,0 v 52.916666 m 5.29166,0 V 21.833333 m 5.29167,5.291666 h -52.91667 m 0,5.291667 h 52.91667 m 0,5.291667 h -52.91667 m 0,5.291666 h 52.91667 m 0,5.291667 h -52.91667 m 0,5.291667 h 52.91667 m 0,5.291666 h -52.91667 m 0,5.291667 h 52.91667 m 0,5.291667 h -52.91667"
       id="path1236-1"
       inkscape:connector-curvature="0" />
    <path
       id="path1299"
       d="M 13.229167,80.041666 H 39.687305 V 106.49981 H 13.229167 Z m 5.291628,0 V 106.49981 M 23.812422,80.041666 V 106.49981 M 29.10405,80.041666 v 26.458144 m 5.291628,-26.458144 v 26.458144 m -21.166511,-5.29163 h 26.458138 m 0,-5.29163 H 13.229167 m 0,-5.291627 h 26.458138 m 0,-5.29163 H 13.229167"
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       inkscape:connector-curvature="0" />
    <path
       id="path1299-5"
       d="M 71.437501,80.041666 H 97.895647 V 106.49981 H 71.437501 Z m 5.291629,0 v 26.458144 m 5.291627,-26.458144 v 26.458144 m 5.291627,-26.458144 v 26.458144 m 5.291627,-26.458144 v 26.458144 m -21.16651,-5.29163 h 26.458146 m 0,-5.29163 H 71.437501 m 0,-5.291627 h 26.458146 m 0,-5.29163 H 71.437501"
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       inkscape:connector-curvature="0" />
    <path
       id="path1299-7"
       d="m 129.64584,80.041666 h 26.45814 v 26.458144 h -26.45814 z m 5.29163,0 v 26.458144 m 5.29163,-26.458144 v 26.458144 m 5.29162,-26.458144 v 26.458144 m 5.29163,-26.458144 v 26.458144 m -21.16651,-5.29163 h 26.45814 m 0,-5.29163 h -26.45814 m 0,-5.291627 h 26.45814 m 0,-5.29163 h -26.45814"
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833335, 1.05833335;stroke-dashoffset:0;stroke-opacity:1"
       d="m 19.843748,143.5417 h 3.96875 V 132.95836 H 13.229167 v 3.96875 m 5.29166,0 v -3.96875 m 1.322921,5.29167 h 3.96875"
       id="path1094-0"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 18.520827,143.5417 v -6.61459 m 1.322921,1.32292 h -6.614581 m 6.614581,5.29167 h -6.614581 v -6.61459 h 6.614581 v 6.61459"
       id="path1111-1"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 13.229167,114.43752 v 13.22916 h 13.22916 v -13.22916 h -13.22916 m 5.291659,0 v 13.22916 m 5.291672,0 v -13.22916 m -10.583331,2.64584 h 13.22916 m -13.22916,5.29166 h 13.22916"
       id="path1124-3"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833336, 1.05833336;stroke-dashoffset:0;stroke-opacity:1"
       d="m 26.458338,127.66668 h 2.64583 V 111.79169 H 13.229167 v 2.64584 m 5.29167,-2.64584 v 2.64584 m 5.291661,-2.64584 v 2.64584 m 5.29167,2.64583 h -2.64583 m 2.64583,5.29166 h -2.64583"
       id="path1141-9"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833336, 1.05833336;stroke-dashoffset:0;stroke-opacity:1"
       d="m 78.052081,143.54169 h 3.96875 v -10.58334 h -10.58333 v 3.96875 m 5.291661,0 v -3.96875 m 1.322919,5.29167 h 3.96875"
       id="path1094-0-5"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 76.729162,143.54169 v -6.61459 m 1.322919,1.32292 h -6.61458 m 6.61458,5.29167 h -6.61458 v -6.61459 h 6.61458 v 6.61459"
       id="path1111-1-6"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 71.437501,114.43751 v 13.22916 H 84.666662 V 114.43751 H 71.437501 m 5.291661,0 v 13.22916 m 5.291669,0 v -13.22916 m -10.58333,2.64584 h 13.229161 m -13.229161,5.29166 h 13.229161"
       id="path1124-3-4"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833337, 1.05833337;stroke-dashoffset:0;stroke-opacity:1"
       d="m 84.666673,127.66667 h 2.64583 V 111.79168 H 71.437501 v 2.64584 m 5.291672,-2.64584 v 2.64584 m 5.291658,-2.64584 v 2.64584 m 5.291672,2.64583 h -2.64583 m 2.64583,5.29166 h -2.64583"
       id="path1141-9-1"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833336, 1.05833336;stroke-dashoffset:0;stroke-opacity:1"
       d="m 136.26043,143.54169 h 3.96875 v -10.58334 h -10.58333 v 3.96875 m 5.29166,0 v -3.96875 m 1.32292,5.29167 h 3.96875"
       id="path1094-0-9"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 134.93751,143.54169 v -6.61459 m 1.32292,1.32292 h -6.61458 m 6.61458,5.29167 h -6.61458 v -6.61459 h 6.61458 v 6.61459"
       id="path1111-1-1"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 129.64585,114.43751 v 13.22916 h 13.22916 v -13.22916 h -13.22916 m 5.29166,0 v 13.22916 m 5.29167,0 v -13.22916 m -10.58333,2.64584 h 13.22916 m -13.22916,5.29166 h 13.22916"
       id="path1124-3-5"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833337, 1.05833337;stroke-dashoffset:0;stroke-opacity:1"
       d="m 142.87502,127.66667 h 2.64583 v -15.87499 h -15.875 v 2.64584 m 5.29167,-2.64584 v 2.64584 m 5.29166,-2.64584 v 2.64584 m 5.29167,2.64583 h -2.64583 m 2.64583,5.29166 h -2.64583"
       id="path1141-9-5"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 13.229168,148.83333 h 31.75 l 10e-7,5.29167 H 13.229168 Z m 5.291667,0 v 5.29167 m 10.583333,-5.29167 v 5.29167 m -5.291667,0 v -5.29167 m 10.583333,0 v 5.29167 m 5.291667,0 v -5.29167"
       id="path1236-4"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccccccccccccccc" />
  </g>
</svg>
</div>
<div class="title">Figure 10. Sparse Image with Single Mip Tail</div>
</div>
<div class="paragraph">
<p>When <code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> is present all array
layers will share a single mip tail region.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="213.37727mm"
   height="126.98255mm"
   viewBox="0 0 213.37728 126.98255"
   version="1.1"
   id="svg5072"
   inkscape:version="0.92.2 (5c3e80d, 2017-08-06)"
   sodipodi:docname="sparseimage_alignedmipsize.svg">
  <defs
     id="defs5066">
    <pattern
       y="0"
       x="0"
       height="6"
       width="6"
       patternUnits="userSpaceOnUse"
       id="EMFhbasepattern" />
    <pattern
       y="0"
       x="0"
       height="6"
       width="6"
       patternUnits="userSpaceOnUse"
       id="EMFhbasepattern-1" />
    <pattern
       y="0"
       x="0"
       height="6"
       width="6"
       patternUnits="userSpaceOnUse"
       id="EMFhbasepattern-3" />
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4"
     inkscape:cx="320.51149"
     inkscape:cy="359.79403"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:measure-start="50,1040"
     inkscape:measure-end="50,900"
     inkscape:snap-object-midpoints="true"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     fit-margin-left="1"
     fit-margin-top="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:window-width="1680"
     inkscape:window-height="987"
     inkscape:window-x="1672"
     inkscape:window-y="-8"
     inkscape:window-maximized="1">
    <inkscape:grid
       type="xygrid"
       id="grid5617"
       originx="5.8699868"
       originy="-154.97188" />
  </sodipodi:namedview>
  <metadata
     id="metadata5069">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(5.8699862,-15.045569)">
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="39.6875"
       y="19.1875"
       id="text7094"><tspan
         sodipodi:role="line"
         id="tspan7092"
         x="39.6875"
         y="19.1875"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="97.895836"
       y="19.187496"
       id="text7094-5"><tspan
         sodipodi:role="line"
         id="tspan7092-3"
         x="97.895836"
         y="19.187496"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="156.10417"
       y="19.187496"
       id="text7094-6"><tspan
         sodipodi:role="line"
         id="tspan7092-0"
         x="156.10417"
         y="19.187496"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="48.291668"
       id="text7094-67"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="48.291668"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="53.583336"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156">Level 0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="93.270836"
       id="text7094-67-1"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="93.270836"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152-2">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="98.5625"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-6">Level 1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458337"
       y="127.66666"
       id="text7094-67-2-1"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="127.66666"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0-4">Mip Tail</tspan></text>
    <g
       transform="translate(1.3229068,-13.229199)"
       id="g1301">
      <rect
         y="147.51044"
         x="150.8125"
         height="5.2916665"
         width="5.2916665"
         id="rect6319-7-9-4"
         style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="139.57294"
         x="150.8125"
         height="5.2916675"
         width="5.2916675"
         id="rect5619-4-1-6-6-0-6-8"
         style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.26499999;stroke-miterlimit:4;stroke-dasharray:1.05999995,1.05999995;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="131.63542"
         x="150.8125"
         height="5.2916675"
         width="5.2916675"
         id="rect5619-6-8-6-5-2"
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="125.02087"
         x="149.48959"
         height="29.104164"
         width="55.5625"
         id="rect8983-1"
         style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:1.06,1.06;stroke-dashoffset:0;stroke-opacity:1" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="177.27084"
         y="128.98961"
         id="text823-4-2-9-4-7-9-85-3"><tspan
           sodipodi:role="line"
           x="177.27084"
           y="128.98961"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3">Legend</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="135.6042"
         id="text823-4-2-9-4-7-9-85-3-6"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="135.6042"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4">Image Pixel Data</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="143.5417"
         id="text823-4-2-9-4-7-9-85-3-6-5"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="143.5417"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4-2">Sparse Memory Block</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="151.4792"
         id="text823-4-2-9-4-7-9-85-3-6-6"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="151.4792"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4-1">Mip Tail Data</tspan></text>
    </g>
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 13.229167,21.833334 H 66.145833 V 74.75 H 13.229167 Z m 5.291667,0 V 74.75 M 29.104167,21.833334 V 74.75 m -5.291667,0 V 21.833334 m 10.583334,0 V 74.75 m 5.291666,0 V 21.833334 m 5.291666,0 V 74.75 m 5.291667,0 V 21.833334 m 5.291667,0 V 74.75 m 5.291666,0 V 21.833334 M 66.145833,27.125 H 13.229167 m 0,5.291667 h 52.916666 m 0,5.291667 H 13.229167 m 0,5.291666 h 52.916666 m 0,5.291667 H 13.229167 m 0,5.291667 h 52.916666 m 0,5.291666 H 13.229167 m 0,5.291667 h 52.916666 m 0,5.291667 H 13.229167"
       id="path1236"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 71.437501,21.833335 H 124.35416 V 74.75 H 71.437501 Z m 5.291667,0 V 74.75 M 87.312501,21.833335 V 74.75 m -5.291667,0 V 21.833335 m 10.583334,0 V 74.75 m 5.291666,0 V 21.833335 m 5.291666,0 V 74.75 m 5.29167,0 V 21.833335 m 5.29166,0 V 74.75 m 5.29167,0 V 21.833335 m 5.29166,5.291666 H 71.437501 m 0,5.291666 h 52.916659 m 0,5.291667 H 71.437501 m 0,5.291666 h 52.916659 m 0,5.291667 H 71.437501 m 0,5.291667 h 52.916659 m 0,5.291666 H 71.437501 m 0,5.291667 h 52.916659 m 0,5.291667 H 71.437501"
       id="path1236-3"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 129.64583,21.833334 H 182.5625 V 74.75 h -52.91667 z m 5.29167,0 V 74.75 M 145.52083,21.833334 V 74.75 m -5.29166,0 V 21.833334 m 10.58333,0 V 74.75 m 5.29167,0 V 21.833334 m 5.29166,0 V 74.75 m 5.29167,0 V 21.833334 m 5.29167,0 V 74.75 m 5.29166,0 V 21.833334 M 182.5625,27.125 h -52.91667 m 0,5.291667 h 52.91667 m 0,5.291667 h -52.91667 m 0,5.291666 h 52.91667 m 0,5.291667 h -52.91667 m 0,5.291667 h 52.91667 m 0,5.291666 h -52.91667 m 0,5.291667 h 52.91667 m 0,5.291667 h -52.91667"
       id="path1236-1"
       inkscape:connector-curvature="0" />
    <path
       id="path1299"
       d="M 13.229167,80.041667 H 39.687305 V 106.49981 H 13.229167 Z m 5.291628,0 v 26.458143 m 5.291627,-26.458143 v 26.458143 m 5.291627,-26.458143 v 26.458143 m 5.291628,-26.458143 v 26.458143 m -21.16651,-5.29163 h 26.458138 m 0,-5.291631 H 13.229167 m 0,-5.291627 h 26.458138 m 0,-5.291628 H 13.229167"
       style="fill:#808080;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;fill-opacity:1"
       inkscape:connector-curvature="0" />
    <path
       id="path1299-5"
       d="M 71.437501,80.041667 H 97.895639 V 106.49981 H 71.437501 Z m 5.291628,0 v 26.458143 m 5.291627,-26.458143 v 26.458143 m 5.291627,-26.458143 v 26.458143 m 5.291628,-26.458143 v 26.458143 m -21.16651,-5.29163 h 26.458138 m 0,-5.291631 H 71.437501 m 0,-5.291627 h 26.458138 m 0,-5.291628 H 71.437501"
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       inkscape:connector-curvature="0" />
    <path
       id="path1299-7"
       d="m 129.64583,80.041667 h 26.45814 v 26.458143 h -26.45814 z m 5.29163,0 v 26.458143 m 5.29163,-26.458143 v 26.458143 m 5.29162,-26.458143 v 26.458143 m 5.29163,-26.458143 v 26.458143 m -21.16651,-5.29163 h 26.45814 m 0,-5.291631 h -26.45814 m 0,-5.291627 h 26.45814 m 0,-5.291628 h -26.45814"
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       inkscape:connector-curvature="0" />
    <path
       id="path1299-6"
       d="m 13.229167,111.79167 15.875001,-3e-5 v 26.45815 l -15.875001,3e-5 z m 5.291629,0 v 26.45815 m 5.291627,-26.45815 v 26.45815 m -10.583256,-5.29163 15.875001,-3e-5 m 0,-5.29164 -15.875001,3e-5 m 0,-5.29162 15.875001,-3e-5 m 0,-5.29163 -15.875001,3e-5"
       style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccccccccccccccccc" />
    <path
       id="path1299-6-4"
       d="m 71.437501,111.79167 15.875001,-3e-5 v 26.45815 l -15.875001,3e-5 z m 5.291628,0 v 26.45815 m 5.291628,-26.45815 v 26.45815 m -10.583256,-5.29163 15.875001,-3e-5 m 0,-5.29164 -15.875001,3e-5 m 0,-5.29162 15.875001,-3e-5 m 0,-5.29163 -15.875001,3e-5"
       style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccccccccccccccccc" />
    <path
       id="path1299-6-8"
       d="m 129.64583,111.79167 15.875,-3e-5 v 26.45815 l -15.875,3e-5 z m 5.29163,0 v 26.45815 m 5.29162,-26.45815 v 26.45815 m -10.58325,-5.29163 15.875,-3e-5 m 0,-5.29164 -15.875,3e-5 m 0,-5.29162 15.875,-3e-5 m 0,-5.29163 -15.875,3e-5"
       style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccccccccccccccccc" />
  </g>
</svg>
</div>
<div class="title">Figure 11. Sparse Image with Aligned Mip Size</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The mip tail regions are presented here in 2D arrays simply for figure size
reasons.
Each mip tail is logically a single array of sparse blocks with an
implementation-dependent mapping of texels or compressed texel blocks to
sparse blocks.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> is present the first
mip level that would contain partially used sparse blocks begins the mip
tail region.
This level and all subsequent levels are placed in the mip tail.
Only the first <span class="eq">N</span> mip levels whose dimensions are an exact multiple of
the sparse image block dimensions <strong class="purple">can</strong> be bound and unbound on a sparse
block basis.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="213.37727mm"
   height="126.98255mm"
   viewBox="0 0 213.37728 126.98255"
   version="1.1"
   id="svg5072"
   inkscape:version="0.92.2 (5c3e80d, 2017-08-06)"
   sodipodi:docname="sparseimage_alignedmipsize_singlemiptail.svg">
  <defs
     id="defs5066" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4"
     inkscape:cx="386.2212"
     inkscape:cy="333.12919"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:measure-start="50,1040"
     inkscape:measure-end="50,900"
     inkscape:snap-object-midpoints="true"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     fit-margin-left="1"
     fit-margin-top="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:window-width="1680"
     inkscape:window-height="987"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1">
    <inkscape:grid
       type="xygrid"
       id="grid5617"
       originx="5.8699868"
       originy="-154.97188" />
  </sodipodi:namedview>
  <metadata
     id="metadata5069">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(5.8699862,-15.045569)">
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="39.6875"
       y="19.1875"
       id="text7094"><tspan
         sodipodi:role="line"
         id="tspan7092"
         x="39.6875"
         y="19.1875"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="97.895836"
       y="19.187496"
       id="text7094-5"><tspan
         sodipodi:role="line"
         id="tspan7092-3"
         x="97.895836"
         y="19.187496"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="156.10417"
       y="19.187496"
       id="text7094-6"><tspan
         sodipodi:role="line"
         id="tspan7092-0"
         x="156.10417"
         y="19.187496"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Array Layer 2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="48.291668"
       id="text7094-67"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="48.291668"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="53.583336"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156">Level 0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="93.270836"
       id="text7094-67-1"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="93.270836"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152-2">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="98.5625"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-6">Level 1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458337"
       y="127.66666"
       id="text7094-67-2-1"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="127.66666"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0-4">Mip Tail</tspan></text>
    <g
       transform="translate(1.3229068,-13.229199)"
       id="g1301">
      <rect
         y="147.51044"
         x="150.8125"
         height="5.2916665"
         width="5.2916665"
         id="rect6319-7-9-4"
         style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="139.57294"
         x="150.8125"
         height="5.2916675"
         width="5.2916675"
         id="rect5619-4-1-6-6-0-6-8"
         style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:1.05833327,1.05833327;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="131.63542"
         x="150.8125"
         height="5.2916675"
         width="5.2916675"
         id="rect5619-6-8-6-5-2"
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="125.02087"
         x="149.48959"
         height="29.104164"
         width="55.5625"
         id="rect8983-1"
         style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.26499999;stroke-miterlimit:4;stroke-dasharray:1.05999995,1.05999995;stroke-dashoffset:0;stroke-opacity:1" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="177.27084"
         y="128.98961"
         id="text823-4-2-9-4-7-9-85-3"><tspan
           sodipodi:role="line"
           x="177.27084"
           y="128.98961"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3">Legend</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="135.6042"
         id="text823-4-2-9-4-7-9-85-3-6"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="135.6042"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4">Image Pixel Data</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="143.5417"
         id="text823-4-2-9-4-7-9-85-3-6-5"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="143.5417"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4-2">Sparse Memory Block</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="151.4792"
         id="text823-4-2-9-4-7-9-85-3-6-6"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="151.4792"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4-1">Mip Tail Data</tspan></text>
    </g>
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 13.229167,21.833334 H 66.145833 V 74.75 H 13.229167 Z m 5.291667,0 V 74.75 M 29.104167,21.833334 V 74.75 m -5.291667,0 V 21.833334 m 10.583334,0 V 74.75 m 5.291666,0 V 21.833334 m 5.291666,0 V 74.75 m 5.291667,0 V 21.833334 m 5.291667,0 V 74.75 m 5.291666,0 V 21.833334 M 66.145833,27.125 H 13.229167 m 0,5.291666 h 52.916666 m 0,5.291667 H 13.229167 m 0,5.291666 h 52.916666 m 0,5.291667 H 13.229167 m 0,5.291668 h 52.916666 m 0,5.291666 H 13.229167 m 0,5.291667 h 52.916666 m 0,5.291667 H 13.229167"
       id="path1236"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 71.4375,21.833335 h 52.91666 V 74.75 H 71.4375 Z m 5.291669,0 V 74.75 M 87.312502,21.833335 V 74.75 m -5.291669,0 V 21.833335 m 10.583336,0 V 74.75 m 5.291664,0 V 21.833335 m 5.291667,0 V 74.75 m 5.29167,0 V 21.833335 m 5.29166,0 V 74.75 m 5.29167,0 V 21.833335 m 5.29166,5.291666 H 71.4375 m 0,5.291665 h 52.91666 m 0,5.291667 H 71.4375 m 0,5.291666 h 52.91666 m 0,5.291667 H 71.4375 m 0,5.291668 h 52.91666 m 0,5.291666 H 71.4375 m 0,5.291667 h 52.91666 m 0,5.291667 H 71.4375"
       id="path1236-3"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 129.64583,21.833334 H 182.5625 V 74.75 h -52.91667 z m 5.29167,0 V 74.75 M 145.52083,21.833334 V 74.75 m -5.29166,0 V 21.833334 m 10.58333,0 V 74.75 m 5.29167,0 V 21.833334 m 5.29166,0 V 74.75 m 5.29167,0 V 21.833334 m 5.29167,0 V 74.75 m 5.29166,0 V 21.833334 M 182.5625,27.125 h -52.91667 m 0,5.291666 h 52.91667 m 0,5.291667 h -52.91667 m 0,5.291666 h 52.91667 m 0,5.291667 h -52.91667 m 0,5.291668 h 52.91667 m 0,5.291666 h -52.91667 m 0,5.291667 h 52.91667 m 0,5.291667 h -52.91667"
       id="path1236-1"
       inkscape:connector-curvature="0" />
    <path
       id="path1299"
       d="M 13.229167,80.041667 H 39.687304 V 106.49981 H 13.229167 Z m 5.291628,0 v 26.458143 m 5.291627,-26.458143 v 26.458143 m 5.291627,-26.458143 v 26.458143 m 5.291628,-26.458143 v 26.458143 m -21.16651,-5.29163 h 26.458137 m 0,-5.291629 H 13.229167 m 0,-5.291627 h 26.458137 m 0,-5.29163 H 13.229167"
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       inkscape:connector-curvature="0" />
    <path
       id="path1299-5"
       d="M 71.4375,80.041667 H 97.895643 V 106.49981 H 71.4375 Z m 5.291629,0 V 106.49981 M 82.020756,80.041667 V 106.49981 M 87.312383,80.041667 V 106.49981 M 92.60401,80.041667 V 106.49981 M 71.4375,101.20818 h 26.458143 m 0,-5.291629 H 71.4375 m 0,-5.291627 h 26.458143 m 0,-5.29163 H 71.4375"
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       inkscape:connector-curvature="0" />
    <path
       id="path1299-7"
       d="m 129.64583,80.041667 h 26.45814 v 26.458143 h -26.45814 z m 5.29163,0 v 26.458143 m 5.29163,-26.458143 v 26.458143 m 5.29162,-26.458143 v 26.458143 m 5.29163,-26.458143 v 26.458143 m -21.16651,-5.29163 h 26.45814 m 0,-5.291629 h -26.45814 m 0,-5.291627 h 26.45814 m 0,-5.29163 h -26.45814"
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.25399813px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 13.229167,111.79167 h 47.625 V 138.25 h -47.625 z m 5.291667,0 V 138.25 M 29.104167,111.79167 V 138.25 m -5.291667,0 v -26.45833 m 10.583334,0 V 138.25 m 5.291666,0 v -26.45833 m 5.291666,0 V 138.25 m 5.291667,0 v -26.45833 m 5.291667,0 V 138.25 m 5.291667,-21.16666 h -47.625 m 0,5.29166 h 47.625 m 0,5.29167 h -47.625 m 0,5.29167 h 47.625"
       id="path1236-7"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccccccccccccccccccccccccccccc" />
  </g>
</svg>
</div>
<div class="title">Figure 12. Sparse Image with Aligned Mip Size and Single Mip Tail</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The mip tail region is presented here in a 2D array simply for figure size
reasons.
It is logically a single array of sparse blocks with an
implementation-dependent mapping of texels or compressed texel blocks to
sparse blocks.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When both <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> and
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> are present the constraints
from each of these flags are in effect.</p>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-standard-shapes"><a class="anchor" href="#sparsememory-standard-shapes"></a>28.4.3. Standard Sparse Image Block Shapes</h4>
<div class="paragraph">
<p>Standard sparse image block shapes define a standard set of dimensions for
sparse image blocks that depend on the format of the image.
Layout of texels or compressed texel blocks within a sparse image block is
implementation dependent.
All currently defined standard sparse image block shapes are 64 KB in size.</p>
</div>
<div class="paragraph">
<p>For block-compressed formats (e.g. <code>VK_FORMAT_BC5_UNORM_BLOCK</code>), the
texel size is the size of the compressed texel block (e.g. 128-bit for
<code>BC5</code>) thus the dimensions of the standard sparse image block shapes
apply in terms of compressed texel blocks.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For block-compressed formats, the dimensions of a sparse image block in
terms of texels <strong class="purple">can</strong> be calculated by multiplying the sparse image block
dimensions by the compressed texel block dimensions.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<table id="sparsememory-sparseblockshapessingle" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 27. Standard Sparse Image Block Shapes (Single Sample)</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">TEXEL SIZE (bits)</th>
<th class="tableblock halign-left valign-top">Block Shape (2D)</th>
<th class="tableblock halign-left valign-top">Block Shape (3D)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>8-Bit</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256  256  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64  32  32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>16-Bit</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256  128  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32  32  32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>32-Bit</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128  128  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32  32  16</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>64-Bit</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128  64  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32  16  16</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>128-Bit</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64  64  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16  16  16</p></td>
</tr>
</tbody>
</table>
<table id="sparsememory-sparseblockshapesmsaa" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 28. Standard Sparse Image Block Shapes (MSAA)</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">TEXEL SIZE (bits)</th>
<th class="tableblock halign-left valign-top">Block Shape (2X)</th>
<th class="tableblock halign-left valign-top">Block Shape (4X)</th>
<th class="tableblock halign-left valign-top">Block Shape (8X)</th>
<th class="tableblock halign-left valign-top">Block Shape (16X)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>8-Bit</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128  256  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128  128  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64  128  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64  64  1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>16-Bit</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128  128  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128  64  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64  64  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64  32  1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>32-Bit</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64  128  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64  64  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32  64  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32  32  1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>64-Bit</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64  64  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64  32  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32  32  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32  16  1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>128-Bit</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32  64  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32  32  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16  32  1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16  16  1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Implementations that support the standard sparse image block shape for all
formats listed in the <a href="#sparsememory-sparseblockshapessingle">Standard Sparse Image Block Shapes (Single Sample)</a> and
<a href="#sparsememory-sparseblockshapesmsaa">Standard Sparse Image Block Shapes (MSAA)</a> tables <strong class="purple">may</strong> advertise the following
<code>VkPhysicalDeviceSparseProperties</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>residencyStandard2DBlockShape</code></p>
</li>
<li>
<p><code>residencyStandard2DMultisampleBlockShape</code></p>
</li>
<li>
<p><code>residencyStandard3DBlockShape</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Reporting each of these features does <em>not</em> imply that all possible image
types are supported as sparse.
Instead, this indicates that no supported sparse image of the corresponding
type will use custom sparse image block dimensions for any formats that have
a corresponding standard sparse image block shape.</p>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-custom-shapes"><a class="anchor" href="#sparsememory-custom-shapes"></a>28.4.4. Custom Sparse Image Block Shapes</h4>
<div class="paragraph">
<p>An implementation that does not support a standard image block shape for a
particular sparse partially-resident image <strong class="purple">may</strong> choose to support a custom
sparse image block shape for it instead.
The dimensions of such a custom sparse image block shape are reported in
<code>VkSparseImageFormatProperties</code>::<code>imageGranularity</code>.
As with standard sparse image block shapes, the size in bytes of the custom
sparse image block shape will be reported in
<code>VkMemoryRequirements</code>::<code>alignment</code>.</p>
</div>
<div class="paragraph">
<p>Custom sparse image block dimensions are reported through
<code>vkGetPhysicalDeviceSparseImageFormatProperties</code> and
<code>vkGetImageSparseMemoryRequirements</code>.</p>
</div>
<div class="paragraph">
<p>An implementation <strong class="purple">must</strong> not support both the standard sparse image block
shape and a custom sparse image block shape for the same image.
The standard sparse image block shape <strong class="purple">must</strong> be used if it is supported.</p>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-multiaspect"><a class="anchor" href="#sparsememory-multiaspect"></a>28.4.5. Multiple Aspects</h4>
<div class="paragraph">
<p>Partially resident images are allowed to report separate sparse properties
for different aspects of the image.
One example is for depth/stencil images where the implementation separates
the depth and stencil data into separate planes.
Another reason for multiple aspects is to allow the application to manage
memory allocation for implementation-private <em>metadata</em> associated with the
image.
See the figure below:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="163.10645mm"
   height="156.29341mm"
   viewBox="0 0 163.10645 156.29341"
   version="1.1"
   id="svg5072"
   sodipodi:docname="sparseimage_multiaspect.svg"
   inkscape:version="0.92.2 (5c3e80d, 2017-08-06)">
  <defs
     id="defs5066" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4142136"
     inkscape:cx="287.95243"
     inkscape:cy="224.95974"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:measure-start="50,1040"
     inkscape:measure-end="50,900"
     inkscape:snap-object-midpoints="true"
     inkscape:snap-grids="true"
     inkscape:snap-text-baseline="true"
     fit-margin-left="1"
     fit-margin-top="1"
     fit-margin-right="1"
     fit-margin-bottom="1"
     inkscape:window-width="1680"
     inkscape:window-height="987"
     inkscape:window-x="1672"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     showguides="false">
    <inkscape:grid
       type="xygrid"
       id="grid5617"
       originx="5.8699862"
       originy="-125.73543" />
  </sodipodi:namedview>
  <metadata
     id="metadata5069">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(5.8699859,-14.971155)">
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="39.6875"
       y="19.1875"
       id="text7094"><tspan
         sodipodi:role="line"
         id="tspan7092"
         x="39.6875"
         y="19.1875"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Depth</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="97.895836"
       y="19.187496"
       id="text7094-5"><tspan
         sodipodi:role="line"
         id="tspan7092-3"
         x="97.895836"
         y="19.187496"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Stencil</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="48.291668"
       id="text7094-67"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="48.291668"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="53.583336"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156">Level 0</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458335"
       y="93.270836"
       id="text7094-67-1"><tspan
         sodipodi:role="line"
         x="2.6458335"
         y="93.270836"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152-2">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="98.5625"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-6">Level 1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.645834"
       y="148.83334"
       id="text7094-67-2"><tspan
         sodipodi:role="line"
         x="2.645834"
         y="148.83334"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152-4">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.6458342"
         y="154.12502"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0">Level 3</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.6458337"
       y="125.02084"
       id="text7094-67-2-8"><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="125.02084"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7152-4-0">Mip</tspan><tspan
         sodipodi:role="line"
         x="2.645834"
         y="130.31252"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0-1">Level 2</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="2.645834"
       y="170"
       id="text7094-67-2-1"><tspan
         sodipodi:role="line"
         x="2.6458337"
         y="170"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0-4">Mip Tail</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="142.875"
       y="78.71875"
       id="text7094-67-2-1-1"><tspan
         sodipodi:role="line"
         x="142.875"
         y="78.71875"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332"
         id="tspan7156-0-4-5">Mip Tail</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
       x="142.875"
       y="19.187498"
       id="text7094-4"><tspan
         sodipodi:role="line"
         id="tspan7092-8"
         x="142.875"
         y="19.187498"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Metadata</tspan></text>
    <g
       transform="translate(-48.947927,15.874963)"
       id="g1301">
      <rect
         y="147.51044"
         x="150.8125"
         height="5.2916665"
         width="5.2916665"
         id="rect6319-7-9-4"
         style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="139.57294"
         x="150.8125"
         height="5.2916675"
         width="5.2916675"
         id="rect5619-4-1-6-6-0-6-8"
         style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.26499999;stroke-miterlimit:4;stroke-dasharray:1.05999995,1.05999995;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="131.63542"
         x="150.8125"
         height="5.2916675"
         width="5.2916675"
         id="rect5619-6-8-6-5-2"
         style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
      <rect
         y="125.02087"
         x="149.48959"
         height="29.104164"
         width="55.5625"
         id="rect8983-1"
         style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:1.05833327,1.05833327;stroke-dashoffset:0;stroke-opacity:1" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="177.27084"
         y="128.98961"
         id="text823-4-2-9-4-7-9-85-3"><tspan
           sodipodi:role="line"
           x="177.27084"
           y="128.98961"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3">Legend</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="135.6042"
         id="text823-4-2-9-4-7-9-85-3-6"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="135.6042"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4">Image Pixel Data</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="143.5417"
         id="text823-4-2-9-4-7-9-85-3-6-5"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="143.5417"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4-2">Sparse Memory Block</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687499"
         x="157.42709"
         y="151.4792"
         id="text823-4-2-9-4-7-9-85-3-6-6"><tspan
           sodipodi:role="line"
           x="157.42709"
           y="151.4792"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333359px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.39687499"
           id="tspan825-6-0-2-5-6-26-7-3-4-1">Mip Tail Data</tspan></text>
    </g>
    <path
       style="fill:none;stroke:#000000;stroke-width:0.26499999;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05999995, 1.05999995;stroke-dashoffset:0;stroke-opacity:1"
       d="m 84.666666,138.25 h 7.9375 V 117.08333 H 71.437499 v 7.9375 m 10.583336,0 v -7.9375 m 2.645833,10.58334 h 7.9375"
       id="path1094"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 82.020834,138.25 v -13.22917 m 2.645833,2.64584 H 71.4375 M 84.666665,138.25 H 71.437498 V 125.02083 H 84.666667 V 138.25"
       id="path1111"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 71.437498,85.333322 V 111.79166 H 97.895831 V 85.333322 H 71.437498 m 10.583336,0 v 26.458338 m 10.583333,0 V 85.333322 M 71.4375,90.624992 H 97.895834 M 71.4375,101.20833 h 26.458334"
       id="path1124"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833328, 1.05833328;stroke-dashoffset:0;stroke-opacity:1"
       d="m 97.89584,111.79166 h 5.29166 V 80.041662 H 71.437502 v 5.29167 m 10.583336,-5.29167 v 5.29167 m 10.583334,-5.29167 v 5.29167 m 10.583328,5.29166 h -5.29166 m 5.29166,10.583338 h -5.29166"
       id="path1141"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#ff0000;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 71.437498,159.41666 h 21.166667 v 10.58333 H 71.437498 Z m 10.583336,0 0,10.58334"
       id="path1158"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#ff0000;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 13.229167,164.70833 h 10.583332 v 5.29166 H 13.229167 Z m 5.291667,0 0,5.29167"
       id="path1160"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833333, 1.05833333;stroke-dashoffset:0;stroke-opacity:1"
       d="m 19.843747,154.125 h 3.96875 v -10.58334 h -10.58333 v 3.96875 m 5.29166,0 v -3.96875 m 1.32292,5.29167 h 3.96875"
       id="path1094-0"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 18.520827,154.125 v -6.61459 m 1.32292,1.32292 h -6.61458 m 6.61458,5.29167 h -6.61458 v -6.61459 h 6.61458 v 6.61459"
       id="path1111-1"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 13.229167,119.72916 v 13.22917 H 26.458326 V 119.72916 H 13.229167 m 5.291659,0 v 13.22917 m 5.291671,0 v -13.22917 m -10.58333,2.64584 h 13.229159 m -13.229159,5.29167 h 13.229159"
       id="path1124-3"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.05833334, 1.05833334;stroke-dashoffset:0;stroke-opacity:1"
       d="m 26.458337,132.95833 h 2.64583 v -15.875 h -15.875 v 2.64584 m 5.29167,-2.64584 v 2.64584 m 5.29166,-2.64584 v 2.64584 m 5.29167,2.64583 h -2.64583 m 2.64583,5.29167 h -2.64583"
       id="path1141-9"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 13.229167,80.041662 H 39.6875 V 106.5 H 13.229167 V 80.041662 m 5.291667,0 V 106.5 M 23.8125,80.041662 V 106.5 M 29.104167,80.041662 V 106.5 M 34.395834,80.041662 V 106.5 M 13.229167,101.20833 H 39.6875 m 0,-5.291668 H 13.229167 m 0,-5.291667 H 39.6875 m 0,-5.291666 H 13.229167"
       id="path1204"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;stroke:#000000;stroke-width:0.26458333;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none"
       d="m 71.4375,21.83333 h 52.91667 V 74.750015 H 71.4375 V 21.83333 m 10.583334,0 V 74.750015 M 92.604166,21.83333 V 74.750015 M 103.1875,21.83333 V 74.750015 M 113.77084,21.83333 V 74.750015 M 71.4375,64.166665 h 52.91667 m 0,-10.583335 H 71.4375 m 0,-10.583334 h 52.91667 m 0,-10.583332 H 71.4375"
       id="path1204-2"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#808080;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;fill-opacity:1"
       d="M 13.229167,21.83333 H 66.145833 V 74.749996 H 13.229167 Z m 5.291667,0 V 74.749996 M 29.104167,21.83333 v 52.916666 m -5.291667,0 V 21.83333 m 10.583334,0 v 52.916666 m 5.291666,0 V 21.83333 m 5.291667,0 v 52.916666 m 5.291666,0 V 21.83333 m 5.291667,0 v 52.916666 m 5.291667,0 V 21.83333 m 5.291666,5.291666 H 13.229167 m 0,5.291667 h 52.916666 m 0,5.291667 H 13.229167 m 0,5.291666 h 52.916666 m 0,5.291667 H 13.229167 m 0,5.291667 h 52.916666 m 0,5.291666 H 13.229167 m 0,5.291667 h 52.916666 m 0,5.291667 H 13.229167"
       id="path1236"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 129.64583,21.83333 h 26.45834 v 52.916664 h -26.45834 z m 5.29167,0 V 74.749994 M 145.52083,21.83333 v 52.916664 m -5.29167,0 V 21.83333 m 10.58334,0 v 52.916664 m 5.29167,-47.624998 h -26.45834 m 0,5.291667 h 26.45834 m 0,5.291667 h -26.45834 m 0,5.291666 h 26.45834 m 0,5.291668 h -26.45834 m 0,5.29167 h 26.45834 m 0,5.29166 h -26.45834 m 0,5.29167 h 26.45834 m 0,5.29167 h -26.45834"
       id="path1236-8"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccccccccccccccccccccccccccccccc" />
  </g>
</svg>
</div>
<div class="title">Figure 13. Multiple Aspect Sparse Image</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The mip tail regions are presented here in 2D arrays simply for figure size
reasons.
Each mip tail is logically a single array of sparse blocks with an
implementation-dependent mapping of texels or compressed texel blocks to
sparse blocks.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the figure above the depth, stencil, and metadata aspects all have unique
sparse properties.
The per-texel stencil data is <span class="eq">村</span> the size of the depth data,
hence the stencil sparse blocks include <span class="eq">4 </span> the number of
texels.
The sparse block size in bytes for all of the aspects is identical and
defined by <code>VkMemoryRequirements</code>::<code>alignment</code>.</p>
</div>
<div class="sect4">
<h5 id="_metadata"><a class="anchor" href="#_metadata"></a>Metadata</h5>
<div class="paragraph">
<p>The metadata aspect of an image has the following constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All metadata is reported in the mip tail region of the metadata aspect.</p>
</li>
<li>
<p>All metadata <strong class="purple">must</strong> be bound prior to device use of the sparse image.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sparsememory-sparse-memory-aliasing"><a class="anchor" href="#sparsememory-sparse-memory-aliasing"></a>28.5. Sparse Memory Aliasing</h3>
<div class="paragraph">
<p>By default sparse resources have the same aliasing rules as non-sparse
resources.
See <a href="#resources-memory-aliasing">Memory Aliasing</a> for more information.</p>
</div>
<div class="paragraph">
<p><code>VkDevice</code> objects that have the
<a href="#features-sparseResidencyAliased">sparseResidencyAliased</a> feature enabled
are able to use the <code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> and
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> flags for resource creation.
These flags allow resources to access physical memory bound into multiple
locations within one or more sparse resources in a <em>data consistent</em>
fashion.
This means that reading physical memory from multiple aliased locations will
return the same value.</p>
</div>
<div class="paragraph">
<p>Care <strong class="purple">must</strong> be taken when performing a write operation to aliased physical
memory.
Memory dependencies <strong class="purple">must</strong> be used to separate writes to one alias from reads
or writes to another alias.
Writes to aliased memory that are not properly guarded against accesses to
different aliases will have undefined results for all accesses to the
aliased memory.</p>
</div>
<div class="paragraph">
<p>Applications that wish to make use of data consistent sparse memory aliasing
<strong class="purple">must</strong> abide by the following guidelines:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All sparse resources that are bound to aliased physical memory <strong class="purple">must</strong> be
created with the <code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> /
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> flag.</p>
</li>
<li>
<p>All resources that access aliased physical memory <strong class="purple">must</strong> interpret the
memory in the same way.
This implies the following:</p>
<div class="ulist">
<ul>
<li>
<p>Buffers and images <strong class="purple">cannot</strong> alias the same physical memory in a data
consistent fashion.
The physical memory ranges <strong class="purple">must</strong> be used exclusively by buffers or used
exclusively by images for data consistency to be guaranteed.</p>
</li>
<li>
<p>Memory in sparse image mip tail regions <strong class="purple">cannot</strong> access aliased memory
in a data consistent fashion.</p>
</li>
<li>
<p>Sparse images that alias the same physical memory <strong class="purple">must</strong> have compatible
formats and be using the same sparse image block shape in order to
access aliased memory in a data consistent fashion.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Failure to follow any of the above guidelines will require the application
to abide by the normal, non-sparse resource <a href="#resources-memory-aliasing">aliasing rules</a>.
In this case memory <strong class="purple">cannot</strong> be accessed in a data consistent fashion.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Enabling sparse resource memory aliasing <strong class="purple">can</strong> be a way to lower physical
memory use, but it <strong class="purple">may</strong> reduce performance on some implementations.
An application developer <strong class="purple">can</strong> test on their target HW and balance the memory
/ performance trade-offs measured.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_sparse_resource_implementation_guidelines"><a class="anchor" href="#_sparse_resource_implementation_guidelines"></a>28.6. Sparse Resource Implementation Guidelines</h3>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>This section is Informative.
It is included to aid in implementors&#8217; understanding of sparse resources.</p>
</div>
<div class="paragraph">
<div class="title">Device Virtual Address</div>
<p>The basic <code>sparseBinding</code> feature allows the resource to reserve its own
device virtual address range at resource creation time rather than relying
on a bind operation to set this.
Without any other creation flags, no other constraints are relaxed compared
to normal resources.
All pages <strong class="purple">must</strong> be bound to physical memory before the device accesses the
resource.</p>
</div>
<div class="paragraph">
<p>The <a href="#features-sparseResidency">sparse residency</a> features allow sparse
resources to be used even when not all pages are bound to memory.
Implementations that support access to unbound pages without causing a fault
<strong class="purple">may</strong> support <code>residencyNonResidentStrict</code>.</p>
</div>
<div class="paragraph">
<p>Not faulting on access to unbound pages is not enough to support
<code>residencyNonResidentStrict</code>.
An implementation <strong class="purple">must</strong> also guarantee that reads after writes to unbound
regions of the resource always return data for the read as if the memory
contains zeros.
Depending on any caching hierarchy of the implementation this <strong class="purple">may</strong> not
always be possible.</p>
</div>
<div class="paragraph">
<p>Any implementation that does not fault, but does not guarantee correct read
values <strong class="purple">must</strong> not support <code>residencyNonResidentStrict</code>.</p>
</div>
<div class="paragraph">
<p>Any implementation that <strong class="purple">cannot</strong> access unbound pages without causing a fault
will require the implementation to bind the entire device virtual address
range to physical memory.
Any pages that the application does not bind to memory <strong class="purple">may</strong> be bound to one
(or more) &#8220;dummy&#8221; physical page(s) allocated by the implementation.
Given the following properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A process <strong class="purple">must</strong> not access memory from another process</p>
</li>
<li>
<p>Reads return undefined values</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is sufficient for each host process to allocate these dummy pages and use
them for all resources in that process.
Implementations <strong class="purple">may</strong> allocate more often (per instance, per device, or per
resource).</p>
</div>
<div class="paragraph">
<div class="title">Binding Memory</div>
<p>The byte size reported in <code>VkMemoryRequirements</code>::<code>size</code> <strong class="purple">must</strong> be
greater than or equal to the amount of physical memory <strong class="purple">required</strong> to fully
populate the resource.
Some implementations require &#8220;holes&#8221; in the device virtual address range
that are never accessed.
These holes <strong class="purple">may</strong> be included in the <code>size</code> reported for the resource.</p>
</div>
<div class="paragraph">
<p>Including or not including the device virtual address holes in the resource
size will alter how the implementation provides support for
<code>VkSparseImageOpaqueMemoryBindInfo</code>.
This operation <strong class="purple">must</strong> be supported for all sparse images, even ones created
with <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the holes are included in the size, this bind function becomes very
easy.
In most cases the <code>resourceOffset</code> is simply a device virtual
address offset and the implementation can easily determine what device
virtual address to bind.
The cost is that the application <strong class="purple">may</strong> allocate more physical memory for
the resource than it needs.</p>
</li>
<li>
<p>If the holes are not included in the size, the application <strong class="purple">can</strong> allocate
less physical memory than otherwise for the resource.
However, in this case the implementation <strong class="purple">must</strong> account for the holes
when mapping <code>resourceOffset</code> to the actual device virtual address
intended to be mapped.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If the application always uses <code>VkSparseImageMemoryBindInfo</code> to bind
memory for the non-tail mip levels, any holes that are present in the
resource size <strong class="purple">may</strong> never be bound.</p>
</div>
<div class="paragraph">
<p>Since <code>VkSparseImageMemoryBindInfo</code> uses texel locations to determine
which device virtual addresses to bind, it is impossible to bind device
virtual address holes with this operation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Binding Metadata Memory</div>
<p>All metadata for sparse images have their own sparse properties and are
embedded in the mip tail region for said properties.
See the <a href="#sparsememory-multiaspect">Multiaspect</a> section for details.</p>
</div>
<div class="paragraph">
<p>Given that metadata is in a mip tail region, and the mip tail region <strong class="purple">must</strong>
be reported as contiguous (either globally or per-array-layer), some
implementations will have to resort to complicated offset &#8594; device virtual
address mapping for handling <code>VkSparseImageOpaqueMemoryBindInfo</code>.</p>
</div>
<div class="paragraph">
<p>To make this easier on the implementation, the
<code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> explicitly specifies when metadata
is bound with <code>VkSparseImageOpaqueMemoryBindInfo</code>.
When this flag is not present, the <code>resourceOffset</code> <strong class="purple">may</strong> be treated as a
strict device virtual address offset.</p>
</div>
<div class="paragraph">
<p>When <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> is present, the
<code>resourceOffset</code> <strong class="purple">must</strong> have been derived explicitly from the
<code>imageMipTailOffset</code> in the sparse resource properties returned for the
metadata aspect.
By manipulating the value returned for <code>imageMipTailOffset</code>, the
<code>resourceOffset</code> does not have to correlate directly to a device virtual
address offset, and <strong class="purple">may</strong> instead be whatever values makes it easiest for the
implementation to derive the correct device virtual address.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sparsememory-resourceapi"><a class="anchor" href="#sparsememory-resourceapi"></a>28.7. Sparse Resource API</h3>
<div class="paragraph">
<p>The APIs related to sparse resources are grouped into the following
categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#sparsememory-physicalfeatures">Physical Device Features</a></p>
</li>
<li>
<p><a href="#sparsememory-physicalprops">Physical Device Sparse Properties</a></p>
</li>
<li>
<p><a href="#sparsememory-format-props">Sparse Image Format Properties</a></p>
</li>
<li>
<p><a href="#sparsememory-resource-creation">Sparse Resource Creation</a></p>
</li>
<li>
<p><a href="#sparsememory-memory-requirements">Sparse Resource Memory Requirements</a></p>
</li>
<li>
<p><a href="#sparsememory-resource-binding">Binding Resource Memory</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="sparsememory-physicalfeatures"><a class="anchor" href="#sparsememory-physicalfeatures"></a>28.7.1. Physical Device Features</h4>
<div class="paragraph">
<p>Some sparse-resource related features are reported and enabled in
<code>VkPhysicalDeviceFeatures</code>.
These features <strong class="purple">must</strong> be supported and enabled on the <code>VkDevice</code> object
before applications <strong class="purple">can</strong> use them.
See <a href="#features">Physical Device Features</a> for information on how to get and
set enabled device features, and for more detailed explanations of these
features.</p>
</div>
<div class="sect4">
<h5 id="_sparse_physical_device_features"><a class="anchor" href="#_sparse_physical_device_features"></a>Sparse Physical Device Features</h5>
<div class="ulist">
<ul>
<li>
<p><code>sparseBinding</code>: Support for creating <a href="#VkBuffer">VkBuffer</a> and
<code>VkImage</code> objects with the <code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code>
and <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flags, respectively.</p>
</li>
<li>
<p><code>sparseResidencyBuffer</code>: Support for creating <a href="#VkBuffer">VkBuffer</a> objects
with the <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> flag.</p>
</li>
<li>
<p><code>sparseResidencyImage2D</code>: Support for creating 2D single-sampled
<code>VkImage</code> objects with <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><code>sparseResidencyImage3D</code>: Support for creating 3D <a href="#VkImage">VkImage</a>
objects with <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><code>sparseResidency2Samples</code>: Support for creating 2D <a href="#VkImage">VkImage</a>
objects with 2 samples and <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><code>sparseResidency4Samples</code>: Support for creating 2D <a href="#VkImage">VkImage</a>
objects with 4 samples and <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><code>sparseResidency8Samples</code>: Support for creating 2D <a href="#VkImage">VkImage</a>
objects with 8 samples and <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><code>sparseResidency16Samples</code>: Support for creating 2D <a href="#VkImage">VkImage</a>
objects with 16 samples and <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>.</p>
</li>
<li>
<p><code>sparseResidencyAliased</code>: Support for creating <a href="#VkBuffer">VkBuffer</a> and
<code>VkImage</code> objects with the <code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code>
and <code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> flags, respectively.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-physicalprops"><a class="anchor" href="#sparsememory-physicalprops"></a>28.7.2. Physical Device Sparse Properties</h4>
<div class="paragraph">
<p>Some features of the implementation are not possible to disable, and are
reported to allow applications to alter their sparse resource usage
accordingly.
These read-only capabilities are reported in the
<a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>sparseProperties</code> member, which is a
structure of type <code>VkPhysicalDeviceSparseProperties</code>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceSparseProperties</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceSparseProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPhysicalDeviceSparseProperties {
    VkBool32    residencyStandard2DBlockShape;
    VkBool32    residencyStandard2DMultisampleBlockShape;
    VkBool32    residencyStandard3DBlockShape;
    VkBool32    residencyAlignedMipSize;
    VkBool32    residencyNonResidentStrict;
} VkPhysicalDeviceSparseProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>residencyStandard2DBlockShape</code> is <code>VK_TRUE</code> if the physical
device will access all single-sample 2D sparse resources using the
standard sparse image block shapes (based on image format), as described
in the <a href="#sparsememory-sparseblockshapessingle">Standard Sparse Image
Block Shapes (Single Sample)</a> table.
If this property is not supported the value returned in the
<code>imageGranularity</code> member of the <code>VkSparseImageFormatProperties</code>
structure for single-sample 2D images is not <strong class="purple">required</strong> to match the
standard sparse image block dimensions listed in the table.</p>
</li>
<li>
<p><code>residencyStandard2DMultisampleBlockShape</code> is <code>VK_TRUE</code> if the
physical device will access all multisample 2D sparse resources using
the standard sparse image block shapes (based on image format), as
described in the <a href="#sparsememory-sparseblockshapesmsaa">Standard Sparse
Image Block Shapes (MSAA)</a> table.
If this property is not supported, the value returned in the
<code>imageGranularity</code> member of the <code>VkSparseImageFormatProperties</code>
structure for multisample 2D images is not <strong class="purple">required</strong> to match the
standard sparse image block dimensions listed in the table.</p>
</li>
<li>
<p><code>residencyStandard3DBlockShape</code> is <code>VK_TRUE</code> if the physical
device will access all 3D sparse resources using the standard sparse
image block shapes (based on image format), as described in the
<a href="#sparsememory-sparseblockshapessingle">Standard Sparse Image Block
Shapes (Single Sample)</a> table.
If this property is not supported, the value returned in the
<code>imageGranularity</code> member of the <code>VkSparseImageFormatProperties</code>
structure for 3D images is not <strong class="purple">required</strong> to match the standard sparse
image block dimensions listed in the table.</p>
</li>
<li>
<p><code>residencyAlignedMipSize</code> is <code>VK_TRUE</code> if images with mip level
dimensions that are not integer multiples of the corresponding
dimensions of the sparse image block <strong class="purple">may</strong> be placed in the mip tail.
If this property is not reported, only mip levels with dimensions
smaller than the <code>imageGranularity</code> member of the
<code>VkSparseImageFormatProperties</code> structure will be placed in the mip
tail.
If this property is reported the implementation is allowed to return
<code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> in the <code>flags</code>
member of <code>VkSparseImageFormatProperties</code>, indicating that mip level
dimensions that are not integer multiples of the corresponding
dimensions of the sparse image block will be placed in the mip tail.</p>
</li>
<li>
<p><code>residencyNonResidentStrict</code> specifies whether the physical device
<strong class="purple">can</strong> consistently access non-resident regions of a resource.
If this property is <code>VK_TRUE</code>, access to non-resident regions of
resources will be guaranteed to return values as if the resource were
populated with 0; writes to non-resident regions will be discarded.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-format-props"><a class="anchor" href="#sparsememory-format-props"></a>28.7.3. Sparse Image Format Properties</h4>
<div class="paragraph">
<p>Given that certain aspects of sparse image support, including the sparse
image block dimensions, <strong class="purple">may</strong> be implementation-dependent,
<a href="#vkGetPhysicalDeviceSparseImageFormatProperties">vkGetPhysicalDeviceSparseImageFormatProperties</a> <strong class="purple">can</strong> be used to query
for sparse image format properties prior to resource creation.
This command is used to check whether a given set of sparse image parameters
is supported and what the sparse image block shape will be.</p>
</div>
<div class="sect4">
<h5 id="_sparse_image_format_properties_api"><a class="anchor" href="#_sparse_image_format_properties_api"></a>Sparse Image Format Properties API</h5>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSparseImageFormatProperties</code> structure is defined as:</p>
</div>
<div id="VkSparseImageFormatProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSparseImageFormatProperties {
    VkImageAspectFlags          aspectMask;
    VkExtent3D                  imageGranularity;
    VkSparseImageFormatFlags    flags;
} VkSparseImageFormatProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>aspectMask</code> is a bitmask <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a> specifying
which aspects of the image the properties apply to.</p>
</li>
<li>
<p><code>imageGranularity</code> is the width, height, and depth of the sparse
image block in texels or compressed texel blocks.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkSparseImageFormatFlagBits">VkSparseImageFormatFlagBits</a> specifying
additional information about the sparse resource.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in <a href="#VkSparseImageFormatProperties">VkSparseImageFormatProperties</a>::<code>flags</code>,
specifying additional information about the sparse resource, are:</p>
</div>
<div id="VkSparseImageFormatFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkSparseImageFormatFlagBits {
    VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT = <span class="hex">0x00000001</span>,
    VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT = <span class="hex">0x00000002</span>,
    VK_SPARSE_IMAGE_FORMAT_NONSTANDARD_BLOCK_SIZE_BIT = <span class="hex">0x00000004</span>,
    VK_SPARSE_IMAGE_FORMAT_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkSparseImageFormatFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> specifies that the image
uses a single mip tail region for all array layers.</p>
</li>
<li>
<p><code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> specifies that the
first mip level whose dimensions are not integer multiples of the
corresponding dimensions of the sparse image block begins the mip tail
region.</p>
</li>
<li>
<p><code>VK_SPARSE_IMAGE_FORMAT_NONSTANDARD_BLOCK_SIZE_BIT</code> specifies that
the image uses non-standard sparse image block dimensions, and the
<code>imageGranularity</code> values do not match the standard sparse image
block dimensions for the given format.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSparseImageFormatFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkSparseImageFormatFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSparseImageFormatFlags</code> is a bitmask type for setting a mask of zero
or more <a href="#VkSparseImageFormatFlagBits">VkSparseImageFormatFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>vkGetPhysicalDeviceSparseImageFormatProperties</code> returns an array of
<a href="#VkSparseImageFormatProperties">VkSparseImageFormatProperties</a>.
Each element will describe properties for one set of image aspects that are
bound simultaneously in the image.
This is usually one element for each aspect in the image, but for
interleaved depth/stencil images there is only one element describing the
combined aspects.</p>
</div>
<div id="vkGetPhysicalDeviceSparseImageFormatProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetPhysicalDeviceSparseImageFormatProperties(
    VkPhysicalDevice                            physicalDevice,
    VkFormat                                    format,
    VkImageType                                 type,
    VkSampleCountFlagBits                       samples,
    VkImageUsageFlags                           usage,
    VkImageTiling                               tiling,
    uint32_t*                                   pPropertyCount,
    VkSparseImageFormatProperties*              pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
sparse image capabilities.</p>
</li>
<li>
<p><code>format</code> is the image format.</p>
</li>
<li>
<p><code>type</code> is the dimensionality of image.</p>
</li>
<li>
<p><code>samples</code> is the number of samples per texel as defined in
<a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a>.</p>
</li>
<li>
<p><code>usage</code> is a bitmask describing the intended usage of the image.</p>
</li>
<li>
<p><code>tiling</code> is the tiling arrangement of the texel blocks in memory.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
sparse format properties available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkSparseImageFormatProperties">VkSparseImageFormatProperties</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of sparse format properties
available is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong class="purple">must</strong> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If <code>pPropertyCount</code> is less than the number of sparse format properties
available, at most <code>pPropertyCount</code> structures will be written.</p>
</div>
<div class="paragraph">
<p>If <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> is not supported for the given
arguments, <code>pPropertyCount</code> will be set to zero upon return, and no data
will be written to <code>pProperties</code>.</p>
</div>
<div class="paragraph">
<p>Multiple aspects are returned for depth/stencil images that are implemented
as separate planes by the implementation.
The depth and stencil data planes each have unique
<code>VkSparseImageFormatProperties</code> data.</p>
</div>
<div class="paragraph">
<p>Depth/stencil images with depth and stencil data interleaved into a single
plane will return a single <code>VkSparseImageFormatProperties</code> structure
with the <code>aspectMask</code> set to <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> |
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSparseImageFormatProperties-samples-01094" href="#VUID-vkGetPhysicalDeviceSparseImageFormatProperties-samples-01094"></a>
<code>samples</code> <strong class="purple">must</strong> be a bit value that is set in
<code>VkImageFormatProperties</code>::<code>sampleCounts</code> returned by
<code>vkGetPhysicalDeviceImageFormatProperties</code> with <code>format</code>,
<code>type</code>, <code>tiling</code>, and <code>usage</code> equal to those in this command
and <code>flags</code> equal to the value that is set in
<code>VkImageCreateInfo</code>::<code>flags</code> when the image is created</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSparseImageFormatProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceSparseImageFormatProperties-physicalDevice-parameter"></a> <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSparseImageFormatProperties-format-parameter" href="#VUID-vkGetPhysicalDeviceSparseImageFormatProperties-format-parameter"></a> <code>format</code> <strong class="purple">must</strong> be a valid <a href="#VkFormat">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSparseImageFormatProperties-type-parameter" href="#VUID-vkGetPhysicalDeviceSparseImageFormatProperties-type-parameter"></a> <code>type</code> <strong class="purple">must</strong> be a valid <a href="#VkImageType">VkImageType</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSparseImageFormatProperties-samples-parameter" href="#VUID-vkGetPhysicalDeviceSparseImageFormatProperties-samples-parameter"></a> <code>samples</code> <strong class="purple">must</strong> be a valid <a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSparseImageFormatProperties-usage-parameter" href="#VUID-vkGetPhysicalDeviceSparseImageFormatProperties-usage-parameter"></a> <code>usage</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSparseImageFormatProperties-usage-requiredbitmask" href="#VUID-vkGetPhysicalDeviceSparseImageFormatProperties-usage-requiredbitmask"></a> <code>usage</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSparseImageFormatProperties-tiling-parameter" href="#VUID-vkGetPhysicalDeviceSparseImageFormatProperties-tiling-parameter"></a> <code>tiling</code> <strong class="purple">must</strong> be a valid <a href="#VkImageTiling">VkImageTiling</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSparseImageFormatProperties-pPropertyCount-parameter" href="#VUID-vkGetPhysicalDeviceSparseImageFormatProperties-pPropertyCount-parameter"></a> <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSparseImageFormatProperties-pProperties-parameter" href="#VUID-vkGetPhysicalDeviceSparseImageFormatProperties-pProperties-parameter"></a> If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="#VkSparseImageFormatProperties">VkSparseImageFormatProperties</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-resource-creation"><a class="anchor" href="#sparsememory-resource-creation"></a>28.7.4. Sparse Resource Creation</h4>
<div class="paragraph">
<p>Sparse resources require that one or more sparse feature flags be specified
(as part of the <code>VkPhysicalDeviceFeatures</code> structure described
previously in the <a href="#sparsememory-physicalfeatures">Physical Device Features</a>
section) at CreateDevice time.
When the appropriate device features are enabled, the
<code>VK_BUFFER_CREATE_SPARSE_*</code> and <code>VK_IMAGE_CREATE_SPARSE_*</code> flags
<strong class="purple">can</strong> be used.
See <a href="#vkCreateBuffer">vkCreateBuffer</a> and <a href="#vkCreateImage">vkCreateImage</a> for details of the resource
creation APIs.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Specifying <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> or
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> requires specifying
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> or
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>, respectively, as well.
This means that resources <strong class="purple">must</strong> be created with the appropriate
<code>*_SPARSE_BINDING_BIT</code> to be used with the sparse binding command
(<code>vkQueueBindSparse</code>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-memory-requirements"><a class="anchor" href="#sparsememory-memory-requirements"></a>28.7.5. Sparse Resource Memory Requirements</h4>
<div class="paragraph">
<p>Sparse resources have specific memory requirements related to binding sparse
memory.
These memory requirements are reported differently for <code>VkBuffer</code>
objects and <code>VkImage</code> objects.</p>
</div>
<div class="sect4">
<h5 id="sparsememory-memory-buffer-fully-resident"><a class="anchor" href="#sparsememory-memory-buffer-fully-resident"></a>Buffer and Fully-Resident Images</h5>
<div class="paragraph">
<p>Buffers (both fully and partially resident) and fully-resident images <strong class="purple">can</strong>
be bound to memory using only the data from <code>VkMemoryRequirements</code>.
For all sparse resources the <code>VkMemoryRequirements</code>::<code>alignment</code>
member specifies both the bindable sparse block size in bytes and <strong class="purple">required</strong>
alignment of <code>VkDeviceMemory</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="sparsememory-memory-partially-resident"><a class="anchor" href="#sparsememory-memory-partially-resident"></a>Partially Resident Images</h5>
<div class="paragraph">
<p>Partially resident images have a different method for binding memory.
As with buffers and fully resident images, the
<code>VkMemoryRequirements</code>::<code>alignment</code> field specifies the bindable
sparse block size in bytes for the image.</p>
</div>
<div class="paragraph">
<p>Requesting sparse memory requirements for <code>VkImage</code> objects using
<code>vkGetImageSparseMemoryRequirements</code> will return an array of one or more
<code>VkSparseImageMemoryRequirements</code> structures.
Each structure describes the sparse memory requirements for a group of
aspects of the image.</p>
</div>
<div class="paragraph">
<p>The sparse image <strong class="purple">must</strong> have been created using the
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> flag to retrieve valid sparse
image memory requirements.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sparse_image_memory_requirements"><a class="anchor" href="#_sparse_image_memory_requirements"></a>Sparse Image Memory Requirements</h5>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSparseImageMemoryRequirements</code> structure is defined as:</p>
</div>
<div id="VkSparseImageMemoryRequirements" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSparseImageMemoryRequirements {
    VkSparseImageFormatProperties    formatProperties;
    uint32_t                         imageMipTailFirstLod;
    VkDeviceSize                     imageMipTailSize;
    VkDeviceSize                     imageMipTailOffset;
    VkDeviceSize                     imageMipTailStride;
} VkSparseImageMemoryRequirements;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>formatProperties.aspectMask</code> is the set of aspects of the image
that this sparse memory requirement applies to.
This will usually have a single aspect specified.
However, depth/stencil images <strong class="purple">may</strong> have depth and stencil data
interleaved in the same sparse block, in which case both
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> and <code>VK_IMAGE_ASPECT_STENCIL_BIT</code>
would be present.</p>
</li>
<li>
<p><code>formatProperties.imageGranularity</code> describes the dimensions of a
single bindable sparse image block in texel units.
For aspect <code>VK_IMAGE_ASPECT_METADATA_BIT</code>, all dimensions will be
zero.
All metadata is located in the mip tail region.</p>
</li>
<li>
<p><code>formatProperties.flags</code> is a bitmask of
<a href="#VkSparseImageFormatFlagBits">VkSparseImageFormatFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p>If <code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> is set the image
uses a single mip tail region for all array layers.</p>
</li>
<li>
<p>If <code>VK_SPARSE_IMAGE_FORMAT_ALIGNED_MIP_SIZE_BIT</code> is set the
dimensions of mip levels <strong class="purple">must</strong> be integer multiples of the
corresponding dimensions of the sparse image block for levels not
located in the mip tail.</p>
</li>
<li>
<p>If <code>VK_SPARSE_IMAGE_FORMAT_NONSTANDARD_BLOCK_SIZE_BIT</code> is set the
image uses non-standard sparse image block dimensions.
The <code>formatProperties.imageGranularity</code> values do not match the
standard sparse image block dimension corresponding to the image&#8217;s
format.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>imageMipTailFirstLod</code> is the first mip level at which image
subresources are included in the mip tail region.</p>
</li>
<li>
<p><code>imageMipTailSize</code> is the memory size (in bytes) of the mip tail
region.
If <code>formatProperties.flags</code> contains
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>, this is the size of the
whole mip tail, otherwise this is the size of the mip tail of a single
array layer.
This value is guaranteed to be a multiple of the sparse block size in
bytes.</p>
</li>
<li>
<p><code>imageMipTailOffset</code> is the opaque memory offset used with
<a href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a> to bind the mip tail region(s).</p>
</li>
<li>
<p><code>imageMipTailStride</code> is the offset stride between each array-layer&#8217;s
mip tail, if <code>formatProperties.flags</code> does not contain
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> (otherwise the value is
undefined).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query sparse memory requirements for an image, call:</p>
</div>
<div id="vkGetImageSparseMemoryRequirements" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetImageSparseMemoryRequirements(
    VkDevice                                    device,
    VkImage                                     image,
    uint32_t*                                   pSparseMemoryRequirementCount,
    VkSparseImageMemoryRequirements*            pSparseMemoryRequirements);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the image.</p>
</li>
<li>
<p><code>image</code> is the <a href="#VkImage">VkImage</a> object to get the memory requirements
for.</p>
</li>
<li>
<p><code>pSparseMemoryRequirementCount</code> is a pointer to an integer related
to the number of sparse memory requirements available or queried, as
described below.</p>
</li>
<li>
<p><code>pSparseMemoryRequirements</code> is either <code>NULL</code> or a pointer to an
array of <code>VkSparseImageMemoryRequirements</code> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pSparseMemoryRequirements</code> is <code>NULL</code>, then the number of sparse
memory requirements available is returned in
<code>pSparseMemoryRequirementCount</code>.
Otherwise, <code>pSparseMemoryRequirementCount</code> <strong class="purple">must</strong> point to a variable set
by the user to the number of elements in the <code>pSparseMemoryRequirements</code>
array, and on return the variable is overwritten with the number of
structures actually written to <code>pSparseMemoryRequirements</code>.
If <code>pSparseMemoryRequirementCount</code> is less than the number of sparse
memory requirements available, at most <code>pSparseMemoryRequirementCount</code>
structures will be written.</p>
</div>
<div class="paragraph">
<p>If the image was not created with <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>
then <code>pSparseMemoryRequirementCount</code> will be set to zero and
<code>pSparseMemoryRequirements</code> will not be written to.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is legal for an implementation to report a larger value in
<code>VkMemoryRequirements</code>::<code>size</code> than would be obtained by adding
together memory sizes for all <code>VkSparseImageMemoryRequirements</code> returned
by <code>vkGetImageSparseMemoryRequirements</code>.
This <strong class="purple">may</strong> occur when the implementation requires unused padding in the
address range describing the resource.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetImageSparseMemoryRequirements-device-parameter" href="#VUID-vkGetImageSparseMemoryRequirements-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <a href="#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageSparseMemoryRequirements-image-parameter" href="#VUID-vkGetImageSparseMemoryRequirements-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageSparseMemoryRequirements-pSparseMemoryRequirementCount-parameter" href="#VUID-vkGetImageSparseMemoryRequirements-pSparseMemoryRequirementCount-parameter"></a> <code>pSparseMemoryRequirementCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetImageSparseMemoryRequirements-pSparseMemoryRequirements-parameter" href="#VUID-vkGetImageSparseMemoryRequirements-pSparseMemoryRequirements-parameter"></a> If the value referenced by <code>pSparseMemoryRequirementCount</code> is not <code>0</code>, and <code>pSparseMemoryRequirements</code> is not <code>NULL</code>, <code>pSparseMemoryRequirements</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pSparseMemoryRequirementCount</code> <a href="#VkSparseImageMemoryRequirements">VkSparseImageMemoryRequirements</a> structures</p>
</li>
<li>
<p><a id="VUID-vkGetImageSparseMemoryRequirements-image-parent" href="#VUID-vkGetImageSparseMemoryRequirements-image-parent"></a> <code>image</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-resource-binding"><a class="anchor" href="#sparsememory-resource-binding"></a>28.7.6. Binding Resource Memory</h4>
<div class="paragraph">
<p>Non-sparse resources are backed by a single physical allocation prior to
device use (via <code>vkBindImageMemory</code> or <code>vkBindBufferMemory</code>), and
their backing <strong class="purple">must</strong> not be changed.
On the other hand, sparse resources <strong class="purple">can</strong> be bound to memory non-contiguously
and these bindings <strong class="purple">can</strong> be altered during the lifetime of the resource.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is important to note that freeing a <code>VkDeviceMemory</code> object with
<code>vkFreeMemory</code> will not cause resources (or resource regions) bound to
the memory object to become unbound.
Applications <strong class="purple">must</strong> not access resources bound to memory that has been freed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Sparse memory bindings execute on a queue that includes the
<code>VK_QUEUE_SPARSE_BINDING_BIT</code> bit.
Applications <strong class="purple">must</strong> use <a href="#synchronization">synchronization primitives</a> to
guarantee that other queues do not access ranges of memory concurrently with
a binding change.
Applications <strong class="purple">can</strong> access other ranges of the same resource while a bind
operation is executing.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Implementations <strong class="purple">must</strong> provide a guarantee that simultaneously binding sparse
blocks while another queue accesses those same sparse blocks via a sparse
resource <strong class="purple">must</strong> not access memory owned by another process or otherwise
corrupt the system.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>While some implementations <strong class="purple">may</strong> include <code>VK_QUEUE_SPARSE_BINDING_BIT</code>
support in queue families that also include graphics and compute support,
other implementations <strong class="purple">may</strong> only expose a
<code>VK_QUEUE_SPARSE_BINDING_BIT</code>-only queue family.
In either case, applications <strong class="purple">must</strong> use <a href="#synchronization">synchronization
primitives</a> to explicitly request any ordering dependencies between sparse
memory binding operations and other graphics/compute/transfer operations, as
sparse binding operations are not automatically ordered against command
buffer execution, even within a single queue.</p>
</div>
<div class="paragraph">
<p>When binding memory explicitly for the <code>VK_IMAGE_ASPECT_METADATA_BIT</code>
the application <strong class="purple">must</strong> use the <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> in
the <code>VkSparseMemoryBind</code>::<code>flags</code> field when binding memory.
Binding memory for metadata is done the same way as binding memory for the
mip tail, with the addition of the <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>
flag.</p>
</div>
<div class="paragraph">
<p>Binding the mip tail for any aspect <strong class="purple">must</strong> only be performed using
<a href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a>.
If <code>formatProperties.flags</code> contains
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>, then it <strong class="purple">can</strong> be bound with
a single <a href="#VkSparseMemoryBind">VkSparseMemoryBind</a> structure, with <code>resourceOffset</code> =
<code>imageMipTailOffset</code> and <code>size</code> = <code>imageMipTailSize</code>.</p>
</div>
<div class="paragraph">
<p>If <code>formatProperties.flags</code> does not contain
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code> then the offset for the mip
tail in each array layer is given as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">arrayMipTailOffset = imageMipTailOffset + arrayLayer * imageMipTailStride;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and the mip tail <strong class="purple">can</strong> be bound with <code>layerCount</code> <a href="#VkSparseMemoryBind">VkSparseMemoryBind</a>
structures, each using <code>size</code> = <code>imageMipTailSize</code> and
<code>resourceOffset</code> = <code>arrayMipTailOffset</code> as defined above.</p>
</div>
<div class="paragraph">
<p>Sparse memory binding is handled by the following APIs and related data
structures.</p>
</div>
<div class="sect4">
<h5 id="sparsemem-memory-binding"><a class="anchor" href="#sparsemem-memory-binding"></a>Sparse Memory Binding Functions</h5>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSparseMemoryBind</code> structure is defined as:</p>
</div>
<div id="VkSparseMemoryBind" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSparseMemoryBind {
    VkDeviceSize               resourceOffset;
    VkDeviceSize               size;
    VkDeviceMemory             memory;
    VkDeviceSize               memoryOffset;
    VkSparseMemoryBindFlags    flags;
} VkSparseMemoryBind;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>resourceOffset</code> is the offset into the resource.</p>
</li>
<li>
<p><code>size</code> is the size of the memory region to be bound.</p>
</li>
<li>
<p><code>memory</code> is the <a href="#VkDeviceMemory">VkDeviceMemory</a> object that the range of the
resource is bound to.
If <code>memory</code> is <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the range is unbound.</p>
</li>
<li>
<p><code>memoryOffset</code> is the offset into the <a href="#VkDeviceMemory">VkDeviceMemory</a> object to
bind the resource range to.
If <code>memory</code> is <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, this value is ignored.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkSparseMemoryBindFlagBits">VkSparseMemoryBindFlagBits</a> specifying
usage of the binding operation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>binding range</em> <span class="eq">[<code>resourceOffset</code>, <code>resourceOffset</code> + 
<code>size</code>)</span> has different constraints based on <code>flags</code>.
If <code>flags</code> contains <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the
binding range <strong class="purple">must</strong> be within the mip tail region of the metadata aspect.
This metadata region is defined by:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">metadataRegion = [base, base + 
<code>imageMipTailSize</code>)</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">base = <code>imageMipTailOffset</code> + 
<code>imageMipTailStride</code>  n</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>and <code>imageMipTailOffset</code>, <code>imageMipTailSize</code>, and
<code>imageMipTailStride</code> values are from the
<a href="#VkSparseImageMemoryRequirements">VkSparseImageMemoryRequirements</a> corresponding to the metadata aspect
of the image, and <span class="eq">n</span> is a valid array layer index for the image,</p>
</div>
<div class="paragraph">
<p><code>imageMipTailStride</code> is considered to be zero for aspects where
<code>VkSparseImageMemoryRequirements</code>::<code>formatProperties.flags</code> contains
<code>VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>.</p>
</div>
<div class="paragraph">
<p>If <code>flags</code> does not contain <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>,
the binding range <strong class="purple">must</strong> be within the range
<span class="eq">[0,<a href="#VkMemoryRequirements">VkMemoryRequirements</a>::<code>size</code>)</span>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSparseMemoryBind-memory-01096" href="#VUID-VkSparseMemoryBind-memory-01096"></a>
If <code>memory</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>memory</code> and
<code>memoryOffset</code> <strong class="purple">must</strong> match the memory requirements of the resource,
as described in section <a href="#resources-association">Resource Memory Association</a></p>
</li>
<li>
<p><a id="VUID-VkSparseMemoryBind-memory-01097" href="#VUID-VkSparseMemoryBind-memory-01097"></a>
If <code>memory</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>memory</code> <strong class="purple">must</strong> not have
been created with a memory type that reports
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set</p>
</li>
<li>
<p><a id="VUID-VkSparseMemoryBind-size-01098" href="#VUID-VkSparseMemoryBind-size-01098"></a>
<code>size</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkSparseMemoryBind-resourceOffset-01099" href="#VUID-VkSparseMemoryBind-resourceOffset-01099"></a>
<code>resourceOffset</code> <strong class="purple">must</strong> be less than the size of the resource</p>
</li>
<li>
<p><a id="VUID-VkSparseMemoryBind-size-01100" href="#VUID-VkSparseMemoryBind-size-01100"></a>
<code>size</code> <strong class="purple">must</strong> be less than or equal to the size of the resource minus
<code>resourceOffset</code></p>
</li>
<li>
<p><a id="VUID-VkSparseMemoryBind-memoryOffset-01101" href="#VUID-VkSparseMemoryBind-memoryOffset-01101"></a>
<code>memoryOffset</code> <strong class="purple">must</strong> be less than the size of <code>memory</code></p>
</li>
<li>
<p><a id="VUID-VkSparseMemoryBind-size-01102" href="#VUID-VkSparseMemoryBind-size-01102"></a>
<code>size</code> <strong class="purple">must</strong> be less than or equal to the size of <code>memory</code> minus
<code>memoryOffset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSparseMemoryBind-memory-parameter" href="#VUID-VkSparseMemoryBind-memory-parameter"></a> If <code>memory</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>memory</code> <strong class="purple">must</strong> be a valid <a href="#VkDeviceMemory">VkDeviceMemory</a> handle</p>
</li>
<li>
<p><a id="VUID-VkSparseMemoryBind-flags-parameter" href="#VUID-VkSparseMemoryBind-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkSparseMemoryBindFlagBits">VkSparseMemoryBindFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkSparseMemoryBind">VkSparseMemoryBind</a>::<code>flags</code>, specifying
usage of a sparse memory binding operation, are:</p>
</div>
<div id="VkSparseMemoryBindFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkSparseMemoryBindFlagBits {
    VK_SPARSE_MEMORY_BIND_METADATA_BIT = <span class="hex">0x00000001</span>,
    VK_SPARSE_MEMORY_BIND_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkSparseMemoryBindFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> specifies that the memory being
bound is only for the metadata aspect.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSparseMemoryBindFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkSparseMemoryBindFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSparseMemoryBindFlags</code> is a bitmask type for setting a mask of zero
or more <a href="#VkSparseMemoryBindFlagBits">VkSparseMemoryBindFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Memory is bound to <code>VkBuffer</code> objects created with the
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> flag using the following
structure:</p>
</div>
<div id="VkSparseBufferMemoryBindInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSparseBufferMemoryBindInfo {
    VkBuffer                     buffer;
    uint32_t                     bindCount;
    <span class="directive">const</span> VkSparseMemoryBind*    pBinds;
} VkSparseBufferMemoryBindInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>buffer</code> is the <a href="#VkBuffer">VkBuffer</a> object to be bound.</p>
</li>
<li>
<p><code>bindCount</code> is the number of <a href="#VkSparseMemoryBind">VkSparseMemoryBind</a> structures in
the <code>pBinds</code> array.</p>
</li>
<li>
<p><code>pBinds</code> is a pointer to array of <a href="#VkSparseMemoryBind">VkSparseMemoryBind</a>
structures.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSparseBufferMemoryBindInfo-buffer-parameter" href="#VUID-VkSparseBufferMemoryBindInfo-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="#VkBuffer">VkBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-VkSparseBufferMemoryBindInfo-pBinds-parameter" href="#VUID-VkSparseBufferMemoryBindInfo-pBinds-parameter"></a> <code>pBinds</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bindCount</code> valid <a href="#VkSparseMemoryBind">VkSparseMemoryBind</a> structures</p>
</li>
<li>
<p><a id="VUID-VkSparseBufferMemoryBindInfo-bindCount-arraylength" href="#VUID-VkSparseBufferMemoryBindInfo-bindCount-arraylength"></a> <code>bindCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Memory is bound to opaque regions of <code>VkImage</code> objects created with the
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flag using the following structure:</p>
</div>
<div id="VkSparseImageOpaqueMemoryBindInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSparseImageOpaqueMemoryBindInfo {
    VkImage                      image;
    uint32_t                     bindCount;
    <span class="directive">const</span> VkSparseMemoryBind*    pBinds;
} VkSparseImageOpaqueMemoryBindInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>image</code> is the <a href="#VkImage">VkImage</a> object to be bound.</p>
</li>
<li>
<p><code>bindCount</code> is the number of <a href="#VkSparseMemoryBind">VkSparseMemoryBind</a> structures in
the <code>pBinds</code> array.</p>
</li>
<li>
<p><code>pBinds</code> is a pointer to an array of <a href="#VkSparseMemoryBind">VkSparseMemoryBind</a>
structures.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSparseImageOpaqueMemoryBindInfo-pBinds-01103" href="#VUID-VkSparseImageOpaqueMemoryBindInfo-pBinds-01103"></a>
If the <code>flags</code> member of any element of <code>pBinds</code> contains
<code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the binding range defined
<strong class="purple">must</strong> be within the mip tail region of the metadata aspect of
<code>image</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSparseImageOpaqueMemoryBindInfo-image-parameter" href="#VUID-VkSparseImageOpaqueMemoryBindInfo-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-VkSparseImageOpaqueMemoryBindInfo-pBinds-parameter" href="#VUID-VkSparseImageOpaqueMemoryBindInfo-pBinds-parameter"></a> <code>pBinds</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bindCount</code> valid <a href="#VkSparseMemoryBind">VkSparseMemoryBind</a> structures</p>
</li>
<li>
<p><a id="VUID-VkSparseImageOpaqueMemoryBindInfo-bindCount-arraylength" href="#VUID-VkSparseImageOpaqueMemoryBindInfo-bindCount-arraylength"></a> <code>bindCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This operation is normally used to bind memory to fully-resident sparse
images or for mip tail regions of partially resident images.
However, it <strong class="purple">can</strong> also be used to bind memory for the entire binding range of
partially resident images.</p>
</div>
<div class="paragraph">
<p>In case <code>flags</code> does not contain
<code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the <code>resourceOffset</code> is in the
range <span class="eq">[0, <a href="#VkMemoryRequirements">VkMemoryRequirements</a>::<code>size</code>)</span>, This range includes
data from all aspects of the image, including metadata.
For most implementations this will probably mean that the
<code>resourceOffset</code> is a simple device address offset within the resource.
It is possible for an application to bind a range of memory that includes
both resource data and metadata.
However, the application would not know what part of the image the memory is
used for, or if any range is being used for metadata.</p>
</div>
<div class="paragraph">
<p>When <code>flags</code> contains <code>VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the
binding range specified <strong class="purple">must</strong> be within the mip tail region of the metadata
aspect.
In this case the <code>resourceOffset</code> is not <strong class="purple">required</strong> to be a simple device
address offset within the resource.
However, it <em>is</em> defined to be within <span class="eq">[<code>imageMipTailOffset</code>,
<code>imageMipTailOffset</code> +  <code>imageMipTailSize</code>)</span> for the metadata
aspect.
See <a href="#VkSparseMemoryBind">VkSparseMemoryBind</a> for the full constraints on binding region with
this flag present.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Memory <strong class="purple">can</strong> be bound to sparse image blocks of <code>VkImage</code> objects created
with the <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> flag using the following
structure:</p>
</div>
<div id="VkSparseImageMemoryBindInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSparseImageMemoryBindInfo {
    VkImage                           image;
    uint32_t                          bindCount;
    <span class="directive">const</span> VkSparseImageMemoryBind*    pBinds;
} VkSparseImageMemoryBindInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>image</code> is the <a href="#VkImage">VkImage</a> object to be bound</p>
</li>
<li>
<p><code>bindCount</code> is the number of <a href="#VkSparseImageMemoryBind">VkSparseImageMemoryBind</a>
structures in <code>pBinds</code> array</p>
</li>
<li>
<p><code>pBinds</code> is a pointer to an array of <a href="#VkSparseImageMemoryBind">VkSparseImageMemoryBind</a>
structures</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSparseImageMemoryBindInfo-subresource-01722" href="#VUID-VkSparseImageMemoryBindInfo-subresource-01722"></a>
The <code>subresource.mipLevel</code> member of each element of <code>pBinds</code>
<strong class="purple">must</strong> be less than the <code>mipLevels</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code> was created</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBindInfo-subresource-01723" href="#VUID-VkSparseImageMemoryBindInfo-subresource-01723"></a>
The <code>subresource.arrayLayer</code> member of each element of <code>pBinds</code>
<strong class="purple">must</strong> be less than the <code>arrayLayers</code> specified in
<a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code> was created</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBindInfo-image-02901" href="#VUID-VkSparseImageMemoryBindInfo-image-02901"></a>
<code>image</code> <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSparseImageMemoryBindInfo-image-parameter" href="#VUID-VkSparseImageMemoryBindInfo-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <a href="#VkImage">VkImage</a> handle</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBindInfo-pBinds-parameter" href="#VUID-VkSparseImageMemoryBindInfo-pBinds-parameter"></a> <code>pBinds</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bindCount</code> valid <a href="#VkSparseImageMemoryBind">VkSparseImageMemoryBind</a> structures</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBindInfo-bindCount-arraylength" href="#VUID-VkSparseImageMemoryBindInfo-bindCount-arraylength"></a> <code>bindCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSparseImageMemoryBind</code> structure is defined as:</p>
</div>
<div id="VkSparseImageMemoryBind" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSparseImageMemoryBind {
    VkImageSubresource         subresource;
    VkOffset3D                 offset;
    VkExtent3D                 extent;
    VkDeviceMemory             memory;
    VkDeviceSize               memoryOffset;
    VkSparseMemoryBindFlags    flags;
} VkSparseImageMemoryBind;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>subresource</code> is the image <em>aspect</em> and region of interest in the
image.</p>
</li>
<li>
<p><code>offset</code> are the coordinates of the first texel within the image
subresource to bind.</p>
</li>
<li>
<p><code>extent</code> is the size in texels of the region within the image
subresource to bind.
The extent <strong class="purple">must</strong> be a multiple of the sparse image block dimensions,
except when binding sparse image blocks along the edge of an image
subresource it <strong class="purple">can</strong> instead be such that any coordinate of
<span class="eq"><code>offset</code> +  <code>extent</code></span> equals the corresponding
dimensions of the image subresource.</p>
</li>
<li>
<p><code>memory</code> is the <a href="#VkDeviceMemory">VkDeviceMemory</a> object that the sparse image
blocks of the image are bound to.
If <code>memory</code> is <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the sparse image blocks are
unbound.</p>
</li>
<li>
<p><code>memoryOffset</code> is an offset into <a href="#VkDeviceMemory">VkDeviceMemory</a> object.
If <code>memory</code> is <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, this value is ignored.</p>
</li>
<li>
<p><code>flags</code> are sparse memory binding flags.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-memory-01104" href="#VUID-VkSparseImageMemoryBind-memory-01104"></a>
If the <a href="#features-sparseResidencyAliased">sparse aliased residency</a>
feature is not enabled, and if any other resources are bound to ranges
of <code>memory</code>, the range of <code>memory</code> being bound <strong class="purple">must</strong> not overlap
with those bound ranges</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-memory-01105" href="#VUID-VkSparseImageMemoryBind-memory-01105"></a>
<code>memory</code> and <code>memoryOffset</code> <strong class="purple">must</strong> match the memory requirements
of the calling command&#8217;s <code>image</code>, as described in section
<a href="#resources-association">Resource Memory Association</a></p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-subresource-01106" href="#VUID-VkSparseImageMemoryBind-subresource-01106"></a>
<code>subresource</code> <strong class="purple">must</strong> be a valid image subresource for <code>image</code>
(see <a href="#resources-image-views">Image Views</a>)</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-offset-01107" href="#VUID-VkSparseImageMemoryBind-offset-01107"></a>
<code>offset.x</code> <strong class="purple">must</strong> be a multiple of the sparse image block width
(<code>VkSparseImageFormatProperties</code>::<code>imageGranularity.width</code>) of
the image</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-extent-01108" href="#VUID-VkSparseImageMemoryBind-extent-01108"></a>
<code>extent.width</code> <strong class="purple">must</strong> either be a multiple of the sparse image block
width of the image, or else <span class="eq">(<code>extent.width</code> + 
<code>offset.x</code>)</span> <strong class="purple">must</strong> equal the width of the image subresource</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-offset-01109" href="#VUID-VkSparseImageMemoryBind-offset-01109"></a>
<code>offset.y</code> <strong class="purple">must</strong> be a multiple of the sparse image block height
(<code>VkSparseImageFormatProperties</code>::<code>imageGranularity.height</code>) of
the image</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-extent-01110" href="#VUID-VkSparseImageMemoryBind-extent-01110"></a>
<code>extent.height</code> <strong class="purple">must</strong> either be a multiple of the sparse image block
height of the image, or else <span class="eq">(<code>extent.height</code> + 
<code>offset.y</code>)</span> <strong class="purple">must</strong> equal the height of the image subresource</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-offset-01111" href="#VUID-VkSparseImageMemoryBind-offset-01111"></a>
<code>offset.z</code> <strong class="purple">must</strong> be a multiple of the sparse image block depth
(<code>VkSparseImageFormatProperties</code>::<code>imageGranularity.depth</code>) of
the image</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-extent-01112" href="#VUID-VkSparseImageMemoryBind-extent-01112"></a>
<code>extent.depth</code> <strong class="purple">must</strong> either be a multiple of the sparse image block
depth of the image, or else <span class="eq">(<code>extent.depth</code> + 
<code>offset.z</code>)</span> <strong class="purple">must</strong> equal the depth of the image subresource</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-subresource-parameter" href="#VUID-VkSparseImageMemoryBind-subresource-parameter"></a> <code>subresource</code> <strong class="purple">must</strong> be a valid <a href="#VkImageSubresource">VkImageSubresource</a> structure</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-memory-parameter" href="#VUID-VkSparseImageMemoryBind-memory-parameter"></a> If <code>memory</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>memory</code> <strong class="purple">must</strong> be a valid <a href="#VkDeviceMemory">VkDeviceMemory</a> handle</p>
</li>
<li>
<p><a id="VUID-VkSparseImageMemoryBind-flags-parameter" href="#VUID-VkSparseImageMemoryBind-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkSparseMemoryBindFlagBits">VkSparseMemoryBindFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To submit sparse binding operations to a queue, call:</p>
</div>
<div id="vkQueueBindSparse" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkQueueBindSparse(
    VkQueue                                     queue,
    uint32_t                                    bindInfoCount,
    <span class="directive">const</span> VkBindSparseInfo*                     pBindInfo,
    VkFence                                     fence);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>queue</code> is the queue that the sparse binding operations will be
submitted to.</p>
</li>
<li>
<p><code>bindInfoCount</code> is the number of elements in the <code>pBindInfo</code>
array.</p>
</li>
<li>
<p><code>pBindInfo</code> is a pointer to an array of <a href="#VkBindSparseInfo">VkBindSparseInfo</a>
structures, each specifying a sparse binding submission batch.</p>
</li>
<li>
<p><code>fence</code> is an <strong class="purple">optional</strong> handle to a fence to be signaled.
If <code>fence</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, it defines a
<a href="#synchronization-fences-signaling">fence signal operation</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkQueueBindSparse</code> is a <a href="#devsandqueues-submission">queue submission
command</a>, with each batch defined by an element of <code>pBindInfo</code> as a
<a href="#VkBindSparseInfo">VkBindSparseInfo</a> structure.
Batches begin execution in the order they appear in <code>pBindInfo</code>, but
<strong class="purple">may</strong> complete out of order.</p>
</div>
<div class="paragraph">
<p>Within a batch, a given range of a resource <strong class="purple">must</strong> not be bound more than
once.
Across batches, if a range is to be bound to one allocation and offset and
then to another allocation and offset, then the application <strong class="purple">must</strong> guarantee
(usually using semaphores) that the binding operations are executed in the
correct order, as well as to order binding operations against the execution
of command buffer submissions.</p>
</div>
<div class="paragraph">
<p>As no operation to <a href="#vkQueueBindSparse">vkQueueBindSparse</a> causes any pipeline stage to
access memory, synchronization primitives used in this command effectively
only define execution dependencies.</p>
</div>
<div class="paragraph">
<p>Additional information about fence and semaphore operation is described in
<a href="#synchronization">the synchronization chapter</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkQueueBindSparse-fence-01113" href="#VUID-vkQueueBindSparse-fence-01113"></a>
If <code>fence</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>fence</code> <strong class="purple">must</strong> be
unsignaled</p>
</li>
<li>
<p><a id="VUID-vkQueueBindSparse-fence-01114" href="#VUID-vkQueueBindSparse-fence-01114"></a>
If <code>fence</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>fence</code> <strong class="purple">must</strong> not be
associated with any other queue command that has not yet completed
execution on that queue</p>
</li>
<li>
<p><a id="VUID-vkQueueBindSparse-pSignalSemaphores-01115" href="#VUID-vkQueueBindSparse-pSignalSemaphores-01115"></a>
Each element of the <code>pSignalSemaphores</code> member of each element of
<code>pBindInfo</code> <strong class="purple">must</strong> be unsignaled when the semaphore signal operation
it defines is executed on the device</p>
</li>
<li>
<p><a id="VUID-vkQueueBindSparse-pWaitSemaphores-01116" href="#VUID-vkQueueBindSparse-pWaitSemaphores-01116"></a>
When a semaphore wait operation referring to a binary semaphore defined
by any element of the <code>pWaitSemaphores</code> member of any element of
<code>pBindInfo</code> executes on <code>queue</code>, there <strong class="purple">must</strong> be no other queues
waiting on the same semaphore.</p>
</li>
<li>
<p><a id="VUID-vkQueueBindSparse-pWaitSemaphores-01117" href="#VUID-vkQueueBindSparse-pWaitSemaphores-01117"></a>
All elements of the <code>pWaitSemaphores</code> member of all elements of
<code>pBindInfo</code> member referring to a binary semaphore <strong class="purple">must</strong> be
semaphores that are signaled, or have
<a href="#synchronization-semaphores-signaling">semaphore signal operations</a>
previously submitted for execution.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkQueueBindSparse-queue-parameter" href="#VUID-vkQueueBindSparse-queue-parameter"></a> <code>queue</code> <strong class="purple">must</strong> be a valid <a href="#VkQueue">VkQueue</a> handle</p>
</li>
<li>
<p><a id="VUID-vkQueueBindSparse-pBindInfo-parameter" href="#VUID-vkQueueBindSparse-pBindInfo-parameter"></a> If <code>bindInfoCount</code> is not <code>0</code>, <code>pBindInfo</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bindInfoCount</code> valid <a href="#VkBindSparseInfo">VkBindSparseInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-vkQueueBindSparse-fence-parameter" href="#VUID-vkQueueBindSparse-fence-parameter"></a> If <code>fence</code> is not <a href="#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>fence</code> <strong class="purple">must</strong> be a valid <a href="#VkFence">VkFence</a> handle</p>
</li>
<li>
<p><a id="VUID-vkQueueBindSparse-queuetype" href="#VUID-vkQueueBindSparse-queuetype"></a> The <code>queue</code> <strong class="purple">must</strong> support sparse binding operations</p>
</li>
<li>
<p><a id="VUID-vkQueueBindSparse-commonparent" href="#VUID-vkQueueBindSparse-commonparent"></a> Both of <code>fence</code>, and <code>queue</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>queue</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pBindInfo</code>[].pBufferBinds[].buffer <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pBindInfo</code>[].pImageOpaqueBinds[].image <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>pBindInfo</code>[].pImageBinds[].image <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to <code>fence</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SPARSE_BINDING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_DEVICE_LOST</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBindSparseInfo</code> structure is defined as:</p>
</div>
<div id="VkBindSparseInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkBindSparseInfo {
    VkStructureType                             sType;
    <span class="directive">const</span> <span class="directive">void</span>*                                 pNext;
    uint32_t                                    waitSemaphoreCount;
    <span class="directive">const</span> VkSemaphore*                          pWaitSemaphores;
    uint32_t                                    bufferBindCount;
    <span class="directive">const</span> VkSparseBufferMemoryBindInfo*         pBufferBinds;
    uint32_t                                    imageOpaqueBindCount;
    <span class="directive">const</span> VkSparseImageOpaqueMemoryBindInfo*    pImageOpaqueBinds;
    uint32_t                                    imageBindCount;
    <span class="directive">const</span> VkSparseImageMemoryBindInfo*          pImageBinds;
    uint32_t                                    signalSemaphoreCount;
    <span class="directive">const</span> VkSemaphore*                          pSignalSemaphores;
} VkBindSparseInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>waitSemaphoreCount</code> is the number of semaphores upon which to wait
before executing the sparse binding operations for the batch.</p>
</li>
<li>
<p><code>pWaitSemaphores</code> is a pointer to an array of semaphores upon which
to wait on before the sparse binding operations for this batch begin
execution.
If semaphores to wait on are provided, they define a
<a href="#synchronization-semaphores-waiting">semaphore wait operation</a>.</p>
</li>
<li>
<p><code>bufferBindCount</code> is the number of sparse buffer bindings to perform
in the batch.</p>
</li>
<li>
<p><code>pBufferBinds</code> is a pointer to an array of
<a href="#VkSparseBufferMemoryBindInfo">VkSparseBufferMemoryBindInfo</a> structures.</p>
</li>
<li>
<p><code>imageOpaqueBindCount</code> is the number of opaque sparse image bindings
to perform.</p>
</li>
<li>
<p><code>pImageOpaqueBinds</code> is a pointer to an array of
<a href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a> structures, indicating opaque
sparse image bindings to perform.</p>
</li>
<li>
<p><code>imageBindCount</code> is the number of sparse image bindings to perform.</p>
</li>
<li>
<p><code>pImageBinds</code> is a pointer to an array of
<a href="#VkSparseImageMemoryBindInfo">VkSparseImageMemoryBindInfo</a> structures, indicating sparse image
bindings to perform.</p>
</li>
<li>
<p><code>signalSemaphoreCount</code> is the number of semaphores to be signaled
once the sparse binding operations specified by the structure have
completed execution.</p>
</li>
<li>
<p><code>pSignalSemaphores</code> is a pointer to an array of semaphores which
will be signaled when the sparse binding operations for this batch have
completed execution.
If semaphores to be signaled are provided, they define a
<a href="#synchronization-semaphores-signaling">semaphore signal operation</a>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBindSparseInfo-sType-sType" href="#VUID-VkBindSparseInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_BIND_SPARSE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkBindSparseInfo-pNext-pNext" href="#VUID-VkBindSparseInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkBindSparseInfo-pWaitSemaphores-parameter" href="#VUID-VkBindSparseInfo-pWaitSemaphores-parameter"></a> If <code>waitSemaphoreCount</code> is not <code>0</code>, <code>pWaitSemaphores</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>waitSemaphoreCount</code> valid <a href="#VkSemaphore">VkSemaphore</a> handles</p>
</li>
<li>
<p><a id="VUID-VkBindSparseInfo-pBufferBinds-parameter" href="#VUID-VkBindSparseInfo-pBufferBinds-parameter"></a> If <code>bufferBindCount</code> is not <code>0</code>, <code>pBufferBinds</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bufferBindCount</code> valid <a href="#VkSparseBufferMemoryBindInfo">VkSparseBufferMemoryBindInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkBindSparseInfo-pImageOpaqueBinds-parameter" href="#VUID-VkBindSparseInfo-pImageOpaqueBinds-parameter"></a> If <code>imageOpaqueBindCount</code> is not <code>0</code>, <code>pImageOpaqueBinds</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>imageOpaqueBindCount</code> valid <a href="#VkSparseImageOpaqueMemoryBindInfo">VkSparseImageOpaqueMemoryBindInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkBindSparseInfo-pImageBinds-parameter" href="#VUID-VkBindSparseInfo-pImageBinds-parameter"></a> If <code>imageBindCount</code> is not <code>0</code>, <code>pImageBinds</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>imageBindCount</code> valid <a href="#VkSparseImageMemoryBindInfo">VkSparseImageMemoryBindInfo</a> structures</p>
</li>
<li>
<p><a id="VUID-VkBindSparseInfo-pSignalSemaphores-parameter" href="#VUID-VkBindSparseInfo-pSignalSemaphores-parameter"></a> If <code>signalSemaphoreCount</code> is not <code>0</code>, <code>pSignalSemaphores</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>signalSemaphoreCount</code> valid <a href="#VkSemaphore">VkSemaphore</a> handles</p>
</li>
<li>
<p><a id="VUID-VkBindSparseInfo-commonparent" href="#VUID-VkBindSparseInfo-commonparent"></a> Both of the elements of <code>pSignalSemaphores</code>, and the elements of <code>pWaitSemaphores</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sparsememory-examples"><a class="anchor" href="#sparsememory-examples"></a>28.8. Examples</h3>
<div class="paragraph">
<p>The following examples illustrate basic creation of sparse images and
binding them to physical memory.</p>
</div>
<div class="sect3">
<h4 id="sparsememory-examples-basic"><a class="anchor" href="#sparsememory-examples-basic"></a>28.8.1. Basic Sparse Resources</h4>
<div class="paragraph">
<p>This basic example creates a normal <code>VkImage</code> object but uses
fine-grained memory allocation to back the resource with multiple memory
ranges.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkDevice                device;
VkQueue                 queue;
VkImage                 sparseImage;
VkAllocationCallbacks*  pAllocator = <span class="predefined-constant">NULL</span>;
VkMemoryRequirements    memoryRequirements = {};
VkDeviceSize            offset = <span class="integer">0</span>;
VkSparseMemoryBind      binds[MAX_CHUNKS] = {}; <span class="comment">// MAX_CHUNKS is NOT part of Vulkan</span>
uint32_t                bindCount = <span class="integer">0</span>;

<span class="comment">// ...</span>

<span class="comment">// Allocate image object</span>
<span class="directive">const</span> VkImageCreateInfo sparseImageInfo =
{
    VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO,        <span class="comment">// sType</span>
    <span class="predefined-constant">NULL</span>,                                       <span class="comment">// pNext</span>
    VK_IMAGE_CREATE_SPARSE_BINDING_BIT | ...,   <span class="comment">// flags</span>
    ...
};
vkCreateImage(device, &amp;sparseImageInfo, pAllocator, &amp;sparseImage);

<span class="comment">// Get memory requirements</span>
vkGetImageMemoryRequirements(
    device,
    sparseImage,
    &amp;memoryRequirements);

<span class="comment">// Bind memory in fine-grained fashion, find available memory ranges</span>
<span class="comment">// from potentially multiple VkDeviceMemory pools.</span>
<span class="comment">// (Illustration purposes only, can be optimized for perf)</span>
<span class="keyword">while</span> (memoryRequirements.size &amp;&amp; bindCount &lt; MAX_CHUNKS)
{
    VkSparseMemoryBind* pBind = &amp;binds[bindCount];
    pBind-&gt;resourceOffset = offset;

    AllocateOrGetMemoryRange(
        device,
        &amp;memoryRequirements,
        &amp;pBind-&gt;memory,
        &amp;pBind-&gt;memoryOffset,
        &amp;pBind-&gt;size);

    <span class="comment">// memory ranges must be sized as multiples of the alignment</span>
    assert(IsMultiple(pBind-&gt;size, memoryRequirements.alignment));
    assert(IsMultiple(pBind-&gt;memoryOffset, memoryRequirements.alignment));

    memoryRequirements.size -= pBind-&gt;size;
    offset                  += pBind-&gt;size;
    bindCount++;
}

<span class="comment">// Ensure all image has backing</span>
<span class="keyword">if</span> (memoryRequirements.size)
{
    <span class="comment">// Error condition - too many chunks</span>
}

<span class="directive">const</span> VkSparseImageOpaqueMemoryBindInfo opaqueBindInfo =
{
    sparseImage,                                <span class="comment">// image</span>
    bindCount,                                  <span class="comment">// bindCount</span>
    binds                                       <span class="comment">// pBinds</span>
};

<span class="directive">const</span> VkBindSparseInfo bindSparseInfo =
{
    VK_STRUCTURE_TYPE_BIND_SPARSE_INFO,         <span class="comment">// sType</span>
    <span class="predefined-constant">NULL</span>,                                       <span class="comment">// pNext</span>
    ...
    <span class="integer">1</span>,                                          <span class="comment">// imageOpaqueBindCount</span>
    &amp;opaqueBindInfo,                            <span class="comment">// pImageOpaqueBinds</span>
    ...
};

<span class="comment">// vkQueueBindSparse is externally synchronized per queue object.</span>
AcquireQueueOwnership(queue);

<span class="comment">// Actually bind memory</span>
vkQueueBindSparse(queue, <span class="integer">1</span>, &amp;bindSparseInfo, VK_NULL_HANDLE);

ReleaseQueueOwnership(queue);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sparsememory-examples-advanced"><a class="anchor" href="#sparsememory-examples-advanced"></a>28.8.2. Advanced Sparse Resources</h4>
<div class="paragraph">
<p>This more advanced example creates an arrayed color attachment / texture
image and binds only LOD zero and the <strong class="purple">required</strong> metadata to physical memory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkDevice                            device;
VkQueue                             queue;
VkImage                             sparseImage;
VkAllocationCallbacks*              pAllocator = <span class="predefined-constant">NULL</span>;
VkMemoryRequirements                memoryRequirements = {};
uint32_t                            sparseRequirementsCount = <span class="integer">0</span>;
VkSparseImageMemoryRequirements*    pSparseReqs = <span class="predefined-constant">NULL</span>;
VkSparseMemoryBind                  binds[MY_IMAGE_ARRAY_SIZE] = {};
VkSparseImageMemoryBind             imageBinds[MY_IMAGE_ARRAY_SIZE] = {};
uint32_t                            bindCount = <span class="integer">0</span>;

<span class="comment">// Allocate image object (both renderable and sampleable)</span>
<span class="directive">const</span> VkImageCreateInfo sparseImageInfo =
{
    VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO,        <span class="comment">// sType</span>
    <span class="predefined-constant">NULL</span>,                                       <span class="comment">// pNext</span>
    VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT | ..., <span class="comment">// flags</span>
    ...
    VK_FORMAT_R8G8B8A8_UNORM,                   <span class="comment">// format</span>
    ...
    MY_IMAGE_ARRAY_SIZE,                        <span class="comment">// arrayLayers</span>
    ...
    VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT |
    VK_IMAGE_USAGE_SAMPLED_BIT,                 <span class="comment">// usage</span>
    ...
};
vkCreateImage(device, &amp;sparseImageInfo, pAllocator, &amp;sparseImage);

<span class="comment">// Get memory requirements</span>
vkGetImageMemoryRequirements(
    device,
    sparseImage,
    &amp;memoryRequirements);

<span class="comment">// Get sparse image aspect properties</span>
vkGetImageSparseMemoryRequirements(
    device,
    sparseImage,
    &amp;sparseRequirementsCount,
    <span class="predefined-constant">NULL</span>);

pSparseReqs = (VkSparseImageMemoryRequirements*)
    malloc(sparseRequirementsCount * <span class="keyword">sizeof</span>(VkSparseImageMemoryRequirements));

vkGetImageSparseMemoryRequirements(
    device,
    sparseImage,
    &amp;sparseRequirementsCount,
    pSparseReqs);

<span class="comment">// Bind LOD level 0 and any required metadata to memory</span>
<span class="keyword">for</span> (uint32_t i = <span class="integer">0</span>; i &lt; sparseRequirementsCount; ++i)
{
    <span class="keyword">if</span> (pSparseReqs[i].formatProperties.aspectMask &amp;
        VK_IMAGE_ASPECT_METADATA_BIT)
    {
        <span class="comment">// Metadata must not be combined with other aspects</span>
        assert(pSparseReqs[i].formatProperties.aspectMask ==
               VK_IMAGE_ASPECT_METADATA_BIT);

        <span class="keyword">if</span> (pSparseReqs[i].formatProperties.flags &amp;
            VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT)
        {
            VkSparseMemoryBind* pBind = &amp;binds[bindCount];
            pBind-&gt;memorySize = pSparseReqs[i].imageMipTailSize;
            bindCount++;

            <span class="comment">// ... Allocate memory range</span>

            pBind-&gt;resourceOffset = pSparseReqs[i].imageMipTailOffset;
            pBind-&gt;memoryOffset = <span class="comment">/* allocated memoryOffset */</span>;
            pBind-&gt;memory = <span class="comment">/* allocated memory */</span>;
            pBind-&gt;flags = VK_SPARSE_MEMORY_BIND_METADATA_BIT;

        }
        <span class="keyword">else</span>
        {
            <span class="comment">// Need a mip tail region per array layer.</span>
            <span class="keyword">for</span> (uint32_t a = <span class="integer">0</span>; a &lt; sparseImageInfo.arrayLayers; ++a)
            {
                VkSparseMemoryBind* pBind = &amp;binds[bindCount];
                pBind-&gt;memorySize = pSparseReqs[i].imageMipTailSize;
                bindCount++;

                <span class="comment">// ... Allocate memory range</span>

                pBind-&gt;resourceOffset = pSparseReqs[i].imageMipTailOffset +
                                        (a * pSparseReqs[i].imageMipTailStride);

                pBind-&gt;memoryOffset = <span class="comment">/* allocated memoryOffset */</span>;
                pBind-&gt;memory = <span class="comment">/* allocated memory */</span>
                pBind-&gt;flags = VK_SPARSE_MEMORY_BIND_METADATA_BIT;
            }
        }
    }
    <span class="keyword">else</span>
    {
        <span class="comment">// resource data</span>
        VkExtent3D lod0BlockSize =
        {
            AlignedDivide(
                sparseImageInfo.extent.width,
                pSparseReqs[i].formatProperties.imageGranularity.width);
            AlignedDivide(
                sparseImageInfo.extent.height,
                pSparseReqs[i].formatProperties.imageGranularity.height);
            AlignedDivide(
                sparseImageInfo.extent.depth,
                pSparseReqs[i].formatProperties.imageGranularity.depth);
        }
        size_t totalBlocks =
            lod0BlockSize.width *
            lod0BlockSize.height *
            lod0BlockSize.depth;

        <span class="comment">// Each block is the same size as the alignment requirement,</span>
        <span class="comment">// calculate total memory size for level 0</span>
        VkDeviceSize lod0MemSize = totalBlocks * memoryRequirements.alignment;

        <span class="comment">// Allocate memory for each array layer</span>
        <span class="keyword">for</span> (uint32_t a = <span class="integer">0</span>; a &lt; sparseImageInfo.arrayLayers; ++a)
        {
            <span class="comment">// ... Allocate memory range</span>

            VkSparseImageMemoryBind* pBind = &amp;imageBinds[a];
            pBind-&gt;subresource.aspectMask = pSparseReqs[i].formatProperties.aspectMask;
            pBind-&gt;subresource.mipLevel = <span class="integer">0</span>;
            pBind-&gt;subresource.arrayLayer = a;

            pBind-&gt;offset = (VkOffset3D){<span class="integer">0</span>, <span class="integer">0</span>, <span class="integer">0</span>};
            pBind-&gt;extent = sparseImageInfo.extent;
            pBind-&gt;memoryOffset = <span class="comment">/* allocated memoryOffset */</span>;
            pBind-&gt;memory = <span class="comment">/* allocated memory */</span>;
            pBind-&gt;flags = <span class="integer">0</span>;
        }
    }

    free(pSparseReqs);
}

<span class="directive">const</span> VkSparseImageOpaqueMemoryBindInfo opaqueBindInfo =
{
    sparseImage,                                <span class="comment">// image</span>
    bindCount,                                  <span class="comment">// bindCount</span>
    binds                                       <span class="comment">// pBinds</span>
};

<span class="directive">const</span> VkSparseImageMemoryBindInfo imageBindInfo =
{
    sparseImage,                                <span class="comment">// image</span>
    sparseImageInfo.arrayLayers,                <span class="comment">// bindCount</span>
    imageBinds                                  <span class="comment">// pBinds</span>
};

<span class="directive">const</span> VkBindSparseInfo bindSparseInfo =
{
    VK_STRUCTURE_TYPE_BIND_SPARSE_INFO,         <span class="comment">// sType</span>
    <span class="predefined-constant">NULL</span>,                                       <span class="comment">// pNext</span>
    ...
    <span class="integer">1</span>,                                          <span class="comment">// imageOpaqueBindCount</span>
    &amp;opaqueBindInfo,                            <span class="comment">// pImageOpaqueBinds</span>
    <span class="integer">1</span>,                                          <span class="comment">// imageBindCount</span>
    &amp;imageBindInfo,                             <span class="comment">// pImageBinds</span>
    ...
};

<span class="comment">// vkQueueBindSparse is externally synchronized per queue object.</span>
AcquireQueueOwnership(queue);

<span class="comment">// Actually bind memory</span>
vkQueueBindSparse(queue, <span class="integer">1</span>, &amp;bindSparseInfo, VK_NULL_HANDLE);

ReleaseQueueOwnership(queue);</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extendingvulkan"><a class="anchor" href="#extendingvulkan"></a>29. Extending Vulkan</h2>
<div class="sectionbody">
<div class="paragraph">
<p>New functionality <strong class="purple">may</strong> be added to Vulkan via either new extensions or new
versions of the core, or new versions of an extension in some cases.</p>
</div>
<div class="paragraph">
<p>This chapter describes how Vulkan is versioned, how compatibility is
affected between different versions, and compatibility rules that are
followed by the Vulkan Working Group.</p>
</div>
<div class="sect2">
<h3 id="extendingvulkan-instanceanddevicefunctionality"><a class="anchor" href="#extendingvulkan-instanceanddevicefunctionality"></a>29.1. Instance and Device Functionality</h3>
<div class="paragraph">
<p>Commands that enumerate instance properties, or that accept a
<a href="#VkInstance">VkInstance</a> object as a parameter, are considered instance-level
functionality.
Commands
that accept a <a href="#VkDevice">VkDevice</a> object or any of a device&#8217;s child objects as a
parameter, are considered device-level functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="extendingvulkan-coreversions"><a class="anchor" href="#extendingvulkan-coreversions"></a>29.2. Core Versions</h3>
<div class="paragraph">
<p>The Vulkan Specification is regularly updated with bug fixes and
clarifications.
Occasionally new functionality is added to the core and at some point it is
expected that there will be a desire to perform a large, breaking change to
the API.
In order to indicate to developers how and when these changes are made to
the specification, and to provide a way to identify each set of changes, the
Vulkan API maintains a version number.</p>
</div>
<div class="sect3">
<h4 id="extendingvulkan-coreversions-versionnumbers"><a class="anchor" href="#extendingvulkan-coreversions-versionnumbers"></a>29.2.1. Version Numbers</h4>
<div class="paragraph">
<p>The Vulkan version number comprises three parts indicating the major, minor
and patch version of the Vulkan API Specification.</p>
</div>
<div class="paragraph">
<p>The <em>major version</em> indicates a significant change in the API, which will
encompass a wholly new version of the specification.</p>
</div>
<div class="paragraph">
<p>The <em>minor version</em> indicates the incorporation of new functionality into
the core specification.</p>
</div>
<div class="paragraph">
<p>The <em>patch version</em> indicates bug fixes, clarifications, and language
improvements have been incorporated into the specification.</p>
</div>
<div class="paragraph">
<p>Compatibility guarantees made about versions of the API sharing any of the
same version numbers are documented in
<a href="#extendingvulkan-compatibility-coreversions">Core Versions</a></p>
</div>
<div class="paragraph">
<p>The version number is used in several places in the API.
In each such use, the version numbers are packed into a 32-bit integer as
follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The major version is a 10-bit integer packed into bits 31-22.</p>
</li>
<li>
<p>The minor version number is a 10-bit integer packed into bits 21-12.</p>
</li>
<li>
<p>The patch version number is a 12-bit integer packed into bits 11-0.</p>
</li>
</ul>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_VERSION_MAJOR</code> extracts the API major version number from a packed
version number:</p>
</div>
<div id="VK_VERSION_MAJOR" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="preprocessor">#define</span> VK_VERSION_MAJOR(version) ((uint32_t)(version) &gt;&gt; <span class="integer">22</span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_VERSION_MINOR</code> extracts the API minor version number from a packed
version number:</p>
</div>
<div id="VK_VERSION_MINOR" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="preprocessor">#define</span> VK_VERSION_MINOR(version) (((uint32_t)(version) &gt;&gt; <span class="integer">12</span>) &amp; <span class="hex">0x3ff</span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_VERSION_PATCH</code> extracts the API patch version number from a packed
version number:</p>
</div>
<div id="VK_VERSION_PATCH" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="preprocessor">#define</span> VK_VERSION_PATCH(version) ((uint32_t)(version) &amp; <span class="hex">0xfff</span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_MAKE_VERSION</code> constructs an API version number.</p>
</div>
<div id="VK_MAKE_VERSION" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="preprocessor">#define</span> VK_MAKE_VERSION(major, minor, patch) \
    (((major) &lt;&lt; <span class="integer">22</span>) | ((minor) &lt;&lt; <span class="integer">12</span>) | (patch))</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>major</code> is the major version number.</p>
</li>
<li>
<p><code>minor</code> is the minor version number.</p>
</li>
<li>
<p><code>patch</code> is the patch version number.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_API_VERSION_1_0</code> returns the API version number for Vulkan 1.0.0.</p>
</div>
<div id="VK_API_VERSION_1_0" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Vulkan 1.0 version number</span>
<span class="preprocessor">#define</span> VK_API_VERSION_1_0 VK_MAKE_VERSION(<span class="integer">1</span>, <span class="integer">0</span>, <span class="integer">0</span>)<span class="comment">// Patch version should always be set to 0</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="extendingvulkan-coreversions-queryingversionsupport"><a class="anchor" href="#extendingvulkan-coreversions-queryingversionsupport"></a>29.2.2. Querying Version Support</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In Vulkan 1.0, there is no mechanism to detect the separate versions of
<a href="#extendingvulkan-instanceanddevicefunctionality">instance-level and
device-level functionality</a> supported.
However, the <code>vkEnumerateInstanceVersion</code> command was added in Vulkan
1.1 to determine the supported version of instance-level functionality -
querying for this function via <a href="#vkGetInstanceProcAddr">vkGetInstanceProcAddr</a> will return
<code>NULL</code> on implementations that only support Vulkan 1.0 functionality.
For more information on this, please refer to the Vulkan 1.1 specification.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The version of device-level functionality can be queried by calling
<a href="#vkGetPhysicalDeviceProperties">vkGetPhysicalDeviceProperties</a>
and is returned in <a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>apiVersion</code>,
encoded as described in <a href="#extendingvulkan-coreversions-versionnumbers">Version Numbers</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extendingvulkan-layers"><a class="anchor" href="#extendingvulkan-layers"></a>29.3. Layers</h3>
<div class="paragraph">
<p>When a layer is enabled, it inserts itself into the call chain for Vulkan
commands the layer is interested in.
Layers <strong class="purple">can</strong> be used for a variety of tasks that extend the base behavior of
Vulkan beyond what is required by the specification - such as call logging,
tracing, validation, or providing additional extensions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For example, an implementation is not expected to check that the value of
enums used by the application fall within allowed ranges.
Instead, a validation layer would do those checks and flag issues.
This avoids a performance penalty during production use of the application
because those layers would not be enabled in production.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Vulkan layers <strong class="purple">may</strong> wrap object handles (i.e. return a different handle value
to the application than that generated by the implementation).
This is generally discouraged, as it increases the probability of
incompatibilities with new extensions.
The validation layers wrap handles in order to track the proper use and
destruction of each object.
See the <a href="#LoaderAndLayerInterface">&#8220;Vulkan Loader Specification and
Architecture Overview&#8221;</a> document for additional information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the available layers, call:</p>
</div>
<div id="vkEnumerateInstanceLayerProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkEnumerateInstanceLayerProperties(
    uint32_t*                                   pPropertyCount,
    VkLayerProperties*                          pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
layer properties available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkLayerProperties">VkLayerProperties</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of layer properties
available is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong class="purple">must</strong> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If <code>pPropertyCount</code> is less than the number of layer properties
available, at most <code>pPropertyCount</code> structures will be written.
If <code>pPropertyCount</code> is smaller than the number of layers available,
<code>VK_INCOMPLETE</code> will be returned instead of <code>VK_SUCCESS</code>, to
indicate that not all the available layer properties were returned.</p>
</div>
<div class="paragraph">
<p>The list of available layers may change at any time due to actions outside
of the Vulkan implementation, so two calls to
<code>vkEnumerateInstanceLayerProperties</code> with the same parameters <strong class="purple">may</strong>
return different results, or retrieve different <code>pPropertyCount</code> values
or <code>pProperties</code> contents.
Once an instance has been created, the layers enabled for that instance will
continue to be enabled and valid for the lifetime of that instance, even if
some of them become unavailable for future instances.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkEnumerateInstanceLayerProperties-pPropertyCount-parameter" href="#VUID-vkEnumerateInstanceLayerProperties-pPropertyCount-parameter"></a> <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkEnumerateInstanceLayerProperties-pProperties-parameter" href="#VUID-vkEnumerateInstanceLayerProperties-pProperties-parameter"></a> If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="#VkLayerProperties">VkLayerProperties</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkLayerProperties</code> structure is defined as:</p>
</div>
<div id="VkLayerProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkLayerProperties {
    <span class="predefined-type">char</span>        layerName[VK_MAX_EXTENSION_NAME_SIZE];
    uint32_t    specVersion;
    uint32_t    implementationVersion;
    <span class="predefined-type">char</span>        description[VK_MAX_DESCRIPTION_SIZE];
} VkLayerProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>layerName</code> is an array of <code>VK_MAX_EXTENSION_NAME_SIZE</code>
<code>char</code> containing a null-terminated UTF-8 string which is the name of
the layer.
Use this name in the <code>ppEnabledLayerNames</code> array passed in the
<a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a> structure to enable this layer for an
instance.</p>
</li>
<li>
<p><code>specVersion</code> is the Vulkan version the layer was written to,
encoded as described in <a href="#extendingvulkan-coreversions-versionnumbers">Version Numbers</a>.</p>
</li>
<li>
<p><code>implementationVersion</code> is the version of this layer.
It is an integer, increasing with backward compatible changes.</p>
</li>
<li>
<p><code>description</code> is an array of <code>VK_MAX_DESCRIPTION_SIZE</code> <code>char</code>
containing a null-terminated UTF-8 string which provides additional
details that <strong class="purple">can</strong> be used by the application to identify the layer.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>To enable a layer, the name of the layer <strong class="purple">should</strong> be added to the
<code>ppEnabledLayerNames</code> member of <a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a> when creating
a <code>VkInstance</code>.</p>
</div>
<div class="paragraph">
<p>Loader implementations <strong class="purple">may</strong> provide mechanisms outside the Vulkan API for
enabling specific layers.
Layers enabled through such a mechanism are <em>implicitly enabled</em>, while
layers enabled by including the layer name in the <code>ppEnabledLayerNames</code>
member of <a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a> are <em>explicitly enabled</em>.
Implicitly enabled layers are loaded before explicitly enabled layers, such
that implicitly enabled layers are closer to the application, and explicitly
enabled layers are closer to the driver.
Except where otherwise specified, implicitly enabled and explicitly enabled
layers differ only in the way they are enabled, and the order in which they
are loaded.
Explicitly enabling a layer that is implicitly enabled results in this layer
being loaded as an implicitly enabled layer; it has no additional effect.</p>
</div>
<div class="sect3">
<h4 id="extendingvulkan-layers-devicelayerdeprecation"><a class="anchor" href="#extendingvulkan-layers-devicelayerdeprecation"></a>29.3.1. Device Layer Deprecation</h4>
<div class="paragraph">
<p>Previous versions of this specification distinguished between instance and
device layers.
Instance layers were only able to intercept commands that operate on
<code>VkInstance</code> and <code>VkPhysicalDevice</code>, except they were not able to
intercept <a href="#vkCreateDevice">vkCreateDevice</a>.
Device layers were enabled for individual devices when they were created,
and could only intercept commands operating on that device or its child
objects.</p>
</div>
<div class="paragraph">
<p>Device-only layers are now deprecated, and this specification no longer
distinguishes between instance and device layers.
Layers are enabled during instance creation, and are able to intercept all
commands operating on that instance or any of its child objects.
At the time of deprecation there were no known device-only layers and no
compelling reason to create one.</p>
</div>
<div class="paragraph">
<p>In order to maintain compatibility with implementations released prior to
device-layer deprecation, applications <strong class="purple">should</strong> still enumerate and enable
device layers.
The behavior of <code>vkEnumerateDeviceLayerProperties</code> and valid usage of
the <code>ppEnabledLayerNames</code> member of <code>VkDeviceCreateInfo</code> maximizes
compatibility with applications written to work with the previous
requirements.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To enumerate device layers, call:</p>
</div>
<div id="vkEnumerateDeviceLayerProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkEnumerateDeviceLayerProperties(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pPropertyCount,
    VkLayerProperties*                          pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
layer properties available or queried.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkLayerProperties">VkLayerProperties</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of layer properties
available is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong class="purple">must</strong> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If <code>pPropertyCount</code> is less than the number of layer properties
available, at most <code>pPropertyCount</code> structures will be written.
If <code>pPropertyCount</code> is smaller than the number of layers available,
<code>VK_INCOMPLETE</code> will be returned instead of <code>VK_SUCCESS</code>, to
indicate that not all the available layer properties were returned.</p>
</div>
<div class="paragraph">
<p>The list of layers enumerated by <code>vkEnumerateDeviceLayerProperties</code>
<strong class="purple">must</strong> be exactly the sequence of layers enabled for the instance.
The members of <code>VkLayerProperties</code> for each enumerated layer <strong class="purple">must</strong> be
the same as the properties when the layer was enumerated by
<code>vkEnumerateInstanceLayerProperties</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkEnumerateDeviceLayerProperties-physicalDevice-parameter" href="#VUID-vkEnumerateDeviceLayerProperties-physicalDevice-parameter"></a> <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkEnumerateDeviceLayerProperties-pPropertyCount-parameter" href="#VUID-vkEnumerateDeviceLayerProperties-pPropertyCount-parameter"></a> <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkEnumerateDeviceLayerProperties-pProperties-parameter" href="#VUID-vkEnumerateDeviceLayerProperties-pProperties-parameter"></a> If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="#VkLayerProperties">VkLayerProperties</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>ppEnabledLayerNames</code> and <code>enabledLayerCount</code> members of
<code>VkDeviceCreateInfo</code> are deprecated and their values <strong class="purple">must</strong> be ignored by
implementations.
However, for compatibility, only an empty list of layers or a list that
exactly matches the sequence enabled at instance creation time are valid,
and validation layers <strong class="purple">should</strong> issue diagnostics for other cases.</p>
</div>
<div class="paragraph">
<p>Regardless of the enabled layer list provided in <code>VkDeviceCreateInfo</code>,
the sequence of layers active for a device will be exactly the sequence of
layers enabled when the parent instance was created.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extendingvulkan-extensions"><a class="anchor" href="#extendingvulkan-extensions"></a>29.4. Extensions</h3>
<div class="paragraph">
<p>Extensions <strong class="purple">may</strong> define new Vulkan commands, structures, and enumerants.
For compilation purposes, the interfaces defined by registered extensions,
including new structures and enumerants as well as function pointer types
for new commands, are defined in the Khronos-supplied <code>vulkan_core.h</code>
together with the core API.
However, commands defined by extensions <strong class="purple">may</strong> not be available for static
linking - in which case function pointers to these commands <strong class="purple">should</strong> be
queried at runtime as described in <a href="#initialization-functionpointers">Command Function Pointers</a>.
Extensions <strong class="purple">may</strong> be provided by layers as well as by a Vulkan implementation.</p>
</div>
<div class="paragraph">
<p>Because extensions <strong class="purple">may</strong> extend or change the behavior of the Vulkan API,
extension authors <strong class="purple">should</strong> add support for their extensions to the Khronos
validation layers.
This is especially important for new commands whose parameters have been
wrapped by the validation layers.
See the <a href="#LoaderAndLayerInterface">&#8220;Vulkan Loader Specification and
Architecture Overview&#8221;</a> document for additional information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>To enable an instance extension, the name of the extension <strong class="purple">can</strong> be added to
the <code>ppEnabledExtensionNames</code> member of <a href="#VkInstanceCreateInfo">VkInstanceCreateInfo</a> when
creating a <code>VkInstance</code>.</p>
</div>
<div class="paragraph">
<p>To enable a device extension, the name of the extension <strong class="purple">can</strong> be added to the
<code>ppEnabledExtensionNames</code> member of <a href="#VkDeviceCreateInfo">VkDeviceCreateInfo</a> when
creating a <code>VkDevice</code>.</p>
</div>
<div class="paragraph">
<p>Enabling an extension does not change the behavior of functionality exposed
by the core Vulkan API or any other extension, other than making valid the
use of the commands, enums and structures defined by that extension.</p>
</div>
<div class="paragraph">
<p>Valid Usage sections for individual commands and structures do not currently
contain which extensions have to be enabled in order to make their use
valid, although they might do so in the future.
It is defined only in the <a href="#fundamentals-validusage-extensions">Valid Usage for Extensions</a> section.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_instance_extensions"><a class="anchor" href="#_instance_extensions"></a>29.4.1. Instance Extensions</h4>
<div class="paragraph">
<p>Instance extensions add new
<a href="#extendingvulkan-instanceanddevicefunctionality">instance-level
functionality</a> to the API, outside of the core specification.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the available instance extensions, call:</p>
</div>
<div id="vkEnumerateInstanceExtensionProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkEnumerateInstanceExtensionProperties(
    <span class="directive">const</span> <span class="predefined-type">char</span>*                                 pLayerName,
    uint32_t*                                   pPropertyCount,
    VkExtensionProperties*                      pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pLayerName</code> is either <code>NULL</code> or a pointer to a null-terminated
UTF-8 string naming the layer to retrieve extensions from.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
extension properties available or queried, as described below.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkExtensionProperties">VkExtensionProperties</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <code>pLayerName</code> parameter is <code>NULL</code>, only extensions provided by the
Vulkan implementation or by implicitly enabled layers are returned.
When <code>pLayerName</code> is the name of a layer, the instance extensions
provided by that layer are returned.</p>
</div>
<div class="paragraph">
<p>If <code>pProperties</code> is <code>NULL</code>, then the number of extensions properties
available is returned in <code>pPropertyCount</code>.
Otherwise, <code>pPropertyCount</code> <strong class="purple">must</strong> point to a variable set by the user to
the number of elements in the <code>pProperties</code> array, and on return the
variable is overwritten with the number of structures actually written to
<code>pProperties</code>.
If <code>pPropertyCount</code> is less than the number of extension properties
available, at most <code>pPropertyCount</code> structures will be written.
If <code>pPropertyCount</code> is smaller than the number of extensions available,
<code>VK_INCOMPLETE</code> will be returned instead of <code>VK_SUCCESS</code>, to
indicate that not all the available properties were returned.</p>
</div>
<div class="paragraph">
<p>Because the list of available layers may change externally between calls to
<a href="#vkEnumerateInstanceExtensionProperties">vkEnumerateInstanceExtensionProperties</a>, two calls may retrieve
different results if a <code>pLayerName</code> is available in one call but not in
another.
The extensions supported by a layer may also change between two calls, e.g.
if the layer implementation is replaced by a different version between those
calls.</p>
</div>
<div class="paragraph">
<p>Implementations <strong class="purple">must</strong> not advertise any pair of extensions that cannot be
enabled together due to behavioral differences, or any extension that cannot
be enabled against the advertised version.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkEnumerateInstanceExtensionProperties-pLayerName-parameter" href="#VUID-vkEnumerateInstanceExtensionProperties-pLayerName-parameter"></a> If <code>pLayerName</code> is not <code>NULL</code>, <code>pLayerName</code> <strong class="purple">must</strong> be a null-terminated UTF-8 string</p>
</li>
<li>
<p><a id="VUID-vkEnumerateInstanceExtensionProperties-pPropertyCount-parameter" href="#VUID-vkEnumerateInstanceExtensionProperties-pPropertyCount-parameter"></a> <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkEnumerateInstanceExtensionProperties-pProperties-parameter" href="#VUID-vkEnumerateInstanceExtensionProperties-pProperties-parameter"></a> If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="#VkExtensionProperties">VkExtensionProperties</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_LAYER_NOT_PRESENT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_device_extensions"><a class="anchor" href="#_device_extensions"></a>29.4.2. Device Extensions</h4>
<div class="paragraph">
<p>Device extensions add new
<a href="#extendingvulkan-instanceanddevicefunctionality">device-level
functionality</a> to the API, outside of the core specification.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the extensions available to a given physical device, call:</p>
</div>
<div id="vkEnumerateDeviceExtensionProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkEnumerateDeviceExtensionProperties(
    VkPhysicalDevice                            physicalDevice,
    <span class="directive">const</span> <span class="predefined-type">char</span>*                                 pLayerName,
    uint32_t*                                   pPropertyCount,
    VkExtensionProperties*                      pProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device that will be queried.</p>
</li>
<li>
<p><code>pLayerName</code> is either <code>NULL</code> or a pointer to a null-terminated
UTF-8 string naming the layer to retrieve extensions from.</p>
</li>
<li>
<p><code>pPropertyCount</code> is a pointer to an integer related to the number of
extension properties available or queried, and is treated in the same
fashion as the
<a href="#vkEnumerateInstanceExtensionProperties">vkEnumerateInstanceExtensionProperties</a>::<code>pPropertyCount</code>
parameter.</p>
</li>
<li>
<p><code>pProperties</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkExtensionProperties">VkExtensionProperties</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <code>pLayerName</code> parameter is <code>NULL</code>, only extensions provided by the
Vulkan implementation or by implicitly enabled layers are returned.
When <code>pLayerName</code> is the name of a layer, the device extensions provided
by that layer are returned.</p>
</div>
<div class="paragraph">
<p>Implementations <strong class="purple">must</strong> not advertise any pair of extensions that cannot be
enabled together due to behavioral differences, or any extension that cannot
be enabled against the advertised version.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkEnumerateDeviceExtensionProperties-physicalDevice-parameter" href="#VUID-vkEnumerateDeviceExtensionProperties-physicalDevice-parameter"></a> <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkEnumerateDeviceExtensionProperties-pLayerName-parameter" href="#VUID-vkEnumerateDeviceExtensionProperties-pLayerName-parameter"></a> If <code>pLayerName</code> is not <code>NULL</code>, <code>pLayerName</code> <strong class="purple">must</strong> be a null-terminated UTF-8 string</p>
</li>
<li>
<p><a id="VUID-vkEnumerateDeviceExtensionProperties-pPropertyCount-parameter" href="#VUID-vkEnumerateDeviceExtensionProperties-pPropertyCount-parameter"></a> <code>pPropertyCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkEnumerateDeviceExtensionProperties-pProperties-parameter" href="#VUID-vkEnumerateDeviceExtensionProperties-pProperties-parameter"></a> If the value referenced by <code>pPropertyCount</code> is not <code>0</code>, and <code>pProperties</code> is not <code>NULL</code>, <code>pProperties</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pPropertyCount</code> <a href="#VkExtensionProperties">VkExtensionProperties</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_LAYER_NOT_PRESENT</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExtensionProperties</code> structure is defined as:</p>
</div>
<div id="VkExtensionProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkExtensionProperties {
    <span class="predefined-type">char</span>        extensionName[VK_MAX_EXTENSION_NAME_SIZE];
    uint32_t    specVersion;
} VkExtensionProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>extensionName</code> is an array of <code>VK_MAX_EXTENSION_NAME_SIZE</code>
<code>char</code> containing a null-terminated UTF-8 string which is the name of
the extension.</p>
</li>
<li>
<p><code>specVersion</code> is the version of this extension.
It is an integer, incremented with backward compatible changes.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extendingvulkan-extensions-extensiondependencies"><a class="anchor" href="#extendingvulkan-extensions-extensiondependencies"></a>29.5. Extension Dependencies</h3>
<div class="paragraph">
<p>Some extensions are dependent on other extensions to function.
To enable extensions with dependencies, such <em>required extensions</em> <strong class="purple">must</strong>
also be enabled through the same API mechanisms when creating an instance
with <a href="#vkCreateInstance">vkCreateInstance</a> or a device with <a href="#vkCreateDevice">vkCreateDevice</a>.
Each extension which has such dependencies documents them in the
<a href="#extensions">appendix summarizing that extension</a>.</p>
</div>
<div class="paragraph">
<p>If an extension is supported (as queried by
<a href="#vkEnumerateInstanceExtensionProperties">vkEnumerateInstanceExtensionProperties</a> or
<a href="#vkEnumerateDeviceExtensionProperties">vkEnumerateDeviceExtensionProperties</a>), then <em>required extensions</em> of
that extension <strong class="purple">must</strong> also be supported for the same instance or physical
device.</p>
</div>
<div class="paragraph">
<p>Any device extension that has an instance extension dependency that is not
enabled by <a href="#vkCreateInstance">vkCreateInstance</a> is considered to be unsupported, hence it
<strong class="purple">must</strong> not be returned by <a href="#vkEnumerateDeviceExtensionProperties">vkEnumerateDeviceExtensionProperties</a> for any
<a href="#VkPhysicalDevice">VkPhysicalDevice</a> child of the instance.</p>
</div>
<div class="paragraph">
<p>If a required extension has been <a href="#extendingvulkan-compatibility-promotion">promoted</a> to another extension or to a core API version, then as a
<em>general</em> rule, the dependency is also satisfied by the promoted extension
or core version.
This will be true so long as any features required by the original extension
are also required or enabled by the promoted extension or core version.
However, in some cases an extension is promoted while making some of its
features optional in the promoted extension or core version.
In this case, the dependency <strong class="purple">may</strong> not be satisfied.
The only way to be certain is to look at the descriptions of the original
dependency and the promoted version in the <a href="#extensions">Layers &amp;
Extensions</a> and <a href="#versions">Core Revisions</a> appendices.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There is metadata in <code>vk.xml</code> describing some aspects of promotion,
especially <code>requires</code>, <code>promotedto</code> and <code>deprecatedby</code> attributes of
<code>&lt;extension&gt;</code> tags.
However, the metadata does not yet fully describe this scenario.
In the future, we may extend the XML schema to describe the full set of
extensions and versions satisfying a dependency.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_compatibility_guarantees_informative"><a class="anchor" href="#_compatibility_guarantees_informative"></a>29.6. Compatibility Guarantees (Informative)</h3>
<div class="paragraph">
<p>This section is marked as informal as there is no binding responsibility on
implementations of the Vulkan API - these guarantees are however a contract
between the Vulkan Working Group and developers using this Specification.</p>
</div>
<div class="sect3">
<h4 id="extendingvulkan-compatibility-coreversions"><a class="anchor" href="#extendingvulkan-compatibility-coreversions"></a>29.6.1. Core Versions</h4>
<div class="paragraph">
<p>Each of the <a href="#extendingvulkan-coreversions">major, minor, and patch
versions</a> of the Vulkan specification provide different compatibility
guarantees.</p>
</div>
<div class="sect4">
<h5 id="_patch_versions"><a class="anchor" href="#_patch_versions"></a>Patch Versions</h5>
<div class="paragraph">
<p>A difference in the patch version indicates that a set of bug fixes or
clarifications have been made to the Specification.
Informative enums returned by Vulkan commands that will not affect the
runtime behavior of a valid application may be added in a patch version
(e.g. <a href="#VkVendorId">VkVendorId</a>).</p>
</div>
<div class="paragraph">
<p>The specification&#8217;s patch version is strictly increasing for a given major
version of the specification; any change to a specification as described
above will result in the patch version being increased by 1.
Patch versions are applied to all minor versions, even if a given minor
version is not affected by the provoking change.</p>
</div>
<div class="paragraph">
<p>Specifications with different patch versions but the same major and minor
version are <em>fully compatible</em> with each other - such that a valid
application written against one will work with an implementation of another.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If a patch version includes a bug fix or clarification that could have a
significant impact on developer expectations, these will be highlighted in
the change log.
Generally the Vulkan Working Group tries to avoid these kinds of changes,
instead fixing them in either an extension or core version.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_minor_versions"><a class="anchor" href="#_minor_versions"></a>Minor Versions</h5>
<div class="paragraph">
<p>Changes in the minor version of the specification indicate that new
functionality has been added to the core specification.
This will usually include new interfaces in the header, and <strong class="purple">may</strong> also
include behavior changes and bug fixes.
Core functionality <strong class="purple">may</strong> be deprecated in a minor version, but will not be
obsoleted or removed.</p>
</div>
<div class="paragraph">
<p>The specification&#8217;s minor version is strictly increasing for a given major
version of the specification; any change to a specification as described
above will result in the minor version being increased by 1.
Changes that can be accommodated in a patch version will not increase the
minor version.</p>
</div>
<div class="paragraph">
<p>Specifications with a lower minor version are <em>backwards compatible</em> with an
implementation of a specification with a higher minor version for core
functionality and extensions issued with the KHR vendor tag.
Vendor and multi-vendor extensions are not guaranteed to remain functional
across minor versions, though in general they are with few exceptions - see
<a href="#extendingvulkan-compatibility-obsoletion">Obsoletion</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_major_versions"><a class="anchor" href="#_major_versions"></a>Major Versions</h5>
<div class="paragraph">
<p>A difference in the major version of specifications indicates a large set of
changes which will likely include interface changes, behavioral changes,
removal of <a href="#extendingvulkan-compatibility-deprecation">deprecated
functionality</a>, and the modification, addition, or replacement of other
functionality.</p>
</div>
<div class="paragraph">
<p>The specification&#8217;s major version is monotonically increasing; any change to
the specification as described above will result in the major version being
increased.
Changes that can be accommodated in a patch or minor version will not
increase the major version.</p>
</div>
<div class="paragraph">
<p>The Vulkan Working Group intends to only issue a new major version of the
Specification in order to realise significant improvements to the Vulkan API
that will necessarily require breaking compatibility.</p>
</div>
<div class="paragraph">
<p>A new major version will likely include a wholly new version of the
specification to be issued - which could include an overhaul of the
versioning semantics for the minor and patch versions.
The patch and minor versions of a specification are therefore not meaningful
across major versions.
If a major version of the specification includes similar versioning
semantics, it is expected that the the patch and minor version will be reset
to 0 for that major version.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="extendingvulkan-compatibility-extensions"><a class="anchor" href="#extendingvulkan-compatibility-extensions"></a>29.6.2. Extensions</h4>
<div class="paragraph">
<p>A KHR extension <strong class="purple">must</strong> be able to be enabled alongside any other KHR
extension, and for any minor or patch version of the core Specification
beyond the minimum version it requires.
A multi-vendor extension <strong class="purple">should</strong> be able to be enabled alongside any KHR
extension or other multi-vendor extension, and for any minor or patch
version of the core Specification beyond the minimum version it requires.
A vendor extension <strong class="purple">should</strong> be able to be enabled alongside any KHR
extension, multi-vendor extension, or other vendor extension from the same
vendor, and for any minor or patch version of the core Specification beyond
the minimum version it requires.
A vendor extension <strong class="purple">may</strong> be able to be enabled alongside vendor extensions
from another vendor.</p>
</div>
<div class="paragraph">
<p>The one other exception to this is if a vendor or multi-vendor extension is
<a href="#extendingvulkan-compatibility-obsoletion">made obsolete</a> by either a core
version or another extension, which will be highlighted in the
<a href="#extensions">extension appendix</a>.</p>
</div>
<div class="sect4">
<h5 id="extendingvulkan-compatibility-promotion"><a class="anchor" href="#extendingvulkan-compatibility-promotion"></a>Promotion</h5>
<div class="paragraph">
<p>Extensions, or features of an extension, <strong class="purple">may</strong> be promoted to a new
<a href="#versions">core version of the API</a>, or a newer extension which an equal or
greater number of implementors are in favour of.</p>
</div>
<div class="paragraph">
<p>When extension functionality is promoted, minor changes <strong class="purple">may</strong> be introduced,
limited to the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Naming</p>
</li>
<li>
<p>Non-intrusive parameters changes</p>
</li>
<li>
<p><a href="#features">Feature advertisement/enablement</a></p>
</li>
<li>
<p>Combining structure parameters into larger structures</p>
</li>
<li>
<p>Author ID suffixes changed or removed</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If extension functionality is promoted, there is no guarantee of direct
compatibility, however it should require little effort to port code from the
original feature to the promoted one.</p>
</div>
<div class="paragraph">
<p>The Vulkan Working Group endeavours to ensure that larger changes are marked
as either <a href="#extendingvulkan-compatibility-deprecation">deprecated</a> or
<a href="#extendingvulkan-compatibility-obsoletion">obsoleted</a> as appropriate, and
can do so retroactively if necessary.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Extensions that are promoted are listed as being promoted in their extension
appendices, with reference to where they were promoted to.</p>
</div>
<div class="paragraph">
<p>When an extension is promoted, any backwards compatibility aliases which
exist in the extension will <strong>not</strong> be promoted.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>As a hypothetical example, if the <code><a href="#VK_KHR_surface">[VK_KHR_surface]</a></code> extension were
promoted to part of a future core version, the
<code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code> token defined by that extension
would be promoted to <code>VK_COLOR_SPACE_SRGB_NONLINEAR</code>.
However, the <code>VK_COLORSPACE_SRGB_NONLINEAR_KHR</code> token aliases
<code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>.
The <code>VK_COLORSPACE_SRGB_NONLINEAR_KHR</code> would not be promoted, because it
is a backwards compatibility alias that exists only due to a naming mistake
when the extension was initially published.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="extendingvulkan-compatibility-deprecation"><a class="anchor" href="#extendingvulkan-compatibility-deprecation"></a>Deprecation</h5>
<div class="paragraph">
<p>Extensions <strong class="purple">may</strong> be marked as deprecated when the intended use cases either
become irrelevant or can be solved in other ways.
Generally, a new feature will become available to solve the use case in
another extension or core version of the API, but it is not guaranteed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Features that are intended to replace deprecated functionality have no
guarantees of compatibility, and applications may require drastic
modification in order to make use of the new features.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Extensions that are deprecated are listed as being deprecated in their
extension appendices, with an explanation of the deprecation and any
features that are relevant.</p>
</div>
</div>
<div class="sect4">
<h5 id="extendingvulkan-compatibility-obsoletion"><a class="anchor" href="#extendingvulkan-compatibility-obsoletion"></a>Obsoletion</h5>
<div class="paragraph">
<p>Occasionally, an extension will be marked as obsolete if a new version of
the core API or a new extension is fundamentally incompatible with it.
An obsoleted extension <strong class="purple">must</strong> not be used with the extension or core version
that obsoleted it.</p>
</div>
<div class="paragraph">
<p>Extensions that are obsoleted are listed as being obsoleted in their
extension appendices, with reference to what they were obsoleted by.</p>
</div>
</div>
<div class="sect4">
<h5 id="extendingvulkan-compatibility-aliases"><a class="anchor" href="#extendingvulkan-compatibility-aliases"></a>Aliases</h5>
<div class="paragraph">
<p>When an extension is promoted or deprecated by a newer feature, some or all
of its functionality <strong class="purple">may</strong> be replicated into the newer feature.
Rather than duplication of all the documentation and definitions, the
specification instead identifies the identical commands and types as
<em>aliases</em> of one another.
Each alias is mentioned together with the definition it aliases, with the
older aliases marked as &#8220;equivalents&#8221;.
Each alias of the same command has identical behavior, and each alias of the
same type has identical meaning - they can be used interchangeably in an
application with no compatibility issues.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For promoted types, the aliased extension type is semantically identical to
the new core type.
The C99 headers simply <code>typedef</code> the older aliases to the promoted types.</p>
</div>
<div class="paragraph">
<p>For promoted command aliases, however, there are two separate entry point
definitions, due to the fact that the C99 ABI has no way to alias command
definitions without resorting to macros.
Calling via either entry point definition will produce identical behavior
within the bounds of the specification, and should still invoke the same
entry point in the implementation.
Debug tools may use separate entry points with different debug behavior; to
write the appropriate command name to an output log, for instance.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="features"><a class="anchor" href="#features"></a>30. Features</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Features</em> describe functionality which is not supported on all
implementations.
Features are properties of the physical device.
Features are <strong class="purple">optional</strong>, and <strong class="purple">must</strong> be explicitly enabled before use.
Support for features is reported and enabled on a per-feature basis.</p>
</div>
<div class="paragraph">
<p>For convenience, new core versions of Vulkan <strong class="purple">may</strong> introduce new unified
features structures for features promoted from extensions.
At the same time, the extension&#8217;s original features structure (if any) is
also promoted to the core API, and is an alias of the extension&#8217;s structure.
This results in multiple names for the same feature: in the original
extension&#8217;s feature structure and the promoted structure alias, in the
unified feature structure.
When a feature was implicitly supported and enabled in the extension, but an
explicit name was added during promotion, then the extension itself acts as
an alias for the feature as listed in the table below.</p>
</div>
<div class="paragraph">
<p>All aliases of the same feature in the core API <strong class="purple">must</strong> be reported
consistently: either all <strong class="purple">must</strong> be reported as supported, or none of them.
When a promoted extension is available, any corresponding feature aliases
<strong class="purple">must</strong> be supported.</p>
</div>
<table id="features-extension-aliases" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 29. Extension Feature Aliases</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Feature(s)</th>
</tr>
</thead>
</table>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query supported features, call:</p>
</div>
<div id="vkGetPhysicalDeviceFeatures" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetPhysicalDeviceFeatures(
    VkPhysicalDevice                            physicalDevice,
    VkPhysicalDeviceFeatures*                   pFeatures);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
supported features.</p>
</li>
<li>
<p><code>pFeatures</code> is a pointer to a <a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a>
structure in which the physical device features are returned.
For each feature, a value of <code>VK_TRUE</code> specifies that the feature is
supported on this physical device, and <code>VK_FALSE</code> specifies that the
feature is not supported.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceFeatures-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceFeatures-physicalDevice-parameter"></a> <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceFeatures-pFeatures-parameter" href="#VUID-vkGetPhysicalDeviceFeatures-pFeatures-parameter"></a> <code>pFeatures</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkPhysicalDeviceFeatures">VkPhysicalDeviceFeatures</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Fine-grained features used by a logical device <strong class="purple">must</strong> be enabled at
<code>VkDevice</code> creation time.
If a feature is enabled that the physical device does not support,
<code>VkDevice</code> creation will fail and return
<code>VK_ERROR_FEATURE_NOT_PRESENT</code>.</p>
</div>
<div class="paragraph">
<p>The fine-grained features are enabled by passing a pointer to the
<code>VkPhysicalDeviceFeatures</code> structure via the <code>pEnabledFeatures</code>
member of the <code>VkDeviceCreateInfo</code> structure that is passed into the
<code>vkCreateDevice</code> call.
If a member of <code>pEnabledFeatures</code> is set to <code>VK_TRUE</code> or
<code>VK_FALSE</code>, then the device will be created with the indicated feature
enabled or disabled, respectively.</p>
</div>
<div class="paragraph">
<p>If an application wishes to enable all features supported by a device, it
<strong class="purple">can</strong> simply pass in the <code>VkPhysicalDeviceFeatures</code> structure that was
previously returned by <code>vkGetPhysicalDeviceFeatures</code>.
To disable an individual feature, the application <strong class="purple">can</strong> set the desired
member to <code>VK_FALSE</code> in the same structure.
Setting <code>pEnabledFeatures</code> to <code>NULL</code>
is equivalent to setting all members of the structure to <code>VK_FALSE</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Some features, such as <code>robustBufferAccess</code>, <strong class="purple">may</strong> incur a run-time
performance cost.
Application writers <strong class="purple">should</strong> carefully consider the implications of enabling
all supported features.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceFeatures</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceFeatures" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPhysicalDeviceFeatures {
    VkBool32    robustBufferAccess;
    VkBool32    fullDrawIndexUint32;
    VkBool32    imageCubeArray;
    VkBool32    independentBlend;
    VkBool32    geometryShader;
    VkBool32    tessellationShader;
    VkBool32    sampleRateShading;
    VkBool32    dualSrcBlend;
    VkBool32    logicOp;
    VkBool32    multiDrawIndirect;
    VkBool32    drawIndirectFirstInstance;
    VkBool32    depthClamp;
    VkBool32    depthBiasClamp;
    VkBool32    fillModeNonSolid;
    VkBool32    depthBounds;
    VkBool32    wideLines;
    VkBool32    largePoints;
    VkBool32    alphaToOne;
    VkBool32    multiViewport;
    VkBool32    samplerAnisotropy;
    VkBool32    textureCompressionETC2;
    VkBool32    textureCompressionASTC_LDR;
    VkBool32    textureCompressionBC;
    VkBool32    occlusionQueryPrecise;
    VkBool32    pipelineStatisticsQuery;
    VkBool32    vertexPipelineStoresAndAtomics;
    VkBool32    fragmentStoresAndAtomics;
    VkBool32    shaderTessellationAndGeometryPointSize;
    VkBool32    shaderImageGatherExtended;
    VkBool32    shaderStorageImageExtendedFormats;
    VkBool32    shaderStorageImageMultisample;
    VkBool32    shaderStorageImageReadWithoutFormat;
    VkBool32    shaderStorageImageWriteWithoutFormat;
    VkBool32    shaderUniformBufferArrayDynamicIndexing;
    VkBool32    shaderSampledImageArrayDynamicIndexing;
    VkBool32    shaderStorageBufferArrayDynamicIndexing;
    VkBool32    shaderStorageImageArrayDynamicIndexing;
    VkBool32    shaderClipDistance;
    VkBool32    shaderCullDistance;
    VkBool32    shaderFloat64;
    VkBool32    shaderInt64;
    VkBool32    shaderInt16;
    VkBool32    shaderResourceResidency;
    VkBool32    shaderResourceMinLod;
    VkBool32    sparseBinding;
    VkBool32    sparseResidencyBuffer;
    VkBool32    sparseResidencyImage2D;
    VkBool32    sparseResidencyImage3D;
    VkBool32    sparseResidency2Samples;
    VkBool32    sparseResidency4Samples;
    VkBool32    sparseResidency8Samples;
    VkBool32    sparseResidency16Samples;
    VkBool32    sparseResidencyAliased;
    VkBool32    variableMultisampleRate;
    VkBool32    inheritedQueries;
} VkPhysicalDeviceFeatures;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The members of the <code>VkPhysicalDeviceFeatures</code> structure describe the
following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="features-robustBufferAccess"></a> <code>robustBufferAccess</code> specifies that
accesses to buffers are bounds-checked against the range of the buffer
descriptor (as determined by <code>VkDescriptorBufferInfo</code>::<code>range</code>,
<code>VkBufferViewCreateInfo</code>::<code>range</code>, or the size of the buffer).
Out of bounds accesses <strong class="purple">must</strong> not cause application termination, and the
effects of shader loads, stores, and atomics <strong class="purple">must</strong> conform to an
implementation-dependent behavior as described below.</p>
<div class="ulist">
<ul>
<li>
<p>A buffer access is considered to be out of bounds if any of the
following are true:</p>
<div class="ulist">
<ul>
<li>
<p>The pointer was formed by <code>OpImageTexelPointer</code> and the coordinate
is less than zero or greater than or equal to the number of whole
elements in the bound range.</p>
</li>
<li>
<p>The pointer was not formed by <code>OpImageTexelPointer</code> and the object
pointed to is not wholly contained within the bound range.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If a SPIR-V <code>OpLoad</code> instruction loads a structure and the tail end of
the structure is out of bounds, then all members of the structure are
considered out of bounds even if the members at the end are not statically
used.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If any buffer access is determined to be out of bounds, then any other
access of the same type (load, store, or atomic) to the same buffer
that accesses an address less than 16 bytes away from the out of
bounds address <strong class="purple">may</strong> also be considered out of bounds.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Out-of-bounds buffer loads will return any of the following values:</p>
<div class="ulist">
<ul>
<li>
<p>Values from anywhere within the memory range(s) bound to the buffer
(possibly including bytes of memory past the end of the buffer, up to
the end of the bound range).</p>
</li>
<li>
<p>Zero values, or <span class="eq">(0,0,0,x)</span> vectors for vector reads where x is a
valid value represented in the type of the vector components and <strong class="purple">may</strong>
be any of:</p>
<div class="ulist">
<ul>
<li>
<p>0, 1, or the maximum representable positive integer value, for signed
or unsigned integer components</p>
</li>
<li>
<p>0.0 or 1.0, for floating-point components</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Out-of-bounds writes <strong class="purple">may</strong> modify values within the memory range(s)
bound to the buffer, but <strong class="purple">must</strong> not modify any other memory.</p>
</li>
<li>
<p>Out-of-bounds atomics <strong class="purple">may</strong> modify values within the memory range(s)
bound to the buffer, but <strong class="purple">must</strong> not modify any other memory, and return
an undefined value.</p>
</li>
<li>
<p>Vertex input attributes are considered out of bounds if the offset of
the attribute in the bound vertex buffer range plus the size of the
attribute is greater than either:</p>
<div class="ulist">
<ul>
<li>
<p><code>vertexBufferRangeSize</code>, if <span class="eq"><code>bindingStride</code> == 0</span>; or</p>
</li>
<li>
<p><span class="eq">(<code>vertexBufferRangeSize</code> - (<code>vertexBufferRangeSize</code> %
<code>bindingStride</code>))</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where <code>vertexBufferRangeSize</code> is the byte size of the memory range bound
to the vertex buffer binding and <code>bindingStride</code> is the byte stride of
the corresponding vertex input binding.
Further, if any vertex input attribute using a specific vertex input binding
is out of bounds, then all vertex input attributes using that vertex input
binding for that vertex shader invocation are considered out of bounds.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If a vertex input attribute is out of bounds, it will be assigned one
of the following values:</p>
<div class="ulist">
<ul>
<li>
<p>Values from anywhere within the memory range(s) bound to the buffer,
converted according to the format of the attribute.</p>
</li>
<li>
<p>Zero values, format converted according to the format of the
attribute.</p>
</li>
<li>
<p>Zero values, or <span class="eq">(0,0,0,x)</span> vectors, as described above.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>If <code>robustBufferAccess</code> is not enabled, applications <strong class="purple">must</strong> not
perform out of bounds accesses.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a id="features-fullDrawIndexUint32"></a> <code>fullDrawIndexUint32</code> specifies the
full 32-bit range of indices is supported for indexed draw calls when
using a <a href="#VkIndexType">VkIndexType</a> of <code>VK_INDEX_TYPE_UINT32</code>.
<code>maxDrawIndexedIndexValue</code> is the maximum index value that <strong class="purple">may</strong> be
used (aside from the primitive restart index, which is always 2<sup>32</sup>-1
when the <a href="#VkIndexType">VkIndexType</a> is <code>VK_INDEX_TYPE_UINT32</code>).
If this feature is supported, <code>maxDrawIndexedIndexValue</code> <strong class="purple">must</strong> be
2<sup>32</sup>-1; otherwise it <strong class="purple">must</strong> be no smaller than 2<sup>24</sup>-1.
See <a href="#limits-maxDrawIndexedIndexValue">maxDrawIndexedIndexValue</a>.</p>
</li>
<li>
<p><a id="features-imageCubeArray"></a> <code>imageCubeArray</code> specifies whether image
views with a <a href="#VkImageViewType">VkImageViewType</a> of
<code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code> <strong class="purple">can</strong> be created, and that the
corresponding <code>SampledCubeArray</code> and <code>ImageCubeArray</code> SPIR-V
capabilities <strong class="purple">can</strong> be used in shader code.</p>
</li>
<li>
<p><a id="features-independentBlend"></a> <code>independentBlend</code> specifies whether
the <code>VkPipelineColorBlendAttachmentState</code> settings are controlled
independently per-attachment.
If this feature is not enabled, the
<code>VkPipelineColorBlendAttachmentState</code> settings for all color
attachments <strong class="purple">must</strong> be identical.
Otherwise, a different <code>VkPipelineColorBlendAttachmentState</code> <strong class="purple">can</strong> be
provided for each bound color attachment.</p>
</li>
<li>
<p><a id="features-geometryShader"></a> <code>geometryShader</code> specifies whether
geometry shaders are supported.
If this feature is not enabled, the <code>VK_SHADER_STAGE_GEOMETRY_BIT</code>
and <code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code> enum values <strong class="purple">must</strong> not be
used.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>Geometry</code> capability.</p>
</li>
<li>
<p><a id="features-tessellationShader"></a> <code>tessellationShader</code> specifies
whether tessellation control and evaluation shaders are supported.
If this feature is not enabled, the
<code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code>,
<code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code>,
<code>VK_PIPELINE_STAGE_TESSELLATION_CONTROL_SHADER_BIT</code>,
<code>VK_PIPELINE_STAGE_TESSELLATION_EVALUATION_SHADER_BIT</code>, and
<code>VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_STATE_CREATE_INFO</code> enum
values <strong class="purple">must</strong> not be used.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>Tessellation</code> capability.</p>
</li>
<li>
<p><a id="features-sampleRateShading"></a> <code>sampleRateShading</code> specifies whether
<a href="#primsrast-sampleshading">Sample Shading</a> and multisample interpolation
are supported.
If this feature is not enabled, the <code>sampleShadingEnable</code> member of
the <code>VkPipelineMultisampleStateCreateInfo</code> structure <strong class="purple">must</strong> be set to
<code>VK_FALSE</code> and the <code>minSampleShading</code> member is ignored.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>SampleRateShading</code> capability.</p>
</li>
<li>
<p><a id="features-dualSrcBlend"></a> <code>dualSrcBlend</code> specifies whether blend
operations which take two sources are supported.
If this feature is not enabled, the <code>VK_BLEND_FACTOR_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_COLOR</code>,
<code>VK_BLEND_FACTOR_SRC1_ALPHA</code>, and
<code>VK_BLEND_FACTOR_ONE_MINUS_SRC1_ALPHA</code> enum values <strong class="purple">must</strong> not be used
as source or destination blending factors.
See <a href="#framebuffer-dsb">Dual-Source Blending</a>.</p>
</li>
<li>
<p><a id="features-logicOp"></a> <code>logicOp</code> specifies whether logic operations
are supported.
If this feature is not enabled, the <code>logicOpEnable</code> member of the
<code>VkPipelineColorBlendStateCreateInfo</code> structure <strong class="purple">must</strong> be set to
<code>VK_FALSE</code>, and the <code>logicOp</code> member is ignored.</p>
</li>
<li>
<p><a id="features-multiDrawIndirect"></a> <code>multiDrawIndirect</code> specifies whether
multiple draw indirect is supported.
If this feature is not enabled, the <code>drawCount</code> parameter to the
<code>vkCmdDrawIndirect</code> and <code>vkCmdDrawIndexedIndirect</code> commands
<strong class="purple">must</strong> be 0 or 1.
The <code>maxDrawIndirectCount</code> member of the
<code>VkPhysicalDeviceLimits</code> structure <strong class="purple">must</strong> also be 1 if this feature
is not supported.
See <a href="#limits-maxDrawIndirectCount">maxDrawIndirectCount</a>.</p>
</li>
<li>
<p><a id="features-drawIndirectFirstInstance"></a> <code>drawIndirectFirstInstance</code>
specifies whether indirect draw calls support the <code>firstInstance</code>
parameter.
If this feature is not enabled, the <code>firstInstance</code> member of all
<code>VkDrawIndirectCommand</code> and <code>VkDrawIndexedIndirectCommand</code>
structures that are provided to the <code>vkCmdDrawIndirect</code> and
<code>vkCmdDrawIndexedIndirect</code> commands <strong class="purple">must</strong> be 0.</p>
</li>
<li>
<p><a id="features-depthClamp"></a> <code>depthClamp</code> specifies whether depth
clamping is supported.
If this feature is not enabled, the <code>depthClampEnable</code> member of the
<code>VkPipelineRasterizationStateCreateInfo</code> structure <strong class="purple">must</strong> be set to
<code>VK_FALSE</code>.
Otherwise, setting <code>depthClampEnable</code> to <code>VK_TRUE</code> will enable
depth clamping.</p>
</li>
<li>
<p><a id="features-depthBiasClamp"></a> <code>depthBiasClamp</code> specifies whether depth
bias clamping is supported.
If this feature is not enabled, the <code>depthBiasClamp</code> member of the
<code>VkPipelineRasterizationStateCreateInfo</code> structure <strong class="purple">must</strong> be set to
0.0 unless the <code>VK_DYNAMIC_STATE_DEPTH_BIAS</code> dynamic state is
enabled, and the <code>depthBiasClamp</code> parameter to
<code>vkCmdSetDepthBias</code> <strong class="purple">must</strong> be set to 0.0.</p>
</li>
<li>
<p><a id="features-fillModeNonSolid"></a> <code>fillModeNonSolid</code> specifies whether
point and wireframe fill modes are supported.
If this feature is not enabled, the <code>VK_POLYGON_MODE_POINT</code> and
<code>VK_POLYGON_MODE_LINE</code> enum values <strong class="purple">must</strong> not be used.</p>
</li>
<li>
<p><a id="features-depthBounds"></a> <code>depthBounds</code> specifies whether depth
bounds tests are supported.
If this feature is not enabled, the <code>depthBoundsTestEnable</code> member
of the <code>VkPipelineDepthStencilStateCreateInfo</code> structure <strong class="purple">must</strong> be
set to <code>VK_FALSE</code>.
When <code>depthBoundsTestEnable</code> is set to <code>VK_FALSE</code>, the
<code>minDepthBounds</code> and <code>maxDepthBounds</code> members of the
<code>VkPipelineDepthStencilStateCreateInfo</code> structure are ignored.</p>
</li>
<li>
<p><a id="features-wideLines"></a> <code>wideLines</code> specifies whether lines with
width other than 1.0 are supported.
If this feature is not enabled, the <code>lineWidth</code> member of the
<code>VkPipelineRasterizationStateCreateInfo</code> structure <strong class="purple">must</strong> be set to
1.0 unless the <code>VK_DYNAMIC_STATE_LINE_WIDTH</code> dynamic state is
enabled, and the <code>lineWidth</code> parameter to <code>vkCmdSetLineWidth</code>
<strong class="purple">must</strong> be set to 1.0.
When this feature is supported, the range and granularity of supported
line widths are indicated by the <code>lineWidthRange</code> and
<code>lineWidthGranularity</code> members of the <code>VkPhysicalDeviceLimits</code>
structure, respectively.</p>
</li>
<li>
<p><a id="features-largePoints"></a> <code>largePoints</code> specifies whether points with
size greater than 1.0 are supported.
If this feature is not enabled, only a point size of 1.0 written by a
shader is supported.
The range and granularity of supported point sizes are indicated by the
<code>pointSizeRange</code> and <code>pointSizeGranularity</code> members of the
<code>VkPhysicalDeviceLimits</code> structure, respectively.</p>
</li>
<li>
<p><a id="features-alphaToOne"></a> <code>alphaToOne</code> specifies whether the
implementation is able to replace the alpha value of the color fragment
output from the fragment shader with the maximum representable alpha
value for fixed-point colors or 1.0 for floating-point colors.
If this feature is not enabled, then the <code>alphaToOneEnable</code> member
of the <code>VkPipelineMultisampleStateCreateInfo</code> structure <strong class="purple">must</strong> be set
to <code>VK_FALSE</code>.
Otherwise setting <code>alphaToOneEnable</code> to <code>VK_TRUE</code> will enable
alpha-to-one behavior.</p>
</li>
<li>
<p><a id="features-multiViewport"></a> <code>multiViewport</code> specifies whether more
than one viewport is supported.
If this feature is not enabled:</p>
<div class="ulist">
<ul>
<li>
<p>The <code>viewportCount</code> and <code>scissorCount</code> members of the
<code>VkPipelineViewportStateCreateInfo</code> structure <strong class="purple">must</strong> be set to 1.</p>
</li>
<li>
<p>The <code>firstViewport</code> and <code>viewportCount</code> parameters to the
<code>vkCmdSetViewport</code> command <strong class="purple">must</strong> be set to 0 and 1, respectively.</p>
</li>
<li>
<p>The <code>firstScissor</code> and <code>scissorCount</code> parameters to the
<code>vkCmdSetScissor</code> command <strong class="purple">must</strong> be set to 0 and 1, respectively.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a id="features-samplerAnisotropy"></a> <code>samplerAnisotropy</code> specifies whether
anisotropic filtering is supported.
If this feature is not enabled, the <code>anisotropyEnable</code> member of the
<code>VkSamplerCreateInfo</code> structure <strong class="purple">must</strong> be <code>VK_FALSE</code>.</p>
</li>
<li>
<p><a id="features-textureCompressionETC2"></a> <code>textureCompressionETC2</code>
specifies whether all of the ETC2 and EAC compressed texture formats are
supported.
If this feature is enabled, then the
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <strong class="purple">must</strong>
be supported in <code>optimalTilingFeatures</code> for the following formats:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To query for additional properties, or if the feature is not enabled,
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> and
<a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a> <strong class="purple">can</strong> be used to check for
supported properties of individual formats as normal.</p>
</div>
</li>
<li>
<p><a id="features-textureCompressionASTC_LDR"></a> <code>textureCompressionASTC_LDR</code>
specifies whether all of the ASTC LDR compressed texture formats are
supported.
If this feature is enabled, then the
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <strong class="purple">must</strong>
be supported in <code>optimalTilingFeatures</code> for the following formats:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To query for additional properties, or if the feature is not enabled,
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> and
<a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a> <strong class="purple">can</strong> be used to check for
supported properties of individual formats as normal.</p>
</div>
</li>
<li>
<p><a id="features-textureCompressionBC"></a> <code>textureCompressionBC</code> specifies
whether all of the BC compressed texture formats are supported.
If this feature is enabled, then the
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <strong class="purple">must</strong>
be supported in <code>optimalTilingFeatures</code> for the following formats:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC2_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC2_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC3_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC3_SRGB_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC4_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC4_SNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC5_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC5_SNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC7_UNORM_BLOCK</code></p>
</li>
<li>
<p><code>VK_FORMAT_BC7_SRGB_BLOCK</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To query for additional properties, or if the feature is not enabled,
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> and
<a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a> <strong class="purple">can</strong> be used to check for
supported properties of individual formats as normal.</p>
</div>
</li>
<li>
<p><a id="features-occlusionQueryPrecise"></a> <code>occlusionQueryPrecise</code> specifies
whether occlusion queries returning actual sample counts are supported.
Occlusion queries are created in a <code>VkQueryPool</code> by specifying the
<code>queryType</code> of <code>VK_QUERY_TYPE_OCCLUSION</code> in the
<code>VkQueryPoolCreateInfo</code> structure which is passed to
<code>vkCreateQueryPool</code>.
If this feature is enabled, queries of this type <strong class="purple">can</strong> enable
<code>VK_QUERY_CONTROL_PRECISE_BIT</code> in the <code>flags</code> parameter to
<code>vkCmdBeginQuery</code>.
If this feature is not supported, the implementation supports only
boolean occlusion queries.
When any samples are passed, boolean queries will return a non-zero
result value, otherwise a result value of zero is returned.
When this feature is enabled and <code>VK_QUERY_CONTROL_PRECISE_BIT</code> is
set, occlusion queries will report the actual number of samples passed.</p>
</li>
<li>
<p><a id="features-pipelineStatisticsQuery"></a> <code>pipelineStatisticsQuery</code>
specifies whether the pipeline statistics queries are supported.
If this feature is not enabled, queries of type
<code>VK_QUERY_TYPE_PIPELINE_STATISTICS</code> <strong class="purple">cannot</strong> be created, and none of
the <a href="#VkQueryPipelineStatisticFlagBits">VkQueryPipelineStatisticFlagBits</a> bits <strong class="purple">can</strong> be set in the
<code>pipelineStatistics</code> member of the <code>VkQueryPoolCreateInfo</code>
structure.</p>
</li>
<li>
<p><a id="features-vertexPipelineStoresAndAtomics"></a>
<code>vertexPipelineStoresAndAtomics</code> specifies whether storage buffers
and images support stores and atomic operations in the vertex,
tessellation, and geometry shader stages.
If this feature is not enabled, all storage image, storage texel
buffers, and storage buffer variables used by these stages in shader
modules <strong class="purple">must</strong> be decorated with the <code>NonWritable</code> decoration (or the
<code>readonly</code> memory qualifier in GLSL).</p>
</li>
<li>
<p><a id="features-fragmentStoresAndAtomics"></a> <code>fragmentStoresAndAtomics</code>
specifies whether storage buffers and images support stores and atomic
operations in the fragment shader stage.
If this feature is not enabled, all storage image, storage texel
buffers, and storage buffer variables used by the fragment stage in
shader modules <strong class="purple">must</strong> be decorated with the <code>NonWritable</code> decoration
(or the <code>readonly</code> memory qualifier in GLSL).</p>
</li>
<li>
<p><a id="features-shaderTessellationAndGeometryPointSize"></a>
<code>shaderTessellationAndGeometryPointSize</code> specifies whether the
<code>PointSize</code> built-in decoration is available in the tessellation
control, tessellation evaluation, and geometry shader stages.
If this feature is not enabled, members decorated with the
<code>PointSize</code> built-in decoration <strong class="purple">must</strong> not be read from or written to
and all points written from a tessellation or geometry shader will have
a size of 1.0.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>TessellationPointSize</code> capability for tessellation control and
evaluation shaders, or if the shader modules <strong class="purple">can</strong> declare the
<code>GeometryPointSize</code> capability for geometry shaders.
An implementation supporting this feature <strong class="purple">must</strong> also support one or both
of the <a href="#features-tessellationShader"><code>tessellationShader</code></a> or
<a href="#features-geometryShader"><code>geometryShader</code></a> features.</p>
</li>
<li>
<p><a id="features-shaderImageGatherExtended"></a> <code>shaderImageGatherExtended</code>
specifies whether the extended set of image gather instructions are
available in shader code.
If this feature is not enabled, the <code>OpImage</code>*<code>Gather</code>
instructions do not support the <code>Offset</code> and <code>ConstOffsets</code>
operands.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>ImageGatherExtended</code> capability.</p>
</li>
<li>
<p><a id="features-shaderStorageImageExtendedFormats"></a>
<code>shaderStorageImageExtendedFormats</code> specifies whether all the
&#8220;storage image extended formats&#8221; below are supported; if this feature
is supported, then the <code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code> <strong class="purple">must</strong>
be supported in <code>optimalTilingFeatures</code> for the following formats:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_R16G16_SFLOAT</code></p>
</li>
<li>
<p><code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_R16_SFLOAT</code></p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16A16_UNORM</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_UNORM_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_R16G16_UNORM</code></p>
</li>
<li>
<p><code>VK_FORMAT_R8G8_UNORM</code></p>
</li>
<li>
<p><code>VK_FORMAT_R16_UNORM</code></p>
</li>
<li>
<p><code>VK_FORMAT_R8_UNORM</code></p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16A16_SNORM</code></p>
</li>
<li>
<p><code>VK_FORMAT_R16G16_SNORM</code></p>
</li>
<li>
<p><code>VK_FORMAT_R8G8_SNORM</code></p>
</li>
<li>
<p><code>VK_FORMAT_R16_SNORM</code></p>
</li>
<li>
<p><code>VK_FORMAT_R8_SNORM</code></p>
</li>
<li>
<p><code>VK_FORMAT_R16G16_SINT</code></p>
</li>
<li>
<p><code>VK_FORMAT_R8G8_SINT</code></p>
</li>
<li>
<p><code>VK_FORMAT_R16_SINT</code></p>
</li>
<li>
<p><code>VK_FORMAT_R8_SINT</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_UINT_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_R16G16_UINT</code></p>
</li>
<li>
<p><code>VK_FORMAT_R8G8_UINT</code></p>
</li>
<li>
<p><code>VK_FORMAT_R16_UINT</code></p>
</li>
<li>
<p><code>VK_FORMAT_R8_UINT</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>shaderStorageImageExtendedFormats</code> feature only adds a guarantee of
format support, which is specified for the whole physical device.
Therefore enabling or disabling the feature via <a href="#vkCreateDevice">vkCreateDevice</a> has no
practical effect.</p>
</div>
<div class="paragraph">
<p>To query for additional properties, or if the feature is not supported,
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> and
<a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a> <strong class="purple">can</strong> be used to check for
supported properties of individual formats, as usual rules allow.</p>
</div>
<div class="paragraph">
<p><code>VK_FORMAT_R32G32_UINT</code>, <code>VK_FORMAT_R32G32_SINT</code>, and
<code>VK_FORMAT_R32G32_SFLOAT</code> from <code>StorageImageExtendedFormats</code> SPIR-V
capability, are already covered by core Vulkan
<a href="#formats-mandatory-features-32bit">mandatory format support</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><a id="features-shaderStorageImageMultisample"></a>
<code>shaderStorageImageMultisample</code> specifies whether multisampled
storage images are supported.
If this feature is not enabled, images that are created with a
<code>usage</code> that includes <code>VK_IMAGE_USAGE_STORAGE_BIT</code> <strong class="purple">must</strong> be
created with <code>samples</code> equal to <code>VK_SAMPLE_COUNT_1_BIT</code>.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>StorageImageMultisample</code> capability.</p>
</li>
<li>
<p><a id="features-shaderStorageImageReadWithoutFormat"></a>
<code>shaderStorageImageReadWithoutFormat</code> specifies whether storage
images require a format qualifier to be specified when reading from
storage images.
If this feature is not enabled, the <code>OpImageRead</code> instruction <strong class="purple">must</strong>
not have an <code>OpTypeImage</code> of <code>Unknown</code>.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>StorageImageReadWithoutFormat</code> capability.</p>
</li>
<li>
<p><a id="features-shaderStorageImageWriteWithoutFormat"></a>
<code>shaderStorageImageWriteWithoutFormat</code> specifies whether storage
images require a format qualifier to be specified when writing to
storage images.
If this feature is not enabled, the <code>OpImageWrite</code> instruction <strong class="purple">must</strong>
not have an <code>OpTypeImage</code> of <code>Unknown</code>.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>StorageImageWriteWithoutFormat</code> capability.</p>
</li>
<li>
<p><a id="features-shaderUniformBufferArrayDynamicIndexing"></a>
<code>shaderUniformBufferArrayDynamicIndexing</code> specifies whether arrays
of uniform buffers <strong class="purple">can</strong> be indexed by <em>dynamically uniform</em> integer
expressions in shader code.
If this feature is not enabled, resources with a descriptor type of
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> <strong class="purple">must</strong> be indexed only by
constant integral expressions when aggregated into arrays in shader
code.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>UniformBufferArrayDynamicIndexing</code> capability.</p>
</li>
<li>
<p><a id="features-shaderSampledImageArrayDynamicIndexing"></a>
<code>shaderSampledImageArrayDynamicIndexing</code> specifies whether arrays of
samplers or sampled images <strong class="purple">can</strong> be indexed by dynamically uniform
integer expressions in shader code.
If this feature is not enabled, resources with a descriptor type of
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, or
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> <strong class="purple">must</strong> be indexed only by constant
integral expressions when aggregated into arrays in shader code.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>SampledImageArrayDynamicIndexing</code> capability.</p>
</li>
<li>
<p><a id="features-shaderStorageBufferArrayDynamicIndexing"></a>
<code>shaderStorageBufferArrayDynamicIndexing</code> specifies whether arrays
of storage buffers <strong class="purple">can</strong> be indexed by dynamically uniform integer
expressions in shader code.
If this feature is not enabled, resources with a descriptor type of
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> <strong class="purple">must</strong> be indexed only by
constant integral expressions when aggregated into arrays in shader
code.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>StorageBufferArrayDynamicIndexing</code> capability.</p>
</li>
<li>
<p><a id="features-shaderStorageImageArrayDynamicIndexing"></a>
<code>shaderStorageImageArrayDynamicIndexing</code> specifies whether arrays of
storage images <strong class="purple">can</strong> be indexed by dynamically uniform integer
expressions in shader code.
If this feature is not enabled, resources with a descriptor type of
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> <strong class="purple">must</strong> be indexed only by constant
integral expressions when aggregated into arrays in shader code.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>StorageImageArrayDynamicIndexing</code> capability.</p>
</li>
<li>
<p><a id="features-shaderClipDistance"></a> <code>shaderClipDistance</code> specifies
whether clip distances are supported in shader code.
If this feature is not enabled, any members decorated with the
<code>ClipDistance</code> built-in decoration <strong class="purple">must</strong> not be read from or written
to in shader modules.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>ClipDistance</code> capability.</p>
</li>
<li>
<p><a id="features-shaderCullDistance"></a> <code>shaderCullDistance</code> specifies
whether cull distances are supported in shader code.
If this feature is not enabled, any members decorated with the
<code>CullDistance</code> built-in decoration <strong class="purple">must</strong> not be read from or written
to in shader modules.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>CullDistance</code> capability.</p>
</li>
<li>
<p><a id="features-shaderFloat64"></a> <code>shaderFloat64</code> specifies whether 64-bit
floats (doubles) are supported in shader code.
If this feature is not enabled, 64-bit floating-point types <strong class="purple">must</strong> not be
used in shader code.
This also specifies whether shader modules <strong class="purple">can</strong> declare the <code>Float64</code>
capability.
Declaring and using 64-bit floats is enabled for all storage classes
that SPIR-V allows with the <code>Float64</code> capability.</p>
</li>
<li>
<p><a id="features-shaderInt64"></a> <code>shaderInt64</code> specifies whether 64-bit
integers (signed and unsigned) are supported in shader code.
If this feature is not enabled, 64-bit integer types <strong class="purple">must</strong> not be used
in shader code.
This also specifies whether shader modules <strong class="purple">can</strong> declare the <code>Int64</code>
capability.
Declaring and using 64-bit integers is enabled for all storage classes
that SPIR-V allows with the <code>Int64</code> capability.</p>
</li>
<li>
<p><a id="features-shaderInt16"></a> <code>shaderInt16</code> specifies whether 16-bit
integers (signed and unsigned) are supported in shader code.
If this feature is not enabled, 16-bit integer types <strong class="purple">must</strong> not be used
in shader code.
This also specifies whether shader modules <strong class="purple">can</strong> declare the <code>Int16</code>
capability.
However, this only enables a subset of the storage classes that SPIR-V
allows for the <code>Int16</code> SPIR-V capability: Declaring and using 16-bit
integers in the <code>Private</code>, <code>Workgroup</code>, and <code>Function</code> storage
classes is enabled, while declaring them in the interface storage
classes (e.g., <code>UniformConstant</code>, <code>Uniform</code>, <code>StorageBuffer</code>,
<code>Input</code>, <code>Output</code>, and <code>PushConstant</code>) is not enabled.</p>
</li>
<li>
<p><a id="features-shaderResourceResidency"></a> <code>shaderResourceResidency</code>
specifies whether image operations that return resource residency
information are supported in shader code.
If this feature is not enabled, the <code>OpImageSparse</code>* instructions
<strong class="purple">must</strong> not be used in shader code.
This also specifies whether shader modules <strong class="purple">can</strong> declare the
<code>SparseResidency</code> capability.
The feature requires at least one of the <code>sparseResidency*</code> features
to be supported.</p>
</li>
<li>
<p><a id="features-shaderResourceMinLod"></a> <code>shaderResourceMinLod</code> specifies
whether image operations specifying the minimum resource LOD are
supported in shader code.
If this feature is not enabled, the <code>MinLod</code> image operand <strong class="purple">must</strong> not
be used in shader code.
This also specifies whether shader modules <strong class="purple">can</strong> declare the <code>MinLod</code>
capability.</p>
</li>
<li>
<p><a id="features-sparseBinding"></a> <code>sparseBinding</code> specifies whether
resource memory <strong class="purple">can</strong> be managed at opaque sparse block level instead of
at the object level.
If this feature is not enabled, resource memory <strong class="purple">must</strong> be bound only on a
per-object basis using the <code>vkBindBufferMemory</code> and
<code>vkBindImageMemory</code> commands.
In this case, buffers and images <strong class="purple">must</strong> not be created with
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> and
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> set in the <code>flags</code> member
of the <code>VkBufferCreateInfo</code> and <code>VkImageCreateInfo</code> structures,
respectively.
Otherwise resource memory <strong class="purple">can</strong> be managed as described in
<a href="#sparsememory-sparseresourcefeatures">Sparse Resource Features</a>.</p>
</li>
<li>
<p><a id="features-sparseResidencyBuffer"></a> <code>sparseResidencyBuffer</code> specifies
whether the device <strong class="purple">can</strong> access partially resident buffers.
If this feature is not enabled, buffers <strong class="purple">must</strong> not be created with
<code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code>
member of the <code>VkBufferCreateInfo</code> structure.</p>
</li>
<li>
<p><a id="features-sparseResidencyImage2D"></a> <code>sparseResidencyImage2D</code>
specifies whether the device <strong class="purple">can</strong> access partially resident 2D images
with 1 sample per pixel.
If this feature is not enabled, images with an <code>imageType</code> of
<code>VK_IMAGE_TYPE_2D</code> and <code>samples</code> set to
<code>VK_SAMPLE_COUNT_1_BIT</code> <strong class="purple">must</strong> not be created with
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
of the <code>VkImageCreateInfo</code> structure.</p>
</li>
<li>
<p><a id="features-sparseResidencyImage3D"></a> <code>sparseResidencyImage3D</code>
specifies whether the device <strong class="purple">can</strong> access partially resident 3D images.
If this feature is not enabled, images with an <code>imageType</code> of
<code>VK_IMAGE_TYPE_3D</code> <strong class="purple">must</strong> not be created with
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
of the <code>VkImageCreateInfo</code> structure.</p>
</li>
<li>
<p><a id="features-sparseResidency2Samples"></a> <code>sparseResidency2Samples</code>
specifies whether the physical device <strong class="purple">can</strong> access partially resident 2D
images with 2 samples per pixel.
If this feature is not enabled, images with an <code>imageType</code> of
<code>VK_IMAGE_TYPE_2D</code> and <code>samples</code> set to
<code>VK_SAMPLE_COUNT_2_BIT</code> <strong class="purple">must</strong> not be created with
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
of the <code>VkImageCreateInfo</code> structure.</p>
</li>
<li>
<p><a id="features-sparseResidency4Samples"></a> <code>sparseResidency4Samples</code>
specifies whether the physical device <strong class="purple">can</strong> access partially resident 2D
images with 4 samples per pixel.
If this feature is not enabled, images with an <code>imageType</code> of
<code>VK_IMAGE_TYPE_2D</code> and <code>samples</code> set to
<code>VK_SAMPLE_COUNT_4_BIT</code> <strong class="purple">must</strong> not be created with
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
of the <code>VkImageCreateInfo</code> structure.</p>
</li>
<li>
<p><a id="features-sparseResidency8Samples"></a> <code>sparseResidency8Samples</code>
specifies whether the physical device <strong class="purple">can</strong> access partially resident 2D
images with 8 samples per pixel.
If this feature is not enabled, images with an <code>imageType</code> of
<code>VK_IMAGE_TYPE_2D</code> and <code>samples</code> set to
<code>VK_SAMPLE_COUNT_8_BIT</code> <strong class="purple">must</strong> not be created with
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
of the <code>VkImageCreateInfo</code> structure.</p>
</li>
<li>
<p><a id="features-sparseResidency16Samples"></a> <code>sparseResidency16Samples</code>
specifies whether the physical device <strong class="purple">can</strong> access partially resident 2D
images with 16 samples per pixel.
If this feature is not enabled, images with an <code>imageType</code> of
<code>VK_IMAGE_TYPE_2D</code> and <code>samples</code> set to
<code>VK_SAMPLE_COUNT_16_BIT</code> <strong class="purple">must</strong> not be created with
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> set in the <code>flags</code> member
of the <code>VkImageCreateInfo</code> structure.</p>
</li>
<li>
<p><a id="features-sparseResidencyAliased"></a> <code>sparseResidencyAliased</code>
specifies whether the physical device <strong class="purple">can</strong> correctly access data aliased
into multiple locations.
If this feature is not enabled, the
<code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> and
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> enum values <strong class="purple">must</strong> not be used
in <code>flags</code> members of the <code>VkBufferCreateInfo</code> and
<code>VkImageCreateInfo</code> structures, respectively.</p>
</li>
<li>
<p><a id="features-variableMultisampleRate"></a> <code>variableMultisampleRate</code>
specifies whether all pipelines that will be bound to a command buffer
during a subpass with no attachments <strong class="purple">must</strong> have the same value for
<code>VkPipelineMultisampleStateCreateInfo</code>::<code>rasterizationSamples</code>.
If set to <code>VK_TRUE</code>, the implementation supports variable
multisample rates in a subpass with no attachments.
If set to <code>VK_FALSE</code>, then all pipelines bound in such a subpass
<strong class="purple">must</strong> have the same multisample rate.
This has no effect in situations where a subpass uses any attachments.</p>
</li>
<li>
<p><a id="features-inheritedQueries"></a> <code>inheritedQueries</code> specifies whether a
secondary command buffer <strong class="purple">may</strong> be executed while a query is active.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="features-requirements"><a class="anchor" href="#features-requirements"></a>30.1. Feature Requirements</h3>
<div class="paragraph">
<p>All Vulkan graphics implementations <strong class="purple">must</strong> support the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#features-robustBufferAccess"><code>robustBufferAccess</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All other features defined in the Specification are <strong class="purple">optional</strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="limits"><a class="anchor" href="#limits"></a>31. Limits</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Limits</em> are implementation-dependent minimums, maximums, and other device
characteristics that an application <strong class="purple">may</strong> need to be aware of.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceLimits</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceLimits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkPhysicalDeviceLimits {
    uint32_t              maxImageDimension1D;
    uint32_t              maxImageDimension2D;
    uint32_t              maxImageDimension3D;
    uint32_t              maxImageDimensionCube;
    uint32_t              maxImageArrayLayers;
    uint32_t              maxTexelBufferElements;
    uint32_t              maxUniformBufferRange;
    uint32_t              maxStorageBufferRange;
    uint32_t              maxPushConstantsSize;
    uint32_t              maxMemoryAllocationCount;
    uint32_t              maxSamplerAllocationCount;
    VkDeviceSize          bufferImageGranularity;
    VkDeviceSize          sparseAddressSpaceSize;
    uint32_t              maxBoundDescriptorSets;
    uint32_t              maxPerStageDescriptorSamplers;
    uint32_t              maxPerStageDescriptorUniformBuffers;
    uint32_t              maxPerStageDescriptorStorageBuffers;
    uint32_t              maxPerStageDescriptorSampledImages;
    uint32_t              maxPerStageDescriptorStorageImages;
    uint32_t              maxPerStageDescriptorInputAttachments;
    uint32_t              maxPerStageResources;
    uint32_t              maxDescriptorSetSamplers;
    uint32_t              maxDescriptorSetUniformBuffers;
    uint32_t              maxDescriptorSetUniformBuffersDynamic;
    uint32_t              maxDescriptorSetStorageBuffers;
    uint32_t              maxDescriptorSetStorageBuffersDynamic;
    uint32_t              maxDescriptorSetSampledImages;
    uint32_t              maxDescriptorSetStorageImages;
    uint32_t              maxDescriptorSetInputAttachments;
    uint32_t              maxVertexInputAttributes;
    uint32_t              maxVertexInputBindings;
    uint32_t              maxVertexInputAttributeOffset;
    uint32_t              maxVertexInputBindingStride;
    uint32_t              maxVertexOutputComponents;
    uint32_t              maxTessellationGenerationLevel;
    uint32_t              maxTessellationPatchSize;
    uint32_t              maxTessellationControlPerVertexInputComponents;
    uint32_t              maxTessellationControlPerVertexOutputComponents;
    uint32_t              maxTessellationControlPerPatchOutputComponents;
    uint32_t              maxTessellationControlTotalOutputComponents;
    uint32_t              maxTessellationEvaluationInputComponents;
    uint32_t              maxTessellationEvaluationOutputComponents;
    uint32_t              maxGeometryShaderInvocations;
    uint32_t              maxGeometryInputComponents;
    uint32_t              maxGeometryOutputComponents;
    uint32_t              maxGeometryOutputVertices;
    uint32_t              maxGeometryTotalOutputComponents;
    uint32_t              maxFragmentInputComponents;
    uint32_t              maxFragmentOutputAttachments;
    uint32_t              maxFragmentDualSrcAttachments;
    uint32_t              maxFragmentCombinedOutputResources;
    uint32_t              maxComputeSharedMemorySize;
    uint32_t              maxComputeWorkGroupCount[<span class="integer">3</span>];
    uint32_t              maxComputeWorkGroupInvocations;
    uint32_t              maxComputeWorkGroupSize[<span class="integer">3</span>];
    uint32_t              subPixelPrecisionBits;
    uint32_t              subTexelPrecisionBits;
    uint32_t              mipmapPrecisionBits;
    uint32_t              maxDrawIndexedIndexValue;
    uint32_t              maxDrawIndirectCount;
    <span class="predefined-type">float</span>                 maxSamplerLodBias;
    <span class="predefined-type">float</span>                 maxSamplerAnisotropy;
    uint32_t              maxViewports;
    uint32_t              maxViewportDimensions[<span class="integer">2</span>];
    <span class="predefined-type">float</span>                 viewportBoundsRange[<span class="integer">2</span>];
    uint32_t              viewportSubPixelBits;
    size_t                minMemoryMapAlignment;
    VkDeviceSize          minTexelBufferOffsetAlignment;
    VkDeviceSize          minUniformBufferOffsetAlignment;
    VkDeviceSize          minStorageBufferOffsetAlignment;
    int32_t               minTexelOffset;
    uint32_t              maxTexelOffset;
    int32_t               minTexelGatherOffset;
    uint32_t              maxTexelGatherOffset;
    <span class="predefined-type">float</span>                 minInterpolationOffset;
    <span class="predefined-type">float</span>                 maxInterpolationOffset;
    uint32_t              subPixelInterpolationOffsetBits;
    uint32_t              maxFramebufferWidth;
    uint32_t              maxFramebufferHeight;
    uint32_t              maxFramebufferLayers;
    VkSampleCountFlags    framebufferColorSampleCounts;
    VkSampleCountFlags    framebufferDepthSampleCounts;
    VkSampleCountFlags    framebufferStencilSampleCounts;
    VkSampleCountFlags    framebufferNoAttachmentsSampleCounts;
    uint32_t              maxColorAttachments;
    VkSampleCountFlags    sampledImageColorSampleCounts;
    VkSampleCountFlags    sampledImageIntegerSampleCounts;
    VkSampleCountFlags    sampledImageDepthSampleCounts;
    VkSampleCountFlags    sampledImageStencilSampleCounts;
    VkSampleCountFlags    storageImageSampleCounts;
    uint32_t              maxSampleMaskWords;
    VkBool32              timestampComputeAndGraphics;
    <span class="predefined-type">float</span>                 timestampPeriod;
    uint32_t              maxClipDistances;
    uint32_t              maxCullDistances;
    uint32_t              maxCombinedClipAndCullDistances;
    uint32_t              discreteQueuePriorities;
    <span class="predefined-type">float</span>                 pointSizeRange[<span class="integer">2</span>];
    <span class="predefined-type">float</span>                 lineWidthRange[<span class="integer">2</span>];
    <span class="predefined-type">float</span>                 pointSizeGranularity;
    <span class="predefined-type">float</span>                 lineWidthGranularity;
    VkBool32              strictLines;
    VkBool32              standardSampleLocations;
    VkDeviceSize          optimalBufferCopyOffsetAlignment;
    VkDeviceSize          optimalBufferCopyRowPitchAlignment;
    VkDeviceSize          nonCoherentAtomSize;
} VkPhysicalDeviceLimits;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>VkPhysicalDeviceLimits</code> are properties of the physical device.
These are available in the <code>limits</code> member of the
<a href="#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a> structure which is returned from
<a href="#vkGetPhysicalDeviceProperties">vkGetPhysicalDeviceProperties</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="limits-maxImageDimension1D"></a> <code>maxImageDimension1D</code> is the maximum
dimension (<code>width</code>) supported for all images created with an
<code>imageType</code> of <code>VK_IMAGE_TYPE_1D</code>.</p>
</li>
<li>
<p><a id="limits-maxImageDimension2D"></a> <code>maxImageDimension2D</code> is the maximum
dimension (<code>width</code> or <code>height</code>) supported for all images created
with an <code>imageType</code> of <code>VK_IMAGE_TYPE_2D</code> and without
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> set in <code>flags</code>.</p>
</li>
<li>
<p><a id="limits-maxImageDimension3D"></a> <code>maxImageDimension3D</code> is the maximum
dimension (<code>width</code>, <code>height</code>, or <code>depth</code>) supported for all
images created with an <code>imageType</code> of <code>VK_IMAGE_TYPE_3D</code>.</p>
</li>
<li>
<p><a id="limits-maxImageDimensionCube"></a> <code>maxImageDimensionCube</code> is the
maximum dimension (<code>width</code> or <code>height</code>) supported for all images
created with an <code>imageType</code> of <code>VK_IMAGE_TYPE_2D</code> and with
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> set in <code>flags</code>.</p>
</li>
<li>
<p><a id="limits-maxImageArrayLayers"></a> <code>maxImageArrayLayers</code> is the maximum
number of layers (<code>arrayLayers</code>) for an image.</p>
</li>
<li>
<p><a id="limits-maxTexelBufferElements"></a> <code>maxTexelBufferElements</code> is the
maximum number of addressable texels for a buffer view created on a
buffer which was created with the
<code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> or
<code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> set in the <code>usage</code>
member of the <code>VkBufferCreateInfo</code> structure.</p>
</li>
<li>
<p><a id="limits-maxUniformBufferRange"></a> <code>maxUniformBufferRange</code> is the
maximum value that <strong class="purple">can</strong> be specified in the <code>range</code> member of any
<a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> structures passed to a call to
<a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a> for descriptors of type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>.</p>
</li>
<li>
<p><a id="limits-maxStorageBufferRange"></a> <code>maxStorageBufferRange</code> is the
maximum value that <strong class="purple">can</strong> be specified in the <code>range</code> member of any
<a href="#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> structures passed to a call to
<a href="#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a> for descriptors of type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>.</p>
</li>
<li>
<p><a id="limits-maxPushConstantsSize"></a> <code>maxPushConstantsSize</code> is the
maximum size, in bytes, of the pool of push constant memory.
For each of the push constant ranges indicated by the
<code>pPushConstantRanges</code> member of the <code>VkPipelineLayoutCreateInfo</code>
structure, <span class="eq">(<code>offset</code> +  <code>size</code>)</span> <strong class="purple">must</strong> be less than or
equal to this limit.</p>
</li>
<li>
<p><a id="limits-maxMemoryAllocationCount"></a> <code>maxMemoryAllocationCount</code> is
the maximum number of device memory allocations, as created by
<a href="#vkAllocateMemory">vkAllocateMemory</a>, which <strong class="purple">can</strong> simultaneously exist.</p>
</li>
<li>
<p><a id="limits-maxSamplerAllocationCount"></a> <code>maxSamplerAllocationCount</code> is
the maximum number of sampler objects, as created by
<a href="#vkCreateSampler">vkCreateSampler</a>, which <strong class="purple">can</strong> simultaneously exist on a device.</p>
</li>
<li>
<p><a id="limits-bufferImageGranularity"></a> <code>bufferImageGranularity</code> is the
granularity, in bytes, at which buffer or linear image resources, and
optimal image resources <strong class="purple">can</strong> be bound to adjacent offsets in the same
<code>VkDeviceMemory</code> object without aliasing.
See <a href="#resources-bufferimagegranularity">Buffer-Image Granularity</a> for
more details.</p>
</li>
<li>
<p><a id="limits-sparseAddressSpaceSize"></a> <code>sparseAddressSpaceSize</code> is the
total amount of address space available, in bytes, for sparse memory
resources.
This is an upper bound on the sum of the size of all sparse resources,
regardless of whether any memory is bound to them.</p>
</li>
<li>
<p><a id="limits-maxBoundDescriptorSets"></a> <code>maxBoundDescriptorSets</code> is the
maximum number of descriptor sets that <strong class="purple">can</strong> be simultaneously used by a
pipeline.
All <code>DescriptorSet</code> decorations in shader modules <strong class="purple">must</strong> have a value
less than <code>maxBoundDescriptorSets</code>.
See <a href="#descriptorsets-sets">Descriptor Sets</a>.</p>
</li>
<li>
<p><a id="limits-maxPerStageDescriptorSamplers"></a>
<code>maxPerStageDescriptorSamplers</code> is the maximum number of samplers
that <strong class="purple">can</strong> be accessible to a single shader stage in a pipeline layout.
Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> count against this
limit.
A descriptor is accessible to a shader stage when the <code>stageFlags</code>
member of the <code>VkDescriptorSetLayoutBinding</code> structure has the bit
for that shader stage set.
See <a href="#descriptorsets-sampler">Sampler</a> and
<a href="#descriptorsets-combinedimagesampler">Combined Image Sampler</a>.</p>
</li>
<li>
<p><a id="limits-maxPerStageDescriptorUniformBuffers"></a>
<code>maxPerStageDescriptorUniformBuffers</code> is the maximum number of
uniform buffers that <strong class="purple">can</strong> be accessible to a single shader stage in a
pipeline layout.
Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> count against this
limit.
A descriptor is accessible to a shader stage when the <code>stageFlags</code>
member of the <code>VkDescriptorSetLayoutBinding</code> structure has the bit
for that shader stage set.
See <a href="#descriptorsets-uniformbuffer">Uniform Buffer</a> and
<a href="#descriptorsets-uniformbufferdynamic">Dynamic Uniform Buffer</a>.</p>
</li>
<li>
<p><a id="limits-maxPerStageDescriptorStorageBuffers"></a>
<code>maxPerStageDescriptorStorageBuffers</code> is the maximum number of
storage buffers that <strong class="purple">can</strong> be accessible to a single shader stage in a
pipeline layout.
Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> count against this
limit.
A descriptor is accessible to a pipeline shader stage when the
<code>stageFlags</code> member of the <code>VkDescriptorSetLayoutBinding</code>
structure has the bit for that shader stage set.
See <a href="#descriptorsets-storagebuffer">Storage Buffer</a> and
<a href="#descriptorsets-storagebufferdynamic">Dynamic Storage Buffer</a>.</p>
</li>
<li>
<p><a id="limits-maxPerStageDescriptorSampledImages"></a>
<code>maxPerStageDescriptorSampledImages</code> is the maximum number of
sampled images that <strong class="purple">can</strong> be accessible to a single shader stage in a
pipeline layout.
Descriptors with a type of
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> count against this limit.
A descriptor is accessible to a pipeline shader stage when the
<code>stageFlags</code> member of the <code>VkDescriptorSetLayoutBinding</code>
structure has the bit for that shader stage set.
See <a href="#descriptorsets-combinedimagesampler">Combined Image Sampler</a>,
<a href="#descriptorsets-sampledimage">Sampled Image</a>, and
<a href="#descriptorsets-uniformtexelbuffer">Uniform Texel Buffer</a>.</p>
</li>
<li>
<p><a id="limits-maxPerStageDescriptorStorageImages"></a>
<code>maxPerStageDescriptorStorageImages</code> is the maximum number of
storage images that <strong class="purple">can</strong> be accessible to a single shader stage in a
pipeline layout.
Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> count against this limit.
A descriptor is accessible to a pipeline shader stage when the
<code>stageFlags</code> member of the <code>VkDescriptorSetLayoutBinding</code>
structure has the bit for that shader stage set.
See <a href="#descriptorsets-storageimage">Storage Image</a>, and
<a href="#descriptorsets-storagetexelbuffer">Storage Texel Buffer</a>.</p>
</li>
<li>
<p><a id="limits-maxPerStageDescriptorInputAttachments"></a>
<code>maxPerStageDescriptorInputAttachments</code> is the maximum number of
input attachments that <strong class="purple">can</strong> be accessible to a single shader stage in a
pipeline layout.
Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>
count against this limit.
A descriptor is accessible to a pipeline shader stage when the
<code>stageFlags</code> member of the <code>VkDescriptorSetLayoutBinding</code>
structure has the bit for that shader stage set.
These are only supported for the fragment stage.
See <a href="#descriptorsets-inputattachment">Input Attachment</a>.</p>
</li>
<li>
<p><a id="limits-maxPerStageResources"></a> <code>maxPerStageResources</code> is the
maximum number of resources that <strong class="purple">can</strong> be accessible to a single shader
stage in a pipeline layout.
Descriptors with a type of
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> count against this limit.
For the fragment shader stage the framebuffer color attachments also
count against this limit.</p>
</li>
<li>
<p><a id="limits-maxDescriptorSetSamplers"></a> <code>maxDescriptorSetSamplers</code> is
the maximum number of samplers that <strong class="purple">can</strong> be included in a pipeline
layout.
Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> count against this
limit.
See <a href="#descriptorsets-sampler">Sampler</a> and
<a href="#descriptorsets-combinedimagesampler">Combined Image Sampler</a>.</p>
</li>
<li>
<p><a id="limits-maxDescriptorSetUniformBuffers"></a>
<code>maxDescriptorSetUniformBuffers</code> is the maximum number of uniform
buffers that <strong class="purple">can</strong> be included in a pipeline layout.
Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> count against this
limit.
See <a href="#descriptorsets-uniformbuffer">Uniform Buffer</a> and
<a href="#descriptorsets-uniformbufferdynamic">Dynamic Uniform Buffer</a>.</p>
</li>
<li>
<p><a id="limits-maxDescriptorSetUniformBuffersDynamic"></a>
<code>maxDescriptorSetUniformBuffersDynamic</code> is the maximum number of
dynamic uniform buffers that <strong class="purple">can</strong> be included in a pipeline layout.
Descriptors with a type of
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> count against this
limit.
See <a href="#descriptorsets-uniformbufferdynamic">Dynamic Uniform Buffer</a>.</p>
</li>
<li>
<p><a id="limits-maxDescriptorSetStorageBuffers"></a>
<code>maxDescriptorSetStorageBuffers</code> is the maximum number of storage
buffers that <strong class="purple">can</strong> be included in a pipeline layout.
Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> count against this
limit.
See <a href="#descriptorsets-storagebuffer">Storage Buffer</a> and
<a href="#descriptorsets-storagebufferdynamic">Dynamic Storage Buffer</a>.</p>
</li>
<li>
<p><a id="limits-maxDescriptorSetStorageBuffersDynamic"></a>
<code>maxDescriptorSetStorageBuffersDynamic</code> is the maximum number of
dynamic storage buffers that <strong class="purple">can</strong> be included in a pipeline layout.
Descriptors with a type of
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> count against this
limit.
See <a href="#descriptorsets-storagebufferdynamic">Dynamic Storage Buffer</a>.</p>
</li>
<li>
<p><a id="limits-maxDescriptorSetSampledImages"></a>
<code>maxDescriptorSetSampledImages</code> is the maximum number of sampled
images that <strong class="purple">can</strong> be included in a pipeline layout.
Descriptors with a type of
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> count against this limit.
See <a href="#descriptorsets-combinedimagesampler">Combined Image Sampler</a>,
<a href="#descriptorsets-sampledimage">Sampled Image</a>, and
<a href="#descriptorsets-uniformtexelbuffer">Uniform Texel Buffer</a>.</p>
</li>
<li>
<p><a id="limits-maxDescriptorSetStorageImages"></a>
<code>maxDescriptorSetStorageImages</code> is the maximum number of storage
images that <strong class="purple">can</strong> be included in a pipeline layout.
Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> count against this limit.
See <a href="#descriptorsets-storageimage">Storage Image</a>, and
<a href="#descriptorsets-storagetexelbuffer">Storage Texel Buffer</a>.</p>
</li>
<li>
<p><a id="limits-maxDescriptorSetInputAttachments"></a>
<code>maxDescriptorSetInputAttachments</code> is the maximum number of input
attachments that <strong class="purple">can</strong> be included in a pipeline layout.
Descriptors with a type of <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>
count against this limit.
See <a href="#descriptorsets-inputattachment">Input Attachment</a>.</p>
</li>
<li>
<p><a id="limits-maxVertexInputAttributes"></a> <code>maxVertexInputAttributes</code> is
the maximum number of vertex input attributes that <strong class="purple">can</strong> be specified for
a graphics pipeline.
These are described in the array of
<code>VkVertexInputAttributeDescription</code> structures that are provided at
graphics pipeline creation time via the
<code>pVertexAttributeDescriptions</code> member of the
<code>VkPipelineVertexInputStateCreateInfo</code> structure.
See <a href="#fxvertex-attrib">Vertex Attributes</a> and <a href="#fxvertex-input">Vertex Input Description</a>.</p>
</li>
<li>
<p><a id="limits-maxVertexInputBindings"></a> <code>maxVertexInputBindings</code> is the
maximum number of vertex buffers that <strong class="purple">can</strong> be specified for providing
vertex attributes to a graphics pipeline.
These are described in the array of
<code>VkVertexInputBindingDescription</code> structures that are provided at
graphics pipeline creation time via the <code>pVertexBindingDescriptions</code>
member of the <code>VkPipelineVertexInputStateCreateInfo</code> structure.
The <code>binding</code> member of <code>VkVertexInputBindingDescription</code> <strong class="purple">must</strong>
be less than this limit.
See <a href="#fxvertex-input">Vertex Input Description</a>.</p>
</li>
<li>
<p><a id="limits-maxVertexInputAttributeOffset"></a>
<code>maxVertexInputAttributeOffset</code> is the maximum vertex input
attribute offset that <strong class="purple">can</strong> be added to the vertex input binding stride.
The <code>offset</code> member of the <code>VkVertexInputAttributeDescription</code>
structure <strong class="purple">must</strong> be less than or equal to this limit.
See <a href="#fxvertex-input">Vertex Input Description</a>.</p>
</li>
<li>
<p><a id="limits-maxVertexInputBindingStride"></a> <code>maxVertexInputBindingStride</code>
is the maximum vertex input binding stride that <strong class="purple">can</strong> be specified in a
vertex input binding.
The <code>stride</code> member of the <code>VkVertexInputBindingDescription</code>
structure <strong class="purple">must</strong> be less than or equal to this limit.
See <a href="#fxvertex-input">Vertex Input Description</a>.</p>
</li>
<li>
<p><a id="limits-maxVertexOutputComponents"></a> <code>maxVertexOutputComponents</code> is
the maximum number of components of output variables which <strong class="purple">can</strong> be
output by a vertex shader.
See <a href="#shaders-vertex">Vertex Shaders</a>.</p>
</li>
<li>
<p><a id="limits-maxTessellationGenerationLevel"></a>
<code>maxTessellationGenerationLevel</code> is the maximum tessellation
generation level supported by the fixed-function tessellation primitive
generator.
See <a href="#tessellation">Tessellation</a>.</p>
</li>
<li>
<p><a id="limits-maxTessellationPatchSize"></a> <code>maxTessellationPatchSize</code> is
the maximum patch size, in vertices, of patches that <strong class="purple">can</strong> be processed
by the tessellation control shader and tessellation primitive generator.
The <code>patchControlPoints</code> member of the
<code>VkPipelineTessellationStateCreateInfo</code> structure specified at
pipeline creation time and the value provided in the <code>OutputVertices</code>
execution mode of shader modules <strong class="purple">must</strong> be less than or equal to this
limit.
See <a href="#tessellation">Tessellation</a>.</p>
</li>
<li>
<p><a id="limits-maxTessellationControlPerVertexInputComponents"></a>
<code>maxTessellationControlPerVertexInputComponents</code> is the maximum
number of components of input variables which <strong class="purple">can</strong> be provided as
per-vertex inputs to the tessellation control shader stage.</p>
</li>
<li>
<p><a id="limits-maxTessellationControlPerVertexOutputComponents"></a>
<code>maxTessellationControlPerVertexOutputComponents</code> is the maximum
number of components of per-vertex output variables which <strong class="purple">can</strong> be output
from the tessellation control shader stage.</p>
</li>
<li>
<p><a id="limits-maxTessellationControlPerPatchOutputComponents"></a>
<code>maxTessellationControlPerPatchOutputComponents</code> is the maximum
number of components of per-patch output variables which <strong class="purple">can</strong> be output
from the tessellation control shader stage.</p>
</li>
<li>
<p><a id="limits-maxTessellationControlTotalOutputComponents"></a>
<code>maxTessellationControlTotalOutputComponents</code> is the maximum total
number of components of per-vertex and per-patch output variables which
<strong class="purple">can</strong> be output from the tessellation control shader stage.</p>
</li>
<li>
<p><a id="limits-maxTessellationEvaluationInputComponents"></a>
<code>maxTessellationEvaluationInputComponents</code> is the maximum number of
components of input variables which <strong class="purple">can</strong> be provided as per-vertex
inputs to the tessellation evaluation shader stage.</p>
</li>
<li>
<p><a id="limits-maxTessellationEvaluationOutputComponents"></a>
<code>maxTessellationEvaluationOutputComponents</code> is the maximum number of
components of per-vertex output variables which <strong class="purple">can</strong> be output from the
tessellation evaluation shader stage.</p>
</li>
<li>
<p><a id="limits-maxGeometryShaderInvocations"></a>
<code>maxGeometryShaderInvocations</code> is the maximum invocation count
supported for instanced geometry shaders.
The value provided in the <code>Invocations</code> execution mode of shader
modules <strong class="purple">must</strong> be less than or equal to this limit.
See <a href="#geometry">Geometry Shading</a>.</p>
</li>
<li>
<p><a id="limits-maxGeometryInputComponents"></a> <code>maxGeometryInputComponents</code>
is the maximum number of components of input variables which <strong class="purple">can</strong> be
provided as inputs to the geometry shader stage.</p>
</li>
<li>
<p><a id="limits-maxGeometryOutputComponents"></a> <code>maxGeometryOutputComponents</code>
is the maximum number of components of output variables which <strong class="purple">can</strong> be
output from the geometry shader stage.</p>
</li>
<li>
<p><a id="limits-maxGeometryOutputVertices"></a> <code>maxGeometryOutputVertices</code> is
the maximum number of vertices which <strong class="purple">can</strong> be emitted by any geometry
shader.</p>
</li>
<li>
<p><a id="limits-maxGeometryTotalOutputComponents"></a>
<code>maxGeometryTotalOutputComponents</code> is the maximum total number of
components of output, across all emitted vertices, which <strong class="purple">can</strong> be output
from the geometry shader stage.</p>
</li>
<li>
<p><a id="limits-maxFragmentInputComponents"></a> <code>maxFragmentInputComponents</code>
is the maximum number of components of input variables which <strong class="purple">can</strong> be
provided as inputs to the fragment shader stage.</p>
</li>
<li>
<p><a id="limits-maxFragmentOutputAttachments"></a>
<code>maxFragmentOutputAttachments</code> is the maximum number of output
attachments which <strong class="purple">can</strong> be written to by the fragment shader stage.</p>
</li>
<li>
<p><a id="limits-maxFragmentDualSrcAttachments"></a>
<code>maxFragmentDualSrcAttachments</code> is the maximum number of output
attachments which <strong class="purple">can</strong> be written to by the fragment shader stage when
blending is enabled and one of the dual source blend modes is in use.
See <a href="#framebuffer-dsb">Dual-Source Blending</a> and <a href="#features-dualSrcBlend">dualSrcBlend</a>.</p>
</li>
<li>
<p><a id="limits-maxFragmentCombinedOutputResources"></a>
<code>maxFragmentCombinedOutputResources</code> is the total number of storage
buffers, storage images, and output buffers which <strong class="purple">can</strong> be used in the
fragment shader stage.</p>
</li>
<li>
<p><a id="limits-maxComputeSharedMemorySize"></a> <code>maxComputeSharedMemorySize</code>
is the maximum total storage size, in bytes, available for variables
declared with the <code>Workgroup</code> storage class in shader modules (or
with the <code>shared</code> storage qualifier in GLSL) in the compute shader
stage.
The amount of storage consumed by the variables declared with the
<code>Workgroup</code> storage class is implementation-dependent.
However, the amount of storage consumed may not exceed the largest block
size that would be obtained if all active variables declared with
<code>Workgroup</code> storage class were assigned offsets in an arbitrary order
by successively taking the smallest valid offset according to the
<a href="#interfaces-resources-standard-layout">Standard Storage Buffer Layout</a>
rules.
(This is equivalent to using the GLSL std430 layout rules.)</p>
</li>
<li>
<p><a id="limits-maxComputeWorkGroupCount"></a> <code>maxComputeWorkGroupCount</code>[3] is
the maximum number of local workgroups that <strong class="purple">can</strong> be dispatched by a
single dispatch command.
These three values represent the maximum number of local workgroups for
the X, Y, and Z dimensions, respectively.
The workgroup count parameters to the dispatch commands <strong class="purple">must</strong> be less
than or equal to the corresponding limit.
See <a href="#dispatch">Dispatching Commands</a>.</p>
</li>
<li>
<p><a id="limits-maxComputeWorkGroupInvocations"></a>
<code>maxComputeWorkGroupInvocations</code> is the maximum total number of
compute shader invocations in a single local workgroup.
The product of the X, Y, and Z sizes, as specified by the <code>LocalSize</code>
execution mode in shader modules or by the object decorated by the
<code>WorkgroupSize</code> decoration, <strong class="purple">must</strong> be less than or equal to this
limit.</p>
</li>
<li>
<p><a id="limits-maxComputeWorkGroupSize"></a> <code>maxComputeWorkGroupSize</code>[3] is
the maximum size of a local compute workgroup, per dimension.
These three values represent the maximum local workgroup size in the X,
Y, and Z dimensions, respectively.
The <code>x</code>, <code>y</code>, and <code>z</code> sizes, as specified by the
<code>LocalSize</code> execution mode or by the object decorated by the
<code>WorkgroupSize</code> decoration in shader modules, <strong class="purple">must</strong> be less than or
equal to the corresponding limit.</p>
</li>
<li>
<p><a id="limits-subPixelPrecisionBits"></a> <code>subPixelPrecisionBits</code> is the
number of bits of subpixel precision in framebuffer coordinates
<span class="eq">x<sub>f</sub></span> and <span class="eq">y<sub>f</sub></span>.
See <a href="#primsrast">Rasterization</a>.</p>
</li>
<li>
<p><a id="limits-subTexelPrecisionBits"></a> <code>subTexelPrecisionBits</code> is the
number of bits of precision in the division along an axis of an image
used for minification and magnification filters.
<span class="eq">2<sup><code>subTexelPrecisionBits</code></sup></span> is the actual number of divisions
along each axis of the image represented.
Sub-texel values calculated during image sampling will snap to these
locations when generating the filtered results.</p>
</li>
<li>
<p><a id="limits-mipmapPrecisionBits"></a> <code>mipmapPrecisionBits</code> is the number
of bits of division that the LOD calculation for mipmap fetching get
snapped to when determining the contribution from each mip level to the
mip filtered results.
<span class="eq">2<sup><code>mipmapPrecisionBits</code></sup></span> is the actual number of divisions.</p>
</li>
<li>
<p><a id="limits-maxDrawIndexedIndexValue"></a> <code>maxDrawIndexedIndexValue</code> is
the maximum index value that <strong class="purple">can</strong> be used for indexed draw calls when
using 32-bit indices.
This excludes the primitive restart index value of 0xFFFFFFFF.
See <a href="#features-fullDrawIndexUint32">fullDrawIndexUint32</a>.</p>
</li>
<li>
<p><a id="limits-maxDrawIndirectCount"></a> <code>maxDrawIndirectCount</code> is the
maximum draw count that is supported for indirect draw calls.
See <a href="#features-multiDrawIndirect">multiDrawIndirect</a>.</p>
</li>
<li>
<p><a id="limits-maxSamplerLodBias"></a> <code>maxSamplerLodBias</code> is the maximum
absolute sampler LOD bias.
The sum of the <code>mipLodBias</code> member of the <code>VkSamplerCreateInfo</code>
structure and the <code>Bias</code> operand of image sampling operations in
shader modules (or 0 if no <code>Bias</code> operand is provided to an image
sampling operation) are clamped to the range
<span class="eq">[-<code>maxSamplerLodBias</code>,+<code>maxSamplerLodBias</code>]</span>.
See <a href="#samplers-mipLodBias">[samplers-mipLodBias]</a>.</p>
</li>
<li>
<p><a id="limits-maxSamplerAnisotropy"></a> <code>maxSamplerAnisotropy</code> is the
maximum degree of sampler anisotropy.
The maximum degree of anisotropic filtering used for an image sampling
operation is the minimum of the <code>maxAnisotropy</code> member of the
<code>VkSamplerCreateInfo</code> structure and this limit.
See <a href="#samplers-maxAnisotropy">[samplers-maxAnisotropy]</a>.</p>
</li>
<li>
<p><a id="limits-maxViewports"></a> <code>maxViewports</code> is the maximum number of
active viewports.
The <code>viewportCount</code> member of the
<code>VkPipelineViewportStateCreateInfo</code> structure that is provided at
pipeline creation <strong class="purple">must</strong> be less than or equal to this limit.</p>
</li>
<li>
<p><a id="limits-maxViewportDimensions"></a> <code>maxViewportDimensions</code>[2] are the
maximum viewport dimensions in the X (width) and Y (height) dimensions,
respectively.
The maximum viewport dimensions <strong class="purple">must</strong> be greater than or equal to the
largest image which <strong class="purple">can</strong> be created and used as a framebuffer
attachment.
See <a href="#vertexpostproc-viewport">Controlling the Viewport</a>.</p>
</li>
<li>
<p><a id="limits-viewportboundsrange"></a> <code>viewportBoundsRange</code>[2] is the
<span class="eq">[minimum, maximum]</span> range that the corners of a viewport <strong class="purple">must</strong> be
contained in.
This range <strong class="purple">must</strong> be at least <span class="eq">[-2  <code>size</code>, 2 
<code>size</code> - 1]</span>, where <span class="eq"><code>size</code> =
max(<code>maxViewportDimensions</code>[0], <code>maxViewportDimensions</code>[1])</span>.
See <a href="#vertexpostproc-viewport">Controlling the Viewport</a>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The intent of the <code>viewportBoundsRange</code> limit is to allow a maximum
sized viewport to be arbitrarily shifted relative to the output target as
long as at least some portion intersects.
This would give a bounds limit of <span class="eq">[-<code>size</code> +  1, 2 
<code>size</code> - 1]</span> which would allow all possible non-empty-set intersections
of the output target and the viewport.
Since these numbers are typically powers of two, picking the signed number
range using the smallest possible number of bits ends up with the specified
range.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><a id="limits-viewportSubPixelBits"></a> <code>viewportSubPixelBits</code> is the number
of bits of subpixel precision for viewport bounds.
The subpixel precision that floating-point viewport bounds are
interpreted at is given by this limit.</p>
</li>
<li>
<p><a id="limits-minMemoryMapAlignment"></a> <code>minMemoryMapAlignment</code> is the
minimum <strong class="purple">required</strong> alignment, in bytes, of host visible memory
allocations within the host address space.
When mapping a memory allocation with <a href="#vkMapMemory">vkMapMemory</a>, subtracting
<code>offset</code> bytes from the returned pointer will always produce an
integer multiple of this limit.
See <a href="#memory-device-hostaccess">Host Access to Device Memory Objects</a>.</p>
</li>
<li>
<p><a id="limits-minTexelBufferOffsetAlignment"></a>
<code>minTexelBufferOffsetAlignment</code> is the minimum <strong class="purple">required</strong> alignment,
in bytes, for the <code>offset</code> member of the
<code>VkBufferViewCreateInfo</code> structure for texel buffers.
<a href="#VkBufferViewCreateInfo">VkBufferViewCreateInfo</a>::<code>offset</code> <strong class="purple">must</strong> be a multiple of this
value.</p>
</li>
<li>
<p><a id="limits-minUniformBufferOffsetAlignment"></a>
<code>minUniformBufferOffsetAlignment</code> is the minimum <strong class="purple">required</strong>
alignment, in bytes, for the <code>offset</code> member of the
<code>VkDescriptorBufferInfo</code> structure for uniform buffers.
When a descriptor of type <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> is updated, the
<code>offset</code> <strong class="purple">must</strong> be an integer multiple of this limit.
Similarly, dynamic offsets for uniform buffers <strong class="purple">must</strong> be multiples of
this limit.</p>
</li>
<li>
<p><a id="limits-minStorageBufferOffsetAlignment"></a>
<code>minStorageBufferOffsetAlignment</code> is the minimum <strong class="purple">required</strong>
alignment, in bytes, for the <code>offset</code> member of the
<code>VkDescriptorBufferInfo</code> structure for storage buffers.
When a descriptor of type <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> is updated, the
<code>offset</code> <strong class="purple">must</strong> be an integer multiple of this limit.
Similarly, dynamic offsets for storage buffers <strong class="purple">must</strong> be multiples of
this limit.</p>
</li>
<li>
<p><a id="limits-minTexelOffset"></a> <code>minTexelOffset</code> is the minimum offset
value for the <code>ConstOffset</code> image operand of any of the
<code>OpImageSample</code>* or <code>OpImageFetch</code>* image instructions.</p>
</li>
<li>
<p><a id="limits-maxTexelOffset"></a> <code>maxTexelOffset</code> is the maximum offset
value for the <code>ConstOffset</code> image operand of any of the
<code>OpImageSample</code>* or <code>OpImageFetch</code>* image instructions.</p>
</li>
<li>
<p><a id="limits-minTexelGatherOffset"></a> <code>minTexelGatherOffset</code> is the
minimum offset value for the <code>Offset</code>, <code>ConstOffset</code>, or
<code>ConstOffsets</code> image operands of any of the <code>OpImage</code>*<code>Gather</code>
image instructions.</p>
</li>
<li>
<p><a id="limits-maxTexelGatherOffset"></a> <code>maxTexelGatherOffset</code> is the
maximum offset value for the <code>Offset</code>, <code>ConstOffset</code>, or
<code>ConstOffsets</code> image operands of any of the <code>OpImage</code>*<code>Gather</code>
image instructions.</p>
</li>
<li>
<p><a id="limits-minInterpolationOffset"></a> <code>minInterpolationOffset</code> is the
minimum negative offset value for the <code>offset</code> operand of the
<code>InterpolateAtOffset</code> extended instruction.</p>
</li>
<li>
<p><a id="limits-maxInterpolationOffset"></a> <code>maxInterpolationOffset</code> is the
maximum positive offset value for the <code>offset</code> operand of the
<code>InterpolateAtOffset</code> extended instruction.</p>
</li>
<li>
<p><a id="limits-subPixelInterpolationOffsetBits"></a>
<code>subPixelInterpolationOffsetBits</code> is the number of subpixel
fractional bits that the <code>x</code> and <code>y</code> offsets to the
<code>InterpolateAtOffset</code> extended instruction <strong class="purple">may</strong> be rounded to as
fixed-point values.</p>
</li>
<li>
<p><a id="limits-maxFramebufferWidth"></a> <code>maxFramebufferWidth</code> is the maximum
width for a framebuffer.
The <code>width</code> member of the <code>VkFramebufferCreateInfo</code> structure
<strong class="purple">must</strong> be less than or equal to this limit.</p>
</li>
<li>
<p><a id="limits-maxFramebufferHeight"></a> <code>maxFramebufferHeight</code> is the
maximum height for a framebuffer.
The <code>height</code> member of the <code>VkFramebufferCreateInfo</code> structure
<strong class="purple">must</strong> be less than or equal to this limit.</p>
</li>
<li>
<p><a id="limits-maxFramebufferLayers"></a> <code>maxFramebufferLayers</code> is the
maximum layer count for a layered framebuffer.
The <code>layers</code> member of the <code>VkFramebufferCreateInfo</code> structure
<strong class="purple">must</strong> be less than or equal to this limit.</p>
</li>
<li>
<p><a id="limits-framebufferColorSampleCounts"></a>
<code>framebufferColorSampleCounts</code> is a bitmask<sup>1</sup> of
<a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> indicating the color sample counts that are
supported for all framebuffer color attachments with floating- or
fixed-point formats.
There is no limit that specifies the color sample counts that are
supported for all color attachments with integer formats.</p>
</li>
<li>
<p><a id="limits-framebufferDepthSampleCounts"></a>
<code>framebufferDepthSampleCounts</code> is a bitmask<sup>1</sup> of
<a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> indicating the supported depth sample counts
for all framebuffer depth/stencil attachments, when the format includes
a depth component.</p>
</li>
<li>
<p><code>framebufferStencilSampleCounts</code> is a bitmask<sup>1</sup> of
<a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> indicating the supported stencil sample
counts for all framebuffer depth/stencil attachments, when the format
includes a stencil component.</p>
</li>
<li>
<p><code>framebufferNoAttachmentsSampleCounts</code> is a bitmask<sup>1</sup> of
<a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> indicating the supported sample counts for a
framebuffer with no attachments.</p>
</li>
<li>
<p><a id="limits-maxColorAttachments"></a> <code>maxColorAttachments</code> is the maximum
number of color attachments that <strong class="purple">can</strong> be used by a subpass in a render
pass.
The <code>colorAttachmentCount</code> member of the <code>VkSubpassDescription</code>
structure <strong class="purple">must</strong> be less than or equal to this limit.</p>
</li>
<li>
<p><a id="limits-sampledImageColorSampleCounts"></a>
<code>sampledImageColorSampleCounts</code> is a bitmask<sup>1</sup> of
<a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> indicating the sample counts supported for
all 2D images created with <code>VK_IMAGE_TILING_OPTIMAL</code>, <code>usage</code>
containing <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and a non-integer color
format.</p>
</li>
<li>
<p><a id="limits-sampledImageIntegerSampleCounts"></a>
<code>sampledImageIntegerSampleCounts</code> is a bitmask<sup>1</sup> of
<a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> indicating the sample counts supported for
all 2D images created with <code>VK_IMAGE_TILING_OPTIMAL</code>, <code>usage</code>
containing <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and an integer color
format.</p>
</li>
<li>
<p><a id="limits-sampledImageDepthSampleCounts"></a>
<code>sampledImageDepthSampleCounts</code> is a bitmask<sup>1</sup> of
<a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> indicating the sample counts supported for
all 2D images created with <code>VK_IMAGE_TILING_OPTIMAL</code>, <code>usage</code>
containing <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and a depth format.</p>
</li>
<li>
<p><a id="limits-sampledImageStencilSampleCounts"></a>
<code>sampledImageStencilSampleCounts</code> is a bitmask<sup>1</sup> of
<a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> indicating the sample supported for all 2D
images created with <code>VK_IMAGE_TILING_OPTIMAL</code>, <code>usage</code>
containing <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and a stencil format.</p>
</li>
<li>
<p><a id="limits-storageImageSampleCounts"></a> <code>storageImageSampleCounts</code> is a
bitmask<sup>1</sup> of <a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> indicating the sample counts
supported for all 2D images created with <code>VK_IMAGE_TILING_OPTIMAL</code>,
and <code>usage</code> containing <code>VK_IMAGE_USAGE_STORAGE_BIT</code>.</p>
</li>
<li>
<p><a id="limits-maxSampleMaskWords"></a> <code>maxSampleMaskWords</code> is the maximum
number of array elements of a variable decorated with the
<code>SampleMask</code> built-in decoration.</p>
</li>
<li>
<p><a id="limits-timestampComputeAndGraphics"></a> <code>timestampComputeAndGraphics</code>
specifies support for timestamps on all graphics and compute queues.
If this limit is set to <code>VK_TRUE</code>, all queues that advertise the
<code>VK_QUEUE_GRAPHICS_BIT</code> or <code>VK_QUEUE_COMPUTE_BIT</code> in the
<code>VkQueueFamilyProperties</code>::<code>queueFlags</code> support
<code>VkQueueFamilyProperties</code>::<code>timestampValidBits</code> of at least 36.
See <a href="#queries-timestamps">Timestamp Queries</a>.</p>
</li>
<li>
<p><a id="limits-timestampPeriod"></a> <code>timestampPeriod</code> is the number of
nanoseconds <strong class="purple">required</strong> for a timestamp query to be incremented by 1.
See <a href="#queries-timestamps">Timestamp Queries</a>.</p>
</li>
<li>
<p><a id="limits-maxClipDistances"></a> <code>maxClipDistances</code> is the maximum number
of clip distances that <strong class="purple">can</strong> be used in a single shader stage.
The size of any array declared with the <code>ClipDistance</code> built-in
decoration in a shader module <strong class="purple">must</strong> be less than or equal to this limit.</p>
</li>
<li>
<p><a id="limits-maxCullDistances"></a> <code>maxCullDistances</code> is the maximum number
of cull distances that <strong class="purple">can</strong> be used in a single shader stage.
The size of any array declared with the <code>CullDistance</code> built-in
decoration in a shader module <strong class="purple">must</strong> be less than or equal to this limit.</p>
</li>
<li>
<p><a id="limits-maxCombinedClipAndCullDistances"></a>
<code>maxCombinedClipAndCullDistances</code> is the maximum combined number of
clip and cull distances that <strong class="purple">can</strong> be used in a single shader stage.
The sum of the sizes of any pair of arrays declared with the
<code>ClipDistance</code> and <code>CullDistance</code> built-in decoration used by a
single shader stage in a shader module <strong class="purple">must</strong> be less than or equal to
this limit.</p>
</li>
<li>
<p><a id="limits-discreteQueuePriorities"></a> <code>discreteQueuePriorities</code> is the
number of discrete priorities that <strong class="purple">can</strong> be assigned to a queue based on
the value of each member of
<code>VkDeviceQueueCreateInfo</code>::<code>pQueuePriorities</code>.
This <strong class="purple">must</strong> be at least 2, and levels <strong class="purple">must</strong> be spread evenly over the
range, with at least one level at 1.0, and another at 0.0.
See <a href="#devsandqueues-priority">Queue Priority</a>.</p>
</li>
<li>
<p><a id="limits-pointSizeRange"></a> <code>pointSizeRange</code>[2] is the range
<span class="eq">[<code>minimum</code>,<code>maximum</code>]</span> of supported sizes for points.
Values written to variables decorated with the <code>PointSize</code> built-in
decoration are clamped to this range.</p>
</li>
<li>
<p><a id="limits-lineWidthRange"></a> <code>lineWidthRange</code>[2] is the range
<span class="eq">[<code>minimum</code>,<code>maximum</code>]</span> of supported widths for lines.
Values specified by the <code>lineWidth</code> member of the
<code>VkPipelineRasterizationStateCreateInfo</code> or the <code>lineWidth</code>
parameter to <code>vkCmdSetLineWidth</code> are clamped to this range.</p>
</li>
<li>
<p><a id="limits-pointSizeGranularity"></a> <code>pointSizeGranularity</code> is the
granularity of supported point sizes.
Not all point sizes in the range defined by <code>pointSizeRange</code> are
supported.
This limit specifies the granularity (or increment) between successive
supported point sizes.</p>
</li>
<li>
<p><a id="limits-lineWidthGranularity"></a> <code>lineWidthGranularity</code> is the
granularity of supported line widths.
Not all line widths in the range defined by <code>lineWidthRange</code> are
supported.
This limit specifies the granularity (or increment) between successive
supported line widths.</p>
</li>
<li>
<p><a id="limits-strictLines"></a> <code>strictLines</code> specifies whether lines are
rasterized according to the preferred method of rasterization.
If set to <code>VK_FALSE</code>, lines <strong class="purple">may</strong> be rasterized under a relaxed set
of rules.
If set to <code>VK_TRUE</code>, lines are rasterized as per the strict
definition.
See <a href="#primsrast-lines-basic">Basic Line Segment Rasterization</a>.</p>
</li>
<li>
<p><a id="limits-standardSampleLocations"></a> <code>standardSampleLocations</code>
specifies whether rasterization uses the standard sample locations as
documented in <a href="#primsrast-multisampling">Multisampling</a>.
If set to <code>VK_TRUE</code>, the implementation uses the documented sample
locations.
If set to <code>VK_FALSE</code>, the implementation <strong class="purple">may</strong> use different sample
locations.</p>
</li>
<li>
<p><a id="limits-optimalBufferCopyOffsetAlignment"></a>
<code>optimalBufferCopyOffsetAlignment</code> is the optimal buffer offset
alignment in bytes for <code>vkCmdCopyBufferToImage</code> and
<code>vkCmdCopyImageToBuffer</code>.
The per texel alignment requirements are enforced, but applications
<strong class="purple">should</strong> use the optimal alignment for optimal performance and power use.</p>
</li>
<li>
<p><a id="limits-optimalBufferCopyRowPitchAlignment"></a>
<code>optimalBufferCopyRowPitchAlignment</code> is the optimal buffer row pitch
alignment in bytes for <code>vkCmdCopyBufferToImage</code> and
<code>vkCmdCopyImageToBuffer</code>.
Row pitch is the number of bytes between texels with the same X
coordinate in adjacent rows (Y coordinates differ by one).
The per texel alignment requirements are enforced, but applications
<strong class="purple">should</strong> use the optimal alignment for optimal performance and power use.</p>
</li>
<li>
<p><a id="limits-nonCoherentAtomSize"></a> <code>nonCoherentAtomSize</code> is the size and
alignment in bytes that bounds concurrent access to
<a href="#memory-device-hostaccess">host-mapped device memory</a>.</p>
</li>
</ul>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">1</dt>
<dd>
<p>For all bitmasks of <a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a>, the sample count limits
defined above represent the minimum supported sample counts for each
image type.
Individual images <strong class="purple">may</strong> support additional sample counts, which are
queried using <a href="#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a> as
described in <a href="#features-supported-sample-counts">Supported Sample
Counts</a>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in the sample count limits returned by
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>, as well as in other queries and structures
representing image sample counts, are:</p>
</div>
<div id="VkSampleCountFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkSampleCountFlagBits {
    VK_SAMPLE_COUNT_1_BIT = <span class="hex">0x00000001</span>,
    VK_SAMPLE_COUNT_2_BIT = <span class="hex">0x00000002</span>,
    VK_SAMPLE_COUNT_4_BIT = <span class="hex">0x00000004</span>,
    VK_SAMPLE_COUNT_8_BIT = <span class="hex">0x00000008</span>,
    VK_SAMPLE_COUNT_16_BIT = <span class="hex">0x00000010</span>,
    VK_SAMPLE_COUNT_32_BIT = <span class="hex">0x00000020</span>,
    VK_SAMPLE_COUNT_64_BIT = <span class="hex">0x00000040</span>,
    VK_SAMPLE_COUNT_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkSampleCountFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLE_COUNT_1_BIT</code> specifies an image with one sample per
pixel.</p>
</li>
<li>
<p><code>VK_SAMPLE_COUNT_2_BIT</code> specifies an image with 2 samples per pixel.</p>
</li>
<li>
<p><code>VK_SAMPLE_COUNT_4_BIT</code> specifies an image with 4 samples per pixel.</p>
</li>
<li>
<p><code>VK_SAMPLE_COUNT_8_BIT</code> specifies an image with 8 samples per pixel.</p>
</li>
<li>
<p><code>VK_SAMPLE_COUNT_16_BIT</code> specifies an image with 16 samples per
pixel.</p>
</li>
<li>
<p><code>VK_SAMPLE_COUNT_32_BIT</code> specifies an image with 32 samples per
pixel.</p>
</li>
<li>
<p><code>VK_SAMPLE_COUNT_64_BIT</code> specifies an image with 64 samples per
pixel.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkSampleCountFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkSampleCountFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkSampleCountFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="limits-minmax"><a class="anchor" href="#limits-minmax"></a>31.1. Limit Requirements</h3>
<div class="paragraph">
<p>The following table specifies the <strong class="purple">required</strong> minimum/maximum for all Vulkan
graphics implementations.
Where a limit corresponds to a fine-grained device feature which is
<strong class="purple">optional</strong>, the feature name is listed with two <strong class="purple">required</strong> limits, one when
the feature is supported and one when it is not supported.
If an implementation supports a feature, the limits reported are the same
whether or not the feature is enabled.</p>
</div>
<table id="limits-types" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 30. Required Limit Types</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Limit</th>
<th class="tableblock halign-left valign-top">Feature</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxImageDimension1D</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxImageDimension2D</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxImageDimension3D</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxImageDimensionCube</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxImageArrayLayers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTexelBufferElements</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxUniformBufferRange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxStorageBufferRange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPushConstantsSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxMemoryAllocationCount</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxSamplerAllocationCount</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bufferImageGranularity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sparseAddressSpaceSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sparseBinding</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxBoundDescriptorSets</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorSamplers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorSampledImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorStorageImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageResources</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetSamplers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetUniformBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetStorageBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetSampledImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetStorageImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexInputAttributes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexInputBindings</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexInputAttributeOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexInputBindingStride</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationGenerationLevel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationPatchSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerVertexInputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerVertexOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerPatchOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlTotalOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationEvaluationInputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationEvaluationOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tessellationShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryShaderInvocations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>geometryShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryInputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>geometryShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>geometryShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryOutputVertices</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>geometryShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryTotalOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>geometryShader</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentInputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentOutputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentDualSrcAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dualSrcBlend</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentCombinedOutputResources</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxComputeSharedMemorySize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3  <code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxComputeWorkGroupCount</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxComputeWorkGroupInvocations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3  <code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxComputeWorkGroupSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subPixelPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subTexelPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mipmapPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDrawIndexedIndexValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fullDrawIndexUint32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDrawIndirectCount</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>multiDrawIndirect</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxSamplerLodBias</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxSamplerAnisotropy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>samplerAnisotropy</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxViewports</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>multiViewport</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2  <code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxViewportDimensions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2  <code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewportBoundsRange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewportSubPixelBits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minMemoryMapAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minTexelBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minUniformBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minStorageBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minTexelOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTexelOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minTexelGatherOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shaderImageGatherExtended</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTexelGatherOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shaderImageGatherExtended</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minInterpolationOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sampleRateShading</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxInterpolationOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sampleRateShading</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subPixelInterpolationOffsetBits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sampleRateShading</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFramebufferWidth</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFramebufferHeight</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFramebufferLayers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSampleCountFlags">VkSampleCountFlags</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>framebufferColorSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSampleCountFlags">VkSampleCountFlags</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>framebufferDepthSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSampleCountFlags">VkSampleCountFlags</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>framebufferStencilSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSampleCountFlags">VkSampleCountFlags</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>framebufferNoAttachmentsSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxColorAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSampleCountFlags">VkSampleCountFlags</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sampledImageColorSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSampleCountFlags">VkSampleCountFlags</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sampledImageIntegerSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSampleCountFlags">VkSampleCountFlags</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sampledImageDepthSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSampleCountFlags">VkSampleCountFlags</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sampledImageStencilSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSampleCountFlags">VkSampleCountFlags</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>storageImageSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shaderStorageImageMultisample</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxSampleMaskWords</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkBool32</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timestampComputeAndGraphics</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timestampPeriod</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxClipDistances</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shaderClipDistance</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxCullDistances</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shaderCullDistance</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxCombinedClipAndCullDistances</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shaderCullDistance</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uint32_t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>discreteQueuePriorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2  <code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pointSizeRange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>largePoints</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2  <code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lineWidthRange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wideLines</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pointSizeGranularity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>largePoints</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lineWidthGranularity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wideLines</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkBool32</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strictLines</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkBool32</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>standardSampleLocations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optimalBufferCopyOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optimalBufferCopyRowPitchAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkDeviceSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nonCoherentAtomSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<table id="limits-required" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 31. Required Limits</caption>
<colgroup>
<col style="width: 50.7246%;">
<col style="width: 13.0434%;">
<col style="width: 20.2898%;">
<col style="width: 15.9422%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Limit</th>
<th class="tableblock halign-left valign-top">Unsupported Limit</th>
<th class="tableblock halign-left valign-top">Supported Limit</th>
<th class="tableblock halign-left valign-top">Limit Type<sup>1</sup></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxImageDimension1D</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxImageDimension2D</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxImageDimension3D</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxImageDimensionCube</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxImageArrayLayers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTexelBufferElements</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">65536</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxUniformBufferRange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16384</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxStorageBufferRange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2<sup>27</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPushConstantsSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxMemoryAllocationCount</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxSamplerAllocationCount</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bufferImageGranularity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">131072</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sparseAddressSpaceSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2<sup>31</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxBoundDescriptorSets</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorSamplers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorSampledImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorStorageImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageResources</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128 <sup>2</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetSamplers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96 <sup>8</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min, <em>n</em>  PerStage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">72 <sup>8</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min, <em>n</em>  PerStage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetUniformBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24 <sup>8</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min, <em>n</em>  PerStage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetStorageBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetSampledImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96 <sup>8</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min, <em>n</em>  PerStage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetStorageImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24 <sup>8</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min, <em>n</em>  PerStage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexInputAttributes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexInputBindings</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexInputAttributeOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2047</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexInputBindingStride</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationGenerationLevel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationPatchSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerVertexInputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerVertexOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerPatchOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">120</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlTotalOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationEvaluationInputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationEvaluationOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryShaderInvocations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryInputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryOutputVertices</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryTotalOutputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1024</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentInputComponents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentOutputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentDualSrcAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentCombinedOutputResources</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxComputeSharedMemorySize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16384</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxComputeWorkGroupCount</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(65535,65535,65535)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxComputeWorkGroupInvocations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxComputeWorkGroupSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(128,128,64)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subPixelPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subTexelPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mipmapPrecisionBits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDrawIndexedIndexValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2<sup>24</sup>-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2<sup>32</sup>-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDrawIndirectCount</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2<sup>16</sup>-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxSamplerLodBias</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxSamplerAnisotropy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxViewports</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxViewportDimensions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(4096,4096) <sup>3</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewportBoundsRange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(-8192,8191) <sup>4</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(max,min)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewportSubPixelBits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minMemoryMapAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minTexelBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minUniformBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minStorageBufferOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minTexelOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTexelOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minTexelGatherOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTexelGatherOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minInterpolationOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-0.5 <sup>5</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxInterpolationOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.5 - (1 ULP) <sup>5</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subPixelInterpolationOffsetBits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 <sup>5</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFramebufferWidth</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFramebufferHeight</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFramebufferLayers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>framebufferColorSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>framebufferDepthSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>framebufferStencilSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>framebufferNoAttachmentsSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxColorAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sampledImageColorSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sampledImageIntegerSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sampledImageDepthSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sampledImageStencilSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>storageImageSampleCounts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxSampleMaskWords</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timestampComputeAndGraphics</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">implementation dependent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timestampPeriod</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">duration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxClipDistances</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxCullDistances</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxCombinedClipAndCullDistances</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>discreteQueuePriorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pointSizeRange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(1.0,1.0)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(1.0,64.0 - ULP)<sup>6</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(max,min)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lineWidthRange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(1.0,1.0)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(1.0,8.0 - ULP)<sup>7</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(max,min)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pointSizeGranularity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0 <sup>6</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max, fixed point increment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lineWidthGranularity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0 <sup>7</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max, fixed point increment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strictLines</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">implementation dependent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>standardSampleLocations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">implementation dependent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optimalBufferCopyOffsetAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recommendation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optimalBufferCopyRowPitchAlignment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recommendation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nonCoherentAtomSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">1</dt>
<dd>
<p>The <strong>Limit Type</strong> column specifies the limit is either the minimum limit
all implementations <strong class="purple">must</strong> support, the maximum limit all implementations
<strong class="purple">must</strong> support, or the exact value all implementations <strong class="purple">must</strong> support.
For bitmasks a minimum limit is the least bits all implementations <strong class="purple">must</strong>
set, but they <strong class="purple">may</strong> have additional bits set beyond this minimum.</p>
</dd>
<dt class="hdlist1">2</dt>
<dd>
<p>The <code>maxPerStageResources</code> <strong class="purple">must</strong> be at least the smallest of the
following:</p>
<div class="ulist">
<ul>
<li>
<p>the sum of the <code>maxPerStageDescriptorUniformBuffers</code>,
<code>maxPerStageDescriptorStorageBuffers</code>,
<code>maxPerStageDescriptorSampledImages</code>,
<code>maxPerStageDescriptorStorageImages</code>,
<code>maxPerStageDescriptorInputAttachments</code>, <code>maxColorAttachments</code>
limits, or</p>
</li>
<li>
<p>128.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It <strong class="purple">may</strong> not be possible to reach this limit in every stage.</p>
</div>
</dd>
<dt class="hdlist1">3</dt>
<dd>
<p>See <a href="#limits-maxViewportDimensions"><code>maxViewportDimensions</code></a> for the
<strong class="purple">required</strong> relationship to other limits.</p>
</dd>
<dt class="hdlist1">4</dt>
<dd>
<p>See <a href="#limits-viewportboundsrange"><code>viewportBoundsRange</code></a> for the
<strong class="purple">required</strong> relationship to other limits.</p>
</dd>
<dt class="hdlist1">5</dt>
<dd>
<p>The values <code>minInterpolationOffset</code> and <code>maxInterpolationOffset</code>
describe the closed interval of supported interpolation offsets:
[<code>minInterpolationOffset</code>, <code>maxInterpolationOffset</code>].
The ULP is determined by <code>subPixelInterpolationOffsetBits</code>.
If <code>subPixelInterpolationOffsetBits</code> is 4, this provides increments
of (1/2<sup>4</sup>) = 0.0625, and thus the range of supported interpolation
offsets would be <span class="eq">[-0.5, 0.4375]</span>.</p>
</dd>
<dt class="hdlist1">6</dt>
<dd>
<p>The point size ULP is determined by <code>pointSizeGranularity</code>.
If the <code>pointSizeGranularity</code> is 0.125, the range of supported point
sizes <strong class="purple">must</strong> be at least [1.0, 63.875].</p>
</dd>
<dt class="hdlist1">7</dt>
<dd>
<p>The line width ULP is determined by <code>lineWidthGranularity</code>.
If the <code>lineWidthGranularity</code> is 0.0625, the range of supported line
widths <strong class="purple">must</strong> be at least [1.0, 7.9375].</p>
</dd>
<dt class="hdlist1">8</dt>
<dd>
<p>The minimum <code>maxDescriptorSet*</code> limit is <em>n</em> times the corresponding
<em>specification</em> minimum <code>maxPerStageDescriptor*</code> limit, where <em>n</em> is
the number of shader stages supported by the <a href="#VkPhysicalDevice">VkPhysicalDevice</a>.
If all shader stages are supported, <em>n</em> = 6 (vertex, tessellation
control, tessellation evaluation, geometry, fragment, compute).</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="formats"><a class="anchor" href="#formats"></a>32. Formats</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Supported buffer and image formats <strong class="purple">may</strong> vary across implementations.
A minimum set of format features are guaranteed, but others <strong class="purple">must</strong> be
explicitly queried before use to ensure they are supported by the
implementation.</p>
</div>
<div class="paragraph">
<p>The features for the set of formats (<a href="#VkFormat">VkFormat</a>) supported by the
implementation are queried individually using the
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> command.</p>
</div>
<div class="sect2">
<h3 id="formats-definition"><a class="anchor" href="#formats-definition"></a>32.1. Format Definition</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The following image formats <strong class="purple">can</strong> be passed to, and <strong class="purple">may</strong> be returned from
Vulkan commands.
The memory required to store each format is discussed with that format, and
also summarized in the <a href="#texel-block-size">Representation and Texel Block
Size</a> section and the <a href="#formats-compatibility">Compatible formats</a> table.</p>
</div>
<div id="VkFormat" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkFormat {
    VK_FORMAT_UNDEFINED = <span class="integer">0</span>,
    VK_FORMAT_R4G4_UNORM_PACK8 = <span class="integer">1</span>,
    VK_FORMAT_R4G4B4A4_UNORM_PACK16 = <span class="integer">2</span>,
    VK_FORMAT_B4G4R4A4_UNORM_PACK16 = <span class="integer">3</span>,
    VK_FORMAT_R5G6B5_UNORM_PACK16 = <span class="integer">4</span>,
    VK_FORMAT_B5G6R5_UNORM_PACK16 = <span class="integer">5</span>,
    VK_FORMAT_R5G5B5A1_UNORM_PACK16 = <span class="integer">6</span>,
    VK_FORMAT_B5G5R5A1_UNORM_PACK16 = <span class="integer">7</span>,
    VK_FORMAT_A1R5G5B5_UNORM_PACK16 = <span class="integer">8</span>,
    VK_FORMAT_R8_UNORM = <span class="integer">9</span>,
    VK_FORMAT_R8_SNORM = <span class="integer">10</span>,
    VK_FORMAT_R8_USCALED = <span class="integer">11</span>,
    VK_FORMAT_R8_SSCALED = <span class="integer">12</span>,
    VK_FORMAT_R8_UINT = <span class="integer">13</span>,
    VK_FORMAT_R8_SINT = <span class="integer">14</span>,
    VK_FORMAT_R8_SRGB = <span class="integer">15</span>,
    VK_FORMAT_R8G8_UNORM = <span class="integer">16</span>,
    VK_FORMAT_R8G8_SNORM = <span class="integer">17</span>,
    VK_FORMAT_R8G8_USCALED = <span class="integer">18</span>,
    VK_FORMAT_R8G8_SSCALED = <span class="integer">19</span>,
    VK_FORMAT_R8G8_UINT = <span class="integer">20</span>,
    VK_FORMAT_R8G8_SINT = <span class="integer">21</span>,
    VK_FORMAT_R8G8_SRGB = <span class="integer">22</span>,
    VK_FORMAT_R8G8B8_UNORM = <span class="integer">23</span>,
    VK_FORMAT_R8G8B8_SNORM = <span class="integer">24</span>,
    VK_FORMAT_R8G8B8_USCALED = <span class="integer">25</span>,
    VK_FORMAT_R8G8B8_SSCALED = <span class="integer">26</span>,
    VK_FORMAT_R8G8B8_UINT = <span class="integer">27</span>,
    VK_FORMAT_R8G8B8_SINT = <span class="integer">28</span>,
    VK_FORMAT_R8G8B8_SRGB = <span class="integer">29</span>,
    VK_FORMAT_B8G8R8_UNORM = <span class="integer">30</span>,
    VK_FORMAT_B8G8R8_SNORM = <span class="integer">31</span>,
    VK_FORMAT_B8G8R8_USCALED = <span class="integer">32</span>,
    VK_FORMAT_B8G8R8_SSCALED = <span class="integer">33</span>,
    VK_FORMAT_B8G8R8_UINT = <span class="integer">34</span>,
    VK_FORMAT_B8G8R8_SINT = <span class="integer">35</span>,
    VK_FORMAT_B8G8R8_SRGB = <span class="integer">36</span>,
    VK_FORMAT_R8G8B8A8_UNORM = <span class="integer">37</span>,
    VK_FORMAT_R8G8B8A8_SNORM = <span class="integer">38</span>,
    VK_FORMAT_R8G8B8A8_USCALED = <span class="integer">39</span>,
    VK_FORMAT_R8G8B8A8_SSCALED = <span class="integer">40</span>,
    VK_FORMAT_R8G8B8A8_UINT = <span class="integer">41</span>,
    VK_FORMAT_R8G8B8A8_SINT = <span class="integer">42</span>,
    VK_FORMAT_R8G8B8A8_SRGB = <span class="integer">43</span>,
    VK_FORMAT_B8G8R8A8_UNORM = <span class="integer">44</span>,
    VK_FORMAT_B8G8R8A8_SNORM = <span class="integer">45</span>,
    VK_FORMAT_B8G8R8A8_USCALED = <span class="integer">46</span>,
    VK_FORMAT_B8G8R8A8_SSCALED = <span class="integer">47</span>,
    VK_FORMAT_B8G8R8A8_UINT = <span class="integer">48</span>,
    VK_FORMAT_B8G8R8A8_SINT = <span class="integer">49</span>,
    VK_FORMAT_B8G8R8A8_SRGB = <span class="integer">50</span>,
    VK_FORMAT_A8B8G8R8_UNORM_PACK32 = <span class="integer">51</span>,
    VK_FORMAT_A8B8G8R8_SNORM_PACK32 = <span class="integer">52</span>,
    VK_FORMAT_A8B8G8R8_USCALED_PACK32 = <span class="integer">53</span>,
    VK_FORMAT_A8B8G8R8_SSCALED_PACK32 = <span class="integer">54</span>,
    VK_FORMAT_A8B8G8R8_UINT_PACK32 = <span class="integer">55</span>,
    VK_FORMAT_A8B8G8R8_SINT_PACK32 = <span class="integer">56</span>,
    VK_FORMAT_A8B8G8R8_SRGB_PACK32 = <span class="integer">57</span>,
    VK_FORMAT_A2R10G10B10_UNORM_PACK32 = <span class="integer">58</span>,
    VK_FORMAT_A2R10G10B10_SNORM_PACK32 = <span class="integer">59</span>,
    VK_FORMAT_A2R10G10B10_USCALED_PACK32 = <span class="integer">60</span>,
    VK_FORMAT_A2R10G10B10_SSCALED_PACK32 = <span class="integer">61</span>,
    VK_FORMAT_A2R10G10B10_UINT_PACK32 = <span class="integer">62</span>,
    VK_FORMAT_A2R10G10B10_SINT_PACK32 = <span class="integer">63</span>,
    VK_FORMAT_A2B10G10R10_UNORM_PACK32 = <span class="integer">64</span>,
    VK_FORMAT_A2B10G10R10_SNORM_PACK32 = <span class="integer">65</span>,
    VK_FORMAT_A2B10G10R10_USCALED_PACK32 = <span class="integer">66</span>,
    VK_FORMAT_A2B10G10R10_SSCALED_PACK32 = <span class="integer">67</span>,
    VK_FORMAT_A2B10G10R10_UINT_PACK32 = <span class="integer">68</span>,
    VK_FORMAT_A2B10G10R10_SINT_PACK32 = <span class="integer">69</span>,
    VK_FORMAT_R16_UNORM = <span class="integer">70</span>,
    VK_FORMAT_R16_SNORM = <span class="integer">71</span>,
    VK_FORMAT_R16_USCALED = <span class="integer">72</span>,
    VK_FORMAT_R16_SSCALED = <span class="integer">73</span>,
    VK_FORMAT_R16_UINT = <span class="integer">74</span>,
    VK_FORMAT_R16_SINT = <span class="integer">75</span>,
    VK_FORMAT_R16_SFLOAT = <span class="integer">76</span>,
    VK_FORMAT_R16G16_UNORM = <span class="integer">77</span>,
    VK_FORMAT_R16G16_SNORM = <span class="integer">78</span>,
    VK_FORMAT_R16G16_USCALED = <span class="integer">79</span>,
    VK_FORMAT_R16G16_SSCALED = <span class="integer">80</span>,
    VK_FORMAT_R16G16_UINT = <span class="integer">81</span>,
    VK_FORMAT_R16G16_SINT = <span class="integer">82</span>,
    VK_FORMAT_R16G16_SFLOAT = <span class="integer">83</span>,
    VK_FORMAT_R16G16B16_UNORM = <span class="integer">84</span>,
    VK_FORMAT_R16G16B16_SNORM = <span class="integer">85</span>,
    VK_FORMAT_R16G16B16_USCALED = <span class="integer">86</span>,
    VK_FORMAT_R16G16B16_SSCALED = <span class="integer">87</span>,
    VK_FORMAT_R16G16B16_UINT = <span class="integer">88</span>,
    VK_FORMAT_R16G16B16_SINT = <span class="integer">89</span>,
    VK_FORMAT_R16G16B16_SFLOAT = <span class="integer">90</span>,
    VK_FORMAT_R16G16B16A16_UNORM = <span class="integer">91</span>,
    VK_FORMAT_R16G16B16A16_SNORM = <span class="integer">92</span>,
    VK_FORMAT_R16G16B16A16_USCALED = <span class="integer">93</span>,
    VK_FORMAT_R16G16B16A16_SSCALED = <span class="integer">94</span>,
    VK_FORMAT_R16G16B16A16_UINT = <span class="integer">95</span>,
    VK_FORMAT_R16G16B16A16_SINT = <span class="integer">96</span>,
    VK_FORMAT_R16G16B16A16_SFLOAT = <span class="integer">97</span>,
    VK_FORMAT_R32_UINT = <span class="integer">98</span>,
    VK_FORMAT_R32_SINT = <span class="integer">99</span>,
    VK_FORMAT_R32_SFLOAT = <span class="integer">100</span>,
    VK_FORMAT_R32G32_UINT = <span class="integer">101</span>,
    VK_FORMAT_R32G32_SINT = <span class="integer">102</span>,
    VK_FORMAT_R32G32_SFLOAT = <span class="integer">103</span>,
    VK_FORMAT_R32G32B32_UINT = <span class="integer">104</span>,
    VK_FORMAT_R32G32B32_SINT = <span class="integer">105</span>,
    VK_FORMAT_R32G32B32_SFLOAT = <span class="integer">106</span>,
    VK_FORMAT_R32G32B32A32_UINT = <span class="integer">107</span>,
    VK_FORMAT_R32G32B32A32_SINT = <span class="integer">108</span>,
    VK_FORMAT_R32G32B32A32_SFLOAT = <span class="integer">109</span>,
    VK_FORMAT_R64_UINT = <span class="integer">110</span>,
    VK_FORMAT_R64_SINT = <span class="integer">111</span>,
    VK_FORMAT_R64_SFLOAT = <span class="integer">112</span>,
    VK_FORMAT_R64G64_UINT = <span class="integer">113</span>,
    VK_FORMAT_R64G64_SINT = <span class="integer">114</span>,
    VK_FORMAT_R64G64_SFLOAT = <span class="integer">115</span>,
    VK_FORMAT_R64G64B64_UINT = <span class="integer">116</span>,
    VK_FORMAT_R64G64B64_SINT = <span class="integer">117</span>,
    VK_FORMAT_R64G64B64_SFLOAT = <span class="integer">118</span>,
    VK_FORMAT_R64G64B64A64_UINT = <span class="integer">119</span>,
    VK_FORMAT_R64G64B64A64_SINT = <span class="integer">120</span>,
    VK_FORMAT_R64G64B64A64_SFLOAT = <span class="integer">121</span>,
    VK_FORMAT_B10G11R11_UFLOAT_PACK32 = <span class="integer">122</span>,
    VK_FORMAT_E5B9G9R9_UFLOAT_PACK32 = <span class="integer">123</span>,
    VK_FORMAT_D16_UNORM = <span class="integer">124</span>,
    VK_FORMAT_X8_D24_UNORM_PACK32 = <span class="integer">125</span>,
    VK_FORMAT_D32_SFLOAT = <span class="integer">126</span>,
    VK_FORMAT_S8_UINT = <span class="integer">127</span>,
    VK_FORMAT_D16_UNORM_S8_UINT = <span class="integer">128</span>,
    VK_FORMAT_D24_UNORM_S8_UINT = <span class="integer">129</span>,
    VK_FORMAT_D32_SFLOAT_S8_UINT = <span class="integer">130</span>,
    VK_FORMAT_BC1_RGB_UNORM_BLOCK = <span class="integer">131</span>,
    VK_FORMAT_BC1_RGB_SRGB_BLOCK = <span class="integer">132</span>,
    VK_FORMAT_BC1_RGBA_UNORM_BLOCK = <span class="integer">133</span>,
    VK_FORMAT_BC1_RGBA_SRGB_BLOCK = <span class="integer">134</span>,
    VK_FORMAT_BC2_UNORM_BLOCK = <span class="integer">135</span>,
    VK_FORMAT_BC2_SRGB_BLOCK = <span class="integer">136</span>,
    VK_FORMAT_BC3_UNORM_BLOCK = <span class="integer">137</span>,
    VK_FORMAT_BC3_SRGB_BLOCK = <span class="integer">138</span>,
    VK_FORMAT_BC4_UNORM_BLOCK = <span class="integer">139</span>,
    VK_FORMAT_BC4_SNORM_BLOCK = <span class="integer">140</span>,
    VK_FORMAT_BC5_UNORM_BLOCK = <span class="integer">141</span>,
    VK_FORMAT_BC5_SNORM_BLOCK = <span class="integer">142</span>,
    VK_FORMAT_BC6H_UFLOAT_BLOCK = <span class="integer">143</span>,
    VK_FORMAT_BC6H_SFLOAT_BLOCK = <span class="integer">144</span>,
    VK_FORMAT_BC7_UNORM_BLOCK = <span class="integer">145</span>,
    VK_FORMAT_BC7_SRGB_BLOCK = <span class="integer">146</span>,
    VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK = <span class="integer">147</span>,
    VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK = <span class="integer">148</span>,
    VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK = <span class="integer">149</span>,
    VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK = <span class="integer">150</span>,
    VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK = <span class="integer">151</span>,
    VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK = <span class="integer">152</span>,
    VK_FORMAT_EAC_R11_UNORM_BLOCK = <span class="integer">153</span>,
    VK_FORMAT_EAC_R11_SNORM_BLOCK = <span class="integer">154</span>,
    VK_FORMAT_EAC_R11G11_UNORM_BLOCK = <span class="integer">155</span>,
    VK_FORMAT_EAC_R11G11_SNORM_BLOCK = <span class="integer">156</span>,
    VK_FORMAT_ASTC_4x4_UNORM_BLOCK = <span class="integer">157</span>,
    VK_FORMAT_ASTC_4x4_SRGB_BLOCK = <span class="integer">158</span>,
    VK_FORMAT_ASTC_5x4_UNORM_BLOCK = <span class="integer">159</span>,
    VK_FORMAT_ASTC_5x4_SRGB_BLOCK = <span class="integer">160</span>,
    VK_FORMAT_ASTC_5x5_UNORM_BLOCK = <span class="integer">161</span>,
    VK_FORMAT_ASTC_5x5_SRGB_BLOCK = <span class="integer">162</span>,
    VK_FORMAT_ASTC_6x5_UNORM_BLOCK = <span class="integer">163</span>,
    VK_FORMAT_ASTC_6x5_SRGB_BLOCK = <span class="integer">164</span>,
    VK_FORMAT_ASTC_6x6_UNORM_BLOCK = <span class="integer">165</span>,
    VK_FORMAT_ASTC_6x6_SRGB_BLOCK = <span class="integer">166</span>,
    VK_FORMAT_ASTC_8x5_UNORM_BLOCK = <span class="integer">167</span>,
    VK_FORMAT_ASTC_8x5_SRGB_BLOCK = <span class="integer">168</span>,
    VK_FORMAT_ASTC_8x6_UNORM_BLOCK = <span class="integer">169</span>,
    VK_FORMAT_ASTC_8x6_SRGB_BLOCK = <span class="integer">170</span>,
    VK_FORMAT_ASTC_8x8_UNORM_BLOCK = <span class="integer">171</span>,
    VK_FORMAT_ASTC_8x8_SRGB_BLOCK = <span class="integer">172</span>,
    VK_FORMAT_ASTC_10x5_UNORM_BLOCK = <span class="integer">173</span>,
    VK_FORMAT_ASTC_10x5_SRGB_BLOCK = <span class="integer">174</span>,
    VK_FORMAT_ASTC_10x6_UNORM_BLOCK = <span class="integer">175</span>,
    VK_FORMAT_ASTC_10x6_SRGB_BLOCK = <span class="integer">176</span>,
    VK_FORMAT_ASTC_10x8_UNORM_BLOCK = <span class="integer">177</span>,
    VK_FORMAT_ASTC_10x8_SRGB_BLOCK = <span class="integer">178</span>,
    VK_FORMAT_ASTC_10x10_UNORM_BLOCK = <span class="integer">179</span>,
    VK_FORMAT_ASTC_10x10_SRGB_BLOCK = <span class="integer">180</span>,
    VK_FORMAT_ASTC_12x10_UNORM_BLOCK = <span class="integer">181</span>,
    VK_FORMAT_ASTC_12x10_SRGB_BLOCK = <span class="integer">182</span>,
    VK_FORMAT_ASTC_12x12_UNORM_BLOCK = <span class="integer">183</span>,
    VK_FORMAT_ASTC_12x12_SRGB_BLOCK = <span class="integer">184</span>,
    VK_FORMAT_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkFormat;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_UNDEFINED</code> specifies that the format is not specified.</p>
</li>
<li>
<p><code>VK_FORMAT_R4G4_UNORM_PACK8</code> specifies a two-component, 8-bit packed
unsigned normalized format that has a 4-bit R component in bits 4..7,
and a 4-bit G component in bits 0..3.</p>
</li>
<li>
<p><code>VK_FORMAT_R4G4B4A4_UNORM_PACK16</code> specifies a four-component, 16-bit
packed unsigned normalized format that has a 4-bit R component in bits
12..15, a 4-bit G component in bits 8..11, a 4-bit B component in bits
4..7, and a 4-bit A component in bits 0..3.</p>
</li>
<li>
<p><code>VK_FORMAT_B4G4R4A4_UNORM_PACK16</code> specifies a four-component, 16-bit
packed unsigned normalized format that has a 4-bit B component in bits
12..15, a 4-bit G component in bits 8..11, a 4-bit R component in bits
4..7, and a 4-bit A component in bits 0..3.</p>
</li>
<li>
<p><code>VK_FORMAT_R5G6B5_UNORM_PACK16</code> specifies a three-component, 16-bit
packed unsigned normalized format that has a 5-bit R component in bits
11..15, a 6-bit G component in bits 5..10, and a 5-bit B component in
bits 0..4.</p>
</li>
<li>
<p><code>VK_FORMAT_B5G6R5_UNORM_PACK16</code> specifies a three-component, 16-bit
packed unsigned normalized format that has a 5-bit B component in bits
11..15, a 6-bit G component in bits 5..10, and a 5-bit R component in
bits 0..4.</p>
</li>
<li>
<p><code>VK_FORMAT_R5G5B5A1_UNORM_PACK16</code> specifies a four-component, 16-bit
packed unsigned normalized format that has a 5-bit R component in bits
11..15, a 5-bit G component in bits 6..10, a 5-bit B component in bits
1..5, and a 1-bit A component in bit 0.</p>
</li>
<li>
<p><code>VK_FORMAT_B5G5R5A1_UNORM_PACK16</code> specifies a four-component, 16-bit
packed unsigned normalized format that has a 5-bit B component in bits
11..15, a 5-bit G component in bits 6..10, a 5-bit R component in bits
1..5, and a 1-bit A component in bit 0.</p>
</li>
<li>
<p><code>VK_FORMAT_A1R5G5B5_UNORM_PACK16</code> specifies a four-component, 16-bit
packed unsigned normalized format that has a 1-bit A component in bit
15, a 5-bit R component in bits 10..14, a 5-bit G component in bits
5..9, and a 5-bit B component in bits 0..4.</p>
</li>
<li>
<p><code>VK_FORMAT_R8_UNORM</code> specifies a one-component, 8-bit unsigned
normalized format that has a single 8-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R8_SNORM</code> specifies a one-component, 8-bit signed
normalized format that has a single 8-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R8_USCALED</code> specifies a one-component, 8-bit unsigned
scaled integer format that has a single 8-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R8_SSCALED</code> specifies a one-component, 8-bit signed
scaled integer format that has a single 8-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R8_UINT</code> specifies a one-component, 8-bit unsigned
integer format that has a single 8-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R8_SINT</code> specifies a one-component, 8-bit signed integer
format that has a single 8-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R8_SRGB</code> specifies a one-component, 8-bit unsigned
normalized format that has a single 8-bit R component stored with sRGB
nonlinear encoding.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8_UNORM</code> specifies a two-component, 16-bit unsigned
normalized format that has an 8-bit R component in byte 0, and an 8-bit
G component in byte 1.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8_SNORM</code> specifies a two-component, 16-bit signed
normalized format that has an 8-bit R component in byte 0, and an 8-bit
G component in byte 1.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8_USCALED</code> specifies a two-component, 16-bit unsigned
scaled integer format that has an 8-bit R component in byte 0, and an
8-bit G component in byte 1.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8_SSCALED</code> specifies a two-component, 16-bit signed
scaled integer format that has an 8-bit R component in byte 0, and an
8-bit G component in byte 1.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8_UINT</code> specifies a two-component, 16-bit unsigned
integer format that has an 8-bit R component in byte 0, and an 8-bit G
component in byte 1.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8_SINT</code> specifies a two-component, 16-bit signed
integer format that has an 8-bit R component in byte 0, and an 8-bit G
component in byte 1.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8_SRGB</code> specifies a two-component, 16-bit unsigned
normalized format that has an 8-bit R component stored with sRGB
nonlinear encoding in byte 0, and an 8-bit G component stored with sRGB
nonlinear encoding in byte 1.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8_UNORM</code> specifies a three-component, 24-bit
unsigned normalized format that has an 8-bit R component in byte 0, an
8-bit G component in byte 1, and an 8-bit B component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8_SNORM</code> specifies a three-component, 24-bit signed
normalized format that has an 8-bit R component in byte 0, an 8-bit G
component in byte 1, and an 8-bit B component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8_USCALED</code> specifies a three-component, 24-bit
unsigned scaled format that has an 8-bit R component in byte 0, an 8-bit
G component in byte 1, and an 8-bit B component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8_SSCALED</code> specifies a three-component, 24-bit
signed scaled format that has an 8-bit R component in byte 0, an 8-bit G
component in byte 1, and an 8-bit B component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8_UINT</code> specifies a three-component, 24-bit unsigned
integer format that has an 8-bit R component in byte 0, an 8-bit G
component in byte 1, and an 8-bit B component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8_SINT</code> specifies a three-component, 24-bit signed
integer format that has an 8-bit R component in byte 0, an 8-bit G
component in byte 1, and an 8-bit B component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8_SRGB</code> specifies a three-component, 24-bit unsigned
normalized format that has an 8-bit R component stored with sRGB
nonlinear encoding in byte 0, an 8-bit G component stored with sRGB
nonlinear encoding in byte 1, and an 8-bit B component stored with sRGB
nonlinear encoding in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8_UNORM</code> specifies a three-component, 24-bit
unsigned normalized format that has an 8-bit B component in byte 0, an
8-bit G component in byte 1, and an 8-bit R component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8_SNORM</code> specifies a three-component, 24-bit signed
normalized format that has an 8-bit B component in byte 0, an 8-bit G
component in byte 1, and an 8-bit R component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8_USCALED</code> specifies a three-component, 24-bit
unsigned scaled format that has an 8-bit B component in byte 0, an 8-bit
G component in byte 1, and an 8-bit R component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8_SSCALED</code> specifies a three-component, 24-bit
signed scaled format that has an 8-bit B component in byte 0, an 8-bit G
component in byte 1, and an 8-bit R component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8_UINT</code> specifies a three-component, 24-bit unsigned
integer format that has an 8-bit B component in byte 0, an 8-bit G
component in byte 1, and an 8-bit R component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8_SINT</code> specifies a three-component, 24-bit signed
integer format that has an 8-bit B component in byte 0, an 8-bit G
component in byte 1, and an 8-bit R component in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8_SRGB</code> specifies a three-component, 24-bit unsigned
normalized format that has an 8-bit B component stored with sRGB
nonlinear encoding in byte 0, an 8-bit G component stored with sRGB
nonlinear encoding in byte 1, and an 8-bit R component stored with sRGB
nonlinear encoding in byte 2.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8A8_UNORM</code> specifies a four-component, 32-bit
unsigned normalized format that has an 8-bit R component in byte 0, an
8-bit G component in byte 1, an 8-bit B component in byte 2, and an
8-bit A component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8A8_SNORM</code> specifies a four-component, 32-bit signed
normalized format that has an 8-bit R component in byte 0, an 8-bit G
component in byte 1, an 8-bit B component in byte 2, and an 8-bit A
component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8A8_USCALED</code> specifies a four-component, 32-bit
unsigned scaled format that has an 8-bit R component in byte 0, an 8-bit
G component in byte 1, an 8-bit B component in byte 2, and an 8-bit A
component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8A8_SSCALED</code> specifies a four-component, 32-bit
signed scaled format that has an 8-bit R component in byte 0, an 8-bit G
component in byte 1, an 8-bit B component in byte 2, and an 8-bit A
component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8A8_UINT</code> specifies a four-component, 32-bit
unsigned integer format that has an 8-bit R component in byte 0, an
8-bit G component in byte 1, an 8-bit B component in byte 2, and an
8-bit A component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8A8_SINT</code> specifies a four-component, 32-bit signed
integer format that has an 8-bit R component in byte 0, an 8-bit G
component in byte 1, an 8-bit B component in byte 2, and an 8-bit A
component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_R8G8B8A8_SRGB</code> specifies a four-component, 32-bit
unsigned normalized format that has an 8-bit R component stored with
sRGB nonlinear encoding in byte 0, an 8-bit G component stored with sRGB
nonlinear encoding in byte 1, an 8-bit B component stored with sRGB
nonlinear encoding in byte 2, and an 8-bit A component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8A8_UNORM</code> specifies a four-component, 32-bit
unsigned normalized format that has an 8-bit B component in byte 0, an
8-bit G component in byte 1, an 8-bit R component in byte 2, and an
8-bit A component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8A8_SNORM</code> specifies a four-component, 32-bit signed
normalized format that has an 8-bit B component in byte 0, an 8-bit G
component in byte 1, an 8-bit R component in byte 2, and an 8-bit A
component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8A8_USCALED</code> specifies a four-component, 32-bit
unsigned scaled format that has an 8-bit B component in byte 0, an 8-bit
G component in byte 1, an 8-bit R component in byte 2, and an 8-bit A
component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8A8_SSCALED</code> specifies a four-component, 32-bit
signed scaled format that has an 8-bit B component in byte 0, an 8-bit G
component in byte 1, an 8-bit R component in byte 2, and an 8-bit A
component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8A8_UINT</code> specifies a four-component, 32-bit
unsigned integer format that has an 8-bit B component in byte 0, an
8-bit G component in byte 1, an 8-bit R component in byte 2, and an
8-bit A component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8A8_SINT</code> specifies a four-component, 32-bit signed
integer format that has an 8-bit B component in byte 0, an 8-bit G
component in byte 1, an 8-bit R component in byte 2, and an 8-bit A
component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8A8_SRGB</code> specifies a four-component, 32-bit
unsigned normalized format that has an 8-bit B component stored with
sRGB nonlinear encoding in byte 0, an 8-bit G component stored with sRGB
nonlinear encoding in byte 1, an 8-bit R component stored with sRGB
nonlinear encoding in byte 2, and an 8-bit A component in byte 3.</p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_UNORM_PACK32</code> specifies a four-component, 32-bit
packed unsigned normalized format that has an 8-bit A component in bits
24..31, an 8-bit B component in bits 16..23, an 8-bit G component in
bits 8..15, and an 8-bit R component in bits 0..7.</p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_SNORM_PACK32</code> specifies a four-component, 32-bit
packed signed normalized format that has an 8-bit A component in bits
24..31, an 8-bit B component in bits 16..23, an 8-bit G component in
bits 8..15, and an 8-bit R component in bits 0..7.</p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_USCALED_PACK32</code> specifies a four-component,
32-bit packed unsigned scaled integer format that has an 8-bit A
component in bits 24..31, an 8-bit B component in bits 16..23, an 8-bit
G component in bits 8..15, and an 8-bit R component in bits 0..7.</p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code> specifies a four-component,
32-bit packed signed scaled integer format that has an 8-bit A component
in bits 24..31, an 8-bit B component in bits 16..23, an 8-bit G
component in bits 8..15, and an 8-bit R component in bits 0..7.</p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_UINT_PACK32</code> specifies a four-component, 32-bit
packed unsigned integer format that has an 8-bit A component in bits
24..31, an 8-bit B component in bits 16..23, an 8-bit G component in
bits 8..15, and an 8-bit R component in bits 0..7.</p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_SINT_PACK32</code> specifies a four-component, 32-bit
packed signed integer format that has an 8-bit A component in bits
24..31, an 8-bit B component in bits 16..23, an 8-bit G component in
bits 8..15, and an 8-bit R component in bits 0..7.</p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_SRGB_PACK32</code> specifies a four-component, 32-bit
packed unsigned normalized format that has an 8-bit A component in bits
24..31, an 8-bit B component stored with sRGB nonlinear encoding in bits
16..23, an 8-bit G component stored with sRGB nonlinear encoding in bits
8..15, and an 8-bit R component stored with sRGB nonlinear encoding in
bits 0..7.</p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_UNORM_PACK32</code> specifies a four-component,
32-bit packed unsigned normalized format that has a 2-bit A component in
bits 30..31, a 10-bit R component in bits 20..29, a 10-bit G component
in bits 10..19, and a 10-bit B component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_SNORM_PACK32</code> specifies a four-component,
32-bit packed signed normalized format that has a 2-bit A component in
bits 30..31, a 10-bit R component in bits 20..29, a 10-bit G component
in bits 10..19, and a 10-bit B component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_USCALED_PACK32</code> specifies a four-component,
32-bit packed unsigned scaled integer format that has a 2-bit A
component in bits 30..31, a 10-bit R component in bits 20..29, a 10-bit
G component in bits 10..19, and a 10-bit B component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code> specifies a four-component,
32-bit packed signed scaled integer format that has a 2-bit A component
in bits 30..31, a 10-bit R component in bits 20..29, a 10-bit G
component in bits 10..19, and a 10-bit B component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_UINT_PACK32</code> specifies a four-component,
32-bit packed unsigned integer format that has a 2-bit A component in
bits 30..31, a 10-bit R component in bits 20..29, a 10-bit G component
in bits 10..19, and a 10-bit B component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_SINT_PACK32</code> specifies a four-component,
32-bit packed signed integer format that has a 2-bit A component in bits
30..31, a 10-bit R component in bits 20..29, a 10-bit G component in
bits 10..19, and a 10-bit B component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_UNORM_PACK32</code> specifies a four-component,
32-bit packed unsigned normalized format that has a 2-bit A component in
bits 30..31, a 10-bit B component in bits 20..29, a 10-bit G component
in bits 10..19, and a 10-bit R component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_SNORM_PACK32</code> specifies a four-component,
32-bit packed signed normalized format that has a 2-bit A component in
bits 30..31, a 10-bit B component in bits 20..29, a 10-bit G component
in bits 10..19, and a 10-bit R component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_USCALED_PACK32</code> specifies a four-component,
32-bit packed unsigned scaled integer format that has a 2-bit A
component in bits 30..31, a 10-bit B component in bits 20..29, a 10-bit
G component in bits 10..19, and a 10-bit R component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code> specifies a four-component,
32-bit packed signed scaled integer format that has a 2-bit A component
in bits 30..31, a 10-bit B component in bits 20..29, a 10-bit G
component in bits 10..19, and a 10-bit R component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_UINT_PACK32</code> specifies a four-component,
32-bit packed unsigned integer format that has a 2-bit A component in
bits 30..31, a 10-bit B component in bits 20..29, a 10-bit G component
in bits 10..19, and a 10-bit R component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_SINT_PACK32</code> specifies a four-component,
32-bit packed signed integer format that has a 2-bit A component in bits
30..31, a 10-bit B component in bits 20..29, a 10-bit G component in
bits 10..19, and a 10-bit R component in bits 0..9.</p>
</li>
<li>
<p><code>VK_FORMAT_R16_UNORM</code> specifies a one-component, 16-bit unsigned
normalized format that has a single 16-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R16_SNORM</code> specifies a one-component, 16-bit signed
normalized format that has a single 16-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R16_USCALED</code> specifies a one-component, 16-bit unsigned
scaled integer format that has a single 16-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R16_SSCALED</code> specifies a one-component, 16-bit signed
scaled integer format that has a single 16-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R16_UINT</code> specifies a one-component, 16-bit unsigned
integer format that has a single 16-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R16_SINT</code> specifies a one-component, 16-bit signed
integer format that has a single 16-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R16_SFLOAT</code> specifies a one-component, 16-bit signed
floating-point format that has a single 16-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16_UNORM</code> specifies a two-component, 32-bit unsigned
normalized format that has a 16-bit R component in bytes 0..1, and a
16-bit G component in bytes 2..3.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16_SNORM</code> specifies a two-component, 32-bit signed
normalized format that has a 16-bit R component in bytes 0..1, and a
16-bit G component in bytes 2..3.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16_USCALED</code> specifies a two-component, 32-bit
unsigned scaled integer format that has a 16-bit R component in bytes
0..1, and a 16-bit G component in bytes 2..3.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16_SSCALED</code> specifies a two-component, 32-bit signed
scaled integer format that has a 16-bit R component in bytes 0..1, and a
16-bit G component in bytes 2..3.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16_UINT</code> specifies a two-component, 32-bit unsigned
integer format that has a 16-bit R component in bytes 0..1, and a 16-bit
G component in bytes 2..3.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16_SINT</code> specifies a two-component, 32-bit signed
integer format that has a 16-bit R component in bytes 0..1, and a 16-bit
G component in bytes 2..3.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16_SFLOAT</code> specifies a two-component, 32-bit signed
floating-point format that has a 16-bit R component in bytes 0..1, and a
16-bit G component in bytes 2..3.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16_UNORM</code> specifies a three-component, 48-bit
unsigned normalized format that has a 16-bit R component in bytes 0..1,
a 16-bit G component in bytes 2..3, and a 16-bit B component in bytes
4..5.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16_SNORM</code> specifies a three-component, 48-bit
signed normalized format that has a 16-bit R component in bytes 0..1, a
16-bit G component in bytes 2..3, and a 16-bit B component in bytes
4..5.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16_USCALED</code> specifies a three-component, 48-bit
unsigned scaled integer format that has a 16-bit R component in bytes
0..1, a 16-bit G component in bytes 2..3, and a 16-bit B component in
bytes 4..5.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16_SSCALED</code> specifies a three-component, 48-bit
signed scaled integer format that has a 16-bit R component in bytes
0..1, a 16-bit G component in bytes 2..3, and a 16-bit B component in
bytes 4..5.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16_UINT</code> specifies a three-component, 48-bit
unsigned integer format that has a 16-bit R component in bytes 0..1, a
16-bit G component in bytes 2..3, and a 16-bit B component in bytes
4..5.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16_SINT</code> specifies a three-component, 48-bit
signed integer format that has a 16-bit R component in bytes 0..1, a
16-bit G component in bytes 2..3, and a 16-bit B component in bytes
4..5.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16_SFLOAT</code> specifies a three-component, 48-bit
signed floating-point format that has a 16-bit R component in bytes
0..1, a 16-bit G component in bytes 2..3, and a 16-bit B component in
bytes 4..5.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16A16_UNORM</code> specifies a four-component, 64-bit
unsigned normalized format that has a 16-bit R component in bytes 0..1,
a 16-bit G component in bytes 2..3, a 16-bit B component in bytes 4..5,
and a 16-bit A component in bytes 6..7.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16A16_SNORM</code> specifies a four-component, 64-bit
signed normalized format that has a 16-bit R component in bytes 0..1, a
16-bit G component in bytes 2..3, a 16-bit B component in bytes 4..5,
and a 16-bit A component in bytes 6..7.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16A16_USCALED</code> specifies a four-component, 64-bit
unsigned scaled integer format that has a 16-bit R component in bytes
0..1, a 16-bit G component in bytes 2..3, a 16-bit B component in bytes
4..5, and a 16-bit A component in bytes 6..7.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16A16_SSCALED</code> specifies a four-component, 64-bit
signed scaled integer format that has a 16-bit R component in bytes
0..1, a 16-bit G component in bytes 2..3, a 16-bit B component in bytes
4..5, and a 16-bit A component in bytes 6..7.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16A16_UINT</code> specifies a four-component, 64-bit
unsigned integer format that has a 16-bit R component in bytes 0..1, a
16-bit G component in bytes 2..3, a 16-bit B component in bytes 4..5,
and a 16-bit A component in bytes 6..7.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16A16_SINT</code> specifies a four-component, 64-bit
signed integer format that has a 16-bit R component in bytes 0..1, a
16-bit G component in bytes 2..3, a 16-bit B component in bytes 4..5,
and a 16-bit A component in bytes 6..7.</p>
</li>
<li>
<p><code>VK_FORMAT_R16G16B16A16_SFLOAT</code> specifies a four-component, 64-bit
signed floating-point format that has a 16-bit R component in bytes
0..1, a 16-bit G component in bytes 2..3, a 16-bit B component in bytes
4..5, and a 16-bit A component in bytes 6..7.</p>
</li>
<li>
<p><code>VK_FORMAT_R32_UINT</code> specifies a one-component, 32-bit unsigned
integer format that has a single 32-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R32_SINT</code> specifies a one-component, 32-bit signed
integer format that has a single 32-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R32_SFLOAT</code> specifies a one-component, 32-bit signed
floating-point format that has a single 32-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R32G32_UINT</code> specifies a two-component, 64-bit unsigned
integer format that has a 32-bit R component in bytes 0..3, and a 32-bit
G component in bytes 4..7.</p>
</li>
<li>
<p><code>VK_FORMAT_R32G32_SINT</code> specifies a two-component, 64-bit signed
integer format that has a 32-bit R component in bytes 0..3, and a 32-bit
G component in bytes 4..7.</p>
</li>
<li>
<p><code>VK_FORMAT_R32G32_SFLOAT</code> specifies a two-component, 64-bit signed
floating-point format that has a 32-bit R component in bytes 0..3, and a
32-bit G component in bytes 4..7.</p>
</li>
<li>
<p><code>VK_FORMAT_R32G32B32_UINT</code> specifies a three-component, 96-bit
unsigned integer format that has a 32-bit R component in bytes 0..3, a
32-bit G component in bytes 4..7, and a 32-bit B component in bytes
8..11.</p>
</li>
<li>
<p><code>VK_FORMAT_R32G32B32_SINT</code> specifies a three-component, 96-bit
signed integer format that has a 32-bit R component in bytes 0..3, a
32-bit G component in bytes 4..7, and a 32-bit B component in bytes
8..11.</p>
</li>
<li>
<p><code>VK_FORMAT_R32G32B32_SFLOAT</code> specifies a three-component, 96-bit
signed floating-point format that has a 32-bit R component in bytes
0..3, a 32-bit G component in bytes 4..7, and a 32-bit B component in
bytes 8..11.</p>
</li>
<li>
<p><code>VK_FORMAT_R32G32B32A32_UINT</code> specifies a four-component, 128-bit
unsigned integer format that has a 32-bit R component in bytes 0..3, a
32-bit G component in bytes 4..7, a 32-bit B component in bytes 8..11,
and a 32-bit A component in bytes 12..15.</p>
</li>
<li>
<p><code>VK_FORMAT_R32G32B32A32_SINT</code> specifies a four-component, 128-bit
signed integer format that has a 32-bit R component in bytes 0..3, a
32-bit G component in bytes 4..7, a 32-bit B component in bytes 8..11,
and a 32-bit A component in bytes 12..15.</p>
</li>
<li>
<p><code>VK_FORMAT_R32G32B32A32_SFLOAT</code> specifies a four-component, 128-bit
signed floating-point format that has a 32-bit R component in bytes
0..3, a 32-bit G component in bytes 4..7, a 32-bit B component in bytes
8..11, and a 32-bit A component in bytes 12..15.</p>
</li>
<li>
<p><code>VK_FORMAT_R64_UINT</code> specifies a one-component, 64-bit unsigned
integer format that has a single 64-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R64_SINT</code> specifies a one-component, 64-bit signed
integer format that has a single 64-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R64_SFLOAT</code> specifies a one-component, 64-bit signed
floating-point format that has a single 64-bit R component.</p>
</li>
<li>
<p><code>VK_FORMAT_R64G64_UINT</code> specifies a two-component, 128-bit unsigned
integer format that has a 64-bit R component in bytes 0..7, and a 64-bit
G component in bytes 8..15.</p>
</li>
<li>
<p><code>VK_FORMAT_R64G64_SINT</code> specifies a two-component, 128-bit signed
integer format that has a 64-bit R component in bytes 0..7, and a 64-bit
G component in bytes 8..15.</p>
</li>
<li>
<p><code>VK_FORMAT_R64G64_SFLOAT</code> specifies a two-component, 128-bit signed
floating-point format that has a 64-bit R component in bytes 0..7, and a
64-bit G component in bytes 8..15.</p>
</li>
<li>
<p><code>VK_FORMAT_R64G64B64_UINT</code> specifies a three-component, 192-bit
unsigned integer format that has a 64-bit R component in bytes 0..7, a
64-bit G component in bytes 8..15, and a 64-bit B component in bytes
16..23.</p>
</li>
<li>
<p><code>VK_FORMAT_R64G64B64_SINT</code> specifies a three-component, 192-bit
signed integer format that has a 64-bit R component in bytes 0..7, a
64-bit G component in bytes 8..15, and a 64-bit B component in bytes
16..23.</p>
</li>
<li>
<p><code>VK_FORMAT_R64G64B64_SFLOAT</code> specifies a three-component, 192-bit
signed floating-point format that has a 64-bit R component in bytes
0..7, a 64-bit G component in bytes 8..15, and a 64-bit B component in
bytes 16..23.</p>
</li>
<li>
<p><code>VK_FORMAT_R64G64B64A64_UINT</code> specifies a four-component, 256-bit
unsigned integer format that has a 64-bit R component in bytes 0..7, a
64-bit G component in bytes 8..15, a 64-bit B component in bytes 16..23,
and a 64-bit A component in bytes 24..31.</p>
</li>
<li>
<p><code>VK_FORMAT_R64G64B64A64_SINT</code> specifies a four-component, 256-bit
signed integer format that has a 64-bit R component in bytes 0..7, a
64-bit G component in bytes 8..15, a 64-bit B component in bytes 16..23,
and a 64-bit A component in bytes 24..31.</p>
</li>
<li>
<p><code>VK_FORMAT_R64G64B64A64_SFLOAT</code> specifies a four-component, 256-bit
signed floating-point format that has a 64-bit R component in bytes
0..7, a 64-bit G component in bytes 8..15, a 64-bit B component in bytes
16..23, and a 64-bit A component in bytes 24..31.</p>
</li>
<li>
<p><code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code> specifies a three-component,
32-bit packed unsigned floating-point format that has a 10-bit B
component in bits 22..31, an 11-bit G component in bits 11..21, an
11-bit R component in bits 0..10.
See <a href="#fundamentals-fp10">Unsigned 10-Bit Floating-Point Numbers</a> and <a href="#fundamentals-fp11">Unsigned 11-Bit Floating-Point Numbers</a>.</p>
</li>
<li>
<p><code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code> specifies a three-component,
32-bit packed unsigned floating-point format that has a 5-bit shared
exponent in bits 27..31, a 9-bit B component mantissa in bits 18..26, a
9-bit G component mantissa in bits 9..17, and a 9-bit R component
mantissa in bits 0..8.</p>
</li>
<li>
<p><code>VK_FORMAT_D16_UNORM</code> specifies a one-component, 16-bit unsigned
normalized format that has a single 16-bit depth component.</p>
</li>
<li>
<p><code>VK_FORMAT_X8_D24_UNORM_PACK32</code> specifies a two-component, 32-bit
format that has 24 unsigned normalized bits in the depth component and,
optionally:, 8 bits that are unused.</p>
</li>
<li>
<p><code>VK_FORMAT_D32_SFLOAT</code> specifies a one-component, 32-bit signed
floating-point format that has 32-bits in the depth component.</p>
</li>
<li>
<p><code>VK_FORMAT_S8_UINT</code> specifies a one-component, 8-bit unsigned
integer format that has 8-bits in the stencil component.</p>
</li>
<li>
<p><code>VK_FORMAT_D16_UNORM_S8_UINT</code> specifies a two-component, 24-bit
format that has 16 unsigned normalized bits in the depth component and 8
unsigned integer bits in the stencil component.</p>
</li>
<li>
<p><code>VK_FORMAT_D24_UNORM_S8_UINT</code> specifies a two-component, 32-bit
packed format that has 8 unsigned integer bits in the stencil component,
and 24 unsigned normalized bits in the depth component.</p>
</li>
<li>
<p><code>VK_FORMAT_D32_SFLOAT_S8_UINT</code> specifies a two-component format that
has 32 signed float bits in the depth component and 8 unsigned integer
bits in the stencil component.
There are optionally: 24-bits that are unused.</p>
</li>
<li>
<p><code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code> specifies a three-component,
block-compressed format where each 64-bit compressed texel block encodes
a 44 rectangle of unsigned normalized RGB texel data.
This format has no alpha and is considered opaque.</p>
</li>
<li>
<p><code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code> specifies a three-component,
block-compressed format where each 64-bit compressed texel block encodes
a 44 rectangle of unsigned normalized RGB texel data with sRGB
nonlinear encoding.
This format has no alpha and is considered opaque.</p>
</li>
<li>
<p><code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code> specifies a four-component,
block-compressed format where each 64-bit compressed texel block encodes
a 44 rectangle of unsigned normalized RGB texel data, and
provides 1 bit of alpha.</p>
</li>
<li>
<p><code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code> specifies a four-component,
block-compressed format where each 64-bit compressed texel block encodes
a 44 rectangle of unsigned normalized RGB texel data with sRGB
nonlinear encoding, and provides 1 bit of alpha.</p>
</li>
<li>
<p><code>VK_FORMAT_BC2_UNORM_BLOCK</code> specifies a four-component,
block-compressed format where each 128-bit compressed texel block
encodes a 44 rectangle of unsigned normalized RGBA texel data
with the first 64 bits encoding alpha values followed by 64 bits
encoding RGB values.</p>
</li>
<li>
<p><code>VK_FORMAT_BC2_SRGB_BLOCK</code> specifies a four-component,
block-compressed format where each 128-bit compressed texel block
encodes a 44 rectangle of unsigned normalized RGBA texel data
with the first 64 bits encoding alpha values followed by 64 bits
encoding RGB values with sRGB nonlinear encoding.</p>
</li>
<li>
<p><code>VK_FORMAT_BC3_UNORM_BLOCK</code> specifies a four-component,
block-compressed format where each 128-bit compressed texel block
encodes a 44 rectangle of unsigned normalized RGBA texel data
with the first 64 bits encoding alpha values followed by 64 bits
encoding RGB values.</p>
</li>
<li>
<p><code>VK_FORMAT_BC3_SRGB_BLOCK</code> specifies a four-component,
block-compressed format where each 128-bit compressed texel block
encodes a 44 rectangle of unsigned normalized RGBA texel data
with the first 64 bits encoding alpha values followed by 64 bits
encoding RGB values with sRGB nonlinear encoding.</p>
</li>
<li>
<p><code>VK_FORMAT_BC4_UNORM_BLOCK</code> specifies a one-component,
block-compressed format where each 64-bit compressed texel block encodes
a 44 rectangle of unsigned normalized red texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_BC4_SNORM_BLOCK</code> specifies a one-component,
block-compressed format where each 64-bit compressed texel block encodes
a 44 rectangle of signed normalized red texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_BC5_UNORM_BLOCK</code> specifies a two-component,
block-compressed format where each 128-bit compressed texel block
encodes a 44 rectangle of unsigned normalized RG texel data with
the first 64 bits encoding red values followed by 64 bits encoding green
values.</p>
</li>
<li>
<p><code>VK_FORMAT_BC5_SNORM_BLOCK</code> specifies a two-component,
block-compressed format where each 128-bit compressed texel block
encodes a 44 rectangle of signed normalized RG texel data with
the first 64 bits encoding red values followed by 64 bits encoding green
values.</p>
</li>
<li>
<p><code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code> specifies a three-component,
block-compressed format where each 128-bit compressed texel block
encodes a 44 rectangle of unsigned floating-point RGB texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code> specifies a three-component,
block-compressed format where each 128-bit compressed texel block
encodes a 44 rectangle of signed floating-point RGB texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_BC7_UNORM_BLOCK</code> specifies a four-component,
block-compressed format where each 128-bit compressed texel block
encodes a 44 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_BC7_SRGB_BLOCK</code> specifies a four-component,
block-compressed format where each 128-bit compressed texel block
encodes a 44 rectangle of unsigned normalized RGBA texel data
with sRGB nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code> specifies a three-component,
ETC2 compressed format where each 64-bit compressed texel block encodes
a 44 rectangle of unsigned normalized RGB texel data.
This format has no alpha and is considered opaque.</p>
</li>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code> specifies a three-component, ETC2
compressed format where each 64-bit compressed texel block encodes a
44 rectangle of unsigned normalized RGB texel data with sRGB
nonlinear encoding.
This format has no alpha and is considered opaque.</p>
</li>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code> specifies a four-component,
ETC2 compressed format where each 64-bit compressed texel block encodes
a 44 rectangle of unsigned normalized RGB texel data, and
provides 1 bit of alpha.</p>
</li>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code> specifies a four-component,
ETC2 compressed format where each 64-bit compressed texel block encodes
a 44 rectangle of unsigned normalized RGB texel data with sRGB
nonlinear encoding, and provides 1 bit of alpha.</p>
</li>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code> specifies a four-component,
ETC2 compressed format where each 128-bit compressed texel block encodes
a 44 rectangle of unsigned normalized RGBA texel data with the
first 64 bits encoding alpha values followed by 64 bits encoding RGB
values.</p>
</li>
<li>
<p><code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code> specifies a four-component,
ETC2 compressed format where each 128-bit compressed texel block encodes
a 44 rectangle of unsigned normalized RGBA texel data with the
first 64 bits encoding alpha values followed by 64 bits encoding RGB
values with sRGB nonlinear encoding applied.</p>
</li>
<li>
<p><code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code> specifies a one-component, ETC2
compressed format where each 64-bit compressed texel block encodes a
44 rectangle of unsigned normalized red texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code> specifies a one-component, ETC2
compressed format where each 64-bit compressed texel block encodes a
44 rectangle of signed normalized red texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code> specifies a two-component, ETC2
compressed format where each 128-bit compressed texel block encodes a
44 rectangle of unsigned normalized RG texel data with the first
64 bits encoding red values followed by 64 bits encoding green values.</p>
</li>
<li>
<p><code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code> specifies a two-component, ETC2
compressed format where each 128-bit compressed texel block encodes a
44 rectangle of signed normalized RG texel data with the first 64
bits encoding red values followed by 64 bits encoding green values.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
44 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
44 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
54 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
54 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
55 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
55 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
65 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
65 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
66 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
66 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes an
85 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes an
85 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes an
86 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes an
86 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes an
88 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes an
88 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
105 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
105 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
106 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
106 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
108 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
108 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
1010 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
1010 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
1210 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
1210 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
1212 rectangle of unsigned normalized RGBA texel data.</p>
</li>
<li>
<p><code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code> specifies a four-component, ASTC
compressed format where each 128-bit compressed texel block encodes a
1212 rectangle of unsigned normalized RGBA texel data with sRGB
nonlinear encoding applied to the RGB components.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="formats-packed"><a class="anchor" href="#formats-packed"></a>32.1.1. Packed Formats</h4>
<div class="paragraph">
<p>For the purposes of address alignment when accessing buffer memory
containing vertex attribute or texel data, the following formats are
considered <em>packed</em> - whole texels or attributes are stored in bitfields of
a single 8-, 16-, or 32-bit fundamental data type.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#formats-packed-8-bit">Packed into 8-bit data types</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_R4G4_UNORM_PACK8</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#formats-packed-16-bit">Packed into 16-bit data types</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_R4G4B4A4_UNORM_PACK16</code></p>
</li>
<li>
<p><code>VK_FORMAT_B4G4R4A4_UNORM_PACK16</code></p>
</li>
<li>
<p><code>VK_FORMAT_R5G6B5_UNORM_PACK16</code></p>
</li>
<li>
<p><code>VK_FORMAT_B5G6R5_UNORM_PACK16</code></p>
</li>
<li>
<p><code>VK_FORMAT_R5G5B5A1_UNORM_PACK16</code></p>
</li>
<li>
<p><code>VK_FORMAT_B5G5R5A1_UNORM_PACK16</code></p>
</li>
<li>
<p><code>VK_FORMAT_A1R5G5B5_UNORM_PACK16</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#formats-packed-32-bit">Packed into 32-bit data types</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_A8B8G8R8_UNORM_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_SNORM_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_USCALED_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_UINT_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_SINT_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A8B8G8R8_SRGB_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_UNORM_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_SNORM_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_USCALED_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_UINT_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2R10G10B10_SINT_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_UNORM_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_SNORM_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_USCALED_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_UINT_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_A2B10G10R10_SINT_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code></p>
</li>
<li>
<p><code>VK_FORMAT_X8_D24_UNORM_PACK32</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_identification_of_formats"><a class="anchor" href="#_identification_of_formats"></a>32.1.2. Identification of Formats</h4>
<div class="paragraph">
<p>A &#8220;format&#8221; is represented by a single enum value.
The name of a format is usually built up by using the following pattern:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>    VK_FORMAT_{component-format|compression-scheme}_{numeric-format}</pre>
</div>
</div>
<div class="paragraph">
<p>The component-format indicates either the size of the R, G, B, and A
components (if they are present) in the case of a color format, or the size
of the depth (D) and stencil (S) components (if they are present) in the
case of a depth/stencil format (see below).
An X indicates a component that is unused, but <strong class="purple">may</strong> be present for padding.</p>
</div>
<div style="page-break-after: always;"></div>
<table id="formats-numericformat" class="tableblock frame-all grid-all" style="width: 95%;">
<caption class="title">Table 32. Interpretation of Numeric Format</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 20%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Numeric format</th>
<th class="tableblock halign-left valign-top">SPIR-V <em>Sampled Type</em></th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UNORM</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpTypeFloat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The components are unsigned normalized values in the range <span class="eq">[0,1]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SNORM</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpTypeFloat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The components are signed normalized values in the range <span class="eq">[-1,1]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>USCALED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpTypeFloat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The components are unsigned integer values that get converted to floating-point in the range [0,2<sup>n</sup>-1]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SSCALED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpTypeFloat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The components are signed integer values that get converted to floating-point in the range [-2<sup>n-1</sup>,2<sup>n-1</sup>-1]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UINT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpTypeInt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The components are unsigned integer values in the range [0,2<sup>n</sup>-1]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SINT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpTypeInt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The components are signed integer values in the range [-2<sup>n-1</sup>,2<sup>n-1</sup>-1]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UFLOAT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpTypeFloat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The components are unsigned floating-point numbers (used by packed, shared exponent, and some compressed formats)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SFLOAT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpTypeFloat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The components are signed floating-point numbers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SRGB</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpTypeFloat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The R, G, and B components are unsigned normalized values that represent values using sRGB nonlinear encoding, while the A component (if one exists) is a regular unsigned normalized value</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The suffix <code>_PACKnn</code> indicates that the format is packed into an
underlying type with nn bits.</p>
</div>
<div class="paragraph">
<p>The suffix <code>_BLOCK</code> indicates that the format is a block-compressed
format, with the representation of multiple pixels encoded interdependently
within a region.</p>
</div>
<table id="formats-compressionscheme" class="tableblock frame-all grid-all" style="width: 95%;">
<caption class="title">Table 33. Interpretation of Compression Scheme</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Compression scheme</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BC</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Block Compression. See <a href="#appendix-compressedtex-bc">Block-Compressed Image Formats</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ETC2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ericsson Texture Compression. See <a href="#appendix-compressedtex-etc2">ETC Compressed Image Formats</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EAC</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ETC2 Alpha Compression. See <a href="#appendix-compressedtex-etc2">ETC Compressed Image Formats</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ASTC</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adaptive Scalable Texture Compression (LDR Profile). See <a href="#appendix-compressedtex-astc">ASTC Compressed Image Formats</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="texel-block-size"><a class="anchor" href="#texel-block-size"></a>32.1.3. Representation and Texel Block Size</h4>
<div class="paragraph">
<p>Color formats <strong class="purple">must</strong> be represented in memory in exactly the form indicated
by the format&#8217;s name.
This means that promoting one format to another with more bits per component
and/or additional components <strong class="purple">must</strong> not occur for color formats.
Depth/stencil formats have more relaxed requirements as discussed
<a href="#formats-depth-stencil">below</a>.</p>
</div>
<div class="paragraph">
<p>Each format has a <em>texel block size</em>, the number of bytes used to store one
<em>texel block</em> (a single addressable element of an uncompressed image, or a
single compressed block of a compressed image).
The texel block size for each format is shown in the
<a href="#formats-compatibility">Compatible formats</a> table.</p>
</div>
<div class="paragraph">
<p>The representation of non-packed formats is that the first component
specified in the name of the format is in the lowest memory addresses and
the last component specified is in the highest memory addresses.
See <a href="#formats-non-packed">Byte mappings for non-packed/compressed color
formats</a>.
The in-memory ordering of bytes within a component is determined by the host
endianness.</p>
</div>
<table id="formats-non-packed" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 34. Byte mappings for non-packed/compressed color formats</caption>
<colgroup>
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 3.8461%;">
<col style="width: 38.4624%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-right valign-top">0</th>
<th class="tableblock halign-right valign-top">1</th>
<th class="tableblock halign-right valign-top">2</th>
<th class="tableblock halign-right valign-top">3</th>
<th class="tableblock halign-right valign-top">4</th>
<th class="tableblock halign-right valign-top">5</th>
<th class="tableblock halign-right valign-top">6</th>
<th class="tableblock halign-right valign-top">7</th>
<th class="tableblock halign-right valign-top">8</th>
<th class="tableblock halign-right valign-top">9</th>
<th class="tableblock halign-right valign-top">10</th>
<th class="tableblock halign-right valign-top">11</th>
<th class="tableblock halign-right valign-top">12</th>
<th class="tableblock halign-right valign-top">13</th>
<th class="tableblock halign-right valign-top">14</th>
<th class="tableblock halign-right valign-top">15</th>
<th class="tableblock halign-center valign-top"> Byte</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-right valign-top" colspan="16"><p class="tableblock"><strong><code>VK_FORMAT_R8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-right valign-top" colspan="15"><p class="tableblock"><strong><code>VK_FORMAT_R8G8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-right valign-top" colspan="14"><p class="tableblock"><strong><code>VK_FORMAT_R8G8B8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-right valign-top" colspan="14"><p class="tableblock"><strong><code>VK_FORMAT_B8G8R8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><strong><code>VK_FORMAT_R8G8B8A8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><strong><code>VK_FORMAT_B8G8R8A8_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">R</p></td>
<td class="tableblock halign-right valign-top" colspan="15"><p class="tableblock"><strong><code>VK_FORMAT_R16_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">G</p></td>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><strong><code>VK_FORMAT_R16G16_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">B</p></td>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><strong><code>VK_FORMAT_R16G16B16_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">A</p></td>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><strong><code>VK_FORMAT_R16G16B16A16_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock">R</p></td>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><strong><code>VK_FORMAT_R32_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock">G</p></td>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><strong><code>VK_FORMAT_R32G32_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock">B</p></td>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><strong><code>VK_FORMAT_R32G32B32_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock">A</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><strong><code>VK_FORMAT_R32G32B32A32_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="8"><p class="tableblock">R</p></td>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><strong><code>VK_FORMAT_R64_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="8"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top" colspan="8"><p class="tableblock">G</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><strong><code>VK_FORMAT_R64G64_*</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="17"><p class="tableblock"><strong><code>VK_FORMAT_R64G64B64_*</code> as <code>VK_FORMAT_R64G64_*</code> but with B in bytes 16-23</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="17"><p class="tableblock"><strong><code>VK_FORMAT_R64G64B64A64_*</code> as <code>VK_FORMAT_R64G64B64_*</code> but with A in bytes 24-31</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Packed formats store multiple components within one underlying type.
The bit representation is that the first component specified in the name of
the format is in the most-significant bits and the last component specified
is in the least-significant bits of the underlying type.
The in-memory ordering of bytes comprising the underlying type is determined
by the host endianness.</p>
</div>
<table id="formats-packed-8-bit" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 35. Bit mappings for packed 8-bit formats</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="8">Bit</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_R4G4_UNORM_PACK8</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>R</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>G</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
</tbody>
</table>
<table id="formats-packed-16-bit" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 36. Bit mappings for packed 16-bit formats</caption>
<colgroup>
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="16">Bit</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>15</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>14</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>13</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>12</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>11</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>10</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="16"><p class="tableblock"><code>VK_FORMAT_R4G4B4A4_UNORM_PACK16</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>R</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>B</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>A</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="16"><p class="tableblock"><code>VK_FORMAT_B4G4R4A4_UNORM_PACK16</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>B</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>R</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>A</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="16"><p class="tableblock"><code>VK_FORMAT_R5G6B5_UNORM_PACK16</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>R</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="6"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>B</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="16"><p class="tableblock"><code>VK_FORMAT_B5G6R5_UNORM_PACK16</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>B</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="6"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>R</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="16"><p class="tableblock"><code>VK_FORMAT_R5G5B5A1_UNORM_PACK16</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>R</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>B</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>A</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="16"><p class="tableblock"><code>VK_FORMAT_B5G5R5A1_UNORM_PACK16</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>B</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>R</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>A</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="16"><p class="tableblock"><code>VK_FORMAT_A1R5G5B5_UNORM_PACK16</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>A</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>R</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>B</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
</tbody>
</table>
<table id="formats-packed-32-bit" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 37. Bit mappings for packed 32-bit formats</caption>
<colgroup>
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
<col style="width: 3.125%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="32">Bit</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>31</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>30</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>29</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>28</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>27</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>26</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>25</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>24</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>23</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>22</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>21</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>20</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>19</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>18</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>17</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>16</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>15</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>14</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>13</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>12</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>11</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>10</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="32"><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_*_PACK32</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="8"><p class="tableblock"><strong>A</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="8"><p class="tableblock"><strong>B</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="8"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="8"><p class="tableblock"><strong>R</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="32"><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_*_PACK32</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>A</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="10"><p class="tableblock"><strong>R</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="10"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="10"><p class="tableblock"><strong>B</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="32"><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_*_PACK32</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>A</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="10"><p class="tableblock"><strong>B</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="10"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="10"><p class="tableblock"><strong>R</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="32"><p class="tableblock"><code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="10"><p class="tableblock"><strong>B</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="11"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="11"><p class="tableblock"><strong>R</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>10</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>10</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="32"><p class="tableblock"><code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>E</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="9"><p class="tableblock"><strong>B</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="9"><p class="tableblock"><strong>G</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="9"><p class="tableblock"><strong>R</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="32"><p class="tableblock"><code>VK_FORMAT_X8_D24_UNORM_PACK32</code></p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="8"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="24"><p class="tableblock"><strong>D</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>23</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>22</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>21</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>20</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>19</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>18</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>17</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>16</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>15</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>14</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>13</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>12</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>11</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>10</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>9</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>8</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>7</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>6</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>5</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>4</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>3</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>2</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>1</sub></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><sub>0</sub></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="formats-depth-stencil"><a class="anchor" href="#formats-depth-stencil"></a>32.1.4. Depth/Stencil Formats</h4>
<div class="paragraph">
<p>Depth/stencil formats are considered opaque and need not be stored in the
exact number of bits per texel or component ordering indicated by the format
enum.
However, implementations <strong class="purple">must</strong> not substitute a different depth or stencil
precision than that described in the format (e.g. D16 <strong class="purple">must</strong> not be
implemented as D24 or D32).</p>
</div>
</div>
<div class="sect3">
<h4 id="formats-compatibility-classes"><a class="anchor" href="#formats-compatibility-classes"></a>32.1.5. Format Compatibility Classes</h4>
<div class="paragraph">
<p>Uncompressed color formats are <em>compatible</em> with each other if they occupy
the same number of bits per texel block.
Compressed color formats are compatible with each other if the only
difference between them is the numerical type of the uncompressed pixels
(e.g. signed vs.
unsigned, or SRGB vs.
UNORM encoding).
Each depth/stencil format is only compatible with itself.
In the <a href="#formats-compatibility">following</a> table, all the formats in the
same row are compatible.</p>
</div>
<table id="formats-compatibility" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 38. Compatible Formats</caption>
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Class, Texel Block Size, # Texels/Block</th>
<th class="tableblock halign-left valign-top">Formats</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit<br>
  Block size 1 byte<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R4G4_UNORM_PACK8</code>,<br>
                    <code>VK_FORMAT_R8_UNORM</code>,<br>
                    <code>VK_FORMAT_R8_SNORM</code>,<br>
                    <code>VK_FORMAT_R8_USCALED</code>,<br>
                    <code>VK_FORMAT_R8_SSCALED</code>,<br>
                    <code>VK_FORMAT_R8_UINT</code>,<br>
                    <code>VK_FORMAT_R8_SINT</code>,<br>
                    <code>VK_FORMAT_R8_SRGB</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-bit<br>
  Block size 2 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R4G4B4A4_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_B4G4R4A4_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_R5G6B5_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_B5G6R5_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_R5G5B5A1_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_B5G5R5A1_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_A1R5G5B5_UNORM_PACK16</code>,<br>
                    <code>VK_FORMAT_R8G8_UNORM</code>,<br>
                    <code>VK_FORMAT_R8G8_SNORM</code>,<br>
                    <code>VK_FORMAT_R8G8_USCALED</code>,<br>
                    <code>VK_FORMAT_R8G8_SSCALED</code>,<br>
                    <code>VK_FORMAT_R8G8_UINT</code>,<br>
                    <code>VK_FORMAT_R8G8_SINT</code>,<br>
                    <code>VK_FORMAT_R8G8_SRGB</code>,<br>
                    <code>VK_FORMAT_R16_UNORM</code>,<br>
                    <code>VK_FORMAT_R16_SNORM</code>,<br>
                    <code>VK_FORMAT_R16_USCALED</code>,<br>
                    <code>VK_FORMAT_R16_SSCALED</code>,<br>
                    <code>VK_FORMAT_R16_UINT</code>,<br>
                    <code>VK_FORMAT_R16_SINT</code>,<br>
                    <code>VK_FORMAT_R16_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24-bit<br>
  Block size 3 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8_UNORM</code>,<br>
                    <code>VK_FORMAT_R8G8B8_SNORM</code>,<br>
                    <code>VK_FORMAT_R8G8B8_USCALED</code>,<br>
                    <code>VK_FORMAT_R8G8B8_SSCALED</code>,<br>
                    <code>VK_FORMAT_R8G8B8_UINT</code>,<br>
                    <code>VK_FORMAT_R8G8B8_SINT</code>,<br>
                    <code>VK_FORMAT_R8G8B8_SRGB</code>,<br>
                    <code>VK_FORMAT_B8G8R8_UNORM</code>,<br>
                    <code>VK_FORMAT_B8G8R8_SNORM</code>,<br>
                    <code>VK_FORMAT_B8G8R8_USCALED</code>,<br>
                    <code>VK_FORMAT_B8G8R8_SSCALED</code>,<br>
                    <code>VK_FORMAT_B8G8R8_UINT</code>,<br>
                    <code>VK_FORMAT_B8G8R8_SINT</code>,<br>
                    <code>VK_FORMAT_B8G8R8_SRGB</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit<br>
  Block size 4 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_UNORM</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_SNORM</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_USCALED</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_SSCALED</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_UINT</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_SINT</code>,<br>
                    <code>VK_FORMAT_R8G8B8A8_SRGB</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_UNORM</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_SNORM</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_USCALED</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_SSCALED</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_UINT</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_SINT</code>,<br>
                    <code>VK_FORMAT_B8G8R8A8_SRGB</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_UNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_SNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_USCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_UINT_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_SINT_PACK32</code>,<br>
                    <code>VK_FORMAT_A8B8G8R8_SRGB_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_UNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_SNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_USCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_UINT_PACK32</code>,<br>
                    <code>VK_FORMAT_A2R10G10B10_SINT_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_UNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_SNORM_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_USCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_UINT_PACK32</code>,<br>
                    <code>VK_FORMAT_A2B10G10R10_SINT_PACK32</code>,<br>
                    <code>VK_FORMAT_R16G16_UNORM</code>,<br>
                    <code>VK_FORMAT_R16G16_SNORM</code>,<br>
                    <code>VK_FORMAT_R16G16_USCALED</code>,<br>
                    <code>VK_FORMAT_R16G16_SSCALED</code>,<br>
                    <code>VK_FORMAT_R16G16_UINT</code>,<br>
                    <code>VK_FORMAT_R16G16_SINT</code>,<br>
                    <code>VK_FORMAT_R16G16_SFLOAT</code>,<br>
                    <code>VK_FORMAT_R32_UINT</code>,<br>
                    <code>VK_FORMAT_R32_SINT</code>,<br>
                    <code>VK_FORMAT_R32_SFLOAT</code>,<br>
                    <code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code>,<br>
                    <code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">48-bit<br>
  Block size 6 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16_UNORM</code>,<br>
                    <code>VK_FORMAT_R16G16B16_SNORM</code>,<br>
                    <code>VK_FORMAT_R16G16B16_USCALED</code>,<br>
                    <code>VK_FORMAT_R16G16B16_SSCALED</code>,<br>
                    <code>VK_FORMAT_R16G16B16_UINT</code>,<br>
                    <code>VK_FORMAT_R16G16B16_SINT</code>,<br>
                    <code>VK_FORMAT_R16G16B16_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">64-bit<br>
  Block size 8 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_UNORM</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_SNORM</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_USCALED</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_SSCALED</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_UINT</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_SINT</code>,<br>
                    <code>VK_FORMAT_R16G16B16A16_SFLOAT</code>,<br>
                    <code>VK_FORMAT_R32G32_UINT</code>,<br>
                    <code>VK_FORMAT_R32G32_SINT</code>,<br>
                    <code>VK_FORMAT_R32G32_SFLOAT</code>,<br>
                    <code>VK_FORMAT_R64_UINT</code>,<br>
                    <code>VK_FORMAT_R64_SINT</code>,<br>
                    <code>VK_FORMAT_R64_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">96-bit<br>
  Block size 12 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32B32_UINT</code>,<br>
                    <code>VK_FORMAT_R32G32B32_SINT</code>,<br>
                    <code>VK_FORMAT_R32G32B32_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">128-bit<br>
  Block size 16 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_UINT</code>,<br>
                    <code>VK_FORMAT_R32G32B32A32_SINT</code>,<br>
                    <code>VK_FORMAT_R32G32B32A32_SFLOAT</code>,<br>
                    <code>VK_FORMAT_R64G64_UINT</code>,<br>
                    <code>VK_FORMAT_R64G64_SINT</code>,<br>
                    <code>VK_FORMAT_R64G64_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">192-bit<br>
  Block size 24 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64G64B64_UINT</code>,<br>
                    <code>VK_FORMAT_R64G64B64_SINT</code>,<br>
                    <code>VK_FORMAT_R64G64B64_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">256-bit<br>
  Block size 32 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64G64B64A64_UINT</code>,<br>
                    <code>VK_FORMAT_R64G64B64A64_SINT</code>,<br>
                    <code>VK_FORMAT_R64G64B64A64_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC1_RGB (64 bit)<br>
  Block size 8 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC1_RGBA (64 bit)<br>
  Block size 8 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC2 (128 bit)<br>
  Block size 16 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC2_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC2_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC3 (128 bit)<br>
  Block size 16 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC3_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC3_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC4 (64 bit)<br>
  Block size 8 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC4_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC4_SNORM_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC5 (128 bit)<br>
  Block size 16 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC5_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC5_SNORM_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC6H (128 bit)<br>
  Block size 16 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC7 (128 bit)<br>
  Block size 16 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC7_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_BC7_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ETC2_RGB (64 bit)<br>
  Block size 8 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ETC2_RGBA (64 bit)<br>
  Block size 8 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ETC2_EAC_RGBA (64 bit)<br>
  Block size 8 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EAC_R (64 bit)<br>
  Block size 8 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EAC_RG (128 bit)<br>
  Block size 16 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_4x4 (128 bit)<br>
  Block size 16 bytes<br>
  16 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_5x4 (128 bit)<br>
  Block size 16 bytes<br>
  20 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_5x5 (128 bit)<br>
  Block size 16 bytes<br>
  25 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_6x5 (128 bit)<br>
  Block size 16 bytes<br>
  30 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code>,<br></p>
<p class="tableblock">                    <code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_6x6 (128 bit)<br>
  Block size 16 bytes<br>
  36 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_8x5 (128 bit)<br>
  Block size 16 bytes<br>
  40 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_8x6 (128 bit)<br>
  Block size 16 bytes<br>
  48 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_8x8 (128 bit)<br>
  Block size 16 bytes<br>
  64 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_10x5 (128 bit)<br>
  Block size 16 bytes<br>
  50 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_10x6 (128 bit)<br>
  Block size 16 bytes<br>
  60 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_10x8 (128 bit)<br>
  Block size 16 bytes<br>
  80 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_10x10 (128 bit)<br>
  Block size 16 bytes<br>
  100 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_12x10 (128 bit)<br>
  Block size 16 bytes<br>
  120 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASTC_12x12 (128 bit)<br>
  Block size 16 bytes<br>
  144 texels/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code>,<br>
                    <code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D16 (16 bit)<br>
  Block size 2 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_D16_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D24 (32 bit)<br>
  Block size 4 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_X8_D24_UNORM_PACK32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D32 (32 bit)<br>
  Block size 4 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_D32_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S8 (8 bit)<br>
  Block size 1 byte<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_S8_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D16S8 (24 bit)<br>
  Block size 3 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_D16_UNORM_S8_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D24S8 (32 bit)<br>
  Block size 4 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_D24_UNORM_S8_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D32S8 (40 bit)<br>
  Block size 5 bytes<br>
  1 texel/block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_D32_SFLOAT_S8_UINT</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="formats-properties"><a class="anchor" href="#formats-properties"></a>32.2. Format Properties</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query supported format features which are properties of the physical
device, call:</p>
</div>
<div id="vkGetPhysicalDeviceFormatProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetPhysicalDeviceFormatProperties(
    VkPhysicalDevice                            physicalDevice,
    VkFormat                                    format,
    VkFormatProperties*                         pFormatProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
format properties.</p>
</li>
<li>
<p><code>format</code> is the format whose properties are queried.</p>
</li>
<li>
<p><code>pFormatProperties</code> is a pointer to a <a href="#VkFormatProperties">VkFormatProperties</a>
structure in which physical device properties for <code>format</code> are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceFormatProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceFormatProperties-physicalDevice-parameter"></a> <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceFormatProperties-format-parameter" href="#VUID-vkGetPhysicalDeviceFormatProperties-format-parameter"></a> <code>format</code> <strong class="purple">must</strong> be a valid <a href="#VkFormat">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceFormatProperties-pFormatProperties-parameter" href="#VUID-vkGetPhysicalDeviceFormatProperties-pFormatProperties-parameter"></a> <code>pFormatProperties</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkFormatProperties">VkFormatProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkFormatProperties</code> structure is defined as:</p>
</div>
<div id="VkFormatProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkFormatProperties {
    VkFormatFeatureFlags    linearTilingFeatures;
    VkFormatFeatureFlags    optimalTilingFeatures;
    VkFormatFeatureFlags    bufferFeatures;
} VkFormatProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>linearTilingFeatures</code> is a bitmask of <a href="#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>
specifying features supported by images created with a <code>tiling</code>
parameter of <code>VK_IMAGE_TILING_LINEAR</code>.</p>
</li>
<li>
<p><code>optimalTilingFeatures</code> is a bitmask of
<a href="#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a> specifying features supported by images
created with a <code>tiling</code> parameter of <code>VK_IMAGE_TILING_OPTIMAL</code>.</p>
</li>
<li>
<p><code>bufferFeatures</code> is a bitmask of <a href="#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>
specifying features supported by buffers.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If no format feature flags are supported, then the only possible use would
be image transfers - which alone are not useful.
As such, if no format feature flags are supported, the format itself is not
supported, and images of that format cannot be created.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If <code>format</code> is a block-compressed format, then <code>bufferFeatures</code>
<strong class="purple">must</strong> not support any features for the format.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in the <a href="#VkFormatProperties">VkFormatProperties</a> features
<code>linearTilingFeatures</code>, <code>optimalTilingFeatures</code>,
and <code>bufferFeatures</code> are:</p>
</div>
<div id="VkFormatFeatureFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkFormatFeatureFlagBits {
    VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT = <span class="hex">0x00000001</span>,
    VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT = <span class="hex">0x00000002</span>,
    VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT = <span class="hex">0x00000004</span>,
    VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT = <span class="hex">0x00000008</span>,
    VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT = <span class="hex">0x00000010</span>,
    VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT = <span class="hex">0x00000020</span>,
    VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT = <span class="hex">0x00000040</span>,
    VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT = <span class="hex">0x00000080</span>,
    VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT = <span class="hex">0x00000100</span>,
    VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT = <span class="hex">0x00000200</span>,
    VK_FORMAT_FEATURE_BLIT_SRC_BIT = <span class="hex">0x00000400</span>,
    VK_FORMAT_FEATURE_BLIT_DST_BIT = <span class="hex">0x00000800</span>,
    VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT = <span class="hex">0x00001000</span>,
    VK_FORMAT_FEATURE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkFormatFeatureFlagBits;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following bits <strong class="purple">may</strong> be set in
<code>linearTilingFeatures</code> and <code>optimalTilingFeatures</code>,
specifying that the features are supported by <a href="#VkImage">images</a> or
<a href="#VkImageView">image views</a> created with the queried
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a>::<code>format</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> specifies that an image view
<strong class="purple">can</strong> be <a href="#descriptorsets-sampledimage">sampled from</a>.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code> specifies that an image view
<strong class="purple">can</strong> be used as a <a href="#descriptorsets-storageimage">storage images</a>.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code> specifies that an image
view <strong class="purple">can</strong> be used as storage image that supports atomic operations.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> specifies that an image
view <strong class="purple">can</strong> be used as a framebuffer color attachment and as an input
attachment.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code> specifies that an
image view <strong class="purple">can</strong> be used as a framebuffer color attachment that supports
blending and as an input attachment.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> specifies that an
image view <strong class="purple">can</strong> be used as a framebuffer depth/stencil attachment and as
an input attachment.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> specifies that an image <strong class="purple">can</strong> be
used as <code>srcImage</code> for the <code>vkCmdBlitImage</code> command.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code> specifies that an image <strong class="purple">can</strong> be
used as <code>dstImage</code> for the <code>vkCmdBlitImage</code> command.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> specifies that
if <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> is also set, an image view
<strong class="purple">can</strong> be used with a sampler that has either of <code>magFilter</code> or
<code>minFilter</code> set to <code>VK_FILTER_LINEAR</code>, or <code>mipmapMode</code> set
to <code>VK_SAMPLER_MIPMAP_MODE_LINEAR</code>.
If <code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> is also set, an image can be
used as the <code>srcImage</code> to <a href="#vkCmdBlitImage">vkCmdBlitImage</a> with a <code>filter</code>
of <code>VK_FILTER_LINEAR</code>.
This bit <strong class="purple">must</strong> only be exposed for formats that also support the
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code> or
<code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code>.</p>
<div class="paragraph">
<p>If the format being queried is a depth/stencil format, this bit only
specifies that the depth aspect (not the stencil aspect) of an image of this
format supports linear filtering, and that linear filtering of the depth
aspect is supported whether depth compare is enabled in the sampler or not.
If this bit is not present, linear filtering with depth compare disabled is
unsupported and linear filtering with depth compare enabled is supported,
but <strong class="purple">may</strong> compute the filtered value in an implementation-dependent manner
which differs from the normal rules of linear filtering.
The resulting value <strong class="purple">must</strong> be in the range <span class="eq">[0,1]</span> and <strong class="purple">should</strong> be
proportional to, or a weighted average of, the number of comparison passes
or failures.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following bits <strong class="purple">may</strong> be set in <code>bufferFeatures</code>, specifying that the
features are supported by <a href="#VkBuffer">buffers</a> or <a href="#VkBufferView">buffer
views</a> created with the queried
<a href="#vkGetPhysicalDeviceProperties">vkGetPhysicalDeviceProperties</a>::<code>format</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code> specifies that the
format <strong class="purple">can</strong> be used to create a buffer view that <strong class="purple">can</strong> be bound to a
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> descriptor.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code> specifies that the
format <strong class="purple">can</strong> be used to create a buffer view that <strong class="purple">can</strong> be bound to a
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> descriptor.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code> specifies that
atomic operations are supported on
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> with this format.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code> specifies that the format <strong class="purple">can</strong>
be used as a vertex attribute format
(<code>VkVertexInputAttributeDescription</code>::<code>format</code>).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkFormatFeatureFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkFormatFeatureFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkFormatFeatureFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="features-required-format-support"><a class="anchor" href="#features-required-format-support"></a>32.3. Required Format Support</h3>
<div class="paragraph">
<p>Implementations <strong class="purple">must</strong> support at least the following set of features on the
listed formats.
For images, these features <strong class="purple">must</strong> be supported for every <a href="#VkImageType">VkImageType</a>
(including arrayed and cube variants) unless otherwise noted.
These features are supported on existing formats without needing to
advertise an extension or needing to explicitly enable them.
Support for additional functionality beyond the requirements listed here is
queried using the <a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> command.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Unless otherwise excluded below, the required formats are supported for all
<a href="#VkImageCreateFlags">VkImageCreateFlags</a> values as long as those flag values are otherwise
allowed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following tables show which feature bits <strong class="purple">must</strong> be supported for each
format.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 70%;">
<caption class="title">Table 39. Key for format feature tables</caption>
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 90.9091%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This feature <strong class="purple">must</strong> be supported on the named format</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This feature <strong class="purple">must</strong> be supported on at least some
of the named formats, with more information in the table
where the symbol appears</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This feature <strong class="purple">must</strong> be supported with some caveats or
preconditions, with more information in the table where the symbol appears</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 70%;">
<caption class="title">Table 40. Feature bits in <code>optimalTilingFeatures</code></caption>
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 70%;">
<caption class="title">Table 41. Feature bits in <code>bufferFeatures</code></caption>
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<table id="formats-mandatory-features-subbyte" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 42. Mandatory format support: sub-byte channels</caption>
<colgroup>
<col style="width: 48%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="14"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_UNDEFINED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R4G4_UNORM_PACK8</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R4G4B4A4_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B4G4R4A4_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R5G6B5_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B5G6R5_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R5G5B5A1_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B5G5R5A1_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A1R5G5B5_UNORM_PACK16</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<table id="formats-mandatory-features-2byte" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 43. Mandatory format support: 1-3 byte-sized channels</caption>
<colgroup>
<col style="width: 48%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="14"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8_UINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8_SINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8_UINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8_SINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8_SINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8_SINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14"><p class="tableblock">Format features marked with  <strong class="purple">must</strong> be supported for
<code>optimalTilingFeatures</code> if the <code>VkPhysicalDevice</code> supports the
<a href="#features-shaderStorageImageExtendedFormats"><code>shaderStorageImageExtendedFormats</code></a> feature.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<table id="formats-mandatory-features-4byte" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 44. Mandatory format support: 4 byte-sized channels</caption>
<colgroup>
<col style="width: 48%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="14"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_UINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_UNORM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_SNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_USCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_SINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B8G8R8A8_SRGB</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_UNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_SNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_USCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_SSCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_UINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_SINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A8B8G8R8_SRGB_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<table id="formats-mandatory-features-10bit" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 45. Mandatory format support: 10- and 12-bit channels</caption>
<colgroup>
<col style="width: 48%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="14"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_UNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_SNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_USCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_SSCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_UINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2R10G10B10_SINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_UNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_SNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_USCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_SSCALED_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_UINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_SINT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14"><p class="tableblock">Format features marked with  <strong class="purple">must</strong> be supported for
<code>optimalTilingFeatures</code> if the <code>VkPhysicalDevice</code> supports the
<a href="#features-shaderStorageImageExtendedFormats"><code>shaderStorageImageExtendedFormats</code></a> feature.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<table id="formats-mandatory-features-16bit" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 46. Mandatory format support: 16-bit channels</caption>
<colgroup>
<col style="width: 48%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="14"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_UNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_SNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_USCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_UINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_SINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_UNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_SNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_USCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_UINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_SINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16_UNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16_SNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16_USCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16_SINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_UNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SNORM</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_USCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SSCALED</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_UINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14"><p class="tableblock">Format features marked with  <strong class="purple">must</strong> be supported for
<code>optimalTilingFeatures</code> if the <code>VkPhysicalDevice</code> supports the
<a href="#features-shaderStorageImageExtendedFormats"><code>shaderStorageImageExtendedFormats</code></a> feature.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<table id="formats-mandatory-features-32bit" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 47. Mandatory format support: 32-bit channels</caption>
<colgroup>
<col style="width: 48%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="14"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32_UINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32_SINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32_UINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32_SINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32B32_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32B32_SINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32B32_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_UINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_SINT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<table id="formats-mandatory-features-64bit" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 48. Mandatory format support: 64-bit/uneven channels</caption>
<colgroup>
<col style="width: 48%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="14"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64_SINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64G64_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64G64_SINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64G64_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64G64B64_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64G64B64_SINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64G64B64_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64G64B64A64_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64G64B64A64_SINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R64G64B64A64_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14"><p class="tableblock">Format features marked with  <strong class="purple">must</strong> be supported for
<code>optimalTilingFeatures</code> if the <code>VkPhysicalDevice</code> supports the
<a href="#features-shaderStorageImageExtendedFormats"><code>shaderStorageImageExtendedFormats</code></a> feature.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<table id="formats-mandatory-features-depth-stencil" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 49. Mandatory format support: depth/stencil with <code>VkImageType</code> <code>VK_IMAGE_TYPE_2D</code></caption>
<colgroup>
<col style="width: 48%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="14"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_D16_UNORM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_X8_D24_UNORM_PACK32</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_D32_SFLOAT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_S8_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_D16_UNORM_S8_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_D24_UNORM_S8_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_D32_SFLOAT_S8_UINT</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> feature <strong class="purple">must</strong> be
supported for at least one of <code>VK_FORMAT_X8_D24_UNORM_PACK32</code> and
<code>VK_FORMAT_D32_SFLOAT</code>, and <strong class="purple">must</strong> be supported for at least one of
<code>VK_FORMAT_D24_UNORM_S8_UINT</code> and <code>VK_FORMAT_D32_SFLOAT_S8_UINT</code>.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<table id="formats-mandatory-features-bcn" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 50. Mandatory format support: BC compressed formats with <code>VkImageType</code> <code>VK_IMAGE_TYPE_2D</code> and <code>VK_IMAGE_TYPE_3D</code></caption>
<colgroup>
<col style="width: 48%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="14"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC2_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC2_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC3_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC3_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC4_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC5_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC7_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC7_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14"><p class="tableblock">The <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <strong class="purple">must</strong> be
supported in <code>optimalTilingFeatures</code> for all the formats in at least
one of: this table, <a href="#formats-mandatory-features-etc">Mandatory format support: ETC2 and EAC compressed formats with <code>VkImageType</code> <code>VK_IMAGE_TYPE_2D</code></a>, or
<a href="#formats-mandatory-features-astc">Mandatory format support: ASTC LDR compressed formats with <code>VkImageType</code> <code>VK_IMAGE_TYPE_2D</code></a>.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<table id="formats-mandatory-features-etc" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 51. Mandatory format support: ETC2 and EAC compressed formats with <code>VkImageType</code> <code>VK_IMAGE_TYPE_2D</code></caption>
<colgroup>
<col style="width: 48%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="14"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14"><p class="tableblock">The <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <strong class="purple">must</strong> be
supported in <code>optimalTilingFeatures</code> for all the formats in at least
one of: this table, <a href="#formats-mandatory-features-bcn">Mandatory format support: BC compressed formats with <code>VkImageType</code> <code>VK_IMAGE_TYPE_2D</code> and <code>VK_IMAGE_TYPE_3D</code></a>, or
<a href="#formats-mandatory-features-astc">Mandatory format support: ASTC LDR compressed formats with <code>VkImageType</code> <code>VK_IMAGE_TYPE_2D</code></a>.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<table id="formats-mandatory-features-astc" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 52. Mandatory format support: ASTC LDR compressed formats with <code>VkImageType</code> <code>VK_IMAGE_TYPE_2D</code></caption>
<colgroup>
<col style="width: 48%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" colspan="13"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="14"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="12"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="13"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="11"><p class="tableblock"><code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="12"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="10"><p class="tableblock"><code>VK_FORMAT_FEATURE_VERTEX_BUFFER_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="11"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="9"><p class="tableblock"><code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="10"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="8"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="9"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="7"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_DST_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="8"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="6"><p class="tableblock"><code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="5"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="4"><p class="tableblock"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="3"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="4"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" colspan="2"><p class="tableblock"><code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="14"><p class="tableblock">The <code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>,
<code>VK_FORMAT_FEATURE_BLIT_SRC_BIT</code> and
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT</code> features <strong class="purple">must</strong> be
supported in <code>optimalTilingFeatures</code> for all the formats in at least
one of: this table, <a href="#formats-mandatory-features-bcn">Mandatory format support: BC compressed formats with <code>VkImageType</code> <code>VK_IMAGE_TYPE_2D</code> and <code>VK_IMAGE_TYPE_3D</code></a>, or
<a href="#formats-mandatory-features-etc">Mandatory format support: ETC2 and EAC compressed formats with <code>VkImageType</code> <code>VK_IMAGE_TYPE_2D</code></a>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="capabilities"><a class="anchor" href="#capabilities"></a>33. Additional Capabilities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes additional capabilities beyond the minimum
capabilities described in the (<a href="#limits">Limits</a> and <a href="#formats">Formats</a>
chapters, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#capabilities-image">Additional Image Capabilities</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="capabilities-image"><a class="anchor" href="#capabilities-image"></a>33.1. Additional Image Capabilities</h3>
<div class="paragraph">
<p>Additional image capabilities, such as larger dimensions or additional
sample counts for certain image types, or additional capabilities for
<em>linear</em> tiling format images, are described in this section.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query additional capabilities specific to image types, call:</p>
</div>
<div id="vkGetPhysicalDeviceImageFormatProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkGetPhysicalDeviceImageFormatProperties(
    VkPhysicalDevice                            physicalDevice,
    VkFormat                                    format,
    VkImageType                                 type,
    VkImageTiling                               tiling,
    VkImageUsageFlags                           usage,
    VkImageCreateFlags                          flags,
    VkImageFormatProperties*                    pImageFormatProperties);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
image capabilities.</p>
</li>
<li>
<p><code>format</code> is a <a href="#VkFormat">VkFormat</a> value specifying the image format,
corresponding to <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p><code>type</code> is a <a href="#VkImageType">VkImageType</a> value specifying the image type,
corresponding to <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>imageType</code>.</p>
</li>
<li>
<p><code>tiling</code> is a <a href="#VkImageTiling">VkImageTiling</a> value specifying the image tiling,
corresponding to <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>tiling</code>.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a> specifying the
intended usage of the image, corresponding to
<a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>usage</code>.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a> specifying
additional parameters of the image, corresponding to
<a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>flags</code>.</p>
</li>
<li>
<p><code>pImageFormatProperties</code> is a pointer to a
<a href="#VkImageFormatProperties">VkImageFormatProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code>
parameters correspond to parameters that would be consumed by
<a href="#vkCreateImage">vkCreateImage</a> (as members of <code>VkImageCreateInfo</code>).</p>
</div>
<div class="paragraph">
<p>If <code>format</code> is not a supported image format, or if the combination of
<code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code> is not
supported for images, then <code>vkGetPhysicalDeviceImageFormatProperties</code>
returns <code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>.</p>
</div>
<div class="paragraph">
<p>The limitations on an image format that are reported by
<code>vkGetPhysicalDeviceImageFormatProperties</code> have the following property:
if <code>usage1</code> and <code>usage2</code> of type <a href="#VkImageUsageFlags">VkImageUsageFlags</a> are such that
the bits set in <code>usage1</code> are a subset of the bits set in <code>usage2</code>, and
<code>flags1</code> and <code>flags2</code> of type <a href="#VkImageCreateFlags">VkImageCreateFlags</a> are such that
the bits set in <code>flags1</code> are a subset of the bits set in <code>flags2</code>,
then the limitations for <code>usage1</code> and <code>flags1</code> <strong class="purple">must</strong> be no more strict
than the limitations for <code>usage2</code> and <code>flags2</code>, for all values of
<code>format</code>, <code>type</code>, and <code>tiling</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-physicalDevice-parameter"></a> <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-format-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-format-parameter"></a> <code>format</code> <strong class="purple">must</strong> be a valid <a href="#VkFormat">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-type-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-type-parameter"></a> <code>type</code> <strong class="purple">must</strong> be a valid <a href="#VkImageType">VkImageType</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-parameter"></a> <code>tiling</code> <strong class="purple">must</strong> be a valid <a href="#VkImageTiling">VkImageTiling</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-usage-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-usage-parameter"></a> <code>usage</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-usage-requiredbitmask" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-usage-requiredbitmask"></a> <code>usage</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-flags-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-pImageFormatProperties-parameter" href="#VUID-vkGetPhysicalDeviceImageFormatProperties-pImageFormatProperties-parameter"></a> <code>pImageFormatProperties</code> <strong class="purple">must</strong> be a valid pointer to a <a href="#VkImageFormatProperties">VkImageFormatProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FORMAT_NOT_SUPPORTED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageFormatProperties</code> structure is defined as:</p>
</div>
<div id="VkImageFormatProperties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageFormatProperties {
    VkExtent3D            maxExtent;
    uint32_t              maxMipLevels;
    uint32_t              maxArrayLayers;
    VkSampleCountFlags    sampleCounts;
    VkDeviceSize          maxResourceSize;
} VkImageFormatProperties;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>maxExtent</code> are the maximum image dimensions.
See the <a href="#features-extentperimagetype">Allowed Extent Values</a> section
below for how these values are constrained by <code>type</code>.</p>
</li>
<li>
<p><code>maxMipLevels</code> is the maximum number of mipmap levels.
<code>maxMipLevels</code> <strong class="purple">must</strong> be equal to the number of levels in the
complete mipmap chain based on the <span class="eq"><code>maxExtent.width</code></span>,
<span class="eq"><code>maxExtent.height</code></span>, and <span class="eq"><code>maxExtent.depth</code></span>, except
when one of the following conditions is true, in which case it <strong class="purple">may</strong>
instead be <code>1</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>vkGetPhysicalDeviceImageFormatProperties</code>::<code>tiling</code> was
<code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>maxArrayLayers</code> is the maximum number of array layers.
<code>maxArrayLayers</code> <strong class="purple">must</strong> be no less than
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxImageArrayLayers</code>, except when one
of the following conditions is true, in which case it <strong class="purple">may</strong> instead be
<code>1</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code> and <code>type</code> is
<code>VK_IMAGE_TYPE_3D</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>sampleCounts</code> is a bitmask of <a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a>
specifying all the supported sample counts for this image as described
<a href="#features-supported-sample-counts">below</a>.</p>
</li>
<li>
<p><code>maxResourceSize</code> is an upper bound on the total image size in
bytes, inclusive of all image subresources.
Implementations <strong class="purple">may</strong> have an address space limit on total size of a
resource, which is advertised by this property.
<code>maxResourceSize</code> <strong class="purple">must</strong> be at least 2<sup>31</sup>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There is no mechanism to query the size of an image before creating it, to
compare that size against <code>maxResourceSize</code>.
If an application attempts to create an image that exceeds this limit, the
creation will fail and <a href="#vkCreateImage">vkCreateImage</a> will return
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>.
While the advertised limit <strong class="purple">must</strong> be at least 2<sup>31</sup>, it <strong class="purple">may</strong> not be possible
to create an image that approaches that size, particularly for
<code>VK_IMAGE_TYPE_1D</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the combination of parameters to
<code>vkGetPhysicalDeviceImageFormatProperties</code> is not supported by the
implementation for use in <a href="#vkCreateImage">vkCreateImage</a>, then all members of
<code>VkImageFormatProperties</code> will be filled with zero.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Filling <code>VkImageFormatProperties</code> with zero for unsupported formats is
an exception to the usual rule that output structures have undefined
contents on error.
This exception was unintentional, but is preserved for backwards
compatibility.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="features-supported-sample-counts"><a class="anchor" href="#features-supported-sample-counts"></a>33.1.1. Supported Sample Counts</h4>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceImageFormatProperties</code> returns a bitmask of
<a href="#VkSampleCountFlagBits">VkSampleCountFlagBits</a> in <code>sampleCounts</code> specifying the supported
sample counts for the image parameters.</p>
</div>
<div class="paragraph">
<p><code>sampleCounts</code> will be set to <code>VK_SAMPLE_COUNT_1_BIT</code> if at least
one of the following conditions is true:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p><code>type</code> is not <code>VK_IMAGE_TYPE_2D</code></p>
</li>
<li>
<p><code>flags</code> contains <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p>
</li>
<li>
<p>Neither the <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag nor the
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> flag in
<code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
<a href="#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> is set</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Otherwise, the bits set in <code>sampleCounts</code> will be the sample counts
supported for the specified values of <code>usage</code> and <code>format</code>.
For each bit set in <code>usage</code>, the supported sample counts relate to the
limits in <code>VkPhysicalDeviceLimits</code> as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> and
<code>format</code> is a floating- or fixed-point color format, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferColorSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <code>format</code>
includes a depth aspect, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferDepthSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <code>format</code>
includes a stencil aspect, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferStencilSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> includes a color aspect, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageColorSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> includes a depth aspect, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageDepthSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> is an integer format, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageIntegerSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_STORAGE_BIT</code>, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>storageImageSampleCounts</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If multiple bits are set in <code>usage</code>, <code>sampleCounts</code> will be the
intersection of the per-usage values described above.</p>
</div>
<div class="paragraph">
<p>If none of the bits described above are set in <code>usage</code>, then there is no
corresponding limit in <code>VkPhysicalDeviceLimits</code>.
In this case, <code>sampleCounts</code> <strong class="purple">must</strong> include at least
<code>VK_SAMPLE_COUNT_1_BIT</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="features-extentperimagetype"><a class="anchor" href="#features-extentperimagetype"></a>33.1.2. Allowed Extent Values Based On Image Type</h4>
<div class="paragraph">
<p>Implementations <strong class="purple">may</strong> support extent values larger than the <a href="#limits-minmax">required minimum/maximum values</a> for certain types of images subject to the
constraints below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Implementations <strong class="purple">must</strong> support images with dimensions up to the
<a href="#limits-minmax">required minimum/maximum values</a> for all types of images.
It follows that the query for additional capabilities <strong class="purple">must</strong> return extent
values that are at least as large as the required values.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_1D</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> 
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.<code>maxImageDimension1D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> = 1</span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_2D</code> when <code>flags</code> does not contain
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> 
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.<code>maxImageDimension2D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> 
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.<code>maxImageDimension2D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_2D</code> when <code>flags</code> contains
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> 
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.<code>maxImageDimensionCube</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> 
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.<code>maxImageDimensionCube</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_3D</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> 
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.<code>maxImageDimension3D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> 
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.<code>maxImageDimension3D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> 
<a href="#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.<code>maxImageDimension3D</code></span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_debugging"><a class="anchor" href="#_debugging"></a>34. Debugging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To aid developers in tracking down errors in the application&#8217;s use of
Vulkan, particularly in combination with an external debugger or profiler,
<em>debugging extensions</em> may be available.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="#VkObjectType">VkObjectType</a> enumeration defines values, each of which corresponds
to a specific Vulkan handle type.
These values <strong class="purple">can</strong> be used to associate debug information with a particular
type of object through one or more extensions.</p>
</div>
<div id="VkObjectType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkObjectType {
    VK_OBJECT_TYPE_UNKNOWN = <span class="integer">0</span>,
    VK_OBJECT_TYPE_INSTANCE = <span class="integer">1</span>,
    VK_OBJECT_TYPE_PHYSICAL_DEVICE = <span class="integer">2</span>,
    VK_OBJECT_TYPE_DEVICE = <span class="integer">3</span>,
    VK_OBJECT_TYPE_QUEUE = <span class="integer">4</span>,
    VK_OBJECT_TYPE_SEMAPHORE = <span class="integer">5</span>,
    VK_OBJECT_TYPE_COMMAND_BUFFER = <span class="integer">6</span>,
    VK_OBJECT_TYPE_FENCE = <span class="integer">7</span>,
    VK_OBJECT_TYPE_DEVICE_MEMORY = <span class="integer">8</span>,
    VK_OBJECT_TYPE_BUFFER = <span class="integer">9</span>,
    VK_OBJECT_TYPE_IMAGE = <span class="integer">10</span>,
    VK_OBJECT_TYPE_EVENT = <span class="integer">11</span>,
    VK_OBJECT_TYPE_QUERY_POOL = <span class="integer">12</span>,
    VK_OBJECT_TYPE_BUFFER_VIEW = <span class="integer">13</span>,
    VK_OBJECT_TYPE_IMAGE_VIEW = <span class="integer">14</span>,
    VK_OBJECT_TYPE_SHADER_MODULE = <span class="integer">15</span>,
    VK_OBJECT_TYPE_PIPELINE_CACHE = <span class="integer">16</span>,
    VK_OBJECT_TYPE_PIPELINE_LAYOUT = <span class="integer">17</span>,
    VK_OBJECT_TYPE_RENDER_PASS = <span class="integer">18</span>,
    VK_OBJECT_TYPE_PIPELINE = <span class="integer">19</span>,
    VK_OBJECT_TYPE_DESCRIPTOR_SET_LAYOUT = <span class="integer">20</span>,
    VK_OBJECT_TYPE_SAMPLER = <span class="integer">21</span>,
    VK_OBJECT_TYPE_DESCRIPTOR_POOL = <span class="integer">22</span>,
    VK_OBJECT_TYPE_DESCRIPTOR_SET = <span class="integer">23</span>,
    VK_OBJECT_TYPE_FRAMEBUFFER = <span class="integer">24</span>,
    VK_OBJECT_TYPE_COMMAND_POOL = <span class="integer">25</span>,
    VK_OBJECT_TYPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkObjectType;</code></pre>
</div>
</div>
<table id="debugging-object-types" class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 53. VkObjectType and Vulkan Handle Relationship</caption>
<colgroup>
<col style="width: 60.3448%;">
<col style="width: 39.6552%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkObjectType">VkObjectType</a></th>
<th class="tableblock halign-left valign-top">Vulkan Handle Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_UNKNOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unknown/Undefined Handle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_INSTANCE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkInstance">VkInstance</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_PHYSICAL_DEVICE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkPhysicalDevice">VkPhysicalDevice</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_DEVICE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkDevice">VkDevice</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_QUEUE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkQueue">VkQueue</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_SEMAPHORE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSemaphore">VkSemaphore</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_COMMAND_BUFFER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkCommandBuffer">VkCommandBuffer</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_FENCE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkFence">VkFence</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_DEVICE_MEMORY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkDeviceMemory">VkDeviceMemory</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_BUFFER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkBuffer">VkBuffer</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_IMAGE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkImage">VkImage</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_EVENT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkEvent">VkEvent</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_QUERY_POOL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkQueryPool">VkQueryPool</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_BUFFER_VIEW</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkBufferView">VkBufferView</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_IMAGE_VIEW</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkImageView">VkImageView</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_SHADER_MODULE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkShaderModule">VkShaderModule</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_PIPELINE_CACHE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkPipelineCache">VkPipelineCache</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_PIPELINE_LAYOUT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkPipelineLayout">VkPipelineLayout</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_RENDER_PASS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkRenderPass">VkRenderPass</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_PIPELINE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkPipeline">VkPipeline</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_DESCRIPTOR_SET_LAYOUT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_SAMPLER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkSampler">VkSampler</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_DESCRIPTOR_POOL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkDescriptorPool">VkDescriptorPool</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_DESCRIPTOR_SET</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkDescriptorSet">VkDescriptorSet</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_FRAMEBUFFER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkFramebuffer">VkFramebuffer</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_OBJECT_TYPE_COMMAND_POOL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#VkCommandPool">VkCommandPool</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="paragraph">
<p>If this Specification was generated with any such extensions included, they
will be described in the remainder of this chapter.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spirvenv"><a class="anchor" href="#spirvenv"></a>Appendix A: Vulkan Environment for SPIR-V</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Shaders for Vulkan are defined by the <a href="#spirv-spec">Khronos SPIR-V
Specification</a> as well as the <a href="#spirv-extended">Khronos SPIR-V Extended
Instructions for GLSL</a> Specification.
This appendix defines additional SPIR-V requirements applying to Vulkan
shaders.</p>
</div>
<div class="sect2">
<h3 id="_versions_and_formats"><a class="anchor" href="#_versions_and_formats"></a>Versions and Formats</h3>
<div class="paragraph">
<p>A Vulkan
1.0 implementation <strong class="purple">must</strong> support the 1.0 version
of SPIR-V and the 1.0 version of the SPIR-V Extended Instructions for GLSL.</p>
</div>
<div class="paragraph">
<p>A SPIR-V module passed into <a href="#vkCreateShaderModule">vkCreateShaderModule</a> is interpreted as a
series of 32-bit words in host endianness, with literal strings packed as
described in section 2.2 of the SPIR-V Specification.
The first few words of the SPIR-V module <strong class="purple">must</strong> be a magic number and a
SPIR-V version number, as described in section 2.3 of the SPIR-V
Specification.</p>
</div>
</div>
<div class="sect2">
<h3 id="spirvenv-capabilities"><a class="anchor" href="#spirvenv-capabilities"></a>Capabilities</h3>
<div class="paragraph">
<p>The SPIR-V capabilities listed below <strong class="purple">must</strong> be supported if the corresponding
feature or extension is enabled, or if no features or extensions are listed
for that capability.
Extensions are only listed when there is not also a feature bit associated
with that capability.</p>
</div>
<table id="spirvenv-capabilities-table" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 54. List of SPIR-V Capabilities and enabling features or extensions</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">SPIR-V <code>OpCapability</code></th>
<th class="tableblock halign-left valign-top">Vulkan feature or extension name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Matrix</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Shader</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InputAttachment</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Sampled1D</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Image1D</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SampledBuffer</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ImageBuffer</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ImageQuery</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DerivativeControl</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Geometry</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-geometryShader"><code>geometryShader</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Tessellation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-tessellationShader"><code>tessellationShader</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Float64</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderFloat64"><code>shaderFloat64</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Int64</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderInt64"><code>shaderInt64</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Int16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderInt16"><code>shaderInt16</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TessellationPointSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderTessellationAndGeometryPointSize"><code>shaderTessellationAndGeometryPointSize</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GeometryPointSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderTessellationAndGeometryPointSize"><code>shaderTessellationAndGeometryPointSize</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ImageGatherExtended</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderImageGatherExtended"><code>shaderImageGatherExtended</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StorageImageMultisample</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderStorageImageMultisample"><code>shaderStorageImageMultisample</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformBufferArrayDynamicIndexing</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderUniformBufferArrayDynamicIndexing"><code>shaderUniformBufferArrayDynamicIndexing</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SampledImageArrayDynamicIndexing</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderSampledImageArrayDynamicIndexing"><code>shaderSampledImageArrayDynamicIndexing</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StorageBufferArrayDynamicIndexing</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderStorageBufferArrayDynamicIndexing"><code>shaderStorageBufferArrayDynamicIndexing</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StorageImageArrayDynamicIndexing</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderStorageImageArrayDynamicIndexing"><code>shaderStorageImageArrayDynamicIndexing</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClipDistance</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderClipDistance"><code>shaderClipDistance</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CullDistance</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderCullDistance"><code>shaderCullDistance</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ImageCubeArray</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-imageCubeArray"><code>imageCubeArray</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SampleRateShading</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-sampleRateShading"><code>sampleRateShading</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SparseResidency</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderResourceResidency"><code>shaderResourceResidency</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MinLod</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderResourceMinLod"><code>shaderResourceMinLod</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SampledCubeArray</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-imageCubeArray"><code>imageCubeArray</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ImageMSArray</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderStorageImageMultisample"><code>shaderStorageImageMultisample</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StorageImageExtendedFormats</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InterpolationFunction</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-sampleRateShading"><code>sampleRateShading</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StorageImageReadWithoutFormat</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderStorageImageReadWithoutFormat"><code>shaderStorageImageReadWithoutFormat</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StorageImageWriteWithoutFormat</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-shaderStorageImageWriteWithoutFormat"><code>shaderStorageImageWriteWithoutFormat</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MultiViewport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#features-multiViewport"><code>multiViewport</code></a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The application <strong class="purple">must</strong> not pass a SPIR-V module containing any of the
following to <a href="#vkCreateShaderModule">vkCreateShaderModule</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>any <code>OpCapability</code> not listed above,</p>
</li>
<li>
<p>an unsupported capability, or</p>
</li>
<li>
<p>a capability which corresponds to a Vulkan feature or extension which
has not been enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="spirvenv-module-validation"><a class="anchor" href="#spirvenv-module-validation"></a>Validation Rules within a Module</h3>
<div class="paragraph">
<p>A SPIR-V module passed to <a href="#vkCreateShaderModule">vkCreateShaderModule</a> <strong class="purple">must</strong> conform to the
following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Every entry point <strong class="purple">must</strong> have no return value and accept no arguments.</p>
</li>
<li>
<p>Recursion: The static function-call graph for an entry point <strong class="purple">must</strong> not
contain cycles.</p>
</li>
<li>
<p>The <strong>Logical</strong>
addressing model <strong class="purple">must</strong> be selected.</p>
</li>
<li>
<p><strong>Scope</strong> for execution <strong class="purple">must</strong> be limited to:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Workgroup</strong></p>
<div class="ulist">
<ul>
<li>
<p>The <strong>Workgroup</strong> scope <strong class="purple">must</strong> only be used in the
tessellation control, and compute execution models.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Subgroup</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Scope</strong> for memory <strong class="purple">must</strong> be limited to:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Device</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>Device</strong> scope only extends to the queue family, not the whole device.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Workgroup</strong></p>
<div class="ulist">
<ul>
<li>
<p>The <strong>WorkGroup</strong> scope <strong class="purple">must</strong> only be used in the
compute execution model(s).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Invocation</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Storage Class</strong> <strong class="purple">must</strong> be limited to:</p>
<div class="ulist">
<ul>
<li>
<p><strong>UniformConstant</strong></p>
</li>
<li>
<p><strong>Input</strong></p>
</li>
<li>
<p><strong>Uniform</strong></p>
</li>
<li>
<p><strong>Output</strong></p>
</li>
<li>
<p><strong>Workgroup</strong></p>
<div class="ulist">
<ul>
<li>
<p>The <strong>Workgroup</strong> storage class <strong class="purple">must</strong> only be used in the
compute execution model(s).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Private</strong></p>
</li>
<li>
<p><strong>Function</strong></p>
</li>
<li>
<p><strong>PushConstant</strong></p>
</li>
<li>
<p><strong>Image</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>Memory semantics <strong class="purple">must</strong> obey the following rules:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Acquire</strong> <strong class="purple">must</strong> not be used with <code>OpAtomicStore</code>.</p>
</li>
<li>
<p><strong>Release</strong> <strong class="purple">must</strong> not be used with <code>OpAtomicLoad</code>.</p>
</li>
<li>
<p><strong>AcquireRelease</strong> <strong class="purple">must</strong> not be used with <code>OpAtomicStore</code> or
<code>OpAtomicLoad</code>.</p>
</li>
<li>
<p>Sequentially consistent atomics and barriers are not supported and
<strong>SequentiallyConsistent</strong> is treated as <strong>AcquireRelease</strong>.
<strong>SequentiallyConsistent</strong> <strong class="purple">should</strong> not be used.</p>
</li>
<li>
<p><code>OpMemoryBarrier</code> <strong class="purple">must</strong> use one of <strong>Acquire</strong>, <strong>Release</strong>,
<strong>AcquireRelease</strong>, or <strong>SequentiallyConsistent</strong> and <strong class="purple">must</strong> include at
least one storage class.</p>
</li>
<li>
<p>If the semantics for <code>OpControlBarrier</code> includes one of <strong>Acquire</strong>,
<strong>Release</strong>, <strong>AcquireRelease</strong>, or <strong>SequentiallyConsistent</strong>, then it <strong class="purple">must</strong>
include at least one storage class.</p>
</li>
<li>
<p><strong>SubgroupMemory</strong>, <strong>CrossWorkgroupMemory</strong>, and <strong>AtomicCounterMemory</strong> are
ignored.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Any <code>OpVariable</code> with an <code>Initializer</code> operand <strong class="purple">must</strong> have one of
the following as its <strong>Storage Class</strong> operand:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Output</strong></p>
</li>
<li>
<p><strong>Private</strong></p>
</li>
<li>
<p><strong>Function</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>The <code>OriginLowerLeft</code> execution mode <strong class="purple">must</strong> not be used; fragment
entry points <strong class="purple">must</strong> declare <code>OriginUpperLeft</code>.</p>
</li>
<li>
<p>The <code>PixelCenterInteger</code> execution mode <strong class="purple">must</strong> not be used.
Pixels are always centered at half-integer coordinates.</p>
</li>
<li>
<p>Any variable in the <code>UniformConstant</code> storage class <strong class="purple">must</strong> be typed as
either:</p>
<div class="ulist">
<ul>
<li>
<p><code>OpTypeImage</code></p>
</li>
<li>
<p><code>OpTypeSampler</code></p>
</li>
<li>
<p><code>OpTypeSampledImage</code></p>
</li>
<li>
<p>An array of one of these types.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Images and Samplers</p>
<div class="ulist">
<ul>
<li>
<p><code>OpTypeImage</code> <strong class="purple">must</strong> declare a scalar 32-bit float or 32-bit integer
type for the &#8220;Sampled Type&#8221;.
(<code>RelaxedPrecision</code> <strong class="purple">can</strong> be applied to a sampling instruction and to
the variable holding the result of a sampling instruction.)</p>
</li>
<li>
<p>If the <code>Sampled</code> <code>Type</code> of an <code>OpTypeImage</code> declaration does
not match the numeric format of the corresponding resource in type, as
shown in the <em>SPIR-V Sampled Type</em> column of the
<a href="#formats-numericformat">Interpretation of Numeric Format</a> table, the values obtained by reading or
sampling from the image are undefined.</p>
</li>
<li>
<p>If the signedness of any read or sample operation does not match the
signedness of the corresponding resource then the values obtained are
undefined.</p>
</li>
<li>
<p><code>OpTypeImage</code> <strong class="purple">must</strong> have a &#8220;Sampled&#8221; operand of 1 (sampled image)
or 2 (storage image).</p>
</li>
<li>
<p>If
<a href="#features-shaderStorageImageReadWithoutFormat">shaderStorageImageReadWithoutFormat</a>
is not enabled and an <code>OpTypeImage</code> has &#8220;Image Format&#8221; operand of
<code>Unknown</code>, any variables created with the given type must be
decorated with <code>NonReadable</code>.</p>
</li>
<li>
<p>If
<a href="#features-shaderStorageImageWriteWithoutFormat">shaderStorageImageWriteWithoutFormat</a>
is not enabled and an <code>OpTypeImage</code> has &#8220;Image Format&#8221; operand of
<code>Unknown</code>, any variables created with the given type must be
decorated with <code>NonWritable</code>.</p>
</li>
<li>
<p><code>OpImageQuerySizeLod</code>, and <code>OpImageQueryLevels</code> <strong class="purple">must</strong> only
consume an &#8220;Image&#8221; operand whose type has its &#8220;Sampled&#8221; operand set
to 1.</p>
</li>
<li>
<p>The <span class="eq">(u,v)</span> coordinates used for a <code>SubpassData</code> <strong class="purple">must</strong> be the
&lt;id&gt; of a constant vector <span class="eq">(0,0)</span>, or if a layer coordinate is
used, <strong class="purple">must</strong> be a vector that was formed with constant 0 for the <span class="eq">u</span>
and <span class="eq">v</span> components.</p>
</li>
<li>
<p>The &#8220;Depth&#8221; operand of <code>OpTypeImage</code> is ignored.</p>
</li>
<li>
<p>Objects of types <code>OpTypeImage</code>, <code>OpTypeSampler</code>,
<code>OpTypeSampledImage</code>, and arrays of these types <strong class="purple">must</strong> not be stored
to or modified.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Any image operation <strong class="purple">must</strong> use at most one of the <code>Offset</code>,
<code>ConstOffset</code>, and <code>ConstOffsets</code> image operands.</p>
</li>
<li>
<p>Image operand <code>Offset</code> <strong class="purple">must</strong> only be used with
<code>OpImage</code>*<code>Gather</code> instructions.</p>
</li>
<li>
<p>The &#8220;Component&#8221; operand of <code>OpImageGather</code>, and
<code>OpImageSparseGather</code> <strong class="purple">must</strong> be the &lt;id&gt; of a constant instruction.</p>
</li>
<li>
<p>Structure types <strong class="purple">must</strong> not contain opaque types.</p>
</li>
<li>
<p>Decorations</p>
<div class="ulist">
<ul>
<li>
<p>Any <code>BuiltIn</code> decoration not listed in
<a href="#interfaces-builtin-variables">Built-In Variables</a> <strong class="purple">must</strong> not be used.</p>
</li>
<li>
<p>Any <code>BuiltIn</code> decoration that corresponds only to Vulkan features or
extensions that have not been enabled <strong class="purple">must</strong> not be used.</p>
</li>
<li>
<p>The <code>GLSLShared</code> and <code>GLSLPacked</code> decorations <strong class="purple">must</strong> not be used.</p>
</li>
<li>
<p>The <code>Flat</code>, <code>NoPerspective</code>, <code>Sample</code>, and <code>Centroid</code>
decorations <strong class="purple">must</strong> not be used on variables with storage class other
than <code>Input</code> or on variables used in the interface of non-fragment
shader entry points.</p>
</li>
<li>
<p>The <code>Patch</code> decoration <strong class="purple">must</strong> not be used on variables in the
interface of a vertex, geometry, or fragment shader stage&#8217;s entry
point.</p>
</li>
<li>
<p><code>DescriptorSet</code> and <code>Binding</code> decorations <strong class="purple">must</strong> obey the
constraints on storage class, type, and descriptor type described in
<a href="#interfaces-resources-setandbinding">DescriptorSet and Binding
Assignment</a></p>
</li>
<li>
<p>Variables decorated with <code>Invariant</code> and variables with structure
types that have any members decorated with <code>Invariant</code> <strong class="purple">must</strong> be in
the <code>Output</code> or <code>Input</code> storage class.
<code>Invariant</code> used on an <code>Input</code> storage class variable or
structure member has no effect.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>OpTypeRuntimeArray</code> <strong class="purple">must</strong> only be used for:</p>
<div class="ulist">
<ul>
<li>
<p>the last member of an <code>OpTypeStruct</code>
that is in the <code>Uniform</code> storage class decorated as
<code>BufferBlock</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Specialization constants:</p>
<div class="ulist">
<ul>
<li>
<p>A type <em>T</em> that is an array sized with a specialization constant <strong class="purple">can</strong>
be, or be contained in, the type of a Variable <em>V</em> only if:</p>
<div class="ulist">
<ul>
<li>
<p><em>T</em> is the (top-level) type of <em>V</em>, or</p>
</li>
<li>
<p><em>V</em> is declared in the <code>Function</code>, <code>Private</code>, or
<code>Workgroup</code> storage classes, or</p>
</li>
<li>
<p><em>V</em> is an interface variable with an additional level of arrayness,
<a href="#interfaces-iointerfaces-matching">as described in interface
matching</a>, in which case <em>T</em> is allowed to be the element type of
the (top-level) type of <em>V</em>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Linkage: See <a href="#interfaces">Shader Interfaces</a> for additional linking and
validation rules.</p>
</li>
<li>
<p>Compute Shaders</p>
<div class="ulist">
<ul>
<li>
<p>For each compute shader entry point, either a <code>LocalSize</code> execution
mode or an object decorated with the <code>WorkgroupSize</code> decoration
<strong class="purple">must</strong> be specified.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Atomic instructions <strong class="purple">must</strong> declare a scalar 32-bit integer type,
for the value pointed to by <em>Pointer</em>.</p>
</li>
<li>
<p>The <em>Pointer</em> operand of all atomic instructions <strong class="purple">must</strong> have a <strong>Storage
Class</strong> limited to:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Uniform</strong></p>
</li>
<li>
<p><strong>Workgroup</strong></p>
</li>
<li>
<p><strong>Image</strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="spirvenv-precision-operation"><a class="anchor" href="#spirvenv-precision-operation"></a>Precision and Operation of SPIR-V Instructions</h3>
<div class="paragraph">
<p>The following rules apply to half, single, and double-precision floating
point instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Positive and negative infinities and positive and negative zeros are
generated as dictated by <a href="#ieee-754">IEEE 754</a>, but subject to the
precisions allowed in the following table.</p>
</li>
<li>
<p>Dividing a non-zero by a zero results in the appropriately signed
<a href="#ieee-754">IEEE 754</a> infinity.</p>
</li>
<li>
<p>Signaling <span class="eq">NaN</span>s are not required to be generated and exceptions
are never raised.
Signaling <span class="eq">NaN</span> <strong class="purple">may</strong> be converted to quiet <span class="eq">NaN</span>s values by
any floating point instruction.</p>
</li>
<li>
<p>By default, the implementation <strong class="purple">may</strong> perform optimizations on half,
single, or double-precision floating-point instructions that ignore sign
of a zero, or assume that arguments and results are not NaNs or
infinities.</p>
</li>
<li>
<p>The following instructions <strong class="purple">must</strong> not flush denormalized values:
<code>OpConstant</code>, <code>OpConstantComposite</code>, <code>OpSpecConstant</code>,
<code>OpSpecConstantComposite</code>, <code>OpLoad</code>, <code>OpStore</code>, <code>OpBitcast</code>,
<code>OpPhi</code>, <code>OpSelect</code>, <code>OpFunctionCall</code>, <code>OpReturnValue</code>,
<code>OpVectorExtractDynamic</code>, <code>OpVectorInsertDynamic</code>,
<code>OpVectorShuffle</code>, <code>OpCompositeConstruct</code>,
<code>OpCompositeExtract</code>, <code>OpCompositeInsert</code>, <code>OpCopyMemory</code>,
<code>OpCopyObject</code>.</p>
</li>
<li>
<p>Any denormalized value input into a shader or potentially generated by
any instruction in a shader (except those listed above) <strong class="purple">may</strong> be flushed
to 0.</p>
</li>
<li>
<p>The rounding mode <strong class="purple">cannot</strong> be set, and results will be
<a href="#spirvenv-correctly-rounded">correctly rounded</a>, as described below.</p>
</li>
<li>
<p><span class="eq">NaN</span>s <strong class="purple">may</strong> not be generated.
Instructions that operate on a <span class="eq">NaN</span> <strong class="purple">may</strong> not result in a <span class="eq">NaN</span>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The precision of double-precision instructions is at least that of single
precision.</p>
</div>
<div class="paragraph">
<p>The precision of operations is defined either in terms of rounding, as an
error bound in ULP, or as inherited from a formula as follows.</p>
</div>
<div id="spirvenv-correctly-rounded" class="paragraph">
<div class="title">Correctly Rounded</div>
<p>Operations described as &#8220;correctly rounded&#8221; will return the infinitely
precise result, <span class="eq">x</span>, rounded so as to be representable in
floating-point.
The rounding mode used is not defined but <strong class="purple">must</strong> obey the following rules.
If <span class="eq">x</span> is exactly representable then <span class="eq">x</span> will be returned.
Otherwise, either the floating-point value closest to and no less than
<span class="eq">x</span> or the value closest to and no greater than <span class="eq">x</span> will be
returned.</p>
</div>
<div class="paragraph">
<div class="title">ULP</div>
<p>Where an error bound of <span class="eq">n</span> ULP (units in the last place) is given, for
an operation with infinitely precise result <mark>x</mark> the value returned <strong class="purple">must</strong> be
in the range <span class="eq">[x - n  ulp(x), x +  n  ulp(x)]</span>.
The function <span class="eq">ulp(x)</span> is defined as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>If there exist non-equal floating-point numbers <mark>a</mark> and <mark>b</mark> such
that <span class="eq">a  x  b</span> then <span class="eq">ulp(x)</span> is the minimum possible
distance between such numbers, \(ulp(x) = \mathrm{min}_{a,b} |
b - a |\).
If such numbers do not exist then <span class="eq">ulp(x)</span> is defined to be the
difference between the two finite floating-point numbers nearest to
<span class="eq">x</span>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Where the range of allowed return values includes any value of magnitude
larger than that of the largest representable finite floating-point number,
operations <strong class="purple">may</strong>, additionally, return either an infinity of the appropriate
sign or the finite number with the largest magnitude of the appropriate
sign.
If the infinitely precise result of the operation is not mathematically
defined then the value returned is undefined.</p>
</div>
<div class="paragraph">
<div class="title">Inherited From &#8230;&#8203;</div>
<p>Where an operation&#8217;s precision is described as being inherited from a
formula, the result returned must be at least as accurate as the result of
computing an approximation to <span class="eq">x</span> using a formula equivalent to the
given formula applied to the supplied inputs.
Specifically, the formula given may be transformed using the mathematical
associativity, commutativity and distributivity of the operators involved to
yield an equivalent formula.
The SPIR-V precision rules, when applied to each such formula and the given
input values, define a range of permitted values.
If <span class="eq">NaN</span> is one of the permitted values then the operation may return
any result, otherwise let the largest permitted value in any of the ranges
be <span class="eq">F<sub>max</sub></span> and the smallest be <span class="eq">F<sub>min</sub></span>.
The operation must return a value in the range <span class="eq">[x - E, x +  E]</span>
where \(E = \mathrm{max} \left( | x - F_{\mathrm{min}} |, | x -
F_{\mathrm{max}} | \right) \).</p>
</div>
<div class="paragraph">
<p>For single precision (32 bit) instructions, precisions are <strong class="purple">required</strong> to be
at least as follows, unless decorated with RelaxedPrecision:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 55. Precision of core SPIR-V Instructions</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Instruction</th>
<th class="tableblock halign-left valign-top">Precision</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpFAdd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correctly rounded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpFSub</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correctly rounded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpFMul</code>, <code>OpVectorTimesScalar</code>, <code>OpMatrixTimesScalar</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correctly rounded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpFOrdEqual</code>, <code>OpFUnordEqual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correct result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpFOrdLessThan</code>, <code>OpFUnordLessThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correct result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpFOrdGreaterThan</code>, <code>OpFUnordGreaterThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correct result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpFOrdLessThanEqual</code>, <code>OpFUnordLessThanEqual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correct result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpFOrdGreaterThanEqual</code>, <code>OpFUnordGreaterThanEqual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correct result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpFDiv</code>(x,y)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.5 ULP for <span class="eq">|y|</span> in the range [2<sup>-126</sup>, 2<sup>126</sup>].</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conversions between types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correctly rounded.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 56. Precision of GLSL.std.450 Instructions</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Instruction</th>
<th class="tableblock halign-left valign-top">Precision</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fma</code>()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inherited from <code>OpFMul</code> followed by <code>OpFAdd</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exp</code>(x),  <code>exp2</code>(x)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">3 +  2  |x|</span> ULP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log</code>(),  <code>log2</code>()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 ULP outside the range <span class="eq">[0.5, 2.0]</span>. Absolute error &lt; <span class="eq">2<sup>-21</sup></span> inside the range <span class="eq">[0.5, 2.0]</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pow</code>(x, y)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inherited from <code>exp2</code>(y  <code>log2</code>(x)).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sqrt</code>()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inherited from 1.0 / <code>inversesqrt</code>().</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>inversesqrt</code>()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 ULP.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GLSL.std.450 extended instructions specifically defined in terms of the
above instructions inherit the above errors.
GLSL.std.450 extended instructions not listed above and not defined in terms
of the above have undefined precision.</p>
</div>
<div class="paragraph">
<p>For the <code>OpSRem</code> and <code>OpSMod</code> instructions, if either operand is
negative the result is undefined.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>While the <code>OpSRem</code> and <code>OpSMod</code> instructions are supported by the
Vulkan environment, they require non-negative values and thus do not enable
additional functionality beyond what <code>OpUMod</code> provides.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="spirvenv-image-formats"><a class="anchor" href="#spirvenv-image-formats"></a>Compatibility Between SPIR-V Image Formats And Vulkan Formats</h3>
<div class="paragraph">
<p>Images which are read from or written to by shaders <strong class="purple">must</strong> have SPIR-V image
formats compatible with the Vulkan image formats backing the image under the
circumstances described for <a href="#textures-operation-validation">texture image
validation</a>.
The compatibile formats are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 57. SPIR-V and Vulkan Image Format Compatibility</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">SPIR-V Image Format</th>
<th class="tableblock halign-left valign-top">Compatible Vulkan Format</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba32f</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba16f</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R32f</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba8Snorm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg32f</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg16f</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R11fG11fB10f</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_B10G11R11_UFLOAT_PACK32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R16f</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_SFLOAT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgb10A2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_UNORM_PACK32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8_UNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba16Snorm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg16Snorm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg8Snorm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R16Snorm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R8Snorm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8_SNORM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba32i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba16i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba8i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R32i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg32i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg16i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg8i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R16i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R8i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8_SINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba32ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32B32A32_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba16ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16B16A16_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgba8ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8B8A8_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R32ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rgb10a2ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_A2B10G10R10_UINT_PACK32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg32ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R32G32_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg16ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16G16_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rg8ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8G8_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R16ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R16_UINT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R8ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_R8_UINT</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compressed_image_formats"><a class="anchor" href="#_compressed_image_formats"></a>Appendix B: Compressed Image Formats</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The compressed texture formats used by Vulkan are described in the
specifically identified sections of the <a href="#data-format">Khronos Data Format
Specification</a>, version 1.3.</p>
</div>
<div class="paragraph">
<p>Unless otherwise described, the quantities encoded in these compressed
formats are treated as normalized, unsigned values.</p>
</div>
<div class="paragraph">
<p>Those formats listed as sRGB-encoded have in-memory representations of
<span class="eq">R</span>, <span class="eq">G</span> and <span class="eq">B</span> components which are nonlinearly-encoded as
<span class="eq">R'</span>, <span class="eq">G'</span>, and <span class="eq">B'</span>; any alpha component is unchanged.
As part of filtering, the nonlinear <span class="eq">R'</span>, <span class="eq">G'</span>, and <span class="eq">B'</span> values
are converted to linear <span class="eq">R</span>, <span class="eq">G</span>, and <span class="eq">B</span> components; any alpha
component is unchanged.
The conversion between linear and nonlinear encoding is performed as
described in the &#8220;KHR_DF_TRANSFER_SRGB&#8221; section of the Khronos Data Format
Specification.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="appendix-compressedtex-bc"><a class="anchor" href="#appendix-compressedtex-bc"></a>Block-Compressed Image Formats</h3>
<div class="paragraph">
<p>BC1, BC2 and BC3 formats are described in &#8220;S3TC Compressed Texture Image
Formats&#8221; chapter of the <a href="#data-format">Khronos Data Format Specification</a>.
BC4 and BC5 are described in the &#8220;RGTC Compressed Texture Image Formats&#8221;
chapter.
BC6H and BC7 are described in the &#8220;BPTC Compressed Texture Image Formats&#8221;
chapter.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 58. Mapping of Vulkan BC formats to descriptions</caption>
<colgroup>
<col style="width: 55.5555%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkFormat">VkFormat</a></th>
<th class="tableblock halign-left valign-top"><a href="#data-format">Khronos Data Format Specification</a> description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">Formats described in the &#8220;S3TC Compressed Texture Image Formats&#8221; chapter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC1_RGB_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC1 with no alpha</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC1_RGB_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC1 with no alpha, sRGB-encoded</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC1_RGBA_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC1 with alpha</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC1_RGBA_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC1 with alpha, sRGB-encoded</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC2_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC2_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC2, sRGB-encoded</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC3_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC3_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC3, sRGB-encoded</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">Formats described in the &#8220;RGTC Compressed Texture Image Formats&#8221; chapter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC4 unsigned</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC4_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC4 signed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC5 unsigned</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC5_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC5 signed</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">Formats described in the &#8220;BPTC Compressed Texture Image Formats&#8221; chapter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC6H_UFLOAT_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC6H (unsigned version)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC6H_SFLOAT_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC6H (signed version)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC7_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_BC7_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BC7, sRGB-encoded</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="appendix-compressedtex-etc2"><a class="anchor" href="#appendix-compressedtex-etc2"></a>ETC Compressed Image Formats</h3>
<div class="paragraph">
<p>The following formats are described in the &#8220;ETC2 Compressed Texture Image
Formats&#8221; chapter of the <a href="#data-format">Khronos Data Format Specification</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 59. Mapping of Vulkan ETC formats to descriptions</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkFormat">VkFormat</a></th>
<th class="tableblock halign-left valign-top"><a href="#data-format">Khronos Data Format Specification</a> description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RGB ETC2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RGB ETC2 with sRGB encoding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RGB ETC2 with punch-through alpha</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RGB ETC2 with punch-through alpha and sRGB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RGBA ETC2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RGBA ETC2 with sRGB encoding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_EAC_R11_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsigned R11 EAC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_EAC_R11_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signed R11 EAC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_EAC_R11G11_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsigned RG11 EAC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_EAC_R11G11_SNORM_BLOCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signed RG11 EAC</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="appendix-compressedtex-astc"><a class="anchor" href="#appendix-compressedtex-astc"></a>ASTC Compressed Image Formats</h3>
<div class="paragraph">
<p>ASTC formats are described in the &#8220;ASTC Compressed Texture Image Formats&#8221;
chapter of the <a href="#data-format">Khronos Data Format Specification</a>.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 60. Mapping of Vulkan ASTC formats to descriptions</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 15%;">
<col style="width: 20%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="#VkFormat">VkFormat</a></th>
<th class="tableblock halign-center valign-top">Compressed texel block dimensions</th>
<th class="tableblock halign-center valign-top">sRGB-encoded</th>
<th class="tableblock halign-center valign-top">Profile</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_4x4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">4  4</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_4x4_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">4  4</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_5x4_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">5  4</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_5x4_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">5  4</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_5x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">5  5</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_5x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">5  5</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_6x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">6  5</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_6x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">6  5</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_6x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">6  6</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_6x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">6  6</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">8  5</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">8  5</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">8  6</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">8  6</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">8  8</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_8x8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">8  8</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x5_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">10  5</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x5_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">10  5</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x6_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">10  6</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x6_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">10  6</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x8_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">10  8</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x8_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">10  8</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x10_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">10  10</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_10x10_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">10  10</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_12x10_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">12  10</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_12x10_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">12  10</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_12x12_UNORM_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">12  12</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_FORMAT_ASTC_12x12_SRGB_BLOCK</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="eq">12  12</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LDR</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The ASTC decode mode is decode_float16.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="versions"><a class="anchor" href="#versions"></a>Appendix C: Core Revisions (Informative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>New minor versions of the Vulkan API are defined periodically by the Khronos
Vulkan Working Group.
These consist of some amount of additional functionality added to the core
API, potentially including both new functionality and functionality
<a href="#extendingvulkan-compatibility-promotion">promoted</a> from extensions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extensions"><a class="anchor" href="#extensions"></a>Appendix D: Layers &amp; Extensions (Informative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Extensions to the Vulkan API <strong class="purple">can</strong> be defined by authors, groups of authors,
and the Khronos Vulkan Working Group.
In order not to compromise the readability of the Vulkan Specification, the
core Specification does not incorporate most extensions.
The online Registry of extensions is available at URL</p>
</div>
<div class="paragraph">
<p><a href="https://www.khronos.org/registry/vulkan/" class="bare">https://www.khronos.org/registry/vulkan/</a></p>
</div>
<div class="paragraph">
<p>and allows generating versions of the Specification incorporating different
extensions.</p>
</div>
<div class="paragraph">
<p>Most of the content previously in this appendix does not specify <strong>use</strong> of
specific Vulkan extensions and layers, but rather specifies the processes by
which extensions and layers are created.
As of version 1.0.21 of the Vulkan Specification, this content has been
migrated to the <a href="#vulkan-styleguide">Vulkan Documentation and Extensions</a>
document.
Authors creating extensions and layers <strong class="purple">must</strong> follow the mandatory procedures
in that document.</p>
</div>
<div class="paragraph">
<p>The remainder of this appendix documents a set of extensions chosen when
this document was built.
Versions of the Specification published in the Registry include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Core API + mandatory extensions required of all Vulkan implementations.</p>
</li>
<li>
<p>Core API + all registered and published Khronos (<code>KHR</code>) extensions.</p>
</li>
<li>
<p>Core API + all registered and published extensions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Extensions are grouped as Khronos <code>KHR</code>, multivendor <code>EXT</code>, and then
alphabetically by author ID.
Within each group, extensions are listed in alphabetical order by their
name.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>As of the initial Vulkan 1.1 public release, the <code>KHX</code> author ID is no
longer used.
All <code>KHX</code> extensions have been promoted to <code>KHR</code> status.
Previously, this author ID was used to indicate that an extension was
experimental, and is being considered for standardization in future <code>KHR</code> or
core Vulkan API versions.
We no longer use this mechanism for exposing experimental functionality.</p>
</div>
<div class="paragraph">
<p>Some vendors may use an alternate author ID ending in <code>X</code> for some of their
extensions.
The exact meaning of such an author ID is defined by each vendor, and may
not be equivalent to <code>KHX</code>, but it is likely to indicate a lesser degree of
interface stability than a non-<code>X</code> extension from the same vendor.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="extension-appendices-list"><a class="anchor" href="#extension-appendices-list"></a>List of Extensions</h3>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="boilerplate"><a class="anchor" href="#boilerplate"></a>Appendix E: API Boilerplate</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This appendix defines Vulkan API features that are infrastructure required
for a complete functional description of Vulkan, but do not logically belong
elsewhere in the Specification.</p>
</div>
<div class="sect2">
<h3 id="boilerplate-headers"><a class="anchor" href="#boilerplate-headers"></a>Vulkan Header Files</h3>
<div class="paragraph">
<p>Vulkan is defined as an API in the C99 language.
Khronos provides a corresponding set of header files for applications using
the API, which may be used in either C or C++ code.
The interface descriptions in the specification are the same as the
interfaces defined in these header files, and both are derived from the
<code>vk.xml</code> XML API Registry, which is the canonical machine-readable
description of the Vulkan API.
The Registry, scripts used for processing it into various forms, and
documentation of the registry schema are available as described at
<a href="https://www.khronos.org/registry/vulkan/#apiregistry" class="bare">https://www.khronos.org/registry/vulkan/#apiregistry</a> .</p>
</div>
<div class="paragraph">
<p>Language bindings for other languages can be defined using the information
in the Specification and the Registry.
Khronos does not provide any such bindings, but third-party developers have
created some additional bindings.</p>
</div>
<div class="sect3">
<h4 id="boilerplate-vulkan-h"><a class="anchor" href="#boilerplate-vulkan-h"></a>Vulkan Combined API Header <code>vulkan.h</code> (Informative)</h4>
<div class="paragraph">
<p>Applications normally will include the header <code>vulkan.h</code>.
In turn, <code>vulkan.h</code> always includes the following headers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#boilerplate-platform-macros"><code>vk_platform.h</code></a>, defining
platform-specific macros and headers.</p>
</li>
<li>
<p><a href="#boilerplate-vulkan-core"><code>vulkan_core.h</code></a>, defining APIs for the
Vulkan core and all registered extensions <em>other</em> than
<a href="#boilerplate-wsi-header">window system-specific</a> and
<a href="#boilerplate-provisional-header">provisional</a> extensions, which are
included in separate header files.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition, specific preprocessor macros defined at the time <code>vulkan.h</code> is
included cause header files for the corresponding window system-specific and
provisional interfaces to be included, as described below.</p>
</div>
</div>
<div class="sect3">
<h4 id="boilerplate-platform-macros"><a class="anchor" href="#boilerplate-platform-macros"></a>Vulkan Platform-Specific Header <code>vk_platform.h</code> (Informative)</h4>
<div class="paragraph">
<p>Platform-specific macros and interfaces are defined in <code>vk_platform.h</code>.
These macros are used to control platform-dependent behavior, and their
exact definitions are under the control of specific platforms and Vulkan
implementations.</p>
</div>
<div class="sect4">
<h5 id="boilerplate-platform-specific-calling-conventions"><a class="anchor" href="#boilerplate-platform-specific-calling-conventions"></a>Platform-Specific Calling Conventions</h5>
<div class="paragraph">
<p>On many platforms the following macros are empty strings, causing platform-
and compiler-specific default calling conventions to be used.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VKAPI_ATTR</code> is a macro placed before the return type in Vulkan API
function declarations.
This macro controls calling conventions for C++11 and GCC/Clang-style
compilers.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VKAPI_CALL</code> is a macro placed after the return type in Vulkan API
function declarations.
This macro controls calling conventions for MSVC-style compilers.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VKAPI_PTR</code> is a macro placed between the '(' and '*' in Vulkan API
function pointer declarations.
This macro also controls calling conventions, and typically has the same
definition as <code>VKAPI_ATTR</code> or <code>VKAPI_CALL</code>, depending on the
compiler.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>With these macros, a Vulkan function declaration takes the form of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VKAPI_ATTR &lt;return_type&gt; VKAPI_CALL &lt;command_name&gt;(&lt;command_parameters&gt;);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Additionally, a Vulkan function pointer type declaration takes the form of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> &lt;return_type&gt; (VKAPI_PTR *PFN_&lt;command_name&gt;)(&lt;command_parameters&gt;);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="boilerplate-platform-specific-header-control"><a class="anchor" href="#boilerplate-platform-specific-header-control"></a>Platform-Specific Header Control</h5>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>VK_NO_STDINT_H</code> macro is defined by the application at compile
time, extended integer types used by the Vulkan API, such as <code>uint8_t</code>,
<strong class="purple">must</strong> also be defined by the application.
Otherwise, the Vulkan headers will not compile.
If <code>VK_NO_STDINT_H</code> is not defined, the system <code>&lt;stdint.h&gt;</code> is used to
define these types.
There is a fallback path when Microsoft Visual Studio version 2008 and
earlier versions are detected at compile time.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="boilerplate-vulkan-core"><a class="anchor" href="#boilerplate-vulkan-core"></a>Vulkan Core API Header <code>vulkan_core.h</code></h4>
<div class="paragraph">
<p>Applications that do not make use of window system-specific extensions may
simply include <code>vulkan_core.h</code> instead of <code>vulkan.h</code>, although there is
usually no reason to do so.
In addition to the Vulkan API, <code>vulkan_core.h</code> also defines a small number
of C preprocessor macros that are described below.</p>
</div>
<div class="sect4">
<h5 id="_vulkan_header_file_version_number"><a class="anchor" href="#_vulkan_header_file_version_number"></a>Vulkan Header File Version Number</h5>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_HEADER_VERSION</code> is the version number of the <code>vulkan_core.h</code> header.
This value is kept synchronized with the patch version of the released
Specification.</p>
</div>
<div id="VK_HEADER_VERSION" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Version of this file</span>
<span class="preprocessor">#define</span> VK_HEADER_VERSION <span class="integer">135</span></code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_HEADER_VERSION_COMPLETE</code> is the complete version number of the
<code>vulkan_core.h</code> header, comprising the major, minor, and patch versions.
The major/minor values are kept synchronized with the complete version of
the released Specification.
This value is intended for use by automated tools to identify exactly which
version of the header was used during their generation.</p>
</div>
<div class="paragraph">
<p>Applications should not use this value as their
<a href="#VkApplicationInfo">VkApplicationInfo</a>::<code>apiVersion</code>.
Instead applications should explicitly select a specific fixed major/minor
API version using, for example, one of the <code>VK_API_VERSION_</code>*_* values.</p>
</div>
<div id="VK_HEADER_VERSION_COMPLETE" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Complete version of this file</span>
<span class="preprocessor">#define</span> VK_HEADER_VERSION_COMPLETE VK_MAKE_VERSION(<span class="integer">1</span>, <span class="integer">2</span>, VK_HEADER_VERSION)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_API_VERSION</code> is now commented out of <code>vulkan_core.h</code> and <strong class="purple">cannot</strong> be
used.</p>
</div>
<div id="VK_API_VERSION" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// DEPRECATED: This define has been removed. Specific version defines (e.g. VK_API_VERSION_1_0), or the VK_MAKE_VERSION macro, should be used instead.</span>
<span class="comment">//#define VK_API_VERSION VK_MAKE_VERSION(1, 0, 0) // Patch version should always be set to 0</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_vulkan_handle_macros"><a class="anchor" href="#_vulkan_handle_macros"></a>Vulkan Handle Macros</h5>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_DEFINE_HANDLE</code> defines a <a href="#fundamentals-objectmodel-overview">dispatchable handle</a> type.</p>
</div>
<div id="VK_DEFINE_HANDLE" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="preprocessor">#define</span> VK_DEFINE_HANDLE(object) <span class="keyword">typedef</span> <span class="keyword">struct</span> object<span class="preprocessor">#</span><span class="preprocessor">#_T</span>* object;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>object</code> is the name of the resulting C type.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The only dispatchable handle types are those related to device and instance
management, such as <a href="#VkDevice">VkDevice</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_DEFINE_NON_DISPATCHABLE_HANDLE</code> defines a
<a href="#fundamentals-objectmodel-overview">non-dispatchable handle</a> type.</p>
</div>
<div id="VK_DEFINE_NON_DISPATCHABLE_HANDLE" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="preprocessor">#if</span> !defined(VK_DEFINE_NON_DISPATCHABLE_HANDLE)
<span class="preprocessor">#if</span> defined(__LP64__) || defined(_WIN64) || (defined(__x86_64__) &amp;&amp; !defined(__ILP32__) ) || defined(_M_X64) || defined(__ia64) || defined (_M_IA64) || defined(__aarch64__) || defined(__powerpc64__)
        <span class="preprocessor">#define</span> VK_DEFINE_NON_DISPATCHABLE_HANDLE(object) <span class="keyword">typedef</span> <span class="keyword">struct</span> object<span class="preprocessor">#</span><span class="preprocessor">#_T</span> *object;
<span class="preprocessor">#else</span>
        <span class="preprocessor">#define</span> VK_DEFINE_NON_DISPATCHABLE_HANDLE(object) <span class="keyword">typedef</span> uint64_t object;
<span class="preprocessor">#endif</span>
<span class="preprocessor">#endif</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>object</code> is the name of the resulting C type.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Most Vulkan handle types, such as <a href="#VkBuffer">VkBuffer</a>, are non-dispatchable.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>vulkan_core.h</code> header allows the
<code>VK_DEFINE_NON_DISPATCHABLE_HANDLE</code> definition to be overridden by the
application.
If <code>VK_DEFINE_NON_DISPATCHABLE_HANDLE</code> is already defined when
<code>vulkan_core.h</code> is compiled, the default definition is skipped.
This allows the application to define a binary-compatible custom handle
which <strong class="purple">may</strong> provide more type-safety or other features needed by the
application.
Applications <strong class="purple">must</strong> not define handles in a way that is not binary compatible
- where binary compatibility is platform dependent.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VK_NULL_HANDLE</code> is a reserved value representing a non-valid object
handle.
It may be passed to and returned from Vulkan commands only when
<a href="#fundamentals-validusage-handles">specifically allowed</a>.</p>
</div>
<div id="VK_NULL_HANDLE" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="preprocessor">#define</span> VK_NULL_HANDLE <span class="integer">0</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="boilerplate-wsi-header"><a class="anchor" href="#boilerplate-wsi-header"></a>Window System-Specific Header Control (Informative)</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To use a Vulkan extension supporting a platform-specific window system,
header files for that window systems <strong class="purple">must</strong> be included at compile time, or
platform-specific types <strong class="purple">must</strong> be forward-declared.
The Vulkan header files cannot determine whether or not an external header
is available at compile time, so platform-specific extensions are provided
in separate headers from the core API and platform-independent extensions,
allowing applications to decide which ones should be defined and how the
external headers are included.</p>
</div>
<div class="paragraph">
<p>Extensions dependent on particular sets of platform headers, or that
forward-declare platform-specific types, are declared in a header named for
that platform.
Before including these platform-specific Vulkan headers, applications <strong class="purple">must</strong>
include both <code>vulkan_core.h</code> and any external native headers the platform
extensions depend on.</p>
</div>
<div class="paragraph">
<p>As a convenience for applications that do not need the flexibility of
separate platform-specific Vulkan headers, <code>vulkan.h</code> includes
<code>vulkan_core.h</code>, and then conditionally includes platform-specific Vulkan
headers and the external headers they depend on.
Applications control which platform-specific headers are included by
#defining macros before including <code>vulkan.h</code>.</p>
</div>
<div class="paragraph">
<p>The correspondence between platform-specific extensions, external headers
they require, the platform-specific header which declares them, and the
preprocessor macros which enable inclusion by <code>vulkan.h</code> are shown in the
<a href="#boilerplate-wsi-header-table">following table</a>.</p>
</div>
<table id="boilerplate-wsi-header-table" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 61. Window System Extensions and Headers</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension Name</th>
<th class="tableblock halign-left valign-top">Window System Name</th>
<th class="tableblock halign-left valign-top">Platform-specific Header</th>
<th class="tableblock halign-left valign-top">Required External Headers</th>
<th class="tableblock halign-left valign-top">Controlling <code>vulkan.h</code> Macro</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#VK_KHR_android_surface">[VK_KHR_android_surface]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Android</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vulkan_android.h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_USE_PLATFORM_ANDROID_KHR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#VK_KHR_wayland_surface">[VK_KHR_wayland_surface]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wayland</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vulkan_wayland.h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;wayland-client.h&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_USE_PLATFORM_WAYLAND_KHR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#VK_KHR_win32_surface">[VK_KHR_win32_surface]</a></code>,
  <code><a href="#VK_KHR_external_memory_win32">[VK_KHR_external_memory_win32]</a></code>,
  <code><a href="#VK_KHR_win32_keyed_mutex">[VK_KHR_win32_keyed_mutex]</a></code>,
  <code><a href="#VK_KHR_external_semaphore_win32">[VK_KHR_external_semaphore_win32]</a></code>,
  <code><a href="#VK_KHR_external_fence_win32">[VK_KHR_external_fence_win32]</a></code>,</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Microsoft Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vulkan_win32.h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;windows.h&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_USE_PLATFORM_WIN32_KHR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#VK_KHR_xcb_surface">[VK_KHR_xcb_surface]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X11 Xcb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vulkan_xcb.h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;xcb/xcb.h&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_USE_PLATFORM_XCB_KHR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#VK_KHR_xlib_surface">[VK_KHR_xlib_surface]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X11 Xlib</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vulkan_xlib.h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;X11/Xlib.h&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_USE_PLATFORM_XLIB_KHR</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This section describes the purpose of the headers independently of the
specific underlying functionality of the window system extensions
themselves.
Each extension name will only link to a description of that extension when
viewing a specification built with that extension included.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="boilerplate-provisional-header"><a class="anchor" href="#boilerplate-provisional-header"></a>Provisional Extension Header Control (Informative)</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><em>Provisional</em> extensions <strong class="purple">should</strong> not be used in production applications.
The functionality defined by such extensions <strong class="purple">may</strong> change in ways that break
backwards compatibility between revisions, and before final release of a
non-provisional version of that extension.</p>
</div>
<div class="paragraph">
<p>Provisional extensions are defined in a separate <em>provisional header</em>,
<code>vulkan_beta.h</code>, allowing applications to decide whether or not to include
them.
The mechanism is similar to <a href="#boilerplate-wsi-header">window system-specific
headers</a>: before including <code>vulkan_beta.h</code>, applications <strong class="purple">must</strong> include
<code>vulkan_core.h</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Sometimes a provisional extension will include a subset of its interfaces in
<code>vulkan_core.h</code>.
This may occur if the provisional extension is promoted from an existing
vendor or EXT extension and some of the existing interfaces are defined as
aliases of the provisional extension interfaces.
All other interfaces of that provisional extension which are not aliased
will be included in <code>vulkan_beta.h</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As a convenience for applications, <code>vulkan.h</code> conditionally includes
<code>vulkan_beta.h</code>.
Applications <strong class="purple">can</strong> control inclusion of <code>vulkan_beta.h</code> by #defining the
macro <code>VK_ENABLE_BETA_EXTENSIONS</code> before including <code>vulkan.h</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This section describes the purpose of the provisional header independently
of the specific provisional extensions which are contained in that header at
any given time.
The extension appendices for provisional extensions note their provisional
status, and link back to this section for more information.
Provisional extensions are intended to provide early access for
bleeding-edge developers, with the understanding that extension interfaces
may change in response to developer feedback.
Provisional extensions are very likely to eventually be updated and released
as non-provisional extensions, but there is no guarantee this will happen,
or how long it will take if it does happen.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="invariance"><a class="anchor" href="#invariance"></a>Appendix F: Invariance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Vulkan specification is not pixel exact.
It therefore does not guarantee an exact match between images produced by
different Vulkan implementations.
However, the specification does specify exact matches, in some cases, for
images produced by the same implementation.
The purpose of this appendix is to identify and provide justification for
those cases that require exact matches.</p>
</div>
<div class="sect2">
<h3 id="_repeatability"><a class="anchor" href="#_repeatability"></a>Repeatability</h3>
<div class="paragraph">
<p>The obvious and most fundamental case is repeated issuance of a series of
Vulkan commands.
For any given Vulkan and framebuffer state vector, and for any Vulkan
command, the resulting Vulkan and framebuffer state <strong class="purple">must</strong> be identical
whenever the command is executed on that initial Vulkan and framebuffer
state.
This repeatability requirement does not apply when using shaders containing
side effects (image and buffer variable stores and atomic operations),
because these memory operations are not guaranteed to be processed in a
defined order.</p>
</div>
<div class="paragraph">
<p>One purpose of repeatability is avoidance of visual artifacts when a
double-buffered scene is redrawn.
If rendering is not repeatable, swapping between two buffers rendered with
the same command sequence <strong class="purple">may</strong> result in visible changes in the image.
Such false motion is distracting to the viewer.
Another reason for repeatability is testability.</p>
</div>
<div class="paragraph">
<p>Repeatability, while important, is a weak requirement.
Given only repeatability as a requirement, two scenes rendered with one
(small) polygon changed in position might differ at every pixel.
Such a difference, while within the law of repeatability, is certainly not
within its spirit.
Additional invariance rules are desirable to ensure useful operation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_multi_pass_algorithms"><a class="anchor" href="#_multi_pass_algorithms"></a>Multi-pass Algorithms</h3>
<div class="paragraph">
<p>Invariance is necessary for a whole set of useful multi-pass algorithms.
Such algorithms render multiple times, each time with a different Vulkan
mode vector, to eventually produce a result in the framebuffer.
Examples of these algorithms include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#8220;Erasing&#8221; a primitive from the framebuffer by redrawing it, either in
a different color or using the XOR logical operation.</p>
</li>
<li>
<p>Using stencil operations to compute capping planes.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_invariance_rules"><a class="anchor" href="#_invariance_rules"></a>Invariance Rules</h3>
<div class="paragraph">
<p>For a given Vulkan device:</p>
</div>
<div class="paragraph">
<p><strong>Rule 1</strong> <em>For any given Vulkan and framebuffer state vector, and for any
given Vulkan command, the resulting Vulkan and framebuffer state <strong class="purple">must</strong> be
identical each time the command is executed on that initial Vulkan and
framebuffer state.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 2</strong> <em>Changes to the following state values have no side effects (the
use of any other state value is not affected by the change):</em></p>
</div>
<div class="paragraph">
<p><strong>Required:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Color and depth/stencil attachment contents</em></p>
</li>
<li>
<p><em>Scissor parameters (other than enable)</em></p>
</li>
<li>
<p><em>Write masks (color, depth, stencil)</em></p>
</li>
<li>
<p><em>Clear values (color, depth, stencil)</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Strongly suggested:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Stencil parameters (other than enable)</em></p>
</li>
<li>
<p><em>Depth test parameters (other than enable)</em></p>
</li>
<li>
<p><em>Blend parameters (other than enable)</em></p>
</li>
<li>
<p><em>Logical operation parameters (other than enable)</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Corollary 1</strong> <em>Fragment generation is invariant with respect to the state
values listed in Rule 2.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 3</strong> <em>The arithmetic of each per-fragment operation is invariant except
with respect to parameters that directly control it.</em></p>
</div>
<div class="paragraph">
<p><strong>Corollary 2</strong> <em>Images rendered into different color attachments of the same
framebuffer, either simultaneously or separately using the same command
sequence, are pixel identical.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 4</strong> <em>Identical pipelines will produce the same result when run multiple
times with the same input.
The wording &#8220;Identical pipelines&#8221; means <a href="#VkPipeline">VkPipeline</a> objects that have
been created with identical SPIR-V binaries and identical state, which are
then used by commands executed using the same Vulkan state vector.
Invariance is relaxed for shaders with side effects, such as performing
stores or atomics.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 5</strong> <em>All fragment shaders that either conditionally or unconditionally
assign</em> <code>FragCoord.z</code> <em>to</em> <code>FragDepth</code> <em>are depth-invariant with
respect to each other, for those fragments where the assignment to</em>
<code>FragDepth</code> <em>actually is done.</em></p>
</div>
<div class="paragraph">
<p>If a sequence of Vulkan commands specifies primitives to be rendered with
shaders containing side effects (image and buffer variable stores and atomic
operations), invariance rules are relaxed.
In particular, rule 1, corollary 2, and rule 4 do not apply in the presence
of shader side effects.</p>
</div>
<div class="paragraph">
<p>The following weaker versions of rules 1 and 4 apply to Vulkan commands
involving shader side effects:</p>
</div>
<div class="paragraph">
<p><strong>Rule 6</strong> <em>For any given Vulkan and framebuffer state vector, and for any
given Vulkan command, the contents of any framebuffer state not directly or
indirectly affected by results of shader image or buffer variable stores or
atomic operations <strong class="purple">must</strong> be identical each time the command is executed on
that initial Vulkan and framebuffer state.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 7</strong> <em>Identical pipelines will produce the same result when run multiple
times with the same input as long as:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>shader invocations do not use image atomic operations;</em></p>
</li>
<li>
<p><em>no framebuffer memory is written to more than once by image stores,
unless all such stores write the same value; and</em></p>
</li>
<li>
<p><em>no shader invocation, or other operation performed to process the
sequence of commands, reads memory written to by an image store.</em></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The OpenGL spec has the following invariance rule: Consider a primitive p'
obtained by translating a primitive p through an offset (x, y) in window
coordinates, where x and y are integers.
As long as neither p' nor p is clipped, it <strong class="purple">must</strong> be the case that each
fragment f' produced from p' is identical to a corresponding fragment f from
p except that the center of f' is offset by (x, y) from the center of f.</p>
</div>
<div class="paragraph">
<p>This rule does not apply to Vulkan and is an intentional difference from
OpenGL.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When any sequence of Vulkan commands triggers shader invocations that
perform image stores or atomic operations, and subsequent Vulkan commands
read the memory written by those shader invocations, these operations <strong class="purple">must</strong>
be explicitly synchronized.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tessellation_invariance"><a class="anchor" href="#_tessellation_invariance"></a>Tessellation Invariance</h3>
<div class="paragraph">
<p>When using a pipeline containing tessellation evaluation shaders, the
fixed-function tessellation primitive generator consumes the input patch
specified by an application and emits a new set of primitives.
The following invariance rules are intended to provide repeatability
guarantees.
Additionally, they are intended to allow an application with a carefully
crafted tessellation evaluation shader to ensure that the sets of triangles
generated for two adjacent patches have identical vertices along shared
patch edges, avoiding &#8220;cracks&#8221; caused by minor differences in the
positions of vertices along shared edges.</p>
</div>
<div class="paragraph">
<p><strong>Rule 1</strong> <em>When processing two patches with identical outer and inner
tessellation levels, the tessellation primitive generator will emit an
identical set of point, line, or triangle primitives as long as the pipeline
used to process the patch primitives has tessellation evaluation shaders
specifying the same tessellation mode, spacing, vertex order, and point mode
decorations.
Two sets of primitives are considered identical if and only if they contain
the same number and type of primitives and the generated tessellation
coordinates for the vertex numbered m of the primitive numbered n are
identical for all values of m and n.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 2</strong> <em>The set of vertices generated along the outer edge of the
subdivided primitive in triangle and quad tessellation, and the tessellation
coordinates of each, depends only on the corresponding outer tessellation
level and the spacing decorations in the tessellation shaders of the
pipeline.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 3</strong> <em>The set of vertices generated when subdividing any outer primitive
edge is always symmetric.
For triangle tessellation, if the subdivision generates a vertex with
tessellation coordinates of the form (0, x, 1-x), (x, 0, 1-x), or (x, 1-x,
0), it will also generate a vertex with coordinates of exactly (0, 1-x, x),
(1-x, 0, x), or (1-x, x, 0), respectively.
For quad tessellation, if the subdivision generates a vertex with
coordinates of (x, 0) or (0, x), it will also generate a vertex with
coordinates of exactly (1-x, 0) or (0, 1-x), respectively.
For isoline tessellation, if it generates vertices at (0, x) and (1, x)
where x is not zero, it will also generate vertices at exactly (0, 1-x) and
(1, 1-x), respectively.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 4</strong> <em>The set of vertices generated when subdividing outer edges in
triangular and quad tessellation <strong class="purple">must</strong> be independent of the specific edge
subdivided, given identical outer tessellation levels and spacing.
For example, if vertices at (x, 1 - x, 0) and (1-x, x, 0) are generated when
subdividing the w = 0 edge in triangular tessellation, vertices <strong class="purple">must</strong> be
generated at (x, 0, 1-x) and (1-x, 0, x) when subdividing an otherwise
identical v = 0 edge.
For quad tessellation, if vertices at (x, 0) and (1-x, 0) are generated when
subdividing the v = 0 edge, vertices <strong class="purple">must</strong> be generated at (0, x) and (0,
1-x) when subdividing an otherwise identical u = 0 edge.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 5</strong> <em>When processing two patches that are identical in all respects
enumerated in rule 1 except for vertex order, the set of triangles generated
for triangle and quad tessellation <strong class="purple">must</strong> be identical except for vertex and
triangle order.
For each triangle n1 produced by processing the first patch, there <strong class="purple">must</strong> be
a triangle n2 produced when processing the second patch each of whose
vertices has the same tessellation coordinates as one of the vertices in
n1.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 6</strong> <em>When processing two patches that are identical in all respects
enumerated in rule 1 other than matching outer tessellation levels and/or
vertex order, the set of interior triangles generated for triangle and quad
tessellation <strong class="purple">must</strong> be identical in all respects except for vertex and
triangle order.
For each interior triangle n1 produced by processing the first patch, there
<strong class="purple">must</strong> be a triangle n2 produced when processing the second patch each of
whose vertices has the same tessellation coordinates as one of the vertices
in n1.
A triangle produced by the tessellator is considered an interior triangle if
none of its vertices lie on an outer edge of the subdivided primitive.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 7</strong> <em>For quad and triangle tessellation, the set of triangles
connecting an inner and outer edge depends only on the inner and outer
tessellation levels corresponding to that edge and the spacing decorations.</em></p>
</div>
<div class="paragraph">
<p><strong>Rule 8</strong> <em>The value of all defined components of</em> <code>TessCoord</code> <em>will be in
the range [0, 1].
Additionally, for any defined component x of</em> <code>TessCoord</code>, <em>the results
of computing 1.0-x in a tessellation evaluation shader will be exact.
If any floating-point values in the range [0, 1] fail to satisfy this
property, such values <strong class="purple">must</strong> not be used as tessellation coordinate
components.</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="anchor" href="#glossary"></a>Glossary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The terms defined in this section are used consistently throughout this
Specification and may be used with or without capitalization.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Accessible (Descriptor Binding)</dt>
<dd>
<p>A descriptor binding is accessible to a shader stage if that stage is
included in the <code>stageFlags</code> of the descriptor binding.
Descriptors using that binding <strong class="purple">can</strong> only be used by stages in which they
are accessible.</p>
</dd>
<dt class="hdlist1">Acquire Operation (Resource)</dt>
<dd>
<p>An operation that acquires ownership of an image subresource or buffer
range.</p>
</dd>
<dt class="hdlist1">Adjacent Vertex</dt>
<dd>
<p>A vertex in an adjacency primitive topology that is not part of a given
primitive, but is accessible in geometry shaders.</p>
</dd>
<dt class="hdlist1">Alias (API type/command)</dt>
<dd>
<p>An identical definition of another API type/command with the same
behavior but a different name.</p>
</dd>
<dt class="hdlist1">Aliased Range (Memory)</dt>
<dd>
<p>A range of a device memory allocation that is bound to multiple
resources simultaneously.</p>
</dd>
<dt class="hdlist1">Allocation Scope</dt>
<dd>
<p>An association of a host memory allocation to a parent object or
command, where the allocation&#8217;s lifetime ends before or at the same time
as the parent object is freed or destroyed, or during the parent
command.</p>
</dd>
<dt class="hdlist1">Aspect (Image)</dt>
<dd>
<p>An image <strong class="purple">may</strong> contain multiple kinds, or aspects, of data for each
pixel, where each aspect is used in a particular way by the pipeline and
<strong class="purple">may</strong> be stored differently or separately from other aspects.
For example, the color components of an image format make up the color
aspect of the image, and <strong class="purple">may</strong> be used as a framebuffer color attachment.
Some operations, like depth testing, operate only on specific aspects of
an image.
Others operations, like image/buffer copies, only operate on one aspect
at a time.</p>
</dd>
<dt class="hdlist1">Attachment (Render Pass)</dt>
<dd>
<p>A zero-based integer index name used in render pass creation to refer to
a framebuffer attachment that is accessed by one or more subpasses.
The index also refers to an attachment description which includes
information about the properties of the image view that will later be
attached.</p>
</dd>
<dt class="hdlist1">Availability Operation</dt>
<dd>
<p>An operation that causes the values generated by specified memory write
accesses to become available for future access.</p>
</dd>
<dt class="hdlist1">Available</dt>
<dd>
<p>A state of values written to memory that allows them to be made visible.</p>
</dd>
<dt class="hdlist1">Back-Facing</dt>
<dd>
<p>See Facingness.</p>
</dd>
<dt class="hdlist1">Batch</dt>
<dd>
<p>A single structure submitted to a queue as part of a
<a href="#devsandqueues-submission">queue submission command</a>, describing a set
of queue operations to execute.</p>
</dd>
<dt class="hdlist1">Backwards Compatibility</dt>
<dd>
<p>A given version of the API is backwards compatible with an earlier
version if an application, relying only on valid behavior and
functionality defined by the earlier specification, is able to correctly
run against each version without any modification.
This assumes no active attempt by that application to not run when it
detects a different version.</p>
</dd>
<dt class="hdlist1">Binary Semaphore</dt>
<dd>
<p>A semaphore with a boolean payload indicating whether the semaphore is
signaled or unsignaled.
Represented by a <a href="#VkSemaphore">VkSemaphore</a> object
.</p>
</dd>
<dt class="hdlist1">Full Compatibility</dt>
<dd>
<p>A given version of the API is fully compatible with another version if
an application, relying only on valid behavior and functionality defined
by either of those specifications, is able to correctly run against each
version without any modification.
This assumes no active attempt by that application to not run when it
detects a different version.</p>
</dd>
<dt class="hdlist1">Binding (Memory)</dt>
<dd>
<p>An association established between a range of a resource object and a
range of a memory object.
These associations determine the memory locations affected by operations
performed on elements of a resource object.
Memory bindings are established using the <a href="#vkBindBufferMemory">vkBindBufferMemory</a>
command for non-sparse buffer objects, using the <a href="#vkBindImageMemory">vkBindImageMemory</a>
command for non-sparse image objects, and using the
<a href="#vkQueueBindSparse">vkQueueBindSparse</a> command for sparse resources.</p>
</dd>
<dt class="hdlist1">Blend Constant</dt>
<dd>
<p>Four floating point (RGBA) values used as an input to blending.</p>
</dd>
<dt class="hdlist1">Blending</dt>
<dd>
<p>Arithmetic operations between a fragment color value and a value in a
color attachment that produce a final color value to be written to the
attachment.</p>
</dd>
<dt class="hdlist1">Buffer</dt>
<dd>
<p>A resource that represents a linear array of data in device memory.
Represented by a <a href="#VkBuffer">VkBuffer</a> object.</p>
</dd>
<dt class="hdlist1">Buffer View</dt>
<dd>
<p>An object that represents a range of a specific buffer, and state that
controls how the contents are interpreted.
Represented by a <a href="#VkBufferView">VkBufferView</a> object.</p>
</dd>
<dt class="hdlist1">Built-In Variable</dt>
<dd>
<p>A variable decorated in a shader, where the decoration makes the
variable take values provided by the execution environment or values
that are generated by fixed-function pipeline stages.</p>
</dd>
<dt class="hdlist1">Built-In Interface Block</dt>
<dd>
<p>A block defined in a shader that contains only variables decorated with
built-in decorations, and is used to match against other shader stages.</p>
</dd>
<dt class="hdlist1">Clip Coordinates</dt>
<dd>
<p>The homogeneous coordinate space that vertex positions (<code>Position</code>
decoration) are written in by vertex processing stages.</p>
</dd>
<dt class="hdlist1">Clip Distance</dt>
<dd>
<p>A built-in output from vertex processing stages that defines a clip
half-space against which the primitive is clipped.</p>
</dd>
<dt class="hdlist1">Clip Volume</dt>
<dd>
<p>The intersection of the view volume with all clip half-spaces.</p>
</dd>
<dt class="hdlist1">Color Attachment</dt>
<dd>
<p>A subpass attachment point, or image view, that is the target of
fragment color outputs and blending.</p>
</dd>
<dt class="hdlist1">Color Renderable Format</dt>
<dd>
<p>A <a href="#VkFormat">VkFormat</a> where <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> is
set in one of the following, depending on the image&#8217;s tiling:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#VkImageFormatProperties">VkImageFormatProperties</a>::<code>linearTilingFeatures</code></p>
</li>
<li>
<p><a href="#VkImageFormatProperties">VkImageFormatProperties</a>::<code>optimalTilingFeatures</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Color Sample Mask</dt>
<dd>
<p>A bitfield associated with a fragment, with one bit for each sample in
the color attachment(s).
Samples are considered to be covered based on the result of the Coverage
Reduction stage.
Uncovered samples do not write to color attachments.</p>
</dd>
<dt class="hdlist1">Combined Image Sampler</dt>
<dd>
<p>A descriptor type that includes both a sampled image and a sampler.</p>
</dd>
<dt class="hdlist1">Command Buffer</dt>
<dd>
<p>An object that records commands to be submitted to a queue.
Represented by a <a href="#VkCommandBuffer">VkCommandBuffer</a> object.</p>
</dd>
<dt class="hdlist1">Command Pool</dt>
<dd>
<p>An object that command buffer memory is allocated from, and that owns
that memory.
Command pools aid multithreaded performance by enabling different
threads to use different allocators, without internal synchronization on
each use.
Represented by a <a href="#VkCommandPool">VkCommandPool</a> object.</p>
</dd>
<dt class="hdlist1">Compatible Allocator</dt>
<dd>
<p>When allocators are compatible, allocations from each allocator <strong class="purple">can</strong> be
freed by the other allocator.</p>
</dd>
<dt class="hdlist1">Compatible Image Formats</dt>
<dd>
<p>When formats are compatible, images created with one of the formats <strong class="purple">can</strong>
have image views created from it using any of the compatible formats.
Also see <em>Size-Compatible Image Formats</em>.</p>
</dd>
<dt class="hdlist1">Compatible Queues</dt>
<dd>
<p>Queues within a queue family.
Compatible queues have identical properties.</p>
</dd>
<dt class="hdlist1">Complete Mipmap Chain</dt>
<dd>
<p>The entire set of miplevels that can be provided for an image, from the
largest application specified miplevel size down to the <em>minimum
miplevel size</em>.
See <a href="#resources-image-miplevel-sizing">Image Miplevel Sizing</a>.</p>
</dd>
<dt class="hdlist1">Component (Format)</dt>
<dd>
<p>A distinct part of a format.
Depth, stencil, and color channels (e.g. R, G, B, A), are all separate
components.</p>
</dd>
<dt class="hdlist1">Compressed Texel Block</dt>
<dd>
<p>An element of an image having a block-compressed format, comprising a
rectangular block of texel values that are encoded as a single value in
memory.
Compressed texel blocks of a particular block-compressed format have a
corresponding width, height, and depth that define the dimensions of
these elements in units of texels, and a size in bytes of the encoding
in memory.</p>
</dd>
<dt class="hdlist1">Constant Integral Expressions</dt>
<dd>
<p>A SPIR-V constant instruction whose type is <code>OpTypeInt</code>.
See <em>Constant Instruction</em> in section 2.2.1 &#8220;Instructions&#8221; of the
<a href="#spirv-spec">Khronos SPIR-V Specification</a>.</p>
</dd>
<dt class="hdlist1">Coverage</dt>
<dd>
<p>A bitfield associated with a fragment, where each bit is associated to a
rasterization sample.
Samples are initially considered to be covered based on the result of
rasterization, and then coverage can subsequently be turned on or off by
other fragment operations or the fragment shader.
Uncovered samples do not write to framebuffer attachments.</p>
</dd>
<dt class="hdlist1">Cull Distance</dt>
<dd>
<p>A built-in output from vertex processing stages that defines a cull
half-space where the primitive is rejected if all vertices have a
negative value for the same cull distance.</p>
</dd>
<dt class="hdlist1">Cull Volume</dt>
<dd>
<p>The intersection of the view volume with all cull half-spaces.</p>
</dd>
<dt class="hdlist1">Decoration (SPIR-V)</dt>
<dd>
<p>Auxiliary information such as built-in variables, stream numbers,
invariance, interpolation type, relaxed precision, etc., added to
variables or structure-type members through decorations.</p>
</dd>
<dt class="hdlist1">Deprecated (feature)</dt>
<dd>
<p>A feature is deprecated if it is no longer recommended as the correct or
best way to achieve its intended purpose.</p>
</dd>
<dt class="hdlist1">Depth/Stencil Attachment</dt>
<dd>
<p>A subpass attachment point, or image view, that is the target of depth
and/or stencil test operations and writes.</p>
</dd>
<dt class="hdlist1">Depth/Stencil Format</dt>
<dd>
<p>A <a href="#VkFormat">VkFormat</a> that includes depth and/or stencil components.</p>
</dd>
<dt class="hdlist1">Depth/Stencil Image (or ImageView)</dt>
<dd>
<p>A <a href="#VkImage">VkImage</a> (or <a href="#VkImageView">VkImageView</a>) with a depth/stencil format.</p>
</dd>
<dt class="hdlist1">Derivative Group</dt>
<dd>
<p>A set of fragment
shader invocations that cooperate to compute derivatives, including
implicit derivatives for sampled image operations.</p>
</dd>
<dt class="hdlist1">Descriptor</dt>
<dd>
<p>Information about a resource or resource view written into a descriptor
set that is used to access the resource or view from a shader.</p>
</dd>
<dt class="hdlist1">Descriptor Binding</dt>
<dd>
<p>An entry in a descriptor set layout corresponding to zero or more
descriptors of a single descriptor type in a set.
Defined by a <a href="#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> structure.</p>
</dd>
<dt class="hdlist1">Descriptor Pool</dt>
<dd>
<p>An object that descriptor sets are allocated from, and that owns the
storage of those descriptor sets.
Descriptor pools aid multithreaded performance by enabling different
threads to use different allocators, without internal synchronization on
each use.
Represented by a <a href="#VkDescriptorPool">VkDescriptorPool</a> object.</p>
</dd>
<dt class="hdlist1">Descriptor Set</dt>
<dd>
<p>An object that resource descriptors are written into via the API, and
that <strong class="purple">can</strong> be bound to a command buffer such that the descriptors
contained within it <strong class="purple">can</strong> be accessed from shaders.
Represented by a <a href="#VkDescriptorSet">VkDescriptorSet</a> object.</p>
</dd>
<dt class="hdlist1">Descriptor Set Layout</dt>
<dd>
<p>An object that defines the set of resources (types and counts) and their
relative arrangement (in the binding namespace) within a descriptor set.
Used when allocating descriptor sets and when creating pipeline layouts.
Represented by a <a href="#VkDescriptorSetLayout">VkDescriptorSetLayout</a> object.</p>
</dd>
<dt class="hdlist1">Device</dt>
<dd>
<p>The processor(s) and execution environment that perform tasks requested
by the application via the Vulkan API.</p>
</dd>
<dt class="hdlist1">Device Memory</dt>
<dd>
<p>Memory accessible to the device.
Represented by a <a href="#VkDeviceMemory">VkDeviceMemory</a> object.</p>
</dd>
<dt class="hdlist1">Device-Level Command</dt>
<dd>
<p>Any command that is dispatched from a logical device, or from a child
object of a logical device.</p>
</dd>
<dt class="hdlist1">Device-Level Functionality</dt>
<dd>
<p>All device-level commands and objects, and their structures, enumerated
types, and enumerants.</p>
</dd>
<dt class="hdlist1">Device-Level Object</dt>
<dd>
<p>Logical device objects and their child objects.
For example, <a href="#VkDevice">VkDevice</a>, <a href="#VkQueue">VkQueue</a>, and <a href="#VkCommandBuffer">VkCommandBuffer</a>
objects are device-level objects.</p>
</dd>
<dt class="hdlist1">Device-Local Memory</dt>
<dd>
<p>Memory that is connected to the device, and <strong class="purple">may</strong> be more performant for
device access than host-local memory.</p>
</dd>
<dt class="hdlist1">Direct Drawing Commands</dt>
<dd>
<p><em>Drawing commands</em> that take all their parameters as direct arguments to
the command (and not sourced via structures in buffer memory as the
<em>indirect drawing commands</em>).
Includes
<a href="#vkCmdDraw">vkCmdDraw</a>, and <a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a>.</p>
</dd>
<dt class="hdlist1">Dispatchable Handle</dt>
<dd>
<p>A handle of a pointer handle type which <strong class="purple">may</strong> be used by layers as part
of intercepting API commands.
The first argument to each Vulkan command is a dispatchable handle type.</p>
</dd>
<dt class="hdlist1">Dispatching Commands</dt>
<dd>
<p>Commands that provoke work using a compute pipeline.
Includes <a href="#vkCmdDispatch">vkCmdDispatch</a> and <a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a>.</p>
</dd>
<dt class="hdlist1">Drawing Commands</dt>
<dd>
<p>Commands that provoke work using a graphics pipeline.
Includes <a href="#vkCmdDraw">vkCmdDraw</a>, <a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a>,
<a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a>, and <a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a>.</p>
</dd>
<dt class="hdlist1">Duration (Command)</dt>
<dd>
<p>The <em>duration</em> of a Vulkan command refers to the interval between
calling the command and its return to the caller.</p>
</dd>
<dt class="hdlist1">Dynamic Storage Buffer</dt>
<dd>
<p>A storage buffer whose offset is specified each time the storage buffer
is bound to a command buffer via a descriptor set.</p>
</dd>
<dt class="hdlist1">Dynamic Uniform Buffer</dt>
<dd>
<p>A uniform buffer whose offset is specified each time the uniform buffer
is bound to a command buffer via a descriptor set.</p>
</dd>
<dt class="hdlist1">Dynamically Uniform</dt>
<dd>
<p>See <em>Dynamically Uniform</em> in section 2.2 &#8220;Terms&#8221; of the
<a href="#spirv-spec">Khronos SPIR-V Specification</a>.</p>
</dd>
<dt class="hdlist1">Element</dt>
<dd>
<p>Arrays are composed of multiple elements, where each element exists at a
unique index within that array.
Used primarily to describe data passed to or returned from the Vulkan
API.</p>
</dd>
<dt class="hdlist1">Explicitly-Enabled Layer</dt>
<dd>
<p>A layer enabled by the application by adding it to the enabled layer
list in <a href="#vkCreateInstance">vkCreateInstance</a> or <a href="#vkCreateDevice">vkCreateDevice</a>.</p>
</dd>
<dt class="hdlist1">Event</dt>
<dd>
<p>A synchronization primitive that is signaled when execution of previous
commands complete through a specified set of pipeline stages.
Events can be waited on by the device and polled by the host.
Represented by a <a href="#VkEvent">VkEvent</a> object.</p>
</dd>
<dt class="hdlist1">Executable State (Command Buffer)</dt>
<dd>
<p>A command buffer that has ended recording commands and <strong class="purple">can</strong> be executed.
See also Initial State and Recording State.</p>
</dd>
<dt class="hdlist1">Execution Dependency</dt>
<dd>
<p>A dependency that guarantees that certain pipeline stages&#8217; work for a
first set of commands has completed execution before certain pipeline
stages&#8217; work for a second set of commands begins execution.
This is accomplished via pipeline barriers, subpass dependencies,
events, or implicit ordering operations.</p>
</dd>
<dt class="hdlist1">Execution Dependency Chain</dt>
<dd>
<p>A sequence of execution dependencies that transitively act as a single
execution dependency.</p>
</dd>
<dt class="hdlist1">Extension Scope</dt>
<dd>
<p>The set of objects and commands that <strong class="purple">can</strong> be affected by an extension.
Extensions are either device scope or instance scope.</p>
</dd>
<dt class="hdlist1">External synchronization</dt>
<dd>
<p>A type of synchronization <strong class="purple">required</strong> of the application, where parameters
defined to be externally synchronized <strong class="purple">must</strong> not be used simultaneously
in multiple threads.</p>
</dd>
<dt class="hdlist1">Facingness (Polygon)</dt>
<dd>
<p>A classification of a polygon as either front-facing or back-facing,
depending on the orientation (winding order) of its vertices.</p>
</dd>
<dt class="hdlist1">Facingness (Fragment)</dt>
<dd>
<p>A fragment is either front-facing or back-facing, depending on the
primitive it was generated from.
If the primitive was a polygon (regardless of polygon mode), the
fragment inherits the facingness of the polygon.
All other fragments are front-facing.</p>
</dd>
<dt class="hdlist1">Fence</dt>
<dd>
<p>A synchronization primitive that is signaled when a set of batches or
sparse binding operations complete execution on a queue.
Fences <strong class="purple">can</strong> be waited on by the host.
Represented by a <a href="#VkFence">VkFence</a> object.</p>
</dd>
<dt class="hdlist1">Flat Shading</dt>
<dd>
<p>A property of a vertex attribute that causes the value from a single
vertex (the provoking vertex) to be used for all vertices in a
primitive, and for interpolation of that attribute to return that single
value unaltered.</p>
</dd>
<dt class="hdlist1">Fragment</dt>
<dd>
<p>A rectangular framebuffer region with associated data produced by
<a href="#primsrast">rasterization</a> and processed by <a href="#fragops">fragment
operations</a> including the fragment shader.</p>
</dd>
</dl>
</div>
<div id="glossary-fragment-area" class="dlist">
<dl>
<dt class="hdlist1">Fragment Area</dt>
<dd>
<p>The width and height, in pixels, of a fragment.</p>
</dd>
<dt class="hdlist1">Fragment Input Attachment Interface</dt>
<dd>
<p>Variables with <code>UniformConstant</code> storage class and a decoration of
<code>InputAttachmentIndex</code> that are statically used by a fragment
shader&#8217;s entry point, which receive values from input attachments.</p>
</dd>
<dt class="hdlist1">Fragment Output Interface</dt>
<dd>
<p>A fragment shader entry point&#8217;s variables with <code>Output</code> storage
class, which output to color and/or depth/stencil attachments.</p>
</dd>
<dt class="hdlist1">Framebuffer</dt>
<dd>
<p>A collection of image views and a set of dimensions that, in conjunction
with a render pass, define the inputs and outputs used by drawing
commands.
Represented by a <a href="#VkFramebuffer">VkFramebuffer</a> object.</p>
</dd>
<dt class="hdlist1">Framebuffer Attachment</dt>
<dd>
<p>One of the image views used in a framebuffer.</p>
</dd>
<dt class="hdlist1">Framebuffer Coordinates</dt>
<dd>
<p>A coordinate system in which adjacent pixels&#8217; coordinates differ by 1
in x and/or y, with <span class="eq">(0,0)</span> in the upper left corner and pixel
centers at half-integers.</p>
</dd>
<dt class="hdlist1">Framebuffer-Space</dt>
<dd>
<p>Operating with respect to framebuffer coordinates.</p>
</dd>
<dt class="hdlist1">Framebuffer-Local</dt>
<dd>
<p>A framebuffer-local dependency guarantees that only for a single
framebuffer region, the first set of operations happens-before the
second set of operations.</p>
</dd>
<dt class="hdlist1">Framebuffer-Global</dt>
<dd>
<p>A framebuffer-global dependency guarantees that for all framebuffer
regions, the first set of operations happens-before the second set of
operations.</p>
</dd>
<dt class="hdlist1">Framebuffer Region</dt>
<dd>
<p>A framebuffer region is a set of sample (x, y, layer, sample)
coordinates that is a subset of the entire framebuffer.</p>
</dd>
<dt class="hdlist1">Front-Facing</dt>
<dd>
<p>See Facingness.</p>
</dd>
<dt class="hdlist1">Global Workgroup</dt>
<dd>
<p>A collection of local workgroups dispatched by a single dispatch
command.</p>
</dd>
<dt class="hdlist1">Handle</dt>
<dd>
<p>An opaque integer or pointer value used to refer to a Vulkan object.
Each object type has a unique handle type.</p>
</dd>
<dt class="hdlist1">Happen-after, happens-after</dt>
<dd>
<p>A transitive, irreflexive and antisymmetric ordering relation between
operations.
An execution dependency with a source of <strong>A</strong> and a destination of <strong>B</strong>
enforces that <strong>B</strong> happens-after <strong>A</strong>.
The inverse relation of happens-before.</p>
</dd>
<dt class="hdlist1">Happen-before, happens-before</dt>
<dd>
<p>A transitive, irreflexive and antisymmetric ordering relation between
operations.
An execution dependency with a source of <strong>A</strong> and a destination of <strong>B</strong>
enforces that <strong>A</strong> happens-before <strong>B</strong>.
The inverse relation of happens-after.</p>
</dd>
<dt class="hdlist1">Helper Invocation</dt>
<dd>
<p>A fragment shader invocation that is created solely for the purposes of
evaluating derivatives for use in non-helper fragment shader
invocations, and which does not have side effects.</p>
</dd>
<dt class="hdlist1">Host</dt>
<dd>
<p>The processor(s) and execution environment that the application runs on,
and that the Vulkan API is exposed on.</p>
</dd>
<dt class="hdlist1">Host Mapped Device Memory</dt>
<dd>
<p>Device memory that is mapped for host access using <a href="#vkMapMemory">vkMapMemory</a>.</p>
</dd>
<dt class="hdlist1">Host Memory</dt>
<dd>
<p>Memory not accessible to the device, used to store implementation data
structures.</p>
</dd>
<dt class="hdlist1">Host-Accessible Subresource</dt>
<dd>
<p>A buffer, or a linear image subresource in either the
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> or <code>VK_IMAGE_LAYOUT_GENERAL</code>
layout.
Host-accessible subresources have a well-defined addressing scheme which
can be used by the host.</p>
</dd>
<dt class="hdlist1">Host-Local Memory</dt>
<dd>
<p>Memory that is not local to the device, and <strong class="purple">may</strong> be less performant for
device access than device-local memory.</p>
</dd>
<dt class="hdlist1">Host-Visible Memory</dt>
<dd>
<p>Device memory that <strong class="purple">can</strong> be mapped on the host and <strong class="purple">can</strong> be read and
written by the host.</p>
</dd>
<dt class="hdlist1">Identically Defined Objects</dt>
<dd>
<p>Objects of the same type where all arguments to their creation or
allocation functions, with the exception of <code>pAllocator</code>, are<br></p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Vulkan handles which refer to the same object or</p>
</li>
<li>
<p>identical scalar or enumeration values or</p>
</li>
<li>
<p>Host pointers which point to an array of values or structures which
also satisfy these three constraints.</p>
</li>
</ol>
</div>
</dd>
<dt class="hdlist1">Image</dt>
<dd>
<p>A resource that represents a multi-dimensional formatted interpretation
of device memory.
Represented by a <a href="#VkImage">VkImage</a> object.</p>
</dd>
<dt class="hdlist1">Image Subresource</dt>
<dd>
<p>A specific mipmap level and layer of an image.</p>
</dd>
<dt class="hdlist1">Image Subresource Range</dt>
<dd>
<p>A set of image subresources that are contiguous mipmap levels and
layers.</p>
</dd>
<dt class="hdlist1">Image View</dt>
<dd>
<p>An object that represents an image subresource range of a specific
image, and state that controls how the contents are interpreted.
Represented by a <a href="#VkImageView">VkImageView</a> object.</p>
</dd>
<dt class="hdlist1">Immutable Sampler</dt>
<dd>
<p>A sampler descriptor provided at descriptor set layout creation time,
and that is used for that binding in all descriptor sets allocated from
the layout, and cannot be changed.</p>
</dd>
<dt class="hdlist1">Implicitly-Enabled Layer</dt>
<dd>
<p>A layer enabled by a loader-defined mechanism outside the Vulkan API,
rather than explicitly by the application during instance or device
creation.</p>
</dd>
<dt class="hdlist1">Index Buffer</dt>
<dd>
<p>A buffer bound via <a href="#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a> which is the source of
index values used to fetch vertex attributes for a
<a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a> or <a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a> command.</p>
</dd>
<dt class="hdlist1">Indexed Drawing Commands</dt>
<dd>
<p><em>Drawing commands</em> which use an <em>index buffer</em> as the source of index
values used to fetch vertex attributes for a drawing command.
Includes <a href="#vkCmdDrawIndexed">vkCmdDrawIndexed</a>,
and <a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a>.</p>
</dd>
<dt class="hdlist1">Indirect Commands</dt>
<dd>
<p>Drawing or dispatching commands that source some of their parameters
from structures in buffer memory.
Includes <a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a>, <a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a>,
and <a href="#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a>.</p>
</dd>
<dt class="hdlist1">Indirect Drawing Commands</dt>
<dd>
<p><em>Drawing commands</em> that source some of their parameters from structures
in buffer memory.
Includes <a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a>,
and <a href="#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a>.</p>
</dd>
<dt class="hdlist1">Initial State (Command Buffer)</dt>
<dd>
<p>A command buffer that has not begun recording commands.
See also Recorded State and Executable State.</p>
</dd>
<dt class="hdlist1">Input Attachment</dt>
<dd>
<p>A descriptor type that represents an image view, and supports unfiltered
read-only access in a shader, only at the fragment&#8217;s location in the
view.</p>
</dd>
<dt class="hdlist1">Instance</dt>
<dd>
<p>The top-level Vulkan object, which represents the application&#8217;s
connection to the implementation.
Represented by a <a href="#VkInstance">VkInstance</a> object.</p>
</dd>
<dt class="hdlist1">Instance-Level Command</dt>
<dd>
<p>Any command that is dispatched from an instance, or from a child object
of an instance, except for physical devices and their children.</p>
</dd>
<dt class="hdlist1">Instance-Level Functionality</dt>
<dd>
<p>All instance-level commands and objects, and their structures,
enumerated types, and enumerants.</p>
</dd>
<dt class="hdlist1">Instance-Level Object</dt>
<dd>
<p>High-level Vulkan objects, which are not physical devices, nor children
of physical devices.
For example, <a href="#VkInstance">VkInstance</a> is an instance-level object.</p>
</dd>
<dt class="hdlist1">Internal Synchronization</dt>
<dd>
<p>A type of synchronization <strong class="purple">required</strong> of the implementation, where
parameters not defined to be externally synchronized <strong class="purple">may</strong> require
internal mutexing to avoid multithreaded race conditions.</p>
</dd>
<dt class="hdlist1">Invocation (Shader)</dt>
<dd>
<p>A single execution of an entry point in a SPIR-V module.
For example, a single vertex&#8217;s execution of a vertex shader or a single
fragment&#8217;s execution of a fragment shader.</p>
</dd>
<dt class="hdlist1">Invocation Group</dt>
<dd>
<p>A set of shader invocations that are executed in parallel and that <strong class="purple">must</strong>
execute the same control flow path in order for control flow to be
considered dynamically uniform.</p>
</dd>
</dl>
</div>
<div id="glossary-linear-resource" class="dlist">
<dl>
<dt class="hdlist1">Linear Resource</dt>
<dd>
<p>A resource is <em>linear</em> if it is one of the following:</p>
<div class="ulist">
<ul>
<li>
<p>a <a href="#VkBuffer">VkBuffer</a></p>
</li>
<li>
<p>a <a href="#VkImage">VkImage</a> created with <code>VK_IMAGE_TILING_LINEAR</code></p>
<div class="paragraph">
<p>A resource is <em>non-linear</em> if it is one of the following:</p>
</div>
</li>
<li>
<p>a <a href="#VkImage">VkImage</a> created with <code>VK_IMAGE_TILING_OPTIMAL</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Local Workgroup</dt>
<dd>
<p>A collection of compute shader invocations invoked by a single dispatch
command, which share data via <code>WorkgroupLocal</code> variables and can
synchronize with each other.</p>
</dd>
<dt class="hdlist1">Logical Device</dt>
<dd>
<p>An object that represents the application&#8217;s interface to the physical
device.
The logical device is the parent of most Vulkan objects.
Represented by a <a href="#VkDevice">VkDevice</a> object.</p>
</dd>
<dt class="hdlist1">Logical Operation</dt>
<dd>
<p>Bitwise operations between a fragment color value and a value in a color
attachment, that produce a final color value to be written to the
attachment.</p>
</dd>
<dt class="hdlist1">Lost Device</dt>
<dd>
<p>A state that a logical device <strong class="purple">may</strong> be in as a result of unrecoverable
implementation errors, or other exceptional conditions.</p>
</dd>
<dt class="hdlist1">Mappable</dt>
<dd>
<p>See Host-Visible Memory.</p>
</dd>
<dt class="hdlist1">Memory Dependency</dt>
<dd>
<p>A memory dependency is an execution dependency which includes
availability and visibility operations such that:</p>
<div class="ulist">
<ul>
<li>
<p>The first set of operations happens-before the availability operation</p>
</li>
<li>
<p>The availability operation happens-before the visibility operation</p>
</li>
<li>
<p>The visibility operation happens-before the second set of operations</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Memory Domain</dt>
<dd>
<p>A memory domain is an abstract place to which memory writes are made
available by availability operations and memory domain operations.
The memory domains correspond to the set of agents that the write <strong class="purple">can</strong>
then be made visible to.
The memory domains are <em>host</em>, <em>device</em>, <em>shader</em>, <em>workgroup instance</em>
(for workgroup instance there is a unique domain for each compute
workgroup) and <em>subgroup instance</em> (for subgroup instance there is a
unique domain for each subgroup).</p>
</dd>
<dt class="hdlist1">Memory Domain Operation</dt>
<dd>
<p>An operation that makes the writes that are available to one memory
domain available to another memory domain.</p>
</dd>
<dt class="hdlist1">Memory Heap</dt>
<dd>
<p>A region of memory from which device memory allocations <strong class="purple">can</strong> be made.</p>
</dd>
<dt class="hdlist1">Memory Type</dt>
<dd>
<p>An index used to select a set of memory properties (e.g. mappable,
cached) for a device memory allocation.</p>
</dd>
<dt class="hdlist1">Minimum Miplevel Size</dt>
<dd>
<p>The smallest size that is permitted for a miplevel.
For conventional images this is 1x1x1.
See <a href="#resources-image-miplevel-sizing">Image Miplevel Sizing</a>.</p>
</dd>
<dt class="hdlist1">Mip Tail Region</dt>
<dd>
<p>The set of mipmap levels of a sparse residency texture that are too
small to fill a sparse block, and that <strong class="purple">must</strong> all be bound to memory
collectively and opaquely.</p>
</dd>
<dt class="hdlist1">Non-Dispatchable Handle</dt>
<dd>
<p>A handle of an integer handle type.
Handle values <strong class="purple">may</strong> not be unique, even for two objects of the same type.</p>
</dd>
<dt class="hdlist1">Non-Indexed Drawing Commands</dt>
<dd>
<p><em>Drawing commands</em> for which the vertex attributes are sourced in linear
order from the vertex input attributes for a drawing command (i.e. they
do not use an <em>index buffer</em>).
Includes <a href="#vkCmdDraw">vkCmdDraw</a>,
and <a href="#vkCmdDrawIndirect">vkCmdDrawIndirect</a>.</p>
</dd>
<dt class="hdlist1">Normalized</dt>
<dd>
<p>A value that is interpreted as being in the range <span class="eq">[0,1]</span> as a
result of being implicitly divided by some other value.</p>
</dd>
<dt class="hdlist1">Normalized Device Coordinates</dt>
<dd>
<p>A coordinate space after perspective division is applied to clip
coordinates, and before the viewport transformation converts to
framebuffer coordinates.</p>
</dd>
<dt class="hdlist1">Obsoleted (feature)</dt>
<dd>
<p>A feature is obsolete if it can no longer be used.</p>
</dd>
<dt class="hdlist1">Overlapped Range (Aliased Range)</dt>
<dd>
<p>The aliased range of a device memory allocation that intersects a given
image subresource of an image or range of a buffer.</p>
</dd>
<dt class="hdlist1">Ownership (Resource)</dt>
<dd>
<p>If an entity (e.g. a queue family) has ownership of a resource, access
to that resource is well-defined for access by that entity.</p>
</dd>
<dt class="hdlist1">Packed Format</dt>
<dd>
<p>A format whose components are stored as a single texel block in memory,
with their relative locations defined within that element.</p>
</dd>
<dt class="hdlist1">Physical Device</dt>
<dd>
<p>An object that represents a single device in the system.
Represented by a <a href="#VkPhysicalDevice">VkPhysicalDevice</a> object.</p>
</dd>
<dt class="hdlist1">Physical-Device-Level Command</dt>
<dd>
<p>Any command that is dispatched from a physical device.</p>
</dd>
<dt class="hdlist1">Physical-Device-Level Functionality</dt>
<dd>
<p>All physical-device-level commands and objects, and their structures,
enumerated types, and enumerants.</p>
</dd>
<dt class="hdlist1">Physical-Device-Level Object</dt>
<dd>
<p>Physical device objects.
For example, <a href="#VkPhysicalDevice">VkPhysicalDevice</a> is a physical-device-level object.</p>
</dd>
<dt class="hdlist1">Pipeline</dt>
<dd>
<p>An object that controls how graphics or compute work is executed on the
device.
A pipeline includes one or more shaders, as well as state controlling
any non-programmable stages of the pipeline.
Represented by a <a href="#VkPipeline">VkPipeline</a> object.</p>
</dd>
<dt class="hdlist1">Pipeline Barrier</dt>
<dd>
<p>An execution and/or memory dependency recorded as an explicit command in
a command buffer, that forms a dependency between the previous and
subsequent commands.</p>
</dd>
<dt class="hdlist1">Pipeline Cache</dt>
<dd>
<p>An object that <strong class="purple">can</strong> be used to collect and retrieve information from
pipelines as they are created, and <strong class="purple">can</strong> be populated with previously
retrieved information in order to accelerate pipeline creation.
Represented by a <a href="#VkPipelineCache">VkPipelineCache</a> object.</p>
</dd>
<dt class="hdlist1">Pipeline Layout</dt>
<dd>
<p>An object that defines the set of resources (via a collection of
descriptor set layouts) and push constants used by pipelines that are
created using the layout.
Used when creating a pipeline and when binding descriptor sets and
setting push constant values.
Represented by a <a href="#VkPipelineLayout">VkPipelineLayout</a> object.</p>
</dd>
<dt class="hdlist1">Pipeline Stage</dt>
<dd>
<p>A logically independent execution unit that performs some of the
operations defined by an action command.</p>
</dd>
<dt class="hdlist1"><code>pNext</code> Chain</dt>
<dd>
<p>A set of structures <a href="#fundamentals-validusage-pNext">chained together</a>
through their <code>pNext</code> members.</p>
</dd>
<dt class="hdlist1">Point Sampling (Rasterization)</dt>
<dd>
<p>A rule that determines whether a fragment sample location is covered by
a polygon primitive by testing whether the sample location is in the
interior of the polygon in framebuffer-space, or on the boundary of the
polygon according to the tie-breaking rules.</p>
</dd>
<dt class="hdlist1">Preserve Attachment</dt>
<dd>
<p>One of a list of attachments in a subpass description that is not read
or written by the subpass, but that is read or written on earlier and
later subpasses and whose contents <strong class="purple">must</strong> be preserved through this
subpass.</p>
</dd>
<dt class="hdlist1">Primary Command Buffer</dt>
<dd>
<p>A command buffer that <strong class="purple">can</strong> execute secondary command buffers, and <strong class="purple">can</strong>
be submitted directly to a queue.</p>
</dd>
<dt class="hdlist1">Primitive Topology</dt>
<dd>
<p>State that controls how vertices are assembled into primitives, e.g. as
lists of triangles, strips of lines, etc..</p>
</dd>
<dt class="hdlist1">Promoted (feature)</dt>
<dd>
<p>A feature from an older extension is considered promoted if it is made
available as part of a new core version or newer extension with wider
support.</p>
</dd>
<dt class="hdlist1">Provisional</dt>
<dd>
<p>A feature is released provisionally in order to get wider feedback on
the functionality before it is finalized.
Provisional features may change in ways that break backwards
compatibility, and thus are not recommended for use in production
applications.</p>
</dd>
<dt class="hdlist1">Provoking Vertex</dt>
<dd>
<p>The vertex in a primitive from which flat shaded attribute values are
taken.
This is generally the &#8220;first&#8221; vertex in the primitive, and depends on
the primitive topology.</p>
</dd>
<dt class="hdlist1">Push Constants</dt>
<dd>
<p>A small bank of values writable via the API and accessible in shaders.
Push constants allow the application to set values used in shaders
without creating buffers or modifying and binding descriptor sets for
each update.</p>
</dd>
<dt class="hdlist1">Push Constant Interface</dt>
<dd>
<p>The set of variables with <code>PushConstant</code> storage class that are
statically used by a shader entry point, and which receive values from
push constant commands.</p>
</dd>
<dt class="hdlist1">Query Pool</dt>
<dd>
<p>An object containing a number of query entries and their associated
state and results.
Represented by a <a href="#VkQueryPool">VkQueryPool</a> object.</p>
</dd>
<dt class="hdlist1">Queue</dt>
<dd>
<p>An object that executes command buffers and sparse binding operations on
a device.
Represented by a <a href="#VkQueue">VkQueue</a> object.</p>
</dd>
<dt class="hdlist1">Queue Family</dt>
<dd>
<p>A set of queues that have common properties and support the same
functionality, as advertised in <a href="#VkQueueFamilyProperties">VkQueueFamilyProperties</a>.</p>
</dd>
<dt class="hdlist1">Queue Operation</dt>
<dd>
<p>A unit of work to be executed by a specific queue on a device, submitted
via a <a href="#devsandqueues-submission">queue submission command</a>.
Each queue submission command details the specific queue operations that
occur as a result of calling that command.
Queue operations typically include work that is specific to each
command, and synchronization tasks.</p>
</dd>
<dt class="hdlist1">Queue Submission</dt>
<dd>
<p>Zero or more batches and an optional fence to be signaled, passed to a
command for execution on a queue.
See the <a href="#devsandqueues-submission">Devices and Queues chapter</a> for
more information.</p>
</dd>
<dt class="hdlist1">Recording State (Command Buffer)</dt>
<dd>
<p>A command buffer that is ready to record commands.
See also Initial State and Executable State.</p>
</dd>
<dt class="hdlist1">Release Operation (Resource)</dt>
<dd>
<p>An operation that releases ownership of an image subresource or buffer
range.</p>
</dd>
<dt class="hdlist1">Render Pass</dt>
<dd>
<p>An object that represents a set of framebuffer attachments and phases of
rendering using those attachments.
Represented by a <a href="#VkRenderPass">VkRenderPass</a> object.</p>
</dd>
<dt class="hdlist1">Render Pass Instance</dt>
<dd>
<p>A use of a render pass in a command buffer.</p>
</dd>
<dt class="hdlist1">Required Extensions</dt>
<dd>
<p>Extensions that <strong class="purple">must</strong> be enabled alongside extensions dependent on them
(see <a href="#extendingvulkan-extensions-extensiondependencies">Extension
Dependencies</a>).</p>
</dd>
<dt class="hdlist1">Reset (Command Buffer)</dt>
<dd>
<p>Resetting a command buffer discards any previously recorded commands and
puts a command buffer in the initial state.</p>
</dd>
<dt class="hdlist1">Residency Code</dt>
<dd>
<p>An integer value returned by sparse image instructions, indicating
whether any sparse unbound texels were accessed.</p>
</dd>
<dt class="hdlist1">Resolve Attachment</dt>
<dd>
<p>A subpass attachment point, or image view, that is the target of a
multisample resolve operation from the corresponding color attachment at
the end of the subpass.</p>
</dd>
<dt class="hdlist1">Sample Shading</dt>
<dd>
<p>Invoking the fragment shader multiple times per fragment, with the
covered samples partitioned among the invocations.</p>
</dd>
<dt class="hdlist1">Sampled Image</dt>
<dd>
<p>A descriptor type that represents an image view, and supports filtered
(sampled) and unfiltered read-only access in a shader.</p>
</dd>
<dt class="hdlist1">Sampler</dt>
<dd>
<p>An object containing state that controls how sampled image data is
sampled (or filtered) when accessed in a shader.
Also a descriptor type describing the object.
Represented by a <a href="#VkSampler">VkSampler</a> object.</p>
</dd>
<dt class="hdlist1">Secondary Command Buffer</dt>
<dd>
<p>A command buffer that <strong class="purple">can</strong> be executed by a primary command buffer, and
<strong class="purple">must</strong> not be submitted directly to a queue.</p>
</dd>
<dt class="hdlist1">Self-Dependency</dt>
<dd>
<p>A subpass dependency from a subpass to itself, i.e. with
<code>srcSubpass</code> equal to <code>dstSubpass</code>.
A self-dependency is not automatically performed during a render pass
instance, rather a subset of it <strong class="purple">can</strong> be performed via
<a href="#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a> during the subpass.</p>
</dd>
<dt class="hdlist1">Semaphore</dt>
<dd>
<p>A synchronization primitive that supports signal and wait operations,
and <strong class="purple">can</strong> be used to synchronize operations within a queue or across
queues.
Represented by a <a href="#VkSemaphore">VkSemaphore</a> object.</p>
</dd>
<dt class="hdlist1">Shader</dt>
<dd>
<p>Instructions selected (via an entry point) from a shader module, which
are executed in a shader stage.</p>
</dd>
<dt class="hdlist1">Shader Code</dt>
<dd>
<p>A stream of instructions used to describe the operation of a shader.</p>
</dd>
<dt class="hdlist1">Shader Module</dt>
<dd>
<p>A collection of shader code, potentially including several functions and
entry points, that is used to create shaders in pipelines.
Represented by a <a href="#VkShaderModule">VkShaderModule</a> object.</p>
</dd>
<dt class="hdlist1">Shader Stage</dt>
<dd>
<p>A stage of the graphics or compute pipeline that executes shader code.</p>
</dd>
<dt class="hdlist1">Side Effect</dt>
<dd>
<p>A store to memory or atomic operation on memory from a shader
invocation.</p>
</dd>
<dt class="hdlist1">Size-Compatible Image Formats</dt>
<dd>
<p>When a compressed image format and an uncompressed image format are
size-compatible, it means that the texel block size of the uncompressed
format <strong class="purple">must</strong> equal the texel block size of the compressed format.</p>
</dd>
<dt class="hdlist1">Sparse Block</dt>
<dd>
<p>An element of a sparse resource that can be independently bound to
memory.
Sparse blocks of a particular sparse resource have a corresponding size
in bytes that they use in the bound memory.</p>
</dd>
<dt class="hdlist1">Sparse Image Block</dt>
<dd>
<p>A sparse block in a sparse partially-resident image.
In addition to the sparse block size in bytes, sparse image blocks have
a corresponding width, height, and depth that define the dimensions of
these elements in units of texels or compressed texel blocks, the latter
being used in case of sparse images having a block-compressed format.</p>
</dd>
<dt class="hdlist1">Sparse Unbound Texel</dt>
<dd>
<p>A texel read from a region of a sparse texture that does not have memory
bound to it.</p>
</dd>
<dt class="hdlist1">Static Use</dt>
<dd>
<p>An object in a shader is statically used by a shader entry point if any
function in the entry point&#8217;s call tree contains an instruction using
the object.
Static use is used to constrain the set of descriptors used by a shader
entry point.</p>
</dd>
<dt class="hdlist1">Storage Buffer</dt>
<dd>
<p>A descriptor type that represents a buffer, and supports reads, writes,
and atomics in a shader.</p>
</dd>
<dt class="hdlist1">Storage Image</dt>
<dd>
<p>A descriptor type that represents an image view, and supports unfiltered
loads, stores, and atomics in a shader.</p>
</dd>
<dt class="hdlist1">Storage Texel Buffer</dt>
<dd>
<p>A descriptor type that represents a buffer view, and supports
unfiltered, formatted reads, writes, and atomics in a shader.</p>
</dd>
<dt class="hdlist1">Subpass</dt>
<dd>
<p>A phase of rendering within a render pass, that reads and writes a
subset of the attachments.</p>
</dd>
<dt class="hdlist1">Subpass Dependency</dt>
<dd>
<p>An execution and/or memory dependency between two subpasses described as
part of render pass creation, and automatically performed between
subpasses in a render pass instance.
A subpass dependency limits the overlap of execution of the pair of
subpasses, and <strong class="purple">can</strong> provide guarantees of memory coherence between
accesses in the subpasses.</p>
</dd>
<dt class="hdlist1">Subpass Description</dt>
<dd>
<p>Lists of attachment indices for input attachments, color attachments,
depth/stencil attachment, resolve attachments,
and preserve attachments used by the subpass in a render pass.</p>
</dd>
<dt class="hdlist1">Subset (Self-Dependency)</dt>
<dd>
<p>A subset of a self-dependency is a pipeline barrier performed during the
subpass of the self-dependency, and whose stage masks and access masks
each contain a subset of the bits set in the identically named mask in
the self-dependency.</p>
</dd>
<dt class="hdlist1">Texel Block</dt>
<dd>
<p>A single addressable element of an image with an uncompressed
<a href="#VkFormat">VkFormat</a>, or a single compressed block of an image with a
compressed <a href="#VkFormat">VkFormat</a>.</p>
</dd>
<dt class="hdlist1">Texel Block Size</dt>
<dd>
<p>The size (in bytes) used to store a texel block of a compressed or
uncompressed image.</p>
</dd>
<dt class="hdlist1">Texel Coordinate System</dt>
<dd>
<p>One of three coordinate systems (normalized, unnormalized, integer) that
define how texel coordinates are interpreted in an image or a specific
mipmap level of an image.</p>
</dd>
<dt class="hdlist1">Uniform Texel Buffer</dt>
<dd>
<p>A descriptor type that represents a buffer view, and supports
unfiltered, formatted, read-only access in a shader.</p>
</dd>
<dt class="hdlist1">Uniform Buffer</dt>
<dd>
<p>A descriptor type that represents a buffer, and supports read-only
access in a shader.</p>
</dd>
<dt class="hdlist1">Units in the Last Place (ULP)</dt>
<dd>
<p>A measure of floating-point error loosely defined as the smallest
representable step in a floating-point format near a given value.
For the precise definition see <a href="#spirvenv-precision-operation">Precision
and Operation of SPIR-V instructions</a> or Jean-Michel Muller, &#8220;On the
definition of ulp(x)&#8221;, RR-5504, INRIA.
Other sources may also use the term &#8220;unit of least precision&#8221;.</p>
</dd>
<dt class="hdlist1">Unnormalized</dt>
<dd>
<p>A value that is interpreted according to its conventional
interpretation, and is not normalized.</p>
</dd>
<dt class="hdlist1">User-Defined Variable Interface</dt>
<dd>
<p>A shader entry point&#8217;s variables with <code>Input</code> or <code>Output</code> storage
class that are not built-in variables.</p>
</dd>
<dt class="hdlist1">Vertex Input Attribute</dt>
<dd>
<p>A graphics pipeline resource that produces input values for the vertex
shader by reading data from a vertex input binding and converting it to
the attribute&#8217;s format.</p>
</dd>
<dt class="hdlist1">Vertex Input Binding</dt>
<dd>
<p>A graphics pipeline resource that is bound to a buffer and includes
state that affects addressing calculations within that buffer.</p>
</dd>
<dt class="hdlist1">Vertex Input Interface</dt>
<dd>
<p>A vertex shader entry point&#8217;s variables with <code>Input</code> storage class,
which receive values from vertex input attributes.</p>
</dd>
<dt class="hdlist1">Vertex Processing Stages</dt>
<dd>
<p>A set of shader stages that comprises the vertex shader, tessellation
control shader, tessellation evaluation shader, and geometry shader
stages.</p>
</dd>
<dt class="hdlist1">View Volume</dt>
<dd>
<p>A subspace in homogeneous coordinates, corresponding to post-projection
x and y values between -1 and +1, and z values between 0 and +1.</p>
</dd>
<dt class="hdlist1">Viewport Transformation</dt>
<dd>
<p>A transformation from normalized device coordinates to framebuffer
coordinates, based on a viewport rectangle and depth range.</p>
</dd>
<dt class="hdlist1">Visibility Operation</dt>
<dd>
<p>An operation that causes available values to become visible to specified
memory accesses.</p>
</dd>
<dt class="hdlist1">Visible</dt>
<dd>
<p>A state of values written to memory that allows them to be accessed by a
set of operations.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_common_abbreviations"><a class="anchor" href="#_common_abbreviations"></a>Common Abbreviations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Abbreviations and acronyms are sometimes used in the Specification and the
API where they are considered clear and commonplace, and are defined here:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Src</dt>
<dd>
<p>Source</p>
</dd>
<dt class="hdlist1">Dst</dt>
<dd>
<p>Destination</p>
</dd>
<dt class="hdlist1">Min</dt>
<dd>
<p>Minimum</p>
</dd>
<dt class="hdlist1">Max</dt>
<dd>
<p>Maximum</p>
</dd>
<dt class="hdlist1">Rect</dt>
<dd>
<p>Rectangle</p>
</dd>
<dt class="hdlist1">Info</dt>
<dd>
<p>Information</p>
</dd>
<dt class="hdlist1">LOD</dt>
<dd>
<p>Level of Detail</p>
</dd>
<dt class="hdlist1">ID</dt>
<dd>
<p>Identifier</p>
</dd>
<dt class="hdlist1">UUID</dt>
<dd>
<p>Universally Unique Identifier</p>
</dd>
<dt class="hdlist1">Op</dt>
<dd>
<p>Operation</p>
</dd>
<dt class="hdlist1">R</dt>
<dd>
<p>Red color component</p>
</dd>
<dt class="hdlist1">G</dt>
<dd>
<p>Green color component</p>
</dd>
<dt class="hdlist1">B</dt>
<dd>
<p>Blue color component</p>
</dd>
<dt class="hdlist1">A</dt>
<dd>
<p>Alpha color component</p>
</dd>
<dt class="hdlist1">RTZ</dt>
<dd>
<p>Round towards zero</p>
</dd>
<dt class="hdlist1">RTE</dt>
<dd>
<p>Round to nearest even</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prefixes"><a class="anchor" href="#_prefixes"></a>Prefixes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prefixes are used in the API to denote specific semantic meaning of Vulkan
names, or as a label to avoid name clashes, and are explained here:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">VK/Vk/vk</dt>
<dd>
<p>Vulkan namespace<br>
All types, commands, enumerants and defines in this specification are
prefixed with these two characters.</p>
</dd>
<dt class="hdlist1">PFN/pfn</dt>
<dd>
<p>Function Pointer<br>
Denotes that a type is a function pointer, or that a variable is of a
pointer type.</p>
</dd>
<dt class="hdlist1">p</dt>
<dd>
<p>Pointer<br>
Variable is a pointer.</p>
</dd>
<dt class="hdlist1">vkCmd</dt>
<dd>
<p>Commands that record commands in command buffers<br>
These API commands do not result in immediate processing on the device.
Instead, they record the requested action in a command buffer for
execution when the command buffer is submitted to a queue.</p>
</dd>
<dt class="hdlist1">s</dt>
<dd>
<p>Structure<br>
Used to denote the <code>VK_STRUCTURE_TYPE*</code> member of each structure in
<code>sType</code></p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="credits"><a class="anchor" href="#credits"></a>Appendix G: Credits (Informative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vulkan 1.2 is the result of contributions from many people and companies
participating in the Khronos Vulkan Working Group, as well as input from the
Vulkan Advisory Panel.</p>
</div>
<div class="paragraph">
<p>Members of the Working Group, including the company that they represented at
the time of their most recent contribution, are listed in the following
section.
Some specific contributions made by individuals are listed together with
their name.</p>
</div>
<div class="sect2">
<h3 id="_working_group_contributors_to_vulkan"><a class="anchor" href="#_working_group_contributors_to_vulkan"></a>Working Group Contributors to Vulkan</h3>
<div class="ulist">
<ul>
<li>
<p>Aaron Greig, Codeplay Software Ltd.
(version 1.1)</p>
</li>
<li>
<p>Aaron Hagan, AMD (version 1.1)</p>
</li>
<li>
<p>Adam Jackson, Red Hat (versions 1.0, 1.1)</p>
</li>
<li>
<p>Adam migielski, Mobica (version 1.0)</p>
</li>
<li>
<p>Aidan Fabius, Core Avionics &amp; Industrial Inc.
(version 1.2)</p>
</li>
<li>
<p>Alan Baker, Google (versions 1.1, 1.2)</p>
</li>
<li>
<p>Alan Ward, Google (versions 1.1, 1.2)</p>
</li>
<li>
<p>Alejandro Pi単eiro, Igalia (version 1.1)</p>
</li>
<li>
<p>Alex Bourd, Qualcomm Technologies, Inc.
(versions 1.0, 1.1)</p>
</li>
<li>
<p>Alex Crabb, Caster Communications (version 1.2)</p>
</li>
<li>
<p>Alex Walters, Imagination Technologies (version 1.2)</p>
</li>
<li>
<p>Alexander Galazin, Arm (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Allen Hux, Intel (version 1.0)</p>
</li>
<li>
<p>Alon Or-bach, Samsung Electronics (versions 1.0, 1.1, 1.2) (WSI
technical sub-group chair)</p>
</li>
<li>
<p>Anastasia Stulova, Arm (version 1.2)</p>
</li>
<li>
<p>Andreas Vasilakis, Think Silicon (version 1.2)</p>
</li>
<li>
<p>Andres Gomez, Igalia (version 1.1)</p>
</li>
<li>
<p>Andrew Cox, Samsung Electronics (version 1.0)</p>
</li>
<li>
<p>Andrew Garrard, Samsung Electronics (versions 1.0, 1.1, 1.2) (format
wrangler)</p>
</li>
<li>
<p>Andrew Poole, Samsung Electronics (version 1.0)</p>
</li>
<li>
<p>Andrew Rafter, Samsung Electronics (version 1.0)</p>
</li>
<li>
<p>Andrew Richards, Codeplay Software Ltd.
(version 1.0)</p>
</li>
<li>
<p>Andrew Woloszyn, Google (versions 1.0, 1.1)</p>
</li>
<li>
<p>Ann Thorsnes, Khronos (version 1.2)</p>
</li>
<li>
<p>Antoine Labour, Google (versions 1.0, 1.1)</p>
</li>
<li>
<p>Aras Pranckeviius, Unity Technologies (version 1.0)</p>
</li>
<li>
<p>Ashwin Kolhe, NVIDIA (version 1.0)</p>
</li>
<li>
<p>Baldur Karlsson, Independent (versions 1.1, 1.2)</p>
</li>
<li>
<p>Barthold Lichtenbelt, NVIDIA (version 1.1)</p>
</li>
<li>
<p>Bas Nieuwenhuizen, Google (versions 1.1, 1.2)</p>
</li>
<li>
<p>Ben Bowman, Imagination Technologies (version 1.0)</p>
</li>
<li>
<p>Benj Lipchak, Unknown (version 1.0)</p>
</li>
<li>
<p>Bill Hollings, Brenwill (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Bill Licea-Kane, Qualcomm Technologies, Inc.
(versions 1.0, 1.1)</p>
</li>
<li>
<p>Blaine Kohl, Khronos (version 1.2)</p>
</li>
<li>
<p>Boris Zanin, Mobica (version 1.2)</p>
</li>
<li>
<p>Brent E. Insko, Intel (version 1.0)</p>
</li>
<li>
<p>Brian Ellis, Qualcomm Technologies, Inc.
(version 1.0)</p>
</li>
<li>
<p>Brian Paul, VMware (version 1.2)</p>
</li>
<li>
<p>Caio Marcelo de Oliveira Filho, Intel (version 1.2)</p>
</li>
<li>
<p>Cass Everitt, Oculus VR (versions 1.0, 1.1)</p>
</li>
<li>
<p>Cemil Azizoglu, Canonical (version 1.0)</p>
</li>
<li>
<p>Chad Versace, Google (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Chang-Hyo Yu, Samsung Electronics (version 1.0)</p>
</li>
<li>
<p>Chia-I Wu, LunarG (version 1.0)</p>
</li>
<li>
<p>Chris Frascati, Qualcomm Technologies, Inc.
(version 1.0)</p>
</li>
<li>
<p>Christophe Riccio, Unity Technologies (versions 1.0, 1.1)</p>
</li>
<li>
<p>Cody Northrop, LunarG (version 1.0)</p>
</li>
<li>
<p>Colin Riley, AMD (version 1.1)</p>
</li>
<li>
<p>Cort Stratton, Google (versions 1.1, 1.2)</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, Google (versions 1.0, 1.1)</p>
</li>
<li>
<p>Craig Davies, Huawei (version 1.2)</p>
</li>
<li>
<p>Dae Kim, Imagination Technologies (version 1.1)</p>
</li>
<li>
<p>Damien Leone, NVIDIA (version 1.0)</p>
</li>
<li>
<p>Dan Baker, Oxide Games (versions 1.0, 1.1)</p>
</li>
<li>
<p>Dan Ginsburg, Valve Software (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Daniel Johnston, Intel (versions 1.0, 1.1)</p>
</li>
<li>
<p>Daniel Koch, NVIDIA (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Daniel Rakos, AMD (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Daniel Stone, Collabora (versions 1.1, 1.2)</p>
</li>
<li>
<p>Daniel Vetter, Intel (version 1.2)</p>
</li>
<li>
<p>David Airlie, Red Hat (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>David Mao, AMD (versions 1.0, 1.2)</p>
</li>
<li>
<p>David Miller, Miller &amp; Mattson (versions 1.0, 1.1) (Vulkan reference
card)</p>
</li>
<li>
<p>David Neto, Google (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>David Wilkinson, AMD (version 1.2)</p>
</li>
<li>
<p>David Yu, Pixar (version 1.0)</p>
</li>
<li>
<p>Dejan Mircevski, Google (version 1.1)</p>
</li>
<li>
<p>Dominik Witczak, AMD (versions 1.0, 1.1)</p>
</li>
<li>
<p>Donald Scorgie, Imagination Technologies (version 1.2)</p>
</li>
<li>
<p>Dzmitry Malyshau, Mozilla (versions 1.1, 1.2)</p>
</li>
<li>
<p>Ed Hutchins, Oculus (version 1.2)</p>
</li>
<li>
<p>Emily Stearns, Khronos (version 1.2)</p>
</li>
<li>
<p>Frank (LingJun) Chen, Qualcomm Technologies, Inc.
(version 1.0)</p>
</li>
<li>
<p>Fred Liao, Mediatek (version 1.0)</p>
</li>
<li>
<p>Gabe Dagani, Freescale (version 1.0)</p>
</li>
<li>
<p>Gabor Sines, AMD (version 1.2)</p>
</li>
<li>
<p>Graeme Leese, Broadcom (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Graham Connor, Imagination Technologies (version 1.0)</p>
</li>
<li>
<p>Graham Sellers, AMD (versions 1.0, 1.1)</p>
</li>
<li>
<p>Greg Fischer, LunarG (version 1.1)</p>
</li>
<li>
<p>Hai Nguyen, Google (version 1.2)</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Arm (versions 1.1, 1.2)</p>
</li>
<li>
<p>Henri Verbeet, Codeweavers (version 1.2)</p>
</li>
<li>
<p>Hwanyong Lee, Kyungpook National University (version 1.0)</p>
</li>
<li>
<p>Iago Toral, Igalia (versions 1.1, 1.2)</p>
</li>
<li>
<p>Ian Elliott, Google (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Ian Romanick, Intel (versions 1.0, 1.1)</p>
</li>
<li>
<p>James Hughes, Oculus VR (version 1.0)</p>
</li>
<li>
<p>James Jones, NVIDIA (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>James Riordon, Khronos (version 1.2)</p>
</li>
<li>
<p>Jan Hermes, Continental Corporation (versions 1.0, 1.1)</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Jason Ekstrand, Intel (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Jean-Fran巽ois Roy, Google (versions 1.1, 1.2)</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.
(version 1.1)</p>
</li>
<li>
<p>Jeff Vigil, Samsung Electronics (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Jens Owen, Google (versions 1.0, 1.1)</p>
</li>
<li>
<p>Jeremy Hayes, LunarG (version 1.0)</p>
</li>
<li>
<p>Jesse Barker, Unity Technologies (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Jesse Hall, Google (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Joe Davis, Samsung Electronics (version 1.1)</p>
</li>
<li>
<p>Johannes van Waveren, Oculus VR (versions 1.0, 1.1)</p>
</li>
<li>
<p>John Kessenich, Google (versions 1.0, 1.1, 1.2) (SPIR-V and GLSL for
Vulkan spec author)</p>
</li>
<li>
<p>John McDonald, Valve Software (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>John Zulauf, LunarG (versions 1.1, 1.2)</p>
</li>
<li>
<p>Jon Ashburn, LunarG (version 1.0)</p>
</li>
<li>
<p>Jon Leech, Independent (versions 1.0, 1.1, 1.2) (XML toolchain,
normative language, release wrangler)</p>
</li>
<li>
<p>Jonas Gustavsson, Samsung Electronics (versions 1.0, 1.1)</p>
</li>
<li>
<p>Jonas Meyer, Epic Games (version 1.2)</p>
</li>
<li>
<p>Jonathan Hamilton, Imagination Technologies (version 1.0)</p>
</li>
<li>
<p>Jordan Justen, Intel (version 1.1)</p>
</li>
<li>
<p>Jungwoo Kim, Samsung Electronics (versions 1.0, 1.1)</p>
</li>
<li>
<p>J旦rg Wagner, Arm (version 1.1)</p>
</li>
<li>
<p>Kalle Raita, Google (version 1.1)</p>
</li>
<li>
<p>Karen Ghavam, LunarG (versions 1.1, 1.2)</p>
</li>
<li>
<p>Karl Schultz, LunarG (versions 1.1, 1.2)</p>
</li>
<li>
<p>Kathleen Mattson, Khronos (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Kaye Mason, Google (version 1.2)</p>
</li>
<li>
<p>Keith Packard, Valve (version 1.2)</p>
</li>
<li>
<p>Kenneth Benzie, Codeplay Software Ltd.
(versions 1.0, 1.1)</p>
</li>
<li>
<p>Kenneth Russell, Google (version 1.1)</p>
</li>
<li>
<p>Kerch Holt, NVIDIA (versions 1.0, 1.1)</p>
</li>
<li>
<p>Kevin O&#8217;Neil, AMD (version 1.1)</p>
</li>
<li>
<p>Kris Rose, Khronos (version 1.2)</p>
</li>
<li>
<p>Kristian Kristensen, Intel (versions 1.0, 1.1)</p>
</li>
<li>
<p>Krzysztof Iwanicki, Samsung Electronics (version 1.0)</p>
</li>
<li>
<p>Larry Seiler, Intel (version 1.0)</p>
</li>
<li>
<p>Lauri Ilola, Nokia (version 1.1)</p>
</li>
<li>
<p>Lei Zhang, Google (version 1.2)</p>
</li>
<li>
<p>Lenny Komow, LunarG (versions 1.1, 1.2)</p>
</li>
<li>
<p>Lionel Landwerlin, Intel (versions 1.1, 1.2)</p>
</li>
<li>
<p>Liz Maitral, Khronos (version 1.2)</p>
</li>
<li>
<p>Lutz Latta, Lucasfilm (version 1.0)</p>
</li>
<li>
<p>Maciej Jesionowski, AMD (version 1.1)</p>
</li>
<li>
<p>Mais Alnasser, AMD (version 1.1)</p>
</li>
<li>
<p>Marcin Rogucki, Mobica (version 1.1)</p>
</li>
<li>
<p>Maria Rovatsou, Codeplay Software Ltd.
(version 1.0)</p>
</li>
<li>
<p>Mark Callow, Independent (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Mark Kilgard, NVIDIA (versions 1.1, 1.2)</p>
</li>
<li>
<p>Mark Lobodzinski, LunarG (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Mark Young, LunarG (version 1.1)</p>
</li>
<li>
<p>Markus Tavenrath, NVIDIA (version 1.1)</p>
</li>
<li>
<p>Mateusz Przybylski, Intel (version 1.0)</p>
</li>
<li>
<p>Mathias Heyer, NVIDIA (versions 1.0, 1.1)</p>
</li>
<li>
<p>Mathias Schott, NVIDIA (versions 1.0, 1.1)</p>
</li>
<li>
<p>Matt Netsch, Qualcomm Technologies, Inc.
(version 1.1)</p>
</li>
<li>
<p>Matth辰us Chajdas, AMD (versions 1.1, 1.2)</p>
</li>
<li>
<p>Maurice Ribble, Qualcomm Technologies, Inc.
(versions 1.0, 1.1)</p>
</li>
<li>
<p>Maxim Lukyanov, Samsung Electronics (version 1.0)</p>
</li>
<li>
<p>Michael Lentine, Google (version 1.0)</p>
</li>
<li>
<p>Michael O&#8217;Hara, AMD (version 1.1)</p>
</li>
<li>
<p>Michael Phillip, Samsung Electronics (version 1.2)</p>
</li>
<li>
<p>Michael Wong, Codeplay Software Ltd.
(version 1.1)</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies (versions 1.0, 1.1)</p>
</li>
<li>
<p>Michal Pietrasiuk, Intel (version 1.0)</p>
</li>
<li>
<p>Mika Isojarvi, Google (versions 1.0, 1.1)</p>
</li>
<li>
<p>Mike Schuchardt, LunarG (versions 1.1, 1.2)</p>
</li>
<li>
<p>Mike Stroyan, LunarG (version 1.0)</p>
</li>
<li>
<p>Mike Weiblen, LunarG (versions 1.1, 1.2)</p>
</li>
<li>
<p>Minyoung Son, Samsung Electronics (version 1.0)</p>
</li>
<li>
<p>Mitch Singer, AMD (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Mythri Venugopal, Samsung Electronics (version 1.0)</p>
</li>
<li>
<p>Naveen Leekha, Google (version 1.0)</p>
</li>
<li>
<p>Neil Henning, AMD (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Neil Hickey, Arm (version 1.2)</p>
</li>
<li>
<p>Neil Trevett, NVIDIA (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Nick Penwarden, Epic Games (version 1.0)</p>
</li>
<li>
<p>Nicolai H辰hnle, AMD (version 1.1)</p>
</li>
<li>
<p>Niklas Smedberg, Unity Technologies (version 1.0)</p>
</li>
<li>
<p>Norbert Nopper, Independent (versions 1.0, 1.1)</p>
</li>
<li>
<p>Nuno Subtil, NVIDIA (versions 1.1, 1.2)</p>
</li>
<li>
<p>Pat Brown, NVIDIA (version 1.0)</p>
</li>
<li>
<p>Patrick Cozzi, Independent (version 1.1)</p>
</li>
<li>
<p>Patrick Doane, Blizzard Entertainment (version 1.0)</p>
</li>
<li>
<p>Peter Lohrmann, AMD (versions 1.0, 1.2)</p>
</li>
<li>
<p>Petros Bantolas, Imagination Technologies (version 1.1)</p>
</li>
<li>
<p>Pierre Boudier, NVIDIA (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve Software (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Piers Daniell, NVIDIA (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Piotr Bialecki, Intel (version 1.0)</p>
</li>
<li>
<p>Prabindh Sundareson, Samsung Electronics (version 1.0)</p>
</li>
<li>
<p>Pyry Haulos, Google (versions 1.0, 1.1) (Vulkan conformance test
subcommittee chair)</p>
</li>
<li>
<p>Rajeev Rao, Qualcomm (version 1.2)</p>
</li>
<li>
<p>Ralph Potter, Codeplay Software Ltd.
(versions 1.1, 1.2)</p>
</li>
<li>
<p>Ray Smith, Arm (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Richard Huddy, Samsung Electronics (version 1.2)</p>
</li>
<li>
<p>Rob Barris, NVIDIA (version 1.1)</p>
</li>
<li>
<p>Rob Stepinski, Transgaming (version 1.0)</p>
</li>
<li>
<p>Robert Simpson, Qualcomm Technologies, Inc.
(versions 1.0, 1.1)</p>
</li>
<li>
<p>Rolando Caloca Olivares, Epic Games (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Roy Ju, Mediatek (version 1.0)</p>
</li>
<li>
<p>Rufus Hamade, Imagination Technologies (version 1.0)</p>
</li>
<li>
<p>Ruihao Zhang, Qualcomm Technologies, Inc.
(versions 1.1, 1.2)</p>
</li>
<li>
<p>Sean Ellis, Arm (version 1.0)</p>
</li>
<li>
<p>Sean Harmer, KDAB Group (versions 1.0, 1.1)</p>
</li>
<li>
<p>Shannon Woods, Google (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Slawomir Cygan, Intel (versions 1.0, 1.1)</p>
</li>
<li>
<p>Slawomir Grajewski, Intel (versions 1.0, 1.1)</p>
</li>
<li>
<p>Sorel Bosan, AMD (version 1.1)</p>
</li>
<li>
<p>Spencer Fricke, Samsung Electronics (version 1.2)</p>
</li>
<li>
<p>Stefanus Du Toit, Google (version 1.0)</p>
</li>
<li>
<p>Stephen Huang, Mediatek (version 1.1)</p>
</li>
<li>
<p>Steve Hill, Broadcom (versions 1.0, 1.2)</p>
</li>
<li>
<p>Steve Viggers, Core Avionics &amp; Industrial Inc.
(versions 1.0, 1.2)</p>
</li>
<li>
<p>Stuart Smith, Imagination Technologies (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Tilmann Scheller, Samsung Electronics (version 1.1)</p>
</li>
<li>
<p>Tim Foley, Intel (version 1.0)</p>
</li>
<li>
<p>Timo Suoranta, AMD (version 1.0)</p>
</li>
<li>
<p>Timothy Lottes, AMD (versions 1.0, 1.1)</p>
</li>
<li>
<p>Tobias Hector, AMD (versions 1.0, 1.1, 1.2) (validity language and
toolchain)</p>
</li>
<li>
<p>Tobin Ehlis, LunarG (version 1.0)</p>
</li>
<li>
<p>Tom Olson, Arm (versions 1.0, 1.1, 1.2) (Working Group chair)</p>
</li>
<li>
<p>Tomasz Bednarz, Independent (version 1.1)</p>
</li>
<li>
<p>Tomasz Kubale, Intel (version 1.0)</p>
</li>
<li>
<p>Tony Barbour, LunarG (versions 1.0, 1.1, 1.2)</p>
</li>
<li>
<p>Victor Eruhimov, Unknown (version 1.1)</p>
</li>
<li>
<p>Vincent Hindriksen, StreamHPC (version 1.2)</p>
</li>
<li>
<p>Wayne Lister, Imagination Technologies (version 1.0)</p>
</li>
<li>
<p>Wolfgang Engel, Unknown (version 1.1)</p>
</li>
<li>
<p>Yanjun Zhang, VeriSilicon (versions 1.0, 1.1, 1.2)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_other_credits"><a class="anchor" href="#_other_credits"></a>Other Credits</h3>
<div class="paragraph">
<p>The Vulkan Advisory Panel members provided important real-world usage
information and advice that helped guide design decisions.</p>
</div>
<div class="paragraph">
<p>The wider Vulkan community have provided useful feedback, questions and spec
changes that have helped improve the quality of the Specification via
<a href="https://github.com/KhronosGroup/Vulkan-Docs/graphs/contributors">GitHub</a>.</p>
</div>
<div class="paragraph">
<p>Administrative support to the Working Group for Vulkan 1.1 and 1.2 was
provided by Khronos staff including Angela Cheng, Ann Thorsnes, Blaine Kohl,
Dominic Agoro-Ombaka, Emily Stearns, Jeff Phillips, Lisie Aartsen, and Liz
Maitral; and by Alex Crabb of Caster Communications.</p>
</div>
<div class="paragraph">
<p>Administrative support for Vulkan 1.0 was provided by Andrew Riegel,
Elizabeth Riegel, Glenn Fredericks, Kathleen Mattson and Michelle Clark of
Gold Standard Group.</p>
</div>
<div class="paragraph">
<p>Technical support was provided by James Riordon, webmaster of Khronos.org
and OpenGL.org.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0.135<br>
Last updated 2020-03-17 04:12:51 -0700
</div>
</div>


</body>
</html>