<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="The Khronos® Vulkan  Working Group">
<title>Vulkan® 1.0.264 - A Specification</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="style2.css" type="text/css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<link rel="stylesheet" href="style3.css" type="text/css">
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div style="text-align: center;">
    <span class="image"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgdmlld0JveD0iMCAwIDExNTAgMzI2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTsiPgogICAgPGcgaWQ9IkFydGJvYXJkMSIgdHJhbnNmb3JtPSJtYXRyaXgoMC45NTUxNSwwLDAsMC44ODgyODMsLTQwLjExNjMsLTMwLjIwMTYpIj4KICAgICAgICA8cmVjdCB4PSI0MiIgeT0iMzQiIHdpZHRoPSIxMjA0IiBoZWlnaHQ9IjM2NyIgc3R5bGU9ImZpbGw6bm9uZTsiLz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLjA0Njk2LDAsMCwxLjEyNTc3LC00Ni45OTEzLC01MC40MzI1KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik03MjQuMSwzODUuMDZMNjgzLjUzLDM4NS4wNkM2ODMuNTMsMzg1LjA2IDY4My41MywyODYuMDkgNjgzLjUzLDI1NS40QzY5Ni40OSwyNjIuNjIgNzEzLjYyLDI3NS45NCA3MjQuMSwyODguNzJMNzI0LjEsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxnPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM4MS43NSwzODUuMDZMMzMxLjE3LDM4NS4wNkwyNjUuMTYsMTgxLjAzTDMxMS4xNywxODEuMDNMMzU2LjYxLDMyNC40OEwzNTcuMTgsMzI0LjQ4TDQwMy4xOCwxODEuMDNMNDQ5LjQ3LDE4MS4wM0wzODEuNzUsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTg1LjUxLDM4NS4wNkw1NDYuOTMsMzg1LjA2TDU0Ni45MywzNjQuNDlMNTQ2LjA4LDM2NC40OUM1NDAuOTMsMzczLjA3IDUzNC4yNywzNzkuMjYgNTI2LjA3LDM4My4wN0M1MTcuODgsMzg2Ljg4IDUwOS41LDM4OC43OCA1MDAuOTIsMzg4Ljc4QzQ5MC4wNiwzODguNzggNDgxLjE2LDM4Ny4zNSA0NzQuMiwzODQuNUM0NjcuMjUsMzgxLjY1IDQ2MS43NywzNzcuNTkgNDU3Ljc3LDM3Mi4zNkM0NTMuNzYsMzY3LjEyIDQ1MC45NSwzNjAuNzQgNDQ5LjMzLDM1My4yMUM0NDcuNzIsMzQ1LjY5IDQ0Ni45MSwzMzcuMzUgNDQ2LjkxLDMyOC4yMUw0NDYuOTEsMjM3LjMzTDQ4Ny40OSwyMzcuMzNMNDg3LjQ5LDMyMC43N0M0ODcuNDksMzMyLjk2IDQ4OS40LDM0Mi4wNiA0OTMuMjEsMzQ4LjA2QzQ5Ny4wMiwzNTQuMDcgNTAzLjc4LDM1Ny4wNiA1MTMuNSwzNTcuMDZDNTI0LjU1LDM1Ny4wNiA1MzIuNTUsMzUzLjc4IDUzNy41LDM0Ny4yQzU0Mi40NiwzNDAuNjIgNTQ0LjkzLDMyOS44MSA1NDQuOTMsMzE0Ljc2TDU0NC45MywyMzcuMzJMNTg1LjUyLDIzNy4zMkw1ODUuNTIsMzg1LjA2TDU4NS41MSwzODUuMDZaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNNzMwLjg0LDI5Ni4xOUw3MzAuNzQsMjkwLjQ3TDc4MS44OSwyMzcuMzNMODI5LjkxLDIzNy4zM0w3NzQuMTgsMjkxLjYyTDgzNi4xOSwzODUuMDZMNzg3LjA0LDM4NS4wNkw3MzAuODQsMjk2LjE5WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04NDMuNjIsMjgyLjc2Qzg0NC4xOSwyNzMuMjQgODQ2LjU4LDI2NS4zMyA4NTAuNzcsMjU5LjA0Qzg1NC45NiwyNTIuNzUgODYwLjI5LDI0Ny43MSA4NjYuNzcsMjQzLjlDODczLjI1LDI0MC4wOSA4ODAuNTQsMjM3LjM3IDg4OC42NCwyMzUuNzZDODk2LjczLDIzNC4xNCA5MDQuODgsMjMzLjMzIDkxMy4wNywyMzMuMzNDOTIwLjUsMjMzLjMzIDkyOC4wMiwyMzMuODUgOTM1LjY0LDIzNC45Qzk0My4yNywyMzUuOTUgOTUwLjIxLDIzOCA5NTYuNSwyNDEuMDVDOTYyLjc4LDI0NC4xIDk2Ny45MywyNDguMzQgOTcxLjk0LDI1My43NkM5NzUuOTQsMjU5LjE5IDk3Ny45NCwyNjYuMzggOTc3Ljk0LDI3NS4zNEw5NzcuOTQsMzUyLjIxQzk3Ny45NCwzNTguODggOTc4LjMyLDM2NS4yNyA5NzkuMDgsMzcxLjM2Qzk3OS44NCwzNzcuNDYgOTgxLjE4LDM4Mi4wMyA5ODMuMDksMzg1LjA4TDk0MS45NCwzODUuMDhDOTQxLjE4LDM4Mi44IDk0MC41NiwzODAuNDYgOTQwLjA4LDM3OC4wOEM5MzkuNjEsMzc1LjcgOTM5LjI3LDM3My4yOCA5MzkuMDgsMzcwLjc5QzkzMi42LDM3Ny40NyA5MjQuOTcsMzgyLjEzIDkxNi4yMSwzODQuOEM5MDcuNDUsMzg3LjQ2IDg5OC40OSwzODguOCA4ODkuMzUsMzg4LjhDODgyLjMsMzg4LjggODc1LjcyLDM4Ny45NCA4NjkuNjQsMzg2LjIzQzg2My41NCwzODQuNTIgODU4LjIsMzgxLjg1IDg1My42NCwzNzguMjNDODQ5LjA2LDM3NC42MSA4NDUuNDgsMzcwLjA0IDg0Mi45MiwzNjQuNTFDODQwLjM1LDM1OC45OSA4MzkuMDYsMzUyLjQyIDgzOS4wNiwzNDQuOEM4MzkuMDYsMzM2LjQyIDg0MC41NCwzMjkuNTEgODQzLjQ5LDMyNC4wOEM4NDYuNDUsMzE4LjY1IDg1MC4yNSwzMTQuMzIgODU0LjkzLDMxMS4wOEM4NTkuNiwzMDcuODQgODY0LjkzLDMwNS40MSA4NzAuOTMsMzAzLjc5Qzg3Ni45MywzMDIuMTcgODgyLjk4LDMwMC44OCA4ODkuMDcsMjk5LjkzQzg5NS4xNywyOTguOTkgOTAxLjE3LDI5OC4yMiA5MDcuMDgsMjk3LjY1QzkxMi45OSwyOTcuMDggOTE4LjIyLDI5Ni4yMiA5MjIuNzksMjk1LjA4QzkyNy4zNywyOTMuOTMgOTMwLjk4LDI5Mi4yNyA5MzMuNjUsMjkwLjA3QzkzNi4zMiwyODcuODggOTM3LjU2LDI4NC42OSA5MzcuMzcsMjgwLjVDOTM3LjM3LDI3Ni4xMiA5MzYuNjUsMjcyLjY0IDkzNS4yMiwyNzAuMDdDOTMzLjc5LDI2Ny41IDkzMS44OSwyNjUuNSA5MjkuNTEsMjY0LjA3QzkyNy4xMywyNjIuNjQgOTI0LjM3LDI2MS42OSA5MjEuMjIsMjYxLjIxQzkxOC4wNywyNjAuNzMgOTE0LjcsMjYwLjQ5IDkxMS4wOCwyNjAuNDlDOTAzLjA4LDI2MC40OSA4OTYuNzksMjYyLjIgODkyLjIyLDI2NS42NEM4ODcuNjUsMjY5LjA3IDg4NC45OCwyNzQuNzggODg0LjIyLDI4Mi43OUw4NDMuNjIsMjgyLjc5TDg0My42MiwyODIuNzZaTTkzNy4zNSwzMTIuNzdDOTM1LjYzLDMxNC4zIDkzMy40OSwzMTUuNDggOTMwLjkyLDMxNi4zNEM5MjguMzUsMzE3LjIxIDkyNS41OSwzMTcuOTIgOTIyLjYzLDMxOC40OUM5MTkuNjgsMzE5LjA2IDkxNi41OCwzMTkuNTQgOTEzLjM1LDMxOS45MkM5MTAuMTEsMzIwLjMgOTA2Ljg3LDMyMC43NyA5MDMuNjMsMzIxLjM1QzkwMC41OCwzMjEuOTIgODk3LjU4LDMyMi42OSA4OTQuNjMsMzIzLjYzQzg5MS42OCwzMjQuNTkgODg5LjEsMzI1Ljg3IDg4Ni45MSwzMjcuNDlDODg0LjcyLDMyOS4xMSA4ODIuOTYsMzMxLjE2IDg4MS42MiwzMzMuNjNDODgwLjI5LDMzNi4xMSA4NzkuNjIsMzM5LjI1IDg3OS42MiwzNDMuMDZDODc5LjYyLDM0Ni42OCA4ODAuMjksMzQ5LjczIDg4MS42MiwzNTIuMkM4ODIuOTYsMzU0LjY4IDg4NC43NywzNTYuNjMgODg3LjA1LDM1OC4wNkM4ODkuMzQsMzU5LjQ5IDg5MiwzNjAuNDkgODk1LjA1LDM2MS4wNkM4OTguMSwzNjEuNjMgOTAxLjI0LDM2MS45MSA5MDQuNDgsMzYxLjkxQzkxMi40OCwzNjEuOTEgOTE4LjY4LDM2MC41OCA5MjMuMDYsMzU3LjkyQzkyNy40NCwzNTUuMjUgOTMwLjY5LDM1Mi4wNiA5MzIuNzcsMzQ4LjM0QzkzNC44NiwzNDQuNjMgOTM2LjE2LDM0MC44NyA5MzYuNjIsMzM3LjA2QzkzNy4xLDMzMy4yNSA5MzcuMzMsMzMwLjIgOTM3LjM0LDMyNy45Mkw5MzcuMzQsMzEyLjc3TDkzNy4zNSwzMTIuNzdaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTEwMDQuMjEsMjM3LjMzTDEwNDIuOCwyMzcuMzNMMTA0Mi44LDI1Ny45TDEwNDMuNjUsMjU3LjlDMTA0OC43OSwyNDkuMzMgMTA1NS40NiwyNDMuMDkgMTA2My42NSwyMzkuMTlDMTA3MS44NCwyMzUuMjggMTA4MC4yMywyMzMuMzMgMTA4OC43OSwyMzMuMzNDMTA5OS42NiwyMzMuMzMgMTEwOC41NiwyMzQuODEgMTExNS41MiwyMzcuNzZDMTEyMi40NywyNDAuNzIgMTEyNy45NCwyNDQuODEgMTEzMS45NSwyNTAuMDVDMTEzNS45NSwyNTUuMjkgMTEzOC43NiwyNjEuNjcgMTE0MC4zOCwyNjkuMTlDMTE0MiwyNzYuNzIgMTE0Mi44MSwyODUuMDUgMTE0Mi44MSwyOTQuMkwxMTQyLjgxLDM4NS4wN0wxMTAyLjI0LDM4NS4wN0wxMTAyLjI0LDMwMS42M0MxMTAyLjI0LDI4OS40MyAxMTAwLjMzLDI4MC4zNCAxMDk2LjUzLDI3NC4zNEMxMDkyLjcxLDI2OC4zNCAxMDg1Ljk1LDI2NS4zNCAxMDc2LjIzLDI2NS4zNEMxMDY1LjE4LDI2NS4zNCAxMDU3LjE5LDI2OC42MyAxMDUyLjIzLDI3NS4yQzEwNDcuMjcsMjgxLjc2IDEwNDQuOCwyOTIuNTggMTA0NC44LDMwNy42M0wxMDQ0LjgsMzg1LjA3TDEwMDQuMjIsMzg1LjA3TDEwMDQuMjIsMjM3LjMzTDEwMDQuMjEsMjM3LjMzWiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik02MTIuMzcsMjExLjg0TDYxMi4zNywzODUuMDdMNjUyLjk1LDM4NS4wN0w2NTIuOTUsMjM0LjIxQzYzOS45MywyMjYuMjMgNjI2LjM2LDIxOC43NCA2MTIuMzcsMjExLjg0WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOTguNDMsMjE5LjIxQzIyMS45NSwxNTAuMzIgMzYyLjU4LDEyNS4wNSA1MTIuNTgsMTYyLjc4QzYwMi41NSwxODUuNCA2NzYuMDcsMjI5LjI4IDcyNC4wOSwyNzIuNjdDNzAyLjMsMjE1LjEyIDU5Ni42NSwxMzMuMDggNDUxLjE4LDEwNC45NkMyODYuNyw3My4xNiAxMjQuNDcsMTAxLjExIDEwNC4zOSwxNzQuMUM4OS44OSwyMjYuODMgMTUzLjU3LDI4OC42IDI1Mi4wNSwzMzAuODRDMjA3LjgxLDI5NS4wMiAxODYuMjksMjU0Ljc4IDE5OC40MywyMTkuMjFaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTcyNC4xNiwyNDcuNjJMNzI0LjE2LDE4MS4wM0w2ODMuNTcsMTgxLjAzTDY4My41NywyMDEuMjVDNzAwLjg4LDIxNi43MSA3MTQuNjEsMjMyLjQ1IDcyNC4xNiwyNDcuNjJaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNDY5NiwwLDAsMS4xMjU3NywtNDYuOTkxMywtNTAuNDMyNSkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTIxNC45OCwzNjMuNDNDMTIxNC45OCwzNzUuNjkgMTIwNS4zNSwzODUuMzIgMTE5Mi44MywzODUuMzJDMTE4MC40MywzODUuMzIgMTE3MC41NCwzNzUuNjkgMTE3MC41NCwzNjMuNDNDMTE3MC41NCwzNTEuNDMgMTE4MC40MywzNDEuOCAxMTkyLjgzLDM0MS44QzEyMDUuMzUsMzQxLjggMTIxNC45OCwzNTEuNDMgMTIxNC45OCwzNjMuNDNaTTExNzYuMDgsMzYzLjQzQzExNzYuMDgsMzczLjA2IDExODMuMiwzODAuNyAxMTkyLjk2LDM4MC43QzEyMDIuNDUsMzgwLjcgMTIwOS40NCwzNzMuMDUgMTIwOS40NCwzNjMuNTZDMTIwOS40NCwzNTMuOTMgMTIwMi40NSwzNDYuMTUgMTE5Mi44MiwzNDYuMTVDMTE4My4yLDM0Ni4xNiAxMTc2LjA4LDM1My45NCAxMTc2LjA4LDM2My40M1pNMTE4OS4zOSwzNzQuNzdMMTE4NC4zOCwzNzQuNzdMMTE4NC4zOCwzNTMuMTRDMTE4Ni4zNiwzNTIuNzQgMTE4OS4xMywzNTIuNDggMTE5Mi42OSwzNTIuNDhDMTE5Ni43OCwzNTIuNDggMTE5OC42MiwzNTMuMTQgMTIwMC4yMSwzNTQuMDZDMTIwMS40LDM1NC45OCAxMjAyLjMyLDM1Ni43IDEyMDIuMzIsMzU4LjgxQzEyMDIuMzIsMzYxLjE4IDEyMDAuNDcsMzYzLjAzIDExOTcuODQsMzYzLjgyTDExOTcuODQsMzY0LjA4QzExOTkuOTUsMzY0Ljg3IDEyMDEuMTQsMzY2LjQ1IDEyMDEuOCwzNjkuMzVDMTIwMi40NiwzNzIuNjUgMTIwMi44NSwzNzMuOTcgMTIwMy4zOCwzNzQuNzZMMTE5Ny45NywzNzQuNzZDMTE5Ny4zMSwzNzMuOTcgMTE5Ni45MiwzNzEuOTkgMTE5Ni4yNiwzNjkuNDlDMTE5NS44NiwzNjcuMTIgMTE5NC41NSwzNjYuMDYgMTE5MS43OCwzNjYuMDZMMTE4OS40MSwzNjYuMDZMMTE4OS40MSwzNzQuNzdMMTE4OS4zOSwzNzQuNzdaTTExODkuNTMsMzYyLjUxTDExOTEuOSwzNjIuNTFDMTE5NC42NywzNjIuNTEgMTE5Ni45MSwzNjEuNTkgMTE5Ni45MSwzNTkuMzRDMTE5Ni45MSwzNTcuMzYgMTE5NS40NiwzNTYuMDQgMTE5Mi4yOSwzNTYuMDRDMTE5MC45NywzNTYuMDQgMTE5MC4wNSwzNTYuMTcgMTE4OS41MiwzNTYuM0wxMTg5LjUyLDM2Mi41MUwxMTg5LjUzLDM2Mi41MVoiIHN0eWxlPSJmaWxsOnJnYigxNzIsMjIsNDQpO2ZpbGwtcnVsZTpub256ZXJvOyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg==" alt="Vulkan Logo" width="50%">
    </span>
</div>
<div id="header">
<h1>Vulkan<sup>®</sup> 1.0.264 - A Specification </h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan  Working Group</span><br>
<span id="revnumber">version 1.0.264,</span>
<span id="revdate">2023-09-08 09:31:23Z</span>
<br><span id="revremark">from git branch: github-main commit: 3d25cd996b16ae0781e15735df5762efa9f71010</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="chap1.html">1. Preamble</a></li>
<li><a href="chap2.html">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">2.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">3.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">3.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">3.3. Object Model</a></li>
<li><a href="chap3.html#fundamentals-abi">3.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">3.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">3.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-validusage">3.7. Valid Usage</a></li>
<li><a href="chap3.html#fundamentals-returncodes">3.8. <code>VkResult</code> Return Codes</a></li>
<li><a href="chap3.html#fundamentals-numerics">3.9. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">3.10. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-common-objects">3.11. Common Object Types</a></li>
<li><a href="chap3.html#fundamentals-api-name-aliases">3.12. API Name Aliases</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">4.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">4.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">5.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">5.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">5.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">6.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">6.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">6.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">6.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">6.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">6.6. Queue Forward Progress</a></li>
<li><a href="chap6.html#commandbuffers-secondary">6.7. Secondary Command Buffer Execution</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">7.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">7.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">7.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">7.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">7.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">7.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">7.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">7.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">7.9. Host Write Ordering Guarantees</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#renderpass-creation">8.1. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">8.2. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">8.3. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-load-operations">8.4. Render Pass Load Operations</a></li>
<li><a href="chap8.html#renderpass-store-operations">8.5. Render Pass Store Operations</a></li>
<li><a href="chap8.html#renderpass-resolve-operations">8.6. Render Pass Multisample Resolve Operations</a></li>
<li><a href="chap8.html#renderpass-commands">8.7. Render Pass Commands</a></li>
<li><a href="chap8.html#_common_render_pass_data_races_informative">8.8. Common Render Pass Data Races (Informative)</a></li>
</ul>
</li>
<li class="current"><a href="chap9.html">9. Shaders</a>
<ul class="sectlevel2">
<li class="current"><a href="chap9.html#shader-modules">9.1. Shader Modules</a></li>
<li class="current"><a href="chap9.html#shaders-binding">9.2. Binding Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-execution">9.3. Shader Execution</a></li>
<li class="current"><a href="chap9.html#shaders-execution-memory-ordering">9.4. Shader Memory Access Ordering</a></li>
<li class="current"><a href="chap9.html#shaders-inputs">9.5. Shader Inputs and Outputs</a></li>
<li class="current"><a href="chap9.html#shaders-vertex">9.6. Vertex Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-tessellation-control">9.7. Tessellation Control Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-tessellation-evaluation">9.8. Tessellation Evaluation Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-geometry">9.9. Geometry Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-fragment">9.10. Fragment Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-compute">9.11. Compute Shaders</a></li>
<li class="current"><a href="chap9.html#shaders-interpolation-decorations">9.12. Interpolation decorations</a></li>
<li class="current"><a href="chap9.html#shaders-staticuse">9.13. Static Use</a></li>
<li class="current"><a href="chap9.html#shaders-scope">9.14. Scope</a></li>
<li class="current"><a href="chap9.html#shaders-derivative-operations">9.15. Derivative Operations</a></li>
<li class="current"><a href="chap9.html#shaders-helper-invocations">9.16. Helper Invocations</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-compute">10.1. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">10.2. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">10.3. Pipeline Destruction</a></li>
<li><a href="chap10.html#pipelines-multiple">10.4. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">10.5. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">10.6. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">10.7. Specialization Constants</a></li>
<li><a href="chap10.html#pipelines-binding">10.8. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">10.9. Dynamic State</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">11.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">11.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">12.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">12.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">12.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">12.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">12.5. Image Views</a></li>
<li><a href="chap12.html#resources-association">12.6. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">12.7. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">12.8. Memory Aliasing</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Samplers</a></li>
<li><a href="chap14.html">14. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap14.html#descriptorsets-types">14.1. Descriptor Types</a></li>
<li><a href="chap14.html#descriptorsets-sets">14.2. Descriptor Sets</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#interfaces-iointerfaces">15.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap15.html#interfaces-vertexinput">15.2. Vertex Input Interface</a></li>
<li><a href="chap15.html#interfaces-fragmentoutput">15.3. Fragment Output Interface</a></li>
<li><a href="chap15.html#interfaces-inputattachment">15.4. Fragment Input Attachment Interface</a></li>
<li><a href="chap15.html#interfaces-resources">15.5. Shader Resource Interface</a></li>
<li><a href="chap15.html#interfaces-builtin-variables">15.6. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">16.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">16.2. Conversion Formulas</a></li>
<li><a href="chap16.html#_texel_input_operations">16.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">16.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">16.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">16.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">16.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">16.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-instructions">16.9. Image Operation Steps</a></li>
<li><a href="chap16.html#textures-queries">16.10. Image Query Instructions</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Queries</a>
<ul class="sectlevel2">
<li><a href="chap17.html#queries-pools">17.1. Query Pools</a></li>
<li><a href="chap17.html#queries-operation">17.2. Query Operation</a></li>
<li><a href="chap17.html#queries-occlusion">17.3. Occlusion Queries</a></li>
<li><a href="chap17.html#queries-pipestats">17.4. Pipeline Statistics Queries</a></li>
<li><a href="chap17.html#queries-timestamps">17.5. Timestamp Queries</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap18.html#clears-outside">18.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap18.html#clears-inside">18.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap18.html#clears-values">18.3. Clear Values</a></li>
<li><a href="chap18.html#clears-filling-buffers">18.4. Filling Buffers</a></li>
<li><a href="chap18.html#clears-updating-buffers">18.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#copies-buffers">19.1. Copying Data Between Buffers</a></li>
<li><a href="chap19.html#copies-images">19.2. Copying Data Between Images</a></li>
<li><a href="chap19.html#copies-buffers-images">19.3. Copying Data Between Buffers and Images</a></li>
<li><a href="chap19.html#copies-imagescaling">19.4. Image Copies with Scaling</a></li>
<li><a href="chap19.html#copies-resolve">19.5. Resolving Multisample Images</a></li>
</ul>
</li>
<li><a href="chap20.html">20. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#drawing-primitive-topologies">20.1. Primitive Topologies</a></li>
<li><a href="chap20.html#drawing-primitive-order">20.2. Primitive Order</a></li>
<li><a href="chap20.html#drawing-primitive-shading">20.3. Programmable Primitive Shading</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap21.html#fxvertex-attrib">21.1. Vertex Attributes</a></li>
<li><a href="chap21.html#fxvertex-input">21.2. Vertex Input Description</a></li>
<li><a href="chap21.html#fxvertex-input-address-calculation">21.3. Vertex Input Address Calculation</a></li>
</ul>
</li>
<li><a href="chap22.html">22. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap22.html#_tessellator">22.1. Tessellator</a></li>
<li><a href="chap22.html#_tessellator_patch_discard">22.2. Tessellator Patch Discard</a></li>
<li><a href="chap22.html#tessellation-tessellator-spacing">22.3. Tessellator Spacing</a></li>
<li><a href="chap22.html#tessellation-primitive-order">22.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap22.html#tessellation-vertex-winding-order">22.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap22.html#tessellation-triangle-tessellation">22.6. Triangle Tessellation</a></li>
<li><a href="chap22.html#tessellation-quad-tessellation">22.7. Quad Tessellation</a></li>
<li><a href="chap22.html#tessellation-isoline-tessellation">22.8. Isoline Tessellation</a></li>
<li><a href="chap22.html#tessellation-point-mode">22.9. Tessellation Point Mode</a></li>
<li><a href="chap22.html#_tessellation_pipeline_state">22.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap23.html">23. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap23.html#geometry-input">23.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap23.html#geometry-output">23.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap23.html#geometry-invocations">23.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap23.html#geometry-ordering">23.4. Geometry Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap24.html">24. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap24.html#vertexpostproc-flatshading">24.1. Flat Shading</a></li>
<li><a href="chap24.html#vertexpostproc-clipping">24.2. Primitive Clipping</a></li>
<li><a href="chap24.html#vertexpostproc-clipping-shader-outputs">24.3. Clipping Shader Outputs</a></li>
<li><a href="chap24.html#vertexpostproc-coord-transform">24.4. Coordinate Transformations</a></li>
<li><a href="chap24.html#vertexpostproc-viewport">24.5. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap25.html">25. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap25.html#primsrast-discard">25.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap25.html#primsrast-order">25.2. Rasterization Order</a></li>
<li><a href="chap25.html#primsrast-multisampling">25.3. Multisampling</a></li>
<li><a href="chap25.html#primsrast-sampleshading">25.4. Sample Shading</a></li>
<li><a href="chap25.html#primsrast-points">25.5. Points</a></li>
<li><a href="chap25.html#primsrast-lines">25.6. Line Segments</a></li>
<li><a href="chap25.html#primsrast-polygons">25.7. Polygons</a></li>
</ul>
</li>
<li><a href="chap26.html">26. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap26.html#fragops-scissor">26.1. Scissor Test</a></li>
<li><a href="chap26.html#fragops-samplemask">26.2. Sample Mask Test</a></li>
<li><a href="chap26.html#fragops-shader">26.3. Fragment Shading</a></li>
<li><a href="chap26.html#fragops-covg">26.4. Multisample Coverage</a></li>
<li><a href="chap26.html#fragops-ds-state">26.5. Depth and Stencil Operations</a></li>
<li><a href="chap26.html#fragops-dbt">26.6. Depth Bounds Test</a></li>
<li><a href="chap26.html#fragops-stencil">26.7. Stencil Test</a></li>
<li><a href="chap26.html#fragops-depth">26.8. Depth Test</a></li>
<li><a href="chap26.html#fragops-samplecount">26.9. Sample Counting</a></li>
<li><a href="chap26.html#fragops-coverage-reduction">26.10. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap27.html">27. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap27.html#framebuffer-blending">27.1. Blending</a></li>
<li><a href="chap27.html#framebuffer-logicop">27.2. Logical Operations</a></li>
<li><a href="chap27.html#framebuffer-color-write-mask">27.3. Color Write Mask</a></li>
</ul>
</li>
<li><a href="chap28.html">28. Dispatching Commands</a></li>
<li><a href="chap29.html">29. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap29.html#sparsememory-sparseresourcefeatures">29.1. Sparse Resource Features</a></li>
<li><a href="chap29.html#sparsememory-fully-resident">29.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap29.html#sparsememory-partially-resident-buffers">29.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap29.html#sparsememory-partially-resident-images">29.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap29.html#sparsememory-sparse-memory-aliasing">29.5. Sparse Memory Aliasing</a></li>
<li><a href="chap29.html#_sparse_resource_implementation_guidelines_informative">29.6. Sparse Resource Implementation Guidelines (Informative)</a></li>
<li><a href="chap29.html#sparsememory-resourceapi">29.7. Sparse Resource API</a></li>
</ul>
</li>
<li><a href="chap30.html">30. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap30.html#extendingvulkan-instanceanddevicefunctionality">30.1. Instance and Device Functionality</a></li>
<li><a href="chap30.html#extendingvulkan-coreversions">30.2. Core Versions</a></li>
<li><a href="chap30.html#extendingvulkan-layers">30.3. Layers</a></li>
<li><a href="chap30.html#extendingvulkan-extensions">30.4. Extensions</a></li>
<li><a href="chap30.html#extendingvulkan-extensions-extensiondependencies">30.5. Extension Dependencies</a></li>
<li><a href="chap30.html#_compatibility_guarantees_informative">30.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap31.html">31. Features</a>
<ul class="sectlevel2">
<li><a href="chap31.html#features-requirements">31.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="chap32.html">32. Limits</a>
<ul class="sectlevel2">
<li><a href="chap32.html#limits-minmax">32.1. Limit Requirements</a></li>
</ul>
</li>
<li><a href="chap33.html">33. Formats</a>
<ul class="sectlevel2">
<li><a href="chap33.html#formats-definition">33.1. Format Definition</a></li>
<li><a href="chap33.html#formats-properties">33.2. Format Properties</a></li>
<li><a href="chap33.html#features-required-format-support">33.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap34.html">34. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap34.html#capabilities-image">34.1. Additional Image Capabilities</a></li>
</ul>
</li>
<li><a href="chap35.html">35. Debugging</a></li>
<li><a href="chap36.html">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap36.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap36.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap36.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap36.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap36.html#spirvenv-image-signedness">Signedness of SPIR-V Image Accesses</a></li>
<li><a href="chap36.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap36.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
</ul>
</li>
<li><a href="chap37.html">Appendix B: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap37.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap37.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap37.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap38.html">Appendix C: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap38.html#versions-1.0">Version 1.0</a></li>
</ul>
</li>
<li><a href="chap39.html">Appendix D: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap39.html#_extension_dependencies">Extension Dependencies</a></li>
<li><a href="chap39.html#extension-appendices-list">List of Extensions</a></li>
</ul>
</li>
<li><a href="chap40.html">Appendix E: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap40.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap40.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap40.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
<li><a href="chap40.html#boilerplate-video-std-headers">Video Std Headers</a></li>
</ul>
</li>
<li><a href="chap41.html">Appendix F: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap41.html#_repeatability">Repeatability</a></li>
<li><a href="chap41.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap41.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap41.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap42.html">Appendix G: Lexicon</a>
<ul class="sectlevel2">
<li><a href="chap42.html#glossary">Glossary</a></li>
<li><a href="chap42.html#lexicon-common-abbreviations">Common Abbreviations</a></li>
<li><a href="chap42.html#lexicon-prefixes">Prefixes</a></li>
</ul>
</li>
<li><a href="chap43.html">Appendix H: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap43.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap43.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
<div id="content" class="loadable"><div class="sect1">
<h2 id="shaders"><a class="anchor" href="chap9.html"></a>9. Shaders</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A shader specifies programmable operations that execute for each vertex,
control point, tessellated vertex, primitive, fragment, or workgroup in the
corresponding stage(s) of the graphics and compute pipelines.</p>
</div>
<div class="paragraph">
<p>Graphics pipelines include vertex shader execution as a result of
<a href="chap20.html">primitive assembly</a>, followed, if enabled, by tessellation
control and evaluation shaders operating on <a href="chap20.html#drawing-patch-lists">patches</a>,
geometry shaders, if enabled, operating on primitives, and fragment shaders,
if present, operating on fragments generated by <a href="chap25.html">Rasterization</a>.
In this specification, vertex, tessellation control, tessellation evaluation
and geometry shaders are collectively referred to as
<a href="chap10.html#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a>s and occur in the logical pipeline before rasterization.
The fragment shader occurs logically after rasterization.</p>
</div>
<div class="paragraph">
<p>Only the compute shader stage is included in a compute pipeline.
Compute shaders operate on compute invocations in a workgroup.</p>
</div>
<div class="paragraph">
<p>Shaders <strong class="purple">can</strong> read from input variables, and read from and write to output
variables.
Input and output variables <strong class="purple">can</strong> be used to transfer data between shader
stages, or to allow the shader to interact with values that exist in the
execution environment.
Similarly, the execution environment provides constants describing
capabilities.</p>
</div>
<div class="paragraph">
<p>Shader variables are associated with execution environment-provided inputs
and outputs using <em>built-in</em> decorations in the shader.
The available decorations for each stage are documented in the following
subsections.</p>
</div>
<div class="sect2">
<h3 id="shader-modules"><a class="anchor" href="chap9.html#shader-modules"></a>9.1. Shader Modules</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><em>Shader modules</em> contain <em>shader code</em> and one or more entry points.
Shaders are selected from a shader module by specifying an entry point as
part of <a href="chap10.html">pipeline</a> creation.
The stages of a pipeline <strong class="purple">can</strong> use shaders that come from different modules.
The shader code defining a shader module <strong class="purple">must</strong> be in the SPIR-V format, as
described by the <a href="chap36.html">Vulkan Environment for SPIR-V</a> appendix.</p>
</div>
<div class="paragraph">
<p>Shader modules are represented by <code>VkShaderModule</code> handles:</p>
</div>
<div id="VkShaderModule" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkShaderModule</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a shader module, call:</p>
</div>
<div id="vkCreateShaderModule" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VkResult</span> <span class="nf">vkCreateShaderModule</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkShaderModuleCreateInfo</span><span class="o">*</span>             <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkShaderModule</span><span class="o">*</span>                             <span class="n">pShaderModule</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the shader module.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a>
structure.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pShaderModule</code> is a pointer to a <a href="chap9.html#VkShaderModule">VkShaderModule</a> handle in
which the resulting shader module object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once a shader module has been created, any entry points it contains <strong class="purple">can</strong> be
used in pipeline shader stages as described in <a href="chap10.html#pipelines-compute">Compute
Pipelines</a> and <a href="chap10.html#pipelines-graphics">Graphics Pipelines</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateShaderModule-pCreateInfo-06905" href="chap9.html#VUID-vkCreateShaderModule-pCreateInfo-06905"></a> <span class="vuid">VUID-vkCreateShaderModule-pCreateInfo-06905</span><br>

If <code>pCreateInfo</code> is not <code>NULL</code>, <code>pCreateInfo-&gt;pNext</code> <strong class="purple">must</strong> be
<code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateShaderModule-device-parameter" href="chap9.html#VUID-vkCreateShaderModule-device-parameter"></a> <span class="vuid">VUID-vkCreateShaderModule-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateShaderModule-pCreateInfo-parameter" href="chap9.html#VUID-vkCreateShaderModule-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateShaderModule-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateShaderModule-pAllocator-parameter" href="chap9.html#VUID-vkCreateShaderModule-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateShaderModule-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateShaderModule-pShaderModule-parameter" href="chap9.html#VUID-vkCreateShaderModule-pShaderModule-parameter"></a> <span class="vuid">VUID-vkCreateShaderModule-pShaderModule-parameter</span><br>
 <code>pShaderModule</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap9.html#VkShaderModule">VkShaderModule</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkShaderModuleCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkShaderModuleCreateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkShaderModuleCreateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>              <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                  <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkShaderModuleCreateFlags</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="kt">size_t</span>                       <span class="n">codeSize</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">uint32_t</span><span class="o">*</span>              <span class="n">pCode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkShaderModuleCreateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>codeSize</code> is the size, in bytes, of the code pointed to by
<code>pCode</code>.</p>
</li>
<li>
<p><code>pCode</code> is a pointer to code that is used to create the shader
module.
The type and format of the code is determined from the content of the
memory addressed by <code>pCode</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-codeSize-08735" href="chap9.html#VUID-VkShaderModuleCreateInfo-codeSize-08735"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-codeSize-08735</span><br>

 <code>codeSize</code> <strong class="purple">must</strong> be a multiple of 4</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08736" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08736"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08736</span><br>

 <code>pCode</code> <strong class="purple">must</strong> point to valid SPIR-V code,
formatted and packed as described by the <a href="chap2.html#spirv-spec">Khronos SPIR-V
Specification</a></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08737" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08737"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08737</span><br>

 <code>pCode</code> <strong class="purple">must</strong> adhere to the validation rules
described by the <a href="chap36.html#spirvenv-module-validation">Validation Rules within a
Module</a> section of the <a href="chap36.html#spirvenv-capabilities">SPIR-V Environment</a>
appendix</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08738" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08738"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08738</span><br>

 <code>pCode</code> <strong class="purple">must</strong> declare the <code>Shader</code> capability
for SPIR-V code</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08739" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08739"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08739</span><br>

 <code>pCode</code> <strong class="purple">must</strong> not declare any capability that is
not supported by the API, as described by the
<a href="chap36.html#spirvenv-module-validation">Capabilities</a> section of the
<a href="chap36.html#spirvenv-capabilities">SPIR-V Environment</a> appendix</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08740" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08740"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08740</span><br>

 and <code>pCode</code> declares any of the capabilities
listed in the <a href="chap36.html#spirvenv-capabilities-table">SPIR-V Environment</a>
appendix, one of the corresponding requirements <strong class="purple">must</strong> be satisfied</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08741" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08741"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08741</span><br>

 <code>pCode</code> <strong class="purple">must</strong> not declare any SPIR-V extension
that is not supported by the API, as described by the
<a href="chap36.html#spirvenv-extensions">Extension</a> section of the
<a href="chap36.html#spirvenv-capabilities">SPIR-V Environment</a> appendix</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-08742" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-08742"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-08742</span><br>

 and <code>pCode</code> declares any of the SPIR-V extensions
listed in the <a href="chap36.html#spirvenv-extensions-table">SPIR-V Environment</a>
appendix, one of the corresponding requirements <strong class="purple">must</strong> be satisfied</p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-codeSize-01085" href="chap9.html#VUID-VkShaderModuleCreateInfo-codeSize-01085"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-codeSize-01085</span><br>

<code>codeSize</code> <strong class="purple">must</strong> be greater than 0</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-sType-sType" href="chap9.html#VUID-VkShaderModuleCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-flags-zerobitmask" href="chap9.html#VUID-VkShaderModuleCreateInfo-flags-zerobitmask"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkShaderModuleCreateInfo-pCode-parameter" href="chap9.html#VUID-VkShaderModuleCreateInfo-pCode-parameter"></a> <span class="vuid">VUID-VkShaderModuleCreateInfo-pCode-parameter</span><br>
 <code>pCode</code> <strong class="purple">must</strong> be a valid pointer to an array of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textrm mtight">codeSize</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> <code>uint32_t</code> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkShaderModuleCreateFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkShaderModuleCreateFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkShaderModuleCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a shader module, call:</p>
</div>
<div id="vkDestroyShaderModule" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="kt">void</span> <span class="nf">vkDestroyShaderModule</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkShaderModule</span>                              <span class="n">shaderModule</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the shader module.</p>
</li>
<li>
<p><code>shaderModule</code> is the handle of the shader module to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A shader module <strong class="purple">can</strong> be destroyed while pipelines created using its shaders
are still in use.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-01092" href="chap9.html#VUID-vkDestroyShaderModule-shaderModule-01092"></a> <span class="vuid">VUID-vkDestroyShaderModule-shaderModule-01092</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>shaderModule</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-01093" href="chap9.html#VUID-vkDestroyShaderModule-shaderModule-01093"></a> <span class="vuid">VUID-vkDestroyShaderModule-shaderModule-01093</span><br>

If no <code>VkAllocationCallbacks</code> were provided when <code>shaderModule</code>
was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyShaderModule-device-parameter" href="chap9.html#VUID-vkDestroyShaderModule-device-parameter"></a> <span class="vuid">VUID-vkDestroyShaderModule-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-parameter" href="chap9.html#VUID-vkDestroyShaderModule-shaderModule-parameter"></a> <span class="vuid">VUID-vkDestroyShaderModule-shaderModule-parameter</span><br>
 If <code>shaderModule</code> is not <a href="chap40.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>shaderModule</code> <strong class="purple">must</strong> be a valid <a href="chap9.html#VkShaderModule">VkShaderModule</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-pAllocator-parameter" href="chap9.html#VUID-vkDestroyShaderModule-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyShaderModule-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyShaderModule-shaderModule-parent" href="chap9.html#VUID-vkDestroyShaderModule-shaderModule-parent"></a> <span class="vuid">VUID-vkDestroyShaderModule-shaderModule-parent</span><br>
 If <code>shaderModule</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>shaderModule</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-binding"><a class="anchor" href="chap9.html#shaders-binding"></a>9.2. Binding Shaders</h3>
<div class="paragraph">
<p>Before a shader can be used it <strong class="purple">must</strong> be first bound to the command buffer.</p>
</div>
<div class="paragraph">
<p>Calling <a href="chap10.html#vkCmdBindPipeline">vkCmdBindPipeline</a> binds all stages corresponding to the
<a href="chap10.html#VkPipelineBindPoint">VkPipelineBindPoint</a>.</p>
</div>
<div class="paragraph">
<p>The following table describes the relationship between shader stages and
pipeline bind points:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Shader stage</th>
<th class="tableblock halign-left valign-top">Pipeline bind point</th>
<th class="tableblock halign-left valign-top">behavior controlled</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_VERTEX_BIT</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_GEOMETRY_BIT</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_BIND_POINT_GRAPHICS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all <a href="chap20.html">drawing commands</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_COMPUTE_BIT</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PIPELINE_BIND_POINT_COMPUTE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all <a href="chap28.html">dispatch commands</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="shaders-execution"><a class="anchor" href="chap9.html#shaders-execution"></a>9.3. Shader Execution</h3>
<div class="paragraph">
<p>At each stage of the pipeline, multiple invocations of a shader <strong class="purple">may</strong> execute
simultaneously.
Further, invocations of a single shader produced as the result of different
commands <strong class="purple">may</strong> execute simultaneously.
The relative execution order of invocations of the same shader type is
undefined.
Shader invocations <strong class="purple">may</strong> complete in a different order than that in which the
primitives they originated from were drawn or dispatched by the application.
However, fragment shader outputs are written to attachments in
<a href="chap25.html#primsrast-order">rasterization order</a>.</p>
</div>
<div class="paragraph">
<p>The relative execution order of invocations of different shader types is
largely undefined.
However, when invoking a shader whose inputs are generated from a previous
pipeline stage, the shader invocations from the previous stage are
guaranteed to have executed far enough to generate input values for all
required inputs.</p>
</div>
<div class="sect3">
<h4 id="shaders-termination"><a class="anchor" href="chap9.html#shaders-termination"></a>9.3.1. Shader Termination</h4>
<div class="paragraph">
<p>A shader invocation that is <em>terminated</em> has finished executing
instructions.</p>
</div>
<div class="paragraph">
<p>Executing <code>OpReturn</code> in the entry point, or executing
<code>OpTerminateInvocation</code> in any function will terminate an invocation.
Implementations <strong class="purple">may</strong> also terminate a shader invocation when <code>OpKill</code> is
executed in any function; otherwise it becomes a
<a href="chap9.html#shaders-helper-invocations">helper invocation</a>.</p>
</div>
<div class="paragraph">
<p>In addition to the above conditions, <a href="chap9.html#shaders-helper-invocations">helper
invocations</a> are terminated when all non-helper invocations in the same
<a href="chap9.html#shaders-derivative-operations">derivative group</a> either terminate or
become <a href="chap9.html#shaders-helper-invocations">helper invocations</a> via
<code>OpKill</code>.</p>
</div>
<div class="paragraph">
<p>A shader stage for a given command completes execution when all invocations
for that stage have terminated.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-execution-memory-ordering"><a class="anchor" href="chap9.html#shaders-execution-memory-ordering"></a>9.4. Shader Memory Access Ordering</h3>
<div class="paragraph">
<p>The order in which image or buffer memory is read or written by shaders is
largely undefined.
For some shader types (vertex, tessellation evaluation, and in some cases,
fragment), even the number of shader invocations that <strong class="purple">may</strong> perform loads and
stores is undefined.</p>
</div>
<div class="paragraph">
<p>In particular, the following rules apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#shaders-vertex-execution">Vertex</a> and
<a href="chap9.html#shaders-tessellation-evaluation-execution">tessellation evaluation</a>
shaders will be invoked at least once for each unique vertex, as defined
in those sections.</p>
</li>
<li>
<p><a href="chap26.html#fragops-shader">Fragment</a> shaders will be invoked zero or more times,
as defined in that section.</p>
</li>
<li>
<p>The relative execution order of invocations of the same shader type is
undefined.
A store issued by a shader when working on primitive B might complete
prior to a store for primitive A, even if primitive A is specified prior
to primitive B. This applies even to fragment shaders; while fragment
shader outputs are always written to the framebuffer in
<a href="chap25.html#primsrast-order">rasterization order</a>, stores executed by fragment
shader invocations are not.</p>
</li>
<li>
<p>The relative execution order of invocations of different shader types is
largely undefined.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The above limitations on shader invocation order make some forms of
synchronization between shader invocations within a single set of primitives
unimplementable.
For example, having one invocation poll memory written by another invocation
assumes that the other invocation has been launched and will complete its
writes in finite time.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Stores issued to different memory locations within a single shader
invocation <strong class="purple">may</strong> not be visible to other invocations, or <strong class="purple">may</strong> not become
visible in the order they were performed.</p>
</div>
<div class="paragraph">
<p>The <code>OpMemoryBarrier</code> instruction <strong class="purple">can</strong> be used to provide stronger
ordering of reads and writes performed by a single invocation.
<code>OpMemoryBarrier</code> guarantees that any memory transactions issued by the
shader invocation prior to the instruction complete prior to the memory
transactions issued after the instruction.
Memory barriers are needed for algorithms that require multiple invocations
to access the same memory and require the operations to be performed in a
partially-defined relative order.
For example, if one shader invocation does a series of writes, followed by
an <code>OpMemoryBarrier</code> instruction, followed by another write, then the
results of the series of writes before the barrier become visible to other
shader invocations at a time earlier or equal to when the results of the
final write become visible to those invocations.
In practice it means that another invocation that sees the results of the
final write would also see the previous writes.
Without the memory barrier, the final write <strong class="purple">may</strong> be visible before the
previous writes.</p>
</div>
<div class="paragraph">
<p>Writes that are the result of shader stores through a variable decorated
with <code>Coherent</code> automatically have available writes to the same buffer,
buffer view, or image view made visible to them, and are themselves
automatically made available to access by the same buffer, buffer view, or
image view.
Reads that are the result of shader loads through a variable decorated with
<code>Coherent</code> automatically have available writes to the same buffer, buffer
view, or image view made visible to them.
The order that coherent writes to different locations become available is
undefined, unless enforced by a memory barrier instruction or other memory
dependency.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Explicit memory dependencies <strong class="purple">must</strong> still be used to guarantee availability
and visibility for access via other buffers, buffer views, or image views.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The built-in atomic memory transaction instructions <strong class="purple">can</strong> be used to read and
write a given memory address atomically.
While built-in atomic functions issued by multiple shader invocations are
executed in undefined order relative to each other, these functions perform
both a read and a write of a memory address and guarantee that no other
memory transaction will write to the underlying memory between the read and
write.
Atomic operations ensure automatic availability and visibility for writes
and reads in the same way as those to <code>Coherent</code> variables.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Memory accesses performed on different resource descriptors with the same
memory backing <strong class="purple">may</strong> not be well-defined even with the <code>Coherent</code>
decoration or via atomics, due to things such as image layouts or ownership
of the resource - as described in the <a href="chap7.html">Synchronization and
Cache Control</a> chapter.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Atomics allow shaders to use shared global addresses for mutual exclusion or
as counters, among other uses.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The SPIR-V <strong>SubgroupMemory</strong>, <strong>CrossWorkgroupMemory</strong>, and
<strong>AtomicCounterMemory</strong> memory semantics are ignored.
Sequentially consistent atomics and barriers are not supported and
<strong>SequentiallyConsistent</strong> is treated as <strong>AcquireRelease</strong>.
<strong>SequentiallyConsistent</strong> <strong class="purple">should</strong> not be used.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-inputs"><a class="anchor" href="chap9.html#shaders-inputs"></a>9.5. Shader Inputs and Outputs</h3>
<div class="paragraph">
<p>Data is passed into and out of shaders using variables with input or output
storage class, respectively.
User-defined inputs and outputs are connected between stages by matching
their <code>Location</code> decorations.
Additionally, data <strong class="purple">can</strong> be provided by or communicated to special functions
provided by the execution environment using <code>BuiltIn</code> decorations.</p>
</div>
<div class="paragraph">
<p>In many cases, the same <code>BuiltIn</code> decoration <strong class="purple">can</strong> be used in multiple
shader stages with similar meaning.
The specific behavior of variables decorated as <code>BuiltIn</code> is documented
in the following sections.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-vertex"><a class="anchor" href="chap9.html#shaders-vertex"></a>9.6. Vertex Shaders</h3>
<div class="paragraph">
<p>Each vertex shader invocation operates on one vertex and its associated
<a href="chap21.html#fxvertex-attrib">vertex attribute</a> data, and outputs one vertex and
associated data.
Graphics pipelines <strong class="purple">must</strong> include a vertex shader, and the vertex shader
stage is always the first shader stage in the graphics pipeline.</p>
</div>
<div class="sect3">
<h4 id="shaders-vertex-execution"><a class="anchor" href="chap9.html#shaders-vertex-execution"></a>9.6.1. Vertex Shader Execution</h4>
<div class="paragraph">
<p>A vertex shader <strong class="purple">must</strong> be executed at least once for each vertex specified by
a drawing command.
During execution, the shader is presented with the index of the vertex and
instance for which it has been invoked.
Input variables declared in the vertex shader are filled by the
implementation with the values of vertex attributes associated with the
invocation being executed.</p>
</div>
<div class="paragraph">
<p>If the same vertex is specified multiple times in a drawing command (e.g. by
including the same index value multiple times in an index buffer) the
implementation <strong class="purple">may</strong> reuse the results of vertex shading if it can statically
determine that the vertex shader invocations will produce identical results.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is implementation-dependent when and if results of vertex shading are
reused, and thus how many times the vertex shader will be executed.
This is true also if the vertex shader contains stores or atomic operations
(see <a href="chap31.html#features-vertexPipelineStoresAndAtomics"><code>vertexPipelineStoresAndAtomics</code></a>).</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-tessellation-control"><a class="anchor" href="chap9.html#shaders-tessellation-control"></a>9.7. Tessellation Control Shaders</h3>
<div class="paragraph">
<p>The tessellation control shader is used to read an input patch provided by
the application and to produce an output patch.
Each tessellation control shader invocation operates on an input patch
(after all control points in the patch are processed by a vertex shader) and
its associated data, and outputs a single control point of the output patch
and its associated data, and <strong class="purple">can</strong> also output additional per-patch data.
The input patch is sized according to the <code>patchControlPoints</code> member of
<a href="chap22.html#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a>, as part of input assembly.</p>
</div>
<div class="paragraph">
<p>The size of the output patch is controlled by the <code>OpExecutionMode</code>
<code>OutputVertices</code> specified in the tessellation control or tessellation
evaluation shaders, which <strong class="purple">must</strong> be specified in at least one of the shaders.
The size of the input and output patches <strong class="purple">must</strong> each be greater than zero and
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxTessellationPatchSize</code>.</p>
</div>
<div class="sect3">
<h4 id="shaders-tessellation-control-execution"><a class="anchor" href="chap9.html#shaders-tessellation-control-execution"></a>9.7.1. Tessellation Control Shader Execution</h4>
<div class="paragraph">
<p>A tessellation control shader is invoked at least once for each <em>output</em>
vertex in a patch.</p>
</div>
<div class="paragraph">
<p>Inputs to the tessellation control shader are generated by the vertex
shader.
Each invocation of the tessellation control shader <strong class="purple">can</strong> read the attributes
of any incoming vertices and their associated data.
The invocations corresponding to a given patch execute logically in
parallel, with undefined relative execution order.
However, the <code>OpControlBarrier</code> instruction <strong class="purple">can</strong> be used to provide
limited control of the execution order by synchronizing invocations within a
patch, effectively dividing tessellation control shader execution into a set
of phases.
Tessellation control shaders will read undefined values if one invocation
reads a per-vertex or per-patch output written by another invocation at any
point during the same phase, or if two invocations attempt to write
different values to the same per-patch output in a single phase.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-tessellation-evaluation"><a class="anchor" href="chap9.html#shaders-tessellation-evaluation"></a>9.8. Tessellation Evaluation Shaders</h3>
<div class="paragraph">
<p>The Tessellation Evaluation Shader operates on an input patch of control
points and their associated data, and a single input barycentric coordinate
indicating the invocation’s relative position within the subdivided patch,
and outputs a single vertex and its associated data.</p>
</div>
<div class="sect3">
<h4 id="shaders-tessellation-evaluation-execution"><a class="anchor" href="chap9.html#shaders-tessellation-evaluation-execution"></a>9.8.1. Tessellation Evaluation Shader Execution</h4>
<div class="paragraph">
<p>A tessellation evaluation shader is invoked at least once for each unique
vertex generated by the tessellator.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-geometry"><a class="anchor" href="chap9.html#shaders-geometry"></a>9.9. Geometry Shaders</h3>
<div class="paragraph">
<p>The geometry shader operates on a group of vertices and their associated
data assembled from a single input primitive, and emits zero or more output
primitives and the group of vertices and their associated data required for
each output primitive.</p>
</div>
<div class="sect3">
<h4 id="shaders-geometry-execution"><a class="anchor" href="chap9.html#shaders-geometry-execution"></a>9.9.1. Geometry Shader Execution</h4>
<div class="paragraph">
<p>A geometry shader is invoked at least once for each primitive produced by
the tessellation stages, or at least once for each primitive generated by
<a href="chap20.html">primitive assembly</a> when tessellation is not in use.
A shader can request that the geometry shader runs multiple
<a href="chap23.html#geometry-invocations">instances</a>.
A geometry shader is invoked at least once for each instance.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-fragment"><a class="anchor" href="chap9.html#shaders-fragment"></a>9.10. Fragment Shaders</h3>
<div class="paragraph">
<p>Fragment shaders are invoked as a <a href="chap26.html#fragops-shader">fragment operation</a> in
a graphics pipeline.
Each fragment shader invocation operates on a single fragment and its
associated data.
With few exceptions, fragment shaders do not have access to any data
associated with other fragments and are considered to execute in isolation
of fragment shader invocations associated with other fragments.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-compute"><a class="anchor" href="chap9.html#shaders-compute"></a>9.11. Compute Shaders</h3>
<div class="paragraph">
<p>Compute shaders are invoked via <a href="chap28.html#vkCmdDispatch">vkCmdDispatch</a> and
<a href="chap28.html#vkCmdDispatchIndirect">vkCmdDispatchIndirect</a> commands.
In general, they have access to similar resources as shader stages executing
as part of a graphics pipeline.</p>
</div>
<div class="paragraph">
<p>Compute workloads are formed from groups of work items called workgroups and
processed by the compute shader in the current compute pipeline.
A workgroup is a collection of shader invocations that execute the same
shader, potentially in parallel.
Compute shaders execute in <em>global workgroups</em> which are divided into a
number of <em>local workgroups</em> with a size that <strong class="purple">can</strong> be set by assigning a
value to the <code>LocalSize</code>
execution mode or via an object decorated by the <code>WorkgroupSize</code>
decoration.
An invocation within a local workgroup <strong class="purple">can</strong> share data with other members of
the local workgroup through shared variables and issue memory and control
flow barriers to synchronize with other members of the local workgroup.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-interpolation-decorations"><a class="anchor" href="chap9.html#shaders-interpolation-decorations"></a>9.12. Interpolation decorations</h3>
<div class="paragraph">
<p>Variables in the <code>Input</code> storage class in a fragment shader’s interface
are interpolated from the values specified by the primitive being
rasterized.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Interpolation decorations can be present on input and output variables in
pre-rasterization shaders but have no effect on the interpolation performed.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>An undecorated input variable will be interpolated with perspective-correct
interpolation according to the primitive type being rasterized.
<a href="chap25.html#line_perspective_interpolation">Lines</a> and
<a href="chap25.html#triangle_perspective_interpolation">polygons</a> are interpolated in the same
way as the primitive’s clip coordinates.
If the <code>NoPerspective</code> decoration is present, linear interpolation is
instead used for <a href="chap25.html#line_linear_interpolation">lines</a> and
<a href="chap25.html#triangle_linear_interpolation">polygons</a>.
For points, as there is only a single vertex, input values are never
interpolated and instead take the value written for the single vertex.</p>
</div>
<div class="paragraph">
<p>If the <code>Flat</code> decoration is present on an input variable, the value is
not interpolated, and instead takes its value directly from the
<a href="chap24.html#vertexpostproc-flatshading">provoking vertex</a>.
Fragment shader inputs that are signed or unsigned integers, integer
vectors, or any double-precision floating-point type <strong class="purple">must</strong> be decorated with
<code>Flat</code>.</p>
</div>
<div class="paragraph">
<p>Interpolation of input variables is performed at an implementation-defined
position within the fragment area being shaded.
The position is further constrained as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the <code>Centroid</code> decoration is used, the interpolation position used
for the variable <strong class="purple">must</strong> also fall within the bounds of the primitive
being rasterized.</p>
</li>
<li>
<p>If the <code>Sample</code> decoration is used, the interpolation position used
for the variable <strong class="purple">must</strong> be at the position of the sample being shaded by
the current fragment shader invocation.</p>
</li>
<li>
<p>If a sample count of 1 is used, the interpolation position <strong class="purple">must</strong> be at
the center of the fragment area.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>As <code>Centroid</code> restricts the possible interpolation position to the
covered area of the primitive, the position can be forced to vary between
neighboring fragments when it otherwise would not.
Derivatives calculated based on these differing locations can produce
inconsistent results compared to undecorated inputs.
It is recommended that input variables used in derivative calculations are
not decorated with <code>Centroid</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="shaders-staticuse"><a class="anchor" href="chap9.html#shaders-staticuse"></a>9.13. Static Use</h3>
<div class="paragraph">
<p>A SPIR-V module declares a global object in memory using the <code>OpVariable</code>
instruction, which results in a pointer <code>x</code> to that object.
A specific entry point in a SPIR-V module is said to <em>statically use</em> that
object if that entry point’s call tree contains a function containing a
instruction with <code>x</code> as an <code>id</code> operand.
A shader entry point also <em>statically uses</em> any variables explicitly
declared in its interface.</p>
</div>
</div>
<div class="sect2">
<h3 id="shaders-scope"><a class="anchor" href="chap9.html#shaders-scope"></a>9.14. Scope</h3>
<div class="paragraph">
<p>A <em>scope</em> describes a set of shader invocations, where each such set is a
<em>scope instance</em>.
Each invocation belongs to one or more scope instances, but belongs to no
more than one scope instance for each scope.</p>
</div>
<div class="paragraph">
<p>The operations available between invocations in a given scope instance vary,
with smaller scopes generally able to perform more operations, and with
greater efficiency.</p>
</div>
<div class="sect3">
<h4 id="shaders-scope-cross-device"><a class="anchor" href="chap9.html#shaders-scope-cross-device"></a>9.14.1. Cross Device</h4>
<div class="paragraph">
<p>All invocations executed in a Vulkan instance fall into a single <em>cross
device scope instance</em>.</p>
</div>
<div class="paragraph">
<p>Whilst the <code>CrossDevice</code> scope is defined in SPIR-V, it is disallowed in
Vulkan.
API <a href="chap7.html">synchronization</a> commands <strong class="purple">can</strong> be used to
communicate between devices.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-device"><a class="anchor" href="chap9.html#shaders-scope-device"></a>9.14.2. Device</h4>
<div class="paragraph">
<p>All invocations executed on a single device form a <em>device scope instance</em>.</p>
</div>
<div class="paragraph">
<p>There is no method to synchronize the execution of these invocations within
SPIR-V, and this <strong class="purple">can</strong> only be done with API synchronization primitives.</p>
</div>
<div class="paragraph">
<p>The scope only extends to the queue family, not the whole device.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-queue-family"><a class="anchor" href="chap9.html#shaders-scope-queue-family"></a>9.14.3. Queue Family</h4>
<div class="paragraph">
<p>Invocations executed by queues in a given queue family form a <em>queue family
scope instance</em>.</p>
</div>
<div class="paragraph">
<p>This scope is identified in SPIR-V as the
<code>Device</code> <code>Scope</code>, which <strong class="purple">can</strong> be used as a <code>Memory</code> <code>Scope</code> for
barrier and atomic operations.</p>
</div>
<div class="paragraph">
<p>There is no method to synchronize the execution of these invocations within
SPIR-V, and this <strong class="purple">can</strong> only be done with API synchronization primitives.</p>
</div>
<div class="paragraph">
<p>Each invocation in a queue family scope instance <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-device">device scope instance</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-command"><a class="anchor" href="chap9.html#shaders-scope-command"></a>9.14.4. Command</h4>
<div class="paragraph">
<p>Any shader invocations executed as the result of a single command such as
<a href="chap28.html#vkCmdDispatch">vkCmdDispatch</a> or <a href="chap20.html#vkCmdDraw">vkCmdDraw</a> form a <em>command scope instance</em>.
For indirect drawing commands with <code>drawCount</code> greater than one,
invocations from separate draws are in separate command scope instances.</p>
</div>
<div class="paragraph">
<p>There is no specific <code>Scope</code> for communication across invocations in a
command scope instance.
As this has a clear boundary at the API level, coordination here <strong class="purple">can</strong> be
performed in the API, rather than in SPIR-V.</p>
</div>
<div class="paragraph">
<p>Each invocation in a command scope instance <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-queue-family">queue-family scope instance</a>.</p>
</div>
<div class="paragraph">
<p>For shaders without defined <a href="chap9.html#shaders-scope-workgroup">workgroups</a>, this
set of invocations forms an <em>invocation group</em> as defined in the
<a href="chap2.html#spirv-spec">SPIR-V specification</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-primitive"><a class="anchor" href="chap9.html#shaders-scope-primitive"></a>9.14.5. Primitive</h4>
<div class="paragraph">
<p>Any fragment shader invocations executed as the result of rasterization of a
single primitive form a <em>primitive scope instance</em>.</p>
</div>
<div class="paragraph">
<p>There is no specific <code>Scope</code> for communication across invocations in a
primitive scope instance.</p>
</div>
<div class="paragraph">
<p>Any generated <a href="chap9.html#shaders-helper-invocations">helper invocations</a> are
included in this scope instance.</p>
</div>
<div class="paragraph">
<p>Each invocation in a primitive scope instance <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-command">command scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Any input variables decorated with <code>Flat</code> are uniform within a primitive
scope instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-workgroup"><a class="anchor" href="chap9.html#shaders-scope-workgroup"></a>9.14.6. Workgroup</h4>
<div class="paragraph">
<p>A <em>local workgroup</em> is a set of invocations that can synchronize and share
data with each other using memory in the <code>Workgroup</code> storage class.</p>
</div>
<div class="paragraph">
<p>The <code>Workgroup</code> <code>Scope</code> can be used as both an <code>Execution</code>
<code>Scope</code> and <code>Memory</code> <code>Scope</code> for barrier and atomic operations.</p>
</div>
<div class="paragraph">
<p>Each invocation in a local workgroup <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-command">command scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Only
compute shaders have defined workgroups - other shader types <strong class="purple">cannot</strong> use
workgroup functionality.
For shaders that have defined workgroups, this set of invocations forms an
<em>invocation group</em> as defined in the <a href="chap2.html#spirv-spec">SPIR-V specification</a>.</p>
</div>
<div id="workgroup-padding" class="paragraph">
<p>The amount of storage consumed by the
variables declared with the <code>Workgroup</code> storage class is
implementation-dependent.
However, the amount of storage consumed may not exceed the largest block
size that would be obtained if all active
variables declared with <code>Workgroup</code> storage class were assigned offsets
in an arbitrary order by successively taking the smallest valid offset
according to the <a href="chap15.html#interfaces-resources-standard-layout">Standard Storage
Buffer Layout</a> rules, and with <code>Boolean</code> values considered as 32-bit
integer values for the purpose of this calculation.
(This is equivalent to using the GLSL std430 layout rules.)</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-quad"><a class="anchor" href="chap9.html#shaders-scope-quad"></a>9.14.7. Quad</h4>
<div class="paragraph">
<p>A <em>quad scope instance</em> is formed of four shader invocations.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, each invocation in a quad scope instance is formed of
invocations in neighboring framebuffer locations <span class="eq">(x<sub>i</sub>, y<sub>i</sub>)</span>, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">i</span> is the index of the invocation within the scope instance.</p>
</li>
<li>
<p><span class="eq">w</span> and <span class="eq">h</span> are the number of pixels the fragment covers in the
<span class="eq">x</span> and <span class="eq">y</span> axes.</p>
</li>
<li>
<p><span class="eq">w</span> and <span class="eq">h</span> are identical for all participating invocations.</p>
</li>
<li>
<p><span class="eq">(x<sub>0</sub>) = (x<sub>1</sub> - w) = (x<sub>2</sub>) = (x<sub>3</sub> - w)</span></p>
</li>
<li>
<p><span class="eq">(y<sub>0</sub>) = (y<sub>1</sub>) = (y<sub>2</sub> - h) = (y<sub>3</sub> - h)</span></p>
</li>
<li>
<p>Each invocation has the same layer and sample indices.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The specific set of invocations that make up a quad scope instance in other
shader stages is undefined.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, each invocation in a quad scope instance <strong class="purple">must</strong> be in
the same <a href="chap9.html#shaders-scope-primitive">primitive scope instance</a>.</p>
</div>
<div class="paragraph">
<p>For <a href="chap9.html#shaders-scope-workgroup">shaders that have defined workgroups</a>, each
invocation in a quad scope instance <strong class="purple">must</strong> be in the same
<a href="chap9.html#shaders-scope-workgroup">local workgroup</a>.</p>
</div>
<div class="paragraph">
<p>In other shader stages, each invocation in a quad scope instance <strong class="purple">must</strong> be in
the same <a href="chap9.html#shaders-scope-device">device scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Fragment
shaders have defined quad scope instances.</p>
</div>
</div>
<div class="sect3">
<h4 id="shaders-scope-invocation"><a class="anchor" href="chap9.html#shaders-scope-invocation"></a>9.14.8. Invocation</h4>
<div class="paragraph">
<p>The smallest <em>scope</em> is a single invocation; this is represented by the
<code>Invocation</code> <code>Scope</code> in SPIR-V.</p>
</div>
<div class="paragraph">
<p>Fragment shader invocations <strong class="purple">must</strong> be in a <a href="chap9.html#shaders-scope-primitive">primitive scope instance</a>.</p>
</div>
<div class="paragraph">
<p>Invocations in <a href="chap9.html#shaders-scope-workgroup">shaders that have defined
workgroups</a> <strong class="purple">must</strong> be in a <a href="chap9.html#shaders-scope-workgroup">local workgroup</a>.</p>
</div>
<div class="paragraph">
<p>Invocations in <a href="chap9.html#shaders-scope-quad">shaders that have a defined quad
scope</a> <strong class="purple">must</strong> be in a <a href="chap9.html#shaders-scope-quad">quad scope instance</a>.</p>
</div>
<div class="paragraph">
<p>All invocations in all stages <strong class="purple">must</strong> be in a <a href="chap9.html#shaders-scope-command">command
scope instance</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shaders-derivative-operations"><a class="anchor" href="chap9.html#shaders-derivative-operations"></a>9.15. Derivative Operations</h3>
<div class="paragraph">
<p>Derivative operations calculate the partial derivative for an expression
<span class="eq">P</span> as a function of an invocation’s <span class="eq">x</span> and <span class="eq">y</span> coordinates.</p>
</div>
<div class="paragraph">
<p>Derivative operations operate on a set of invocations known as a <em>derivative
group</em> as defined in the <a href="chap2.html#spirv-spec">SPIR-V specification</a>.
A derivative group is equivalent to
the <a href="chap9.html#shaders-scope-primitive">primitive scope instance</a> for a fragment
shader invocation.</p>
</div>
<div class="paragraph">
<p>Derivatives are calculated assuming that <span class="eq">P</span> is piecewise linear and
continuous within the derivative group.
All dynamic instances of explicit derivative instructions (<code>OpDPdx*</code>,
<code>OpDPdy*</code>, and <code>OpFwidth*</code>) <strong class="purple">must</strong> be executed in control flow that is
uniform within a derivative group.
For other derivative operations, results are undefined if a dynamic
instance is executed in control flow that is not uniform within the
derivative group.</p>
</div>
<div class="paragraph">
<p>Fragment shaders that statically execute derivative operations <strong class="purple">must</strong> launch
sufficient invocations to ensure their correct operation; additional
<a href="chap9.html#shaders-helper-invocations">helper invocations</a> are launched for
framebuffer locations not covered by rasterized fragments if necessary.</p>
</div>
<div class="paragraph">
<p>Derivative operations calculate their results as the difference between the
result of <span class="eq">P</span> across invocations in the quad.
For fine derivative operations (<code>OpDPdxFine</code> and <code>OpDPdyFine</code>), the
values of <span class="eq">DPdx(P<sub>i</sub>)</span> are calculated as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdx(P<sub>0</sub>) = DPdx(P<sub>1</sub>) = P<sub>1</sub> - P<sub>0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdx(P<sub>2</sub>) = DPdx(P<sub>3</sub>) = P<sub>3</sub> - P<sub>2</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>and the values of <span class="eq">DPdy(P<sub>i</sub>)</span> are calculated as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdy(P<sub>0</sub>) = DPdy(P<sub>2</sub>) = P<sub>2</sub> - P<sub>0</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdy(P<sub>1</sub>) = DPdy(P<sub>3</sub>) = P<sub>3</sub> - P<sub>1</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">i</span> is the index of each invocation as described in
<a href="chap9.html#shaders-scope-quad">Quad</a>.</p>
</div>
<div class="paragraph">
<p>Coarse derivative operations (<code>OpDPdxCoarse</code> and <code>OpDPdyCoarse</code>),
calculate their results in roughly the same manner, but <strong class="purple">may</strong> only calculate
two values instead of four (one for each of <span class="eq">DPdx</span> and <span class="eq">DPdy</span>),
reusing the same result no matter the originating invocation.
If an implementation does this, it <strong class="purple">should</strong> use the fine derivative
calculations described for <span class="eq">P<sub>0</sub></span>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Derivative values are calculated between fragments rather than pixels.
If the fragment shader invocations involved in the calculation cover
multiple pixels, these operations cover a wider area, resulting in larger
derivative values.
This in turn will result in a coarser LOD being selected for image sampling
operations using derivatives.</p>
</div>
<div class="paragraph">
<p>Applications may want to account for this when using multi-pixel fragments;
if pixel derivatives are desired, applications should use explicit
derivative operations and divide the results by the size of the fragment in
each dimension as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdx(P<sub>n</sub>)' = DPdx(P<sub>n</sub>) / w</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">DPdy(P<sub>n</sub>)' = DPdy(P<sub>n</sub>) / h</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">w</span> and <span class="eq">h</span> are the size of the fragments in the quad, and
<span class="eq">DPdx(P<sub>n</sub>)'</span> and <span class="eq">DPdy(P<sub>n</sub>)'</span> are the pixel derivatives.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The results for <code>OpDPdx</code> and <code>OpDPdy</code> <strong class="purple">may</strong> be calculated as either
fine or coarse derivatives, with implementations favouring the most
efficient approach.
Implementations <strong class="purple">must</strong> choose coarse or fine consistently between the two.</p>
</div>
<div class="paragraph">
<p>Executing <code>OpFwidthFine</code>, <code>OpFwidthCoarse</code>, or <code>OpFwidth</code> is
equivalent to executing the corresponding <code>OpDPdx*</code> and <code>OpDPdy*</code>
instructions, taking the absolute value of the results, and summing them.</p>
</div>
<div class="paragraph">
<p>Executing an <code>OpImage*Sample*ImplicitLod</code> instruction is equivalent to
executing <code>OpDPdx</code>(<code>Coordinate</code>) and <code>OpDPdy</code>(<code>Coordinate</code>), and
passing the results as the <code>Grad</code> operands <code>dx</code> and <code>dy</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is expected that using the <code>ImplicitLod</code> variants of sampling
functions will be substantially more efficient than using the
<code>ExplicitLod</code> variants with explicitly generated derivatives.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="shaders-helper-invocations"><a class="anchor" href="chap9.html#shaders-helper-invocations"></a>9.16. Helper Invocations</h3>
<div class="paragraph">
<p>When performing <a href="chap9.html#shaders-derivative-operations">derivative</a>
operations in a fragment shader, additional invocations <strong class="purple">may</strong> be spawned in
order to ensure correct results.
These additional invocations are known as <em>helper invocations</em> and <strong class="purple">can</strong> be
identified by a non-zero value in the <code>HelperInvocation</code> built-in.
Stores and atomics performed by helper invocations <strong class="purple">must</strong> not have any effect
on memory except for the <code>Function</code>, <code>Private</code> and <code>Output</code> storage
classes, and values returned by atomic instructions in helper invocations
are undefined.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>While storage to <code>Output</code> storage class has an effect even in helper
invocations, it does not mean that helper invocations have an effect on the
framebuffer.
<code>Output</code> variables in fragment shaders can be read from as well, and they
behave more like <code>Private</code> variables for the duration of the shader
invocation.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>For <a href="#shaders-group-operations" class="target-missing">group operations</a> other than
<a href="chap9.html#shaders-derivative-operations">derivative</a>
operations, helper invocations <strong class="purple">may</strong> be treated as inactive even if they
would be considered otherwise active.</p>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap8.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap10.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer">
<div id="footer-text">
Version 1.0.264<br>
Last updated 2023-08-25 00:26:25 -0700
</div>
</div>



</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>