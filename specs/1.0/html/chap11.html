<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="author" content="The Khronos® Vulkan Working Group">
<title>Vulkan® 1.0.114 - A Specification</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: #fff; color: #222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: black; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #0068b0; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #333; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: Noto, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Noto, sans-serif; font-weight: normal; font-style: normal; color: black; text-rendering: optimizeLegibility; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #4d4d4d; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #264357; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; list-style-position: outside; font-family: Noto, sans-serif; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #ddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #ddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #5e93b8; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #5e93b8; }

blockquote, blockquote p { line-height: 1.6; color: #333; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #ddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: #fff; margin-bottom: 1.25em; border: solid 1px #d8d8ce; }
table thead, table tfoot { background: #eee; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #6d6e71; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f8; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 0; background-color: transparent; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; word-wrap: break-word; }
*:not(pre) > code.nobreak { word-wrap: normal; }
*:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.6; color: #264357; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #333333; }

kbd { font-family: Consolas, "Liberation Mono", Courier, monospace; display: inline-block; color: black; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 1.5em; padding-right: 1.5em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #5e93b8; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #333; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #333; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 0 solid #ddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: Noto, sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: black; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #fff; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #ddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #ddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: none; padding: 1.25em; }

#footer-text { color: black; line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 0 solid #ddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: black; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: black; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: initial; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: Noto, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddd; color: #5e93b8; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: black; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px hidden #666; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 1.25em 1.5625em 1.125em 1.5625em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eee; background-color: #264357; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1.25em 1.5625em 1.125em 1.5625em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.6; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 0.75em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #333; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: black; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #5e93b8; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 0.75em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #333; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #5e93b8; }

.quoteblock.abstract { margin: 0 0 0.75em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #d8d8ce; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: #eee; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.375em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.375em -0.75em; }

ul.inline > li { margin-left: 0.75em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 0.75em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist > table tr > td:first-of-type img { max-width: initial; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px #fff; -webkit-box-shadow: 0 0 0 1px #ddd; box-shadow: 0 0 0 1px #ddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #29475c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { border-bottom: 1px solid #ddd; }

.sect1 { padding-bottom: 0; }

#toctitle { color: #00406F; font-weight: normal; margin-top: 1.5em; }

.sidebarblock { border-color: #aaa; }

code { -webkit-border-radius: 4px; border-radius: 4px; }

p.tableblock.header { color: #6d6e71; }

.literalblock pre, .listingblock pre { background: #eee; }

/* From https://github.com/KhronosGroup/Vulkan-Docs/pull/901 */
a code { color: inherit; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<link rel="stylesheet" href="../katex/katex.min.css">
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<script src="../katex/katex.min.js"></script>
<script src="../katex/contrib/auto-render.min.js"></script>
    <!-- Use KaTeX to render math once document is loaded, see
         https://github.com/Khan/KaTeX/tree/master/contrib/auto-render -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(
            document.body,
            {
                delimiters: [
                    { left: "$$", right: "$$", display: true},
                    { left: "\\[", right: "\\]", display: true},
                    { left: "$", right: "$", display: false},
                    { left: "\\(", right: "\\)", display: false}
                ]
            }
        );
    });
</script></head>
<body class="book toc2 toc-left" style="max-width: 100;">
<div id="header">
<h1>Vulkan<sup>®</sup> 1.0.114 - A Specification </h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan Working Group</span><br>
<span id="revnumber">version 1.0.114,</span>
<span id="revdate">2019-07-08 03:27:52Z</span>
<br><span id="revremark">from git branch: github-master commit: 7eb07044df67e19e768080c7f378fc0938ead346</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1"><li><a href="index.html#preamble">0. Preamble</a></li></ul>
<ul class="sectlevel1">
<li><a href="chap1.html#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap1.html#introduction-conventions">1.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap2.html#fundamentals">2. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap2.html#fundamentals-host-environment">2.1. Host and Device Environment</a></li>
<li><a href="chap2.html#fundamentals-execmodel">2.2. Execution Model</a></li>
<li><a href="chap2.html#fundamentals-objectmodel-overview">2.3. Object Model</a></li>
<li><a href="chap2.html#fundamentals-abi">2.4. Application Binary Interface</a></li>
<li><a href="chap2.html#fundamentals-commandsyntax">2.5. Command Syntax and Duration</a></li>
<li><a href="chap2.html#fundamentals-threadingbehavior">2.6. Threading Behavior</a></li>
<li><a href="chap2.html#fundamentals-errors">2.7. Errors</a></li>
<li><a href="chap2.html#fundamentals-numerics">2.8. Numeric Representation and Computation</a></li>
<li><a href="chap2.html#fundamentals-fixedconv">2.9. Fixed-Point Data Conversions</a></li>
<li><a href="chap2.html#fundamentals-common-objects">2.10. Common Object Types</a></li>
</ul>
</li>
<li><a href="chap3.html#initialization">3. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap3.html#initialization-functionpointers">3.1. Command Function Pointers</a></li>
<li><a href="chap3.html#initialization-instances">3.2. Instances</a></li>
</ul>
</li>
<li><a href="chap4.html#devsandqueues">4. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap4.html#devsandqueues-physical-device-enumeration">4.1. Physical Devices</a></li>
<li><a href="chap4.html#devsandqueues-devices">4.2. Devices</a></li>
<li><a href="chap4.html#devsandqueues-queues">4.3. Queues</a></li>
</ul>
</li>
<li><a href="chap5.html#commandbuffers">5. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap5.html#commandbuffers-lifecycle">5.1. Command Buffer Lifecycle</a></li>
<li><a href="chap5.html#commandbuffers-pools">5.2. Command Pools</a></li>
<li><a href="chap5.html#commandbuffer-allocation">5.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap5.html#commandbuffers-recording">5.4. Command Buffer Recording</a></li>
<li><a href="chap5.html#commandbuffers-submission">5.5. Command Buffer Submission</a></li>
<li><a href="chap5.html#commandbuffers-submission-progress">5.6. Queue Forward Progress</a></li>
<li><a href="chap5.html#commandbuffers-secondary">5.7. Secondary Command Buffer Execution</a></li>
</ul>
</li>
<li><a href="chap6.html#synchronization">6. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap6.html#synchronization-dependencies">6.1. Execution and Memory Dependencies</a></li>
<li><a href="chap6.html#synchronization-implicit">6.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap6.html#synchronization-fences">6.3. Fences</a></li>
<li><a href="chap6.html#synchronization-semaphores">6.4. Semaphores</a></li>
<li><a href="chap6.html#synchronization-events">6.5. Events</a></li>
<li><a href="chap6.html#synchronization-pipeline-barriers">6.6. Pipeline Barriers</a></li>
<li><a href="chap6.html#synchronization-memory-barriers">6.7. Memory Barriers</a></li>
<li><a href="chap6.html#synchronization-wait-idle">6.8. Wait Idle Operations</a></li>
<li><a href="chap6.html#synchronization-submission-host-writes">6.9. Host Write Ordering Guarantees</a></li>
</ul>
</li>
<li><a href="chap7.html#renderpass">7. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap7.html#renderpass-creation">7.1. Render Pass Creation</a></li>
<li><a href="chap7.html#renderpass-compatibility">7.2. Render Pass Compatibility</a></li>
<li><a href="chap7.html#_framebuffers">7.3. Framebuffers</a></li>
<li><a href="chap7.html#renderpass-commands">7.4. Render Pass Commands</a></li>
</ul>
</li>
<li><a href="chap8.html#shaders">8. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap8.html#shader-modules">8.1. Shader Modules</a></li>
<li><a href="chap8.html#shaders-execution">8.2. Shader Execution</a></li>
<li><a href="chap8.html#shaders-execution-memory-ordering">8.3. Shader Memory Access Ordering</a></li>
<li><a href="chap8.html#shaders-inputs">8.4. Shader Inputs and Outputs</a></li>
<li><a href="chap8.html#shaders-vertex">8.5. Vertex Shaders</a></li>
<li><a href="chap8.html#shaders-tessellation-control">8.6. Tessellation Control Shaders</a></li>
<li><a href="chap8.html#shaders-tessellation-evaluation">8.7. Tessellation Evaluation Shaders</a></li>
<li><a href="chap8.html#shaders-geometry">8.8. Geometry Shaders</a></li>
<li><a href="chap8.html#shaders-fragment">8.9. Fragment Shaders</a></li>
<li><a href="chap8.html#shaders-compute">8.10. Compute Shaders</a></li>
<li><a href="chap8.html#shaders-interpolation-decorations">8.11. Interpolation Decorations</a></li>
<li><a href="chap8.html#shaders-staticuse">8.12. Static Use</a></li>
<li><a href="chap8.html#shaders-invocationgroups">8.13. Invocation and Derivative Groups</a></li>
</ul>
</li>
<li><a href="chap9.html#pipelines">9. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap9.html#pipelines-compute">9.1. Compute Pipelines</a></li>
<li><a href="chap9.html#pipelines-graphics">9.2. Graphics Pipelines</a></li>
<li><a href="chap9.html#pipelines-destruction">9.3. Pipeline destruction</a></li>
<li><a href="chap9.html#pipelines-multiple">9.4. Multiple Pipeline Creation</a></li>
<li><a href="chap9.html#pipelines-pipeline-derivatives">9.5. Pipeline Derivatives</a></li>
<li><a href="chap9.html#pipelines-cache">9.6. Pipeline Cache</a></li>
<li><a href="chap9.html#pipelines-specialization-constants">9.7. Specialization Constants</a></li>
<li><a href="chap9.html#pipelines-binding">9.8. Pipeline Binding</a></li>
<li><a href="chap9.html#pipelines-dynamic-state">9.9. Dynamic State</a></li>
</ul>
</li>
<li><a href="chap10.html#memory">10. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap10.html#memory-host">10.1. Host Memory</a></li>
<li><a href="chap10.html#memory-device">10.2. Device Memory</a></li>
</ul>
</li>
<li><a href="#resources">11. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="#resources-buffers">11.1. Buffers</a></li>
<li><a href="#resources-buffer-views">11.2. Buffer Views</a></li>
<li><a href="#resources-images">11.3. Images</a></li>
<li><a href="#resources-image-layouts">11.4. Image Layouts</a></li>
<li><a href="#resources-image-views">11.5. Image Views</a></li>
<li><a href="#resources-association">11.6. Resource Memory Association</a></li>
<li><a href="#resources-sharing">11.7. Resource Sharing Mode</a></li>
<li><a href="#resources-memory-aliasing">11.8. Memory Aliasing</a></li>
</ul>
</li>
<li><a href="chap12.html#samplers">12. Samplers</a></li>
<li><a href="chap13.html#descriptorsets">13. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap13.html#descriptorsets-types">13.1. Descriptor Types</a></li>
<li><a href="chap13.html#descriptorsets-sets">13.2. Descriptor Sets</a></li>
</ul>
</li>
<li><a href="chap14.html#interfaces">14. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap14.html#interfaces-iointerfaces">14.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap14.html#interfaces-vertexinput">14.2. Vertex Input Interface</a></li>
<li><a href="chap14.html#interfaces-fragmentoutput">14.3. Fragment Output Interface</a></li>
<li><a href="chap14.html#interfaces-inputattachment">14.4. Fragment Input Attachment Interface</a></li>
<li><a href="chap14.html#interfaces-resources">14.5. Shader Resource Interface</a></li>
<li><a href="chap14.html#interfaces-builtin-variables">14.6. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap15.html#textures">15. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap15.html#_image_operations_overview">15.1. Image Operations Overview</a></li>
<li><a href="chap15.html#_conversion_formulas">15.2. Conversion Formulas</a></li>
<li><a href="chap15.html#_texel_input_operations">15.3. Texel Input Operations</a></li>
<li><a href="chap15.html#_texel_output_operations">15.4. Texel Output Operations</a></li>
<li><a href="chap15.html#texture-derivatives">15.5. Derivative Operations</a></li>
<li><a href="chap15.html#textures-normalized-operations">15.6. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap15.html#_unnormalized_texel_coordinate_operations">15.7. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap15.html#textures-integer-coordinate-operations">15.8. Integer Texel Coordinate Operations</a></li>
<li><a href="chap15.html#textures-sample-operations">15.9. Image Sample Operations</a></li>
<li><a href="chap15.html#textures-instructions">15.10. Image Operation Steps</a></li>
</ul>
</li>
<li><a href="chap16.html#queries">16. Queries</a>
<ul class="sectlevel2">
<li><a href="chap16.html#queries-pools">16.1. Query Pools</a></li>
<li><a href="chap16.html#queries-operation">16.2. Query Operation</a></li>
<li><a href="chap16.html#queries-occlusion">16.3. Occlusion Queries</a></li>
<li><a href="chap16.html#queries-pipestats">16.4. Pipeline Statistics Queries</a></li>
<li><a href="chap16.html#queries-timestamps">16.5. Timestamp Queries</a></li>
</ul>
</li>
<li><a href="chap17.html#clears">17. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap17.html#clears-outside">17.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap17.html#clears-inside">17.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap17.html#clears-values">17.3. Clear Values</a></li>
<li><a href="chap17.html#clears-filling-buffers">17.4. Filling Buffers</a></li>
<li><a href="chap17.html#clears-updating-buffers">17.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap18.html#copies">18. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap18.html#_common_operation">18.1. Common Operation</a></li>
<li><a href="chap18.html#copies-buffers">18.2. Copying Data Between Buffers</a></li>
<li><a href="chap18.html#copies-images">18.3. Copying Data Between Images</a></li>
<li><a href="chap18.html#copies-buffers-images">18.4. Copying Data Between Buffers and Images</a></li>
<li><a href="chap18.html#copies-imagescaling">18.5. Image Copies with Scaling</a></li>
<li><a href="chap18.html#copies-resolve">18.6. Resolving Multisample Images</a></li>
</ul>
</li>
<li><a href="chap19.html#drawing">19. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#drawing-primitive-topologies">19.1. Primitive Topologies</a></li>
<li><a href="chap19.html#drawing-primitive-order">19.2. Primitive Order</a></li>
<li><a href="chap19.html#drawing-primitive-shading">19.3. Programmable Primitive Shading</a></li>
</ul>
</li>
<li><a href="chap20.html#fxvertex">20. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap20.html#fxvertex-attrib">20.1. Vertex Attributes</a></li>
<li><a href="chap20.html#fxvertex-input">20.2. Vertex Input Description</a></li>
<li><a href="chap20.html#fxvertex-example">20.3. Example</a></li>
</ul>
</li>
<li><a href="chap21.html#tessellation">21. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap21.html#_tessellator">21.1. Tessellator</a></li>
<li><a href="chap21.html#_tessellator_patch_discard">21.2. Tessellator Patch Discard</a></li>
<li><a href="chap21.html#tessellation-tessellator-spacing">21.3. Tessellator Spacing</a></li>
<li><a href="chap21.html#tessellation-primitive-order">21.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap21.html#tessellation-vertex-winding-order">21.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap21.html#tessellation-triangle-tessellation">21.6. Triangle Tessellation</a></li>
<li><a href="chap21.html#tessellation-quad-tessellation">21.7. Quad Tessellation</a></li>
<li><a href="chap21.html#tessellation-isoline-tessellation">21.8. Isoline Tessellation</a></li>
<li><a href="chap21.html#tessellation-point-mode">21.9. Tessellation Point Mode</a></li>
<li><a href="chap21.html#_tessellation_pipeline_state">21.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap22.html#geometry">22. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap22.html#geometry-input">22.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap22.html#geometry-output">22.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap22.html#geometry-invocations">22.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap22.html#geometry-ordering">22.4. Geometry Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap23.html#vertexpostproc">23. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap23.html#vertexpostproc-flatshading">23.1. Flat Shading</a></li>
<li><a href="chap23.html#vertexpostproc-clipping">23.2. Primitive Clipping</a></li>
<li><a href="chap23.html#vertexpostproc-clipping-shader-outputs">23.3. Clipping Shader Outputs</a></li>
<li><a href="chap23.html#vertexpostproc-coord-transform">23.4. Coordinate Transformations</a></li>
<li><a href="chap23.html#vertexpostproc-viewport">23.5. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap24.html#primsrast">24. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap24.html#primsrast-discard">24.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap24.html#primrast-order">24.2. Rasterization Order</a></li>
<li><a href="chap24.html#primsrast-multisampling">24.3. Multisampling</a></li>
<li><a href="chap24.html#primsrast-sampleshading">24.4. Sample Shading</a></li>
<li><a href="chap24.html#primsrast-points">24.5. Points</a></li>
<li><a href="chap24.html#primsrast-lines">24.6. Line Segments</a></li>
<li><a href="chap24.html#primsrast-polygons">24.7. Polygons</a></li>
</ul>
</li>
<li><a href="chap25.html#fragops">25. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap25.html#fragops-early">25.1. Early Per-Fragment Tests</a></li>
<li><a href="chap25.html#fragops-scissor">25.2. Scissor Test</a></li>
<li><a href="chap25.html#fragops-samplemask">25.3. Sample Mask</a></li>
<li><a href="chap25.html#fragops-early-mode">25.4. Early Fragment Test Mode</a></li>
<li><a href="chap25.html#fragops-late">25.5. Late Per-Fragment Tests</a></li>
<li><a href="chap25.html#fragops-covg">25.6. Multisample Coverage</a></li>
<li><a href="chap25.html#fragops-ds-state">25.7. Depth and Stencil Operations</a></li>
<li><a href="chap25.html#fragops-dbt">25.8. Depth Bounds Test</a></li>
<li><a href="chap25.html#fragops-stencil">25.9. Stencil Test</a></li>
<li><a href="chap25.html#fragops-depth">25.10. Depth Test</a></li>
<li><a href="chap25.html#fragops-samplecount">25.11. Sample Counting</a></li>
<li><a href="chap25.html#fragops-coverage-reduction">25.12. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap26.html#framebuffer">26. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap26.html#framebuffer-blending">26.1. Blending</a></li>
<li><a href="chap26.html#framebuffer-logicop">26.2. Logical Operations</a></li>
<li><a href="chap26.html#framebuffer-color-write-mask">26.3. Color Write Mask</a></li>
</ul>
</li>
<li><a href="chap27.html#dispatch">27. Dispatching Commands</a></li>
<li><a href="chap28.html#sparsememory">28. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap28.html#sparsememory-sparseresourcefeatures">28.1. Sparse Resource Features</a></li>
<li><a href="chap28.html#sparsememory-fully-resident">28.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap28.html#sparsememory-partially-resident-buffers">28.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap28.html#sparsememory-partially-resident-images">28.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap28.html#sparsememory-sparse-memory-aliasing">28.5. Sparse Memory Aliasing</a></li>
<li><a href="chap28.html#_sparse_resource_implementation_guidelines">28.6. Sparse Resource Implementation Guidelines</a></li>
<li><a href="chap28.html#sparsememory-resourceapi">28.7. Sparse Resource API</a></li>
<li><a href="chap28.html#sparsememory-examples">28.8. Examples</a></li>
</ul>
</li>
<li><a href="chap29.html#extendingvulkan">29. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap29.html#extendingvulkan-instanceanddevicefunctionality">29.1. Instance and Device Functionality</a></li>
<li><a href="chap29.html#extendingvulkan-coreversions">29.2. Core Versions</a></li>
<li><a href="chap29.html#extendingvulkan-layers">29.3. Layers</a></li>
<li><a href="chap29.html#extendingvulkan-extensions">29.4. Extensions</a></li>
<li><a href="chap29.html#extendingvulkan-extensions-extensiondependencies">29.5. Extension Dependencies</a></li>
<li><a href="chap29.html#_compatibility_guarantees_informative">29.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap30.html#features">30. Features</a>
<ul class="sectlevel2">
<li><a href="chap30.html#features-requirements">30.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="chap31.html#limits">31. Limits</a>
<ul class="sectlevel2">
<li><a href="chap31.html#limits-minmax">31.1. Limit Requirements</a></li>
</ul>
</li>
<li><a href="chap32.html#formats">32. Formats</a>
<ul class="sectlevel2">
<li><a href="chap32.html#formats-definition">32.1. Format Definition</a></li>
<li><a href="chap32.html#formats-properties">32.2. Format Properties</a></li>
<li><a href="chap32.html#features-required-format-support">32.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap33.html#capabilities">33. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap33.html#capabilities-image">33.1. Additional Image Capabilities</a></li>
</ul>
</li>
<li><a href="chap34.html#_debugging">34. Debugging</a></li>
<li><a href="chap35.html#spirvenv">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap35.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap35.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap35.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap35.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap35.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
</ul>
</li>
<li><a href="chap36.html#_compressed_image_formats">Appendix B: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap36.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap36.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap36.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap37.html#extensions">Appendix C: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap37.html#extension-appendices-list">List of Extensions</a></li>
</ul>
</li>
<li><a href="chap38.html#boilerplate">Appendix D: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap38.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap38.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
</ul>
</li>
<li><a href="chap39.html#invariance">Appendix E: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap39.html#_repeatability">Repeatability</a></li>
<li><a href="chap39.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap39.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap39.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap40.html#glossary">Glossary</a></li>
<li><a href="chap41.html#_common_abbreviations">Common Abbreviations</a></li>
<li><a href="chap42.html#_prefixes">Prefixes</a></li>
<li><a href="chap43.html#credits">Appendix F: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap43.html#_working_group_contributors_to_vulkan_1_1_and_1_0">Working Group Contributors to Vulkan 1.1 and 1.0</a></li>
<li><a href="chap43.html#_working_group_contributors_to_vulkan_1_1">Working Group Contributors to Vulkan 1.1</a></li>
<li><a href="chap43.html#_working_group_contributors_to_vulkan_1_0">Working Group Contributors to Vulkan 1.0</a></li>
<li><a href="chap43.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
</div>
<div id="content"><div class="sect1">
<h2 id="resources">11. Resource Creation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vulkan supports two primary resource types: <em>buffers</em> and <em>images</em>.
Resources are views of memory with associated formatting and dimensionality.
Buffers are essentially unformatted arrays of bytes whereas images contain
format information, <strong class="purple">can</strong> be multidimensional and <strong class="purple">may</strong> have associated
metadata.</p>
</div>
<div class="sect2">
<h3 id="resources-buffers">11.1. Buffers</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Buffers represent linear arrays of data which are used for various purposes
by binding them to a graphics or compute pipeline via descriptor sets or via
certain commands, or by directly specifying them as parameters to certain
commands.</p>
</div>
<div class="paragraph">
<p>Buffers are represented by <code>VkBuffer</code> handles:</p>
</div>
<div id="VkBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkBuffer)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create buffers, call:</p>
</div>
<div id="vkCreateBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateBuffer(
    VkDevice                                    device,
    <span class="directive">const</span> VkBufferCreateInfo*                   pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkBuffer*                                   pBuffer);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the buffer object.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to an instance of the
<code>VkBufferCreateInfo</code> structure containing parameters affecting
creation of the buffer.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap10.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pBuffer</code> points to a <a href="#VkBuffer">VkBuffer</a> handle in which the resulting
buffer object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateBuffer-flags-00911"></a>
If the <code>flags</code> member of <code>pCreateInfo</code> includes
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code>, creating this <code>VkBuffer</code>
<strong class="purple">must</strong> not cause the total required sparse memory for all currently valid
sparse resources on the device to exceed
<code>VkPhysicalDeviceLimits</code>::<code>sparseAddressSpaceSize</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateBuffer-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateBuffer-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkBufferCreateInfo</code> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateBuffer-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkAllocationCallbacks</code> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateBuffer-pBuffer-parameter"></a> <code>pBuffer</code> <strong class="purple">must</strong> be a valid pointer to a <code>VkBuffer</code> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap2.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap2.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBufferCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkBufferCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkBufferCreateInfo {
    VkStructureType        sType;
    <span class="directive">const</span> <span class="directive">void</span>*            pNext;
    VkBufferCreateFlags    flags;
    VkDeviceSize           size;
    VkBufferUsageFlags     usage;
    VkSharingMode          sharingMode;
    uint32_t               queueFamilyIndexCount;
    <span class="directive">const</span> uint32_t*        pQueueFamilyIndices;
} VkBufferCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a> specifying
additional parameters of the buffer.</p>
</li>
<li>
<p><code>size</code> is the size in bytes of the buffer to be created.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a> specifying
allowed usages of the buffer.</p>
</li>
<li>
<p><code>sharingMode</code> is a <a href="#VkSharingMode">VkSharingMode</a> value specifying the sharing
mode of the buffer when it will be accessed by multiple queue families.</p>
</li>
<li>
<p><code>queueFamilyIndexCount</code> is the number of entries in the
<code>pQueueFamilyIndices</code> array.</p>
</li>
<li>
<p><code>pQueueFamilyIndices</code> is a list of queue families that will access
this buffer (ignored if <code>sharingMode</code> is not
<code>VK_SHARING_MODE_CONCURRENT</code>).</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferCreateInfo-size-00912"></a>
<code>size</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-sharingMode-00913"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>pQueueFamilyIndices</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>queueFamilyIndexCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-sharingMode-00914"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>queueFamilyIndexCount</code> <strong class="purple">must</strong> be greater than <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-sharingMode-01391"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>, each element
of <code>pQueueFamilyIndices</code> <strong class="purple">must</strong> be unique and <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<a href="chap4.html#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a> for the
<code>physicalDevice</code> that was used to create <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-flags-00915"></a>
If the <a href="chap30.html#features-sparseBinding">sparse bindings</a> feature is not
enabled, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-flags-00916"></a>
If the <a href="chap30.html#features-sparseResidencyBuffer">sparse buffer residency</a>
feature is not enabled, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-flags-00917"></a>
If the <a href="chap30.html#features-sparseResidencyAliased">sparse aliased residency</a>
feature is not enabled, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-flags-00918"></a>
If <code>flags</code> contains <code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> or
<code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code>, it <strong class="purple">must</strong> also contain
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-usage-parameter"></a> <code>usage</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-usage-requiredbitmask"></a> <code>usage</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkBufferCreateInfo-sharingMode-parameter"></a> <code>sharingMode</code> <strong class="purple">must</strong> be a valid <a href="#VkSharingMode">VkSharingMode</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkBufferCreateInfo">VkBufferCreateInfo</a>::<code>usage</code>, specifying
usage behavior of a buffer, are:</p>
</div>
<div id="VkBufferUsageFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkBufferUsageFlagBits {
    VK_BUFFER_USAGE_TRANSFER_SRC_BIT = <span class="hex">0x00000001</span>,
    VK_BUFFER_USAGE_TRANSFER_DST_BIT = <span class="hex">0x00000002</span>,
    VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT = <span class="hex">0x00000004</span>,
    VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT = <span class="hex">0x00000008</span>,
    VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT = <span class="hex">0x00000010</span>,
    VK_BUFFER_USAGE_STORAGE_BUFFER_BIT = <span class="hex">0x00000020</span>,
    VK_BUFFER_USAGE_INDEX_BUFFER_BIT = <span class="hex">0x00000040</span>,
    VK_BUFFER_USAGE_VERTEX_BUFFER_BIT = <span class="hex">0x00000080</span>,
    VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT = <span class="hex">0x00000100</span>,
    VK_BUFFER_USAGE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkBufferUsageFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_TRANSFER_SRC_BIT</code> specifies that the buffer <strong class="purple">can</strong> be
used as the source of a <em>transfer command</em> (see the definition of
<a href="chap6.html#synchronization-pipeline-stages-transfer"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></a>).</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_TRANSFER_DST_BIT</code> specifies that the buffer <strong class="purple">can</strong> be
used as the destination of a transfer command.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> specifies that the buffer
<strong class="purple">can</strong> be used to create a <code>VkBufferView</code> suitable for occupying a
<code>VkDescriptorSet</code> slot of type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code> specifies that the buffer
<strong class="purple">can</strong> be used to create a <code>VkBufferView</code> suitable for occupying a
<code>VkDescriptorSet</code> slot of type
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code> specifies that the buffer <strong class="purple">can</strong>
be used in a <code>VkDescriptorBufferInfo</code> suitable for occupying a
<code>VkDescriptorSet</code> slot either of type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> specifies that the buffer <strong class="purple">can</strong>
be used in a <code>VkDescriptorBufferInfo</code> suitable for occupying a
<code>VkDescriptorSet</code> slot either of type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_INDEX_BUFFER_BIT</code> specifies that the buffer is
suitable for passing as the <code>buffer</code> parameter to
<code>vkCmdBindIndexBuffer</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_VERTEX_BUFFER_BIT</code> specifies that the buffer is
suitable for passing as an element of the <code>pBuffers</code> array to
<code>vkCmdBindVertexBuffers</code>.</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code> specifies that the buffer is
suitable for passing as the <code>buffer</code> parameter to
<code>vkCmdDrawIndirect</code>, <code>vkCmdDrawIndexedIndirect</code>,
or <code>vkCmdDispatchIndirect</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkBufferUsageFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkBufferUsageFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkBufferUsageFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkBufferCreateInfo">VkBufferCreateInfo</a>::<code>flags</code>, specifying
additional parameters of a buffer, are:</p>
</div>
<div id="VkBufferCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkBufferCreateFlagBits {
    VK_BUFFER_CREATE_SPARSE_BINDING_BIT = <span class="hex">0x00000001</span>,
    VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT = <span class="hex">0x00000002</span>,
    VK_BUFFER_CREATE_SPARSE_ALIASED_BIT = <span class="hex">0x00000004</span>,
    VK_BUFFER_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkBufferCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> specifies that the buffer will
be backed using sparse memory binding.</p>
</li>
<li>
<p><code>VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT</code> specifies that the buffer
<strong class="purple">can</strong> be partially backed using sparse memory binding.
Buffers created with this flag <strong class="purple">must</strong> also be created with the
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> flag.</p>
</li>
<li>
<p><code>VK_BUFFER_CREATE_SPARSE_ALIASED_BIT</code> specifies that the buffer will
be backed using sparse memory binding with memory ranges that might also
simultaneously be backing another buffer (or another portion of the same
buffer).
Buffers created with this flag <strong class="purple">must</strong> also be created with the
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> flag.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="chap28.html#sparsememory-sparseresourcefeatures">Sparse Resource Features</a> and
<a href="chap30.html#features">Physical Device Features</a> for details of the sparse memory
features supported on a device.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkBufferCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkBufferCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkBufferCreateFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a buffer, call:</p>
</div>
<div id="vkDestroyBuffer" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyBuffer(
    VkDevice                                    device,
    VkBuffer                                    buffer,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the buffer.</p>
</li>
<li>
<p><code>buffer</code> is the buffer to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap10.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyBuffer-buffer-00922"></a>
All submitted commands that refer to <code>buffer</code>, either directly or
via a <code>VkBufferView</code>, <strong class="purple">must</strong> have completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyBuffer-buffer-00923"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>buffer</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyBuffer-buffer-00924"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>buffer</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyBuffer-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyBuffer-buffer-parameter"></a> If <code>buffer</code> is not <a href="chap38.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>buffer</code> <strong class="purple">must</strong> be a valid <code>VkBuffer</code> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyBuffer-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkAllocationCallbacks</code> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyBuffer-buffer-parent"></a> If <code>buffer</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>buffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-buffer-views">11.2. Buffer Views</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A <em>buffer view</em> represents a contiguous range of a buffer and a specific
format to be used to interpret the data.
Buffer views are used to enable shaders to access buffer contents
interpreted as formatted data.
In order to create a valid buffer view, the buffer <strong class="purple">must</strong> have been created
with at least one of the following usage flags:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Buffer views are represented by <code>VkBufferView</code> handles:</p>
</div>
<div id="VkBufferView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkBufferView)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a buffer view, call:</p>
</div>
<div id="vkCreateBufferView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateBufferView(
    VkDevice                                    device,
    <span class="directive">const</span> VkBufferViewCreateInfo*               pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkBufferView*                               pView);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the buffer view.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to an instance of the
<code>VkBufferViewCreateInfo</code> structure containing parameters to be used
to create the buffer.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap10.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pView</code> points to a <a href="#VkBufferView">VkBufferView</a> handle in which the resulting
buffer view object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateBufferView-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateBufferView-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkBufferViewCreateInfo</code> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateBufferView-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkAllocationCallbacks</code> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateBufferView-pView-parameter"></a> <code>pView</code> <strong class="purple">must</strong> be a valid pointer to a <code>VkBufferView</code> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap2.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap2.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBufferViewCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkBufferViewCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkBufferViewCreateInfo {
    VkStructureType            sType;
    <span class="directive">const</span> <span class="directive">void</span>*                pNext;
    VkBufferViewCreateFlags    flags;
    VkBuffer                   buffer;
    VkFormat                   format;
    VkDeviceSize               offset;
    VkDeviceSize               range;
} VkBufferViewCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>buffer</code> is a <a href="#VkBuffer">VkBuffer</a> on which the view will be created.</p>
</li>
<li>
<p><code>format</code> is a <a href="chap32.html#VkFormat">VkFormat</a> describing the format of the data
elements in the buffer.</p>
</li>
<li>
<p><code>offset</code> is an offset in bytes from the base address of the buffer.
Accesses to the buffer view from shaders use addressing that is relative
to this starting offset.</p>
</li>
<li>
<p><code>range</code> is a size in bytes of the buffer view.
If <code>range</code> is equal to <code>VK_WHOLE_SIZE</code>, the range from
<code>offset</code> to the end of the buffer is used.
If <code>VK_WHOLE_SIZE</code> is used and the remaining size of the buffer is
not a multiple of the <a href="chap32.html#texel-block-size">texel block size</a> of
<code>format</code>, the nearest smaller multiple is used.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-offset-00925"></a>
<code>offset</code> <strong class="purple">must</strong> be less than the size of <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-offset-02749"></a>
If the <a href="#features-features-texelBufferAlignment">texelBufferAlignment</a>
feature is not enabled, <code>offset</code> <strong class="purple">must</strong> be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minTexelBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-range-00928"></a>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <strong class="purple">must</strong> be
greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-range-00929"></a>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <strong class="purple">must</strong> be
an integer multiple of the texel block size of <code>format</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-range-00930"></a>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> divided
by the texel block size of <code>format</code>, multiplied by the number of
texels per texel block for that format (as defined in the
<a href="chap32.html#formats-compatibility">Compatible Formats</a> table), <strong class="purple">must</strong> be less than
or equal to <code>VkPhysicalDeviceLimits</code>::<code>maxTexelBufferElements</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-offset-00931"></a>
If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, the sum of
<code>offset</code> and <code>range</code> <strong class="purple">must</strong> be less than or equal to the size of
<code>buffer</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-buffer-00932"></a>
<code>buffer</code> <strong class="purple">must</strong> have been created with a <code>usage</code> value containing
at least one of <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code> or
<code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-buffer-00933"></a>
If <code>buffer</code> was created with <code>usage</code> containing
<code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code>, <code>format</code> <strong class="purple">must</strong> be
supported for uniform texel buffers, as specified by the
<code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code> flag in
<code>VkFormatProperties</code>::<code>bufferFeatures</code> returned by
<code>vkGetPhysicalDeviceFormatProperties</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-buffer-00934"></a>
If <code>buffer</code> was created with <code>usage</code> containing
<code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>, <code>format</code> <strong class="purple">must</strong> be
supported for storage texel buffers, as specified by the
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code> flag in
<code>VkFormatProperties</code>::<code>bufferFeatures</code> returned by
<code>vkGetPhysicalDeviceFormatProperties</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-buffer-00935"></a>
If <code>buffer</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_BUFFER_VIEW_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <code>VkBuffer</code> handle</p>
</li>
<li>
<p><a id="VUID-VkBufferViewCreateInfo-format-parameter"></a> <code>format</code> <strong class="purple">must</strong> be a valid <a href="chap32.html#VkFormat">VkFormat</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkBufferViewCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkBufferViewCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkBufferViewCreateFlags</code> is a bitmask type for setting a mask, but is
currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a buffer view, call:</p>
</div>
<div id="vkDestroyBufferView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyBufferView(
    VkDevice                                    device,
    VkBufferView                                bufferView,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the buffer view.</p>
</li>
<li>
<p><code>bufferView</code> is the buffer view to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap10.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyBufferView-bufferView-00936"></a>
All submitted commands that refer to <code>bufferView</code> <strong class="purple">must</strong> have
completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyBufferView-bufferView-00937"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>bufferView</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyBufferView-bufferView-00938"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>bufferView</code>
was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyBufferView-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyBufferView-bufferView-parameter"></a> If <code>bufferView</code> is not <a href="chap38.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>bufferView</code> <strong class="purple">must</strong> be a valid <code>VkBufferView</code> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyBufferView-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkAllocationCallbacks</code> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyBufferView-bufferView-parent"></a> If <code>bufferView</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>bufferView</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-images">11.3. Images</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Images represent multidimensional - up to 3 - arrays of data which <strong class="purple">can</strong> be
used for various purposes (e.g. attachments, textures), by binding them to a
graphics or compute pipeline via descriptor sets, or by directly specifying
them as parameters to certain commands.</p>
</div>
<div class="paragraph">
<p>Images are represented by <code>VkImage</code> handles:</p>
</div>
<div id="VkImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkImage)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create images, call:</p>
</div>
<div id="vkCreateImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateImage(
    VkDevice                                    device,
    <span class="directive">const</span> VkImageCreateInfo*                    pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkImage*                                    pImage);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the image.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to an instance of the
<code>VkImageCreateInfo</code> structure containing parameters to be used to
create the image.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap10.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pImage</code> points to a <a href="#VkImage">VkImage</a> handle in which the resulting
image object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateImage-flags-00939"></a>
If the <code>flags</code> member of <code>pCreateInfo</code> includes
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>, creating this <code>VkImage</code>
<strong class="purple">must</strong> not cause the total required sparse memory for all currently valid
sparse resources on the device to exceed
<code>VkPhysicalDeviceLimits</code>::<code>sparseAddressSpaceSize</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateImage-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateImage-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkImageCreateInfo</code> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImage-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkAllocationCallbacks</code> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImage-pImage-parameter"></a> <code>pImage</code> <strong class="purple">must</strong> be a valid pointer to a <code>VkImage</code> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap2.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap2.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkImageCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageCreateInfo {
    VkStructureType          sType;
    <span class="directive">const</span> <span class="directive">void</span>*              pNext;
    VkImageCreateFlags       flags;
    VkImageType              imageType;
    VkFormat                 format;
    VkExtent3D               extent;
    uint32_t                 mipLevels;
    uint32_t                 arrayLayers;
    VkSampleCountFlagBits    samples;
    VkImageTiling            tiling;
    VkImageUsageFlags        usage;
    VkSharingMode            sharingMode;
    uint32_t                 queueFamilyIndexCount;
    <span class="directive">const</span> uint32_t*          pQueueFamilyIndices;
    VkImageLayout            initialLayout;
} VkImageCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a> describing
additional parameters of the image.</p>
</li>
<li>
<p><code>imageType</code> is a <a href="#VkImageType">VkImageType</a> value specifying the basic
dimensionality of the image.
Layers in array textures do not count as a dimension for the purposes of
the image type.</p>
</li>
<li>
<p><code>format</code> is a <a href="chap32.html#VkFormat">VkFormat</a> describing the format and type of the
texel blocks that will be contained in the image.</p>
</li>
<li>
<p><code>extent</code> is a <a href="chap2.html#VkExtent3D">VkExtent3D</a> describing the number of data
elements in each dimension of the base level.</p>
</li>
<li>
<p><code>mipLevels</code> describes the number of levels of detail available for
minified sampling of the image.</p>
</li>
<li>
<p><code>arrayLayers</code> is the number of layers in the image.</p>
</li>
<li>
<p><code>samples</code> is a <a href="chap31.html#VkSampleCountFlagBits">VkSampleCountFlagBits</a> specifying the number of
<a href="chap24.html#primsrast-multisampling">samples per texel</a>.</p>
</li>
<li>
<p><code>tiling</code> is a <a href="#VkImageTiling">VkImageTiling</a> value specifying the tiling
arrangement of the texel blocks in memory.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a> describing the
intended usage of the image.</p>
</li>
<li>
<p><code>sharingMode</code> is a <a href="#VkSharingMode">VkSharingMode</a> value specifying the sharing
mode of the image when it will be accessed by multiple queue families.</p>
</li>
<li>
<p><code>queueFamilyIndexCount</code> is the number of entries in the
<code>pQueueFamilyIndices</code> array.</p>
</li>
<li>
<p><code>pQueueFamilyIndices</code> is a list of queue families that will access
this image (ignored if <code>sharingMode</code> is not
<code>VK_SHARING_MODE_CONCURRENT</code>).</p>
</li>
<li>
<p><code>initialLayout</code> is a <a href="#VkImageLayout">VkImageLayout</a> value specifying the
initial <a href="#VkImageLayout">VkImageLayout</a> of all image subresources of the image.
See <a href="#resources-image-layouts">Image Layouts</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Images created with <code>tiling</code> equal to <code>VK_IMAGE_TILING_LINEAR</code> have
further restrictions on their limits and capabilities compared to images
created with <code>tiling</code> equal to <code>VK_IMAGE_TILING_OPTIMAL</code>.
Creation of images with tiling <code>VK_IMAGE_TILING_LINEAR</code> <strong class="purple">may</strong> not be
supported unless other parameters meet all of the constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>imageType</code> is <code>VK_IMAGE_TYPE_2D</code></p>
</li>
<li>
<p><code>format</code> is not a depth/stencil format</p>
</li>
<li>
<p><code>mipLevels</code> is 1</p>
</li>
<li>
<p><code>arrayLayers</code> is 1</p>
</li>
<li>
<p><code>samples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><code>usage</code> only includes <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> and/or
<code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Implementations <strong class="purple">may</strong> support additional limits and capabilities beyond those
listed above.</p>
</div>
<div class="paragraph">
<p>To determine the set of valid <code>usage</code> bits for a given format, call
<a href="chap32.html#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a>.</p>
</div>
<div class="paragraph">
<p>If the size of the resultant image would exceed <code>maxResourceSize</code>, then
<code>vkCreateImage</code> <strong class="purple">must</strong> fail and return
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>.
This failure <strong class="purple">may</strong> occur even when all image creation parameters satisfy
their valid usage requirements.</p>
</div>
<div id="resources-image-creation-limits" class="sidebarblock">
<div class="content">
<div class="title">Image Creation Limits</div>
<div class="paragraph">
<p>Valid values for some image creation parameters are limited by a numerical
upper bound or by inclusion in a bitset.
For example, <code>VkImageCreateInfo</code>::<code>arrayLayers</code> is limited by
<code>imageCreateMaxArrayLayers</code>, defined below; and
<code>VkImageCreateInfo</code>::<code>samples</code> is limited by
<code>imageCreateSampleCounts</code>, also defined below.</p>
</div>
<div class="paragraph">
<p>Several limiting values are defined below, as well as assisting values from
which the limiting values are derived.
The limiting values are referenced by the relevant valid usage statements of
<code>VkImageCreateInfo</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Let <code>VkBool32 imageCreateMaybeLinear</code> indicate if the resultant image
may be <a href="#glossary-linear-image">linear</a>.
(The definition below is trivial because certain extensions are disabled
in this build of the specification).</p>
<div class="ulist">
<ul>
<li>
<p>If <code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code>, then
<code>imageCreateMaybeLinear</code> is <code>true</code>.</p>
</li>
<li>
<p>If <code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code>, then
<code>imageCreateMaybeLinear</code> is <code>false</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Let <code>VkFormatFeatureFlags imageCreateFormatFeatures</code> be the set of
format features available during image creation.</p>
<div class="ulist">
<ul>
<li>
<p>If <code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code>, then
<code>imageCreateFormatFeatures</code> is the value of
<a href="chap33.html#VkImageFormatProperties">VkImageFormatProperties</a>::<code>linearTilingFeatures</code> found by
calling <a href="chap32.html#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> with parameter
<code>format</code> equal to <code>VkImageCreateInfo</code>::<code>format</code>.</p>
</li>
<li>
<p>If <code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code>,
then <code>imageCreateFormatFeatures</code> is value of
<a href="chap33.html#VkImageFormatProperties">VkImageFormatProperties</a>::<code>optimalTilingFeatures</code> found by
calling <a href="chap32.html#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> with parameter
<code>format</code> equal to <code>VkImageCreateInfo</code>::<code>format</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Let <code>uint32_t imageCreateMaxMipLevels</code> be
the value of <a href="chap33.html#VkImageFormatProperties">VkImageFormatProperties</a>::<code>maxMipLevels</code> found by
calling <a href="chap33.html#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a> with parameters
<code>format</code>, <code>imageType</code>, <code>tiling</code>, <code>usage</code>, and
<code>flags</code> equal to those in <code>VkImageCreateInfo</code>.
If <code>vkGetPhysicalDeviceFormatProperties</code> returns an error, then
<code>imageCreateMaxMipLevels</code> is undefined.</p>
</li>
<li>
<p>Let <code>uint32_t imageCreateMaxArrayLayers</code> be
defined analogously to <code>imageCreateMaxMipLevels</code>.</p>
</li>
<li>
<p>Let <code>VkExtent3D imageCreateMaxExtent</code> be
defined analogously to <code>imageCreateMaxMipLevels</code>.</p>
</li>
<li>
<p>Let <code>VkSampleCountFlags imageCreateSampleCounts</code> be
defined analogously to <code>imageCreateMaxMipLevels</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageCreateInfo-imageCreateMaxMipLevels-02251"></a>
Each of the following values (as described in
<a href="#resources-image-creation-limits">Image Creation Limits</a>) <strong class="purple">must</strong> not be
undefined <code>imageCreateMaxMipLevels</code>,
<code>imageCreateMaxArrayLayers</code>, <code>imageCreateMaxExtent</code>, and
<code>imageCreateSampleCounts</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-sharingMode-00941"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>pQueueFamilyIndices</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>queueFamilyIndexCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-sharingMode-00942"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>,
<code>queueFamilyIndexCount</code> <strong class="purple">must</strong> be greater than <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-sharingMode-01392"></a>
If <code>sharingMode</code> is <code>VK_SHARING_MODE_CONCURRENT</code>, each element
of <code>pQueueFamilyIndices</code> <strong class="purple">must</strong> be unique and <strong class="purple">must</strong> be less than
<code>pQueueFamilyPropertyCount</code> returned by
<a href="chap4.html#vkGetPhysicalDeviceQueueFamilyProperties">vkGetPhysicalDeviceQueueFamilyProperties</a> for the
<code>physicalDevice</code> that was used to create <code>device</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-format-00943"></a>
<code>format</code> <strong class="purple">must</strong> not be <code>VK_FORMAT_UNDEFINED</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-00944"></a>
<code>extent</code>::<code>width</code> <strong class="purple">must</strong> be greater than <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-00945"></a>
<code>extent</code>::<code>height</code> <strong class="purple">must</strong> be greater than <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-00946"></a>
<code>extent</code>::<code>depth</code> <strong class="purple">must</strong> be greater than <code>0</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-mipLevels-00947"></a>
<code>mipLevels</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-arrayLayers-00948"></a>
<code>arrayLayers</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-flags-00949"></a>
If <code>flags</code> contains <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>,
<code>imageType</code> <strong class="purple">must</strong> be <code>VK_IMAGE_TYPE_2D</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-02252"></a>
<code>extent.width</code> <strong class="purple">must</strong> be less than or equal to
<code>imageCreateMaxExtent.width</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-02253"></a>
<code>extent.height</code> <strong class="purple">must</strong> be less than or equal to
<code>imageCreateMaxExtent.height</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-extent-02254"></a>
<code>extent.depth</code> <strong class="purple">must</strong> be less than or equal to
<code>imageCreateMaxExtent.depth</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00954"></a>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_2D</code> and <code>flags</code> contains
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <code>extent.width</code> and
<code>extent.height</code> <strong class="purple">must</strong> be equal and <code>arrayLayers</code> <strong class="purple">must</strong> be
greater than or equal to 6</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00956"></a>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_1D</code>, both <code>extent.height</code>
and <code>extent.depth</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00957"></a>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_2D</code>, <code>extent.depth</code> <strong class="purple">must</strong>
be <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-mipLevels-00958"></a>
<code>mipLevels</code> <strong class="purple">must</strong> be less than or equal to the number of levels in
the complete mipmap chain based on <span class="eq"><code>extent.width</code></span>,
<span class="eq"><code>extent.height</code></span>, and <span class="eq"><code>extent.depth</code></span>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-mipLevels-02255"></a>
<code>mipLevels</code> <strong class="purple">must</strong> be less than or equal to
<code>imageCreateMaxMipLevels</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-arrayLayers-02256"></a>
<code>arrayLayers</code> <strong class="purple">must</strong> be less than or equal to
<code>imageCreateMaxArrayLayers</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00961"></a>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_3D</code>, <code>arrayLayers</code> <strong class="purple">must</strong> be
<code>1</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-samples-02257"></a>
If <code>samples</code> is not <code>VK_SAMPLE_COUNT_1_BIT</code>, then
<code>imageType</code> <strong class="purple">must</strong> be <code>VK_IMAGE_TYPE_2D</code>, <code>flags</code> <strong class="purple">must</strong> not
contain <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>, <code>mipLevels</code> <strong class="purple">must</strong>
be equal to <code>1</code>, and <code>imageCreateMaybeLinear</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>) <strong class="purple">must</strong> be
<code>false</code>,</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-00963"></a>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>,
then bits other than <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> <strong class="purple">must</strong> not be set</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-00964"></a>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>, or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>, <code>extent.width</code> <strong class="purple">must</strong> be
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferWidth</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-00965"></a>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>, or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>, <code>extent.height</code> <strong class="purple">must</strong> be
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxFramebufferHeight</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-00966"></a>
If <code>usage</code> includes <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code>,
<code>usage</code> <strong class="purple">must</strong> also contain at least one of
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-samples-02258"></a>
<code>samples</code> <strong class="purple">must</strong> be a bit value that is set in
<code>imageCreateSampleCounts</code> (as defined in
<a href="#resources-image-creation-limits">Image Creation Limits</a>).</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-00968"></a>
If the <a href="chap30.html#features-shaderStorageImageMultisample">multisampled storage
images</a> feature is not enabled, and <code>usage</code> contains
<code>VK_IMAGE_USAGE_STORAGE_BIT</code>, <code>samples</code> <strong class="purple">must</strong> be
<code>VK_SAMPLE_COUNT_1_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-flags-00969"></a>
If the <a href="chap30.html#features-sparseBinding">sparse bindings</a> feature is not
enabled, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-flags-01924"></a>
If the <a href="chap30.html#features-sparseResidencyAliased">sparse aliased residency</a>
feature is not enabled, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00970"></a>
If <code>imageType</code> is <code>VK_IMAGE_TYPE_1D</code>, <code>flags</code> <strong class="purple">must</strong> not
contain <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00971"></a>
If the <a href="chap30.html#features-sparseResidencyImage2D">sparse residency for 2D
images</a> feature is not enabled, and <code>imageType</code> is
<code>VK_IMAGE_TYPE_2D</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00972"></a>
If the <a href="chap30.html#features-sparseResidencyImage3D">sparse residency for 3D
images</a> feature is not enabled, and <code>imageType</code> is
<code>VK_IMAGE_TYPE_3D</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00973"></a>
If the <a href="chap30.html#features-sparseResidency2Samples">sparse residency for images
with 2 samples</a> feature is not enabled, <code>imageType</code> is
<code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
<code>VK_SAMPLE_COUNT_2_BIT</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00974"></a>
If the <a href="chap30.html#features-sparseResidency4Samples">sparse residency for images
with 4 samples</a> feature is not enabled, <code>imageType</code> is
<code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
<code>VK_SAMPLE_COUNT_4_BIT</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00975"></a>
If the <a href="chap30.html#features-sparseResidency8Samples">sparse residency for images
with 8 samples</a> feature is not enabled, <code>imageType</code> is
<code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
<code>VK_SAMPLE_COUNT_8_BIT</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-00976"></a>
If the <a href="chap30.html#features-sparseResidency16Samples">sparse residency for images
with 16 samples</a> feature is not enabled, <code>imageType</code> is
<code>VK_IMAGE_TYPE_2D</code>, and <code>samples</code> is
<code>VK_SAMPLE_COUNT_16_BIT</code>, <code>flags</code> <strong class="purple">must</strong> not contain
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-flags-00987"></a>
If <code>flags</code> contains <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> or
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code>, it <strong class="purple">must</strong> also contain
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-None-01925"></a>
If any of the bits <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code>,
<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code>, or
<code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> are set,
<code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> <strong class="purple">must</strong> not also be set</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-initialLayout-00993"></a>
<code>initialLayout</code> <strong class="purple">must</strong> be <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-imageType-parameter"></a> <code>imageType</code> <strong class="purple">must</strong> be a valid <a href="#VkImageType">VkImageType</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-format-parameter"></a> <code>format</code> <strong class="purple">must</strong> be a valid <a href="chap32.html#VkFormat">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-samples-parameter"></a> <code>samples</code> <strong class="purple">must</strong> be a valid <a href="chap31.html#VkSampleCountFlagBits">VkSampleCountFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-tiling-parameter"></a> <code>tiling</code> <strong class="purple">must</strong> be a valid <a href="#VkImageTiling">VkImageTiling</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-parameter"></a> <code>usage</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-usage-requiredbitmask"></a> <code>usage</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-sharingMode-parameter"></a> <code>sharingMode</code> <strong class="purple">must</strong> be a valid <a href="#VkSharingMode">VkSharingMode</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageCreateInfo-initialLayout-parameter"></a> <code>initialLayout</code> <strong class="purple">must</strong> be a valid <a href="#VkImageLayout">VkImageLayout</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>usage</code>, specifying
intended usage of an image, are:</p>
</div>
<div id="VkImageUsageFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageUsageFlagBits {
    VK_IMAGE_USAGE_TRANSFER_SRC_BIT = <span class="hex">0x00000001</span>,
    VK_IMAGE_USAGE_TRANSFER_DST_BIT = <span class="hex">0x00000002</span>,
    VK_IMAGE_USAGE_SAMPLED_BIT = <span class="hex">0x00000004</span>,
    VK_IMAGE_USAGE_STORAGE_BIT = <span class="hex">0x00000008</span>,
    VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT = <span class="hex">0x00000010</span>,
    VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT = <span class="hex">0x00000020</span>,
    VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT = <span class="hex">0x00000040</span>,
    VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT = <span class="hex">0x00000080</span>,
    VK_IMAGE_USAGE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageUsageFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> specifies that the image <strong class="purple">can</strong> be
used as the source of a transfer command.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> specifies that the image <strong class="purple">can</strong> be
used as the destination of a transfer command.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_SAMPLED_BIT</code> specifies that the image <strong class="purple">can</strong> be used
to create a <code>VkImageView</code> suitable for occupying a
<code>VkDescriptorSet</code> slot either of type
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and be sampled by a
shader.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_STORAGE_BIT</code> specifies that the image <strong class="purple">can</strong> be used
to create a <code>VkImageView</code> suitable for occupying a
<code>VkDescriptorSet</code> slot of type
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> specifies that the image <strong class="purple">can</strong>
be used to create a <code>VkImageView</code> suitable for use as a color or
resolve attachment in a <code>VkFramebuffer</code>.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> specifies that the
image <strong class="purple">can</strong> be used to create a <code>VkImageView</code> suitable for use as a
depth/stencil
attachment in a <code>VkFramebuffer</code>.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> specifies that the memory
bound to this image will have been allocated with the
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> (see <a href="chap10.html#memory">Memory Allocation</a> for more
detail).
This bit <strong class="purple">can</strong> be set for any image that <strong class="purple">can</strong> be used to create a
<code>VkImageView</code> suitable for use as a color, resolve, depth/stencil,
or input attachment.</p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> specifies that the image <strong class="purple">can</strong>
be used to create a <code>VkImageView</code> suitable for occupying
<code>VkDescriptorSet</code> slot of type
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>; be read from a shader as an
input attachment; and be used as an input attachment in a framebuffer.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkImageUsageFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkImageUsageFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkImageUsageFlags</code> is a bitmask type for setting a mask of zero or more
<a href="#VkImageUsageFlagBits">VkImageUsageFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>flags</code>, specifying
additional parameters of an image, are:</p>
</div>
<div id="VkImageCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageCreateFlagBits {
    VK_IMAGE_CREATE_SPARSE_BINDING_BIT = <span class="hex">0x00000001</span>,
    VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT = <span class="hex">0x00000002</span>,
    VK_IMAGE_CREATE_SPARSE_ALIASED_BIT = <span class="hex">0x00000004</span>,
    VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT = <span class="hex">0x00000008</span>,
    VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT = <span class="hex">0x00000010</span>,
    VK_IMAGE_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageCreateFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> specifies that the image will
be backed using sparse memory binding.</p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> specifies that the image <strong class="purple">can</strong>
be partially backed using sparse memory binding.
Images created with this flag <strong class="purple">must</strong> also be created with the
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flag.</p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_SPARSE_ALIASED_BIT</code> specifies that the image will
be backed using sparse memory binding with memory ranges that might also
simultaneously be backing another image (or another portion of the same
image).
Images created with this flag <strong class="purple">must</strong> also be created with the
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> flag</p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> specifies that the image <strong class="purple">can</strong>
be used to create a <code>VkImageView</code> with a different format from the
image.</p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> specifies that the image <strong class="purple">can</strong>
be used to create a <code>VkImageView</code> of type
<code>VK_IMAGE_VIEW_TYPE_CUBE</code> or <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="chap28.html#sparsememory-sparseresourcefeatures">Sparse Resource Features</a> and
<a href="chap28.html#sparsememory-physicalfeatures">Sparse Physical Device Features</a> for more
details.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkImageCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkImageCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkImageCreateFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkImageCreateFlagBits">VkImageCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>imageType</code>, specifying the
basic dimensionality of an image, are:</p>
</div>
<div id="VkImageType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageType {
    VK_IMAGE_TYPE_1D = <span class="integer">0</span>,
    VK_IMAGE_TYPE_2D = <span class="integer">1</span>,
    VK_IMAGE_TYPE_3D = <span class="integer">2</span>,
    VK_IMAGE_TYPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageType;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_TYPE_1D</code> specifies a one-dimensional image.</p>
</li>
<li>
<p><code>VK_IMAGE_TYPE_2D</code> specifies a two-dimensional image.</p>
</li>
<li>
<p><code>VK_IMAGE_TYPE_3D</code> specifies a three-dimensional image.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>tiling</code>, specifying the
tiling arrangement of texel blocks in an image, are:</p>
</div>
<div id="VkImageTiling" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageTiling {
    VK_IMAGE_TILING_OPTIMAL = <span class="integer">0</span>,
    VK_IMAGE_TILING_LINEAR = <span class="integer">1</span>,
    VK_IMAGE_TILING_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageTiling;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_TILING_OPTIMAL</code> specifies optimal tiling (texels are laid
out in an implementation-dependent arrangement, for more optimal memory
access).</p>
</li>
<li>
<p><code>VK_IMAGE_TILING_LINEAR</code> specifies linear tiling (texels are laid
out in memory in row-major order, possibly with some padding on each
row).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the memory layout of an image subresource, call:</p>
</div>
<div id="vkGetImageSubresourceLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetImageSubresourceLayout(
    VkDevice                                    device,
    VkImage                                     image,
    <span class="directive">const</span> VkImageSubresource*                   pSubresource,
    VkSubresourceLayout*                        pLayout);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the image.</p>
</li>
<li>
<p><code>image</code> is the image whose layout is being queried.</p>
</li>
<li>
<p><code>pSubresource</code> is a pointer to a <a href="#VkImageSubresource">VkImageSubresource</a> structure
selecting a specific image for the image subresource.</p>
</li>
<li>
<p><code>pLayout</code> points to a <a href="#VkSubresourceLayout">VkSubresourceLayout</a> structure in which
the layout is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The image <strong class="purple">must</strong> be <a href="chap40.html#glossary-linear-resource">linear</a>.
The
returned layout is valid for <a href="#memory-device-hostacces">host access</a>.</p>
</div>
<div class="paragraph">
<p><code>vkGetImageSubresourceLayout</code> is invariant for the lifetime of a single
image.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-image-00996"></a>
<code>image</code> <strong class="purple">must</strong> have been created with <code>tiling</code> equal to
<code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-aspectMask-00997"></a>
The <code>aspectMask</code> member of <code>pSubresource</code> <strong class="purple">must</strong> only have a
single bit set</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-mipLevel-01716"></a>
The <code>mipLevel</code> member of <code>pSubresource</code> <strong class="purple">must</strong> be less than the
<code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-arrayLayer-01717"></a>
The <code>arrayLayer</code> member of <code>pSubresource</code> <strong class="purple">must</strong> be less than the
<code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <code>VkImage</code> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-pSubresource-parameter"></a> <code>pSubresource</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkImageSubresource</code> structure</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-pLayout-parameter"></a> <code>pLayout</code> <strong class="purple">must</strong> be a valid pointer to a <code>VkSubresourceLayout</code> structure</p>
</li>
<li>
<p><a id="VUID-vkGetImageSubresourceLayout-image-parent"></a> <code>image</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageSubresource</code> structure is defined as:</p>
</div>
<div id="VkImageSubresource" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageSubresource {
    VkImageAspectFlags    aspectMask;
    uint32_t              mipLevel;
    uint32_t              arrayLayer;
} VkImageSubresource;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>aspectMask</code> is a <a href="#VkImageAspectFlags">VkImageAspectFlags</a> selecting the image
<em>aspect</em>.</p>
</li>
<li>
<p><code>mipLevel</code> selects the mipmap level.</p>
</li>
<li>
<p><code>arrayLayer</code> selects the array layer.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageSubresource-aspectMask-parameter"></a> <code>aspectMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkImageSubresource-aspectMask-requiredbitmask"></a> <code>aspectMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about the layout of the image subresource is returned in a
<code>VkSubresourceLayout</code> structure:</p>
</div>
<div id="VkSubresourceLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkSubresourceLayout {
    VkDeviceSize    offset;
    VkDeviceSize    size;
    VkDeviceSize    rowPitch;
    VkDeviceSize    arrayPitch;
    VkDeviceSize    depthPitch;
} VkSubresourceLayout;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>offset</code> is the byte offset from the start of the image
where the image subresource begins.</p>
</li>
<li>
<p><code>size</code> is the size in bytes of the image subresource.
<code>size</code> includes any extra memory that is required based on
<code>rowPitch</code>.</p>
</li>
<li>
<p><code>rowPitch</code> describes the number of bytes between each row of texels
in an image.</p>
</li>
<li>
<p><code>arrayPitch</code> describes the number of bytes between each array layer
of an image.</p>
</li>
<li>
<p><code>depthPitch</code> describes the number of bytes between each slice of 3D
image.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the image is <a href="chap40.html#glossary-linear-resource">linear</a>, then <code>rowPitch</code>,
<code>arrayPitch</code> and <code>depthPitch</code> describe the layout of the image
subresource in linear memory.
For uncompressed formats, <code>rowPitch</code> is the number of bytes between
texels with the same x coordinate in adjacent rows (y coordinates differ by
one).
<code>arrayPitch</code> is the number of bytes between texels with the same x and y
coordinate in adjacent array layers of the image (array layer values differ
by one).
<code>depthPitch</code> is the number of bytes between texels with the same x and y
coordinate in adjacent slices of a 3D image (z coordinates differ by one).
Expressed as an addressing formula, the starting byte of a texel in the
image subresource has address:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c"><span class="comment">// (x,y,z,layer) are in texel coordinates</span>
address(x,y,z,layer) = layer*arrayPitch + z*depthPitch + y*rowPitch + x*elementSize + offset</code></pre>
</div>
</div>
<div class="paragraph">
<p>For compressed formats, the <code>rowPitch</code> is the number of bytes between
compressed texel blocks in adjacent rows.
<code>arrayPitch</code> is the number of bytes between compressed texel blocks in
adjacent array layers.
<code>depthPitch</code> is the number of bytes between compressed texel blocks in
adjacent slices of a 3D image.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c"><span class="comment">// (x,y,z,layer) are in compressed texel block coordinates</span>
address(x,y,z,layer) = layer*arrayPitch + z*depthPitch + y*rowPitch + x*compressedTexelBlockByteSize + offset;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The value of <code>arrayPitch</code> is undefined for images that were not created
as arrays.
<code>depthPitch</code> is defined only for 3D images.</p>
</div>
<div class="paragraph">
<p>If the image has a
color format
, then the <code>aspectMask</code> member of <code>VkImageSubresource</code> <strong class="purple">must</strong> be
<code>VK_IMAGE_ASPECT_COLOR_BIT</code>.</p>
</div>
<div class="paragraph">
<p>If the image has a depth/stencil format
, then <code>aspectMask</code> <strong class="purple">must</strong> be either <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code>.
On implementations that store depth and stencil aspects separately, querying
each of these image subresource layouts will return a different <code>offset</code>
and <code>size</code> representing the region of memory used for that aspect.
On implementations that store depth and stencil aspects interleaved, the
same <code>offset</code> and <code>size</code> are returned and represent the interleaved
memory allocation.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy an image, call:</p>
</div>
<div id="vkDestroyImage" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyImage(
    VkDevice                                    device,
    VkImage                                     image,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the image.</p>
</li>
<li>
<p><code>image</code> is the image to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap10.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyImage-image-01000"></a>
All submitted commands that refer to <code>image</code>, either directly or via
a <code>VkImageView</code>, <strong class="purple">must</strong> have completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyImage-image-01001"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>image</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyImage-image-01002"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>image</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyImage-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyImage-image-parameter"></a> If <code>image</code> is not <a href="chap38.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>image</code> <strong class="purple">must</strong> be a valid <code>VkImage</code> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyImage-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkAllocationCallbacks</code> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyImage-image-parent"></a> If <code>image</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>image</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="resources-image-format-features">11.3.1. Image Format Features</h4>
<div class="paragraph">
<p>Valid usage of a <a href="#VkImage">VkImage</a> <strong class="purple">may</strong> be constrained by the image’s format
features, defined below.
Such constraints are documented in the affected valid usage statement.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the image was created with <code>VK_IMAGE_TILING_LINEAR</code>, then its set
of <em>format features</em> is the value of
<a href="chap32.html#VkFormatProperties">VkFormatProperties</a>::<code>linearTilingFeatures</code> found by calling
<a href="chap32.html#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> on the same <code>format</code> as
<a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p>If the image was created with <code>VK_IMAGE_TILING_OPTIMAL</code>,
then its set of <em>format features</em> is the value of
<a href="chap32.html#VkFormatProperties">VkFormatProperties</a>::<code>optimalTilingFeatures</code> found by calling
<a href="chap32.html#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> on the same <code>format</code> as
<a href="#VkImageCreateInfo">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="resources-image-miplevel-sizing">11.3.2. Image Miplevel Sizing</h4>
<div class="paragraph">
<p>A <em>complete mipmap chain</em> is the full set of miplevels, from the largest
miplevel provided, down to the <em>minimum miplevel size</em>.</p>
</div>
<div class="sect4">
<h5 id="_conventional_images">Conventional Images</h5>
<div class="paragraph">
<p>For conventional images, the dimensions of each successive miplevel,
<span class="eq">n+1</span>, are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><code>width</code><sub>n+1</sub> = max(⌊<code>width</code><sub>n</sub>/2⌋, 1)</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><code>height</code><sub>n+1</sub> = max(⌊<code>height</code><sub>n</sub>/2⌋, 1)</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><code>depth</code><sub>n+1</sub> = max(⌊<code>depth</code><sub>n</sub>/2⌋, 1)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq"><code>width</code><sub>n</sub></span>, <span class="eq"><code>height</code><sub>n</sub></span>, and <span class="eq"><code>depth</code><sub>n</sub></span>
are the dimensions of the next larger miplevel, <span class="eq">n</span>.</p>
</div>
<div class="paragraph">
<p>The minimum miplevel size is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>1 for one-dimensional images,</p>
</li>
<li>
<p>1x1 for two-dimensional images, and</p>
</li>
<li>
<p>1x1x1 for three-dimensional images.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The number of levels in a complete mipmap chain is:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">⌊log<sub>2</sub>(max(<code>width</code><sub>0</sub>, <code>height</code><sub>0</sub>,
<code>depth</code><sub>0</sub>))⌋ +  1</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq"><code>width</code><sub>0</sub></span>, <span class="eq"><code>height</code><sub>0</sub></span>, and <span class="eq"><code>depth</code><sub>0</sub></span>
are the dimensions of the largest (most detailed) miplevel, <code>0</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-image-layouts">11.4. Image Layouts</h3>
<div class="paragraph">
<p>Images are stored in implementation-dependent opaque layouts in memory.
Each layout has limitations on what kinds of operations are supported for
image subresources using the layout.
At any given time, the data representing an image subresource in memory
exists in a particular layout which is determined by the most recent layout
transition that was performed on that image subresource.
Applications have control over which layout each image subresource uses, and
<strong class="purple">can</strong> transition an image subresource from one layout to another.
Transitions <strong class="purple">can</strong> happen with an image memory barrier, included as part of a
<code>vkCmdPipelineBarrier</code> or a <code>vkCmdWaitEvents</code> command buffer command
(see <a href="chap6.html#synchronization-image-memory-barriers">Image Memory Barriers</a>), or as part of a subpass
dependency within a render pass (see <code>VkSubpassDependency</code>).
The image layout is per-image subresource, and separate image subresources
of the same image <strong class="purple">can</strong> be in different layouts at the same time with one
exception - depth and stencil aspects of a given image subresource <strong class="purple">must</strong>
always be in the same layout.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Each layout <strong class="purple">may</strong> offer optimal performance for a specific usage of image
memory.
For example, an image with a layout of
<code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code> <strong class="purple">may</strong> provide optimal
performance for use as a color attachment, but be unsupported for use in
transfer commands.
Applications <strong class="purple">can</strong> transition an image subresource from one layout to another
in order to achieve optimal performance when the image subresource is used
for multiple kinds of operations.
After initialization, applications need not use any layout other than the
general layout, though this <strong class="purple">may</strong> produce suboptimal performance on some
implementations.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Upon creation, all image subresources of an image are initially in the same
layout, where that layout is selected by the
<code>VkImageCreateInfo</code>::<code>initialLayout</code> member.
The <code>initialLayout</code> <strong class="purple">must</strong> be either <code>VK_IMAGE_LAYOUT_UNDEFINED</code> or
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>.
If it is <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>, then the image data <strong class="purple">can</strong> be
preinitialized by the host while using this layout, and the transition away
from this layout will preserve that data.
If it is <code>VK_IMAGE_LAYOUT_UNDEFINED</code>, then the contents of the data are
considered to be undefined, and the transition away from this layout is not
guaranteed to preserve that data.
For either of these initial layouts, any image subresources <strong class="purple">must</strong> be
transitioned to another layout before they are accessed by the device.</p>
</div>
<div class="paragraph">
<p>Host access to image memory is only well-defined for
<a href="chap40.html#glossary-linear-resource">[glossary-linear-resource]</a> images and for image subresources of those
images which are currently in either the
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> or <code>VK_IMAGE_LAYOUT_GENERAL</code>
layout.
Calling <a href="#vkGetImageSubresourceLayout">vkGetImageSubresourceLayout</a> for a linear image returns a
subresource layout mapping that is valid for either of those image layouts.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The set of image layouts consists of:</p>
</div>
<div id="VkImageLayout" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageLayout {
    VK_IMAGE_LAYOUT_UNDEFINED = <span class="integer">0</span>,
    VK_IMAGE_LAYOUT_GENERAL = <span class="integer">1</span>,
    VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL = <span class="integer">2</span>,
    VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL = <span class="integer">3</span>,
    VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL = <span class="integer">4</span>,
    VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL = <span class="integer">5</span>,
    VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL = <span class="integer">6</span>,
    VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL = <span class="integer">7</span>,
    VK_IMAGE_LAYOUT_PREINITIALIZED = <span class="integer">8</span>,
    VK_IMAGE_LAYOUT_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageLayout;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The type(s) of device access supported by each layout are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_UNDEFINED</code> does not support device access.
This layout <strong class="purple">must</strong> only be used as the <code>initialLayout</code> member of
<code>VkImageCreateInfo</code> or <code>VkAttachmentDescription</code>, or as the
<code>oldLayout</code> in an image transition.
When transitioning out of this layout, the contents of the memory are
not guaranteed to be preserved.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> does not support device access.
This layout <strong class="purple">must</strong> only be used as the <code>initialLayout</code> member of
<code>VkImageCreateInfo</code> or <code>VkAttachmentDescription</code>, or as the
<code>oldLayout</code> in an image transition.
When transitioning out of this layout, the contents of the memory are
preserved.
This layout is intended to be used as the initial layout for an image
whose contents are written by the host, and hence the data <strong class="purple">can</strong> be
written to memory immediately, without first executing a layout
transition.
Currently, <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> is only useful with
<a href="chap40.html#glossary-linear-resource">linear</a> images because there is not a
standard layout defined for <code>VK_IMAGE_TILING_OPTIMAL</code> images.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_GENERAL</code> supports all types of device access.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code> <strong class="purple">must</strong> only be used as a
color or resolve attachment in a <code>VkFramebuffer</code>.
This layout is valid only for image subresources of images created with
the <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> usage bit enabled.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code> <strong class="purple">must</strong> only be
used as a depth/stencil
attachment in a <code>VkFramebuffer</code>.
This layout is valid only for image subresources of images created with
the <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> usage bit enabled.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code> <strong class="purple">must</strong> only be used
as a read-only depth/stencil attachment in a <code>VkFramebuffer</code> and/or
as a read-only image in a shader (which <strong class="purple">can</strong> be read as a sampled image,
combined image/sampler and/or input attachment).
This layout is valid only for image subresources of images created with
the <code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code> usage bit enabled.
Only image views created with a <code>usage</code> value including
<code>VK_IMAGE_USAGE_SAMPLED_BIT</code> <strong class="purple">can</strong> be used as a sampled image or
combined image/sampler in a shader.
Similarly, only image views created with a <code>usage</code> value including
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> <strong class="purple">can</strong> be used as input
attachments.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code> <strong class="purple">must</strong> only be used as a
read-only image in a shader (which <strong class="purple">can</strong> be read as a sampled image,
combined image/sampler and/or input attachment).
This layout is valid only for image subresources of images created with
the <code>VK_IMAGE_USAGE_SAMPLED_BIT</code> or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> usage bit enabled.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code> <strong class="purple">must</strong> only be used as a
source image of a transfer command (see the definition of
<a href="chap6.html#synchronization-pipeline-stages-transfer"><code>VK_PIPELINE_STAGE_TRANSFER_BIT</code></a>).
This layout is valid only for image subresources of images created with
the <code>VK_IMAGE_USAGE_TRANSFER_SRC_BIT</code> usage bit enabled.</p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL</code> <strong class="purple">must</strong> only be used as a
destination image of a transfer command.
This layout is valid only for image subresources of images created with
the <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT</code> usage bit enabled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The layout of each image subresource is not a state of the image subresource
itself, but is rather a property of how the data in memory is organized, and
thus for each mechanism of accessing an image in the API the application
<strong class="purple">must</strong> specify a parameter or structure member that indicates which image
layout the image subresource(s) are considered to be in when the image will
be accessed.
For transfer commands, this is a parameter to the command (see <a href="chap17.html#clears">Clear Commands</a>
and <a href="chap18.html#copies">Copy Commands</a>).
For use as a framebuffer attachment, this is a member in the substructures
of the <code>VkRenderPassCreateInfo</code> (see <a href="chap7.html#renderpass">Render Pass</a>).
For use in a descriptor set, this is a member in the
<code>VkDescriptorImageInfo</code> structure (see <a href="chap13.html#descriptorsets-updates">Descriptor Set Updates</a>).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="resources-image-layouts-matching-rule">11.4.1. Image Layout Matching Rules</h4>
<div class="paragraph">
<p>At the time that any command buffer command accessing an image executes on
any queue, the layouts of the image subresources that are accessed <strong class="purple">must</strong> all
match exactly the layout specified via the API controlling those accesses</p>
</div>
<div class="paragraph">
<p>.</p>
</div>
<div class="paragraph">
<p>When performing a layout transition on an image subresource, the old layout
value <strong class="purple">must</strong> either equal the current layout of the image subresource (at the
time the transition executes), or else be <code>VK_IMAGE_LAYOUT_UNDEFINED</code>
(implying that the contents of the image subresource need not be preserved).
The new layout used in a transition <strong class="purple">must</strong> not be
<code>VK_IMAGE_LAYOUT_UNDEFINED</code> or <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-image-views">11.5. Image Views</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Image objects are not directly accessed by pipeline shaders for reading or
writing image data.
Instead, <em>image views</em> representing contiguous ranges of the image
subresources and containing additional metadata are used for that purpose.
Views <strong class="purple">must</strong> be created on images of compatible types, and <strong class="purple">must</strong> represent a
valid subset of image subresources.</p>
</div>
<div class="paragraph">
<p>Image views are represented by <code>VkImageView</code> handles:</p>
</div>
<div id="VkImageView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VK_DEFINE_NON_DISPATCHABLE_HANDLE(VkImageView)</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The types of image views that <strong class="purple">can</strong> be created are:</p>
</div>
<div id="VkImageViewType" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageViewType {
    VK_IMAGE_VIEW_TYPE_1D = <span class="integer">0</span>,
    VK_IMAGE_VIEW_TYPE_2D = <span class="integer">1</span>,
    VK_IMAGE_VIEW_TYPE_3D = <span class="integer">2</span>,
    VK_IMAGE_VIEW_TYPE_CUBE = <span class="integer">3</span>,
    VK_IMAGE_VIEW_TYPE_1D_ARRAY = <span class="integer">4</span>,
    VK_IMAGE_VIEW_TYPE_2D_ARRAY = <span class="integer">5</span>,
    VK_IMAGE_VIEW_TYPE_CUBE_ARRAY = <span class="integer">6</span>,
    VK_IMAGE_VIEW_TYPE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageViewType;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The exact image view type is partially implicit, based on the image’s type
and sample count, as well as the view creation parameters as described in
the <a href="#resources-image-views-compatibility">image view compatibility table</a>
for <a href="#vkCreateImageView">vkCreateImageView</a>.
This table also shows which SPIR-V <code>OpTypeImage</code> <code>Dim</code> and
<code>Arrayed</code> parameters correspond to each image view type.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create an image view, call:</p>
</div>
<div id="vkCreateImageView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkCreateImageView(
    VkDevice                                    device,
    <span class="directive">const</span> VkImageViewCreateInfo*                pCreateInfo,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator,
    VkImageView*                                pView);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the image view.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to an instance of the
<code>VkImageViewCreateInfo</code> structure containing parameters to be used
to create the image view.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap10.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pView</code> points to a <a href="#VkImageView">VkImageView</a> handle in which the resulting
image view object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateImageView-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateImageView-pCreateInfo-parameter"></a> <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkImageViewCreateInfo</code> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImageView-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkAllocationCallbacks</code> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateImageView-pView-parameter"></a> <code>pView</code> <strong class="purple">must</strong> be a valid pointer to a <code>VkImageView</code> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap2.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap2.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageViewCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkImageViewCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageViewCreateInfo {
    VkStructureType            sType;
    <span class="directive">const</span> <span class="directive">void</span>*                pNext;
    VkImageViewCreateFlags     flags;
    VkImage                    image;
    VkImageViewType            viewType;
    VkFormat                   format;
    VkComponentMapping         components;
    VkImageSubresourceRange    subresourceRange;
} VkImageViewCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to an extension-specific structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="#VkImageViewCreateFlagBits">VkImageViewCreateFlagBits</a> describing
additional parameters of the image view.</p>
</li>
<li>
<p><code>image</code> is a <a href="#VkImage">VkImage</a> on which the view will be created.</p>
</li>
<li>
<p><code>viewType</code> is a <a href="#VkImageViewType">VkImageViewType</a> value specifying the type of
the image view.</p>
</li>
<li>
<p><code>format</code> is a <a href="chap32.html#VkFormat">VkFormat</a> describing the format and type used to
interpret texel blocks in the image.</p>
</li>
<li>
<p><code>components</code> is a <a href="#VkComponentMapping">VkComponentMapping</a> specifies a remapping of
color components (or of depth or stencil components after they have been
converted into color components).</p>
</li>
<li>
<p><code>subresourceRange</code> is a <a href="#VkImageSubresourceRange">VkImageSubresourceRange</a> selecting the
set of mipmap levels and array layers to be accessible to the view.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some of the <code>image</code> creation parameters are inherited by the view.
In particular, image view creation inherits the implicit parameter
<code>usage</code> specifying the allowed usages of the image view that, by
default, takes the value of the corresponding <code>usage</code> parameter
specified in <code>VkImageCreateInfo</code> at image creation time.</p>
</div>
<div class="paragraph">
<p>If <code>image</code> was created with the <code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code>
flag,
<code>format</code> <strong class="purple">can</strong> be different from the image’s format, but if
they are not equal they <strong class="purple">must</strong> be <em>compatible</em>.
Image format compatibility is defined in the
<a href="chap32.html#formats-compatibility-classes">Format Compatibility Classes</a> section.
Views of compatible formats will have the same mapping between texel
coordinates and memory locations irrespective of the <code>format</code>, with only
the interpretation of the bit pattern changing.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Values intended to be used with one view format <strong class="purple">may</strong> not be exactly
preserved when written or read through a different format.
For example, an integer value that happens to have the bit pattern of a
floating point denorm or NaN <strong class="purple">may</strong> be flushed or canonicalized when written
or read through a view with a floating point format.
Similarly, a value written through a signed normalized format that has a bit
pattern exactly equal to <span class="eq">-2<sup>b</sup></span> <strong class="purple">may</strong> be changed to <span class="eq">-2<sup>b</sup> +  1</span>
as described in <a href="chap2.html#fundamentals-fixedfpconv">Conversion from Normalized
Fixed-Point to Floating-Point</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<table id="resources-image-views-compatibility" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Image and image view parameter compatibility requirements</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Dim, Arrayed, MS</th>
<th class="tableblock halign-left valign-top">Image parameters</th>
<th class="tableblock halign-left valign-top">View parameters</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = ci.<code>imageType</code><br>
    <code>width</code> = ci.<code>extent.width</code><br>
    <code>height</code> = ci.<code>extent.height</code><br>
    <code>depth</code> = ci.<code>extent.depth</code><br>
    <code>arrayLayers</code> = ci.<code>arrayLayers</code><br>
    <code>samples</code> = ci.<code>samples</code><br>
    <code>flags</code> = ci.<code>flags</code><br>
    where ci is the <a href="#VkImageCreateInfo">VkImageCreateInfo</a> used to create <code>image</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>baseArrayLayer</code> and <code>layerCount</code>
    are members of the <code>subresourceRange</code> member.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">1D, 0, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_1D</code><br>
<code>width</code> ≥ 1<br>
<code>height</code> = 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> ≥ 1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_1D</code><br>
<code>baseArrayLayer</code> ≥ 0<br>
<code>layerCount</code> = 1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">1D, 1, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_1D</code><br>
<code>width</code> ≥ 1<br>
<code>height</code> = 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> ≥ 1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_1D_ARRAY</code><br>
<code>baseArrayLayer</code> ≥ 0<br>
<code>layerCount</code> ≥ 1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">2D, 0, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> ≥ 1<br>
<code>height</code> ≥ 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> ≥ 1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_2D</code><br>
<code>baseArrayLayer</code> ≥ 0<br>
<code>layerCount</code> = 1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">2D, 1, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> ≥ 1<br>
<code>height</code> ≥ 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> ≥ 1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code><br>
<code>baseArrayLayer</code> ≥ 0<br>
<code>layerCount</code> ≥ 1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">2D, 0, 1</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> ≥ 1<br>
<code>height</code> ≥ 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> ≥ 1<br>
<code>samples</code> &gt; 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_2D</code><br>
<code>baseArrayLayer</code> ≥ 0<br>
<code>layerCount</code> = 1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">2D, 1, 1</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> ≥ 1<br>
<code>height</code> ≥ 1<br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> ≥ 1<br>
<code>samples</code> &gt; 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code><br>
<code>baseArrayLayer</code> ≥ 0<br>
<code>layerCount</code> ≥ 1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">CUBE, 0, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> ≥ 1<br>
<code>height</code> = <code>width</code><br>
<code>depth</code> = 1<br>
<code>arrayLayers</code> ≥ 6<br>
<code>samples</code> = 1<br>
<code>flags</code> includes <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_CUBE</code><br>
<code>baseArrayLayer</code> ≥ 0<br>
<code>layerCount</code> = 6</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">CUBE, 1, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_2D</code><br>
<code>width</code> ≥ 1<br>
<code>height</code> = width<br>
<code>depth</code> = 1<br>
<em>N</em> ≥ 1<br>
<code>arrayLayers</code> ≥ 6 × <em>N</em><br>
<code>samples</code> = 1<br>
<code>flags</code> includes <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code><br>
<code>baseArrayLayer</code> ≥ 0<br>
<code>layerCount</code> = 6 × <em>N</em>, <em>N</em> ≥ 1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">3D, 0, 0</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageType</code> = <code>VK_IMAGE_TYPE_3D</code><br>
<code>width</code> ≥ 1<br>
<code>height</code> ≥ 1<br>
<code>depth</code> ≥ 1<br>
<code>arrayLayers</code> = 1<br>
<code>samples</code> = 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>viewType</code> = <code>VK_IMAGE_VIEW_TYPE_3D</code><br>
<code>baseArrayLayer</code> = 0<br>
<code>layerCount</code> = 1</p></td>
</tr>
</tbody>
</table>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-01003"></a>
If <code>image</code> was not created with
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code> then <code>viewType</code> <strong class="purple">must</strong> not
be <code>VK_IMAGE_VIEW_TYPE_CUBE</code> or <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-viewType-01004"></a>
If the <a href="chap30.html#features-imageCubeArray">image cubemap arrays</a> feature is not
enabled, <code>viewType</code> <strong class="purple">must</strong> not be <code>VK_IMAGE_VIEW_TYPE_CUBE_ARRAY</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-01007"></a>
<code>image</code> <strong class="purple">must</strong> have been created with a <code>usage</code> value containing
at least one of <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>,
<code>VK_IMAGE_USAGE_STORAGE_BIT</code>,
<code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>,
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, or
<code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-None-02273"></a>
The <a href="#resources-image-view-format-features">format features</a> of the
resultant image view <strong class="purple">must</strong> contain at least one bit.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-usage-02274"></a>
If <code>usage</code> contains <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, then the
<a href="#resources-image-view-format-features">format features</a> of the
resultant image view <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-usage-02275"></a>
If <code>usage</code> contains <code>VK_IMAGE_USAGE_STORAGE_BIT</code>, then the image
view’s <a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong>
contain <code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-usage-02276"></a>
If <code>usage</code> contains <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>, then
the image view’s <a href="#resources-image-view-format-features">format
features</a> <strong class="purple">must</strong> contain <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-usage-02277"></a>
If <code>usage</code> contains
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, then the image view’s
<a href="#resources-image-view-format-features">format features</a> <strong class="purple">must</strong> contain
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-usage-02652"></a>
If <code>usage</code> contains <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code>, then
the image view’s <a href="#resources-image-view-format-features">format
features</a> <strong class="purple">must</strong> contain at least one of
<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> or
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>.</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subresourceRange-01478"></a>
<code>subresourceRange.baseMipLevel</code> <strong class="purple">must</strong> be less than the
<code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subresourceRange-01718"></a>
If <code>subresourceRange.levelCount</code> is not
<code>VK_REMAINING_MIP_LEVELS</code>, <span class="eq"><code>subresourceRange.baseMipLevel</code>
+  <code>subresourceRange.levelCount</code></span> <strong class="purple">must</strong> be less than or equal to
the <code>mipLevels</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when
<code>image</code> was created</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subresourceRange-01480"></a>
<code>subresourceRange.baseArrayLayer</code> <strong class="purple">must</strong> be less than the
<code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subresourceRange-01719"></a>
If <code>subresourceRange.layerCount</code> is not
<code>VK_REMAINING_ARRAY_LAYERS</code>,
<span class="eq"><code>subresourceRange.baseArrayLayer</code> + 
<code>subresourceRange.layerCount</code></span> <strong class="purple">must</strong> be less than or equal to the
<code>arrayLayers</code> specified in <a href="#VkImageCreateInfo">VkImageCreateInfo</a> when <code>image</code>
was created</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-01018"></a>
If <code>image</code> was created with the
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> flag, <code>format</code> <strong class="purple">must</strong> be
compatible with the <code>format</code> used to create <code>image</code>, as defined
in <a href="chap32.html#formats-compatibility-classes">Format Compatibility Classes</a></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-01019"></a>
If <code>image</code> was not created with the
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> flag, <code>format</code> <strong class="purple">must</strong> be
identical to the <code>format</code> used to create <code>image</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-01020"></a>
If <code>image</code> is non-sparse then it <strong class="purple">must</strong> be bound completely and
contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subResourceRange-01021"></a>
<code>subresourceRange</code> and <code>viewType</code> <strong class="purple">must</strong> be compatible with the
image, as described in the
<a href="#resources-image-views-compatibility">compatibility table</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageViewCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-flags-parameter"></a> <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageViewCreateFlagBits">VkImageViewCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <code>VkImage</code> handle</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-viewType-parameter"></a> <code>viewType</code> <strong class="purple">must</strong> be a valid <a href="#VkImageViewType">VkImageViewType</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-format-parameter"></a> <code>format</code> <strong class="purple">must</strong> be a valid <a href="chap32.html#VkFormat">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-components-parameter"></a> <code>components</code> <strong class="purple">must</strong> be a valid <code>VkComponentMapping</code> structure</p>
</li>
<li>
<p><a id="VUID-VkImageViewCreateInfo-subresourceRange-parameter"></a> <code>subresourceRange</code> <strong class="purple">must</strong> be a valid <code>VkImageSubresourceRange</code> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a>::<code>flags</code>,
specifying additional parameters of an image, are:</p>
</div>
<div id="VkImageViewCreateFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageViewCreateFlagBits {
    VK_IMAGE_VIEW_CREATE_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageViewCreateFlagBits;</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkImageViewCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkImageViewCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkImageViewCreateFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkImageViewCreateFlagBits">VkImageViewCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageSubresourceRange</code> structure is defined as:</p>
</div>
<div id="VkImageSubresourceRange" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkImageSubresourceRange {
    VkImageAspectFlags    aspectMask;
    uint32_t              baseMipLevel;
    uint32_t              levelCount;
    uint32_t              baseArrayLayer;
    uint32_t              layerCount;
} VkImageSubresourceRange;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>aspectMask</code> is a bitmask of <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a> specifying
which aspect(s) of the image are included in the view.</p>
</li>
<li>
<p><code>baseMipLevel</code> is the first mipmap level accessible to the view.</p>
</li>
<li>
<p><code>levelCount</code> is the number of mipmap levels (starting from
<code>baseMipLevel</code>) accessible to the view.</p>
</li>
<li>
<p><code>baseArrayLayer</code> is the first array layer accessible to the view.</p>
</li>
<li>
<p><code>layerCount</code> is the number of array layers (starting from
<code>baseArrayLayer</code>) accessible to the view.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The number of mipmap levels and array layers <strong class="purple">must</strong> be a subset of the image
subresources in the image.
If an application wants to use all mip levels or layers in an image after
the <code>baseMipLevel</code> or <code>baseArrayLayer</code>, it <strong class="purple">can</strong> set <code>levelCount</code>
and <code>layerCount</code> to the special values <code>VK_REMAINING_MIP_LEVELS</code> and
<code>VK_REMAINING_ARRAY_LAYERS</code> without knowing the exact number of mip
levels or layers.</p>
</div>
<div class="paragraph">
<p>For cube and cube array image views, the layers of the image view starting
at <code>baseArrayLayer</code> correspond to faces in the order +X, -X, +Y, -Y, +Z,
-Z.
For cube arrays, each set of six sequential layers is a single cube, so the
number of cube maps in a cube map array view is <em><code>layerCount</code> / 6</em>, and
image array layer <span class="eq">(<code>baseArrayLayer</code> +  i)</span> is face index
<span class="eq">(i mod 6)</span> of cube <em>i / 6</em>.
If the number of layers in the view, whether set explicitly in
<code>layerCount</code> or implied by <code>VK_REMAINING_ARRAY_LAYERS</code>, is not a
multiple of 6, the last cube map in the array <strong class="purple">must</strong> not be accessed.</p>
</div>
<div class="paragraph">
<p><code>aspectMask</code> <strong class="purple">must</strong> be only <code>VK_IMAGE_ASPECT_COLOR_BIT</code>,
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code>VK_IMAGE_ASPECT_STENCIL_BIT</code> if
<code>format</code> is a color, depth-only or stencil-only format,
respectively.
If using a depth/stencil format with both depth and stencil components,
<code>aspectMask</code> <strong class="purple">must</strong> include at least one of
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> and <code>VK_IMAGE_ASPECT_STENCIL_BIT</code>, and
<strong class="purple">can</strong> include both.</p>
</div>
<div class="paragraph">
<p>When using an image view of a depth/stencil image to populate a descriptor
set (e.g. for sampling in the shader, or for use as an input attachment),
the <code>aspectMask</code> <strong class="purple">must</strong> only include one bit and selects whether the
image view is used for depth reads (i.e. using a floating-point sampler or
input attachment in the shader) or stencil reads (i.e. using an unsigned
integer sampler or input attachment in the shader).
When an image view of a depth/stencil image is used as a depth/stencil
framebuffer attachment, the <code>aspectMask</code> is ignored and both depth and
stencil image subresources are used.</p>
</div>
<div class="paragraph">
<p>The <code>components</code> member is of type <a href="#VkComponentMapping">VkComponentMapping</a>, and
describes a remapping from components of the image to components of the
vector returned by shader image instructions.
This remapping <strong class="purple">must</strong> be identity for storage image descriptors, input
attachment descriptors,
and framebuffer attachments.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageSubresourceRange-levelCount-01720"></a>
If <code>levelCount</code> is not <code>VK_REMAINING_MIP_LEVELS</code>, it <strong class="purple">must</strong> be
greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkImageSubresourceRange-layerCount-01721"></a>
If <code>layerCount</code> is not <code>VK_REMAINING_ARRAY_LAYERS</code>, it <strong class="purple">must</strong> be
greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageSubresourceRange-aspectMask-parameter"></a> <code>aspectMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkImageSubresourceRange-aspectMask-requiredbitmask"></a> <code>aspectMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in an aspect mask to specify aspects of an image for
purposes such as identifying a subresource, are:</p>
</div>
<div id="VkImageAspectFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkImageAspectFlagBits {
    VK_IMAGE_ASPECT_COLOR_BIT = <span class="hex">0x00000001</span>,
    VK_IMAGE_ASPECT_DEPTH_BIT = <span class="hex">0x00000002</span>,
    VK_IMAGE_ASPECT_STENCIL_BIT = <span class="hex">0x00000004</span>,
    VK_IMAGE_ASPECT_METADATA_BIT = <span class="hex">0x00000008</span>,
    VK_IMAGE_ASPECT_FLAG_BITS_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkImageAspectFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_ASPECT_COLOR_BIT</code> specifies the color aspect.</p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_DEPTH_BIT</code> specifies the depth aspect.</p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_STENCIL_BIT</code> specifies the stencil aspect.</p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_METADATA_BIT</code> specifies the metadata aspect, used
for sparse <a href="chap28.html#sparsememory">sparse resource</a> operations.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkImageAspectFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> VkFlags VkImageAspectFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkImageAspectFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkImageAspectFlagBits">VkImageAspectFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkComponentMapping</code> structure is defined as:</p>
</div>
<div id="VkComponentMapping" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkComponentMapping {
    VkComponentSwizzle    r;
    VkComponentSwizzle    g;
    VkComponentSwizzle    b;
    VkComponentSwizzle    a;
} VkComponentMapping;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>r</code> is a <a href="#VkComponentSwizzle">VkComponentSwizzle</a> specifying the component value
placed in the R component of the output vector.</p>
</li>
<li>
<p><code>g</code> is a <a href="#VkComponentSwizzle">VkComponentSwizzle</a> specifying the component value
placed in the G component of the output vector.</p>
</li>
<li>
<p><code>b</code> is a <a href="#VkComponentSwizzle">VkComponentSwizzle</a> specifying the component value
placed in the B component of the output vector.</p>
</li>
<li>
<p><code>a</code> is a <a href="#VkComponentSwizzle">VkComponentSwizzle</a> specifying the component value
placed in the A component of the output vector.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkComponentMapping-r-parameter"></a> <code>r</code> <strong class="purple">must</strong> be a valid <a href="#VkComponentSwizzle">VkComponentSwizzle</a> value</p>
</li>
<li>
<p><a id="VUID-VkComponentMapping-g-parameter"></a> <code>g</code> <strong class="purple">must</strong> be a valid <a href="#VkComponentSwizzle">VkComponentSwizzle</a> value</p>
</li>
<li>
<p><a id="VUID-VkComponentMapping-b-parameter"></a> <code>b</code> <strong class="purple">must</strong> be a valid <a href="#VkComponentSwizzle">VkComponentSwizzle</a> value</p>
</li>
<li>
<p><a id="VUID-VkComponentMapping-a-parameter"></a> <code>a</code> <strong class="purple">must</strong> be a valid <a href="#VkComponentSwizzle">VkComponentSwizzle</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the members of <a href="#VkComponentMapping">VkComponentMapping</a>, specifying the
component values placed in each component of the output vector, are:</p>
</div>
<div id="VkComponentSwizzle" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkComponentSwizzle {
    VK_COMPONENT_SWIZZLE_IDENTITY = <span class="integer">0</span>,
    VK_COMPONENT_SWIZZLE_ZERO = <span class="integer">1</span>,
    VK_COMPONENT_SWIZZLE_ONE = <span class="integer">2</span>,
    VK_COMPONENT_SWIZZLE_R = <span class="integer">3</span>,
    VK_COMPONENT_SWIZZLE_G = <span class="integer">4</span>,
    VK_COMPONENT_SWIZZLE_B = <span class="integer">5</span>,
    VK_COMPONENT_SWIZZLE_A = <span class="integer">6</span>,
    VK_COMPONENT_SWIZZLE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkComponentSwizzle;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMPONENT_SWIZZLE_IDENTITY</code> specifies that the component is set
to the identity swizzle.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_ZERO</code> specifies that the component is set to
zero.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_ONE</code> specifies that the component is set to
either 1 or 1.0, depending on whether the type of the image view format
is integer or floating-point respectively, as determined by the
<a href="chap32.html#formats-definition">Format Definition</a> section for each
<a href="chap32.html#VkFormat">VkFormat</a>.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_R</code> specifies that the component is set to the
value of the R component of the image.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_G</code> specifies that the component is set to the
value of the G component of the image.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_B</code> specifies that the component is set to the
value of the B component of the image.</p>
</li>
<li>
<p><code>VK_COMPONENT_SWIZZLE_A</code> specifies that the component is set to the
value of the A component of the image.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Setting the identity swizzle on a component is equivalent to setting the
identity mapping on that component.
That is:</p>
</div>
<table id="resources-image-views-identity-mappings" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Component Mappings Equivalent To <code>VK_COMPONENT_SWIZZLE_IDENTITY</code></caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Identity Mapping</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components.r</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_R</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components.g</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_G</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components.b</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_B</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components.a</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_COMPONENT_SWIZZLE_A</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy an image view, call:</p>
</div>
<div id="vkDestroyImageView" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkDestroyImageView(
    VkDevice                                    device,
    VkImageView                                 imageView,
    <span class="directive">const</span> VkAllocationCallbacks*                pAllocator);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the image view.</p>
</li>
<li>
<p><code>imageView</code> is the image view to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap10.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyImageView-imageView-01026"></a>
All submitted commands that refer to <code>imageView</code> <strong class="purple">must</strong> have
completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyImageView-imageView-01027"></a>
If <code>VkAllocationCallbacks</code> were provided when <code>imageView</code> was
created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyImageView-imageView-01028"></a>
If no <code>VkAllocationCallbacks</code> were provided when <code>imageView</code> was
created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyImageView-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyImageView-imageView-parameter"></a> If <code>imageView</code> is not <a href="chap38.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>imageView</code> <strong class="purple">must</strong> be a valid <code>VkImageView</code> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyImageView-pAllocator-parameter"></a> If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <code>VkAllocationCallbacks</code> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyImageView-imageView-parent"></a> If <code>imageView</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>imageView</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="resources-image-view-format-features">11.5.1. Image View Format Features</h4>
<div class="paragraph">
<p>Valid usage of a <a href="#VkImageView">VkImageView</a> <strong class="purple">may</strong> be constrained by the image view’s
format features, defined below.
Such constraints are documented in the affected valid usage statement.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the view’s image was created with <code>VK_IMAGE_TILING_LINEAR</code>, then
the image view’s set of <em>format features</em> is the value of
<a href="chap32.html#VkFormatProperties">VkFormatProperties</a>::<code>linearTilingFeatures</code> found by calling
<a href="chap32.html#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> on the same <code>format</code> as
<a href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p>If the view’s image was created with <code>VK_IMAGE_TILING_OPTIMAL</code>,
then the image view’s set of <em>format features</em> is the value of
<a href="chap32.html#VkFormatProperties">VkFormatProperties</a>::<code>optimalTilingFeatures</code> found by calling
<a href="chap32.html#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> on the same <code>format</code> as
<a href="#VkImageViewCreateInfo">VkImageViewCreateInfo</a>::<code>format</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-association">11.6. Resource Memory Association</h3>
<div class="paragraph">
<p>Resources are initially created as <em>virtual allocations</em> with no backing
memory.
Device memory is allocated separately (see <a href="chap10.html#memory-device">Device Memory</a>) and then
associated with the resource.
This association is done differently for sparse and non-sparse resources.</p>
</div>
<div class="paragraph">
<p>Resources created with any of the sparse creation flags are considered
sparse resources.
Resources created without these flags are non-sparse.
The details on resource memory association for sparse resources is described
in <a href="chap28.html#sparsememory">Sparse Resources</a>.</p>
</div>
<div class="paragraph">
<p>Non-sparse resources <strong class="purple">must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object before the resource is passed as a parameter to
any of the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>creating image or buffer views</p>
</li>
<li>
<p>updating descriptor sets</p>
</li>
<li>
<p>recording commands in a command buffer</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once bound, the memory binding is immutable for the lifetime of the
resource.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the memory requirements for a buffer resource, call:</p>
</div>
<div id="vkGetBufferMemoryRequirements" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetBufferMemoryRequirements(
    VkDevice                                    device,
    VkBuffer                                    buffer,
    VkMemoryRequirements*                       pMemoryRequirements);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the buffer.</p>
</li>
<li>
<p><code>buffer</code> is the buffer to query.</p>
</li>
<li>
<p><code>pMemoryRequirements</code> points to an instance of the
<a href="#VkMemoryRequirements">VkMemoryRequirements</a> structure in which the memory requirements of
the buffer object are returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferMemoryRequirements-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkGetBufferMemoryRequirements-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <code>VkBuffer</code> handle</p>
</li>
<li>
<p><a id="VUID-vkGetBufferMemoryRequirements-pMemoryRequirements-parameter"></a> <code>pMemoryRequirements</code> <strong class="purple">must</strong> be a valid pointer to a <code>VkMemoryRequirements</code> structure</p>
</li>
<li>
<p><a id="VUID-vkGetBufferMemoryRequirements-buffer-parent"></a> <code>buffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the memory requirements for an image resource, call:</p>
</div>
<div id="vkGetImageMemoryRequirements" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">void</span> vkGetImageMemoryRequirements(
    VkDevice                                    device,
    VkImage                                     image,
    VkMemoryRequirements*                       pMemoryRequirements);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the image.</p>
</li>
<li>
<p><code>image</code> is the image to query.</p>
</li>
<li>
<p><code>pMemoryRequirements</code> points to an instance of the
<a href="#VkMemoryRequirements">VkMemoryRequirements</a> structure in which the memory requirements of
the image object are returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetImageMemoryRequirements-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageMemoryRequirements-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <code>VkImage</code> handle</p>
</li>
<li>
<p><a id="VUID-vkGetImageMemoryRequirements-pMemoryRequirements-parameter"></a> <code>pMemoryRequirements</code> <strong class="purple">must</strong> be a valid pointer to a <code>VkMemoryRequirements</code> structure</p>
</li>
<li>
<p><a id="VUID-vkGetImageMemoryRequirements-image-parent"></a> <code>image</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkMemoryRequirements</code> structure is defined as:</p>
</div>
<div id="VkMemoryRequirements" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">struct</span> VkMemoryRequirements {
    VkDeviceSize    size;
    VkDeviceSize    alignment;
    uint32_t        memoryTypeBits;
} VkMemoryRequirements;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>size</code> is the size, in bytes, of the memory allocation <strong class="purple">required</strong> for
the resource.</p>
</li>
<li>
<p><code>alignment</code> is the alignment, in bytes, of the offset within the
allocation <strong class="purple">required</strong> for the resource.</p>
</li>
<li>
<p><code>memoryTypeBits</code> is a bitmask and contains one bit set for every
supported memory type for the resource.
Bit <code>i</code> is set if and only if the memory type <code>i</code> in the
<code>VkPhysicalDeviceMemoryProperties</code> structure for the physical device
is supported for the resource.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>The implementation guarantees certain properties about the memory
requirements returned by <a href="#vkGetBufferMemoryRequirements">vkGetBufferMemoryRequirements</a> and
<a href="#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>memoryTypeBits</code> member always contains at least one bit set.</p>
</li>
<li>
<p>If <code>buffer</code> is a <code>VkBuffer</code> not created with the
<code>VK_BUFFER_CREATE_SPARSE_BINDING_BIT</code> bit set, or if <code>image</code> is
<a href="chap40.html#glossary-linear-resource">linear</a> image, then the <code>memoryTypeBits</code>
member always contains at least one bit set corresponding to a
<code>VkMemoryType</code> with a <code>propertyFlags</code> that has both the
<code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> bit and the
<code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> bit set.
In other words, mappable coherent memory <strong class="purple">can</strong> always be attached to
these objects.</p>
</li>
<li>
<p>The
<code>memoryTypeBits</code> member always contains at least one bit set
corresponding to a <code>VkMemoryType</code> with a <code>propertyFlags</code> that
has the <code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> bit set.</p>
</li>
<li>
<p>The <code>memoryTypeBits</code> member is identical for all <code>VkBuffer</code>
objects created with the same value for the <code>flags</code> and <code>usage</code>
members in the <code>VkBufferCreateInfo</code> structure
passed to <code>vkCreateBuffer</code>.
Further, if <code>usage1</code> and <code>usage2</code> of type <a href="#VkBufferUsageFlags">VkBufferUsageFlags</a>
are such that the bits set in <code>usage2</code> are a subset of the bits set
in <code>usage1</code>, and they have the same
<code>flags</code>,
then the bits set in <code>memoryTypeBits</code> returned for <code>usage1</code> <strong class="purple">must</strong>
be a subset of the bits set in <code>memoryTypeBits</code> returned for
<code>usage2</code>, for all values of <code>flags</code>.</p>
</li>
<li>
<p>The <code>alignment</code> member is a power of two.</p>
</li>
<li>
<p>The <code>alignment</code> member is identical for all <code>VkBuffer</code> objects
created with the same combination of values for the <code>usage</code> and
<code>flags</code> members in the <code>VkBufferCreateInfo</code> structure passed to
<code>vkCreateBuffer</code>.</p>
</li>
<li>
<p>The <code>alignment</code> member satisfies the buffer descriptor offset
alignment requirements associated with the <code>VkBuffer</code>’s <code>usage</code>:</p>
<div class="ulist">
<ul>
<li>
<p>If <code>usage</code> included <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code>
or <code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code>, <code>alignment</code>
<strong class="purple">must</strong> be an integer multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minTexelBufferOffsetAlignment</code>.</p>
</li>
<li>
<p>If <code>usage</code> included <code>VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code>,
<code>alignment</code> <strong class="purple">must</strong> be an integer multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minUniformBufferOffsetAlignment</code>.</p>
</li>
<li>
<p>If <code>usage</code> included <code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code>,
<code>alignment</code> <strong class="purple">must</strong> be an integer multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minStorageBufferOffsetAlignment</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>For images created with a color format, the <code>memoryTypeBits</code> member
is identical for all <code>VkImage</code> objects created with the same
combination of values for the <code>tiling</code> member, the
<code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> bit of the <code>flags</code> member,
and the <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> of the <code>usage</code>
member in the <code>VkImageCreateInfo</code> structure passed to
<code>vkCreateImage</code>.</p>
</li>
<li>
<p>For images created with a depth/stencil format, the <code>memoryTypeBits</code>
member is identical for all <code>VkImage</code> objects created with the same
combination of values for the <code>format</code> member, the <code>tiling</code>
member, the <code>VK_IMAGE_CREATE_SPARSE_BINDING_BIT</code> bit of the
<code>flags</code> member,
and the <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> of the <code>usage</code>
member in the <code>VkImageCreateInfo</code> structure passed to
<code>vkCreateImage</code>.</p>
</li>
<li>
<p>If the memory requirements are for a <code>VkImage</code>, the
<code>memoryTypeBits</code> member <strong class="purple">must</strong> not refer to a <code>VkMemoryType</code> with
a <code>propertyFlags</code> that has the
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set if the <code>image</code>
did not have <code>VK_IMAGE_USAGE_TRANSIENT_ATTACHMENT_BIT</code> bit set in
the <code>usage</code> member of the <code>VkImageCreateInfo</code> structure passed
to <code>vkCreateImage</code>.</p>
</li>
<li>
<p>If the memory requirements are for a <code>VkBuffer</code>, the
<code>memoryTypeBits</code> member <strong class="purple">must</strong> not refer to a <code>VkMemoryType</code> with
a <code>propertyFlags</code> that has the
<code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The implication of this requirement is that lazily allocated memory is
disallowed for buffers in all cases.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The <code>size</code> member is identical for all <code>VkBuffer</code> objects
created with the same combination of creation parameters specified in
<code>VkBufferCreateInfo</code> and its <code>pNext</code> chain.</p>
</li>
<li>
<p>The <code>size</code> member is identical for all <code>VkImage</code> objects created
with the same combination of creation parameters specified in
<code>VkImageCreateInfo</code> and its <code>pNext</code> chain.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This, however, does not imply that they interpret the contents of the bound
memory identically with each other.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To attach memory to a buffer object, call:</p>
</div>
<div id="vkBindBufferMemory" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkBindBufferMemory(
    VkDevice                                    device,
    VkBuffer                                    buffer,
    VkDeviceMemory                              memory,
    VkDeviceSize                                memoryOffset);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the buffer and memory.</p>
</li>
<li>
<p><code>buffer</code> is the buffer to be attached to memory.</p>
</li>
<li>
<p><code>memory</code> is a <a href="chap10.html#VkDeviceMemory">VkDeviceMemory</a> object describing the device
memory to attach.</p>
</li>
<li>
<p><code>memoryOffset</code> is the start offset of the region of <code>memory</code>
which is to be bound to the buffer.
The number of bytes returned in the
<code>VkMemoryRequirements</code>::<code>size</code> member in <code>memory</code>, starting
from <code>memoryOffset</code> bytes, will be bound to the specified buffer.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkBindBufferMemory-buffer-01029"></a>
<code>buffer</code> <strong class="purple">must</strong> not already be backed by a memory object</p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-buffer-01030"></a>
<code>buffer</code> <strong class="purple">must</strong> not have been created with any sparse memory binding
flags</p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-memoryOffset-01031"></a>
<code>memoryOffset</code> <strong class="purple">must</strong> be less than the size of <code>memory</code></p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-memory-01035"></a>
<code>memory</code> <strong class="purple">must</strong> have been allocated using one of the memory types
allowed in the <code>memoryTypeBits</code> member of the
<code>VkMemoryRequirements</code> structure returned from a call to
<code>vkGetBufferMemoryRequirements</code> with <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-memoryOffset-01036"></a>
<code>memoryOffset</code> <strong class="purple">must</strong> be an integer multiple of the <code>alignment</code>
member of the <code>VkMemoryRequirements</code> structure returned from a call
to <code>vkGetBufferMemoryRequirements</code> with <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-size-01037"></a>
The <code>size</code> member of the <code>VkMemoryRequirements</code> structure
returned from a call to <code>vkGetBufferMemoryRequirements</code> with
<code>buffer</code> <strong class="purple">must</strong> be less than or equal to the size of <code>memory</code>
minus <code>memoryOffset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkBindBufferMemory-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-buffer-parameter"></a> <code>buffer</code> <strong class="purple">must</strong> be a valid <code>VkBuffer</code> handle</p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-memory-parameter"></a> <code>memory</code> <strong class="purple">must</strong> be a valid <code>VkDeviceMemory</code> handle</p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-buffer-parent"></a> <code>buffer</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkBindBufferMemory-memory-parent"></a> <code>memory</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>buffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap2.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap2.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To attach memory to an image object, call:</p>
</div>
<div id="vkBindImageMemory" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkResult vkBindImageMemory(
    VkDevice                                    device,
    VkImage                                     image,
    VkDeviceMemory                              memory,
    VkDeviceSize                                memoryOffset);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the image and memory.</p>
</li>
<li>
<p><code>image</code> is the image.</p>
</li>
<li>
<p><code>memory</code> is the <a href="chap10.html#VkDeviceMemory">VkDeviceMemory</a> object describing the device
memory to attach.</p>
</li>
<li>
<p><code>memoryOffset</code> is the start offset of the region of <code>memory</code>
which is to be bound to the image.
The number of bytes returned in the
<code>VkMemoryRequirements</code>::<code>size</code> member in <code>memory</code>, starting
from <code>memoryOffset</code> bytes, will be bound to the specified image.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkBindImageMemory-image-01044"></a>
<code>image</code> <strong class="purple">must</strong> not already be backed by a memory object</p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-image-01045"></a>
<code>image</code> <strong class="purple">must</strong> not have been created with any sparse memory binding
flags</p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-memoryOffset-01046"></a>
<code>memoryOffset</code> <strong class="purple">must</strong> be less than the size of <code>memory</code></p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-memory-01047"></a>
<code>memory</code> <strong class="purple">must</strong> have been allocated using one of the memory types
allowed in the <code>memoryTypeBits</code> member of the
<code>VkMemoryRequirements</code> structure returned from a call to
<code>vkGetImageMemoryRequirements</code> with <code>image</code></p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-memoryOffset-01048"></a>
<code>memoryOffset</code> <strong class="purple">must</strong> be an integer multiple of the <code>alignment</code>
member of the <code>VkMemoryRequirements</code> structure returned from a call
to <code>vkGetImageMemoryRequirements</code> with <code>image</code></p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-size-01049"></a>
The <code>size</code> member of the <code>VkMemoryRequirements</code> structure
returned from a call to <code>vkGetImageMemoryRequirements</code> with
<code>image</code> <strong class="purple">must</strong> be less than or equal to the size of <code>memory</code>
minus <code>memoryOffset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkBindImageMemory-device-parameter"></a> <code>device</code> <strong class="purple">must</strong> be a valid <code>VkDevice</code> handle</p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-image-parameter"></a> <code>image</code> <strong class="purple">must</strong> be a valid <code>VkImage</code> handle</p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-memory-parameter"></a> <code>memory</code> <strong class="purple">must</strong> be a valid <code>VkDeviceMemory</code> handle</p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-image-parent"></a> <code>image</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkBindImageMemory-memory-parent"></a> <code>memory</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>image</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap2.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap2.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div id="resources-bufferimagegranularity" class="paragraph">
<div class="title">Buffer-Image Granularity</div>
<p>There is an implementation-dependent limit, <code>bufferImageGranularity</code>,
which specifies a page-like granularity at which linear and non-linear
resources <strong class="purple">must</strong> be placed in adjacent memory locations to avoid aliasing.
Two resources which do not satisfy this granularity requirement are said to
<a href="#resources-memory-aliasing">alias</a>.
<code>bufferImageGranularity</code> is specified in bytes, and <strong class="purple">must</strong> be a power of
two.
Implementations which do not impose a granularity restriction <strong class="purple">may</strong> report a
<code>bufferImageGranularity</code> value of one.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Despite its name, <code>bufferImageGranularity</code> is really a granularity
between “linear” and “non-linear” resources.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Given resourceA at the lower memory offset and resourceB at the higher
memory offset in the same <code>VkDeviceMemory</code> object, where one resource is
linear and the other is non-linear (as defined in the
<a href="chap40.html#glossary-linear-resource">Glossary</a>), and the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">resourceA.end       = resourceA.memoryOffset + resourceA.size - <span class="integer">1</span>
resourceA.endPage   = resourceA.end &amp; ~(bufferImageGranularity-<span class="integer">1</span>)
resourceB.start     = resourceB.memoryOffset
resourceB.startPage = resourceB.start &amp; ~(bufferImageGranularity-<span class="integer">1</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following property <strong class="purple">must</strong> hold:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">resourceA.endPage &lt; resourceB.startPage</code></pre>
</div>
</div>
<div class="paragraph">
<p>That is, the end of the first resource (A) and the beginning of the second
resource (B) <strong class="purple">must</strong> be on separate “pages” of size
<code>bufferImageGranularity</code>.
<code>bufferImageGranularity</code> <strong class="purple">may</strong> be different than the physical page size
of the memory heap.
This restriction is only needed when a linear resource and a non-linear
resource are adjacent in memory and will be used simultaneously.
The memory ranges of adjacent resources <strong class="purple">can</strong> be closer than
<code>bufferImageGranularity</code>, provided they meet the <code>alignment</code>
requirement for the objects in question.</p>
</div>
<div class="paragraph">
<p>Sparse block size in bytes and sparse image and buffer memory alignments
<strong class="purple">must</strong> all be multiples of the <code>bufferImageGranularity</code>.
Therefore, memory bound to sparse resources naturally satisfies the
<code>bufferImageGranularity</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="resources-sharing">11.7. Resource Sharing Mode</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Buffer and image objects are created with a <em>sharing mode</em> controlling how
they <strong class="purple">can</strong> be accessed from queues.
The supported sharing modes are:</p>
</div>
<div id="VkSharingMode" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">typedef</span> <span class="keyword">enum</span> VkSharingMode {
    VK_SHARING_MODE_EXCLUSIVE = <span class="integer">0</span>,
    VK_SHARING_MODE_CONCURRENT = <span class="integer">1</span>,
    VK_SHARING_MODE_MAX_ENUM = <span class="hex">0x7FFFFFFF</span>
} VkSharingMode;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHARING_MODE_EXCLUSIVE</code> specifies that access to any range or
image subresource of the object will be exclusive to a single queue
family at a time.</p>
</li>
<li>
<p><code>VK_SHARING_MODE_CONCURRENT</code> specifies that concurrent access to any
range or image subresource of the object from multiple queue families is
supported.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>VK_SHARING_MODE_CONCURRENT</code> <strong class="purple">may</strong> result in lower performance access to
the buffer or image than <code>VK_SHARING_MODE_EXCLUSIVE</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ranges of buffers and image subresources of image objects created using
<code>VK_SHARING_MODE_EXCLUSIVE</code> <strong class="purple">must</strong> only be accessed by queues in the
queue family that has <em>ownership</em> of the resource.
Upon creation, such resources are not owned by any queue family; ownership
is implicitly acquired upon first use within a queue.
Once a resource using <code>VK_SHARING_MODE_EXCLUSIVE</code> is owned by some queue
family, the application <strong class="purple">must</strong> perform a
<a href="chap6.html#synchronization-queue-transfers">queue family ownership transfer</a> to make
the memory contents of a range or image subresource accessible to a
different queue family.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Images still require a <a href="#resources-image-layouts">layout transition</a> from
<code>VK_IMAGE_LAYOUT_UNDEFINED</code> or <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code>
before being used on the first queue.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A queue family <strong class="purple">can</strong> take ownership of an image subresource or buffer range
of a resource created with <code>VK_SHARING_MODE_EXCLUSIVE</code>, without an
ownership transfer, in the same way as for a resource that was just created;
however, taking ownership in this way has the effect that the contents of
the image subresource or buffer range are undefined.</p>
</div>
<div class="paragraph">
<p>Ranges of buffers and image subresources of image objects created using
<code>VK_SHARING_MODE_CONCURRENT</code> <strong class="purple">must</strong> only be accessed by queues from the
queue families specified through the <code>queueFamilyIndexCount</code> and
<code>pQueueFamilyIndices</code> members of the corresponding create info
structures.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resources-memory-aliasing">11.8. Memory Aliasing</h3>
<div class="paragraph">
<p>A range of a <code>VkDeviceMemory</code> allocation is <em>aliased</em> if it is bound to
multiple resources simultaneously, as described below, via
<a href="#vkBindImageMemory">vkBindImageMemory</a>, <a href="#vkBindBufferMemory">vkBindBufferMemory</a>,
or via <a href="chap28.html#sparsememory-resource-binding">sparse memory bindings</a>.</p>
</div>
<div class="paragraph">
<p>Consider two resources, resource<sub>A</sub> and resource<sub>B</sub>, bound respectively to
memory range<sub>A</sub> and range<sub>B</sub>.
Let paddedRange<sub>A</sub> and paddedRange<sub>B</sub> be, respectively, range<sub>A</sub> and
range<sub>B</sub> aligned to <code>bufferImageGranularity</code>.
If the resources are both linear or both non-linear (as defined in the
<a href="chap40.html#glossary-linear-resource">Glossary</a>), then the resources <em>alias</em> the
memory in the intersection of range<sub>A</sub> and range<sub>B</sub>.
If one resource is linear and the other is non-linear, then the resources
<em>alias</em> the memory in the intersection of paddedRange<sub>A</sub> and paddedRange<sub>B</sub>.</p>
</div>
<div class="paragraph">
<p>Applications <strong class="purple">can</strong> alias memory, but use of multiple aliases is subject to
several constraints.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Memory aliasing <strong class="purple">can</strong> be useful to reduce the total device memory footprint
of an application, if some large resources are used for disjoint periods of
time.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When a <a href="chap40.html#glossary-linear-resource">non-linear</a>,
non-<code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> image is bound to an aliased
range, all image subresources of the image <em>overlap</em> the range.
When a linear image is bound to an aliased range, the image subresources
that (according to the image’s advertised layout) include bytes from the
aliased range overlap the range.
When a <code>VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT</code> image has sparse image
blocks bound to an aliased range, only image subresources including those
sparse image blocks overlap the range, and when the memory bound to the
image’s mip tail overlaps an aliased range all image subresources in the mip
tail overlap the range.</p>
</div>
<div class="paragraph">
<p>Buffers, and linear image subresources in either the
<code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> or <code>VK_IMAGE_LAYOUT_GENERAL</code>
layouts, are <em>host-accessible subresources</em>.
That is, the host has a well-defined addressing scheme to interpret the
contents, and thus the layout of the data in memory <strong class="purple">can</strong> be consistently
interpreted across aliases if each of those aliases is a host-accessible
subresource.
Non-linear images, and linear image subresources in other layouts, are not
host-accessible.</p>
</div>
<div class="paragraph">
<p>If two aliases are both host-accessible, then they interpret the contents of
the memory in consistent ways, and data written to one alias <strong class="purple">can</strong> be read by
the other alias.</p>
</div>
<div class="paragraph">
<p>Otherwise, the aliases interpret the contents of the memory differently, and
writes via one alias make the contents of memory partially or completely
undefined to the other alias.
If the first alias is a host-accessible subresource, then the bytes affected
are those written by the memory operations according to its addressing
scheme.
If the first alias is not host-accessible, then the bytes affected are those
overlapped by the image subresources that were written.
If the second alias is a host-accessible subresource, the affected bytes
become undefined.
If the second alias is a not host-accessible, all sparse image blocks (for
sparse partially-resident images) or all image subresources (for non-sparse
image and fully resident sparse images) that overlap the affected bytes
become undefined.</p>
</div>
<div class="paragraph">
<p>If any image subresources are made undefined due to writes to an alias,
then each of those image subresources <strong class="purple">must</strong> have its layout transitioned
from <code>VK_IMAGE_LAYOUT_UNDEFINED</code> to a valid layout before it is used, or
from <code>VK_IMAGE_LAYOUT_PREINITIALIZED</code> if the memory has been written by
the host.
If any sparse blocks of a sparse image have been made undefined, then only
the image subresources containing them <strong class="purple">must</strong> be transitioned.</p>
</div>
<div class="paragraph">
<p>Use of an overlapping range by two aliases <strong class="purple">must</strong> be separated by a memory
dependency using the appropriate <a href="chap6.html#synchronization-access-types">access
types</a> if at least one of those uses performs writes, whether the aliases
interpret memory consistently or not.
If buffer or image memory barriers are used, the scope of the barrier <strong class="purple">must</strong>
contain the entire range and/or set of image subresources that overlap.</p>
</div>
<div class="paragraph">
<p>If two aliasing image views are used in the same framebuffer, then the
render pass <strong class="purple">must</strong> declare the attachments using the
<a href="chap7.html#renderpass-aliasing"><code>VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT</code></a>, and
follow the other rules listed in that section.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Memory recycled via an application suballocator (i.e. without freeing and
reallocating the memory objects) is not substantially different from memory
aliasing.
However, a suballocator usually waits on a fence before recycling a region
of memory, and signaling a fence involves sufficient implicit dependencies
to satisfy all the above requirements.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div></div>
<div id="footer">
<div id="footer-text">
Version 1.0.114<br>
Last updated 2019-03-03 21:04:48 -0800
</div>
</div>


</body>
</html>