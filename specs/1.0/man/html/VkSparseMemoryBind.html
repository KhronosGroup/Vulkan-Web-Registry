<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>VkSparseMemoryBind</title><link rel="stylesheet" type="text/css" href="vkman.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /></head><body><div xml:lang="en" class="refentry" lang="en"><a id="id-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VkSparseMemoryBind â€” Structure specifying a sparse memory bind operation</p></div><div class="refsect1"><a id="_c_specification"></a><h2>C Specification</h2><p>The <code class="code">VkSparseMemoryBind</code> structure is defined as:</p><pre class="programlisting">typedef struct VkSparseMemoryBind {
    VkDeviceSize               resourceOffset;
    VkDeviceSize               size;
    VkDeviceMemory             memory;
    VkDeviceSize               memoryOffset;
    VkSparseMemoryBindFlags    flags;
} VkSparseMemoryBind;</pre></div><div class="refsect1"><a id="_members"></a><h2>Members</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>resourceOffset</code></em> is the offset into the resource.
</li><li class="listitem">
<em class="parameter"><code>size</code></em> is the size of the memory region to be bound.
</li><li class="listitem">
<em class="parameter"><code>memory</code></em> is the <code class="code">VkDeviceMemory</code> object that the range of the
    resource is bound to. If <em class="parameter"><code>memory</code></em> is <code class="code"><a class="link" href="#">VK_NULL_HANDLE</a></code>, the range
    is unbound.
</li><li class="listitem">
<em class="parameter"><code>memoryOffset</code></em> is the offset into the <code class="code">VkDeviceMemory</code> object to
    bind the resource range to. If <em class="parameter"><code>memory</code></em> is <code class="code"><a class="link" href="#">VK_NULL_HANDLE</a></code>,
    this value is ignored.
</li><li class="listitem"><p class="simpara">
<em class="parameter"><code>flags</code></em> is a bitmask specifying usage of the binding operation. Bits
    which <span class="normative">can</span> be set include:
</p><pre class="programlisting">typedef enum VkSparseMemoryBindFlagBits {
    VK_SPARSE_MEMORY_BIND_METADATA_BIT = 0x00000001,
} VkSparseMemoryBindFlagBits;</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
<code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code> indicates that the memory
     being bound is only for the metadata aspect.
</li></ul></div></li></ul></div></div><div class="refsect1"><a id="_description"></a><h2>Description</h2><p>The <span class="emphasis"><em>binding range</em></span> <span class="inlinemediaobject"><span class="phrase">
$[\mathit{resourceOffset},
\mathit{resourceOffset} + \mathit{size})$
</span></span> has different constraints based
on <em class="parameter"><code>flags</code></em>. If <em class="parameter"><code>flags</code></em> contains
<code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>, the binding range <span class="normative">must</span> be within
the mip tail region of the metadata aspect. This metadata region is defined
by:</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{align*}
\mathit{metadataRegion} = [&amp;
        \mathit{imageMipTailOffset} + \mathit{imageMipTailStride} \times n,\\
        &amp;\mathit{imageMipTailOffset} +
                \mathit{imageMipTailStride} \times n + \mathit{imageMipTailSize})
\end{align*}</span></div></div><p>Where <em class="parameter"><code>imageMipTailOffset</code></em>, <em class="parameter"><code>imageMipTailSize</code></em>, and
<em class="parameter"><code>imageMipTailStride</code></em> values are from the
<code class="code"><a class="link" href="#">VkSparseImageMemoryRequirements</a></code> that correspond to the metadata aspect
of the image. The term <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> is a valid array layer index for the
image.</p><p><em class="parameter"><code>imageMipTailStride</code></em> is considered to be zero for aspects where
<code class="code">VkSparseImageMemoryRequirements</code>::<em class="parameter"><code>formatProperties.flags</code></em> contains
<code class="code">VK_SPARSE_IMAGE_FORMAT_SINGLE_MIPTAIL_BIT</code>.</p><p>If <em class="parameter"><code>flags</code></em> does not contain <code class="code">VK_SPARSE_MEMORY_BIND_METADATA_BIT</code>,
the binding range <span class="normative">must</span> be within the range
<span class="inlinemediaobject"><span class="phrase">
$[0, {\mathit{VkMemoryRequirements}::\mathit{size}})$
</span></span>.</p></div><div class="refsect1"><a id="_valid_usage"></a><h2>Valid Usage</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If <em class="parameter"><code>memory</code></em> is not <code class="code"><a class="link" href="#">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>memory</code></em> <span class="normative">must</span> be a valid <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
<em class="parameter"><code>flags</code></em> <span class="normative">must</span> be a valid combination of <code class="code"><a class="link" href="#">VkSparseMemoryBindFlagBits</a></code> values
</li><li class="listitem">
If <em class="parameter"><code>memory</code></em> is not <code class="code"><a class="link" href="#">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>memory</code></em> and <em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> match the memory requirements of the resource, as described in section <a class="xref" href="#">???</a>
</li><li class="listitem">
If <em class="parameter"><code>memory</code></em> is not <code class="code"><a class="link" href="#">VK_NULL_HANDLE</a></code>, <em class="parameter"><code>memory</code></em> <span class="normative">must not</span> have been created with a memory type that reports <code class="code">VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> bit set
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
<em class="parameter"><code>resourceOffset</code></em> <span class="normative">must</span> be less than the size of the resource
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be less than or equal to the size of the resource minus <em class="parameter"><code>resourceOffset</code></em>
</li><li class="listitem">
<em class="parameter"><code>memoryOffset</code></em> <span class="normative">must</span> be less than the size of <em class="parameter"><code>memory</code></em>
</li><li class="listitem">
<em class="parameter"><code>size</code></em> <span class="normative">must</span> be less than or equal to the size of <em class="parameter"><code>memory</code></em> minus <em class="parameter"><code>memoryOffset</code></em>
</li></ul></div></div><div class="refsect1"><a id="_see_also"></a><h2>See Also</h2><p><code class="code"><a class="link" href="#">VkDeviceMemory</a></code>, basetypes:VkDeviceSize, <code class="code"><a class="link" href="#">VkSparseBufferMemoryBindInfo</a></code>, <code class="code"><a class="link" href="#">VkSparseImageOpaqueMemoryBindInfo</a></code>, <code class="code"><a class="link" href="#">VkSparseMemoryBindFlags</a></code></p></div><div class="refsect1"><a id="_document_notes"></a><h2>Document Notes</h2><p>For more information, see the Vulkan Specification at URL</p><p><a class="ulink" href="https://www.khronos.org/registry/vulkan/specs/1.0/xhtml/vkspec.html#VkSparseMemoryBind" target="_top">https://www.khronos.org/registry/vulkan/specs/1.0/xhtml/vkspec.html#VkSparseMemoryBind</a></p><p>This page is extracted from the Vulkan Specification.
Fixes and changes should be made to the Specification,not directly.</p></div><div class="refsect1"><a id="_copyright"></a><h2>Copyright</h2><p>Copyright (c) 2014-2016 Khronos Group. This work is licensed under a
<a class="ulink" href="http://creativecommons.org/licenses/by/4.0/" target="_top">Creative Commons
Attribution 4.0 International License</a>.</p></div></div></body></html>