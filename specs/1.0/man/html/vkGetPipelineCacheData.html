<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>vkGetPipelineCacheData</title><link rel="stylesheet" type="text/css" href="vkman.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /></head><body><div xml:lang="en" class="refentry" lang="en"><a id="id-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vkGetPipelineCacheData — Get the data store from a pipeline cache</p></div><div class="refsect1"><a id="_c_specification"></a><h2>C Specification</h2><p>Data <span class="normative">can</span> be retrieved from a pipeline cache object using the command:</p><pre class="programlisting">VkResult vkGetPipelineCacheData(
    VkDevice                                    device,
    VkPipelineCache                             pipelineCache,
    size_t*                                     pDataSize,
    void*                                       pData);</pre></div><div class="refsect1"><a id="_parameters"></a><h2>Parameters</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the pipeline cache.
</li><li class="listitem">
<em class="parameter"><code>pipelineCache</code></em> is the pipeline cache to retrieve data from.
</li><li class="listitem">
<em class="parameter"><code>pDataSize</code></em> is a pointer to a value related to the amount of data in
    the pipeline cache, as described below.
</li><li class="listitem">
<em class="parameter"><code>pData</code></em> is either <code class="literal">NULL</code> or a pointer to a buffer.
</li></ul></div></div><div class="refsect1"><a id="_description"></a><h2>Description</h2><p>If <em class="parameter"><code>pData</code></em> is <code class="literal">NULL</code>, then the maximum size of the data that <span class="normative">can</span> be
retrieved from the pipeline cache, in bytes, is returned in <em class="parameter"><code>pDataSize</code></em>.
Otherwise, <em class="parameter"><code>pDataSize</code></em> <span class="normative">must</span> point to a variable set by the user to the
size of the buffer, in bytes, pointed to by <em class="parameter"><code>pData</code></em>, and on return the
variable is overwritten with the amount of data actually written to
<em class="parameter"><code>pData</code></em>.</p><p>If <em class="parameter"><code>pDataSize</code></em> is less than the maximum size that <span class="normative">can</span> be
retrieved by the pipeline cache, at most <em class="parameter"><code>pDataSize</code></em> bytes will be
written to <em class="parameter"><code>pData</code></em>, and <span class="strong"><strong><code class="code">vkGetPipelineCacheData</code></strong></span> will return
<code class="code">VK_INCOMPLETE</code>. Any data written to <em class="parameter"><code>pData</code></em> is valid and <span class="normative">can</span> be
provided as the <em class="parameter"><code>pInitialData</code></em> member of the
<code class="code">VkPipelineCacheCreateInfo</code> structure passed to
<span class="strong"><strong><code class="code">vkCreatePipelineCache</code></strong></span>.</p><p><a id="pipelines-cache-header"></a>Applications <span class="normative">can</span> store the data retrieved from the pipeline cache, and use
these data, possibly in a future run of the application, to populate new
pipeline cache objects. The results of pipeline compiles, however,
<span class="normative">may</span> depend on the vendor ID, device ID, driver version, and other details
of the device. To enable applications to detect when previously retrieved
data is incompatible with the device, the initial bytes written to
<em class="parameter"><code>pData</code></em> <span class="normative">must</span> be a header consisting of the following members:</p><div class="table"><a id="id-1.6.5"></a><p class="title"><strong>Table 1. Layout for pipeline cache header version VK_PIPELINE_CACHE_HEADER_VERSION_ONE</strong></p><div class="table-contents"><table summary="Layout for pipeline cache header version VK_PIPELINE_CACHE_HEADER_VERSION_ONE" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="85%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Offset </th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"> Size </th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top"> Meaning</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>length in bytes of the entire pipeline cache header
                             written as a stream of bytes, with the least
                             significant byte first</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>a <code class="code"><a class="link" href="#">VkPipelineCacheHeaderVersion</a></code> value
                             written as a stream of bytes, with the least
                             significant byte first</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>8</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>a vendor ID equal to
                             <code class="code">VkPhysicalDeviceProperties</code>::<em class="parameter"><code>vendorID</code></em>
                             written as a stream of bytes, with the least
                             significant byte first</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>12</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>a device ID equal to
                             <code class="code">VkPhysicalDeviceProperties</code>::<em class="parameter"><code>deviceID</code></em>
                             written as a stream of bytes, with the least
                             significant byte first</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>16</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><code class="code">VK_UUID_SIZE</code></p></td><td style="" align="left" valign="top"><p>a pipeline cache ID equal to
                             <code class="code">VkPhysicalDeviceProperties</code>::<em class="parameter"><code>pipelineCacheUUID</code></em></p></td></tr></tbody></table></div></div><br class="table-break" /><p>The first four bytes encode the length of the entire pipeline header, in
bytes. This value includes all fields in the header including the pipeline
cache version field and the size of the length field.</p><p>The next four bytes encode the pipeline cache version. This field is
interpreted as a <code class="code"><a class="link" href="#">VkPipelineCacheHeaderVersion</a></code> value, and <span class="normative">must</span>
have one of the following values:</p><pre class="programlisting">typedef enum VkPipelineCacheHeaderVersion {
    VK_PIPELINE_CACHE_HEADER_VERSION_ONE = 1,
} VkPipelineCacheHeaderVersion;</pre><p>A consumer of the pipeline cache should use the cache version to interpret
the remainder of the cache header.</p><p>If <em class="parameter"><code>pDataSize</code></em> is less than what is necessary to store this
header, nothing will be written to <em class="parameter"><code>pData</code></em> and zero will be written to
<em class="parameter"><code>pDataSize</code></em>.</p></div><div class="refsect1"><a id="_valid_usage"></a><h2>Valid Usage</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pipelineCache</code></em> <span class="normative">must</span> be a valid <code class="code">VkPipelineCache</code> handle
</li><li class="listitem">
<em class="parameter"><code>pDataSize</code></em> <span class="normative">must</span> be a pointer to a <code class="code">size_t</code> value
</li><li class="listitem">
If the value referenced by <em class="parameter"><code>pDataSize</code></em> is not <code class="literal">0</code>, and <em class="parameter"><code>pData</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pData</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>pDataSize</code></em> bytes
</li><li class="listitem">
<em class="parameter"><code>pipelineCache</code></em> <span class="normative">must</span> have been created, allocated or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
Each of <em class="parameter"><code>device</code></em> and <em class="parameter"><code>pipelineCache</code></em> <span class="normative">must</span> have been created, allocated or retrieved from the same <code class="code">VkPhysicalDevice</code>
</li></ul></div></div><div class="refsect1"><a id="_return_codes"></a><h2>Return Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">
On success, this command returns
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_INCOMPLETE</code>
</li></ul></div></dd><dt><span class="term">
On failure, this command returns
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><div class="refsect1"><a id="_see_also"></a><h2>See Also</h2><p><code class="code"><a class="link" href="#">VkDevice</a></code>, <code class="code"><a class="link" href="#">VkPipelineCache</a></code></p></div><div class="refsect1"><a id="_document_notes"></a><h2>Document Notes</h2><p>For more information, see the Vulkan Specification at URL</p><p><a class="ulink" href="https://www.khronos.org/registry/vulkan/specs/1.0/xhtml/vkspec.html#vkGetPipelineCacheData" target="_top">https://www.khronos.org/registry/vulkan/specs/1.0/xhtml/vkspec.html#vkGetPipelineCacheData</a></p><p>This page is extracted from the Vulkan Specification.
Fixes and changes should be made to the Specification,not directly.</p></div><div class="refsect1"><a id="_copyright"></a><h2>Copyright</h2><p>Copyright (c) 2014-2016 Khronos Group. This work is licensed under a
<a class="ulink" href="http://creativecommons.org/licenses/by/4.0/" target="_top">Creative Commons
Attribution 4.0 International License</a>.</p></div></div></body></html>