<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>vkAllocateMemory</title><link rel="stylesheet" type="text/css" href="vkman.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /></head><body><div xml:lang="en" class="refentry" lang="en"><a id="id-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vkAllocateMemory — Allocate GPU memory.</p></div><div class="refsect1"><a id="_c_specification"></a><h2>C Specification</h2><p>To allocate memory objects, call:</p><pre class="programlisting">VkResult vkAllocateMemory(
    VkDevice                                    device,
    const VkMemoryAllocateInfo*                 pAllocateInfo,
    const VkAllocationCallbacks*                pAllocator,
    VkDeviceMemory*                             pMemory);</pre></div><div class="refsect1"><a id="_parameters"></a><h2>Parameters</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the memory.
</li><li class="listitem">
<em class="parameter"><code>pAllocateInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="#">VkMemoryAllocateInfo</a></code> structure describing parameters of the
    allocation. A successful returned allocation <span class="normative">must</span> use the requested
    parameters — no substitution is permitted by the implementation.
</li><li class="listitem">
<em class="parameter"><code>pAllocator</code></em> controls host memory allocation as described in
    the <a class="link" href="#">Memory Allocation</a> chapter.
</li><li class="listitem">
<em class="parameter"><code>pMemory</code></em> is a pointer to a <code class="code">VkDeviceMemory</code> handle in which
    information about the allocated memory is returned.
</li></ul></div></div><div class="refsect1"><a id="_description"></a><h2>Description</h2><p>Allocations returned by <span class="strong"><strong><code class="code">vkAllocateMemory</code></strong></span> are guaranteed to meet any
alignment requirement by the implementation. For example, if an
implementation requires 128 byte alignment for images and 64 byte alignment
for buffers, the device memory returned through this mechanism would be
128-byte aligned. This ensures that applications <span class="normative">can</span> correctly suballocate
objects of different types (with potentially different alignment
requirements) in the same memory object.</p><p>When memory is allocated, its contents are undefined.</p><p>There is an implementation-dependent maximum number of memory allocations
which <span class="normative">can</span> be simultaneously created on a device. This is specified by the
<a class="link" href="#"><em class="parameter"><code>maxMemoryAllocationCount</code></em></a>
member of the <code class="code">VkPhysicalDeviceLimits</code> structure. If
<em class="parameter"><code>maxMemoryAllocationCount</code></em> is exceeded, <span class="strong"><strong><code class="code">vkAllocateMemory</code></strong></span> will
return <code class="code">VK_ERROR_TOO_MANY_OBJECTS</code>.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Some platforms <span class="normative">may</span> have a limit on the maximum size of a single allocation.
For example, certain systems <span class="normative">may</span> fail to create allocations with a size
greater than or equal to 4GB. Such a limit is implementation-dependent, and
if such a failure occurs then the error <code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
<span class="normative">should</span> be returned.</p></td></tr></table></div></div><div class="refsect1"><a id="_valid_usage"></a><h2>Valid Usage</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pAllocateInfo</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkMemoryAllocateInfo</code> structure
</li><li class="listitem">
If <em class="parameter"><code>pAllocator</code></em> is not <code class="literal">NULL</code>, <em class="parameter"><code>pAllocator</code></em> <span class="normative">must</span> be a pointer to a valid <code class="code">VkAllocationCallbacks</code> structure
</li><li class="listitem">
<em class="parameter"><code>pMemory</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDeviceMemory</code> handle
</li><li class="listitem">
The number of currently valid memory objects, allocated from <em class="parameter"><code>device</code></em>, <span class="normative">must</span> be less than <code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxMemoryAllocationCount</code></em>
</li></ul></div></div><div class="refsect1"><a id="_return_codes"></a><h2>Return Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">
On success, this command returns
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
On failure, this command returns
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_TOO_MANY_OBJECTS</code>
</li></ul></div></dd></dl></div></div><div class="refsect1"><a id="_see_also"></a><h2>See Also</h2><p><code class="code"><a class="link" href="#">VkAllocationCallbacks</a></code>, <code class="code"><a class="link" href="#">VkDevice</a></code>, <code class="code"><a class="link" href="#">VkDeviceMemory</a></code>, <code class="code"><a class="link" href="#">VkMemoryAllocateInfo</a></code></p></div><div class="refsect1"><a id="_document_notes"></a><h2>Document Notes</h2><p>For more information, see the Vulkan Specification at URL</p><p><a class="ulink" href="https://www.khronos.org/registry/vulkan/specs/1.0/xhtml/vkspec.html#vkAllocateMemory" target="_top">https://www.khronos.org/registry/vulkan/specs/1.0/xhtml/vkspec.html#vkAllocateMemory</a></p><p>This page is extracted from the Vulkan Specification.
Fixes and changes should be made to the Specification,not directly.</p></div><div class="refsect1"><a id="_copyright"></a><h2>Copyright</h2><p>Copyright (c) 2014-2016 Khronos Group. This work is licensed under a
<a class="ulink" href="http://creativecommons.org/licenses/by/4.0/" target="_top">Creative Commons
Attribution 4.0 International License</a>.</p></div></div></body></html>