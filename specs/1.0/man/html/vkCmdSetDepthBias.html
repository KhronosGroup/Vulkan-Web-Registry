<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>vkCmdSetDepthBias</title><link rel="stylesheet" type="text/css" href="vkman.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /></head><body><div xml:lang="en" class="refentry" lang="en"><a id="id-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vkCmdSetDepthBias — Set the depth bias dynamic state.</p></div><div class="refsect1"><a id="_c_specification"></a><h2>C Specification</h2><p>The depth values of all fragments generated by the rasterization of a
polygon <span class="normative">can</span> be offset by a single value that is computed for that polygon.
This behavior is controlled by the <em class="parameter"><code>depthBiasEnable</code></em>,
<em class="parameter"><code>depthBiasConstantFactor</code></em>, <em class="parameter"><code>depthBiasClamp</code></em>, and
<em class="parameter"><code>depthBiasSlopeFactor</code></em> members of
<code class="code"><a class="link" href="#">VkPipelineRasterizationStateCreateInfo</a></code>, or by the corresponding
parameters to the <span class="strong"><strong><code class="code">vkCmdSetDepthBias</code></strong></span> command if depth bias state is
dynamic.</p><pre class="programlisting">void vkCmdSetDepthBias(
    VkCommandBuffer                             commandBuffer,
    float                                       depthBiasConstantFactor,
    float                                       depthBiasClamp,
    float                                       depthBiasSlopeFactor);</pre></div><div class="refsect1"><a id="_parameters"></a><h2>Parameters</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command will be
    recorded.
</li><li class="listitem">
<em class="parameter"><code>depthBiasConstantFactor</code></em> is a scalar factor controlling the
    constant depth value added to each fragment.
</li><li class="listitem">
<em class="parameter"><code>depthBiasClamp</code></em> is the maximum (or minimum) depth bias of a
    fragment.
</li><li class="listitem">
<em class="parameter"><code>depthBiasSlopeFactor</code></em> is a scalar factor applied to a fragment’s
    slope in depth bias calculations.
</li></ul></div></div><div class="refsect1"><a id="_description"></a><h2>Description</h2><p>If <em class="parameter"><code>depthBiasEnable</code></em> is <code class="code">VK_FALSE</code>, no depth bias is applied and the
fragment’s depth values are unchanged.</p><p><em class="parameter"><code>depthBiasSlopeFactor</code></em> scales the maximum depth slope of the polygon,
and <em class="parameter"><code>depthBiasConstantFactor</code></em> scales an implementation-dependent
constant that relates to the usable resolution of the depth buffer. The
resulting values are summed to produce the depth bias value which is then
clamped to a minimum or maximum value specified by <em class="parameter"><code>depthBiasClamp</code></em>.
<em class="parameter"><code>depthBiasSlopeFactor</code></em>, <em class="parameter"><code>depthBiasConstantFactor</code></em>, and
<em class="parameter"><code>depthBiasClamp</code></em> <span class="normative">can</span> each be positive, negative, or zero.</p><p>The maximum depth slope <span class="inlinemediaobject"><span class="phrase">
$m$
</span></span> of a triangle is</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{equation}
m = \sqrt{ \left({\partial z_f \over \partial x_f}\right)^2
 +  \left({\partial z_f \over  \partial y_f}\right)^2}
\end{equation}</span></div></div><p>where <span class="inlinemediaobject"><span class="phrase">
$(x_f, y_f, z_f)$
</span></span> is a point on the triangle.
<span class="inlinemediaobject"><span class="phrase">
$m$
</span></span> <span class="normative">may</span> be approximated as</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{equation}
m = \max( \left |{\partial z_f \over \partial x_f} \right |,
\left |{\partial z_f \over \partial y_f} \right | ).
\end{equation}</span></div></div><p>The minimum resolvable difference <span class="inlinemediaobject"><span class="phrase">
$r$
</span></span> is an
implementation-dependent parameter that depends on the depth buffer
representation. It is the smallest difference in framebuffer coordinate
<span class="inlinemediaobject"><span class="phrase">
$z$
</span></span> values that is guaranteed to remain distinct throughout
polygon rasterization and in the depth buffer. All pairs of fragments
generated by the rasterization of two polygons with otherwise identical
vertices, but <span class="inlinemediaobject"><span class="phrase">
$z_f$
</span></span> values that differ by $r$, will have
distinct depth values.</p><p>For fixed-point depth buffer representations, <span class="inlinemediaobject"><span class="phrase">
$r$
</span></span> is constant
throughout the range of the entire depth buffer. For floating-point depth
buffers, there is no single minimum resolvable difference. In this case, the
minimum resolvable difference for a given polygon is dependent on the
maximum exponent, <span class="inlinemediaobject"><span class="phrase">
$e$
</span></span>, in the range of <span class="inlinemediaobject"><span class="phrase">
$z$
</span></span> values
spanned by the primitive. If <span class="inlinemediaobject"><span class="phrase">
$n$
</span></span> is the number of bits in the
floating-point mantissa, the minimum resolvable difference, <span class="inlinemediaobject"><span class="phrase">
$r$
</span></span>,
for the given primitive is defined as</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{equation}
r = 2^{e - n}
\end{equation}</span></div></div><p>If no depth buffer is present, <span class="inlinemediaobject"><span class="phrase">
$r$
</span></span> is undefined.</p><p>The bias value <span class="inlinemediaobject"><span class="phrase">
$o$
</span></span> for a polygon is</p><div class="informalequation"><div class="mediaobject"><span class="phrase">\begin{equation}
o =
\begin{cases}
    m \times depthBiasSlopeFactor +
         r \times depthBiasConstantFactor  &amp; depthBiasClamp = 0\ or\ NaN \\
    \min(m \times depthBiasSlopeFactor +
         r \times depthBiasConstantFactor,
         depthBiasClamp)                   &amp; depthBiasClamp &gt; 0  \\
    \max(m \times depthBiasSlopeFactor +
         r \times depthBiasConstantFactor,
         depthBiasClamp)                   &amp; depthBiasClamp &lt; 0  \\
\end{cases}
\end{equation}</span></div></div><p><span class="inlinemediaobject"><span class="phrase">
$m$
</span></span> is computed as described above. If the depth buffer uses a
fixed-point representation, <span class="inlinemediaobject"><span class="phrase">
$m$
</span></span> is a function of depth values in
the range <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span>, and <span class="inlinemediaobject"><span class="phrase">
$o$
</span></span> is applied to depth
values in the same range.</p><p>For fixed-point depth buffers, fragment depth values are always limited to
the range <span class="inlinemediaobject"><span class="phrase">
$[0,1]$
</span></span> by clamping after depth bias addition is
performed. Fragment depth values are clamped even when the depth buffer uses
a floating-point representation.</p></div><div class="refsect1"><a id="_valid_usage"></a><h2>Valid Usage</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics operations
</li><li class="listitem">
The currently bound graphics pipeline <span class="normative">must</span> have been created with the <code class="code">VK_DYNAMIC_STATE_DEPTH_BIAS</code> dynamic state enabled
</li><li class="listitem">
If the <a class="link" href="#">depth bias clamping</a> feature is not enabled, <em class="parameter"><code>depthBiasClamp</code></em> <span class="normative">must</span> be <span class="strong"><strong><code class="code">0</code></strong></span>.0
</li></ul></div></div><div class="refsect1"><a id="_host_synchronization"></a><h2>Host Synchronization</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="refsect1"><a id="_command_properties"></a><h2>Command Properties</h2><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS</p></td></tr></tbody></table></div></div><div class="refsect1"><a id="_see_also"></a><h2>See Also</h2><p><code class="code"><a class="link" href="#">VkCommandBuffer</a></code></p></div><div class="refsect1"><a id="_document_notes"></a><h2>Document Notes</h2><p>For more information, see the Vulkan Specification at URL</p><p><a class="ulink" href="https://www.khronos.org/registry/vulkan/specs/1.0/xhtml/vkspec.html#vkCmdSetDepthBias" target="_top">https://www.khronos.org/registry/vulkan/specs/1.0/xhtml/vkspec.html#vkCmdSetDepthBias</a></p><p>This page is extracted from the Vulkan Specification.
Fixes and changes should be made to the Specification,not directly.</p></div><div class="refsect1"><a id="_copyright"></a><h2>Copyright</h2><p>Copyright (c) 2014-2016 Khronos Group. This work is licensed under a
<a class="ulink" href="http://creativecommons.org/licenses/by/4.0/" target="_top">Creative Commons
Attribution 4.0 International License</a>.</p></div></div></body></html>