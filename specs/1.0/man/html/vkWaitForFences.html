<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>vkWaitForFences</title><link rel="stylesheet" type="text/css" href="vkman.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /></head><body><div xml:lang="en" class="refentry" lang="en"><a id="id-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vkWaitForFences â€” Wait for one or more fences to become signaled.</p></div><div class="refsect1"><a id="_c_specification"></a><h2>C Specification</h2><p>To cause the host to wait until any one or all of a group of fences
is signaled, use the command:</p><pre class="programlisting">VkResult vkWaitForFences(
    VkDevice                                    device,
    uint32_t                                    fenceCount,
    const VkFence*                              pFences,
    VkBool32                                    waitAll,
    uint64_t                                    timeout);</pre></div><div class="refsect1"><a id="_parameters"></a><h2>Parameters</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the logical device that owns the fences.
</li><li class="listitem">
<em class="parameter"><code>fenceCount</code></em> is the number of fences to wait on.
</li><li class="listitem">
<em class="parameter"><code>pFences</code></em> is a pointer to an array of <em class="parameter"><code>fenceCount</code></em> fence
    handles.
</li><li class="listitem">
<em class="parameter"><code>waitAll</code></em> is the condition that <span class="normative">must</span> be satisfied to successfully
    unblock the wait. If <em class="parameter"><code>waitAll</code></em> is <code class="code">VK_TRUE</code>, then the condition
    is that all fences in <em class="parameter"><code>pFences</code></em> are signaled. Otherwise, the
    condition is that at least one fence in <em class="parameter"><code>pFences</code></em> is signaled.
</li><li class="listitem">
<em class="parameter"><code>timeout</code></em> is the timeout period in units of nanoseconds.
    <em class="parameter"><code>timeout</code></em> is adjusted to the closest value allowed by the
    implementation-dependent timeout accuracy, which <span class="normative">may</span> be substantially
    longer than one nanosecond, and <span class="normative">may</span> be longer than the requested
    period.
</li></ul></div></div><div class="refsect1"><a id="_description"></a><h2>Description</h2><p>If the condition is satisfied when <span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> is called, then
<span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> returns immediately. If the condition is not satisfied
at the time <span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> is called, then <span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> will
block and wait up to <em class="parameter"><code>timeout</code></em> nanoseconds for the condition to become
satisfied.</p><p>If <em class="parameter"><code>timeout</code></em> is zero, then <span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> does not
wait, but simply returns the current state of the fences. <code class="code">VK_TIMEOUT</code>
will be returned in this case if the condition is not satisfied, even though
no actual wait was performed.</p><p>If the specified timeout period expires before the condition is satisfied,
<span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> returns <code class="code">VK_TIMEOUT</code>. If the condition is
satisfied before <em class="parameter"><code>timeout</code></em> nanoseconds has expired,
<span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> returns <code class="code">VK_SUCCESS</code>.</p><p><a id="synchronization-fences-devicewrites"></a><span class="strong"><strong><code class="code">vkWaitForFences</code></strong></span> defines the second half of a memory dependency with
the host, for each fence being waited on. The memory dependency defined by
signaling a fence and waiting on the host does not guarantee that the
results of memory accesses will be visible to the host, or that the memory
is available. To provide that guarantee, the application <span class="normative">must</span> insert a
memory barrier between the device writes and the end of the submission
that will signal the fence, with <em class="parameter"><code>dstAccessMask</code></em> having the
<code class="code">VK_ACCESS_HOST_READ_BIT</code> bit set, with <em class="parameter"><code>dstStageMask</code></em> having the
<code class="code">VK_PIPELINE_STAGE_HOST_BIT</code> bit set, and with the appropriate
<em class="parameter"><code>srcStageMask</code></em> and <em class="parameter"><code>srcAccessMask</code></em> members set to guarantee
completion of the writes. If the memory was allocated without the
<code class="code">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code> set, then
<span class="strong"><strong><code class="code">vkInvalidateMappedMemoryRanges</code></strong></span> <span class="normative">must</span> be called after the fence is
signaled in order to ensure the writes are visible to the host, as described
in <a class="link" href="#">Host Access to Device Memory Objects</a>.</p></div><div class="refsect1"><a id="_valid_usage"></a><h2>Valid Usage</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pFences</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>fenceCount</code></em> valid <code class="code">VkFence</code> handles
</li><li class="listitem">
<em class="parameter"><code>fenceCount</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li><li class="listitem">
Each element of <em class="parameter"><code>pFences</code></em> <span class="normative">must</span> have been created, allocated or retrieved from <em class="parameter"><code>device</code></em>
</li><li class="listitem">
Each of <em class="parameter"><code>device</code></em> and the elements of <em class="parameter"><code>pFences</code></em> <span class="normative">must</span> have been created, allocated or retrieved from the same <code class="code">VkPhysicalDevice</code>
</li></ul></div></div><div class="refsect1"><a id="_return_codes"></a><h2>Return Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">
On success, this command returns
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li><li class="listitem">
<code class="code">VK_TIMEOUT</code>
</li></ul></div></dd><dt><span class="term">
On failure, this command returns
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_DEVICE_LOST</code>
</li></ul></div></dd></dl></div></div><div class="refsect1"><a id="_see_also"></a><h2>See Also</h2><p>basetypes:VkBool32, <code class="code"><a class="link" href="#">VkDevice</a></code>, <code class="code"><a class="link" href="#">VkFence</a></code></p></div><div class="refsect1"><a id="_document_notes"></a><h2>Document Notes</h2><p>For more information, see the Vulkan Specification at URL</p><p><a class="ulink" href="https://www.khronos.org/registry/vulkan/specs/1.0/xhtml/vkspec.html#vkWaitForFences" target="_top">https://www.khronos.org/registry/vulkan/specs/1.0/xhtml/vkspec.html#vkWaitForFences</a></p><p>This page is extracted from the Vulkan Specification.
Fixes and changes should be made to the Specification,not directly.</p></div><div class="refsect1"><a id="_copyright"></a><h2>Copyright</h2><p>Copyright (c) 2014-2016 Khronos Group. This work is licensed under a
<a class="ulink" href="http://creativecommons.org/licenses/by/4.0/" target="_top">Creative Commons
Attribution 4.0 International License</a>.</p></div></div></body></html>