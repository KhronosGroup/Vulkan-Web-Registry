<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="The Khronos® Vulkan  Working Group">
<title>Vulkan® 1.2.280 - A Specification (with all ratified extensions)</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="style2.css" type="text/css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<link rel="stylesheet" href="style3.css" type="text/css">
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div style="text-align: center;">
    <span class="image"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgdmlld0JveD0iMCAwIDExNTAgMzI2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTsiPgogICAgPGcgaWQ9IkFydGJvYXJkMSIgdHJhbnNmb3JtPSJtYXRyaXgoMC45NTUxNSwwLDAsMC44ODgyODMsLTQwLjExNjMsLTMwLjIwMTYpIj4KICAgICAgICA8cmVjdCB4PSI0MiIgeT0iMzQiIHdpZHRoPSIxMjA0IiBoZWlnaHQ9IjM2NyIgc3R5bGU9ImZpbGw6bm9uZTsiLz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLjA0Njk2LDAsMCwxLjEyNTc3LC00Ni45OTEzLC01MC40MzI1KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik03MjQuMSwzODUuMDZMNjgzLjUzLDM4NS4wNkM2ODMuNTMsMzg1LjA2IDY4My41MywyODYuMDkgNjgzLjUzLDI1NS40QzY5Ni40OSwyNjIuNjIgNzEzLjYyLDI3NS45NCA3MjQuMSwyODguNzJMNzI0LjEsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxnPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM4MS43NSwzODUuMDZMMzMxLjE3LDM4NS4wNkwyNjUuMTYsMTgxLjAzTDMxMS4xNywxODEuMDNMMzU2LjYxLDMyNC40OEwzNTcuMTgsMzI0LjQ4TDQwMy4xOCwxODEuMDNMNDQ5LjQ3LDE4MS4wM0wzODEuNzUsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTg1LjUxLDM4NS4wNkw1NDYuOTMsMzg1LjA2TDU0Ni45MywzNjQuNDlMNTQ2LjA4LDM2NC40OUM1NDAuOTMsMzczLjA3IDUzNC4yNywzNzkuMjYgNTI2LjA3LDM4My4wN0M1MTcuODgsMzg2Ljg4IDUwOS41LDM4OC43OCA1MDAuOTIsMzg4Ljc4QzQ5MC4wNiwzODguNzggNDgxLjE2LDM4Ny4zNSA0NzQuMiwzODQuNUM0NjcuMjUsMzgxLjY1IDQ2MS43NywzNzcuNTkgNDU3Ljc3LDM3Mi4zNkM0NTMuNzYsMzY3LjEyIDQ1MC45NSwzNjAuNzQgNDQ5LjMzLDM1My4yMUM0NDcuNzIsMzQ1LjY5IDQ0Ni45MSwzMzcuMzUgNDQ2LjkxLDMyOC4yMUw0NDYuOTEsMjM3LjMzTDQ4Ny40OSwyMzcuMzNMNDg3LjQ5LDMyMC43N0M0ODcuNDksMzMyLjk2IDQ4OS40LDM0Mi4wNiA0OTMuMjEsMzQ4LjA2QzQ5Ny4wMiwzNTQuMDcgNTAzLjc4LDM1Ny4wNiA1MTMuNSwzNTcuMDZDNTI0LjU1LDM1Ny4wNiA1MzIuNTUsMzUzLjc4IDUzNy41LDM0Ny4yQzU0Mi40NiwzNDAuNjIgNTQ0LjkzLDMyOS44MSA1NDQuOTMsMzE0Ljc2TDU0NC45MywyMzcuMzJMNTg1LjUyLDIzNy4zMkw1ODUuNTIsMzg1LjA2TDU4NS41MSwzODUuMDZaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNNzMwLjg0LDI5Ni4xOUw3MzAuNzQsMjkwLjQ3TDc4MS44OSwyMzcuMzNMODI5LjkxLDIzNy4zM0w3NzQuMTgsMjkxLjYyTDgzNi4xOSwzODUuMDZMNzg3LjA0LDM4NS4wNkw3MzAuODQsMjk2LjE5WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04NDMuNjIsMjgyLjc2Qzg0NC4xOSwyNzMuMjQgODQ2LjU4LDI2NS4zMyA4NTAuNzcsMjU5LjA0Qzg1NC45NiwyNTIuNzUgODYwLjI5LDI0Ny43MSA4NjYuNzcsMjQzLjlDODczLjI1LDI0MC4wOSA4ODAuNTQsMjM3LjM3IDg4OC42NCwyMzUuNzZDODk2LjczLDIzNC4xNCA5MDQuODgsMjMzLjMzIDkxMy4wNywyMzMuMzNDOTIwLjUsMjMzLjMzIDkyOC4wMiwyMzMuODUgOTM1LjY0LDIzNC45Qzk0My4yNywyMzUuOTUgOTUwLjIxLDIzOCA5NTYuNSwyNDEuMDVDOTYyLjc4LDI0NC4xIDk2Ny45MywyNDguMzQgOTcxLjk0LDI1My43NkM5NzUuOTQsMjU5LjE5IDk3Ny45NCwyNjYuMzggOTc3Ljk0LDI3NS4zNEw5NzcuOTQsMzUyLjIxQzk3Ny45NCwzNTguODggOTc4LjMyLDM2NS4yNyA5NzkuMDgsMzcxLjM2Qzk3OS44NCwzNzcuNDYgOTgxLjE4LDM4Mi4wMyA5ODMuMDksMzg1LjA4TDk0MS45NCwzODUuMDhDOTQxLjE4LDM4Mi44IDk0MC41NiwzODAuNDYgOTQwLjA4LDM3OC4wOEM5MzkuNjEsMzc1LjcgOTM5LjI3LDM3My4yOCA5MzkuMDgsMzcwLjc5QzkzMi42LDM3Ny40NyA5MjQuOTcsMzgyLjEzIDkxNi4yMSwzODQuOEM5MDcuNDUsMzg3LjQ2IDg5OC40OSwzODguOCA4ODkuMzUsMzg4LjhDODgyLjMsMzg4LjggODc1LjcyLDM4Ny45NCA4NjkuNjQsMzg2LjIzQzg2My41NCwzODQuNTIgODU4LjIsMzgxLjg1IDg1My42NCwzNzguMjNDODQ5LjA2LDM3NC42MSA4NDUuNDgsMzcwLjA0IDg0Mi45MiwzNjQuNTFDODQwLjM1LDM1OC45OSA4MzkuMDYsMzUyLjQyIDgzOS4wNiwzNDQuOEM4MzkuMDYsMzM2LjQyIDg0MC41NCwzMjkuNTEgODQzLjQ5LDMyNC4wOEM4NDYuNDUsMzE4LjY1IDg1MC4yNSwzMTQuMzIgODU0LjkzLDMxMS4wOEM4NTkuNiwzMDcuODQgODY0LjkzLDMwNS40MSA4NzAuOTMsMzAzLjc5Qzg3Ni45MywzMDIuMTcgODgyLjk4LDMwMC44OCA4ODkuMDcsMjk5LjkzQzg5NS4xNywyOTguOTkgOTAxLjE3LDI5OC4yMiA5MDcuMDgsMjk3LjY1QzkxMi45OSwyOTcuMDggOTE4LjIyLDI5Ni4yMiA5MjIuNzksMjk1LjA4QzkyNy4zNywyOTMuOTMgOTMwLjk4LDI5Mi4yNyA5MzMuNjUsMjkwLjA3QzkzNi4zMiwyODcuODggOTM3LjU2LDI4NC42OSA5MzcuMzcsMjgwLjVDOTM3LjM3LDI3Ni4xMiA5MzYuNjUsMjcyLjY0IDkzNS4yMiwyNzAuMDdDOTMzLjc5LDI2Ny41IDkzMS44OSwyNjUuNSA5MjkuNTEsMjY0LjA3QzkyNy4xMywyNjIuNjQgOTI0LjM3LDI2MS42OSA5MjEuMjIsMjYxLjIxQzkxOC4wNywyNjAuNzMgOTE0LjcsMjYwLjQ5IDkxMS4wOCwyNjAuNDlDOTAzLjA4LDI2MC40OSA4OTYuNzksMjYyLjIgODkyLjIyLDI2NS42NEM4ODcuNjUsMjY5LjA3IDg4NC45OCwyNzQuNzggODg0LjIyLDI4Mi43OUw4NDMuNjIsMjgyLjc5TDg0My42MiwyODIuNzZaTTkzNy4zNSwzMTIuNzdDOTM1LjYzLDMxNC4zIDkzMy40OSwzMTUuNDggOTMwLjkyLDMxNi4zNEM5MjguMzUsMzE3LjIxIDkyNS41OSwzMTcuOTIgOTIyLjYzLDMxOC40OUM5MTkuNjgsMzE5LjA2IDkxNi41OCwzMTkuNTQgOTEzLjM1LDMxOS45MkM5MTAuMTEsMzIwLjMgOTA2Ljg3LDMyMC43NyA5MDMuNjMsMzIxLjM1QzkwMC41OCwzMjEuOTIgODk3LjU4LDMyMi42OSA4OTQuNjMsMzIzLjYzQzg5MS42OCwzMjQuNTkgODg5LjEsMzI1Ljg3IDg4Ni45MSwzMjcuNDlDODg0LjcyLDMyOS4xMSA4ODIuOTYsMzMxLjE2IDg4MS42MiwzMzMuNjNDODgwLjI5LDMzNi4xMSA4NzkuNjIsMzM5LjI1IDg3OS42MiwzNDMuMDZDODc5LjYyLDM0Ni42OCA4ODAuMjksMzQ5LjczIDg4MS42MiwzNTIuMkM4ODIuOTYsMzU0LjY4IDg4NC43NywzNTYuNjMgODg3LjA1LDM1OC4wNkM4ODkuMzQsMzU5LjQ5IDg5MiwzNjAuNDkgODk1LjA1LDM2MS4wNkM4OTguMSwzNjEuNjMgOTAxLjI0LDM2MS45MSA5MDQuNDgsMzYxLjkxQzkxMi40OCwzNjEuOTEgOTE4LjY4LDM2MC41OCA5MjMuMDYsMzU3LjkyQzkyNy40NCwzNTUuMjUgOTMwLjY5LDM1Mi4wNiA5MzIuNzcsMzQ4LjM0QzkzNC44NiwzNDQuNjMgOTM2LjE2LDM0MC44NyA5MzYuNjIsMzM3LjA2QzkzNy4xLDMzMy4yNSA5MzcuMzMsMzMwLjIgOTM3LjM0LDMyNy45Mkw5MzcuMzQsMzEyLjc3TDkzNy4zNSwzMTIuNzdaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTEwMDQuMjEsMjM3LjMzTDEwNDIuOCwyMzcuMzNMMTA0Mi44LDI1Ny45TDEwNDMuNjUsMjU3LjlDMTA0OC43OSwyNDkuMzMgMTA1NS40NiwyNDMuMDkgMTA2My42NSwyMzkuMTlDMTA3MS44NCwyMzUuMjggMTA4MC4yMywyMzMuMzMgMTA4OC43OSwyMzMuMzNDMTA5OS42NiwyMzMuMzMgMTEwOC41NiwyMzQuODEgMTExNS41MiwyMzcuNzZDMTEyMi40NywyNDAuNzIgMTEyNy45NCwyNDQuODEgMTEzMS45NSwyNTAuMDVDMTEzNS45NSwyNTUuMjkgMTEzOC43NiwyNjEuNjcgMTE0MC4zOCwyNjkuMTlDMTE0MiwyNzYuNzIgMTE0Mi44MSwyODUuMDUgMTE0Mi44MSwyOTQuMkwxMTQyLjgxLDM4NS4wN0wxMTAyLjI0LDM4NS4wN0wxMTAyLjI0LDMwMS42M0MxMTAyLjI0LDI4OS40MyAxMTAwLjMzLDI4MC4zNCAxMDk2LjUzLDI3NC4zNEMxMDkyLjcxLDI2OC4zNCAxMDg1Ljk1LDI2NS4zNCAxMDc2LjIzLDI2NS4zNEMxMDY1LjE4LDI2NS4zNCAxMDU3LjE5LDI2OC42MyAxMDUyLjIzLDI3NS4yQzEwNDcuMjcsMjgxLjc2IDEwNDQuOCwyOTIuNTggMTA0NC44LDMwNy42M0wxMDQ0LjgsMzg1LjA3TDEwMDQuMjIsMzg1LjA3TDEwMDQuMjIsMjM3LjMzTDEwMDQuMjEsMjM3LjMzWiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik02MTIuMzcsMjExLjg0TDYxMi4zNywzODUuMDdMNjUyLjk1LDM4NS4wN0w2NTIuOTUsMjM0LjIxQzYzOS45MywyMjYuMjMgNjI2LjM2LDIxOC43NCA2MTIuMzcsMjExLjg0WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOTguNDMsMjE5LjIxQzIyMS45NSwxNTAuMzIgMzYyLjU4LDEyNS4wNSA1MTIuNTgsMTYyLjc4QzYwMi41NSwxODUuNCA2NzYuMDcsMjI5LjI4IDcyNC4wOSwyNzIuNjdDNzAyLjMsMjE1LjEyIDU5Ni42NSwxMzMuMDggNDUxLjE4LDEwNC45NkMyODYuNyw3My4xNiAxMjQuNDcsMTAxLjExIDEwNC4zOSwxNzQuMUM4OS44OSwyMjYuODMgMTUzLjU3LDI4OC42IDI1Mi4wNSwzMzAuODRDMjA3LjgxLDI5NS4wMiAxODYuMjksMjU0Ljc4IDE5OC40MywyMTkuMjFaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTcyNC4xNiwyNDcuNjJMNzI0LjE2LDE4MS4wM0w2ODMuNTcsMTgxLjAzTDY4My41NywyMDEuMjVDNzAwLjg4LDIxNi43MSA3MTQuNjEsMjMyLjQ1IDcyNC4xNiwyNDcuNjJaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNDY5NiwwLDAsMS4xMjU3NywtNDYuOTkxMywtNTAuNDMyNSkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTIxNC45OCwzNjMuNDNDMTIxNC45OCwzNzUuNjkgMTIwNS4zNSwzODUuMzIgMTE5Mi44MywzODUuMzJDMTE4MC40MywzODUuMzIgMTE3MC41NCwzNzUuNjkgMTE3MC41NCwzNjMuNDNDMTE3MC41NCwzNTEuNDMgMTE4MC40MywzNDEuOCAxMTkyLjgzLDM0MS44QzEyMDUuMzUsMzQxLjggMTIxNC45OCwzNTEuNDMgMTIxNC45OCwzNjMuNDNaTTExNzYuMDgsMzYzLjQzQzExNzYuMDgsMzczLjA2IDExODMuMiwzODAuNyAxMTkyLjk2LDM4MC43QzEyMDIuNDUsMzgwLjcgMTIwOS40NCwzNzMuMDUgMTIwOS40NCwzNjMuNTZDMTIwOS40NCwzNTMuOTMgMTIwMi40NSwzNDYuMTUgMTE5Mi44MiwzNDYuMTVDMTE4My4yLDM0Ni4xNiAxMTc2LjA4LDM1My45NCAxMTc2LjA4LDM2My40M1pNMTE4OS4zOSwzNzQuNzdMMTE4NC4zOCwzNzQuNzdMMTE4NC4zOCwzNTMuMTRDMTE4Ni4zNiwzNTIuNzQgMTE4OS4xMywzNTIuNDggMTE5Mi42OSwzNTIuNDhDMTE5Ni43OCwzNTIuNDggMTE5OC42MiwzNTMuMTQgMTIwMC4yMSwzNTQuMDZDMTIwMS40LDM1NC45OCAxMjAyLjMyLDM1Ni43IDEyMDIuMzIsMzU4LjgxQzEyMDIuMzIsMzYxLjE4IDEyMDAuNDcsMzYzLjAzIDExOTcuODQsMzYzLjgyTDExOTcuODQsMzY0LjA4QzExOTkuOTUsMzY0Ljg3IDEyMDEuMTQsMzY2LjQ1IDEyMDEuOCwzNjkuMzVDMTIwMi40NiwzNzIuNjUgMTIwMi44NSwzNzMuOTcgMTIwMy4zOCwzNzQuNzZMMTE5Ny45NywzNzQuNzZDMTE5Ny4zMSwzNzMuOTcgMTE5Ni45MiwzNzEuOTkgMTE5Ni4yNiwzNjkuNDlDMTE5NS44NiwzNjcuMTIgMTE5NC41NSwzNjYuMDYgMTE5MS43OCwzNjYuMDZMMTE4OS40MSwzNjYuMDZMMTE4OS40MSwzNzQuNzdMMTE4OS4zOSwzNzQuNzdaTTExODkuNTMsMzYyLjUxTDExOTEuOSwzNjIuNTFDMTE5NC42NywzNjIuNTEgMTE5Ni45MSwzNjEuNTkgMTE5Ni45MSwzNTkuMzRDMTE5Ni45MSwzNTcuMzYgMTE5NS40NiwzNTYuMDQgMTE5Mi4yOSwzNTYuMDRDMTE5MC45NywzNTYuMDQgMTE5MC4wNSwzNTYuMTcgMTE4OS41MiwzNTYuM0wxMTg5LjUyLDM2Mi41MUwxMTg5LjUzLDM2Mi41MVoiIHN0eWxlPSJmaWxsOnJnYigxNzIsMjIsNDQpO2ZpbGwtcnVsZTpub256ZXJvOyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg==" alt="Vulkan Logo" width="50%">
    </span>
</div>
<div id="header">
<h1>Vulkan<sup>®</sup> 1.2.280 - A Specification (with all ratified extensions)</h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan  Working Group</span><br>
<span id="revnumber">version 1.2.280,</span>
<span id="revdate">2024-03-08 12:57:04Z</span>
<br><span id="revremark">from git branch: github-main commit: 69ba4fefbafa045d0fd1b07060b768b3b1c115cc</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="chap1.html">1. Preamble</a></li>
<li><a href="chap2.html">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">2.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">3.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">3.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">3.3. Object Model</a></li>
<li><a href="chap3.html#fundamentals-abi">3.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">3.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">3.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-validusage">3.7. Valid Usage</a></li>
<li><a href="chap3.html#fundamentals-returncodes">3.8. <code>VkResult</code> Return Codes</a></li>
<li><a href="chap3.html#fundamentals-numerics">3.9. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">3.10. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-common-objects">3.11. Common Object Types</a></li>
<li><a href="chap3.html#fundamentals-api-name-aliases">3.12. API Name Aliases</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">4.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">4.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">5.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">5.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">5.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">6.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">6.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">6.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">6.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">6.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">6.6. Queue Forward Progress</a></li>
<li><a href="chap6.html#commandbuffers-secondary">6.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap6.html#commandbuffers-nested">6.8. Nested Command Buffers</a></li>
<li><a href="chap6.html#commandbuffers-devicemask">6.9. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">7.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">7.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">7.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">7.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">7.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">7.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">7.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">7.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">7.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap7.html#synchronization-device-group">7.10. Synchronization and Multiple Physical Devices</a></li>
<li><a href="chap7.html#calibrated-timestamps">7.11. Calibrated Timestamps</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#renderpass-objects">8.1. Render Pass Objects</a></li>
<li><a href="chap8.html#renderpass-creation">8.2. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">8.3. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">8.4. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-load-operations">8.5. Render Pass Load Operations</a></li>
<li><a href="chap8.html#renderpass-store-operations">8.6. Render Pass Store Operations</a></li>
<li><a href="chap8.html#renderpass-resolve-operations">8.7. Render Pass Multisample Resolve Operations</a></li>
<li><a href="chap8.html#renderpass-commands">8.8. Render Pass Commands</a></li>
<li><a href="chap8.html#_common_render_pass_data_races_informative">8.9. Common Render Pass Data Races (Informative)</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap9.html#shaders-objects">9.1. Shader Objects</a></li>
<li><a href="chap9.html#shader-modules">9.2. Shader Modules</a></li>
<li><a href="chap9.html#shaders-binding">9.3. Binding Shaders</a></li>
<li><a href="chap9.html#shaders-execution">9.4. Shader Execution</a></li>
<li><a href="chap9.html#shaders-execution-memory-ordering">9.5. Shader Memory Access Ordering</a></li>
<li><a href="chap9.html#shaders-inputs">9.6. Shader Inputs and Outputs</a></li>
<li><a href="chap9.html#shaders-vertex">9.7. Vertex Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-control">9.8. Tessellation Control Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-evaluation">9.9. Tessellation Evaluation Shaders</a></li>
<li><a href="chap9.html#shaders-geometry">9.10. Geometry Shaders</a></li>
<li><a href="chap9.html#shaders-fragment">9.11. Fragment Shaders</a></li>
<li><a href="chap9.html#shaders-compute">9.12. Compute Shaders</a></li>
<li><a href="chap9.html#shaders-ray-generation">9.13. Ray Generation Shaders</a></li>
<li><a href="chap9.html#shaders-intersection">9.14. Intersection Shaders</a></li>
<li><a href="chap9.html#shaders-any-hit">9.15. Any-Hit Shaders</a></li>
<li><a href="chap9.html#shaders-closest-hit">9.16. Closest Hit Shaders</a></li>
<li><a href="chap9.html#shaders-miss">9.17. Miss Shaders</a></li>
<li><a href="chap9.html#shaders-callable">9.18. Callable Shaders</a></li>
<li><a href="chap9.html#shaders-interpolation-decorations">9.19. Interpolation Decorations</a></li>
<li><a href="chap9.html#shaders-staticuse">9.20. Static Use</a></li>
<li><a href="chap9.html#shaders-scope">9.21. Scope</a></li>
<li><a href="chap9.html#shaders-group-operations">9.22. Group Operations</a></li>
<li><a href="chap9.html#shaders-quad-operations">9.23. Quad Group Operations</a></li>
<li><a href="chap9.html#shaders-derivative-operations">9.24. Derivative Operations</a></li>
<li><a href="chap9.html#shaders-helper-invocations">9.25. Helper Invocations</a></li>
<li><a href="chap9.html#_cooperative_matrices">9.26. Cooperative Matrices</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-multiple">10.1. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-compute">10.2. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">10.3. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-ray-tracing">10.4. Ray Tracing Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">10.5. Pipeline Destruction</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">10.6. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">10.7. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">10.8. Specialization Constants</a></li>
<li><a href="chap10.html#pipelines-library">10.9. Pipeline Libraries</a></li>
<li><a href="chap10.html#pipelines-binding">10.10. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">10.11. Dynamic State</a></li>
<li><a href="chap10.html#pipelines-shader-information">10.12. Pipeline Properties and Shader Information</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">11.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">11.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">12.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">12.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">12.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">12.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">12.5. Image Views</a></li>
<li><a href="chap12.html#resources-acceleration-structures">12.6. Acceleration Structures</a></li>
<li><a href="chap12.html#resources-micromaps">12.7. Micromaps</a></li>
<li><a href="chap12.html#resources-association">12.8. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">12.9. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">12.10. Memory Aliasing</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap13.html#samplers-YCbCr-conversion">13.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> Conversion</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap14.html#descriptorsets-types">14.1. Descriptor Types</a></li>
<li><a href="chap14.html#descriptorsets-sets">14.2. Descriptor Sets</a></li>
<li><a href="chap14.html#descriptorsets-physical-storage-buffer">14.3. Physical Storage Buffer Access</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#interfaces-iointerfaces">15.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap15.html#interfaces-vertexinput">15.2. Vertex Input Interface</a></li>
<li><a href="chap15.html#interfaces-fragmentoutput">15.3. Fragment Output Interface</a></li>
<li><a href="chap15.html#interfaces-fragmenttileimage">15.4. Fragment Tile Image Interface</a></li>
<li><a href="chap15.html#interfaces-inputattachment">15.5. Fragment Input Attachment Interface</a></li>
<li><a href="chap15.html#interfaces-raypipeline">15.6. Ray Tracing Pipeline Interface</a></li>
<li><a href="chap15.html#interfaces-resources">15.7. Shader Resource Interface</a></li>
<li><a href="chap15.html#interfaces-builtin-variables">15.8. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">16.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">16.2. Conversion Formulas</a></li>
<li><a href="chap16.html#_texel_input_operations">16.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">16.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">16.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">16.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">16.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">16.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-instructions">16.9. Image Operation Steps</a></li>
<li><a href="chap16.html#textures-queries">16.10. Image Query Instructions</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Queries</a>
<ul class="sectlevel2">
<li><a href="chap17.html#queries-pools">17.1. Query Pools</a></li>
<li><a href="chap17.html#queries-operation">17.2. Query Operation</a></li>
<li><a href="chap17.html#queries-occlusion">17.3. Occlusion Queries</a></li>
<li><a href="chap17.html#queries-pipestats">17.4. Pipeline Statistics Queries</a></li>
<li><a href="chap17.html#queries-timestamps">17.5. Timestamp Queries</a></li>
<li><a href="chap17.html#queries-performance">17.6. Performance Queries</a></li>
<li><a href="chap17.html#queries-result-status-only">17.7. Result Status Queries</a></li>
<li><a href="chap17.html#queries-video-encode-feedback">17.8. Video Encode Feedback Queries</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap18.html#clears-outside">18.1. Clearing Images Outside a Render Pass Instance</a></li>
<li><a href="chap18.html#clears-inside">18.2. Clearing Images Inside a Render Pass Instance</a></li>
<li><a href="chap18.html#clears-values">18.3. Clear Values</a></li>
<li><a href="chap18.html#clears-filling-buffers">18.4. Filling Buffers</a></li>
<li><a href="chap18.html#clears-updating-buffers">18.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#copies-buffers">19.1. Copying Data Between Buffers</a></li>
<li><a href="chap19.html#copies-images">19.2. Copying Data Between Images</a></li>
<li><a href="chap19.html#copies-buffers-images">19.3. Copying Data Between Buffers and Images</a></li>
<li><a href="chap19.html#copies-imagescaling">19.4. Image Copies With Scaling</a></li>
<li><a href="chap19.html#copies-resolve">19.5. Resolving Multisample Images</a></li>
</ul>
</li>
<li><a href="chap20.html">20. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#drawing-primitive-topologies">20.1. Primitive Topologies</a></li>
<li><a href="chap20.html#drawing-primitive-order">20.2. Primitive Order</a></li>
<li><a href="chap20.html#drawing-primitive-shading">20.3. Programmable Primitive Shading</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap21.html#fxvertex-attrib">21.1. Vertex Attributes</a></li>
<li><a href="chap21.html#fxvertex-input">21.2. Vertex Input Description</a></li>
<li><a href="chap21.html#fxvertex-attribute_divisor">21.3. Vertex Attribute Divisor in Instanced Rendering</a></li>
<li><a href="chap21.html#fxvertex-input-address-calculation">21.4. Vertex Input Address Calculation</a></li>
</ul>
</li>
<li><a href="chap22.html">22. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap22.html#_tessellator">22.1. Tessellator</a></li>
<li><a href="chap22.html#_tessellator_patch_discard">22.2. Tessellator Patch Discard</a></li>
<li><a href="chap22.html#tessellation-tessellator-spacing">22.3. Tessellator Spacing</a></li>
<li><a href="chap22.html#tessellation-primitive-order">22.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap22.html#tessellation-vertex-winding-order">22.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap22.html#tessellation-triangle-tessellation">22.6. Triangle Tessellation</a></li>
<li><a href="chap22.html#tessellation-quad-tessellation">22.7. Quad Tessellation</a></li>
<li><a href="chap22.html#tessellation-isoline-tessellation">22.8. Isoline Tessellation</a></li>
<li><a href="chap22.html#tessellation-point-mode">22.9. Tessellation Point Mode</a></li>
<li><a href="chap22.html#_tessellation_pipeline_state">22.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap23.html">23. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap23.html#geometry-input">23.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap23.html#geometry-output">23.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap23.html#geometry-invocations">23.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap23.html#geometry-ordering">23.4. Geometry Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap24.html">24. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap24.html#vertexpostproc-flatshading">24.1. Flat Shading</a></li>
<li><a href="chap24.html#vertexpostproc-clipping">24.2. Primitive Clipping</a></li>
<li><a href="chap24.html#vertexpostproc-clipping-shader-outputs">24.3. Clipping Shader Outputs</a></li>
<li><a href="chap24.html#vertexpostproc-coord-transform">24.4. Coordinate Transformations</a></li>
<li><a href="chap24.html#vertexpostproc-viewport">24.5. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap25.html">25. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap25.html#primsrast-discard">25.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap25.html#primsrast-order">25.2. Rasterization Order</a></li>
<li><a href="chap25.html#primsrast-multisampling">25.3. Multisampling</a></li>
<li><a href="chap25.html#primsrast-fragment-shading-rate">25.4. Fragment Shading Rates</a></li>
<li><a href="chap25.html#primsrast-sampleshading">25.5. Sample Shading</a></li>
<li><a href="chap25.html#primsrast-barycentric">25.6. Barycentric Interpolation</a></li>
<li><a href="chap25.html#primsrast-points">25.7. Points</a></li>
<li><a href="chap25.html#primsrast-lines">25.8. Line Segments</a></li>
<li><a href="chap25.html#primsrast-polygons">25.9. Polygons</a></li>
</ul>
</li>
<li><a href="chap26.html">26. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap26.html#fragops-discard-rectangles">26.1. Discard Rectangles Test</a></li>
<li><a href="chap26.html#fragops-scissor">26.2. Scissor Test</a></li>
<li><a href="chap26.html#fragops-samplemask">26.3. Sample Mask Test</a></li>
<li><a href="chap26.html#fragops-shader">26.4. Fragment Shading</a></li>
<li><a href="chap26.html#fragops-covg">26.5. Multisample Coverage</a></li>
<li><a href="chap26.html#fragops-ds-state">26.6. Depth and Stencil Operations</a></li>
<li><a href="chap26.html#fragops-dbt">26.7. Depth Bounds Test</a></li>
<li><a href="chap26.html#fragops-stencil">26.8. Stencil Test</a></li>
<li><a href="chap26.html#fragops-depth">26.9. Depth Test</a></li>
<li><a href="chap26.html#fragops-samplecount">26.10. Sample Counting</a></li>
<li><a href="chap26.html#fragops-coverage-reduction">26.11. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap27.html">27. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap27.html#framebuffer-blending">27.1. Blending</a></li>
<li><a href="chap27.html#framebuffer-logicop">27.2. Logical Operations</a></li>
<li><a href="chap27.html#framebuffer-color-write-mask">27.3. Color Write Mask</a></li>
</ul>
</li>
<li><a href="chap28.html">28. Dispatching Commands</a></li>
<li><a href="chap29.html">29. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap29.html#sparsememory-sparseresourcefeatures">29.1. Sparse Resource Features</a></li>
<li><a href="chap29.html#sparsememory-fully-resident">29.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap29.html#sparsememory-partially-resident-buffers">29.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap29.html#sparsememory-partially-resident-images">29.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap29.html#sparsememory-sparse-memory-aliasing">29.5. Sparse Memory Aliasing</a></li>
<li><a href="chap29.html#_sparse_resource_implementation_guidelines_informative">29.6. Sparse Resource Implementation Guidelines (Informative)</a></li>
<li><a href="chap29.html#sparsememory-resourceapi">29.7. Sparse Resource API</a></li>
</ul>
</li>
<li><a href="chap30.html">30. Window System Integration (WSI)</a>
<ul class="sectlevel2">
<li><a href="chap30.html#_wsi_platform">30.1. WSI Platform</a></li>
<li><a href="chap30.html#_wsi_surface">30.2. WSI Surface</a></li>
<li><a href="chap30.html#display">30.3. Presenting Directly to Display Devices</a></li>
<li><a href="chap30.html#_querying_for_wsi_support">30.4. Querying for WSI Support</a></li>
<li><a href="chap30.html#_surface_queries">30.5. Surface Queries</a></li>
<li><a href="chap30.html#_device_group_queries">30.6. Device Group Queries</a></li>
<li><a href="chap30.html#present-wait">30.7. Present Wait</a></li>
<li><a href="chap30.html#_wsi_swapchain">30.8. WSI Swapchain</a></li>
</ul>
</li>
<li><a href="chap31.html">31. Deferred Host Operations</a>
<ul class="sectlevel2">
<li><a href="chap31.html#deferred-host-operations-requesting">31.1. Requesting Deferral</a></li>
<li><a href="chap31.html#_deferred_host_operations_api">31.2. Deferred Host Operations API</a></li>
</ul>
</li>
<li><a href="chap32.html">32. Acceleration Structures</a>
<ul class="sectlevel2">
<li><a href="chap32.html#acceleration-structure-def">32.1. Acceleration Structures</a></li>
<li><a href="chap32.html#host-acceleration-structure">32.2. Host Acceleration Structure Operations</a></li>
</ul>
</li>
<li><a href="chap33.html">33. Micromap</a>
<ul class="sectlevel2">
<li><a href="chap33.html#micromap-def">33.1. Micromaps</a></li>
<li><a href="chap33.html#host-micromap">33.2. Host Micromap Operations</a></li>
</ul>
</li>
<li><a href="chap34.html">34. Ray Traversal</a>
<ul class="sectlevel2">
<li><a href="chap34.html#ray-intersection-candidate-determination">34.1. Ray Intersection Candidate Determination</a></li>
<li><a href="chap34.html#ray-intersection-culling">34.2. Ray Intersection Culling</a></li>
<li><a href="chap34.html#ray-intersection-confirmation">34.3. Ray Intersection Confirmation</a></li>
<li><a href="chap34.html#ray-closest-hit-determination">34.4. Ray Closest Hit Determination</a></li>
<li><a href="chap34.html#ray-result-determination">34.5. Ray Result Determination</a></li>
</ul>
</li>
<li><a href="chap35.html">35. Ray Tracing</a>
<ul class="sectlevel2">
<li><a href="chap35.html#ray-tracing-shader-call">35.1. Shader Call Instructions</a></li>
<li><a href="chap35.html#ray-tracing-commands">35.2. Ray Tracing Commands</a></li>
<li><a href="chap35.html#shader-binding-table">35.3. Shader Binding Table</a></li>
<li><a href="chap35.html#ray-tracing-pipeline-stack">35.4. Ray Tracing Pipeline Stack</a></li>
<li><a href="chap35.html#ray-tracing-capture-replay">35.5. Ray Tracing Capture Replay</a></li>
</ul>
</li>
<li><a href="chap36.html">36. Video Coding</a>
<ul class="sectlevel2">
<li><a href="chap36.html#video-picture-resources">36.1. Video Picture Resources</a></li>
<li><a href="chap36.html#dpb">36.2. Decoded Picture Buffer</a></li>
<li><a href="chap36.html#video-profiles">36.3. Video Profiles</a></li>
<li><a href="chap36.html#video-capabilities">36.4. Video Capabilities</a></li>
<li><a href="chap36.html#video-session">36.5. Video Sessions</a></li>
<li><a href="chap36.html#video-profile-compatibility">36.6. Video Profile Compatibility</a></li>
<li><a href="chap36.html#video-session-parameters">36.7. Video Session Parameters</a></li>
<li><a href="chap36.html#video-coding-scope">36.8. Video Coding Scope</a></li>
<li><a href="chap36.html#video-coding-control">36.9. Video Coding Control</a></li>
<li><a href="chap36.html#video-inline-queries">36.10. Inline Queries</a></li>
<li><a href="chap36.html#video-decode-operations">36.11. Video Decode Operations</a></li>
<li><a href="chap36.html#decode-h264">36.12. H.264 Decode Operations</a></li>
<li><a href="chap36.html#decode-h265">36.13. H.265 Decode Operations</a></li>
<li><a href="chap36.html#decode-av1">36.14. AV1 Decode Operations</a></li>
<li><a href="chap36.html#video-encode-operations">36.15. Video Encode Operations</a></li>
<li><a href="chap36.html#encode-rate-control">36.16. Video Encode Rate Control</a></li>
<li><a href="chap36.html#encode-h264">36.17. H.264 Encode Operations</a></li>
<li><a href="chap36.html#encode-h265">36.18. H.265 Encode Operations</a></li>
</ul>
</li>
<li><a href="chap37.html">37. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap37.html#extendingvulkan-instanceanddevicefunctionality">37.1. Instance and Device Functionality</a></li>
<li><a href="chap37.html#extendingvulkan-coreversions">37.2. Core Versions</a></li>
<li><a href="chap37.html#extendingvulkan-layers">37.3. Layers</a></li>
<li><a href="chap37.html#extendingvulkan-extensions">37.4. Extensions</a></li>
<li><a href="chap37.html#extendingvulkan-extensions-extensiondependencies">37.5. Extension Dependencies</a></li>
<li><a href="chap37.html#_compatibility_guarantees_informative">37.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap38.html">38. Features</a>
<ul class="sectlevel2">
<li><a href="chap38.html#features-requirements">38.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="chap39.html">39. Limits</a>
<ul class="sectlevel2">
<li><a href="chap39.html#limits-minmax">39.1. Limit Requirements</a></li>
</ul>
</li>
<li><a href="chap40.html">40. Formats</a>
<ul class="sectlevel2">
<li><a href="chap40.html#formats-definition">40.1. Format Definition</a></li>
<li><a href="chap40.html#formats-properties">40.2. Format Properties</a></li>
<li><a href="chap40.html#features-required-format-support">40.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap41.html">41. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap41.html#capabilities-image">41.1. Additional Image Capabilities</a></li>
<li><a href="chap41.html#capabilities-buffer">41.2. Additional Buffer Capabilities</a></li>
<li><a href="chap41.html#capabilities-semaphore">41.3. Optional Semaphore Capabilities</a></li>
<li><a href="chap41.html#capabilities-fence">41.4. Optional Fence Capabilities</a></li>
<li><a href="chap41.html#features-timestamp-calibration">41.5. Timestamp Calibration Capabilities</a></li>
</ul>
</li>
<li><a href="chap42.html">42. Debugging</a>
<ul class="sectlevel2">
<li><a href="chap42.html#_frame_boundary">42.1. Frame Boundary</a></li>
</ul>
</li>
<li><a href="chap43.html">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap43.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap43.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap43.html#spirvenv-module-validation">Validation Rules Within a Module</a></li>
<li><a href="chap43.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap43.html#spirvenv-image-signedness">Signedness of SPIR-V Image Accesses</a></li>
<li><a href="chap43.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap43.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats and Vulkan Formats</a></li>
<li><a href="chap43.html#spirenv-ray-query-precision-operation">Ray Query Precision and Operation</a></li>
</ul>
</li>
<li><a href="chap44.html">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap44.html#memory-model-agent">Agent</a></li>
<li><a href="chap44.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap44.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap44.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap44.html#memory-model-references">Reference</a></li>
<li><a href="chap44.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap44.html#shader-call-related">Shader Call Related</a></li>
<li><a href="chap44.html#shader-call-order">Shader Call Order</a></li>
<li><a href="chap44.html#memory-model-scope">Scope</a></li>
<li><a href="chap44.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap44.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap44.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap44.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap44.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap44.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap44.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap44.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap44.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap44.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap44.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap44.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap44.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap44.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap44.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap44.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap44.html#memory-model-acyclicity">Acyclicity</a></li>
<li><a href="chap44.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap44.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap44.html#memory-model-informative-descriptions">Descriptions (Informative)</a></li>
<li><a href="chap44.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
</ul>
</li>
<li><a href="chap45.html">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap45.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap45.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap45.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap46.html">Appendix D: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap46.html#versions-1.2">Version 1.2</a></li>
<li><a href="chap46.html#versions-1.1">Version 1.1</a></li>
<li><a href="chap46.html#versions-1.0">Version 1.0</a></li>
</ul>
</li>
<li class="current"><a href="chap47.html">Appendix E: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li class="current"><a href="chap47.html#_extension_dependencies">Extension Dependencies</a></li>
<li class="current"><a href="chap47.html#_extension_interactions">Extension Interactions</a></li>
<li class="current"><a href="chap47.html#extension-appendices-list">List of Current Extensions</a></li>
<li class="current"><a href="chap47.html#provisional-extension-appendices-list">List of Provisional Extensions</a></li>
<li class="current"><a href="chap47.html#deprecated-extension-appendices-list">List of Deprecated Extensions</a></li>
</ul>
</li>
<li><a href="chap48.html">Appendix F: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap48.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap48.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap48.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
<li><a href="chap48.html#boilerplate-video-std-headers">Video Std Headers</a></li>
</ul>
</li>
<li><a href="chap49.html">Appendix G: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap49.html#_repeatability">Repeatability</a></li>
<li><a href="chap49.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap49.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap49.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap50.html">Appendix H: Lexicon</a>
<ul class="sectlevel2">
<li><a href="chap50.html#glossary">Glossary</a></li>
<li><a href="chap50.html#lexicon-common-abbreviations">Common Abbreviations</a></li>
<li><a href="chap50.html#lexicon-video-abbreviations">Video-Specific Abbreviations</a></li>
<li><a href="chap50.html#lexicon-prefixes">Prefixes</a></li>
</ul>
</li>
<li><a href="chap51.html">Appendix I: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap51.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap51.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
<div id="content" class="loadable"><div class="sect1">
<h2 id="extensions"><a class="anchor" href="chap47.html"></a>Appendix E: Layers &amp; Extensions (Informative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Extensions to the Vulkan API <strong class="purple">can</strong> be defined by authors, groups of authors,
and the Khronos Vulkan
Working Group.
In order not to compromise the readability of the Vulkan Specification, the
core Specification does not incorporate most extensions.
The online Registry of extensions is available at URL</p>
</div>
<div class="paragraph">
<p><a href="https://registry.khronos.org/vulkan/" class="bare">https://registry.khronos.org/vulkan/</a></p>
</div>
<div class="paragraph">
<p>and allows generating versions of the Specification incorporating different
extensions.</p>
</div>
<div class="paragraph">
<p>Authors creating extensions and layers <strong class="purple">must</strong> follow the mandatory procedures
described in the <a href="chap2.html#vulkan-styleguide">Vulkan Documentation and Extensions</a>
document when creating extensions and layers.</p>
</div>
<div class="paragraph">
<p>The remainder of this appendix documents a set of extensions chosen when
this document was built.
Versions of the Specification published in the Registry include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Core API + mandatory extensions required of all Vulkan implementations.</p>
</li>
<li>
<p>Core API + all registered and published Khronos (<code>KHR</code>) extensions.</p>
</li>
<li>
<p>Core API + all registered and published extensions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Extensions are grouped as Khronos <code>KHR</code>, multivendor <code>EXT</code>, and then
alphabetically by author ID.
Within each group, extensions are listed in alphabetical order by their
name.</p>
</div>
<div class="sect2">
<h3 id="_extension_dependencies"><a class="anchor" href="chap47.html#_extension_dependencies"></a>Extension Dependencies</h3>
<div class="paragraph">
<p>Extensions which have dependencies on specific core versions or on other
extensions will list such dependencies.</p>
</div>
<div class="paragraph">
<p>For core versions, the specified version must be supported at runtime.
All extensions implicitly require support for Vulkan 1.0.</p>
</div>
<div class="paragraph">
<p>For a device extension, use of any device-level functionality defined by
that extension requires that any extensions that extension depends on be
enabled.</p>
</div>
<div class="paragraph">
<p>For any extension, use of any instance-level functionality defined by that
extension requires only that any extensions that extension depends on be
supported at runtime.</p>
</div>
</div>
<div class="sect2">
<h3 id="_extension_interactions"><a class="anchor" href="chap47.html#_extension_interactions"></a>Extension Interactions</h3>
<div class="paragraph">
<p>Some extensions define APIs which are only supported when other extensions
or core versions are supported at runtime.
Such interactions are noted as “API Interactions”.</p>
</div>
</div>
<div class="sect2">
<h3 id="extension-appendices-list"><a class="anchor" href="chap47.html#extension-appendices-list"></a>List of Current Extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_android_surface">VK_KHR_android_surface</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_calibrated_timestamps">VK_KHR_calibrated_timestamps</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_cooperative_matrix">VK_KHR_cooperative_matrix</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_copy_commands2">VK_KHR_copy_commands2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_display">VK_KHR_display</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_dynamic_rendering_local_read">VK_KHR_dynamic_rendering_local_read</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_fence_fd">VK_KHR_external_fence_fd</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_fence_win32">VK_KHR_external_fence_win32</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_memory_fd">VK_KHR_external_memory_fd</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_memory_win32">VK_KHR_external_memory_win32</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_fragment_shader_barycentric">VK_KHR_fragment_shader_barycentric</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_get_display_properties2">VK_KHR_get_display_properties2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_global_priority">VK_KHR_global_priority</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_incremental_present">VK_KHR_incremental_present</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_index_type_uint8">VK_KHR_index_type_uint8</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_line_rasterization">VK_KHR_line_rasterization</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_load_store_op_none">VK_KHR_load_store_op_none</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_maintenance4">VK_KHR_maintenance4</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_maintenance5">VK_KHR_maintenance5</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_maintenance6">VK_KHR_maintenance6</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_map_memory2">VK_KHR_map_memory2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_performance_query">VK_KHR_performance_query</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_pipeline_executable_properties">VK_KHR_pipeline_executable_properties</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_portability_enumeration">VK_KHR_portability_enumeration</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_present_id">VK_KHR_present_id</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_present_wait">VK_KHR_present_wait</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_ray_query">VK_KHR_ray_query</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_ray_tracing_maintenance1">VK_KHR_ray_tracing_maintenance1</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_ray_tracing_position_fetch">VK_KHR_ray_tracing_position_fetch</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_clock">VK_KHR_shader_clock</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_expect_assume">VK_KHR_shader_expect_assume</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_float_controls2">VK_KHR_shader_float_controls2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_integer_dot_product">VK_KHR_shader_integer_dot_product</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_maximal_reconvergence">VK_KHR_shader_maximal_reconvergence</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_non_semantic_info">VK_KHR_shader_non_semantic_info</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_quad_control">VK_KHR_shader_quad_control</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_subgroup_rotate">VK_KHR_shader_subgroup_rotate</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_subgroup_uniform_control_flow">VK_KHR_shader_subgroup_uniform_control_flow</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_terminate_invocation">VK_KHR_shader_terminate_invocation</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shared_presentable_image">VK_KHR_shared_presentable_image</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_surface_protected_capabilities">VK_KHR_surface_protected_capabilities</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_swapchain_mutable_format">VK_KHR_swapchain_mutable_format</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_synchronization2">VK_KHR_synchronization2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_vertex_attribute_divisor">VK_KHR_vertex_attribute_divisor</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_video_decode_av1">VK_KHR_video_decode_av1</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_video_decode_h264">VK_KHR_video_decode_h264</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_video_decode_h265">VK_KHR_video_decode_h265</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_video_encode_h264">VK_KHR_video_encode_h264</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_video_encode_h265">VK_KHR_video_encode_h265</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_video_maintenance1">VK_KHR_video_maintenance1</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_video_queue">VK_KHR_video_queue</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_wayland_surface">VK_KHR_wayland_surface</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_win32_keyed_mutex">VK_KHR_win32_keyed_mutex</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_win32_surface">VK_KHR_win32_surface</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_workgroup_memory_explicit_layout">VK_KHR_workgroup_memory_explicit_layout</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_xcb_surface">VK_KHR_xcb_surface</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_xlib_surface">VK_KHR_xlib_surface</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_zero_initialize_workgroup_memory">VK_KHR_zero_initialize_workgroup_memory</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_attachment_feedback_loop_dynamic_state">VK_EXT_attachment_feedback_loop_dynamic_state</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_attachment_feedback_loop_layout">VK_EXT_attachment_feedback_loop_layout</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_depth_bias_control">VK_EXT_depth_bias_control</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_discard_rectangles">VK_EXT_discard_rectangles</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_dynamic_rendering_unused_attachments">VK_EXT_dynamic_rendering_unused_attachments</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_extended_dynamic_state3">VK_EXT_extended_dynamic_state3</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_external_memory_acquire_unmodified">VK_EXT_external_memory_acquire_unmodified</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_frame_boundary">VK_EXT_frame_boundary</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_host_image_copy">VK_EXT_host_image_copy</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_layer_settings">VK_EXT_layer_settings</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_nested_command_buffer">VK_EXT_nested_command_buffer</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_opacity_micromap">VK_EXT_opacity_micromap</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_shader_object">VK_EXT_shader_object</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_shader_tile_image">VK_EXT_shader_tile_image</a></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="VK_KHR_acceleration_structure"><a class="anchor" href="chap47.html#VK_KHR_acceleration_structure"></a>VK_KHR_acceleration_structure</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_acceleration_structure</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>151</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>13</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br>
and<br>
<code>VK_EXT_descriptor_indexing</code><br>
and<br>
<a href="chap47.html#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a><br>
and<br>
<a href="chap47.html#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_EXT_debug_report</p>
</li>
<li>
<p>Interacts with VK_KHR_format_feature_flags2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_acceleration_structure] @dgkoch%0A*Here describe the issue or question you have about the VK_KHR_acceleration_structure extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata"><a class="anchor" href="chap47.html#_other_extension_metadata"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-30</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Samuel Bourasseau, Adobe</p>
</li>
<li>
<p>Matthäus Chajdas, AMD</p>
</li>
<li>
<p>Greg Grebe, AMD</p>
</li>
<li>
<p>Nicolai Hähnle, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Dave Oldcorn, AMD</p>
</li>
<li>
<p>Skyler Saleh, AMD</p>
</li>
<li>
<p>Mathieu Robart, Arm</p>
</li>
<li>
<p>Marius Bjorge, Arm</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Sebastian Tafuri, EA</p>
</li>
<li>
<p>Henrik Rydgard, Embark</p>
</li>
<li>
<p>Juan Cañada, Epic Games</p>
</li>
<li>
<p>Patrick Kelly, Epic Games</p>
</li>
<li>
<p>Yuriy O’Donnell, Epic Games</p>
</li>
<li>
<p>Michael Doggett, Facebook/Oculus</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Don Scorgie, Imagination</p>
</li>
<li>
<p>Dae Kim, Imagination</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Pascal Gautron, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Ashwin Lele, NVIDIA</p>
</li>
<li>
<p>Robert Stepinski, NVIDIA</p>
</li>
<li>
<p>Martin Stich, NVIDIA</p>
</li>
<li>
<p>Nuno Subtil, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>Jeroen van Schijndel, OTOY</p>
</li>
<li>
<p>Juul Joosten, OTOY</p>
</li>
<li>
<p>Alex Bourd, Qualcomm</p>
</li>
<li>
<p>Roman Larionov, Qualcomm</p>
</li>
<li>
<p>David McAllister, Qualcomm</p>
</li>
<li>
<p>Lewis Gordon, Samsung</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Jasper Bekkers, Traverse Research</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description"><a class="anchor" href="chap47.html#_description"></a>Description</h5>
<div class="paragraph">
<p>In order to be efficient, rendering techniques such as ray tracing need a
quick way to identify which primitives may be intersected by a ray
traversing the geometries.
Acceleration structures are the most common way to represent the geometry
spatially sorted, in order to quickly identify such potential intersections.</p>
</div>
<div class="paragraph">
<p>This extension adds new functionalities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Acceleration structure objects and build commands</p>
</li>
<li>
<p>Structures to describe geometry inputs to acceleration structure builds</p>
</li>
<li>
<p>Acceleration structure copy commands</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_object_types_3"><a class="anchor" href="chap47.html#_new_object_types_3"></a>New Object Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkAccelerationStructureKHR">VkAccelerationStructureKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_4"><a class="anchor" href="chap47.html#_new_commands_4"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkBuildAccelerationStructuresKHR">vkBuildAccelerationStructuresKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdBuildAccelerationStructuresIndirectKHR">vkCmdBuildAccelerationStructuresIndirectKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdBuildAccelerationStructuresKHR">vkCmdBuildAccelerationStructuresKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdCopyAccelerationStructureKHR">vkCmdCopyAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdCopyAccelerationStructureToMemoryKHR">vkCmdCopyAccelerationStructureToMemoryKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdCopyMemoryToAccelerationStructureKHR">vkCmdCopyMemoryToAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCmdWriteAccelerationStructuresPropertiesKHR">vkCmdWriteAccelerationStructuresPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCopyAccelerationStructureKHR">vkCopyAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCopyAccelerationStructureToMemoryKHR">vkCopyAccelerationStructureToMemoryKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCopyMemoryToAccelerationStructureKHR">vkCopyMemoryToAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap12.html#vkCreateAccelerationStructureKHR">vkCreateAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap12.html#vkDestroyAccelerationStructureKHR">vkDestroyAccelerationStructureKHR</a></p>
</li>
<li>
<p><a href="chap12.html#vkGetAccelerationStructureBuildSizesKHR">vkGetAccelerationStructureBuildSizesKHR</a></p>
</li>
<li>
<p><a href="chap12.html#vkGetAccelerationStructureDeviceAddressKHR">vkGetAccelerationStructureDeviceAddressKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetDeviceAccelerationStructureCompatibilityKHR">vkGetDeviceAccelerationStructureCompatibilityKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkWriteAccelerationStructuresPropertiesKHR">vkWriteAccelerationStructuresPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_4"><a class="anchor" href="chap47.html#_new_structures_4"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkAabbPositionsKHR">VkAabbPositionsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureBuildGeometryInfoKHR">VkAccelerationStructureBuildGeometryInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureBuildRangeInfoKHR">VkAccelerationStructureBuildRangeInfoKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkAccelerationStructureBuildSizesInfoKHR">VkAccelerationStructureBuildSizesInfoKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkAccelerationStructureCreateInfoKHR">VkAccelerationStructureCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkAccelerationStructureDeviceAddressInfoKHR">VkAccelerationStructureDeviceAddressInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureGeometryAabbsDataKHR">VkAccelerationStructureGeometryAabbsDataKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureGeometryInstancesDataKHR">VkAccelerationStructureGeometryInstancesDataKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureGeometryKHR">VkAccelerationStructureGeometryKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureGeometryTrianglesDataKHR">VkAccelerationStructureGeometryTrianglesDataKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureInstanceKHR">VkAccelerationStructureInstanceKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureVersionInfoKHR">VkAccelerationStructureVersionInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkCopyAccelerationStructureInfoKHR">VkCopyAccelerationStructureInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkCopyAccelerationStructureToMemoryInfoKHR">VkCopyAccelerationStructureToMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkCopyMemoryToAccelerationStructureInfoKHR">VkCopyMemoryToAccelerationStructureInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkTransformMatrixKHR">VkTransformMatrixKHR</a></p>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceAccelerationStructureFeaturesKHR">VkPhysicalDeviceAccelerationStructureFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceAccelerationStructurePropertiesKHR">VkPhysicalDeviceAccelerationStructurePropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_unions_2"><a class="anchor" href="chap47.html#_new_unions_2"></a>New Unions</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkAccelerationStructureGeometryDataKHR">VkAccelerationStructureGeometryDataKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceOrHostAddressConstKHR">VkDeviceOrHostAddressConstKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceOrHostAddressKHR">VkDeviceOrHostAddressKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_4"><a class="anchor" href="chap47.html#_new_enums_4"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkAccelerationStructureBuildTypeKHR">VkAccelerationStructureBuildTypeKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAccelerationStructureCompatibilityKHR">VkAccelerationStructureCompatibilityKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkAccelerationStructureCreateFlagBitsKHR">VkAccelerationStructureCreateFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkAccelerationStructureTypeKHR">VkAccelerationStructureTypeKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkBuildAccelerationStructureFlagBitsKHR">VkBuildAccelerationStructureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkBuildAccelerationStructureModeKHR">VkBuildAccelerationStructureModeKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkCopyAccelerationStructureModeKHR">VkCopyAccelerationStructureModeKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkGeometryFlagBitsKHR">VkGeometryFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkGeometryInstanceFlagBitsKHR">VkGeometryInstanceFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkGeometryTypeKHR">VkGeometryTypeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_4"><a class="anchor" href="chap47.html#_new_bitmasks_4"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkAccelerationStructureCreateFlagsKHR">VkAccelerationStructureCreateFlagsKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkBuildAccelerationStructureFlagsKHR">VkBuildAccelerationStructureFlagsKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkGeometryFlagsKHR">VkGeometryFlagsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkGeometryInstanceFlagsKHR">VkGeometryInstanceFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_4"><a class="anchor" href="chap47.html#_new_enum_constants_4"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_ACCELERATION_STRUCTURE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_ACCELERATION_STRUCTURE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkAccessFlagBits">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_ACCELERATION_STRUCTURE_READ_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_ACCESS_ACCELERATION_STRUCTURE_WRITE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_ACCELERATION_STRUCTURE_BUILD_INPUT_READ_ONLY_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_ACCELERATION_STRUCTURE_STORAGE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap14.html#VkDescriptorType">VkDescriptorType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap40.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_ACCELERATION_STRUCTURE_VERTEX_BUFFER_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap20.html#VkIndexType">VkIndexType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDEX_TYPE_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap42.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_ACCELERATION_STRUCTURE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_ACCELERATION_STRUCTURE_BUILD_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryType">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_COMPACTED_SIZE_KHR</code></p>
</li>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_SERIALIZATION_SIZE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_BUILD_GEOMETRY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_BUILD_SIZES_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_DEVICE_ADDRESS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_AABBS_DATA_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_INSTANCES_DATA_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_GEOMETRY_TRIANGLES_DATA_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_VERSION_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_ACCELERATION_STRUCTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_ACCELERATION_STRUCTURE_TO_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_MEMORY_TO_ACCELERATION_STRUCTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ACCELERATION_STRUCTURE_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ACCELERATION_STRUCTURE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_ACCELERATION_STRUCTURE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap40.html#VkFormatFeatureFlagBits2">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_ACCELERATION_STRUCTURE_VERTEX_BUFFER_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues"><a class="anchor" href="chap47.html#_issues"></a>Issues</h5>
<div class="paragraph">
<p>(1) How does this extension differ from VK_NV_ray_tracing?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>DISCUSSION</strong>:</p>
</div>
<div class="paragraph">
<p>The following is a summary of the main functional differences between
VK_KHR_acceleration_structure and VK_NV_ray_tracing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>added acceleration structure serialization / deserialization
(<code>VK_COPY_ACCELERATION_STRUCTURE_MODE_SERIALIZE_KHR</code>,
<code>VK_COPY_ACCELERATION_STRUCTURE_MODE_DESERIALIZE_KHR</code>,
<a href="chap32.html#vkCmdCopyAccelerationStructureToMemoryKHR">vkCmdCopyAccelerationStructureToMemoryKHR</a>,
<a href="chap32.html#vkCmdCopyMemoryToAccelerationStructureKHR">vkCmdCopyMemoryToAccelerationStructureKHR</a>)</p>
</li>
<li>
<p>document <a href="chap32.html#acceleration-structure-inactive-prims">inactive primitives and
instances</a></p>
</li>
<li>
<p>added <a href="chap38.html#VkPhysicalDeviceAccelerationStructureFeaturesKHR">VkPhysicalDeviceAccelerationStructureFeaturesKHR</a> structure</p>
</li>
<li>
<p>added indirect and batched acceleration structure builds
(<a href="chap32.html#vkCmdBuildAccelerationStructuresIndirectKHR">vkCmdBuildAccelerationStructuresIndirectKHR</a>)</p>
</li>
<li>
<p>added <a href="chap32.html#host-acceleration-structure">host acceleration structure</a>
commands</p>
</li>
<li>
<p>reworked geometry structures so they could be better shared between
device, host, and indirect builds</p>
</li>
<li>
<p>explicitly made <a href="chap12.html#VkAccelerationStructureKHR">VkAccelerationStructureKHR</a> use device addresses</p>
</li>
<li>
<p>added acceleration structure compatibility check function
(<a href="chap32.html#vkGetDeviceAccelerationStructureCompatibilityKHR">vkGetDeviceAccelerationStructureCompatibilityKHR</a>)</p>
</li>
<li>
<p>add parameter for requesting memory requirements for host and/or device
build</p>
</li>
<li>
<p>added format feature for acceleration structure build vertex formats
(<code>VK_FORMAT_FEATURE_ACCELERATION_STRUCTURE_VERTEX_BUFFER_BIT_KHR</code>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(3) What are the changes between the public provisional (VK_KHR_ray_tracing
v8) release and the internal provisional (VK_KHR_ray_tracing v9) release?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>added <code>geometryFlags</code> to
<code>VkAccelerationStructureCreateGeometryTypeInfoKHR</code> (later reworked
to obsolete this)</p>
</li>
<li>
<p>added <code>minAccelerationStructureScratchOffsetAlignment</code> property to
VkPhysicalDeviceRayTracingPropertiesKHR</p>
</li>
<li>
<p>fix naming and return enum from
<a href="chap32.html#vkGetDeviceAccelerationStructureCompatibilityKHR">vkGetDeviceAccelerationStructureCompatibilityKHR</a></p>
<div class="ulist">
<ul>
<li>
<p>renamed <code>VkAccelerationStructureVersionKHR</code> to
<a href="chap32.html#VkAccelerationStructureVersionInfoKHR">VkAccelerationStructureVersionInfoKHR</a></p>
</li>
<li>
<p>renamed <code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_VERSION_KHR</code> to
<code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_VERSION_INFO_KHR</code></p>
</li>
<li>
<p>removed <code>VK_ERROR_INCOMPATIBLE_VERSION_KHR</code></p>
</li>
<li>
<p>added <a href="chap32.html#VkAccelerationStructureCompatibilityKHR">VkAccelerationStructureCompatibilityKHR</a> enum</p>
</li>
<li>
<p>remove return value from
<a href="chap32.html#vkGetDeviceAccelerationStructureCompatibilityKHR">vkGetDeviceAccelerationStructureCompatibilityKHR</a> and added return
enum parameter</p>
</li>
</ul>
</div>
</li>
<li>
<p>Require Vulkan 1.1</p>
</li>
<li>
<p>added creation time capture and replay flags</p>
<div class="ulist">
<ul>
<li>
<p>added <a href="chap12.html#VkAccelerationStructureCreateFlagBitsKHR">VkAccelerationStructureCreateFlagBitsKHR</a> and
<a href="chap12.html#VkAccelerationStructureCreateFlagsKHR">VkAccelerationStructureCreateFlagsKHR</a></p>
</li>
<li>
<p>renamed the <code>flags</code> member of
<a href="chap12.html#VkAccelerationStructureCreateInfoKHR">VkAccelerationStructureCreateInfoKHR</a> to <code>buildFlags</code> (later
removed) and added the <code>createFlags</code> member</p>
</li>
</ul>
</div>
</li>
<li>
<p>change <a href="chap32.html#vkCmdBuildAccelerationStructuresIndirectKHR">vkCmdBuildAccelerationStructuresIndirectKHR</a> to use buffer
device address for indirect parameter</p>
</li>
<li>
<p>make <code><a href="chap47.html#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code> an interaction instead of
a required extension (later went back on this)</p>
</li>
<li>
<p>renamed <code>VkAccelerationStructureBuildOffsetInfoKHR</code> to
<a href="chap32.html#VkAccelerationStructureBuildRangeInfoKHR">VkAccelerationStructureBuildRangeInfoKHR</a></p>
<div class="ulist">
<ul>
<li>
<p>renamed the <code>ppOffsetInfos</code> parameter of
<a href="chap32.html#vkCmdBuildAccelerationStructuresKHR">vkCmdBuildAccelerationStructuresKHR</a> to <code>ppBuildRangeInfos</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Re-unify geometry description between build and create</p>
<div class="ulist">
<ul>
<li>
<p>remove <code>VkAccelerationStructureCreateGeometryTypeInfoKHR</code> and
<code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CREATE_GEOMETRY_TYPE_INFO_KHR</code></p>
</li>
<li>
<p>added <code>VkAccelerationStructureCreateSizeInfoKHR</code> structure (later
removed)</p>
</li>
<li>
<p>change type of the <code>pGeometryInfos</code> member of
<a href="chap12.html#VkAccelerationStructureCreateInfoKHR">VkAccelerationStructureCreateInfoKHR</a> from
<code>VkAccelerationStructureCreateGeometryTypeInfoKHR</code> to
<a href="chap32.html#VkAccelerationStructureGeometryKHR">VkAccelerationStructureGeometryKHR</a> (later removed)</p>
</li>
<li>
<p>added <code>pCreateSizeInfos</code> member to
<a href="chap12.html#VkAccelerationStructureCreateInfoKHR">VkAccelerationStructureCreateInfoKHR</a> (later removed)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Fix ppGeometries ambiguity, add pGeometries</p>
<div class="ulist">
<ul>
<li>
<p>remove <code>geometryArrayOfPointers</code> member of
VkAccelerationStructureBuildGeometryInfoKHR</p>
</li>
<li>
<p>disambiguate two meanings of <code>ppGeometries</code> by explicitly adding
<code>pGeometries</code> to the
<a href="chap32.html#VkAccelerationStructureBuildGeometryInfoKHR">VkAccelerationStructureBuildGeometryInfoKHR</a> structure and require
one of them be <code>NULL</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>added <a href="chap38.html#features-nullDescriptor"><code>nullDescriptor</code></a> support for
acceleration structures</p>
</li>
<li>
<p>changed the <code>update</code> member of
<a href="chap32.html#VkAccelerationStructureBuildGeometryInfoKHR">VkAccelerationStructureBuildGeometryInfoKHR</a> from a bool to the
<code>mode</code> <a href="chap32.html#VkBuildAccelerationStructureModeKHR">VkBuildAccelerationStructureModeKHR</a> enum which allows
future extensibility in update types</p>
</li>
<li>
<p>Clarify deferred host ops for pipeline creation</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap31.html#VkDeferredOperationKHR">VkDeferredOperationKHR</a> is now a top-level parameter for
<a href="chap32.html#vkBuildAccelerationStructuresKHR">vkBuildAccelerationStructuresKHR</a>,
<a href="chap10.html#vkCreateRayTracingPipelinesKHR">vkCreateRayTracingPipelinesKHR</a>,
<a href="chap32.html#vkCopyAccelerationStructureToMemoryKHR">vkCopyAccelerationStructureToMemoryKHR</a>,
<a href="chap32.html#vkCopyAccelerationStructureKHR">vkCopyAccelerationStructureKHR</a>, and
<a href="chap32.html#vkCopyMemoryToAccelerationStructureKHR">vkCopyMemoryToAccelerationStructureKHR</a></p>
</li>
<li>
<p>removed <code>VkDeferredOperationInfoKHR</code> structure</p>
</li>
<li>
<p>change deferred host creation/return parameter behavior such that the
implementation can modify such parameters until the deferred host
operation completes</p>
</li>
<li>
<p><code><a href="chap47.html#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code> is required again</p>
</li>
</ul>
</div>
</li>
<li>
<p>Change acceleration structure build to always be sized</p>
<div class="ulist">
<ul>
<li>
<p>de-alias <code>VkAccelerationStructureMemoryRequirementsTypeNV</code> and
<code>VkAccelerationStructureMemoryRequirementsTypeKHR</code>, and remove
<code>VkAccelerationStructureMemoryRequirementsTypeKHR</code></p>
</li>
<li>
<p>add <a href="chap12.html#vkGetAccelerationStructureBuildSizesKHR">vkGetAccelerationStructureBuildSizesKHR</a> command and
<a href="chap12.html#VkAccelerationStructureBuildSizesInfoKHR">VkAccelerationStructureBuildSizesInfoKHR</a> structure and
<code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_BUILD_SIZES_INFO_KHR</code>
enum to query sizes for acceleration structures and scratch storage</p>
</li>
<li>
<p>move size queries for scratch space to
<a href="chap12.html#vkGetAccelerationStructureBuildSizesKHR">vkGetAccelerationStructureBuildSizesKHR</a></p>
</li>
<li>
<p>remove <code>compactedSize</code>, <code>buildFlags</code>, <code>maxGeometryCount</code>,
<code>pGeometryInfos</code>, <code>pCreateSizeInfos</code> members of
<a href="chap12.html#VkAccelerationStructureCreateInfoKHR">VkAccelerationStructureCreateInfoKHR</a> and add the <code>size</code>
member</p>
</li>
<li>
<p>add <code>maxVertex</code> member to
<a href="chap32.html#VkAccelerationStructureGeometryTrianglesDataKHR">VkAccelerationStructureGeometryTrianglesDataKHR</a> structure</p>
</li>
<li>
<p>remove <code>VkAccelerationStructureCreateSizeInfoKHR</code> structure</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(4) What are the changes between the internal provisional
(VK_KHR_ray_tracing v9) release and the final (VK_KHR_acceleration_structure
v11) release?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>refactor VK_KHR_ray_tracing into 3 extensions, enabling implementation
flexibility and decoupling ray query support from ray pipelines:</p>
<div class="ulist">
<ul>
<li>
<p><code><a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> (for acceleration structure
operations)</p>
</li>
<li>
<p><code><a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code> (for ray tracing pipeline and
shader stages)</p>
</li>
<li>
<p><code><a href="chap47.html#VK_KHR_ray_query">VK_KHR_ray_query</a></code> (for ray queries in existing shader stages)</p>
</li>
</ul>
</div>
</li>
<li>
<p>clarify buffer usage flags for ray tracing</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_RAY_TRACING_BIT_NV</code> is left alone in
<code><code>VK_NV_ray_tracing</code></code> (required on <code>scratch</code> and
<code>instanceData</code>)</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_SHADER_BINDING_TABLE_BIT_KHR</code> is added as an alias
of <code>VK_BUFFER_USAGE_RAY_TRACING_BIT_NV</code> in
<code><a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code> and is required on shader binding
table buffers</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_ACCELERATION_STRUCTURE_BUILD_INPUT_READ_ONLY_BIT_KHR</code>
is added in <code><a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> for all vertex,
index, transform, aabb, and instance buffer data referenced by device
build commands</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> is used for <code>scratchData</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>add max primitive counts (<code>ppMaxPrimitiveCounts</code>) to
<a href="chap32.html#vkCmdBuildAccelerationStructuresIndirectKHR">vkCmdBuildAccelerationStructuresIndirectKHR</a></p>
</li>
<li>
<p>Allocate acceleration structures from <code>VkBuffers</code> and add a mode to
constrain the device address</p>
<div class="ulist">
<ul>
<li>
<p>de-alias <code>VkBindAccelerationStructureMemoryInfoNV</code> and
<code>vkBindAccelerationStructureMemoryNV</code>, and remove
<code>VkBindAccelerationStructureMemoryInfoKHR</code>,
<code>VkAccelerationStructureMemoryRequirementsInfoKHR</code>, and
<code>vkGetAccelerationStructureMemoryRequirementsKHR</code></p>
</li>
<li>
<p>acceleration structures now take a <a href="chap12.html#VkBuffer">VkBuffer</a> and offset at
creation time for memory placement</p>
</li>
<li>
<p>add a new <code>VK_BUFFER_USAGE_ACCELERATION_STRUCTURE_STORAGE_BIT_KHR</code>
buffer usage for such buffers</p>
</li>
<li>
<p>add a new <code>VK_ACCELERATION_STRUCTURE_TYPE_GENERIC_KHR</code> acceleration
structure type for layering</p>
</li>
</ul>
</div>
</li>
<li>
<p>move <code>VK_GEOMETRY_TYPE_INSTANCES_KHR</code> to main enum instead of being
added via extension</p>
</li>
<li>
<p>make build commands more consistent - all now build multiple
acceleration structures and are named plurally
(<a href="chap32.html#vkCmdBuildAccelerationStructuresIndirectKHR">vkCmdBuildAccelerationStructuresIndirectKHR</a>,
<a href="chap32.html#vkCmdBuildAccelerationStructuresKHR">vkCmdBuildAccelerationStructuresKHR</a>,
<a href="chap32.html#vkBuildAccelerationStructuresKHR">vkBuildAccelerationStructuresKHR</a>)</p>
</li>
<li>
<p>add interactions with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> for
acceleration structures, including a new feature
(<code>descriptorBindingAccelerationStructureUpdateAfterBind</code>) and 3 new
properties (<code>maxPerStageDescriptorAccelerationStructures</code>,
<code>maxPerStageDescriptorUpdateAfterBindAccelerationStructures</code>,
<code>maxDescriptorSetUpdateAfterBindAccelerationStructures</code>)</p>
</li>
<li>
<p>extension is no longer provisional</p>
</li>
<li>
<p>define synchronization requirements for builds, traces, and copies</p>
</li>
<li>
<p>define synchronization requirements for AS build inputs and indirect
build buffer</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(5) What is <code>VK_ACCELERATION_STRUCTURE_TYPE_GENERIC_KHR</code> for?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: It is primarily intended for API layering.
In DXR, the acceleration structure is basically just a buffer in a special
layout, and you do not know at creation time whether it will be used as a
top or bottom level acceleration structure.
We thus added a generic acceleration structure type whose type is unknown at
creation time, but is specified at build time instead.
Applications which are written directly for Vulkan should not use it.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_version_history"><a class="anchor" href="chap47.html#_version_history"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-12-05 (Members of the Vulkan Ray Tracing TSG)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions (forked from VK_NV_ray_tracing)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-12-20 (Daniel Koch, Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Add const version of DeviceOrHostAddress (!3515)</p>
</li>
<li>
<p>Add VU to clarify that only handles in the current pipeline are valid
(!3518)</p>
</li>
<li>
<p>Restore some missing VUs and add in-place update language (#1902,
!3522)</p>
</li>
<li>
<p>rename VkAccelerationStructureInstanceKHR member from
accelerationStructure to accelerationStructureReference to better match
its type (!3523)</p>
</li>
<li>
<p>Allow VK_ERROR_INVALID_OPAQUE_CAPTURE_ADDRESS for pipeline creation if
shader group handles cannot be reused (!3523)</p>
</li>
<li>
<p>update documentation for the VK_ERROR_INVALID_OPAQUE_CAPTURE_ADDRESS
error code and add missing documentation for new return codes from
VK_KHR_deferred_host_operations (!3523)</p>
</li>
<li>
<p>list new query types for VK_KHR_ray_tracing (!3523)</p>
</li>
<li>
<p>Fix VU statements for VkAccelerationStructureGeometryKHR referring to
correct union members and update to use more current wording (!3523)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2020-01-10 (Daniel Koch, Jon Leech, Christoph Kubisch)</p>
<div class="ulist">
<ul>
<li>
<p>Fix 'instance of' and 'that/which contains/defines' markup issues
(!3528)</p>
</li>
<li>
<p>factor out VK_KHR_pipeline_library as stand-alone extension (!3540)</p>
</li>
<li>
<p>Resolve Vulkan-hpp issues (!3543)</p>
<div class="ulist">
<ul>
<li>
<p>add missing require for VkGeometryInstanceFlagsKHR</p>
</li>
<li>
<p>de-alias VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CREATE_INFO_NV since
the KHR structure is no longer equivalent</p>
</li>
<li>
<p>add len to pDataSize attribute for
vkWriteAccelerationStructuresPropertiesKHR</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2020-01-23 (Daniel Koch, Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Improve vkWriteAccelerationStructuresPropertiesKHR, add return value
and VUs (#1947)</p>
</li>
<li>
<p>Clarify language to allow multiple raygen shaders (#1959)</p>
</li>
<li>
<p>Various editorial feedback (!3556)</p>
</li>
<li>
<p>Add language to help deal with looped self-intersecting fans (#1901)</p>
</li>
<li>
<p>Change vkCmdTraceRays{,Indirect}KHR args to pointers (!3559)</p>
</li>
<li>
<p>Add scratch address validation language (#1941, !3551)</p>
</li>
<li>
<p>Fix definition and add hierarchy information for shader call scope
(#1977, !3571)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2020-02-04 (Eric Werness, Jeff Bolz, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>remove vestigial accelerationStructureUUID (!3582)</p>
</li>
<li>
<p>update definition of repack instructions and improve memory model
interactions (#1910, #1913, !3584)</p>
</li>
<li>
<p>Fix wrong sType for VkPhysicalDeviceRayTracingFeaturesKHR (#1988)</p>
</li>
<li>
<p>Use provisional SPIR-V capabilities (#1987)</p>
</li>
<li>
<p>require rayTraversalPrimitiveCulling if rayQuery is supported (#1927)</p>
</li>
<li>
<p>Miss shaders do not have object parameters (!3592)</p>
</li>
<li>
<p>Fix missing required types in XML (!3592)</p>
</li>
<li>
<p>clarify matching conditions for update (!3592)</p>
</li>
<li>
<p>add goal that host and device builds be similar (!3592)</p>
</li>
<li>
<p>clarify that <code>maxPrimitiveCount</code> limit should apply to triangles
and AABBs (!3592)</p>
</li>
<li>
<p>Require alignment for instance arrayOfPointers (!3592)</p>
</li>
<li>
<p>Zero is a valid value for instance flags (!3592)</p>
</li>
<li>
<p>Add some alignment VUs that got lost in refactoring (!3592)</p>
</li>
<li>
<p>Recommend TMin epsilon rather than culling (!3592)</p>
</li>
<li>
<p>Get angle from dot product not cross product (!3592)</p>
</li>
<li>
<p>Clarify that AH can access the payload and attributes (!3592)</p>
</li>
<li>
<p>Match DXR behavior for inactive primitive definition (!3592)</p>
</li>
<li>
<p>Use a more generic term than degenerate for inactive to avoid confusion
(!3592)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2020-02-20 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>fix some dangling NV references (#1996)</p>
</li>
<li>
<p>rename VkCmdTraceRaysIndirectCommandKHR to
VkTraceRaysIndirectCommandKHR (!3607)</p>
</li>
<li>
<p>update contributor list (!3611)</p>
</li>
<li>
<p>use uint64_t instead of VkAccelerationStructureReferenceKHR in
VkAccelerationStructureInstanceKHR (#2004)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2020-02-28 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>remove HitTKHR SPIR-V builtin (spirv/spirv-extensions#7)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2020-03-06 (Tobias Hector, Dae Kim, Daniel Koch, Jeff Bolz,
Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>explicitly state that Tmax is updated when new closest intersection is
accepted (#2020,!3536)</p>
</li>
<li>
<p>Made references to min and max t values consistent (!3644)</p>
</li>
<li>
<p>finish enumerating differences relative to VK_NV_ray_tracing in issues
(1) and (2) (#1974,!3642)</p>
</li>
<li>
<p>fix formatting in some math equations (!3642)</p>
</li>
<li>
<p>Restrict the Hit Kind operand of <code>OpReportIntersectionKHR</code> to 7-bits
(spirv/spirv-extensions#8,!3646)</p>
</li>
<li>
<p>Say ray tracing '<strong class="purple">should</strong>' be watertight (#2008,!3631)</p>
</li>
<li>
<p>Clarify memory requirements for ray tracing buffers (#2005,!3649)</p>
</li>
<li>
<p>Add callable size limits (#1997,!3652)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2020-04-15 (Eric Werness, Daniel Koch, Tobias Hector, Joshua
Barczak)</p>
<div class="ulist">
<ul>
<li>
<p>Add geometry flags to acceleration structure creation (!3672)</p>
</li>
<li>
<p>add build scratch memory alignment
(minAccelerationStructureScratchOffsetAlignment) (#2065,!3725)</p>
</li>
<li>
<p>fix naming and return enum from
vkGetDeviceAccelerationStructureCompatibilityKHR (#2051,!3726)</p>
</li>
<li>
<p>require SPIR-V 1.4 (#2096,!3777)</p>
</li>
<li>
<p>added creation time capture/replay flags (#2104,!3774)</p>
</li>
<li>
<p>require Vulkan 1.1 (#2133,!3806)</p>
</li>
<li>
<p>use device addresses instead of VkBuffers for ray tracing commands
(#2074,!3815)</p>
</li>
<li>
<p>add interactions with Vulkan 1.2 and VK_KHR_vulkan_memory_model
(#2133,!3830)</p>
</li>
<li>
<p>make VK_KHR_pipeline_library an interaction instead of required
(#2045,#2108,!3830)</p>
</li>
<li>
<p>make VK_KHR_deferred_host_operations an interaction instead of required
(#2045,!3830)</p>
</li>
<li>
<p>removed maxCallableSize and added explicit stack size management for
ray pipelines (#1997,!3817,!3772,!3844)</p>
</li>
<li>
<p>improved documentation for VkAccelerationStructureVersionInfoKHR
(#2135,3835)</p>
</li>
<li>
<p>rename VkAccelerationStructureBuildOffsetInfoKHR to
VkAccelerationStructureBuildRangeInfoKHR (#2058,!3754)</p>
</li>
<li>
<p>Re-unify geometry description between build and create (!3754)</p>
</li>
<li>
<p>Fix ppGeometries ambiguity, add pGeometries (#2032,!3811)</p>
</li>
<li>
<p>add interactions with VK_EXT_robustness2 and allow nullDescriptor
support for acceleration structures (#1920,!3848)</p>
</li>
<li>
<p>added future extensibility for AS updates (#2114,!3849)</p>
</li>
<li>
<p>Fix VU for dispatchrays and add a limit on the size of the full grid
(#2160,!3851)</p>
</li>
<li>
<p>Add shaderGroupHandleAlignment property (#2180,!3875)</p>
</li>
<li>
<p>Clarify deferred host ops for pipeline creation (#2067,!3813)</p>
</li>
<li>
<p>Change acceleration structure build to always be sized
(#2131,#2197,#2198,!3854,!3883,!3880)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2020-07-03 (Mathieu Robart, Daniel Koch, Eric Werness,
Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Decomposition of the specification, from VK_KHR_ray_tracing to
VK_KHR_acceleration_structure (#1918,!3912)</p>
</li>
<li>
<p>clarify buffer usage flags for ray tracing (#2181,!3939)</p>
</li>
<li>
<p>add max primitive counts to build indirect command (#2233,!3944)</p>
</li>
<li>
<p>Allocate acceleration structures from VkBuffers and add a mode to
constrain the device address (#2131,!3936)</p>
</li>
<li>
<p>Move VK_GEOMETRY_TYPE_INSTANCES_KHR to main enum (#2243,!3952)</p>
</li>
<li>
<p>make build commands more consistent (#2247,!3958)</p>
</li>
<li>
<p>add interactions with UPDATE_AFTER_BIND (#2128,!3986)</p>
</li>
<li>
<p>correct and expand build command VUs (!4020)</p>
</li>
<li>
<p>fix copy command VUs (!4018)</p>
</li>
<li>
<p>added various alignment requirements (#2229,!3943)</p>
</li>
<li>
<p>fix valid usage for arrays of geometryCount items (#2198,!4010)</p>
</li>
<li>
<p>define what is allowed to change on RTAS updates and relevant VUs
(#2177,!3961)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2020-11-12 (Eric Werness, Josh Barczak, Daniel Koch, Tobias
Hector)</p>
<div class="ulist">
<ul>
<li>
<p>de-alias NV and KHR acceleration structure types and associated
commands (#2271,!4035)</p>
</li>
<li>
<p>specify alignment for host copy commands (#2273,!4037)</p>
</li>
<li>
<p>document
<code>VK_FORMAT_FEATURE_ACCELERATION_STRUCTURE_VERTEX_BUFFER_BIT_KHR</code></p>
</li>
<li>
<p>specify that acceleration structures are non-linear (#2289,!4068)</p>
</li>
<li>
<p>add several missing VUs for strides, vertexFormat, and indexType
(#2315,!4069)</p>
</li>
<li>
<p>restore VUs for VkAccelerationStructureBuildGeometryInfoKHR
(#2337,!4098)</p>
</li>
<li>
<p>ban multi-instance memory for host operations (#2324,!4102)</p>
</li>
<li>
<p>allow dstAccelerationStructure to be null for
vkGetAccelerationStructureBuildSizesKHR (#2330,!4111)</p>
</li>
<li>
<p>more build VU cleanup (#2138,#4130)</p>
</li>
<li>
<p>specify host endianness for AS serialization (#2261,!4136)</p>
</li>
<li>
<p>add invertible transform matrix VU (#1710,!4140)</p>
</li>
<li>
<p>require geometryCount to be 1 for TLAS builds (!4145)</p>
</li>
<li>
<p>improved validity conditions for build addresses (#4142)</p>
</li>
<li>
<p>add single statement SPIR-V VUs, build limit VUs (!4158)</p>
</li>
<li>
<p>document limits for vertex and aabb strides (#2390,!4184)</p>
</li>
<li>
<p>specify that
<code>VK_PIPELINE_STAGE_ACCELERATION_STRUCTURE_BUILD_BIT_KHR</code> applies to
AS copies (#2382,#4173)</p>
</li>
<li>
<p>define sync for AS build inputs and indirect buffer (#2407,!4208)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2021-08-06 (Samuel Bourasseau)</p>
<div class="ulist">
<ul>
<li>
<p>rename VK_GEOMETRY_INSTANCE_TRIANGLE_FRONT_COUNTERCLOCKWISE_BIT_KHR to
VK_GEOMETRY_INSTANCE_TRIANGLE_FLIP_FACING_BIT_KHR (keep previous as
alias).</p>
</li>
<li>
<p>Clarify description and add note.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2021-09-30 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add interaction with <code><a href="chap47.html#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code> to <code>vk.xml</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_android_surface"><a class="anchor" href="chap47.html#VK_KHR_android_surface"></a>VK_KHR_android_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_android_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>9</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_android_surface] @critsec%0A*Here describe the issue or question you have about the VK_KHR_android_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_2"><a class="anchor" href="chap47.html#_other_extension_metadata_2"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-01-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_2"><a class="anchor" href="chap47.html#_description_2"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_android_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an
<a href="chap30.html#ANativeWindow">ANativeWindow</a>, Android’s native surface type.
The <a href="chap30.html#ANativeWindow">ANativeWindow</a> represents the producer endpoint of any buffer
queue, regardless of consumer endpoint.
Common consumer endpoints for <code>ANativeWindows</code> are the system window
compositor, video encoders, and application-specific compositors importing
the images through a <code>SurfaceTexture</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_base_types_2"><a class="anchor" href="chap47.html#_new_base_types_2"></a>New Base Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#ANativeWindow">ANativeWindow</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_5"><a class="anchor" href="chap47.html#_new_commands_5"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkCreateAndroidSurfaceKHR">vkCreateAndroidSurfaceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_5"><a class="anchor" href="chap47.html#_new_structures_5"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkAndroidSurfaceCreateInfoKHR">VkAndroidSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_5"><a class="anchor" href="chap47.html#_new_bitmasks_5"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkAndroidSurfaceCreateFlagsKHR">VkAndroidSurfaceCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_5"><a class="anchor" href="chap47.html#_new_enum_constants_5"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_ANDROID_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_ANDROID_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_2"><a class="anchor" href="chap47.html#_issues_2"></a>Issues</h5>
<div class="paragraph">
<p>1) Does Android need a way to query for compatibility between a particular
physical device (and queue family?) and a specific Android display?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Currently on Android, any physical device is expected to be able to present
to the system compositor, and all queue families must support the necessary
image layout transitions and synchronization operations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_2"><a class="anchor" href="chap47.html#_version_history_2"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_android_surface to VK_KHR_android_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to surface creation function.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Removed VK_ERROR_INVALID_ANDROID_WINDOW_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2016-01-14 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the VK_KHR_android_surface
to the VK_KHR_surface extension.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_calibrated_timestamps"><a class="anchor" href="chap47.html#VK_KHR_calibrated_timestamps"></a>VK_KHR_calibrated_timestamps</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_calibrated_timestamps</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>544</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_calibrated_timestamps] @aqnuep%0A*Here describe the issue or question you have about the VK_KHR_calibrated_timestamps extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>aqnuep</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_calibrated_timestamps.adoc">VK_EXT_calibrated_timestamps</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_3"><a class="anchor" href="chap47.html#_other_extension_metadata_3"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-07-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Alan Harrison, AMD</p>
</li>
<li>
<p>Derrick Owens, AMD</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Keith Packard, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_3"><a class="anchor" href="chap47.html#_description_3"></a>Description</h5>
<div class="paragraph">
<p>This extension provides an interface to query calibrated timestamps obtained
quasi simultaneously from two time domains.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_6"><a class="anchor" href="chap47.html#_new_commands_6"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#vkGetCalibratedTimestampsKHR">vkGetCalibratedTimestampsKHR</a></p>
</li>
<li>
<p><a href="chap41.html#vkGetPhysicalDeviceCalibrateableTimeDomainsKHR">vkGetPhysicalDeviceCalibrateableTimeDomainsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_6"><a class="anchor" href="chap47.html#_new_structures_6"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkCalibratedTimestampInfoKHR">VkCalibratedTimestampInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_5"><a class="anchor" href="chap47.html#_new_enums_5"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkTimeDomainKHR">VkTimeDomainKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_6"><a class="anchor" href="chap47.html#_new_enum_constants_6"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_CALIBRATED_TIMESTAMPS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_CALIBRATED_TIMESTAMPS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_CALIBRATED_TIMESTAMP_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_3"><a class="anchor" href="chap47.html#_version_history_3"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-07-12 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_cooperative_matrix"><a class="anchor" href="chap47.html#VK_KHR_cooperative_matrix"></a>VK_KHR_cooperative_matrix</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_cooperative_matrix</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>507</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_cooperative_matrix.html">SPV_KHR_cooperative_matrix</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kevin Petit <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_cooperative_matrix] @kpet%0A*Here describe the issue or question you have about the VK_KHR_cooperative_matrix extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>kpet</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_cooperative_matrix.adoc">VK_KHR_cooperative_matrix</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_4"><a class="anchor" href="chap47.html#_other_extension_metadata_4"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-05-03</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/khr/GLSL_KHR_cooperative_matrix.txt"><code>GLSL_KHR_cooperative_matrix</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Markus Tavenrath, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Kevin Petit, Arm Ltd.</p>
</li>
<li>
<p>Boris Zanin, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_4"><a class="anchor" href="chap47.html#_description_4"></a>Description</h5>
<div class="paragraph">
<p>This extension adds support for using cooperative matrix types in SPIR-V.
Cooperative matrix types are medium-sized matrices that are primarily
supported in compute shaders, where the storage for the matrix is spread
across all invocations in some scope (usually a subgroup) and those
invocations cooperate to efficiently perform matrix multiplies.</p>
</div>
<div class="paragraph">
<p>Cooperative matrix types are defined by the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_cooperative_matrix.html"><code>SPV_KHR_cooperative_matrix</code></a>
SPIR-V extension and can be used with the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/khr/GLSL_KHR_cooperative_matrix.txt"><code>GLSL_KHR_cooperative_matrix</code></a>
GLSL extension.</p>
</div>
<div class="paragraph">
<p>This extension includes support for enumerating the matrix types and
dimensions that are supported by the implementation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_7"><a class="anchor" href="chap47.html#_new_commands_7"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR">vkGetPhysicalDeviceCooperativeMatrixPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_7"><a class="anchor" href="chap47.html#_new_structures_7"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#VkCooperativeMatrixPropertiesKHR">VkCooperativeMatrixPropertiesKHR</a></p>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceCooperativeMatrixFeaturesKHR">VkPhysicalDeviceCooperativeMatrixFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceCooperativeMatrixPropertiesKHR">VkPhysicalDeviceCooperativeMatrixPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_6"><a class="anchor" href="chap47.html#_new_enums_6"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#VkComponentTypeKHR">VkComponentTypeKHR</a></p>
</li>
<li>
<p><a href="chap9.html#VkScopeKHR">VkScopeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_7"><a class="anchor" href="chap47.html#_new_enum_constants_7"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_COOPERATIVE_MATRIX_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_COOPERATIVE_MATRIX_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COOPERATIVE_MATRIX_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COOPERATIVE_MATRIX_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COOPERATIVE_MATRIX_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities"><a class="anchor" href="chap47.html#_new_spir_v_capabilities"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-CooperativeMatrixKHR">CooperativeMatrixKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_3"><a class="anchor" href="chap47.html#_issues_3"></a>Issues</h5>

</div>
<div class="sect4">
<h5 id="_version_history_4"><a class="anchor" href="chap47.html#_version_history_4"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2023-05-03 (Kevin Petit)</p>
<div class="ulist">
<ul>
<li>
<p>First KHR revision</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2019-02-05 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>NVIDIA vendor extension</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_copy_commands2"><a class="anchor" href="chap47.html#VK_KHR_copy_commands2"></a>VK_KHR_copy_commands2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_copy_commands2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>338</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.3</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_copy_commands2] @jackohound%0A*Here describe the issue or question you have about the VK_KHR_copy_commands2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jackohound</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_5"><a class="anchor" href="chap47.html#_other_extension_metadata_5"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-07-06</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_5"><a class="anchor" href="chap47.html#_description_5"></a>Description</h5>
<div class="paragraph">
<p>This extension provides extensible versions of the Vulkan buffer and image
copy commands.
The new commands are functionally identical to the core commands, except
that their copy parameters are specified using extensible structures that
can be used to pass extension-specific information.</p>
</div>
<div class="paragraph">
<p>The following extensible copy commands are introduced with this extension:
<a href="chap19.html#vkCmdCopyBuffer2KHR">vkCmdCopyBuffer2KHR</a>, <a href="chap19.html#vkCmdCopyImage2KHR">vkCmdCopyImage2KHR</a>,
<a href="chap19.html#vkCmdCopyBufferToImage2KHR">vkCmdCopyBufferToImage2KHR</a>, <a href="chap19.html#vkCmdCopyImageToBuffer2KHR">vkCmdCopyImageToBuffer2KHR</a>,
<a href="chap19.html#vkCmdBlitImage2KHR">vkCmdBlitImage2KHR</a>, and <a href="chap19.html#vkCmdResolveImage2KHR">vkCmdResolveImage2KHR</a>.
Each command contains an <code>*Info2KHR</code> structure parameter that includes
<code>sType</code>/<code>pNext</code> members.
Lower level structures describing each region to be copied are also extended
with <code>sType</code>/<code>pNext</code> members.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_8"><a class="anchor" href="chap47.html#_new_commands_8"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap19.html#vkCmdBlitImage2KHR">vkCmdBlitImage2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#vkCmdCopyBuffer2KHR">vkCmdCopyBuffer2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#vkCmdCopyBufferToImage2KHR">vkCmdCopyBufferToImage2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#vkCmdCopyImage2KHR">vkCmdCopyImage2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#vkCmdCopyImageToBuffer2KHR">vkCmdCopyImageToBuffer2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#vkCmdResolveImage2KHR">vkCmdResolveImage2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_8"><a class="anchor" href="chap47.html#_new_structures_8"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap19.html#VkBlitImageInfo2KHR">VkBlitImageInfo2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#VkBufferCopy2KHR">VkBufferCopy2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#VkBufferImageCopy2KHR">VkBufferImageCopy2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#VkCopyBufferInfo2KHR">VkCopyBufferInfo2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#VkCopyBufferToImageInfo2KHR">VkCopyBufferToImageInfo2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#VkCopyImageInfo2KHR">VkCopyImageInfo2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#VkCopyImageToBufferInfo2KHR">VkCopyImageToBufferInfo2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#VkImageBlit2KHR">VkImageBlit2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#VkImageCopy2KHR">VkImageCopy2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#VkImageResolve2KHR">VkImageResolve2KHR</a></p>
</li>
<li>
<p><a href="chap19.html#VkResolveImageInfo2KHR">VkResolveImageInfo2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_8"><a class="anchor" href="chap47.html#_new_enum_constants_8"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_COPY_COMMANDS_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_COPY_COMMANDS_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BLIT_IMAGE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_COPY_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_IMAGE_COPY_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_BUFFER_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_BUFFER_TO_IMAGE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_IMAGE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_IMAGE_TO_BUFFER_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_BLIT_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_COPY_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_RESOLVE_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RESOLVE_IMAGE_INFO_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_3"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_3"></a>Promotion to Vulkan 1.3</h5>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_5"><a class="anchor" href="chap47.html#_version_history_5"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-07-06 (Jeff Leger)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_deferred_host_operations"><a class="anchor" href="chap47.html#VK_KHR_deferred_host_operations"></a>VK_KHR_deferred_host_operations</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_deferred_host_operations</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>269</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Josh Barczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_deferred_host_operations] @jbarczak%0A*Here describe the issue or question you have about the VK_KHR_deferred_host_operations extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jbarczak</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_6"><a class="anchor" href="chap47.html#_other_extension_metadata_6"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-11-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Yuriy O’Donnell, Epic</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Contributors to VK_KHR_acceleration_structure,
VK_KHR_ray_tracing_pipeline</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_6"><a class="anchor" href="chap47.html#_description_6"></a>Description</h5>
<div class="paragraph">
<p>The <code><a href="chap47.html#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code> extension defines the
infrastructure and usage patterns for deferrable commands, but does not
specify any commands as deferrable.
This is left to additional dependent extensions.
Commands <strong class="purple">must</strong> not be deferred unless the deferral is specifically allowed
by another extension which depends on
<code><a href="chap47.html#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_object_types_4"><a class="anchor" href="chap47.html#_new_object_types_4"></a>New Object Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap31.html#VkDeferredOperationKHR">VkDeferredOperationKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_9"><a class="anchor" href="chap47.html#_new_commands_9"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap31.html#vkCreateDeferredOperationKHR">vkCreateDeferredOperationKHR</a></p>
</li>
<li>
<p><a href="chap31.html#vkDeferredOperationJoinKHR">vkDeferredOperationJoinKHR</a></p>
</li>
<li>
<p><a href="chap31.html#vkDestroyDeferredOperationKHR">vkDestroyDeferredOperationKHR</a></p>
</li>
<li>
<p><a href="chap31.html#vkGetDeferredOperationMaxConcurrencyKHR">vkGetDeferredOperationMaxConcurrencyKHR</a></p>
</li>
<li>
<p><a href="chap31.html#vkGetDeferredOperationResultKHR">vkGetDeferredOperationResultKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_9"><a class="anchor" href="chap47.html#_new_enum_constants_9"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DEFERRED_HOST_OPERATIONS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DEFERRED_HOST_OPERATIONS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap42.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_DEFERRED_OPERATION_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OPERATION_DEFERRED_KHR</code></p>
</li>
<li>
<p><code>VK_OPERATION_NOT_DEFERRED_KHR</code></p>
</li>
<li>
<p><code>VK_THREAD_DONE_KHR</code></p>
</li>
<li>
<p><code>VK_THREAD_IDLE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_code_examples"><a class="anchor" href="chap47.html#_code_examples"></a>Code Examples</h5>
<div class="paragraph">
<p>The following examples will illustrate the concept of deferrable operations
using a hypothetical example.
The command <code>vkDoSomethingExpensive</code> denotes a deferrable command.</p>
</div>
<div class="paragraph">
<p>The following example illustrates how a vulkan application might request
deferral of an expensive operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="cpp"><span class="c1">// create a deferred operation</span>
<span class="n">VkDeferredOperationKHR</span> <span class="n">hOp</span><span class="p">;</span>
<span class="n">VkResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">vkCreateDeferredOperationKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">pCallbacks</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">hOp</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">VK_SUCCESS</span><span class="p">);</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">vkDoSomethingExpensive</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">,</span> <span class="p">...);</span>
<span class="n">assert</span><span class="p">(</span> <span class="n">result</span> <span class="o">==</span> <span class="n">VK_OPERATION_DEFERRED_KHR</span> <span class="p">);</span>

<span class="c1">// operation was deferred.  Execute it asynchronously</span>
<span class="n">std</span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">launch</span><span class="p">(</span>
    <span class="p">[</span> <span class="n">hOp</span> <span class="p">]</span> <span class="p">(</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">vkDeferredOperationJoinKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">);</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">vkGetDeferredOperationResultKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">);</span>

        <span class="c1">// deferred operation is now complete.  'result' indicates success or failure</span>

        <span class="n">vkDestroyDeferredOperationKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">,</span> <span class="n">pCallbacks</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example illustrates extracting concurrency from a single
deferred operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="cpp"><span class="c1">// create a deferred operation</span>
<span class="n">VkDeferredOperationKHR</span> <span class="n">hOp</span><span class="p">;</span>
<span class="n">VkResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">vkCreateDeferredOperationKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">pCallbacks</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">hOp</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">VK_SUCCESS</span><span class="p">);</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">vkDoSomethingExpensive</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">,</span> <span class="p">...);</span>
<span class="n">assert</span><span class="p">(</span> <span class="n">result</span> <span class="o">==</span> <span class="n">VK_OPERATION_DEFERRED_KHR</span> <span class="p">);</span>

<span class="c1">// Query the maximum amount of concurrency and clamp to the desired maximum</span>
<span class="kt">uint32_t</span> <span class="n">numLaunches</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">vkGetDeferredOperationMaxConcurrencyKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">),</span> <span class="n">maxThreads</span><span class="p">);</span>

<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">joins</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="kt">uint32_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">numLaunches</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">joins</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">launch</span><span class="p">(</span>
    <span class="p">[</span> <span class="n">hOp</span> <span class="p">]</span> <span class="p">(</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">vkDeferredOperationJoinKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">);</span>
                <span class="c1">// in a job system, a return of VK_THREAD_IDLE_KHR should queue another</span>
                <span class="c1">// job, but it is not functionally required</span>
    <span class="p">}</span>
  <span class="p">));</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="o">&amp;</span><span class="n">f</span> <span class="o">:</span> <span class="n">joins</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">f</span><span class="p">.</span><span class="n">get</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">vkGetDeferredOperationResultKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">);</span>

<span class="c1">// deferred operation is now complete.  'result' indicates success or failure</span>

<span class="n">vkDestroyDeferredOperationKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">,</span> <span class="n">pCallbacks</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows a subroutine which guarantees completion of a
deferred operation, in the presence of multiple worker threads, and returns
the result of the operation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="cpp"><span class="n">VkResult</span> <span class="nf">FinishDeferredOperation</span><span class="p">(</span><span class="n">VkDeferredOperationKHR</span> <span class="n">hOp</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Attempt to join the operation until the implementation indicates that we should stop</span>

    <span class="n">VkResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">vkDeferredOperationJoinKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">);</span>
    <span class="k">while</span><span class="p">(</span> <span class="n">result</span> <span class="o">==</span> <span class="n">VK_THREAD_IDLE_KHR</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">yield</span><span class="p">();</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">vkDeferredOperationJoinKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">switch</span><span class="p">(</span> <span class="n">result</span> <span class="p">)</span>
    <span class="p">{</span>
    <span class="k">case</span> <span class="n">VK_SUCCESS</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="c1">// deferred operation has finished.  Query its result</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">vkGetDeferredOperationResultKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="n">VK_THREAD_DONE_KHR</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="c1">// deferred operation is being wrapped up by another thread</span>
            <span class="c1">//  wait for that thread to finish</span>
            <span class="k">do</span>
            <span class="p">{</span>
                <span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">yield</span><span class="p">();</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">vkGetDeferredOperationResultKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">hOp</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">while</span><span class="p">(</span> <span class="n">result</span> <span class="o">==</span> <span class="n">VK_NOT_READY</span> <span class="p">);</span>
        <span class="p">}</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="nl">default:</span>
        <span class="n">assert</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span> <span class="c1">// other conditions are illegal.</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_issues_4"><a class="anchor" href="chap47.html#_issues_4"></a>Issues</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should this extension have a VkPhysicalDevice*FeaturesKHR structure?</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This extension does not add any functionality on its own and requires a
dependent extension to actually enable functionality and thus there is no
value in adding a feature structure.
If necessary, any dependent extension could add a feature boolean if it
wanted to indicate that it is adding optional deferral support.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_6"><a class="anchor" href="chap47.html#_version_history_6"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-12-05 (Josh Barczak, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2020-03-06 (Daniel Koch, Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Add missing VK_OBJECT_TYPE_DEFERRED_OPERATION_KHR enum</p>
</li>
<li>
<p>fix sample code</p>
</li>
<li>
<p>Clarified deferred operation parameter lifetimes (#2018,!3647)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2020-05-15 (Josh Barczak)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify behavior of vkGetDeferredOperationMaxConcurrencyKHR, allowing
it to return 0 if the operation is complete (#2036,!3850)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2020-11-12 (Tobias Hector, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Remove VkDeferredOperationInfoKHR and change return value semantics
when deferred host operations are in use (#2067,3813)</p>
</li>
<li>
<p>clarify return value of vkGetDeferredOperationResultKHR (#2339,!4110)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_display"><a class="anchor" href="chap47.html#VK_KHR_display"></a>VK_KHR_display</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_display</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>23</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_display] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_display extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Norbert Nopper <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_display] @FslNopper%0A*Here describe the issue or question you have about the VK_KHR_display extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>FslNopper</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_7"><a class="anchor" href="chap47.html#_other_extension_metadata_7"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_7"><a class="anchor" href="chap47.html#_description_7"></a>Description</h5>
<div class="paragraph">
<p>This extension provides the API to enumerate displays and available modes on
a given device.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_object_types_5"><a class="anchor" href="chap47.html#_new_object_types_5"></a>New Object Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDisplayKHR">VkDisplayKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplayModeKHR">VkDisplayModeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_10"><a class="anchor" href="chap47.html#_new_commands_10"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkCreateDisplayModeKHR">vkCreateDisplayModeKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkCreateDisplayPlaneSurfaceKHR">vkCreateDisplayPlaneSurfaceKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetDisplayModePropertiesKHR">vkGetDisplayModePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetDisplayPlaneSupportedDisplaysKHR">vkGetDisplayPlaneSupportedDisplaysKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceDisplayPlanePropertiesKHR">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceDisplayPropertiesKHR">vkGetPhysicalDeviceDisplayPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_9"><a class="anchor" href="chap47.html#_new_structures_9"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDisplayModeCreateInfoKHR">VkDisplayModeCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplayModeParametersKHR">VkDisplayModeParametersKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplayModePropertiesKHR">VkDisplayModePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplayPlanePropertiesKHR">VkDisplayPlanePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplayPropertiesKHR">VkDisplayPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_7"><a class="anchor" href="chap47.html#_new_enums_7"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_6"><a class="anchor" href="chap47.html#_new_bitmasks_6"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDisplayModeCreateFlagsKHR">VkDisplayModeCreateFlagsKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplayPlaneAlphaFlagsKHR">VkDisplayPlaneAlphaFlagsKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplaySurfaceCreateFlagsKHR">VkDisplaySurfaceCreateFlagsKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkSurfaceTransformFlagsKHR">VkSurfaceTransformFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_10"><a class="anchor" href="chap47.html#_new_enum_constants_10"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DISPLAY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DISPLAY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap42.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_DISPLAY_KHR</code></p>
</li>
<li>
<p><code>VK_OBJECT_TYPE_DISPLAY_MODE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_5"><a class="anchor" href="chap47.html#_issues_5"></a>Issues</h5>
<div class="paragraph">
<p>1) Which properties of a mode should be fixed in the mode information vs.
settable in some other function when setting the mode? E.g., do we need to
double the size of the mode pool to include both stereo and non-stereo
modes? YUV and RGB scanout even if they both take RGB input images? BGR vs.
RGB input? etc.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Many modern displays support at most a handful of resolutions
and timings natively.
Other “modes” are expected to be supported using scaling hardware on the
display engine or GPU.
Other properties, such as rotation and mirroring should not require
duplicating hardware modes just to express all combinations.
Further, these properties may be implemented on a per-display or per-overlay
granularity.</p>
</div>
<div class="paragraph">
<p>To avoid the exponential growth of modes as mutable properties are added, as
was the case with <code>EGLConfig</code>/WGL pixel formats/<code>GLXFBConfig</code>, this
specification should separate out hardware properties and configurable state
into separate objects.
Modes and overlay planes will express capabilities of the hardware, while a
separate structure will allow applications to configure scaling, rotation,
mirroring, color keys, LUT values, alpha masks, etc.
for a given swapchain independent of the mode in use.
Constraints on these settings will be established by properties of the
immutable objects.</p>
</div>
<div class="paragraph">
<p>Note the resolution of this issue may affect issue 5 as well.</p>
</div>
<div class="paragraph">
<p>2) What properties of a display itself are useful?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This issue is too broad.
It was meant to prompt general discussion, but resolving this issue amounts
to completing this specification.
All interesting properties should be included.
The issue will remain as a placeholder since removing it would make it hard
to parse existing discussion notes that refer to issues by number.</p>
</div>
<div class="paragraph">
<p>3) How are multiple overlay planes within a display or mode enumerated?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: They are referred to by an index.
Each display will report the number of overlay planes it contains.</p>
</div>
<div class="paragraph">
<p>4) Should swapchains be created relative to a mode or a display?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: When using this extension, swapchains are created relative to a
mode and a plane.
The mode implies the display object the swapchain will present to.
If the specified mode is not the display’s current mode, the new mode will
be applied when the first image is presented to the swapchain, and the
default operating system mode, if any, will be restored when the swapchain
is destroyed.</p>
</div>
<div class="paragraph">
<p>5) Should users query generic ranges from displays and construct their own
modes explicitly using those constraints rather than querying a fixed set of
modes (Most monitors only have one real “mode” these days, even though
many support relatively arbitrary scaling, either on the monitor side or in
the GPU display engine, making “modes” something of a relic/compatibility
construct).</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Expose both.
Display information structures will expose a set of predefined modes, as
well as any attributes necessary to construct a customized mode.</p>
</div>
<div class="paragraph">
<p>6) Is it fine if we return the display and display mode handles in the
structure used to query their properties?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>7) Is there a possibility that not all displays of a device work with all of
the present queues of a device? If yes, how do we determine which displays
work with which present queues?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No known hardware has such limitations, but determining such
limitations is supported automatically using the existing
<code><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a></code> and <code><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code> query mechanisms.</p>
</div>
<div class="paragraph">
<p>8) Should all presentation need to be done relative to an overlay plane, or
can a display mode + display be used alone to target an output?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Require specifying a plane explicitly.</p>
</div>
<div class="paragraph">
<p>9) Should displays have an associated window system display, such as an
<code>HDC</code> or <code>Display*</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Displays are independent of any windowing system in use on the system.
Further, neither <code>HDC</code> nor <code>Display*</code> refer to a physical display
object.</p>
</div>
<div class="paragraph">
<p>10) Are displays queried from a physical GPU or from a device instance?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Developers prefer to query modes directly from the physical GPU
so they can use display information as an input to their device selection
algorithms prior to device creation.
This avoids the need to create placeholder device instances to enumerate
displays.</p>
</div>
<div class="paragraph">
<p>This preference must be weighed against the extra initialization that must
be done by driver vendors prior to device instance creation to support this
usage.</p>
</div>
<div class="paragraph">
<p>11) Should displays and/or modes be dispatchable objects? If functions are
to take displays, overlays, or modes as their first parameter, they must be
dispatchable objects as defined in Khronos bug 13529.
If they are not added to the list of dispatchable objects, functions
operating on them must take some higher-level object as their first
parameter.
There is no performance case against making them dispatchable objects, but
they would be the first extension objects to be dispatchable.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Do not make displays or modes dispatchable.
They will dispatch based on their associated physical device.</p>
</div>
<div class="paragraph">
<p>12) Should hardware cursor capabilities be exposed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Defer.
This could be a separate extension on top of the base WSI specs.</p>
</div>
<div class="paragraph">
<p>13) How many display objects should be enumerated for "tiled" display
devices? There are ongoing design discussions among lower-level display API
authors regarding how to expose displays if they are one physical display
device to an end user, but may internally be implemented as two side-by-side
displays using the same display engine (and sometimes cabling) resources as
two physically separate display devices.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Tiled displays will appear as a single display object in this
API.</p>
</div>
<div class="paragraph">
<p>14) Should the raw EDID data be included in the display information?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
A future extension could be added which reports the EDID if necessary.
This may be complicated by the outcome of issue 13.</p>
</div>
<div class="paragraph">
<p>15) Should min and max scaling factor capabilities of overlays be exposed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is exposed indirectly by allowing applications to query the min/max
position and extent of the source and destination regions from which image
contents are fetched by the display engine when using a particular mode and
overlay pair.</p>
</div>
<div class="paragraph">
<p>16) Should devices be able to expose planes that can be moved between
displays? If so, how?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications can determine which displays a given plane supports using
<a href="chap30.html#vkGetDisplayPlaneSupportedDisplaysKHR">vkGetDisplayPlaneSupportedDisplaysKHR</a>.</p>
</div>
<div class="paragraph">
<p>17) Should there be a way to destroy display modes? If so, does it support
destroying “built in” modes?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Not in this extension.
A future extension could add this functionality.</p>
</div>
<div class="paragraph">
<p>18) What should the lifetime of display and built-in display mode objects
be?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The lifetime of the instance.
These objects cannot be destroyed.
A future extension may be added to expose a way to destroy these objects
and/or support display hotplug.</p>
</div>
<div class="paragraph">
<p>19) Should persistent mode for smart panels be enabled/disabled at swapchain
creation time, or on a per-present basis.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: On a per-present basis.</p>
</div>
</div>
<div class="sect4">
<h5 id="_examples"><a class="anchor" href="chap47.html#_examples"></a>Examples</h5>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code>VK_KHR_display</code> and
<code><a href="chap47.html#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code> extensions was removed from the appendix
after revision 1.0.43.
The display enumeration example code was ported to the cube demo that is
shipped with the official Khronos SDK, and is being kept up-to-date in that
location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_7"><a class="anchor" href="chap47.html#_version_history_7"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-02-24 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-03-12 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Added overlay enumeration for a display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-03-17 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed typos and namings as discussed in Bugzilla.</p>
</li>
<li>
<p>Reordered and grouped functions.</p>
</li>
<li>
<p>Added functions to query count of display, mode and overlay.</p>
</li>
<li>
<p>Added native display handle, which may be needed on some platforms to
create a native Window.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-03-18 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Removed primary and virtualPostion members (see comment of James Jones
in Bugzilla).</p>
</li>
<li>
<p>Added native overlay handle to information structure.</p>
</li>
<li>
<p>Replaced , with ; in struct.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-03-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added WSI extension suffix to all items.</p>
</li>
<li>
<p>Made the whole API more “Vulkanish”.</p>
</li>
<li>
<p>Replaced all functions with a single vkGetDisplayInfoKHR function to
better match the rest of the API.</p>
</li>
<li>
<p>Made the display, display mode, and overlay objects be first class
objects, not subclasses of VkBaseObject as they do not support the
common functions anyways.</p>
</li>
<li>
<p>Renamed *Info structures to *Properties.</p>
</li>
<li>
<p>Removed overlayIndex field from VkOverlayProperties as there is an
implicit index already as a result of moving to a “Vulkanish” API.</p>
</li>
<li>
<p>Displays are not get through device, but through physical GPU to match
the rest of the Vulkan API.
Also this is something ISVs explicitly requested.</p>
</li>
<li>
<p>Added issue (6) and (7).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-03-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added an issues section</p>
</li>
<li>
<p>Added rotation and mirroring flags</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-03-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Combined the duplicate issues sections introduced in last change.</p>
</li>
<li>
<p>Added proposed resolutions to several issues.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-04-01 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased extension against Vulkan 0.82.0</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-04-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues (10) and (11).</p>
</li>
<li>
<p>Added more straw-man issue resolutions, and cleaned up the proposed
resolution for issue (4).</p>
</li>
<li>
<p>Updated the rotation and mirroring enums to have proper bitmask
semantics.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-04-15 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added proposed resolution for issues (1) and (2).</p>
</li>
<li>
<p>Added issues (12), (13), (14), and (15)</p>
</li>
<li>
<p>Removed pNativeHandle field from overlay structure.</p>
</li>
<li>
<p>Fixed small compilation errors in example code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-07-29 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rewrote the guts of the extension against the latest WSI swapchain
specifications and the latest Vulkan API.</p>
</li>
<li>
<p>Address overlay planes by their index rather than an object handle and
refer to them as “planes” rather than “overlays” to make it
slightly clearer that even a display with no “overlays” still has at
least one base “plane” that images can be displayed on.</p>
</li>
<li>
<p>Updated most of the issues.</p>
</li>
<li>
<p>Added an “extension type” section to the specification header.</p>
</li>
<li>
<p>Reused the VK_EXT_KHR_surface surface transform enumerations rather
than redefining them here.</p>
</li>
<li>
<p>Updated the example code to use the new semantics.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-08-21 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from “revision” to “version”, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added alpha flags enum.</p>
</li>
<li>
<p>Added premultiplied alpha support.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added description section to the spec.</p>
</li>
<li>
<p>Added issues 16 - 18.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Planes are now a property of the entire device rather than individual
displays.
This allows planes to be moved between multiple displays on devices
that support it.</p>
</li>
<li>
<p>Added a function to create a VkSurfaceKHR object describing a display
plane and mode to align with the new per-platform surface creation
conventions.</p>
</li>
<li>
<p>Removed detailed mode timing data.
It was agreed that the mode extents and refresh rate are sufficient for
current use cases.
Other information could be added back in as an extension if it is
needed in the future.</p>
</li>
<li>
<p>Added support for smart/persistent/buffered display devices.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_display to VK_KHR_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-11-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated example code to match revision 17 changes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to creation functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Added VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR, and use
VkDisplayPlaneAlphaFlagBitsKHR for
VkDisplayPlanePropertiesKHR::alphaMode instead of
VkDisplayPlaneAlphaFlagsKHR, since it only represents one mode.</p>
</li>
<li>
<p>Added reserved flags bitmask to VkDisplayPlanePropertiesKHR.</p>
</li>
<li>
<p>Use VkSurfaceTransformFlagBitsKHR instead of obsolete
VkSurfaceTransformKHR.</p>
</li>
<li>
<p>Renamed vkGetDisplayPlaneSupportedDisplaysKHR parameters for clarity.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-12-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added missing “planeIndex” parameter to
vkGetDisplayPlaneSupportedDisplaysKHR()</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2017-03-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Closed all remaining issues.
The specification and implementations have been shipping with the
proposed resolutions for some time now.</p>
</li>
<li>
<p>Removed the sample code and noted it has been integrated into the
official Vulkan SDK cube demo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_display_swapchain"><a class="anchor" href="chap47.html#VK_KHR_display_swapchain"></a>VK_KHR_display_swapchain</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_display_swapchain</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>10</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="chap47.html#VK_KHR_display">VK_KHR_display</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_display_swapchain] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_display_swapchain extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_8"><a class="anchor" href="chap47.html#_other_extension_metadata_8"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_8"><a class="anchor" href="chap47.html#_description_8"></a>Description</h5>
<div class="paragraph">
<p>This extension provides an API to create a swapchain directly on a device’s
display without any underlying window system.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_11"><a class="anchor" href="chap47.html#_new_commands_11"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_10"><a class="anchor" href="chap47.html#_new_structures_10"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap30.html#VkPresentInfoKHR">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_11"><a class="anchor" href="chap47.html#_new_enum_constants_11"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DISPLAY_SWAPCHAIN_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DISPLAY_SWAPCHAIN_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_6"><a class="anchor" href="chap47.html#_issues_6"></a>Issues</h5>
<div class="paragraph">
<p>1) Should swapchains sharing images each hold a reference to the images, or
should it be up to the application to destroy the swapchains and images in
an order that avoids the need for reference counting?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Take a reference.
The lifetime of presentable images is already complex enough.</p>
</div>
<div class="paragraph">
<p>2) Should the <code>srcRect</code> and <code>dstRect</code> parameters be specified as
part of the presentation command, or at swapchain creation time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: As part of the presentation command.
This allows moving and scaling the image on the screen without the need to
respecify the mode or create a new swapchain and presentable images.</p>
</div>
<div class="paragraph">
<p>3) Should <code>srcRect</code> and <code>dstRect</code> be specified as rects, or separate
offset/extent values?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: As rects.
Specifying them separately might make it easier for hardware to expose
support for one but not the other, but in such cases applications must just
take care to obey the reported capabilities and not use non-zero offsets or
extents that require scaling, as appropriate.</p>
</div>
<div class="paragraph">
<p>4) How can applications create multiple swapchains that use the same images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: By calling <a href="chap30.html#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a>.</p>
</div>
<div class="paragraph">
<p>An earlier resolution used <a href="chap30.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>, chaining multiple
<a href="chap30.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structures through <code>pNext</code>.
In order to allow each swapchain to also allow other extension structs, a
level of indirection was used: <a href="chap30.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>pNext</code>
pointed to a different structure, which had both <code>sType</code> and <code>pNext</code>
members for additional extensions, and also had a pointer to the next
<a href="chap30.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure.
The number of swapchains to be created could only be found by walking this
linked list of alternating structures, and the <code>pSwapchains</code> out
parameter was reinterpreted to be an array of <a href="chap30.html#VkSwapchainKHR">VkSwapchainKHR</a> handles.</p>
</div>
<div class="paragraph">
<p>Another option considered was a method to specify a “shared” swapchain
when creating a new swapchain, such that groups of swapchains using the same
images could be built up one at a time.
This was deemed unusable because drivers need to know all of the displays an
image will be used on when determining which internal formats and layouts to
use for that image.</p>
</div>
</div>
<div class="sect4">
<h5 id="_examples_2"><a class="anchor" href="chap47.html#_examples_2"></a>Examples</h5>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code><a href="chap47.html#VK_KHR_display">VK_KHR_display</a></code> and
<code>VK_KHR_display_swapchain</code> extensions was removed from the appendix after
revision 1.0.43.
The display swapchain creation example code was ported to the cube demo that
is shipped with the official Khronos SDK, and is being kept up-to-date in
that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_8"><a class="anchor" href="chap47.html#_version_history_8"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-07-29 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-08-21 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from “revision” to “version”, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Allow creating multiple swapchains that share the same images using a
single call to vkCreateSwapchainKHR().</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-09-10 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Removed underscores from SWAP_CHAIN in two enums.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added support for smart panels/buffered displays.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_display_swapchain to VK_KHR_display_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated sample code based on the changes to VK_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replaced VkDisplaySwapchainCreateInfoKHR with
vkCreateSharedSwapchainsKHR, changing resolution of issue #4.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2017-03-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Closed all remaining issues.
The specification and implementations have been shipping with the
proposed resolutions for some time now.</p>
</li>
<li>
<p>Removed the sample code and noted it has been integrated into the
official Vulkan SDK cube demo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_dynamic_rendering"><a class="anchor" href="chap47.html#VK_KHR_dynamic_rendering"></a>VK_KHR_dynamic_rendering</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_dynamic_rendering</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>45</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_depth_stencil_resolve">VK_KHR_depth_stencil_resolve</a><br>
and<br>
<a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_AMD_mixed_attachment_samples</p>
</li>
<li>
<p>Interacts with VK_EXT_fragment_density_map</p>
</li>
<li>
<p>Interacts with VK_KHR_fragment_shading_rate</p>
</li>
<li>
<p>Interacts with VK_NVX_multiview_per_view_attributes</p>
</li>
<li>
<p>Interacts with VK_NV_framebuffer_mixed_samples</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.3</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_dynamic_rendering] @tobski%0A*Here describe the issue or question you have about the VK_KHR_dynamic_rendering extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_dynamic_rendering.adoc">VK_KHR_dynamic_rendering</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_9"><a class="anchor" href="chap47.html#_other_extension_metadata_9"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-10-06</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Arseny Kapoulkine, Roblox</p>
</li>
<li>
<p>François Duranleau, Gameloft</p>
</li>
<li>
<p>Stuart Smith, AMD</p>
</li>
<li>
<p>Hai Nguyen, Google</p>
</li>
<li>
<p>Jean-François Roy, Google</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Piers Daniell, Nvidia</p>
</li>
<li>
<p>James Fitzpatrick, Imagination</p>
</li>
<li>
<p>Piotr Byszewski, Mobica</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_9"><a class="anchor" href="chap47.html#_description_9"></a>Description</h5>
<div class="paragraph">
<p>This extension allows applications to create single-pass render pass
instances without needing to create render pass objects or framebuffers.
Dynamic render passes can also span across multiple primary command buffers,
rather than relying on secondary command buffers.</p>
</div>
<div class="paragraph">
<p>This extension also incorporates <code>VK_ATTACHMENT_STORE_OP_NONE_KHR</code> from
<code><code>VK_QCOM_render_pass_store_ops</code></code>, enabling applications to avoid
unnecessary synchronization when an attachment is not written during a
render pass.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_12"><a class="anchor" href="chap47.html#_new_commands_12"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#vkCmdBeginRenderingKHR">vkCmdBeginRenderingKHR</a></p>
</li>
<li>
<p><a href="chap8.html#vkCmdEndRenderingKHR">vkCmdEndRenderingKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_11"><a class="anchor" href="chap47.html#_new_structures_11"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkRenderingAttachmentInfoKHR">VkRenderingAttachmentInfoKHR</a></p>
</li>
<li>
<p><a href="chap8.html#VkRenderingInfoKHR">VkRenderingInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap6.html#VkCommandBufferInheritanceInfo">VkCommandBufferInheritanceInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkCommandBufferInheritanceRenderingInfoKHR">VkCommandBufferInheritanceRenderingInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkPipelineRenderingCreateInfoKHR">VkPipelineRenderingCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceDynamicRenderingFeaturesKHR">VkPhysicalDeviceDynamicRenderingFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkRenderingFragmentShadingRateAttachmentInfoKHR">VkRenderingFragmentShadingRateAttachmentInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_8"><a class="anchor" href="chap47.html#_new_enums_8"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkRenderingFlagBitsKHR">VkRenderingFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_7"><a class="anchor" href="chap47.html#_new_bitmasks_7"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkRenderingFlagsKHR">VkRenderingFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_12"><a class="anchor" href="chap47.html#_new_enum_constants_12"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DYNAMIC_RENDERING_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DYNAMIC_RENDERING_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap8.html#VkAttachmentStoreOp">VkAttachmentStoreOp</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_STORE_OP_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_RENDERING_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DYNAMIC_RENDERING_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RENDERING_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDERING_ATTACHMENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDERING_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_RASTERIZATION_STATE_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_3_2"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_3_2"></a>Promotion to Vulkan 1.3</h5>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_9"><a class="anchor" href="chap47.html#_version_history_9"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-10-06 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_dynamic_rendering_local_read"><a class="anchor" href="chap47.html#VK_KHR_dynamic_rendering_local_read"></a>VK_KHR_dynamic_rendering_local_read</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_dynamic_rendering_local_read</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>233</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_dynamic_rendering_local_read] @tobski%0A*Here describe the issue or question you have about the VK_KHR_dynamic_rendering_local_read extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_dynamic_rendering_local_read.adoc">VK_KHR_dynamic_rendering_local_read</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_10"><a class="anchor" href="chap47.html#_other_extension_metadata_10"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-11-03</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Connor Abbott, Valve</p>
</li>
<li>
<p>Pan Gao, Huawei</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Alyssa Rosenzweig, Valve</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Piers Daniell, Nvidia</p>
</li>
<li>
<p>Stuart Smith, AMD</p>
</li>
<li>
<p>Daniel Story, Nintendo</p>
</li>
<li>
<p>James Fitzpatrick, Imagination</p>
</li>
<li>
<p>Piotr Byszewski, Mobica</p>
</li>
<li>
<p>Spencer Fricke, LunarG</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Michal Pietrasiuk, Intel</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm</p>
</li>
<li>
<p>Marty Johnson, Khronos</p>
</li>
<li>
<p>Wyvern Wang, Huawei</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Samuel (Sheng-Wen) Huang, MediaTek</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_10"><a class="anchor" href="chap47.html#_description_10"></a>Description</h5>
<div class="paragraph">
<p>This extension enables reads from attachments and resources written by
previous fragment shaders within a dynamic render pass.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_13"><a class="anchor" href="chap47.html#_new_commands_13"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap15.html#vkCmdSetRenderingAttachmentLocationsKHR">vkCmdSetRenderingAttachmentLocationsKHR</a></p>
</li>
<li>
<p><a href="chap15.html#vkCmdSetRenderingInputAttachmentIndicesKHR">vkCmdSetRenderingInputAttachmentIndicesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_12"><a class="anchor" href="chap47.html#_new_structures_12"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>, <a href="chap6.html#VkCommandBufferInheritanceInfo">VkCommandBufferInheritanceInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap15.html#VkRenderingAttachmentLocationInfoKHR">VkRenderingAttachmentLocationInfoKHR</a></p>
</li>
<li>
<p><a href="chap15.html#VkRenderingInputAttachmentIndexInfoKHR">VkRenderingInputAttachmentIndexInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceDynamicRenderingLocalReadFeaturesKHR">VkPhysicalDeviceDynamicRenderingLocalReadFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_13"><a class="anchor" href="chap47.html#_new_enum_constants_13"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DYNAMIC_RENDERING_LOCAL_READ_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DYNAMIC_RENDERING_LOCAL_READ_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_RENDERING_LOCAL_READ_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DYNAMIC_RENDERING_LOCAL_READ_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDERING_ATTACHMENT_LOCATION_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDERING_INPUT_ATTACHMENT_INDEX_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_10"><a class="anchor" href="chap47.html#_version_history_10"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-11-03 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence_fd"><a class="anchor" href="chap47.html#VK_KHR_external_fence_fd"></a>VK_KHR_external_fence_fd</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>116</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_external_fence">VK_KHR_external_fence</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_fence_fd] @critsec%0A*Here describe the issue or question you have about the VK_KHR_external_fence_fd extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_11"><a class="anchor" href="chap47.html#_other_extension_metadata_11"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="chap47.html#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_11"><a class="anchor" href="chap47.html#_description_11"></a>Description</h5>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to export fence payload to and import
fence payload from POSIX file descriptors.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_14"><a class="anchor" href="chap47.html#_new_commands_14"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#vkGetFenceFdKHR">vkGetFenceFdKHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkImportFenceFdKHR">vkImportFenceFdKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_13"><a class="anchor" href="chap47.html#_new_structures_13"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkFenceGetFdInfoKHR">VkFenceGetFdInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkImportFenceFdInfoKHR">VkImportFenceFdInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_14"><a class="anchor" href="chap47.html#_new_enum_constants_14"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_FD_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_FD_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FENCE_GET_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_FENCE_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_7"><a class="anchor" href="chap47.html#_issues_7"></a>Issues</h5>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="chap47.html#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></code>.
That extension’s issues apply equally to this extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_11"><a class="anchor" href="chap47.html#_version_history_11"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence_win32"><a class="anchor" href="chap47.html#VK_KHR_external_fence_win32"></a>VK_KHR_external_fence_win32</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>115</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_external_fence">VK_KHR_external_fence</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_fence_win32] @critsec%0A*Here describe the issue or question you have about the VK_KHR_external_fence_win32 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_12"><a class="anchor" href="chap47.html#_other_extension_metadata_12"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="chap47.html#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_12"><a class="anchor" href="chap47.html#_description_12"></a>Description</h5>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to export fence payload to and import
fence payload from Windows handles.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_15"><a class="anchor" href="chap47.html#_new_commands_15"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#vkGetFenceWin32HandleKHR">vkGetFenceWin32HandleKHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkImportFenceWin32HandleKHR">vkImportFenceWin32HandleKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_14"><a class="anchor" href="chap47.html#_new_structures_14"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkFenceGetWin32HandleInfoKHR">VkFenceGetWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkImportFenceWin32HandleInfoKHR">VkImportFenceWin32HandleInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkFenceCreateInfo">VkFenceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkExportFenceWin32HandleInfoKHR">VkExportFenceWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_15"><a class="anchor" href="chap47.html#_new_enum_constants_15"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_WIN32_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_WIN32_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_FENCE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FENCE_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_FENCE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_8"><a class="anchor" href="chap47.html#_issues_8"></a>Issues</h5>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="chap47.html#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code>.
That extension’s issues apply equally to this extension.</p>
</div>
<div class="paragraph">
<p>1) Should D3D12 fence handle types be supported, like they are for
semaphores?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Doing so would require extending the fence signal and wait operations to
provide values to signal / wait for, like <code>VkD3D12FenceSubmitInfoKHR</code>
does.
A D3D12 fence can be signaled by importing it into a <a href="chap7.html#VkSemaphore">VkSemaphore</a>
instead of a <a href="chap7.html#VkFence">VkFence</a>, and applications can check status or wait on the
D3D12 fence using non-Vulkan APIs.
The convenience of being able to do these operations on <code>VkFence</code>
objects does not justify the extra API complexity.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_12"><a class="anchor" href="chap47.html#_version_history_12"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory_fd"><a class="anchor" href="chap47.html#VK_KHR_external_memory_fd"></a>VK_KHR_external_memory_fd</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>75</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_external_memory">VK_KHR_external_memory</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_memory_fd] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_memory_fd extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_13"><a class="anchor" href="chap47.html#_other_extension_metadata_13"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_13"><a class="anchor" href="chap47.html#_description_13"></a>Description</h5>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export POSIX file descriptor
handles from Vulkan memory objects and to import Vulkan memory objects from
POSIX file descriptor handles exported from other Vulkan memory objects or
from similar resources in other APIs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_16"><a class="anchor" href="chap47.html#_new_commands_16"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#vkGetMemoryFdKHR">vkGetMemoryFdKHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkGetMemoryFdPropertiesKHR">vkGetMemoryFdPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_15"><a class="anchor" href="chap47.html#_new_structures_15"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkMemoryFdPropertiesKHR">VkMemoryFdPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkMemoryGetFdInfoKHR">VkMemoryGetFdInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap11.html#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkImportMemoryFdInfoKHR">VkImportMemoryFdInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_16"><a class="anchor" href="chap47.html#_new_enum_constants_16"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_FD_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_FD_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_FD_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_9"><a class="anchor" href="chap47.html#_issues_9"></a>Issues</h5>
<div class="paragraph">
<p>1) Does the application need to close the file descriptor returned by
<a href="chap11.html#vkGetMemoryFdKHR">vkGetMemoryFdKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to a driver instance to import
the memory.
A successful get call transfers ownership of the file descriptor to the
application, and a successful import transfers it back to the driver.
Destroying the original memory object will not close the file descriptor or
remove its reference to the underlying memory resource associated with it.</p>
</div>
<div class="paragraph">
<p>2) Do drivers ever need to expose multiple file descriptors per memory
object?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This would indicate there are actually multiple memory objects, rather than
a single memory object.</p>
</div>
<div class="paragraph">
<p>3) How should the valid size and memory type for POSIX file descriptor
memory handles created outside of Vulkan be specified?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The valid memory types are queried directly from the external
handle.
The size will be specified by future extensions that introduce such external
memory handle types.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_13"><a class="anchor" href="chap47.html#_version_history_13"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory_win32"><a class="anchor" href="chap47.html#VK_KHR_external_memory_win32"></a>VK_KHR_external_memory_win32</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>74</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_external_memory">VK_KHR_external_memory</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_memory_win32] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_memory_win32 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_14"><a class="anchor" href="chap47.html#_other_extension_metadata_14"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_14"><a class="anchor" href="chap47.html#_description_14"></a>Description</h5>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export Windows handles from Vulkan
memory objects and to import Vulkan memory objects from Windows handles
exported from other Vulkan memory objects or from similar resources in other
APIs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_17"><a class="anchor" href="chap47.html#_new_commands_17"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#vkGetMemoryWin32HandleKHR">vkGetMemoryWin32HandleKHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkGetMemoryWin32HandlePropertiesKHR">vkGetMemoryWin32HandlePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_16"><a class="anchor" href="chap47.html#_new_structures_16"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkMemoryGetWin32HandleInfoKHR">VkMemoryGetWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkMemoryWin32HandlePropertiesKHR">VkMemoryWin32HandlePropertiesKHR</a></p>
</li>
<li>
<p>Extending <a href="chap11.html#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkExportMemoryWin32HandleInfoKHR">VkExportMemoryWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImportMemoryWin32HandleInfoKHR">VkImportMemoryWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_17"><a class="anchor" href="chap47.html#_new_enum_constants_17"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_WIN32_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_WIN32_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_WIN32_HANDLE_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_10"><a class="anchor" href="chap47.html#_issues_10"></a>Issues</h5>
<div class="paragraph">
<p>1) Do applications need to call <code>CloseHandle</code>() on the values returned
from <a href="chap11.html#vkGetMemoryWin32HandleKHR">vkGetMemoryWin32HandleKHR</a> when <code>handleType</code> is
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to another driver instance to
import the object.
A successful get call transfers ownership of the handle to the application.
Destroying the memory object will not destroy the handle or the handle’s
reference to the underlying memory resource.</p>
</div>
<div class="paragraph">
<p>2) Should the language regarding KMT/Windows 7 handles be moved to a
separate extension so that it can be deprecated over time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Support for them can be deprecated by drivers if they choose, by no longer
returning them in the supported handle types of the instance level queries.</p>
</div>
<div class="paragraph">
<p>3) How should the valid size and memory type for windows memory handles
created outside of Vulkan be specified?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The valid memory types are queried directly from the external
handle.
The size is determined by the associated image or buffer memory requirements
for external handle types that require dedicated allocations, and by the
size specified when creating the object from which the handle was exported
for other external handle types.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_14"><a class="anchor" href="chap47.html#_version_history_14"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore_fd"><a class="anchor" href="chap47.html#VK_KHR_external_semaphore_fd"></a>VK_KHR_external_semaphore_fd</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>80</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_semaphore_fd] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_semaphore_fd extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_15"><a class="anchor" href="chap47.html#_other_extension_metadata_15"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_15"><a class="anchor" href="chap47.html#_description_15"></a>Description</h5>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to export semaphore payload to and
import semaphore payload from POSIX file descriptors.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_18"><a class="anchor" href="chap47.html#_new_commands_18"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#vkGetSemaphoreFdKHR">vkGetSemaphoreFdKHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkImportSemaphoreFdKHR">vkImportSemaphoreFdKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_17"><a class="anchor" href="chap47.html#_new_structures_17"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkImportSemaphoreFdInfoKHR">VkImportSemaphoreFdInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSemaphoreGetFdInfoKHR">VkSemaphoreGetFdInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_18"><a class="anchor" href="chap47.html#_new_enum_constants_18"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_FD_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_FD_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_SEMAPHORE_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_GET_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_11"><a class="anchor" href="chap47.html#_issues_11"></a>Issues</h5>
<div class="paragraph">
<p>1) Does the application need to close the file descriptor returned by
<a href="chap7.html#vkGetSemaphoreFdKHR">vkGetSemaphoreFdKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to a driver instance to import
the semaphore.
A successful get call transfers ownership of the file descriptor to the
application, and a successful import transfers it back to the driver.
Destroying the original semaphore object will not close the file descriptor
or remove its reference to the underlying semaphore resource associated with
it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_15"><a class="anchor" href="chap47.html#_version_history_15"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore_win32"><a class="anchor" href="chap47.html#VK_KHR_external_semaphore_win32"></a>VK_KHR_external_semaphore_win32</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>79</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_semaphore_win32] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_semaphore_win32 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_16"><a class="anchor" href="chap47.html#_other_extension_metadata_16"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_16"><a class="anchor" href="chap47.html#_description_16"></a>Description</h5>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to export semaphore payload to and
import semaphore payload from Windows handles.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_19"><a class="anchor" href="chap47.html#_new_commands_19"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#vkGetSemaphoreWin32HandleKHR">vkGetSemaphoreWin32HandleKHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkImportSemaphoreWin32HandleKHR">vkImportSemaphoreWin32HandleKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_18"><a class="anchor" href="chap47.html#_new_structures_18"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkImportSemaphoreWin32HandleInfoKHR">VkImportSemaphoreWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSemaphoreGetWin32HandleInfoKHR">VkSemaphoreGetWin32HandleInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkSemaphoreCreateInfo">VkSemaphoreCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkExportSemaphoreWin32HandleInfoKHR">VkExportSemaphoreWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkSubmitInfo">VkSubmitInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkD3D12FenceSubmitInfoKHR">VkD3D12FenceSubmitInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_19"><a class="anchor" href="chap47.html#_new_enum_constants_19"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_WIN32_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_WIN32_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_D3D12_FENCE_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_SEMAPHORE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_SEMAPHORE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_12"><a class="anchor" href="chap47.html#_issues_12"></a>Issues</h5>
<div class="paragraph">
<p>1) Do applications need to call <code>CloseHandle</code>() on the values returned
from <a href="chap7.html#vkGetSemaphoreWin32HandleKHR">vkGetSemaphoreWin32HandleKHR</a> when <code>handleType</code> is
<code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to another driver instance to
import the object.
A successful get call transfers ownership of the handle to the application.
Destroying the semaphore object will not destroy the handle or the handle’s
reference to the underlying semaphore resource.</p>
</div>
<div class="paragraph">
<p>2) Should the language regarding KMT/Windows 7 handles be moved to a
separate extension so that it can be deprecated over time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Support for them can be deprecated by drivers if they choose, by no longer
returning them in the supported handle types of the instance level queries.</p>
</div>
<div class="paragraph">
<p>3) Should applications be allowed to specify additional object attributes
for shared handles?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications will be allowed to provide similar attributes to those they
would to any other handle creation API.</p>
</div>
<div class="paragraph">
<p>4) How do applications communicate the desired fence values to use with
<code>D3D12_FENCE</code>-based Vulkan semaphores?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: There are a couple of options.
The values for the signaled and reset states could be communicated up front
when creating the object and remain static for the life of the Vulkan
semaphore, or they could be specified using auxiliary structures when
submitting semaphore signal and wait operations, similar to what is done
with the keyed mutex extensions.
The latter is more flexible and consistent with the keyed mutex usage, but
the former is a much simpler API.</p>
</div>
<div class="paragraph">
<p>Since Vulkan tends to favor flexibility and consistency over simplicity, a
new structure specifying D3D12 fence acquire and release values is added to
the <a href="chap6.html#vkQueueSubmit">vkQueueSubmit</a> function.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_16"><a class="anchor" href="chap47.html#_version_history_16"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_format_feature_flags2"><a class="anchor" href="chap47.html#VK_KHR_format_feature_flags2"></a>VK_KHR_format_feature_flags2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_format_feature_flags2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>361</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.3</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lionel Landwerlin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_format_feature_flags2] @llandwerlin%0A*Here describe the issue or question you have about the VK_KHR_format_feature_flags2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>llandwerlin</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_17"><a class="anchor" href="chap47.html#_other_extension_metadata_17"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-07-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Spencer Fricke, Samsung Electronics</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_17"><a class="anchor" href="chap47.html#_description_17"></a>Description</h5>
<div class="paragraph">
<p>This extension adds a new <a href="chap40.html#VkFormatFeatureFlagBits2KHR">VkFormatFeatureFlagBits2KHR</a> 64bits format
feature flag type to extend the existing <a href="chap40.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a> which
is limited to 31 flags.
At the time of this writing 29 bits of <a href="chap40.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a> are
already used.</p>
</div>
<div class="paragraph">
<p>Because <a href="chap40.html#VkFormatProperties2">VkFormatProperties2</a> is already defined to extend the Vulkan
1.0 <a href="chap40.html#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> entry point, this extension
defines a new <a href="chap40.html#VkFormatProperties3KHR">VkFormatProperties3KHR</a> to extend the
<a href="chap40.html#VkFormatProperties">VkFormatProperties</a>.</p>
</div>
<div class="paragraph">
<p>On top of replicating all the bits from <a href="chap40.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>,
<a href="chap40.html#VkFormatFeatureFlagBits2KHR">VkFormatFeatureFlagBits2KHR</a> adds the following bits :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT_KHR</code> and
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT_KHR</code> indicate
that an implementation supports respectively reading and writing a given
<a href="chap40.html#VkFormat">VkFormat</a> through storage operations without specifying the format
in the shader.</p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT_KHR</code>
indicates that an implementation supports depth comparison performed by
<code>OpImage*Dref*</code> instructions on a given <a href="chap40.html#VkFormat">VkFormat</a>.
Previously the result of executing a <code>OpImage*Dref*</code> instruction on
an image view, where the <code>format</code> was not one of the depth/stencil
formats with a depth component, was undefined.
This bit clarifies on which formats such instructions can be used.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prior to version 2 of this extension, implementations exposing the
<a href="chap38.html#features-shaderStorageImageReadWithoutFormat"><code>shaderStorageImageReadWithoutFormat</code></a> and
<a href="chap38.html#features-shaderStorageImageWriteWithoutFormat"><code>shaderStorageImageWriteWithoutFormat</code></a> features may not report
<code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT_KHR</code> and
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT_KHR</code> in
<a href="chap40.html#VkFormatProperties3KHR">VkFormatProperties3KHR</a>::<code>bufferFeatures</code>.
Despite this, buffer reads/writes are supported as intended by the original
features.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_19"><a class="anchor" href="chap47.html#_new_structures_19"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap40.html#VkFormatProperties2">VkFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap40.html#VkFormatProperties3KHR">VkFormatProperties3KHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_9"><a class="anchor" href="chap47.html#_new_enums_9"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap40.html#VkFormatFeatureFlagBits2KHR">VkFormatFeatureFlagBits2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_8"><a class="anchor" href="chap47.html#_new_bitmasks_8"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap40.html#VkFormatFeatureFlags2KHR">VkFormatFeatureFlags2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_20"><a class="anchor" href="chap47.html#_new_enum_constants_20"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_FORMAT_FEATURE_FLAGS_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_FORMAT_FEATURE_FLAGS_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FORMAT_PROPERTIES_3_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_3_3"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_3_3"></a>Promotion to Vulkan 1.3</h5>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_17"><a class="anchor" href="chap47.html#_version_history_17"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2022-07-20 (Lionel Landwerlin)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify that
VK_FORMAT_FEATURE_2_STORAGE_(READ|WRITE)_WITHOUT_FORMAT_BIT also apply
to buffer views.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2020-07-21 (Lionel Landwerlin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_fragment_shader_barycentric"><a class="anchor" href="chap47.html#VK_KHR_fragment_shader_barycentric"></a>VK_KHR_fragment_shader_barycentric</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_fragment_shader_barycentric</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>323</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_fragment_shader_barycentric.html">SPV_KHR_fragment_shader_barycentric</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stu Smith</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_fragment_shader_barycentric.adoc">VK_KHR_fragment_shader_barycentric</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_18"><a class="anchor" href="chap47.html#_other_extension_metadata_18"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-03-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_fragment_shader_barycentric.txt"><code>GL_EXT_fragment_shader_barycentric</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Contributors to the VK_NV_fragment_shader_barycentric specification</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_18"><a class="anchor" href="chap47.html#_description_18"></a>Description</h5>
<div class="paragraph">
<p>This extension is based on the <code><code>VK_NV_fragment_shader_barycentric</code></code>
extension, and adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_fragment_shader_barycentric.html"><code>SPV_KHR_fragment_shader_barycentric</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The extension provides access to three additional fragment shader variable
decorations in SPIR-V:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PerVertexKHR</code>, which indicates that a fragment shader input will not
have interpolated values, but instead must be accessed with an extra
array index that identifies one of the vertices of the primitive
producing the fragment</p>
</li>
<li>
<p><code>BaryCoordKHR</code>, which indicates that the variable is a
three-component floating-point vector holding barycentric weights for
the fragment produced using perspective interpolation</p>
</li>
<li>
<p><code>BaryCoordNoPerspKHR</code>, which indicates that the variable is a
three-component floating-point vector holding barycentric weights for
the fragment produced using linear interpolation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following variables from
<code>GL_EXT_fragment_shader_barycentric</code> map to these SPIR-V built-in
decorations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in vec3 gl_BaryCoordEXT;</code> → <code>BaryCoordKHR</code></p>
</li>
<li>
<p><code>in vec3 gl_BaryCoordNoPerspEXT;</code> → <code>BaryCoordNoPerspKHR</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>GLSL variables declared using the <code>pervertexEXT</code> GLSL qualifier are
expected to be decorated with <code>PerVertexKHR</code> in SPIR-V.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_20"><a class="anchor" href="chap47.html#_new_structures_20"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceFragmentShaderBarycentricFeaturesKHR">VkPhysicalDeviceFragmentShaderBarycentricFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceFragmentShaderBarycentricPropertiesKHR">VkPhysicalDeviceFragmentShaderBarycentricPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_21"><a class="anchor" href="chap47.html#_new_enum_constants_21"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_FRAGMENT_SHADER_BARYCENTRIC_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_FRAGMENT_SHADER_BARYCENTRIC_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADER_BARYCENTRIC_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADER_BARYCENTRIC_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_built_in_variables"><a class="anchor" href="chap47.html#_new_built_in_variables"></a>New Built-In Variables</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-barycoordkhr"><code>BaryCoordKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-barycoordnoperspkhr"><code>BaryCoordNoPerspKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_decorations"><a class="anchor" href="chap47.html#_new_spir_v_decorations"></a>New SPIR-V Decorations</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#shaders-interpolation-decorations-pervertexkhr"><code>PerVertexKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_2"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_2"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-FragmentBarycentricKHR"><code>FragmentBarycentricKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_13"><a class="anchor" href="chap47.html#_issues_13"></a>Issues</h5>
<div class="paragraph">
<p>1) What are the interactions with MSAA and how are <code>BaryCoordKHR</code> and
<code>BaryCoordNoPerspKHR</code> interpolated?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The inputs decorated with <code>BaryCoordKHR</code> or
<code>BaryCoordNoPerspKHR</code> <strong class="purple">may</strong> also be decorated with the <code>Centroid</code> or
<code>Sample</code> qualifiers to specify interpolation, like any other fragment
shader input.
If <a href="chap38.html#features-shaderSampleRateInterpolationFunctions"><code>shaderSampleRateInterpolationFunctions</code></a> is enabled, the extended
instructions InterpolateAtCentroid, InterpolateAtOffset, and
InterpolateAtSample from the GLSL.std.450 <strong class="purple">may</strong> also be used with inputs
decorated with <code>BaryCoordKHR</code> or <code>BaryCoordNoPerspKHR</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_18"><a class="anchor" href="chap47.html#_version_history_18"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-03-10 (Stu Smith)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_fragment_shading_rate"><a class="anchor" href="chap47.html#VK_KHR_fragment_shading_rate"></a>VK_KHR_fragment_shading_rate</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_fragment_shading_rate</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>227</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap47.html#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; or<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap46.html#versions-1.2">Version 1.2</a><br>
and<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; or<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_KHR_format_feature_flags2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_fragment_shading_rate.html">SPV_KHR_fragment_shading_rate</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_fragment_shading_rate] @tobski%0A*Here describe the issue or question you have about the VK_KHR_fragment_shading_rate extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_fragment_shading_rate.adoc">VK_KHR_fragment_shading_rate</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_19"><a class="anchor" href="chap47.html#_other_extension_metadata_19"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-09-30</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_fragment_shading_rate.txt"><code>GL_EXT_fragment_shading_rate</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Guennadi Riguer, AMD</p>
</li>
<li>
<p>Matthaeus Chajdas, AMD</p>
</li>
<li>
<p>Pat Brown, Nvidia</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Arseny Kapoulkine, Roblox</p>
</li>
<li>
<p>Contributors to the VK_NV_shading_rate_image specification</p>
</li>
<li>
<p>Contributors to the VK_EXT_fragment_density_map specification</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_19"><a class="anchor" href="chap47.html#_description_19"></a>Description</h5>
<div class="paragraph">
<p>This extension adds the ability to change the rate at which fragments are
shaded.
Rather than the usual single fragment invocation for each pixel covered by a
primitive, multiple pixels can be shaded by a single fragment shader
invocation.</p>
</div>
<div class="paragraph">
<p>Up to three methods are available to the application to change the fragment
shading rate:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#primsrast-fragment-shading-rate-pipeline">Pipeline Fragment Shading Rate</a>, which allows the
specification of a rate per-draw.</p>
</li>
<li>
<p><a href="chap25.html#primsrast-fragment-shading-rate-primitive">Primitive Fragment Shading Rate</a>, which allows the
specification of a rate per primitive, specified during shading.</p>
</li>
<li>
<p><a href="chap25.html#primsrast-fragment-shading-rate-attachment">Attachment Fragment Shading Rate</a>, which allows the
specification of a rate per-region of the framebuffer, specified in a
specialized image attachment.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, these rates can all be specified and combined in order to
adjust the overall detail in the image at each point.</p>
</div>
<div class="paragraph">
<p>This functionality can be used to focus shading efforts where higher levels
of detail are needed in some parts of a scene compared to others.
This can be particularly useful in high resolution rendering, or for XR
contexts.</p>
</div>
<div class="paragraph">
<p>This extension also adds support for the <code>SPV_KHR_fragment_shading_rate</code>
extension which enables setting the
<a href="chap25.html#primsrast-fragment-shading-rate-primitive">primitive fragment shading
rate</a>, and allows querying the final shading rate from a fragment shader.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_20"><a class="anchor" href="chap47.html#_new_commands_20"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#vkCmdSetFragmentShadingRateKHR">vkCmdSetFragmentShadingRateKHR</a></p>
</li>
<li>
<p><a href="chap25.html#vkGetPhysicalDeviceFragmentShadingRatesKHR">vkGetPhysicalDeviceFragmentShadingRatesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_21"><a class="anchor" href="chap47.html#_new_structures_21"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkPhysicalDeviceFragmentShadingRateKHR">VkPhysicalDeviceFragmentShadingRateKHR</a></p>
</li>
<li>
<p>Extending <a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkPipelineFragmentShadingRateStateCreateInfoKHR">VkPipelineFragmentShadingRateStateCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceFragmentShadingRateFeaturesKHR">VkPhysicalDeviceFragmentShadingRateFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceFragmentShadingRatePropertiesKHR">VkPhysicalDeviceFragmentShadingRatePropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap8.html#VkSubpassDescription2">VkSubpassDescription2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkFragmentShadingRateAttachmentInfoKHR">VkFragmentShadingRateAttachmentInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_10"><a class="anchor" href="chap47.html#_new_enums_10"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkFragmentShadingRateCombinerOpKHR">VkFragmentShadingRateCombinerOpKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_22"><a class="anchor" href="chap47.html#_new_enum_constants_22"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_FRAGMENT_SHADING_RATE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_FRAGMENT_SHADING_RATE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkAccessFlagBits">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_FRAGMENT_SHADING_RATE_ATTACHMENT_READ_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkDynamicState">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap40.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_FRAGMENT_SHADING_RATE_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FRAGMENT_SHADING_RATE_ATTACHMENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADING_RATE_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADING_RATE_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADING_RATE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_FRAGMENT_SHADING_RATE_STATE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap40.html#VkFormatFeatureFlagBits2">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_19"><a class="anchor" href="chap47.html#_version_history_19"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-05-06 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2021-09-30 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add interaction with <code><a href="chap47.html#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code> to <code>vk.xml</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_display_properties2"><a class="anchor" href="chap47.html#VK_KHR_get_display_properties2"></a>VK_KHR_get_display_properties2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_display_properties2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>122</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_display">VK_KHR_display</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_get_display_properties2] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_get_display_properties2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_20"><a class="anchor" href="chap47.html#_other_extension_metadata_20"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_20"><a class="anchor" href="chap47.html#_description_20"></a>Description</h5>
<div class="paragraph">
<p>This extension provides new queries for device display properties and
capabilities that can be easily extended by other extensions, without
introducing any further queries.
This extension can be considered the <code><a href="chap47.html#VK_KHR_display">VK_KHR_display</a></code> equivalent of
the <code><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code> extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_21"><a class="anchor" href="chap47.html#_new_commands_21"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkGetDisplayModeProperties2KHR">vkGetDisplayModeProperties2KHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetDisplayPlaneCapabilities2KHR">vkGetDisplayPlaneCapabilities2KHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceDisplayPlaneProperties2KHR">vkGetPhysicalDeviceDisplayPlaneProperties2KHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceDisplayProperties2KHR">vkGetPhysicalDeviceDisplayProperties2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_22"><a class="anchor" href="chap47.html#_new_structures_22"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDisplayModeProperties2KHR">VkDisplayModeProperties2KHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplayPlaneCapabilities2KHR">VkDisplayPlaneCapabilities2KHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplayPlaneInfo2KHR">VkDisplayPlaneInfo2KHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplayPlaneProperties2KHR">VkDisplayPlaneProperties2KHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDisplayProperties2KHR">VkDisplayProperties2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_23"><a class="anchor" href="chap47.html#_new_enum_constants_23"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_GET_DISPLAY_PROPERTIES_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_GET_DISPLAY_PROPERTIES_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_MODE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_CAPABILITIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PROPERTIES_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_14"><a class="anchor" href="chap47.html#_issues_14"></a>Issues</h5>
<div class="paragraph">
<p>1) What should this extension be named?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>VK_KHR_get_display_properties2</code>.
Other alternatives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_display2</code></p>
</li>
<li>
<p>One extension, combined with <code>VK_KHR_surface_capabilites2</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>2) Should extensible input structs be added for these new functions:</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceDisplayProperties2KHR">vkGetPhysicalDeviceDisplayProperties2KHR</a>: No.
The only current input is a <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a>.
Other inputs would not make sense.</p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceDisplayPlaneProperties2KHR">vkGetPhysicalDeviceDisplayPlaneProperties2KHR</a>: No.
The only current input is a <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a>.
Other inputs would not make sense.</p>
</li>
<li>
<p><a href="chap30.html#vkGetDisplayModeProperties2KHR">vkGetDisplayModeProperties2KHR</a>: No.
The only current inputs are a <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> and a
<a href="chap30.html#VkDisplayModeKHR">VkDisplayModeKHR</a>.
Other inputs would not make sense.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>3) Should additional display query functions be extended?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkGetDisplayPlaneSupportedDisplaysKHR">vkGetDisplayPlaneSupportedDisplaysKHR</a>: No.
Extensions should instead extend
<a href="chap30.html#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a>().</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_20"><a class="anchor" href="chap47.html#_version_history_20"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_surface_capabilities2"><a class="anchor" href="chap47.html#VK_KHR_get_surface_capabilities2"></a>VK_KHR_get_surface_capabilities2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_surface_capabilities2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>120</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_get_surface_capabilities2] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_get_surface_capabilities2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_21"><a class="anchor" href="chap47.html#_other_extension_metadata_21"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-27</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_21"><a class="anchor" href="chap47.html#_description_21"></a>Description</h5>
<div class="paragraph">
<p>This extension provides new queries for device surface capabilities that can
be easily extended by other extensions, without introducing any further
queries.
This extension can be considered the <code><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a></code> equivalent of
the <code><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code> extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_22"><a class="anchor" href="chap47.html#_new_commands_22"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceSurfaceFormats2KHR">vkGetPhysicalDeviceSurfaceFormats2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_23"><a class="anchor" href="chap47.html#_new_structures_23"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkSurfaceFormat2KHR">VkSurfaceFormat2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_24"><a class="anchor" href="chap47.html#_new_enum_constants_24"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_GET_SURFACE_CAPABILITIES_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_GET_SURFACE_CAPABILITIES_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SURFACE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_FORMAT_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_15"><a class="anchor" href="chap47.html#_issues_15"></a>Issues</h5>
<div class="paragraph">
<p>1) What should this extension be named?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>VK_KHR_get_surface_capabilities2</code>.
Other alternatives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_surface2</code></p>
</li>
<li>
<p>One extension, combining a separate display-specific query extension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>2) Should additional WSI query functions be extended?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>: Yes.
The need for this motivated the extension.</p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>: No.
Currently only has boolean output.
Extensions should instead extend
<a href="chap30.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a>: Yes.</p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a>: No.
Recent discussion concluded this introduced too much variability for
applications to deal with.
Extensions should instead extend
<a href="chap30.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceXlibPresentationSupportKHR">vkGetPhysicalDeviceXlibPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceXcbPresentationSupportKHR">vkGetPhysicalDeviceXcbPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceWin32PresentationSupportKHR">vkGetPhysicalDeviceWin32PresentationSupportKHR</a>: Not in this
extension.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_21"><a class="anchor" href="chap47.html#_version_history_21"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_global_priority"><a class="anchor" href="chap47.html#VK_KHR_global_priority"></a>VK_KHR_global_priority</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_global_priority</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>189</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_global_priority] @tobski%0A*Here describe the issue or question you have about the VK_KHR_global_priority extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_22"><a class="anchor" href="chap47.html#_other_extension_metadata_22"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-10-22</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Contributors to <code><code>VK_EXT_global_priority</code></code></p>
</li>
<li>
<p>Contributors to <code><code>VK_EXT_global_priority_query</code></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_22"><a class="anchor" href="chap47.html#_description_22"></a>Description</h5>
<div class="paragraph">
<p>In Vulkan, users can specify device-scope queue priorities.
In some cases it may be useful to extend this concept to a system-wide
scope.
This device extension allows applications to query the global queue
priorities supported by a queue family, and then set a priority when
creating queues.
The default queue priority is <code>VK_QUEUE_GLOBAL_PRIORITY_MEDIUM_EXT</code>.</p>
</div>
<div class="paragraph">
<p>Implementations can report which global priority levels are treated
differently by the implementation.
It is intended primarily for use in system integration along with certain
platform-specific priority enforcement rules.</p>
</div>
<div class="paragraph">
<p>The driver implementation will attempt to skew hardware resource allocation
in favour of the higher-priority task.
Therefore, higher-priority work may retain similar latency and throughput
characteristics even if the system is congested with lower priority work.</p>
</div>
<div class="paragraph">
<p>The global priority level of a queue shall take precedence over the
per-process queue priority
(<code>VkDeviceQueueCreateInfo</code>::<code>pQueuePriorities</code>).</p>
</div>
<div class="paragraph">
<p>Abuse of this feature may result in starving the rest of the system from
hardware resources.
Therefore, the driver implementation may deny requests to acquire a priority
above the default priority (<code>VK_QUEUE_GLOBAL_PRIORITY_MEDIUM_EXT</code>) if
the caller does not have sufficient privileges.
In this scenario <code>VK_ERROR_NOT_PERMITTED_EXT</code> is returned.</p>
</div>
<div class="paragraph">
<p>The driver implementation may fail the queue allocation request if resources
required to complete the operation have been exhausted (either by the same
process or a different process).
In this scenario <code>VK_ERROR_INITIALIZATION_FAILED</code> is returned.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_24"><a class="anchor" href="chap47.html#_new_structures_24"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap5.html#VkDeviceQueueCreateInfo">VkDeviceQueueCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkDeviceQueueGlobalPriorityCreateInfoKHR">VkDeviceQueueGlobalPriorityCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceGlobalPriorityQueryFeaturesKHR">VkPhysicalDeviceGlobalPriorityQueryFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkQueueFamilyProperties2">VkQueueFamilyProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkQueueFamilyGlobalPriorityPropertiesKHR">VkQueueFamilyGlobalPriorityPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_11"><a class="anchor" href="chap47.html#_new_enums_11"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkQueueGlobalPriorityKHR">VkQueueGlobalPriorityKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_25"><a class="anchor" href="chap47.html#_new_enum_constants_25"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_GLOBAL_PRIORITY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_GLOBAL_PRIORITY_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_MAX_GLOBAL_PRIORITY_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_NOT_PERMITTED_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_QUEUE_GLOBAL_PRIORITY_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GLOBAL_PRIORITY_QUERY_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_GLOBAL_PRIORITY_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_16"><a class="anchor" href="chap47.html#_issues_16"></a>Issues</h5>
<div class="paragraph">
<p>1) Can we additionally query whether a caller is permitted to acquire a
specific global queue priority in this extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Whether a caller has enough privilege goes with the OS, and the Vulkan
driver cannot really guarantee that the privilege will not change in between
this query and the actual queue creation call.</p>
</div>
<div class="paragraph">
<p>2) If more than 1 queue using global priority is requested, is there a good
way to know which queue is failing the device creation?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
There is not a good way at this moment, and it is also not quite actionable
for the applications to know that because the information may not be
accurate.
Queue creation can fail because of runtime constraints like insufficient
privilege or lack of resource, and the failure is not necessarily tied to
that particular queue configuration requested.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_22"><a class="anchor" href="chap47.html#_version_history_22"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-10-22 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_incremental_present"><a class="anchor" href="chap47.html#VK_KHR_incremental_present"></a>VK_KHR_incremental_present</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_incremental_present</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>85</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_incremental_present] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_incremental_present extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_23"><a class="anchor" href="chap47.html#_other_extension_metadata_23"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-11-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Mika Isojarvi, Google</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_23"><a class="anchor" href="chap47.html#_description_23"></a>Description</h5>
<div class="paragraph">
<p>This device extension extends <a href="chap30.html#vkQueuePresentKHR">vkQueuePresentKHR</a>, from the
<code><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension, allowing an application to specify a
list of rectangular, modified regions of each image to present.
This should be used in situations where an application is only changing a
small portion of the presentable images within a swapchain, since it enables
the presentation engine to avoid wasting time presenting parts of the
surface that have not changed.</p>
</div>
<div class="paragraph">
<p>This extension is leveraged from the <code>EGL_KHR_swap_buffers_with_damage</code>
extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_25"><a class="anchor" href="chap47.html#_new_structures_25"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkPresentRegionKHR">VkPresentRegionKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkRectLayerKHR">VkRectLayerKHR</a></p>
</li>
<li>
<p>Extending <a href="chap30.html#VkPresentInfoKHR">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkPresentRegionsKHR">VkPresentRegionsKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_26"><a class="anchor" href="chap47.html#_new_enum_constants_26"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_INCREMENTAL_PRESENT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_INCREMENTAL_PRESENT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_REGIONS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_17"><a class="anchor" href="chap47.html#_issues_17"></a>Issues</h5>
<div class="paragraph">
<p>1) How should we handle steroescopic-3D swapchains? We need to add a layer
for each rectangle.
One approach is to create another struct containing the <a href="chap3.html#VkRect2D">VkRect2D</a> plus
layer, and have <a href="chap30.html#VkPresentRegionsKHR">VkPresentRegionsKHR</a> point to an array of that struct.
Another approach is to have two parallel arrays, <code>pRectangles</code> and
<code>pLayers</code>, where <code>pRectangles</code>[i] and <code>pLayers</code>[i] must be used
together.
Which approach should we use, and if the array of a new structure, what
should that be called?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Create a new structure, which is a <a href="chap3.html#VkRect2D">VkRect2D</a> plus a layer,
and will be called <a href="chap30.html#VkRectLayerKHR">VkRectLayerKHR</a>.</p>
</div>
<div class="paragraph">
<p>2) Where is the origin of the <a href="chap30.html#VkRectLayerKHR">VkRectLayerKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The upper left corner of the presentable image(s) of the
swapchain, per the definition of framebuffer coordinates.</p>
</div>
<div class="paragraph">
<p>3) Does the rectangular region, <a href="chap30.html#VkRectLayerKHR">VkRectLayerKHR</a>, specify pixels of the
swapchain’s image(s), or of the surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Of the image(s).
Some presentation engines may scale the pixels of a swapchain’s image(s) to
the size of the surface.
The size of the swapchain’s image(s) will be consistent, where the size of
the surface may vary over time.</p>
</div>
<div class="paragraph">
<p>4) What if all of the rectangles for a given swapchain contain a width
and/or height of zero?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The application is indicating that no pixels changed since the
last present.
The presentation engine may use such a hint and not update any pixels for
the swapchain.
However, all other semantics of <a href="chap30.html#vkQueuePresentKHR">vkQueuePresentKHR</a> must still be
honored, including waiting for semaphores to signal.</p>
</div>
<div class="paragraph">
<p>5) When the swapchain is created with
<code>VkSwapchainCreateInfoKHR</code>::<code>preTransform</code> set to a value other than
<code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code>, should the rectangular region,
<a href="chap30.html#VkRectLayerKHR">VkRectLayerKHR</a>, be transformed to align with the <code>preTransform</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The rectangular region in <a href="chap30.html#VkRectLayerKHR">VkRectLayerKHR</a> should not be transformed.
As such, it may not align with the extents of the swapchain’s image(s).
It is the responsibility of the presentation engine to transform the
rectangular region.
This matches the behavior of the Android presentation engine, which set the
precedent.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_23"><a class="anchor" href="chap47.html#_version_history_23"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-11-02 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2021-03-18 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Clarified alignment of rectangles for presentation engines that support
transformed swapchains.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_index_type_uint8"><a class="anchor" href="chap47.html#VK_KHR_index_type_uint8"></a>VK_KHR_index_type_uint8</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_index_type_uint8</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>534</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_index_type_uint8] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_KHR_index_type_uint8 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_24"><a class="anchor" href="chap47.html#_other_extension_metadata_24"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-06-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_24"><a class="anchor" href="chap47.html#_description_24"></a>Description</h5>
<div class="paragraph">
<p>This extension allows <code>uint8_t</code> indices to be used with
<a href="chap20.html#vkCmdBindIndexBuffer">vkCmdBindIndexBuffer</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_26"><a class="anchor" href="chap47.html#_new_structures_26"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceIndexTypeUint8FeaturesKHR">VkPhysicalDeviceIndexTypeUint8FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_27"><a class="anchor" href="chap47.html#_new_enum_constants_27"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_INDEX_TYPE_UINT8_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_INDEX_TYPE_UINT8_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap20.html#VkIndexType">VkIndexType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDEX_TYPE_UINT8_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_INDEX_TYPE_UINT8_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_24"><a class="anchor" href="chap47.html#_version_history_24"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-06-06 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_line_rasterization"><a class="anchor" href="chap47.html#VK_KHR_line_rasterization"></a>VK_KHR_line_rasterization</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_line_rasterization</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>535</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_line_rasterization] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_KHR_line_rasterization extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_25"><a class="anchor" href="chap47.html#_other_extension_metadata_25"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-06-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Allen Jensen, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_25"><a class="anchor" href="chap47.html#_description_25"></a>Description</h5>
<div class="paragraph">
<p>This extension adds some line rasterization features that are commonly used
in CAD applications and supported in other APIs like OpenGL.
Bresenham-style line rasterization is supported, smooth rectangular lines
(coverage to alpha) are supported, and stippled lines are supported for all
three line rasterization modes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_23"><a class="anchor" href="chap47.html#_new_commands_23"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#vkCmdSetLineStippleKHR">vkCmdSetLineStippleKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_27"><a class="anchor" href="chap47.html#_new_structures_27"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceLineRasterizationFeaturesKHR">VkPhysicalDeviceLineRasterizationFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceLineRasterizationPropertiesKHR">VkPhysicalDeviceLineRasterizationPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap25.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkPipelineRasterizationLineStateCreateInfoKHR">VkPipelineRasterizationLineStateCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_12"><a class="anchor" href="chap47.html#_new_enums_12"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkLineRasterizationModeKHR">VkLineRasterizationModeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_28"><a class="anchor" href="chap47.html#_new_enum_constants_28"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_LINE_RASTERIZATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_LINE_RASTERIZATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap10.html#VkDynamicState">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_LINE_STIPPLE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_LINE_RASTERIZATION_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_LINE_RASTERIZATION_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_LINE_STATE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_18"><a class="anchor" href="chap47.html#_issues_18"></a>Issues</h5>
<div class="paragraph">
<p>1) Do we need to support Bresenham-style and smooth lines with more than one
rasterization sample? i.e. the equivalent of glDisable(GL_MULTISAMPLE) in
OpenGL when the framebuffer has more than one sample?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
For simplicity, Bresenham line rasterization carries forward a few
restrictions from OpenGL, such as not supporting per-sample shading, alpha
to coverage, or alpha to one.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_25"><a class="anchor" href="chap47.html#_version_history_25"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-05-09 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_load_store_op_none"><a class="anchor" href="chap47.html#VK_KHR_load_store_op_none"></a>VK_KHR_load_store_op_none</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_load_store_op_none</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>527</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_load_store_op_none] @syoussefi%0A*Here describe the issue or question you have about the VK_KHR_load_store_op_none extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_load_store_op_none.adoc">VK_KHR_load_store_op_none</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_26"><a class="anchor" href="chap47.html#_other_extension_metadata_26"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-05-16</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Bill Licea-Kane, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_26"><a class="anchor" href="chap47.html#_description_26"></a>Description</h5>
<div class="paragraph">
<p>This extension provides <code>VK_ATTACHMENT_LOAD_OP_NONE_KHR</code> and
<code>VK_ATTACHMENT_STORE_OP_NONE_KHR</code>, which are identically promoted from
the <code><a href="chap47.html#VK_EXT_load_store_op_none">VK_EXT_load_store_op_none</a></code> extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_29"><a class="anchor" href="chap47.html#_new_enum_constants_29"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_LOAD_STORE_OP_NONE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_LOAD_STORE_OP_NONE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap8.html#VkAttachmentLoadOp">VkAttachmentLoadOp</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_LOAD_OP_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap8.html#VkAttachmentStoreOp">VkAttachmentStoreOp</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_STORE_OP_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_26"><a class="anchor" href="chap47.html#_version_history_26"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-05-16 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision, based on VK_EXT_load_store_op_none.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance4"><a class="anchor" href="chap47.html#VK_KHR_maintenance4"></a>VK_KHR_maintenance4</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance4</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>414</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.3</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_maintenance4] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_KHR_maintenance4 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_27"><a class="anchor" href="chap47.html#_other_extension_metadata_27"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-10-25</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires SPIR-V 1.2 for <code>LocalSizeId</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lionel Duc, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Yiwei Zhang, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_27"><a class="anchor" href="chap47.html#_description_27"></a>Description</h5>
<div class="paragraph">
<p><code>VK_KHR_maintenance4</code> adds a collection of minor features, none of which
would warrant an entire extension of their own.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow the application to destroy their <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> object
immediately after it was used to create another object.
It is no longer necessary to keep its handle valid while the created
object is in use.</p>
</li>
<li>
<p>Add a new <a href="chap39.html#limits-maxBufferSize"><code>maxBufferSize</code></a>
implementation-defined limit for the maximum size <code>VkBuffer</code> that
<strong class="purple">can</strong> be created.</p>
</li>
<li>
<p>Add support for the SPIR-V 1.2 <code>LocalSizeId</code> execution mode, which
can be used as an alternative to <code>LocalSize</code> to specify the local
workgroup size with specialization constants.</p>
</li>
<li>
<p>Add a guarantee that images created with identical creation parameters
will always have the same alignment requirements.</p>
</li>
<li>
<p>Add new <a href="chap12.html#vkGetDeviceBufferMemoryRequirementsKHR">vkGetDeviceBufferMemoryRequirementsKHR</a>,
<a href="chap12.html#vkGetDeviceImageMemoryRequirementsKHR">vkGetDeviceImageMemoryRequirementsKHR</a>, and
<a href="chap29.html#vkGetDeviceImageSparseMemoryRequirementsKHR">vkGetDeviceImageSparseMemoryRequirementsKHR</a> to allow the
application to query the image memory requirements without having to
create an image object and query it.</p>
</li>
<li>
<p>Relax the requirement that push constants must be initialized before
they are dynamically accessed.</p>
</li>
<li>
<p>Relax the interface matching rules to allow a larger output vector to
match with a smaller input vector, with additional values being
discarded.</p>
</li>
<li>
<p>Add a guarantee for buffer memory requirement that the size memory
requirement is never greater than the result of aligning create size
with the alignment memory requirement.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_24"><a class="anchor" href="chap47.html#_new_commands_24"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#vkGetDeviceBufferMemoryRequirementsKHR">vkGetDeviceBufferMemoryRequirementsKHR</a></p>
</li>
<li>
<p><a href="chap12.html#vkGetDeviceImageMemoryRequirementsKHR">vkGetDeviceImageMemoryRequirementsKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetDeviceImageSparseMemoryRequirementsKHR">vkGetDeviceImageSparseMemoryRequirementsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_28"><a class="anchor" href="chap47.html#_new_structures_28"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkDeviceBufferMemoryRequirementsKHR">VkDeviceBufferMemoryRequirementsKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkDeviceImageMemoryRequirementsKHR">VkDeviceImageMemoryRequirementsKHR</a></p>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceMaintenance4FeaturesKHR">VkPhysicalDeviceMaintenance4FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceMaintenance4PropertiesKHR">VkPhysicalDeviceMaintenance4PropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_30"><a class="anchor" href="chap47.html#_new_enum_constants_30"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAINTENANCE_4_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_4_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageAspectFlagBits">VkImageAspectFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_ASPECT_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_BUFFER_MEMORY_REQUIREMENTS_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_IMAGE_MEMORY_REQUIREMENTS_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_4_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_4_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_3_4"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_3_4"></a>Promotion to Vulkan 1.3</h5>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_issues_19"><a class="anchor" href="chap47.html#_issues_19"></a>Issues</h5>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_27"><a class="anchor" href="chap47.html#_version_history_27"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-08-18 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2021-10-25 (Yiwei Zhang)</p>
<div class="ulist">
<ul>
<li>
<p>More guarantees on buffer memory requirements</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance5"><a class="anchor" href="chap47.html#VK_KHR_maintenance5"></a>VK_KHR_maintenance5</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance5</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>471</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br>
and<br>
<a href="chap47.html#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_VERSION_1_1</p>
</li>
<li>
<p>Interacts with VK_VERSION_1_2</p>
</li>
<li>
<p>Interacts with VK_VERSION_1_3</p>
</li>
<li>
<p>Interacts with VK_EXT_attachment_feedback_loop_layout</p>
</li>
<li>
<p>Interacts with VK_EXT_buffer_device_address</p>
</li>
<li>
<p>Interacts with VK_EXT_conditional_rendering</p>
</li>
<li>
<p>Interacts with VK_EXT_descriptor_buffer</p>
</li>
<li>
<p>Interacts with VK_EXT_fragment_density_map</p>
</li>
<li>
<p>Interacts with VK_EXT_graphics_pipeline_library</p>
</li>
<li>
<p>Interacts with VK_EXT_opacity_micromap</p>
</li>
<li>
<p>Interacts with VK_EXT_pipeline_creation_cache_control</p>
</li>
<li>
<p>Interacts with VK_EXT_pipeline_protected_access</p>
</li>
<li>
<p>Interacts with VK_EXT_transform_feedback</p>
</li>
<li>
<p>Interacts with VK_KHR_acceleration_structure</p>
</li>
<li>
<p>Interacts with VK_KHR_buffer_device_address</p>
</li>
<li>
<p>Interacts with VK_KHR_device_group</p>
</li>
<li>
<p>Interacts with VK_KHR_dynamic_rendering</p>
</li>
<li>
<p>Interacts with VK_KHR_fragment_shading_rate</p>
</li>
<li>
<p>Interacts with VK_KHR_pipeline_executable_properties</p>
</li>
<li>
<p>Interacts with VK_KHR_pipeline_library</p>
</li>
<li>
<p>Interacts with VK_KHR_ray_tracing_pipeline</p>
</li>
<li>
<p>Interacts with VK_KHR_video_decode_queue</p>
</li>
<li>
<p>Interacts with VK_KHR_video_encode_queue</p>
</li>
<li>
<p>Interacts with VK_NV_device_generated_commands</p>
</li>
<li>
<p>Interacts with VK_NV_displacement_micromap</p>
</li>
<li>
<p>Interacts with VK_NV_ray_tracing</p>
</li>
<li>
<p>Interacts with VK_NV_ray_tracing_motion_blur</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stu Smith <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_maintenance5] @stu-s%0A*Here describe the issue or question you have about the VK_KHR_maintenance5 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>stu-s</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_maintenance5.adoc">VK_KHR_maintenance5</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_28"><a class="anchor" href="chap47.html#_other_extension_metadata_28"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-05-02</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Slawomir Cygan, Intel</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>James Fitzpatrick, Imagination Technologies</p>
</li>
<li>
<p>Andrew Garrard, Imagination Technologies</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Pan Gao, Huawei</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_28"><a class="anchor" href="chap47.html#_description_28"></a>Description</h5>
<div class="paragraph">
<p><code>VK_KHR_maintenance5</code> adds a collection of minor features, none of which
would warrant an entire extension of their own.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A new <code>VK_FORMAT_A1B5G5R5_UNORM_PACK16_KHR</code> format</p>
</li>
<li>
<p>A new <code>VK_FORMAT_A8_UNORM_KHR</code> format</p>
</li>
<li>
<p>A property to indicate that multisample coverage operations are
performed after sample counting in EarlyFragmentTests mode</p>
</li>
<li>
<p>Relax VkBufferView creation requirements by allowing subsets of the
associated VkBuffer usage using <code>VkBufferUsageFlags2CreateInfoKHR</code></p>
</li>
<li>
<p>A new entry point <a href="chap20.html#vkCmdBindIndexBuffer2KHR">vkCmdBindIndexBuffer2KHR</a>, allowing a range of
memory to be bound as an index buffer</p>
</li>
<li>
<p><a href="chap4.html#vkGetDeviceProcAddr">vkGetDeviceProcAddr</a> must return <code>NULL</code> for supported core
functions beyond the version requested by the application.</p>
</li>
<li>
<p>A property to indicate that the sample mask test is performed after
sample counting in EarlyFragmentTests mode</p>
</li>
<li>
<p><code>vkCmdBindVertexBuffers2</code> now supports using <code>VK_WHOLE_SIZE</code> in the
<code>pSizes</code> parameter.</p>
</li>
<li>
<p>A default size of 1.0 is used if <code>PointSize</code> is not written</p>
</li>
<li>
<p>Shader modules are deprecated - applications can now pass
<a href="chap9.html#VkShaderModuleCreateInfo">VkShaderModuleCreateInfo</a> as a chained struct to pipeline creation
via <a href="chap10.html#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a></p>
</li>
<li>
<p>A function <a href="chap8.html#vkGetRenderingAreaGranularityKHR">vkGetRenderingAreaGranularityKHR</a> to query the optimal
render area for a dynamic rendering instance.</p>
</li>
<li>
<p>A property to indicate that depth/stencil texturing operations with
<code>VK_COMPONENT_SWIZZLE_ONE</code> have defined behavior</p>
</li>
<li>
<p>Add <a href="chap12.html#vkGetImageSubresourceLayout2KHR">vkGetImageSubresourceLayout2KHR</a> and a new function
<a href="chap12.html#vkGetDeviceImageSubresourceLayoutKHR">vkGetDeviceImageSubresourceLayoutKHR</a> to allow the application to
query the image memory layout without having to create an image object
and query it.</p>
</li>
<li>
<p>Allow <code>VK_REMAINING_ARRAY_LAYERS</code> as the <code>layerCount</code> member of
<a href="chap19.html#VkImageSubresourceLayers">VkImageSubresourceLayers</a></p>
</li>
<li>
<p>Adds stronger guarantees for propagation of <code>VK_ERROR_DEVICE_LOST</code>
return values</p>
</li>
<li>
<p>A property to indicate whether <code>PointSize</code> controls the final
rasterization of polygons if <a href="chap25.html#primsrast-polygonmode">polygon mode</a> is
<code>VK_POLYGON_MODE_POINT</code></p>
</li>
<li>
<p>Two properties to indicate the non-strict line rasterization algorithm
used</p>
</li>
<li>
<p>Two new flags words <a href="chap10.html#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a> and
<a href="chap12.html#VkBufferUsageFlagBits2KHR">VkBufferUsageFlagBits2KHR</a></p>
</li>
<li>
<p>Physical-device-level functions can now be called with any value in the
valid range for a type beyond the defined enumerants, such that
applications can avoid checking individual features, extensions, or
versions before querying supported properties of a particular enumerant.</p>
</li>
<li>
<p>Clarification that copies between images of any type are allowed,
treating 1D images as 2D images with a height of 1.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_25"><a class="anchor" href="chap47.html#_new_commands_25"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap20.html#vkCmdBindIndexBuffer2KHR">vkCmdBindIndexBuffer2KHR</a></p>
</li>
<li>
<p><a href="chap12.html#vkGetDeviceImageSubresourceLayoutKHR">vkGetDeviceImageSubresourceLayoutKHR</a></p>
</li>
<li>
<p><a href="chap12.html#vkGetImageSubresourceLayout2KHR">vkGetImageSubresourceLayout2KHR</a></p>
</li>
<li>
<p><a href="chap8.html#vkGetRenderingAreaGranularityKHR">vkGetRenderingAreaGranularityKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_29"><a class="anchor" href="chap47.html#_new_structures_29"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkDeviceImageSubresourceInfoKHR">VkDeviceImageSubresourceInfoKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkImageSubresource2KHR">VkImageSubresource2KHR</a></p>
</li>
<li>
<p><a href="chap8.html#VkRenderingAreaInfoKHR">VkRenderingAreaInfoKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkSubresourceLayout2KHR">VkSubresourceLayout2KHR</a></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkBufferViewCreateInfo">VkBufferViewCreateInfo</a>, <a href="chap12.html#VkBufferCreateInfo">VkBufferCreateInfo</a>, <a href="chap41.html#VkPhysicalDeviceExternalBufferInfo">VkPhysicalDeviceExternalBufferInfo</a>, <code>VkDescriptorBufferBindingInfoEXT</code>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBufferUsageFlags2CreateInfoKHR">VkBufferUsageFlags2CreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkComputePipelineCreateInfo">VkComputePipelineCreateInfo</a>, <a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>, <code>VkRayTracingPipelineCreateInfoNV</code>, <a href="chap10.html#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkPipelineCreateFlags2CreateInfoKHR">VkPipelineCreateFlags2CreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceMaintenance5FeaturesKHR">VkPhysicalDeviceMaintenance5FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceMaintenance5PropertiesKHR">VkPhysicalDeviceMaintenance5PropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_13"><a class="anchor" href="chap47.html#_new_enums_13"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBufferUsageFlagBits2KHR">VkBufferUsageFlagBits2KHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_9"><a class="anchor" href="chap47.html#_new_bitmasks_9"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBufferUsageFlags2KHR">VkBufferUsageFlags2KHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkPipelineCreateFlags2KHR">VkPipelineCreateFlags2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_31"><a class="anchor" href="chap47.html#_new_enum_constants_31"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAINTENANCE_5_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_5_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap40.html#VkFormat">VkFormat</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_A1B5G5R5_UNORM_PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_A8_UNORM_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_USAGE_FLAGS_2_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_IMAGE_SUBRESOURCE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SUBRESOURCE_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_5_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_5_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_CREATE_FLAGS_2_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDERING_AREA_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBRESOURCE_LAYOUT_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_EXT_attachment_feedback_loop_layout">VK_EXT_attachment_feedback_loop_layout</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_EXT_opacity_micromap">VK_EXT_opacity_micromap</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits2KHR">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_MICROMAP_BUILD_INPUT_READ_ONLY_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_2_MICROMAP_STORAGE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits2KHR">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_ACCELERATION_STRUCTURE_BUILD_INPUT_READ_ONLY_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_2_ACCELERATION_STRUCTURE_STORAGE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a> and <a href="chap47.html#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_pipeline_executable_properties">VK_KHR_pipeline_executable_properties</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_CAPTURE_STATISTICS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_LIBRARY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits2KHR">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_SHADER_BINDING_TABLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_SKIP_AABBS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits2KHR">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_VIDEO_DECODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_2_VIDEO_DECODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits2KHR">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_VIDEO_ENCODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_2_VIDEO_ENCODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap46.html#versions-1.1">Version 1.1</a> or <a href="chap47.html#VK_KHR_device_group">VK_KHR_device_group</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits2KHR">VkPipelineCreateFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_2_DISPATCH_BASE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_2_VIEW_INDEX_FROM_DEVICE_INDEX_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap46.html#versions-1.2">Version 1.2</a> or <a href="chap47.html#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a> or <code>VK_EXT_buffer_device_address</code> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits2KHR">VkBufferUsageFlagBits2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_2_SHADER_DEVICE_ADDRESS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_20"><a class="anchor" href="chap47.html#_issues_20"></a>Issues</h5>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_28"><a class="anchor" href="chap47.html#_version_history_28"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-12-12 (Stu Smith)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance6"><a class="anchor" href="chap47.html#VK_KHR_maintenance6"></a>VK_KHR_maintenance6</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance6</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>546</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_EXT_descriptor_buffer</p>
</li>
<li>
<p>Interacts with VK_KHR_push_descriptor</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jon Leech <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_maintenance6] @oddhack%0A*Here describe the issue or question you have about the VK_KHR_maintenance6 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>oddhack</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_maintenance6.adoc">VK_KHR_maintenance6</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_29"><a class="anchor" href="chap47.html#_other_extension_metadata_29"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-08-03</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><code>VK_EXT_robustness2</code></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>James Fitzpatrick, Imagination Technologies</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Daniel Story, Nintendo</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_29"><a class="anchor" href="chap47.html#_description_29"></a>Description</h5>
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_maintenance6">VK_KHR_maintenance6</a> adds a collection of minor features, none of
which would warrant an entire extension of their own.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBindMemoryStatusKHR">VkBindMemoryStatusKHR</a> may be included in the <code>pNext</code> chain of
<a href="chap12.html#VkBindBufferMemoryInfo">VkBindBufferMemoryInfo</a> and <a href="chap12.html#VkBindImageMemoryInfo">VkBindImageMemoryInfo</a>, allowing
applications to identify individual resources for which memory binding
failed during calls to <a href="chap12.html#vkBindBufferMemory2">vkBindBufferMemory2</a> and
<a href="chap12.html#vkBindImageMemory2">vkBindImageMemory2</a>.</p>
</li>
<li>
<p>A new property <code>fragmentShadingRateClampCombinerInputs</code> to indicate
if an implementation clamps the inputs to fragment shading rate combiner
operations.</p>
</li>
<li>
<p><a href="chap48.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> is allowed to be used when binding an index buffer,
instead of a valid <a href="chap12.html#VkBuffer">VkBuffer</a> handle.
When the <a href="chap38.html#features-nullDescriptor"><code>nullDescriptor</code></a> feature is
enabled, every index fetched results in a value of zero.</p>
</li>
<li>
<p>A new property <code>maxCombinedImageSamplerDescriptorCount</code> to indicate
the maximum number of descriptors needed for any of the
<a href="chap40.html#formats-requiring-sampler-ycbcr-conversion">formats that require a
sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a> supported by the implementation.</p>
</li>
<li>
<p>A new property <code>blockTexelViewCompatibleMultipleLayers</code> indicating
whether <code>VK_IMAGE_CREATE_BLOCK_TEXEL_VIEW_COMPATIBLE_BIT</code> is allowed
to be used with <code>layerCount</code> &gt; 1</p>
</li>
<li>
<p><code>pNext</code> extensible *2 versions of all descriptor binding commands.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_26"><a class="anchor" href="chap47.html#_new_commands_26"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#vkCmdBindDescriptorSets2KHR">vkCmdBindDescriptorSets2KHR</a></p>
</li>
<li>
<p><a href="chap14.html#vkCmdPushConstants2KHR">vkCmdPushConstants2KHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#vkCmdPushDescriptorSet2KHR">vkCmdPushDescriptorSet2KHR</a></p>
</li>
<li>
<p><a href="chap14.html#vkCmdPushDescriptorSetWithTemplate2KHR">vkCmdPushDescriptorSetWithTemplate2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_30"><a class="anchor" href="chap47.html#_new_structures_30"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#VkBindDescriptorSetsInfoKHR">VkBindDescriptorSetsInfoKHR</a></p>
</li>
<li>
<p><a href="chap14.html#VkPushConstantsInfoKHR">VkPushConstantsInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkBindBufferMemoryInfo">VkBindBufferMemoryInfo</a>, <a href="chap12.html#VkBindImageMemoryInfo">VkBindImageMemoryInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBindMemoryStatusKHR">VkBindMemoryStatusKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceMaintenance6FeaturesKHR">VkPhysicalDeviceMaintenance6FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceMaintenance6PropertiesKHR">VkPhysicalDeviceMaintenance6PropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#VkPushDescriptorSetInfoKHR">VkPushDescriptorSetInfoKHR</a></p>
</li>
<li>
<p><a href="chap14.html#VkPushDescriptorSetWithTemplateInfoKHR">VkPushDescriptorSetWithTemplateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_32"><a class="anchor" href="chap47.html#_new_enum_constants_32"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAINTENANCE_6_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_6_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_DESCRIPTOR_SETS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_MEMORY_STATUS_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_6_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_6_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PUSH_CONSTANTS_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PUSH_DESCRIPTOR_SET_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PUSH_DESCRIPTOR_SET_WITH_TEMPLATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_21"><a class="anchor" href="chap47.html#_issues_21"></a>Issues</h5>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_29"><a class="anchor" href="chap47.html#_version_history_29"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-08-01 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_map_memory2"><a class="anchor" href="chap47.html#VK_KHR_map_memory2"></a>VK_KHR_map_memory2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_map_memory2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>272</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_map_memory2] @gfxstrand%0A*Here describe the issue or question you have about the VK_KHR_map_memory2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gfxstrand</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_map_memory2.adoc">VK_KHR_map_memory2</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_30"><a class="anchor" href="chap47.html#_other_extension_metadata_30"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-03-14</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_30"><a class="anchor" href="chap47.html#_description_30"></a>Description</h5>
<div class="paragraph">
<p>This extension provides extensible versions of the Vulkan memory map and
unmap entry points.
The new entry points are functionally identical to the core entry points,
except that their parameters are specified using extensible structures that
can be used to pass extension-specific information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_27"><a class="anchor" href="chap47.html#_new_commands_27"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#vkMapMemory2KHR">vkMapMemory2KHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkUnmapMemory2KHR">vkUnmapMemory2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_31"><a class="anchor" href="chap47.html#_new_structures_31"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkMemoryMapInfoKHR">VkMemoryMapInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkMemoryUnmapInfoKHR">VkMemoryUnmapInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_14"><a class="anchor" href="chap47.html#_new_enums_14"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="#VkMemoryUnmapFlagBitsKHR" class="target-missing">VkMemoryUnmapFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_10"><a class="anchor" href="chap47.html#_new_bitmasks_10"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkMemoryUnmapFlagsKHR">VkMemoryUnmapFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_33"><a class="anchor" href="chap47.html#_new_enum_constants_33"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAP_MEMORY_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAP_MEMORY_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_MAP_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_UNMAP_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_30"><a class="anchor" href="chap47.html#_version_history_30"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2022-08-03 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2023-03-14</p>
<div class="ulist">
<ul>
<li>
<p>Public release</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_performance_query"><a class="anchor" href="chap47.html#VK_KHR_performance_query"></a>VK_KHR_performance_query</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_performance_query</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>117</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#extendingvulkan-compatibility-specialuse">Developer tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alon Or-bach <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_performance_query] @alonorbach%0A*Here describe the issue or question you have about the VK_KHR_performance_query extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alonorbach</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_31"><a class="anchor" href="chap47.html#_other_extension_metadata_31"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-10-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Barker, Unity Technologies</p>
</li>
<li>
<p>Kenneth Benzie, Codeplay</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Peter Lohrmann, AMD</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Niklas Smedberg, Unity Technologies</p>
</li>
<li>
<p>Igor Ostrowski, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_31"><a class="anchor" href="chap47.html#_description_31"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_performance_query</code> extension adds a mechanism to allow querying
of performance counters for use in applications and by profiling tools.</p>
</div>
<div class="paragraph">
<p>Each queue family <strong class="purple">may</strong> expose counters that <strong class="purple">can</strong> be enabled on a queue of
that family.
We extend <a href="chap17.html#VkQueryType">VkQueryType</a> to add a new query type for performance queries,
and chain a structure on <a href="chap17.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a> to specify the
performance queries to enable.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_28"><a class="anchor" href="chap47.html#_new_commands_28"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap17.html#vkAcquireProfilingLockKHR">vkAcquireProfilingLockKHR</a></p>
</li>
<li>
<p><a href="chap5.html#vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR">vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR</a></p>
</li>
<li>
<p><a href="chap17.html#vkGetPhysicalDeviceQueueFamilyPerformanceQueryPassesKHR">vkGetPhysicalDeviceQueueFamilyPerformanceQueryPassesKHR</a></p>
</li>
<li>
<p><a href="chap17.html#vkReleaseProfilingLockKHR">vkReleaseProfilingLockKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_32"><a class="anchor" href="chap47.html#_new_structures_32"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap17.html#VkAcquireProfilingLockInfoKHR">VkAcquireProfilingLockInfoKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkPerformanceCounterDescriptionKHR">VkPerformanceCounterDescriptionKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkPerformanceCounterKHR">VkPerformanceCounterKHR</a></p>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDevicePerformanceQueryFeaturesKHR">VkPhysicalDevicePerformanceQueryFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDevicePerformanceQueryPropertiesKHR">VkPhysicalDevicePerformanceQueryPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap17.html#VkQueryPoolPerformanceCreateInfoKHR">VkQueryPoolPerformanceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkSubmitInfo">VkSubmitInfo</a>, <a href="chap6.html#VkSubmitInfo2">VkSubmitInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkPerformanceQuerySubmitInfoKHR">VkPerformanceQuerySubmitInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_unions_3"><a class="anchor" href="chap47.html#_new_unions_3"></a>New Unions</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap17.html#VkPerformanceCounterResultKHR">VkPerformanceCounterResultKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_15"><a class="anchor" href="chap47.html#_new_enums_15"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap17.html#VkAcquireProfilingLockFlagBitsKHR">VkAcquireProfilingLockFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkPerformanceCounterDescriptionFlagBitsKHR">VkPerformanceCounterDescriptionFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkPerformanceCounterScopeKHR">VkPerformanceCounterScopeKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkPerformanceCounterStorageKHR">VkPerformanceCounterStorageKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkPerformanceCounterUnitKHR">VkPerformanceCounterUnitKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_11"><a class="anchor" href="chap47.html#_new_bitmasks_11"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap17.html#VkAcquireProfilingLockFlagsKHR">VkAcquireProfilingLockFlagsKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkPerformanceCounterDescriptionFlagsKHR">VkPerformanceCounterDescriptionFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_34"><a class="anchor" href="chap47.html#_new_enum_constants_34"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PERFORMANCE_QUERY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PERFORMANCE_QUERY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryType">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_PERFORMANCE_QUERY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_PROFILING_LOCK_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_COUNTER_DESCRIPTION_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_COUNTER_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PERFORMANCE_QUERY_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PERFORMANCE_QUERY_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PERFORMANCE_QUERY_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUERY_POOL_PERFORMANCE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_22"><a class="anchor" href="chap47.html#_issues_22"></a>Issues</h5>
<div class="paragraph">
<p>1) Should this extension include a mechanism to begin a query in command
buffer <em>A</em> and end the query in command buffer <em>B</em>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> No - queries are tied to command buffer creation and thus have to
be encapsulated within a single command buffer.</p>
</div>
<div class="paragraph">
<p>2) Should this extension include a mechanism to begin and end queries
globally on the queue, not using the existing command buffer commands?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> No - for the same reasoning as the resolution of 1).</p>
</div>
<div class="paragraph">
<p>3) Should this extension expose counters that require multiple passes?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes - users should re-submit a command buffer with the same
commands in it multiple times, specifying the pass to count as the query
parameter in VkPerformanceQuerySubmitInfoKHR.</p>
</div>
<div class="paragraph">
<p>4) How to handle counters across parallel workloads?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> In the spirit of Vulkan, a counter description flag
<code>VK_PERFORMANCE_COUNTER_DESCRIPTION_CONCURRENTLY_IMPACTED_BIT_KHR</code>
denotes that the accuracy of a counter result is affected by parallel
workloads.</p>
</div>
<div class="paragraph">
<p>5) How to handle secondary command buffers?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Secondary command buffers inherit any counter pass index
specified in the parent primary command buffer.
Note: this is no longer an issue after change from issue 10 resolution</p>
</div>
<div class="paragraph">
<p>6) What commands does the profiling lock have to be held for?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> For any command buffer that is being queried with a performance
query pool, the profiling lock <strong class="purple">must</strong> be held while that command buffer is in
the <em>recording</em>, <em>executable</em>, or <em>pending state</em>.</p>
</div>
<div class="paragraph">
<p>7) Should we support <a href="chap17.html#vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes.</p>
</div>
<div class="paragraph">
<p>8) Should we allow performance queries to interact with multiview?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes, but the performance queries must be performed once for each
pass per view.</p>
</div>
<div class="paragraph">
<p>9) Should a <code>queryCount &gt; 1</code> be usable for performance queries?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Yes.
Some vendors will have costly performance counter query pool creation, and
would rather if a certain set of counters were to be used multiple times
that a <code>queryCount &gt; 1</code> can be used to amortize the instantiation cost.</p>
</div>
<div class="paragraph">
<p>10) Should we introduce an indirect mechanism to set the counter pass index?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> Specify the counter pass index at submit time instead, to avoid
requiring re-recording of command buffers when multiple counter passes are
needed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_examples_3"><a class="anchor" href="chap47.html#_examples_3"></a>Examples</h5>
<div class="paragraph">
<p>The following example shows how to find what performance counters a queue
family supports, setup a query pool to record these performance counters,
how to add the query pool to the command buffer to record information, and
how to get the results from the query pool.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// A previously created physical device</span>
<span class="n">VkPhysicalDevice</span> <span class="n">physicalDevice</span><span class="p">;</span>

<span class="c1">// One of the queue families our device supports</span>
<span class="kt">uint32_t</span> <span class="n">queueFamilyIndex</span><span class="p">;</span>

<span class="kt">uint32_t</span> <span class="n">counterCount</span><span class="p">;</span>

<span class="c1">// Get the count of counters supported</span>
<span class="n">vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR</span><span class="p">(</span>
  <span class="n">physicalDevice</span><span class="p">,</span>
  <span class="n">queueFamilyIndex</span><span class="p">,</span>
  <span class="o">&amp;</span><span class="n">counterCount</span><span class="p">,</span>
  <span class="nb">NULL</span><span class="p">,</span>
  <span class="nb">NULL</span><span class="p">);</span>

<span class="n">VkPerformanceCounterKHR</span><span class="o">*</span> <span class="n">counters</span> <span class="o">=</span>
  <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">VkPerformanceCounterKHR</span><span class="p">)</span> <span class="o">*</span> <span class="n">counterCount</span><span class="p">);</span>
<span class="n">VkPerformanceCounterDescriptionKHR</span><span class="o">*</span> <span class="n">counterDescriptions</span> <span class="o">=</span>
  <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">VkPerformanceCounterDescriptionKHR</span><span class="p">)</span> <span class="o">*</span> <span class="n">counterCount</span><span class="p">);</span>

<span class="c1">// Get the counters supported</span>
<span class="n">vkEnumeratePhysicalDeviceQueueFamilyPerformanceQueryCountersKHR</span><span class="p">(</span>
  <span class="n">physicalDevice</span><span class="p">,</span>
  <span class="n">queueFamilyIndex</span><span class="p">,</span>
  <span class="o">&amp;</span><span class="n">counterCount</span><span class="p">,</span>
  <span class="n">counters</span><span class="p">,</span>
  <span class="n">counterDescriptions</span><span class="p">);</span>

<span class="c1">// Try to enable the first 8 counters</span>
<span class="kt">uint32_t</span> <span class="n">enabledCounters</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>

<span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">enabledCounterCount</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">counterCount</span><span class="p">,</span> <span class="mi">8</span><span class="p">));</span>

<span class="k">for</span> <span class="p">(</span><span class="kt">uint32_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">enabledCounterCount</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">enabledCounters</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// A previously created device that had the performanceCounterQueryPools feature</span>
<span class="c1">// set to VK_TRUE</span>
<span class="n">VkDevice</span> <span class="n">device</span><span class="p">;</span>

<span class="n">VkQueryPoolPerformanceCreateInfoKHR</span> <span class="n">performanceQueryCreateInfo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_QUERY_POOL_PERFORMANCE_CREATE_INFO_KHR</span><span class="p">,</span>
  <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>

  <span class="c1">// Specify the queue family that this performance query is performed on</span>
  <span class="p">.</span><span class="n">queueFamilyIndex</span> <span class="o">=</span> <span class="n">queueFamilyIndex</span><span class="p">,</span>

  <span class="c1">// The number of counters to enable</span>
  <span class="p">.</span><span class="n">counterIndexCount</span> <span class="o">=</span> <span class="n">enabledCounterCount</span><span class="p">,</span>

  <span class="c1">// The array of indices of counters to enable</span>
  <span class="p">.</span><span class="n">pCounterIndices</span> <span class="o">=</span> <span class="n">enabledCounters</span>
<span class="p">};</span>


<span class="c1">// Get the number of passes our counters will require.</span>
<span class="kt">uint32_t</span> <span class="n">numPasses</span><span class="p">;</span>

<span class="n">vkGetPhysicalDeviceQueueFamilyPerformanceQueryPassesKHR</span><span class="p">(</span>
  <span class="n">physicalDevice</span><span class="p">,</span>
  <span class="o">&amp;</span><span class="n">performanceQueryCreateInfo</span><span class="p">,</span>
  <span class="o">&amp;</span><span class="n">numPasses</span><span class="p">);</span>

<span class="n">VkQueryPoolCreateInfo</span> <span class="n">queryPoolCreateInfo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_QUERY_POOL_CREATE_INFO</span><span class="p">,</span>
  <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">performanceQueryCreateInfo</span><span class="p">,</span>
  <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
  <span class="c1">// Using our new query type here</span>
  <span class="p">.</span><span class="n">queryType</span> <span class="o">=</span> <span class="n">VK_QUERY_TYPE_PERFORMANCE_QUERY_KHR</span><span class="p">,</span>
  <span class="p">.</span><span class="n">queryCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="p">.</span><span class="n">pipelineStatistics</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">};</span>

<span class="n">VkQueryPool</span> <span class="n">queryPool</span><span class="p">;</span>

<span class="n">VkResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">vkCreateQueryPool</span><span class="p">(</span>
  <span class="n">device</span><span class="p">,</span>
  <span class="o">&amp;</span><span class="n">queryPoolCreateInfo</span><span class="p">,</span>
  <span class="nb">NULL</span><span class="p">,</span>
  <span class="o">&amp;</span><span class="n">queryPool</span><span class="p">);</span>

<span class="n">assert</span><span class="p">(</span><span class="n">VK_SUCCESS</span> <span class="o">==</span> <span class="n">result</span><span class="p">);</span>

<span class="c1">// A queue from queueFamilyIndex</span>
<span class="n">VkQueue</span> <span class="n">queue</span><span class="p">;</span>

<span class="c1">// A command buffer we want to record counters on</span>
<span class="n">VkCommandBuffer</span> <span class="n">commandBuffer</span><span class="p">;</span>

<span class="n">VkCommandBufferBeginInfo</span> <span class="n">commandBufferBeginInfo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO</span><span class="p">,</span>
  <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
  <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
  <span class="p">.</span><span class="n">pInheritanceInfo</span> <span class="o">=</span> <span class="nb">NULL</span>
<span class="p">};</span>

<span class="n">VkAcquireProfilingLockInfoKHR</span> <span class="n">lockInfo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_ACQUIRE_PROFILING_LOCK_INFO_KHR</span><span class="p">,</span>
  <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
  <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
  <span class="p">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">UINT64_MAX</span> <span class="c1">// Wait forever for the lock</span>
<span class="p">};</span>

<span class="c1">// Acquire the profiling lock before we record command buffers</span>
<span class="c1">// that will use performance queries</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">vkAcquireProfilingLockKHR</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lockInfo</span><span class="p">);</span>

<span class="n">assert</span><span class="p">(</span><span class="n">VK_SUCCESS</span> <span class="o">==</span> <span class="n">result</span><span class="p">);</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">vkBeginCommandBuffer</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">commandBufferBeginInfo</span><span class="p">);</span>

<span class="n">assert</span><span class="p">(</span><span class="n">VK_SUCCESS</span> <span class="o">==</span> <span class="n">result</span><span class="p">);</span>

<span class="n">vkCmdResetQueryPool</span><span class="p">(</span>
  <span class="n">commandBuffer</span><span class="p">,</span>
  <span class="n">queryPool</span><span class="p">,</span>
  <span class="mi">0</span><span class="p">,</span>
  <span class="mi">1</span><span class="p">);</span>

<span class="n">vkCmdBeginQuery</span><span class="p">(</span>
  <span class="n">commandBuffer</span><span class="p">,</span>
  <span class="n">queryPool</span><span class="p">,</span>
  <span class="mi">0</span><span class="p">,</span>
  <span class="mi">0</span><span class="p">);</span>

<span class="c1">// Perform the commands you want to get performance information on</span>
<span class="c1">// ...</span>

<span class="c1">// Perform a barrier to ensure all previous commands were complete before</span>
<span class="c1">// ending the query</span>
<span class="n">vkCmdPipelineBarrier</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span>
  <span class="n">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</span><span class="p">,</span>
  <span class="n">VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</span><span class="p">,</span>
  <span class="mi">0</span><span class="p">,</span>
  <span class="mi">0</span><span class="p">,</span>
  <span class="nb">NULL</span><span class="p">,</span>
  <span class="mi">0</span><span class="p">,</span>
  <span class="nb">NULL</span><span class="p">,</span>
  <span class="mi">0</span><span class="p">,</span>
  <span class="nb">NULL</span><span class="p">);</span>

<span class="n">vkCmdEndQuery</span><span class="p">(</span>
  <span class="n">commandBuffer</span><span class="p">,</span>
  <span class="n">queryPool</span><span class="p">,</span>
  <span class="mi">0</span><span class="p">);</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">vkEndCommandBuffer</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">);</span>

<span class="n">assert</span><span class="p">(</span><span class="n">VK_SUCCESS</span> <span class="o">==</span> <span class="n">result</span><span class="p">);</span>

<span class="k">for</span> <span class="p">(</span><span class="kt">uint32_t</span> <span class="n">counterPass</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">counterPass</span> <span class="o">&lt;</span> <span class="n">numPasses</span><span class="p">;</span> <span class="n">counterPass</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

  <span class="n">VkPerformanceQuerySubmitInfoKHR</span> <span class="n">performanceQuerySubmitInfo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">VK_STRUCTURE_TYPE_PERFORMANCE_QUERY_SUBMIT_INFO_KHR</span><span class="p">,</span>
    <span class="nb">NULL</span><span class="p">,</span>
    <span class="n">counterPass</span>
  <span class="p">};</span>


  <span class="c1">// Submit the command buffer and wait for its completion</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// Release the profiling lock after the command buffer is no longer in the</span>
<span class="c1">// pending state.</span>
<span class="n">vkReleaseProfilingLockKHR</span><span class="p">(</span><span class="n">device</span><span class="p">);</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">vkResetCommandBuffer</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="n">assert</span><span class="p">(</span><span class="n">VK_SUCCESS</span> <span class="o">==</span> <span class="n">result</span><span class="p">);</span>

<span class="c1">// Create an array to hold the results of all counters</span>
<span class="n">VkPerformanceCounterResultKHR</span><span class="o">*</span> <span class="n">recordedCounters</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span>
  <span class="k">sizeof</span><span class="p">(</span><span class="n">VkPerformanceCounterResultKHR</span><span class="p">)</span> <span class="o">*</span> <span class="n">enabledCounterCount</span><span class="p">);</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">vkGetQueryPoolResults</span><span class="p">(</span>
  <span class="n">device</span><span class="p">,</span>
  <span class="n">queryPool</span><span class="p">,</span>
  <span class="mi">0</span><span class="p">,</span>
  <span class="mi">1</span><span class="p">,</span>
  <span class="k">sizeof</span><span class="p">(</span><span class="n">VkPerformanceCounterResultKHR</span><span class="p">)</span> <span class="o">*</span> <span class="n">enabledCounterCount</span><span class="p">,</span>
  <span class="n">recordedCounters</span><span class="p">,</span>
  <span class="k">sizeof</span><span class="p">(</span><span class="n">VkPerformanceCounterResultKHR</span><span class="p">)</span> <span class="o">*</span> <span class="n">enabledCounterCount</span><span class="p">,</span>
  <span class="nb">NULL</span><span class="p">);</span>

<span class="c1">// recordedCounters is filled with our counters, we will look at one for posterity</span>
<span class="k">switch</span> <span class="p">(</span><span class="n">counters</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">storage</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">case</span> <span class="n">VK_PERFORMANCE_COUNTER_STORAGE_INT32</span><span class="p">:</span>
    <span class="c1">// use recordCounters[0].int32 to get at the counter result!</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="n">VK_PERFORMANCE_COUNTER_STORAGE_INT64</span><span class="p">:</span>
    <span class="c1">// use recordCounters[0].int64 to get at the counter result!</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="n">VK_PERFORMANCE_COUNTER_STORAGE_UINT32</span><span class="p">:</span>
    <span class="c1">// use recordCounters[0].uint32 to get at the counter result!</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="n">VK_PERFORMANCE_COUNTER_STORAGE_UINT64</span><span class="p">:</span>
    <span class="c1">// use recordCounters[0].uint64 to get at the counter result!</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="n">VK_PERFORMANCE_COUNTER_STORAGE_FLOAT32</span><span class="p">:</span>
    <span class="c1">// use recordCounters[0].float32 to get at the counter result!</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="n">VK_PERFORMANCE_COUNTER_STORAGE_FLOAT64</span><span class="p">:</span>
    <span class="c1">// use recordCounters[0].float64 to get at the counter result!</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_31"><a class="anchor" href="chap47.html#_version_history_31"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-10-08</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_pipeline_executable_properties"><a class="anchor" href="chap47.html#VK_KHR_pipeline_executable_properties"></a>VK_KHR_pipeline_executable_properties</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_pipeline_executable_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>270</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#extendingvulkan-compatibility-specialuse">Developer tools</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_pipeline_executable_properties] @gfxstrand%0A*Here describe the issue or question you have about the VK_KHR_pipeline_executable_properties extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gfxstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_32"><a class="anchor" href="chap47.html#_other_extension_metadata_32"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Romanick, Intel</p>
</li>
<li>
<p>Kenneth Graunke, Intel</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Piers Daniel, Nvidia</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_32"><a class="anchor" href="chap47.html#_description_32"></a>Description</h5>
<div class="paragraph">
<p>When a pipeline is created, its state and shaders are compiled into zero or
more device-specific executables, which are used when executing commands
against that pipeline.
This extension adds a mechanism to query properties and statistics about the
different executables produced by the pipeline compilation process.
This is intended to be used by debugging and performance tools to allow them
to provide more detailed information to the user.
Certain compile time shader statistics provided through this extension may
be useful to developers for debugging or performance analysis.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_29"><a class="anchor" href="chap47.html#_new_commands_29"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#vkGetPipelineExecutableInternalRepresentationsKHR">vkGetPipelineExecutableInternalRepresentationsKHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetPipelineExecutablePropertiesKHR">vkGetPipelineExecutablePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetPipelineExecutableStatisticsKHR">vkGetPipelineExecutableStatisticsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_33"><a class="anchor" href="chap47.html#_new_structures_33"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkPipelineExecutableInfoKHR">VkPipelineExecutableInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkPipelineExecutableInternalRepresentationKHR">VkPipelineExecutableInternalRepresentationKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkPipelineExecutablePropertiesKHR">VkPipelineExecutablePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkPipelineExecutableStatisticKHR">VkPipelineExecutableStatisticKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkPipelineInfoKHR">VkPipelineInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDevicePipelineExecutablePropertiesFeaturesKHR">VkPhysicalDevicePipelineExecutablePropertiesFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_unions_4"><a class="anchor" href="chap47.html#_new_unions_4"></a>New Unions</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkPipelineExecutableStatisticValueKHR">VkPipelineExecutableStatisticValueKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_16"><a class="anchor" href="chap47.html#_new_enums_16"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkPipelineExecutableStatisticFormatKHR">VkPipelineExecutableStatisticFormatKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_35"><a class="anchor" href="chap47.html#_new_enum_constants_35"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PIPELINE_EXECUTABLE_PROPERTIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PIPELINE_EXECUTABLE_PROPERTIES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_CAPTURE_INTERNAL_REPRESENTATIONS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_CAPTURE_STATISTICS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PIPELINE_EXECUTABLE_PROPERTIES_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_INTERNAL_REPRESENTATION_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_EXECUTABLE_STATISTIC_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_23"><a class="anchor" href="chap47.html#_issues_23"></a>Issues</h5>
<div class="paragraph">
<p>1) What should we call the pieces of the pipeline which are produced by the
compilation process and about which you can query properties and statistics?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Call them “executables”.
The name “binary” was used in early drafts of the extension but it was
determined that “pipeline binary” could have a fairly broad meaning (such
as a binary serialized form of an entire pipeline) and was too big of a
namespace for the very specific needs of this extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_32"><a class="anchor" href="chap47.html#_version_history_32"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-05-28 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_pipeline_library"><a class="anchor" href="chap47.html#VK_KHR_pipeline_library"></a>VK_KHR_pipeline_library</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_pipeline_library</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>291</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_pipeline_library] @pixeljetstream%0A*Here describe the issue or question you have about the VK_KHR_pipeline_library extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pixeljetstream</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_33"><a class="anchor" href="chap47.html#_other_extension_metadata_33"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-01-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>See contributors to <code><a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_33"><a class="anchor" href="chap47.html#_description_33"></a>Description</h5>
<div class="paragraph">
<p>A pipeline library is a special pipeline that cannot be bound, instead it
defines a set of shaders and shader groups which can be linked into other
pipelines.
This extension defines the infrastructure for pipeline libraries, but does
not specify the creation or usage of pipeline libraries.
This is left to additional dependent extensions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_34"><a class="anchor" href="chap47.html#_new_structures_34"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkPipelineLibraryCreateInfoKHR">VkPipelineLibraryCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_36"><a class="anchor" href="chap47.html#_new_enum_constants_36"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PIPELINE_LIBRARY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PIPELINE_LIBRARY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_LIBRARY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_LIBRARY_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_33"><a class="anchor" href="chap47.html#_version_history_33"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-01-08 (Christoph Kubisch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_portability_enumeration"><a class="anchor" href="chap47.html#VK_KHR_portability_enumeration"></a>VK_KHR_portability_enumeration</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_portability_enumeration</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>395</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Charles Giessen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_portability_enumeration] @charles-lunarg%0A*Here describe the issue or question you have about the VK_KHR_portability_enumeration extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>charles-lunarg</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_34"><a class="anchor" href="chap47.html#_other_extension_metadata_34"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-06-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="chap47.html#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lenny Komow, LunarG</p>
</li>
<li>
<p>Charles Giessen, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_34"><a class="anchor" href="chap47.html#_description_34"></a>Description</h5>
<div class="paragraph">
<p>This extension allows applications to control whether devices that expose
the <code><a href="chap47.html#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code> extension are included in the results
of physical device enumeration.
Since devices which support the <code><a href="chap47.html#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code> extension
are not fully conformant Vulkan implementations, the Vulkan loader does not
report those devices unless the application explicitly asks for them.
This prevents applications which may not be aware of non-conformant devices
from accidentally using them, as any device which supports the
<code><a href="chap47.html#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code> extension mandates that the extension
must be enabled if that device is used.</p>
</div>
<div class="paragraph">
<p>This extension is implemented in the loader.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_37"><a class="anchor" href="chap47.html#_new_enum_constants_37"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PORTABILITY_ENUMERATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PORTABILITY_ENUMERATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap4.html#VkInstanceCreateFlagBits">VkInstanceCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_INSTANCE_CREATE_ENUMERATE_PORTABILITY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_34"><a class="anchor" href="chap47.html#_version_history_34"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-06-02 (Lenny Komow)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_present_id"><a class="anchor" href="chap47.html#VK_KHR_present_id"></a>VK_KHR_present_id</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_present_id</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>295</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Keith Packard <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_present_id] @keithp%0A*Here describe the issue or question you have about the VK_KHR_present_id extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>keithp</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_35"><a class="anchor" href="chap47.html#_other_extension_metadata_35"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-15</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Keith Packard, Valve</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_35"><a class="anchor" href="chap47.html#_description_35"></a>Description</h5>
<div class="paragraph">
<p>This device extension allows an application that uses the
<code><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension to provide an identifier for present
operations on a swapchain.
An application <strong class="purple">can</strong> use this to reference specific present operations in
other extensions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_35"><a class="anchor" href="chap47.html#_new_structures_35"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDevicePresentIdFeaturesKHR">VkPhysicalDevicePresentIdFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap30.html#VkPresentInfoKHR">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkPresentIdKHR">VkPresentIdKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_38"><a class="anchor" href="chap47.html#_new_enum_constants_38"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PRESENT_ID_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PRESENT_ID_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PRESENT_ID_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_ID_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_24"><a class="anchor" href="chap47.html#_issues_24"></a>Issues</h5>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect4">
<h5 id="_examples_4"><a class="anchor" href="chap47.html#_examples_4"></a>Examples</h5>

</div>
<div class="sect4">
<h5 id="_version_history_35"><a class="anchor" href="chap47.html#_version_history_35"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-05-15 (Keith Packard)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_present_wait"><a class="anchor" href="chap47.html#VK_KHR_present_wait"></a>VK_KHR_present_wait</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_present_wait</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>249</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="chap47.html#VK_KHR_present_id">VK_KHR_present_id</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Keith Packard <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_present_wait] @keithp%0A*Here describe the issue or question you have about the VK_KHR_present_wait extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>keithp</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_36"><a class="anchor" href="chap47.html#_other_extension_metadata_36"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-05-15</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Keith Packard, Valve</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Daniel Stone, Collabora</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_36"><a class="anchor" href="chap47.html#_description_36"></a>Description</h5>
<div class="paragraph">
<p>This device extension allows an application that uses the
<code><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension to wait for present operations to
complete.
An application can use this to monitor and control the pacing of the
application by managing the number of outstanding images yet to be
presented.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_30"><a class="anchor" href="chap47.html#_new_commands_30"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkWaitForPresentKHR">vkWaitForPresentKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_36"><a class="anchor" href="chap47.html#_new_structures_36"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDevicePresentWaitFeaturesKHR">VkPhysicalDevicePresentWaitFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_39"><a class="anchor" href="chap47.html#_new_enum_constants_39"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PRESENT_WAIT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PRESENT_WAIT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PRESENT_WAIT_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_25"><a class="anchor" href="chap47.html#_issues_25"></a>Issues</h5>
<div class="paragraph">
<p>1) When does the wait finish?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>.
The wait will finish when the present is visible to the user.
There is no requirement for any precise timing relationship between the
presentation of the image to the user, but implementations <strong class="purple">should</strong> signal
the wait as close as possible to the presentation of the first pixel in the
new image to the user.</p>
</div>
<div class="paragraph">
<p>2) Should this use fences or other existing synchronization mechanism.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>.
Because display and rendering are often implemented in separate drivers,
this extension will provide a separate synchronization API.</p>
</div>
<div class="paragraph">
<p>3) Should this extension share present identification with other extensions?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>.
Yes.
A new extension, VK_KHR_present_id, should be created to provide a shared
structure for presentation identifiers.</p>
</div>
<div class="paragraph">
<p>4) What happens when presentations complete out of order wrt calls to
vkQueuePresent? This could happen if the semaphores for the presentations
were ready out of order.</p>
</div>
<div class="paragraph">
<p><strong>OPTION A</strong>: Require that when a PresentId is set that the driver ensure that
images are always presented in the order of calls to vkQueuePresent.</p>
</div>
<div class="paragraph">
<p><strong>OPTION B</strong>: Finish both waits when the earliest present completes.
This will complete the later present wait earlier than the actual
presentation.
This should be the easiest to implement as the driver need only track the
largest present ID completed.
This is also the 'natural' consequence of interpreting the existing
vkWaitForPresentKHR specificationn.</p>
</div>
<div class="paragraph">
<p><strong>OPTION C</strong>: Finish both waits when both have completed.
This will complete the earlier presentation later than the actual
presentation time.
This is allowed by the current specification as there is no precise timing
requirement for when the presentId value is updated.
This requires slightly more complexity in the driver as it will need to
track all outstanding presentId values.</p>
</div>
</div>
<div class="sect4">
<h5 id="_examples_5"><a class="anchor" href="chap47.html#_examples_5"></a>Examples</h5>

</div>
<div class="sect4">
<h5 id="_version_history_36"><a class="anchor" href="chap47.html#_version_history_36"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-02-19 (Keith Packard)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_push_descriptor"><a class="anchor" href="chap47.html#VK_KHR_push_descriptor"></a>VK_KHR_push_descriptor</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_push_descriptor</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>81</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_VERSION_1_1</p>
</li>
<li>
<p>Interacts with VK_KHR_descriptor_update_template</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_push_descriptor] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_push_descriptor extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_37"><a class="anchor" href="chap47.html#_other_extension_metadata_37"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_37"><a class="anchor" href="chap47.html#_description_37"></a>Description</h5>
<div class="paragraph">
<p>This extension allows descriptors to be written into the command buffer,
while the implementation is responsible for managing their memory.
Push descriptors may enable easier porting from older APIs and in some cases
can be more efficient than writing descriptors into descriptor sets.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_31"><a class="anchor" href="chap47.html#_new_commands_31"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#vkCmdPushDescriptorSetKHR">vkCmdPushDescriptorSetKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_descriptor_update_template">VK_KHR_descriptor_update_template</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap46.html#versions-1.1">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_37"><a class="anchor" href="chap47.html#_new_structures_37"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDevicePushDescriptorPropertiesKHR">VkPhysicalDevicePushDescriptorPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_40"><a class="anchor" href="chap47.html#_new_enum_constants_40"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PUSH_DESCRIPTOR_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PUSH_DESCRIPTOR_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap14.html#VkDescriptorSetLayoutCreateFlagBits">VkDescriptorSetLayoutCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PUSH_DESCRIPTOR_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_descriptor_update_template">VK_KHR_descriptor_update_template</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap14.html#VkDescriptorUpdateTemplateType">VkDescriptorUpdateTemplateType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap46.html#versions-1.1">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap14.html#VkDescriptorUpdateTemplateType">VkDescriptorUpdateTemplateType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_37"><a class="anchor" href="chap47.html#_version_history_37"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-15 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-09-12 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Added interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_ray_query"><a class="anchor" href="chap47.html#VK_KHR_ray_query"></a>VK_KHR_ray_query</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_ray_query</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>349</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_spirv_1_4">VK_KHR_spirv_1_4</a><br>
and<br>
<a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_ray_query.html">SPV_KHR_ray_query</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_ray_query] @dgkoch%0A*Here describe the issue or question you have about the VK_KHR_ray_query extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_38"><a class="anchor" href="chap47.html#_other_extension_metadata_38"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-11-12</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_ray_query.txt"><code>GLSL_EXT_ray_query</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthäus Chajdas, AMD</p>
</li>
<li>
<p>Greg Grebe, AMD</p>
</li>
<li>
<p>Nicolai Hähnle, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Dave Oldcorn, AMD</p>
</li>
<li>
<p>Skyler Saleh, AMD</p>
</li>
<li>
<p>Mathieu Robart, Arm</p>
</li>
<li>
<p>Marius Bjorge, Arm</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Sebastian Tafuri, EA</p>
</li>
<li>
<p>Henrik Rydgard, Embark</p>
</li>
<li>
<p>Juan Cañada, Epic Games</p>
</li>
<li>
<p>Patrick Kelly, Epic Games</p>
</li>
<li>
<p>Yuriy O’Donnell, Epic Games</p>
</li>
<li>
<p>Michael Doggett, Facebook/Oculus</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Don Scorgie, Imagination</p>
</li>
<li>
<p>Dae Kim, Imagination</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Pascal Gautron, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Ashwin Lele, NVIDIA</p>
</li>
<li>
<p>Robert Stepinski, NVIDIA</p>
</li>
<li>
<p>Martin Stich, NVIDIA</p>
</li>
<li>
<p>Nuno Subtil, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>Jeroen van Schijndel, OTOY</p>
</li>
<li>
<p>Juul Joosten, OTOY</p>
</li>
<li>
<p>Alex Bourd, Qualcomm</p>
</li>
<li>
<p>Roman Larionov, Qualcomm</p>
</li>
<li>
<p>David McAllister, Qualcomm</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Lewis Gordon, Samsung</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Jasper Bekkers, Traverse Research</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_38"><a class="anchor" href="chap47.html#_description_38"></a>Description</h5>
<div class="paragraph">
<p>Rasterization has been the dominant method to produce interactive graphics,
but increasing performance of graphics hardware has made ray tracing a
viable option for interactive rendering.
Being able to integrate ray tracing with traditional rasterization makes it
easier for applications to incrementally add ray traced effects to existing
applications or to do hybrid approaches with rasterization for primary
visibility and ray tracing for secondary queries.</p>
</div>
<div class="paragraph">
<p>Ray queries are available to all shader types, including graphics, compute
and ray tracing pipelines.
Ray queries are not able to launch additional shaders, instead returning
traversal results to the calling shader.</p>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_ray_query</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_38"><a class="anchor" href="chap47.html#_new_structures_38"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceRayQueryFeaturesKHR">VkPhysicalDeviceRayQueryFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_41"><a class="anchor" href="chap47.html#_new_enum_constants_41"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_RAY_QUERY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_RAY_QUERY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_QUERY_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_3"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_3"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-RayQueryKHR"><code>RayQueryKHR</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-RayTraversalPrimitiveCullingKHR"><code>RayTraversalPrimitiveCullingKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_sample_code"><a class="anchor" href="chap47.html#_sample_code"></a>Sample Code</h5>
<div class="paragraph">
<p>Example of ray query in a GLSL shader, illustrating how to use ray queries
to determine whether a given position (at ray origin) is in shadow or not,
by tracing a ray towards the light, and checking for any intersections with
geometry occluding the light.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">rayQueryEXT</span> <span class="n">rq</span><span class="p">;</span>

<span class="n">rayQueryInitializeEXT</span><span class="p">(</span><span class="n">rq</span><span class="p">,</span> <span class="n">accStruct</span><span class="p">,</span> <span class="n">gl_RayFlagsTerminateOnFirstHitEXT</span><span class="p">,</span> <span class="n">cullMask</span><span class="p">,</span> <span class="n">origin</span><span class="p">,</span> <span class="n">tMin</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">tMax</span><span class="p">);</span>

<span class="c1">// Traverse the acceleration structure and store information about the first intersection (if any)</span>
<span class="n">rayQueryProceedEXT</span><span class="p">(</span><span class="n">rq</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">rayQueryGetIntersectionTypeEXT</span><span class="p">(</span><span class="n">rq</span><span class="p">,</span> <span class="nb">true</span><span class="p">)</span> <span class="o">==</span> <span class="n">gl_RayQueryCommittedIntersectionNoneEXT</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Not in shadow</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_issues_26"><a class="anchor" href="chap47.html#_issues_26"></a>Issues</h5>
<div class="paragraph">
<p>(1) What are the changes between the public provisional (VK_KHR_ray_tracing
v8) release and the final (VK_KHR_acceleration_structure v11 /
VK_KHR_ray_query v1) release?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>refactor VK_KHR_ray_tracing into 3 extensions, enabling implementation
flexibility and decoupling ray query support from ray pipelines:</p>
<div class="ulist">
<ul>
<li>
<p><code><a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> (for acceleration structure
operations)</p>
</li>
<li>
<p><code><a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code> (for ray tracing pipeline and
shader stages)</p>
</li>
<li>
<p><code><a href="chap47.html#VK_KHR_ray_query">VK_KHR_ray_query</a></code> (for ray queries in existing shader stages)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Update SPIRV capabilities to use <code>RayQueryKHR</code></p>
</li>
<li>
<p>extension is no longer provisional</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_38"><a class="anchor" href="chap47.html#_version_history_38"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-11-12 (Mathieu Robart, Daniel Koch, Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Decomposition of the specification, from VK_KHR_ray_tracing to
VK_KHR_ray_query (#1918,!3912)</p>
</li>
<li>
<p>update to use <code>RayQueryKHR</code> SPIR-V capability</p>
</li>
<li>
<p>add numerical limits for ray parameters (#2235,!3960)</p>
</li>
<li>
<p>relax formula for ray intersection candidate determination
(#2322,!4080)</p>
</li>
<li>
<p>restrict traces to TLAS (#2239,!4141)</p>
</li>
<li>
<p>require <code>HitT</code> to be in ray interval for
<code>OpRayQueryGenerateIntersectionKHR</code> (#2359,!4146)</p>
</li>
<li>
<p>add ray query shader stages for AS read bit (#2407,!4203)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_ray_tracing_maintenance1"><a class="anchor" href="chap47.html#VK_KHR_ray_tracing_maintenance1"></a>VK_KHR_ray_tracing_maintenance1</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_ray_tracing_maintenance1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>387</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_KHR_ray_tracing_pipeline</p>
</li>
<li>
<p>Interacts with VK_KHR_synchronization2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_ray_cull_mask.html">SPV_KHR_ray_cull_mask</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_ray_tracing_maintenance1] @dgkoch%0A*Here describe the issue or question you have about the VK_KHR_ray_tracing_maintenance1 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_39"><a class="anchor" href="chap47.html#_other_extension_metadata_39"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-02-21</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_ray_cull_mask.txt"><code>GLSL_EXT_ray_cull_mask</code></a></p>
</li>
<li>
<p>Interacts with <code><a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code></p>
</li>
<li>
<p>Interacts with <code><a href="chap47.html#VK_KHR_synchronization2">VK_KHR_synchronization2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Marius Bjorge, Arm</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Yuriy O’Donnell, Epic Games</p>
</li>
<li>
<p>Yunpeng Zhu, Huawei</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Dae Kim, Imagination</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_39"><a class="anchor" href="chap47.html#_description_39"></a>Description</h5>
<div class="paragraph">
<p><code>VK_KHR_ray_tracing_maintenance1</code> adds a collection of minor ray tracing
features, none of which would warrant an entire extension of their own.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds support for the <code>SPV_KHR_ray_cull_mask</code> SPIR-V extension in Vulkan.
This extension provides access to built-in <code>CullMaskKHR</code> shader
variable which contains the value of the <code>OpTrace*</code> <code>Cull Mask</code>
parameter.
This new shader variable is accessible in the intersection, any-hit,
closest-hit and miss shader stages.</p>
</li>
<li>
<p>Adds support for a new pipeline stage and access mask built on top of
<code><a href="chap47.html#VK_KHR_synchronization2">VK_KHR_synchronization2</a></code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_ACCELERATION_STRUCTURE_COPY_BIT_KHR</code> to
specify execution of <a href="chap32.html#acceleration-structure-copying">acceleration
structure copy commands</a></p>
</li>
<li>
<p><code>VK_ACCESS_2_SHADER_BINDING_TABLE_READ_BIT_KHR</code> to specify read
access to a <a href="chap35.html#shader-binding-table">shader binding table</a> in any
shader pipeline stage</p>
</li>
</ul>
</div>
</li>
<li>
<p>Adds two new acceleration structure query parameters:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_SIZE_KHR</code> to query the
acceleration structure size on the device timeline</p>
</li>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_SERIALIZATION_BOTTOM_LEVEL_POINTERS_KHR</code>
to query the number of bottom level acceleration structure pointers for
serialization</p>
</li>
</ul>
</div>
</li>
<li>
<p>Adds an optional new indirect ray tracing dispatch command,
<a href="chap35.html#vkCmdTraceRaysIndirect2KHR">vkCmdTraceRaysIndirect2KHR</a>, which sources the shader binding table
parameters as well as the dispatch dimensions from the device.
The <a href="chap38.html#features-rayTracingPipelineTraceRaysIndirect2"><code>rayTracingPipelineTraceRaysIndirect2</code></a> feature indicates whether
this functionality is supported.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_32"><a class="anchor" href="chap47.html#_new_commands_32"></a>New Commands</h5>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#vkCmdTraceRaysIndirect2KHR">vkCmdTraceRaysIndirect2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_39"><a class="anchor" href="chap47.html#_new_structures_39"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceRayTracingMaintenance1FeaturesKHR">VkPhysicalDeviceRayTracingMaintenance1FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkTraceRaysIndirectCommand2KHR">VkTraceRaysIndirectCommand2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_42"><a class="anchor" href="chap47.html#_new_enum_constants_42"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_RAY_TRACING_MAINTENANCE_1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_RAY_TRACING_MAINTENANCE_1_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryType">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_SERIALIZATION_BOTTOM_LEVEL_POINTERS_KHR</code></p>
</li>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_SIZE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_MAINTENANCE_1_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_synchronization2">VK_KHR_synchronization2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap7.html#VkPipelineStageFlagBits2">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_ACCELERATION_STRUCTURE_COPY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_synchronization2">VK_KHR_synchronization2</a> and <a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap7.html#VkAccessFlagBits2">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_SHADER_BINDING_TABLE_READ_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_built_in_variables_2"><a class="anchor" href="chap47.html#_new_built_in_variables_2"></a>New Built-In Variables</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-cullmask"><code>CullMaskKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_4"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_4"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-RayCullMaskKHR"><code>RayCullMaskKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_27"><a class="anchor" href="chap47.html#_issues_27"></a>Issues</h5>
<div class="paragraph">
<p>None Yet!</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_39"><a class="anchor" href="chap47.html#_version_history_39"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-02-21 (Members of the Vulkan Ray Tracing TSG)</p>
<div class="ulist">
<ul>
<li>
<p>internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_ray_tracing_pipeline"><a class="anchor" href="chap47.html#VK_KHR_ray_tracing_pipeline"></a>VK_KHR_ray_tracing_pipeline</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_ray_tracing_pipeline</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>348</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_spirv_1_4">VK_KHR_spirv_1_4</a><br>
and<br>
<a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_ray_tracing.html">SPV_KHR_ray_tracing</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_ray_tracing_pipeline] @dgkoch%0A*Here describe the issue or question you have about the VK_KHR_ray_tracing_pipeline extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_40"><a class="anchor" href="chap47.html#_other_extension_metadata_40"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-11-12</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_ray_tracing.txt"><code>GLSL_EXT_ray_tracing</code></a></p>
</li>
<li>
<p>This extension interacts with <a href="chap46.html#versions-1.2">Vulkan 1.2</a> and
<code><a href="chap47.html#VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</a></code>, adding the <a href="chap44.html#shader-call-related">shader-call-related</a> relation of invocations, <a href="chap44.html#shader-call-order">shader-call-order</a> partial order of dynamic instances of instructions,
and the <a href="chap9.html#shaders-scope-shadercall"><code>ShaderCallKHR</code></a> scope.</p>
</li>
<li>
<p>This extension interacts with <code><a href="chap47.html#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></code>, enabling
pipeline libraries to be used with ray tracing pipelines and enabling
usage of <a href="chap10.html#VkRayTracingPipelineInterfaceCreateInfoKHR">VkRayTracingPipelineInterfaceCreateInfoKHR</a>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthäus Chajdas, AMD</p>
</li>
<li>
<p>Greg Grebe, AMD</p>
</li>
<li>
<p>Nicolai Hähnle, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Dave Oldcorn, AMD</p>
</li>
<li>
<p>Skyler Saleh, AMD</p>
</li>
<li>
<p>Mathieu Robart, Arm</p>
</li>
<li>
<p>Marius Bjorge, Arm</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
<li>
<p>Sebastian Tafuri, EA</p>
</li>
<li>
<p>Henrik Rydgard, Embark</p>
</li>
<li>
<p>Juan Cañada, Epic Games</p>
</li>
<li>
<p>Patrick Kelly, Epic Games</p>
</li>
<li>
<p>Yuriy O’Donnell, Epic Games</p>
</li>
<li>
<p>Michael Doggett, Facebook/Oculus</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Don Scorgie, Imagination</p>
</li>
<li>
<p>Dae Kim, Imagination</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Slawek Grajewski, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Pascal Gautron, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Ashwin Lele, NVIDIA</p>
</li>
<li>
<p>Robert Stepinski, NVIDIA</p>
</li>
<li>
<p>Martin Stich, NVIDIA</p>
</li>
<li>
<p>Nuno Subtil, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>Jeroen van Schijndel, OTOY</p>
</li>
<li>
<p>Juul Joosten, OTOY</p>
</li>
<li>
<p>Alex Bourd, Qualcomm</p>
</li>
<li>
<p>Roman Larionov, Qualcomm</p>
</li>
<li>
<p>David McAllister, Qualcomm</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Lewis Gordon, Samsung</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Jasper Bekkers, Traverse Research</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_40"><a class="anchor" href="chap47.html#_description_40"></a>Description</h5>
<div class="paragraph">
<p>Rasterization has been the dominant method to produce interactive graphics,
but increasing performance of graphics hardware has made ray tracing a
viable option for interactive rendering.
Being able to integrate ray tracing with traditional rasterization makes it
easier for applications to incrementally add ray traced effects to existing
applications or to do hybrid approaches with rasterization for primary
visibility and ray tracing for secondary queries.</p>
</div>
<div class="paragraph">
<p>To enable ray tracing, this extension adds a few different categories of new
functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A new ray tracing pipeline type with new shader domains: ray generation,
intersection, any-hit, closest hit, miss, and callable</p>
</li>
<li>
<p>A shader binding indirection table to link shader groups with
acceleration structure items</p>
</li>
<li>
<p>Ray tracing commands which initiate the ray pipeline traversal and
invocation of the various new shader domains depending on which
traversal conditions are met</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_ray_tracing</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_33"><a class="anchor" href="chap47.html#_new_commands_33"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#vkCmdSetRayTracingPipelineStackSizeKHR">vkCmdSetRayTracingPipelineStackSizeKHR</a></p>
</li>
<li>
<p><a href="chap35.html#vkCmdTraceRaysIndirectKHR">vkCmdTraceRaysIndirectKHR</a></p>
</li>
<li>
<p><a href="chap35.html#vkCmdTraceRaysKHR">vkCmdTraceRaysKHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkCreateRayTracingPipelinesKHR">vkCreateRayTracingPipelinesKHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetRayTracingCaptureReplayShaderGroupHandlesKHR">vkGetRayTracingCaptureReplayShaderGroupHandlesKHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetRayTracingShaderGroupHandlesKHR">vkGetRayTracingShaderGroupHandlesKHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetRayTracingShaderGroupStackSizeKHR">vkGetRayTracingShaderGroupStackSizeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_40"><a class="anchor" href="chap47.html#_new_structures_40"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkRayTracingPipelineInterfaceCreateInfoKHR">VkRayTracingPipelineInterfaceCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkRayTracingShaderGroupCreateInfoKHR">VkRayTracingShaderGroupCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkStridedDeviceAddressRegionKHR">VkStridedDeviceAddressRegionKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkTraceRaysIndirectCommandKHR">VkTraceRaysIndirectCommandKHR</a></p>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceRayTracingPipelineFeaturesKHR">VkPhysicalDeviceRayTracingPipelineFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_17"><a class="anchor" href="chap47.html#_new_enums_17"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkRayTracingShaderGroupTypeKHR">VkRayTracingShaderGroupTypeKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkShaderGroupShaderKHR">VkShaderGroupShaderKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_43"><a class="anchor" href="chap47.html#_new_enum_constants_43"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_RAY_TRACING_PIPELINE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_RAY_TRACING_PIPELINE_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_SHADER_UNUSED_KHR</code></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_SHADER_BINDING_TABLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkDynamicState">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_RAY_TRACING_PIPELINE_STACK_SIZE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkPipelineBindPoint">VkPipelineBindPoint</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_BIND_POINT_RAY_TRACING_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_ANY_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_CLOSEST_HIT_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_INTERSECTION_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_MISS_SHADERS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_AABBS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_SKIP_TRIANGLES_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_RAY_TRACING_SHADER_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_ANY_HIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CALLABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_INTERSECTION_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_MISS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_RAYGEN_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_PIPELINE_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_PIPELINE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_PIPELINE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_PIPELINE_INTERFACE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_SHADER_GROUP_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_or_modified_built_in_variables"><a class="anchor" href="chap47.html#_new_or_modified_built_in_variables"></a>New or Modified Built-In Variables</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-launchid"><code>LaunchIdKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-launchsize"><code>LaunchSizeKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-worldrayorigin"><code>WorldRayOriginKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-worldraydirection"><code>WorldRayDirectionKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-objectrayorigin"><code>ObjectRayOriginKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-objectraydirection"><code>ObjectRayDirectionKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-raytmin"><code>RayTminKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-raytmax"><code>RayTmaxKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-instancecustomindex"><code>InstanceCustomIndexKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-instanceid"><code>InstanceId</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-objecttoworld"><code>ObjectToWorldKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-worldtoobject"><code>WorldToObjectKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-hitkind"><code>HitKindKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-incomingrayflags"><code>IncomingRayFlagsKHR</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-raygeometryindex"><code>RayGeometryIndexKHR</code></a></p>
</li>
<li>
<p>(modified)<code>PrimitiveId</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_5"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_5"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-RayTracingKHR"><code>RayTracingKHR</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-RayTraversalPrimitiveCullingKHR"><code>RayTraversalPrimitiveCullingKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_28"><a class="anchor" href="chap47.html#_issues_28"></a>Issues</h5>
<div class="paragraph">
<p>(1) How does this extension differ from VK_NV_ray_tracing?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>DISCUSSION</strong>:</p>
</div>
<div class="paragraph">
<p>The following is a summary of the main functional differences between
VK_KHR_ray_tracing_pipeline and VK_NV_ray_tracing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>added support for indirect ray tracing (<a href="chap35.html#vkCmdTraceRaysIndirectKHR">vkCmdTraceRaysIndirectKHR</a>)</p>
</li>
<li>
<p>uses SPV_KHR_ray_tracing instead of SPV_NV_ray_tracing</p>
<div class="ulist">
<ul>
<li>
<p>refer to KHR SPIR-V enums instead of NV SPIR-V enums (which are
functionally equivalent and aliased to the same values).</p>
</li>
<li>
<p>added <code>RayGeometryIndexKHR</code> built-in</p>
</li>
</ul>
</div>
</li>
<li>
<p>removed vkCompileDeferredNV compilation functionality and replaced with
<a href="chap31.html">deferred host operations</a> interactions for
ray tracing</p>
</li>
<li>
<p>added <a href="chap38.html#VkPhysicalDeviceRayTracingPipelineFeaturesKHR">VkPhysicalDeviceRayTracingPipelineFeaturesKHR</a> structure</p>
</li>
<li>
<p>extended <a href="chap39.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a> structure</p>
<div class="ulist">
<ul>
<li>
<p>renamed <code>maxRecursionDepth</code> to <code>maxRayRecursionDepth</code> and it
has a minimum of 1 instead of 31</p>
</li>
<li>
<p>require <code>shaderGroupHandleSize</code> to be 32 bytes</p>
</li>
<li>
<p>added <code>maxRayDispatchInvocationCount</code>,
<code>shaderGroupHandleAlignment</code> and <code>maxRayHitAttributeSize</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>reworked geometry structures so they could be better shared between
device, host, and indirect builds</p>
</li>
<li>
<p>changed SBT parameters to a structure and added size
(<a href="chap35.html#VkStridedDeviceAddressRegionKHR">VkStridedDeviceAddressRegionKHR</a>)</p>
</li>
<li>
<p>add parameter for requesting memory requirements for host and/or device
build</p>
</li>
<li>
<p>added <a href="chap10.html#pipelines-library">pipeline library</a> support for ray tracing</p>
</li>
<li>
<p>added <a href="chap34.html#ray-traversal-watertight">watertightness guarantees</a></p>
</li>
<li>
<p>added no-null-shader pipeline flags
(<code>VK_PIPELINE_CREATE_RAY_TRACING_NO_NULL_*_SHADERS_BIT_KHR</code>)</p>
</li>
<li>
<p>added <a href="chap35.html#ray-tracing-shader-call">memory model interactions</a> with ray
tracing and define how subgroups work and can be repacked</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(3) What are the changes between the public provisional (VK_KHR_ray_tracing
v8) release and the internal provisional (VK_KHR_ray_tracing v9) release?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Require Vulkan 1.1 and SPIR-V 1.4</p>
</li>
<li>
<p>Added interactions with Vulkan 1.2 and
<code><a href="chap47.html#VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</a></code></p>
</li>
<li>
<p>added creation time capture and replay flags</p>
<div class="ulist">
<ul>
<li>
<p>added
<code>VK_PIPELINE_CREATE_RAY_TRACING_SHADER_GROUP_HANDLE_CAPTURE_REPLAY_BIT_KHR</code>
to <a href="chap10.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>replace <code>VkStridedBufferRegionKHR</code> with
<a href="chap35.html#VkStridedDeviceAddressRegionKHR">VkStridedDeviceAddressRegionKHR</a> and change
<a href="chap35.html#vkCmdTraceRaysKHR">vkCmdTraceRaysKHR</a>, <a href="chap35.html#vkCmdTraceRaysIndirectKHR">vkCmdTraceRaysIndirectKHR</a>, to take these
for the shader binding table and use device addresses instead of
buffers.</p>
</li>
<li>
<p>require the shader binding table buffers to have the
<code>VK_BUFFER_USAGE_RAY_TRACING_BIT_KHR</code> set</p>
</li>
<li>
<p>make <code><a href="chap47.html#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></code> an interaction instead of required
extension</p>
</li>
<li>
<p>rename the <code>libraries</code> member of
<a href="chap10.html#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a> to <code>pLibraryInfo</code> and make
it a pointer</p>
</li>
<li>
<p>make <code><a href="chap47.html#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code> an interaction instead of
a required extension (later went back on this)</p>
</li>
<li>
<p>added explicit stack size management for ray tracing pipelines</p>
<div class="ulist">
<ul>
<li>
<p>removed the <code>maxCallableSize</code> member of
<a href="chap10.html#VkRayTracingPipelineInterfaceCreateInfoKHR">VkRayTracingPipelineInterfaceCreateInfoKHR</a></p>
</li>
<li>
<p>added the <code>pDynamicState</code> member to
<a href="chap10.html#VkRayTracingPipelineCreateInfoKHR">VkRayTracingPipelineCreateInfoKHR</a></p>
</li>
<li>
<p>added <code>VK_DYNAMIC_STATE_RAY_TRACING_PIPELINE_STACK_SIZE_KHR</code>
dynamic state for ray tracing pipelines</p>
</li>
<li>
<p>added <a href="chap10.html#vkGetRayTracingShaderGroupStackSizeKHR">vkGetRayTracingShaderGroupStackSizeKHR</a> and
<a href="chap10.html#vkCmdSetRayTracingPipelineStackSizeKHR">vkCmdSetRayTracingPipelineStackSizeKHR</a> commands</p>
</li>
<li>
<p>added <a href="chap10.html#VkShaderGroupShaderKHR">VkShaderGroupShaderKHR</a> enum</p>
</li>
</ul>
</div>
</li>
<li>
<p>Added <code>maxRayDispatchInvocationCount</code> limit to
<a href="chap39.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a></p>
</li>
<li>
<p>Added <code>shaderGroupHandleAlignment</code> property to
<a href="chap39.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a></p>
</li>
<li>
<p>Added <code>maxRayHitAttributeSize</code> property to
<a href="chap39.html#VkPhysicalDeviceRayTracingPipelinePropertiesKHR">VkPhysicalDeviceRayTracingPipelinePropertiesKHR</a></p>
</li>
<li>
<p>Clarify deferred host ops for pipeline creation</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap31.html#VkDeferredOperationKHR">VkDeferredOperationKHR</a> is now a top-level parameter for
<a href="chap10.html#vkCreateRayTracingPipelinesKHR">vkCreateRayTracingPipelinesKHR</a></p>
</li>
<li>
<p>removed <code>VkDeferredOperationInfoKHR</code> structure</p>
</li>
<li>
<p>change deferred host creation/return parameter behavior such that the
implementation can modify such parameters until the deferred host
operation completes</p>
</li>
<li>
<p><code><a href="chap47.html#VK_KHR_deferred_host_operations">VK_KHR_deferred_host_operations</a></code> is required again</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(4) What are the changes between the internal provisional
(VK_KHR_ray_tracing v9) release and the final (VK_KHR_acceleration_structure
v11 / VK_KHR_ray_tracing_pipeline v1) release?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>refactor VK_KHR_ray_tracing into 3 extensions, enabling implementation
flexibility and decoupling ray query support from ray pipelines:</p>
<div class="ulist">
<ul>
<li>
<p><code><a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> (for acceleration structure
operations)</p>
</li>
<li>
<p><code><a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code> (for ray tracing pipeline and
shader stages)</p>
</li>
<li>
<p><code><a href="chap47.html#VK_KHR_ray_query">VK_KHR_ray_query</a></code> (for ray queries in existing shader stages)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Require <code>Volatile</code> for the following builtins in the ray generation,
closest hit, miss, intersection, and callable shader stages:</p>
<div class="ulist">
<ul>
<li>
<p><code>SubgroupSize</code>, <code>SubgroupLocalInvocationId</code>, <code>SubgroupEqMask</code>,
<code>SubgroupGeMask</code>, <code>SubgroupGtMask</code>, <code>SubgroupLeMask</code>,
<code>SubgroupLtMask</code></p>
</li>
<li>
<p><code>SMIDNV</code>, <code>WarpIDNV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>clarify buffer usage flags for ray tracing</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_SHADER_BINDING_TABLE_BIT_KHR</code> is added as an alias
of <code>VK_BUFFER_USAGE_RAY_TRACING_BIT_NV</code> and is required on shader
binding table buffers</p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> is used in
<code><a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> for <code>scratchData</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>rename <code>maxRecursionDepth</code> to <code>maxRayPipelineRecursionDepth</code>
(pipeline creation) and <code>maxRayRecursionDepth</code> (limit) to reduce
confusion</p>
</li>
<li>
<p>Add queryable <code>maxRayHitAttributeSize</code> limit and rename members of
<a href="chap10.html#VkRayTracingPipelineInterfaceCreateInfoKHR">VkRayTracingPipelineInterfaceCreateInfoKHR</a> to
<code>maxPipelineRayPayloadSize</code> and <code>maxPipelineRayHitAttributeSize</code>
for clarity</p>
</li>
<li>
<p>Update SPIRV capabilities to use <code>RayTracingKHR</code></p>
</li>
<li>
<p>extension is no longer provisional</p>
</li>
<li>
<p>define synchronization requirements for indirect trace rays and indirect
buffer</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(5) This extension adds gl_InstanceID for the intersection, any-hit, and
closest hit shaders, but in KHR_vulkan_glsl, gl_InstanceID is replaced with
gl_InstanceIndex.
Which should be used for Vulkan in this extension?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: This extension uses gl_InstanceID and maps it to <code>InstanceId</code>
in SPIR-V.
It is acknowledged that this is different than other shader stages in
Vulkan.
There are two main reasons for the difference here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>symmetry with gl_PrimitiveID which is also available in these shaders</p>
</li>
<li>
<p>there is no “baseInstance” relevant for these shaders, and so ID makes
it more obvious that this is zero-based.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(6) Why is <code><a href="chap47.html#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></code> an interaction instead of a
required dependency, particularly when the “Feature Requirements” section
says it is required to be supported anyhow?</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: If <code><a href="chap47.html#VK_KHR_pipeline_library">VK_KHR_pipeline_library</a></code> were a required extension
dependency, then every application would need to enable the extension
whether or not they actually want to use the pipeline library functionality.
Developers found this to be annoying and unfriendly behavior.
We do wish to require all <strong>implementations</strong> to support it though, and thus
it is listed in the feature requirements section.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_sample_code_2"><a class="anchor" href="chap47.html#_sample_code_2"></a>Sample Code</h5>
<div class="paragraph">
<p>Example ray generation GLSL shader</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="cp">#version 450 core
#extension GL_EXT_ray_tracing : require
</span><span class="n">layout</span><span class="p">(</span><span class="n">set</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">binding</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">rgba8</span><span class="p">)</span> <span class="n">uniform</span> <span class="n">image2D</span> <span class="n">image</span><span class="p">;</span>
<span class="n">layout</span><span class="p">(</span><span class="n">set</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">binding</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="n">uniform</span> <span class="n">accelerationStructureEXT</span> <span class="n">as</span><span class="p">;</span>
<span class="n">layout</span><span class="p">(</span><span class="n">location</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="n">rayPayloadEXT</span> <span class="kt">float</span> <span class="n">payload</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
   <span class="n">vec4</span> <span class="n">col</span> <span class="o">=</span> <span class="n">vec4</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

   <span class="n">vec3</span> <span class="n">origin</span> <span class="o">=</span> <span class="n">vec3</span><span class="p">(</span><span class="kt">float</span><span class="p">(</span><span class="n">gl_LaunchIDEXT</span><span class="p">.</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="kt">float</span><span class="p">(</span><span class="n">gl_LaunchSizeEXT</span><span class="p">.</span><span class="n">x</span><span class="p">),</span> <span class="kt">float</span><span class="p">(</span><span class="n">gl_LaunchIDEXT</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="kt">float</span><span class="p">(</span><span class="n">gl_LaunchSizeEXT</span><span class="p">.</span><span class="n">y</span><span class="p">),</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
   <span class="n">vec3</span> <span class="n">dir</span> <span class="o">=</span> <span class="n">vec3</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>

   <span class="n">traceRayEXT</span><span class="p">(</span><span class="n">as</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">origin</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">dir</span><span class="p">,</span> <span class="mi">1000</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

   <span class="n">col</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">payload</span><span class="p">;</span>

   <span class="n">imageStore</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">ivec2</span><span class="p">(</span><span class="n">gl_LaunchIDEXT</span><span class="p">.</span><span class="n">xy</span><span class="p">),</span> <span class="n">col</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_40"><a class="anchor" href="chap47.html#_version_history_40"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-11-12 (Mathieu Robart, Daniel Koch, Eric Werness,
Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Decomposition of the specification, from VK_KHR_ray_tracing to
VK_KHR_ray_tracing_pipeline (#1918,!3912)</p>
</li>
<li>
<p>require certain subgroup and sm_shader_builtin shader builtins to be
decorated as volatile in the ray generation, closest hit, miss,
intersection, and callable stages (#1924,!3903,!3954)</p>
</li>
<li>
<p>clarify buffer usage flags for ray tracing (#2181,!3939)</p>
</li>
<li>
<p>rename maxRecursionDepth to maxRayPipelineRecursionDepth and
maxRayRecursionDepth (#2203,!3937)</p>
</li>
<li>
<p>add queryable maxRayHitAttributeSize and rename members of
VkRayTracingPipelineInterfaceCreateInfoKHR (#2102,!3966)</p>
</li>
<li>
<p>update to use <code>RayTracingKHR</code> SPIR-V capability</p>
</li>
<li>
<p>add VUs for matching hit group type against geometry type (#2245,!3994)</p>
</li>
<li>
<p>require <code>RayTMaxKHR</code> be volatile in intersection shaders
(#2268,!4030)</p>
</li>
<li>
<p>add numerical limits for ray parameters (#2235,!3960)</p>
</li>
<li>
<p>fix SBT indexing rules for device addresses (#2308,!4079)</p>
</li>
<li>
<p>relax formula for ray intersection candidate determination
(#2322,!4080)</p>
</li>
<li>
<p>add more details on <code>ShaderRecordBufferKHR</code> variables (#2230,!4083)</p>
</li>
<li>
<p>clarify valid bits for <code>InstanceCustomIndexKHR</code> (GLSL/GLSL#19,!4128)</p>
</li>
<li>
<p>allow at most one <code>IncomingRayPayloadKHR</code>,
<code>IncomingCallableDataKHR</code>, and <code>HitAttributeKHR</code> (!4129)</p>
</li>
<li>
<p>add minimum for maxShaderGroupStride (#2353,!4131)</p>
</li>
<li>
<p>require VK_KHR_pipeline_library extension to be supported (#2348,!4135)</p>
</li>
<li>
<p>clarify meaning of 'geometry index' (#2272,!4137)</p>
</li>
<li>
<p>restrict traces to TLAS (#2239,!4141)</p>
</li>
<li>
<p>add note about maxPipelineRayPayloadSize (#2383,!4172)</p>
</li>
<li>
<p>do not require raygen shader in pipeline libraries (!4185)</p>
</li>
<li>
<p>define sync for indirect trace rays and indirect buffer (#2407,!4208)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_ray_tracing_position_fetch"><a class="anchor" href="chap47.html#VK_KHR_ray_tracing_position_fetch"></a>VK_KHR_ray_tracing_position_fetch</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_ray_tracing_position_fetch</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>482</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_ray_tracing_position_fetch.html">SPV_KHR_ray_tracing_position_fetch</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_ray_tracing_position_fetch.adoc">VK_KHR_ray_tracing_position_fetch</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_41"><a class="anchor" href="chap47.html#_other_extension_metadata_41"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-02-17</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_ray_tracing_position_fetch.txt"><code>GLSL_EXT_ray_tracing_position_fetch</code></a></p>
</li>
<li>
<p>Interacts with <code><a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a></code></p>
</li>
<li>
<p>Interacts with <code><a href="chap47.html#VK_KHR_ray_query">VK_KHR_ray_query</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Yuriy O’Donnell, Epic Games</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Lionel Landwerlin, Intel</p>
</li>
<li>
<p>Andrew Garrard, Imagination Technologies</p>
</li>
<li>
<p>Alex Bourd, Qualcomm</p>
</li>
<li>
<p>Yunpeng Zhu, Huawei Technologies</p>
</li>
<li>
<p>Marius Bjorge, Arm</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_41"><a class="anchor" href="chap47.html#_description_41"></a>Description</h5>
<div class="paragraph">
<p><code>VK_KHR_ray_tracing_position_fetch</code> adds the ability to fetch the vertex
positions in the shader from a hit triangle as stored in the acceleration
structure.</p>
</div>
<div class="paragraph">
<p>An application adds
<code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_DATA_ACCESS_KHR</code> to the
acceleration structure at build time.
Then, if the hit is a triangle geometry, the shader (any-hit or closest hit
for ray pipelines or using ray query) <strong class="purple">can</strong> fetch the three, three-component
vertex positions in object space, of the triangle which was hit.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_41"><a class="anchor" href="chap47.html#_new_structures_41"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceRayTracingPositionFetchFeaturesKHR">VkPhysicalDeviceRayTracingPositionFetchFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_44"><a class="anchor" href="chap47.html#_new_enum_constants_44"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_RAY_TRACING_POSITION_FETCH_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_RAY_TRACING_POSITION_FETCH_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkBuildAccelerationStructureFlagBitsKHR">VkBuildAccelerationStructureFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_DATA_ACCESS_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_POSITION_FETCH_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_built_in_variables_3"><a class="anchor" href="chap47.html#_new_built_in_variables_3"></a>New Built-In Variables</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-hittrianglevertexpositions"><code>HitTriangleVertexPositionsKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_6"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_6"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-RayTracingPositionFetchKHR">RayTracingPositionFetchKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_29"><a class="anchor" href="chap47.html#_issues_29"></a>Issues</h5>
<div class="paragraph">
<p>None Yet!</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_41"><a class="anchor" href="chap47.html#_version_history_41"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-02-17 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_clock"><a class="anchor" href="chap47.html#VK_KHR_shader_clock"></a>VK_KHR_shader_clock</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_clock</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>182</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_shader_clock.html">SPV_KHR_shader_clock</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_clock] @ahagan%0A*Here describe the issue or question you have about the VK_KHR_shader_clock extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ahagan</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_42"><a class="anchor" href="chap47.html#_other_extension_metadata_42"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-4-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_shader_clock.txt"><code>GL_ARB_shader_clock</code></a> and
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shader_realtime_clock.txt"><code>GL_EXT_shader_realtime_clock</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan, AMD</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_42"><a class="anchor" href="chap47.html#_description_42"></a>Description</h5>
<div class="paragraph">
<p>This extension advertises the SPIR-V <code>ShaderClockKHR</code> capability for
Vulkan, which allows a shader to query a real-time or monotonically
incrementing counter at the subgroup level or across the device level.
The two valid SPIR-V scopes for <code>OpReadClockKHR</code> are <code>Subgroup</code> and
<code>Device</code>.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shading languages, the <code>clockRealtime*EXT</code>()
timing functions map to the <code>OpReadClockKHR</code> instruction with a scope of
<code>Device</code>, and the <code>clock*ARB</code>() timing functions map to the
<code>OpReadClockKHR</code> instruction with a scope of <code>Subgroup</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_42"><a class="anchor" href="chap47.html#_new_structures_42"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderClockFeaturesKHR">VkPhysicalDeviceShaderClockFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_45"><a class="anchor" href="chap47.html#_new_enum_constants_45"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_CLOCK_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_CLOCK_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_CLOCK_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_7"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_7"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-ShaderClockKHR"><code>ShaderClockKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_42"><a class="anchor" href="chap47.html#_version_history_42"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-4-25 (Aaron Hagan)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_expect_assume"><a class="anchor" href="chap47.html#VK_KHR_shader_expect_assume"></a>VK_KHR_shader_expect_assume</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_expect_assume</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>545</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_expect_assume.html">SPV_KHR_expect_assume</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kevin Petit <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_expect_assume] @kpet%0A*Here describe the issue or question you have about the VK_KHR_shader_expect_assume extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>kpet</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_shader_expect_assume.adoc">VK_KHR_shader_expect_assume</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_43"><a class="anchor" href="chap47.html#_other_extension_metadata_43"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-12-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kevin Petit, Arm</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>James Fitzpatrick, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_43"><a class="anchor" href="chap47.html#_description_43"></a>Description</h5>
<div class="paragraph">
<p>This extension allows the use of the <code>SPV_KHR_expect_assume</code> extension in
SPIR-V shader modules which enables SPIR-V producers to provide optimization
hints to the Vulkan implementation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_43"><a class="anchor" href="chap47.html#_new_structures_43"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderExpectAssumeFeaturesKHR">VkPhysicalDeviceShaderExpectAssumeFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_46"><a class="anchor" href="chap47.html#_new_enum_constants_46"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_EXPECT_ASSUME_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_EXPECT_ASSUME_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_EXPECT_ASSUME_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_8"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_8"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-ExpectAssumeKHR">ExpectAssumeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_43"><a class="anchor" href="chap47.html#_version_history_43"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-12-06 (Kevin Petit)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_float_controls2"><a class="anchor" href="chap47.html#VK_KHR_shader_float_controls2"></a>VK_KHR_shader_float_controls2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_float_controls2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>529</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br>
and<br>
<a href="chap47.html#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_float_controls2.html">SPV_KHR_float_controls2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_float_controls2] @gnl21%0A*Here describe the issue or question you have about the VK_KHR_shader_float_controls2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gnl21</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_shader_float_controls2.adoc">VK_KHR_shader_float_controls2</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_44"><a class="anchor" href="chap47.html#_other_extension_metadata_44"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-05-16</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_float_controls2.html"><code>SPV_KHR_float_controls2</code></a>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_44"><a class="anchor" href="chap47.html#_description_44"></a>Description</h5>
<div class="paragraph">
<p>This extension enables use of the more expressive fast floating-point math
flags in the SPV_KHR_float_controls2 extension.
These flags give finer- grained control over which optimisations compilers
may apply, potentially speeding up execution while retaining correct
results.</p>
</div>
<div class="paragraph">
<p>The extension also adds control over the fast-math modes to the GLSL
extended instruction set, making these operations more consistent with
SPIR-V and allowing their use in situations where floating-point conformance
is important.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_44"><a class="anchor" href="chap47.html#_new_structures_44"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderFloatControls2FeaturesKHR">VkPhysicalDeviceShaderFloatControls2FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_47"><a class="anchor" href="chap47.html#_new_enum_constants_47"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_FLOAT_CONTROLS_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_FLOAT_CONTROLS_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_FLOAT_CONTROLS_2_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_9"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_9"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-FloatControls2">FloatControls2</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_44"><a class="anchor" href="chap47.html#_version_history_44"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-05-16 (Graeme Leese)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_integer_dot_product"><a class="anchor" href="chap47.html#VK_KHR_shader_integer_dot_product"></a>VK_KHR_shader_integer_dot_product</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_integer_dot_product</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>281</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_integer_dot_product.html">SPV_KHR_integer_dot_product</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.3</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kevin Petit <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_integer_dot_product] @kpet%0A*Here describe the issue or question you have about the VK_KHR_shader_integer_dot_product extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>kpet</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_shader_integer_dot_product.adoc">VK_KHR_shader_integer_dot_product</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_45"><a class="anchor" href="chap47.html#_other_extension_metadata_45"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-06-16</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension interacts with <code><a href="chap47.html#VK_KHR_shader_float16_int8">VK_KHR_shader_float16_int8</a></code>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kévin Petit, Arm Ltd.</p>
</li>
<li>
<p>Jeff Bolz, NVidia</p>
</li>
<li>
<p>Spencer Fricke, Samsung</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Einar Hov, Arm Ltd.</p>
</li>
<li>
<p>Stuart Brady, Arm Ltd.</p>
</li>
<li>
<p>Pablo Cascon, Arm Ltd.</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Ruihao Zhang, Qualcomm</p>
</li>
<li>
<p>Pierre Boudier, NVidia</p>
</li>
<li>
<p>Jon Leech, The Khronos Group</p>
</li>
<li>
<p>Tom Olson, Arm Ltd.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_45"><a class="anchor" href="chap47.html#_description_45"></a>Description</h5>
<div class="paragraph">
<p>This extension adds support for the integer dot product SPIR-V instructions
defined in SPV_KHR_integer_dot_product.
These instructions are particularly useful for neural network inference and
training but find uses in other general-purpose compute applications as
well.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_45"><a class="anchor" href="chap47.html#_new_structures_45"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderIntegerDotProductFeaturesKHR">VkPhysicalDeviceShaderIntegerDotProductFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkPhysicalDeviceShaderIntegerDotProductPropertiesKHR">VkPhysicalDeviceShaderIntegerDotProductPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_48"><a class="anchor" href="chap47.html#_new_enum_constants_48"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_INTEGER_DOT_PRODUCT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_INTEGER_DOT_PRODUCT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_INTEGER_DOT_PRODUCT_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_INTEGER_DOT_PRODUCT_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_3_5"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_3_5"></a>Promotion to Vulkan 1.3</h5>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_10"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_10"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-DotProductInputAllKHR"><code>DotProductInputAllKHR</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-DotProductInput4x8BitKHR"><code>DotProductInput4x8BitKHR</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-DotProductInput4x8BitPackedKHR"><code>DotProductInput4x8BitPackedKHR</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-DotProductKHR"><code>DotProductKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_45"><a class="anchor" href="chap47.html#_version_history_45"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-06-16 (Kévin Petit)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_maximal_reconvergence"><a class="anchor" href="chap47.html#VK_KHR_shader_maximal_reconvergence"></a>VK_KHR_shader_maximal_reconvergence</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_maximal_reconvergence</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>435</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_maximal_reconvergence.html">SPV_KHR_maximal_reconvergence</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_maximal_reconvergence] @alan-baker%0A*Here describe the issue or question you have about the VK_KHR_shader_maximal_reconvergence extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alan-baker</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_shader_maximal_reconvergence.adoc">VK_KHR_shader_maximal_reconvergence</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_46"><a class="anchor" href="chap47.html#_other_extension_metadata_46"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-11-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires SPIR-V 1.3.</p>
</li>
<li>
<p>This extension requires
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_maximal_reconvergence.html"><code>SPV_KHR_maximal_reconvergence</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_46"><a class="anchor" href="chap47.html#_description_46"></a>Description</h5>
<div class="paragraph">
<p>This extension allows the use of the <code>SPV_KHR_maximal_reconvergence</code> SPIR-V
extension in shader modules.
<code>SPV_KHR_maximal_reconvergence</code> provides stronger guarantees that diverged
subgroups will reconverge.
These guarantees should match shader author intuition about divergence and
reconvergence of invocations based on the structure of the code in the HLL.</p>
</div>
<div class="paragraph">
<p>Developers should utilize this extension if they require stronger guarantees
about reconvergence than either the core spec or
SPV_KHR_subgroup_uniform_control_flow.
This extension will define the rules that govern how invocations diverge and
reconverge in a way that should match developer intuition.
It allows robust programs to be written relying on subgroup operations and
other tangled instructions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_46"><a class="anchor" href="chap47.html#_new_structures_46"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderMaximalReconvergenceFeaturesKHR">VkPhysicalDeviceShaderMaximalReconvergenceFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_49"><a class="anchor" href="chap47.html#_new_enum_constants_49"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_MAXIMAL_RECONVERGENCE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_MAXIMAL_RECONVERGENCE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_MAXIMAL_RECONVERGENCE_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_11"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_11"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-MaximallyReconvergesKHR">MaximallyReconvergesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_46"><a class="anchor" href="chap47.html#_version_history_46"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-11-12 (Alan Baker)</p>
<div class="ulist">
<ul>
<li>
<p>Internal draft version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_non_semantic_info"><a class="anchor" href="chap47.html#VK_KHR_shader_non_semantic_info"></a>VK_KHR_shader_non_semantic_info</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_non_semantic_info</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>294</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_non_semantic_info.html">SPV_KHR_non_semantic_info</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.3</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_non_semantic_info] @baldurk%0A*Here describe the issue or question you have about the VK_KHR_shader_non_semantic_info extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>baldurk</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_47"><a class="anchor" href="chap47.html#_other_extension_metadata_47"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-10-16</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_47"><a class="anchor" href="chap47.html#_description_47"></a>Description</h5>
<div class="paragraph">
<p>This extension allows the use of the <code>SPV_KHR_non_semantic_info</code> extension
in SPIR-V shader modules.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_50"><a class="anchor" href="chap47.html#_new_enum_constants_50"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_NON_SEMANTIC_INFO_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_NON_SEMANTIC_INFO_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_3_6"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_3_6"></a>Promotion to Vulkan 1.3</h5>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3 Because the
extension has no API controlling its functionality, this results only in a
change to the <a href="chap43.html#spirvenv-extensions-table">SPIR-V Extensions table</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_47"><a class="anchor" href="chap47.html#_version_history_47"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-10-16 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_quad_control"><a class="anchor" href="chap47.html#VK_KHR_shader_quad_control"></a>VK_KHR_shader_quad_control</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_quad_control</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>236</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br>
and<br>
<a href="chap47.html#VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</a><br>
and<br>
<a href="chap47.html#VK_KHR_shader_maximal_reconvergence">VK_KHR_shader_maximal_reconvergence</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_quad_control.html">SPV_KHR_quad_control</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_quad_control] @tobski%0A*Here describe the issue or question you have about the VK_KHR_shader_quad_control extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_shader_quad_control.adoc">VK_KHR_shader_quad_control</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_48"><a class="anchor" href="chap47.html#_other_extension_metadata_48"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-11-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Bill Licea-Kane, Qualcomm</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Nicolai Hähnle, AMD</p>
</li>
<li>
<p>Jeff Bolz, NVidia</p>
</li>
<li>
<p>Alan Baker, Google</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_48"><a class="anchor" href="chap47.html#_description_48"></a>Description</h5>
<div class="paragraph">
<p>This extension adds new quad any/all operations, requires that derivatives
are well-defined in quad-uniform control flow, and adds the ability to
require helper invocations participate in group operations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_47"><a class="anchor" href="chap47.html#_new_structures_47"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderQuadControlFeaturesKHR">VkPhysicalDeviceShaderQuadControlFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_51"><a class="anchor" href="chap47.html#_new_enum_constants_51"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_QUAD_CONTROL_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_QUAD_CONTROL_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_QUAD_CONTROL_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_12"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_12"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-QuadControlKHR">QuadControlKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_48"><a class="anchor" href="chap47.html#_version_history_48"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-11-01 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_subgroup_rotate"><a class="anchor" href="chap47.html#VK_KHR_shader_subgroup_rotate"></a>VK_KHR_shader_subgroup_rotate</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_subgroup_rotate</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>417</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_subgroup_rotate.html">SPV_KHR_subgroup_rotate</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kevin Petit <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_subgroup_rotate] @kpet%0A*Here describe the issue or question you have about the VK_KHR_shader_subgroup_rotate extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>kpet</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_shader_subgroup_rotate.adoc">VK_KHR_shader_subgroup_rotate</a></p>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2024-01-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kévin Petit, Arm Ltd.</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>John Leech, Khronos</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm Ltd.</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Tom Olson, Arm Ltd.</p>
</li>
<li>
<p>Spencer Fricke, LunarG Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the subgroup rotate instruction defined in
SPV_KHR_subgroup_rotate.</p>
</div>
<div class="sect4">
<h5 id="_new_structures_48"><a class="anchor" href="chap47.html#_new_structures_48"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderSubgroupRotateFeaturesKHR">VkPhysicalDeviceShaderSubgroupRotateFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_52"><a class="anchor" href="chap47.html#_new_enum_constants_52"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_SUBGROUP_ROTATE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_SUBGROUP_ROTATE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_SUBGROUP_ROTATE_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap39.html#VkSubgroupFeatureFlagBits">VkSubgroupFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBGROUP_FEATURE_ROTATE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SUBGROUP_FEATURE_ROTATE_CLUSTERED_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_13"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_13"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-GroupNonUniformRotateKHR">GroupNonUniformRotateKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_49"><a class="anchor" href="chap47.html#_version_history_49"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2024-01-29 (Kévin Petit)</p>
<div class="ulist">
<ul>
<li>
<p>Add <code>VK_SUBGROUP_FEATURE_ROTATE_BIT_KHR</code> and
<code>VK_SUBGROUP_FEATURE_ROTATE_CLUSTERED_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2023-06-20 (Kévin Petit)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_subgroup_uniform_control_flow"><a class="anchor" href="chap47.html#VK_KHR_shader_subgroup_uniform_control_flow"></a>VK_KHR_shader_subgroup_uniform_control_flow</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_subgroup_uniform_control_flow</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>324</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_subgroup_uniform_control_flow.html">SPV_KHR_subgroup_uniform_control_flow</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_subgroup_uniform_control_flow] @alan-baker%0A*Here describe the issue or question you have about the VK_KHR_shader_subgroup_uniform_control_flow extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alan-baker</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_49"><a class="anchor" href="chap47.html#_other_extension_metadata_49"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-08-27</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires SPIR-V 1.3.</p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_subgroupuniform_qualifier.txt"><code>GL_EXT_subgroupuniform_qualifier</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker, Google</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_49"><a class="anchor" href="chap47.html#_description_49"></a>Description</h5>
<div class="paragraph">
<p>This extension allows the use of the <code>SPV_KHR_subgroup_uniform_control_flow</code>
SPIR-V extension in shader modules.
<code>SPV_KHR_subgroup_uniform_control_flow</code> provides stronger guarantees that
diverged subgroups will reconverge.</p>
</div>
<div class="paragraph">
<p>Developers should utilize this extension if they use subgroup operations to
reduce the work performed by a uniform subgroup.
This extension will guarantee that uniform subgroup will reconverge in the
same manner as invocation groups (see “Uniform Control Flow” in the
<a href="chap2.html#spirv-spec">Khronos SPIR-V Specification</a>).</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_49"><a class="anchor" href="chap47.html#_new_structures_49"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderSubgroupUniformControlFlowFeaturesKHR">VkPhysicalDeviceShaderSubgroupUniformControlFlowFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_53"><a class="anchor" href="chap47.html#_new_enum_constants_53"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_SUBGROUP_UNIFORM_CONTROL_FLOW_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_SUBGROUP_UNIFORM_CONTROL_FLOW_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_SUBGROUP_UNIFORM_CONTROL_FLOW_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_50"><a class="anchor" href="chap47.html#_version_history_50"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-08-27 (Alan Baker)</p>
<div class="ulist">
<ul>
<li>
<p>Internal draft version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_terminate_invocation"><a class="anchor" href="chap47.html#VK_KHR_shader_terminate_invocation"></a>VK_KHR_shader_terminate_invocation</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_terminate_invocation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>216</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_terminate_invocation.html">SPV_KHR_terminate_invocation</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.3</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_terminate_invocation] @critsec%0A*Here describe the issue or question you have about the VK_KHR_shader_terminate_invocation extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_50"><a class="anchor" href="chap47.html#_other_extension_metadata_50"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-08-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker, Google</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_50"><a class="anchor" href="chap47.html#_description_50"></a>Description</h5>
<div class="paragraph">
<p>This extension adds Vulkan support for the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_terminate_invocation.html"><code>SPV_KHR_terminate_invocation</code></a>
SPIR-V extension.
That SPIR-V extension provides a new instruction,
<code>OpTerminateInvocation</code>, which causes a shader invocation to immediately
terminate and sets the coverage of shaded samples to <code>0</code>; only previously
executed instructions will have observable effects.
The <code>OpTerminateInvocation</code> instruction, along with the
<code>OpDemoteToHelperInvocation</code> instruction from the
<code><code>VK_EXT_shader_demote_to_helper_invocation</code></code> extension, together
replace the <code>OpKill</code> instruction, which could behave like either of these
instructions.
<code>OpTerminateInvocation</code> provides the behavior required by the GLSL
<code>discard</code> statement, and should be used when available by GLSL compilers
and applications that need the GLSL <code>discard</code> behavior.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_50"><a class="anchor" href="chap47.html#_new_structures_50"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderTerminateInvocationFeaturesKHR">VkPhysicalDeviceShaderTerminateInvocationFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_54"><a class="anchor" href="chap47.html#_new_enum_constants_54"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_TERMINATE_INVOCATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_TERMINATE_INVOCATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_TERMINATE_INVOCATION_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_3_7"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_3_7"></a>Promotion to Vulkan 1.3</h5>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_51"><a class="anchor" href="chap47.html#_version_history_51"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-08-11 (Jesse Hall)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shared_presentable_image"><a class="anchor" href="chap47.html#VK_KHR_shared_presentable_image"></a>VK_KHR_shared_presentable_image</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shared_presentable_image</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>112</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
<a href="chap47.html#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a><br>
and<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; or<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alon Or-bach <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shared_presentable_image] @alonorbach%0A*Here describe the issue or question you have about the VK_KHR_shared_presentable_image extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alonorbach</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_51"><a class="anchor" href="chap47.html#_other_extension_metadata_51"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alon Or-bach, Samsung Electronics</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Pablo Ceballos, Google</p>
</li>
<li>
<p>Chris Forbes, Google</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Graham Connor, Imagination Technologies</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Johannes Van Waveren, Oculus</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_51"><a class="anchor" href="chap47.html#_description_51"></a>Description</h5>
<div class="paragraph">
<p>This extension extends <code><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code> to enable creation of a
shared presentable image.
This allows the application to use the image while the presention engine is
accessing it, in order to reduce the latency between rendering and
presentation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_34"><a class="anchor" href="chap47.html#_new_commands_34"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkGetSwapchainStatusKHR">vkGetSwapchainStatusKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_51"><a class="anchor" href="chap47.html#_new_structures_51"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap30.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_55"><a class="anchor" href="chap47.html#_new_enum_constants_55"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHARED_PRESENTABLE_IMAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHARED_PRESENTABLE_IMAGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap30.html#VkPresentModeKHR">VkPresentModeKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code></p>
</li>
<li>
<p><code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SHARED_PRESENT_SURFACE_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_30"><a class="anchor" href="chap47.html#_issues_30"></a>Issues</h5>
<div class="paragraph">
<p>1) Should we allow a Vulkan WSI swapchain to toggle between normal usage and
shared presentation usage?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
WSI swapchains are typically recreated with new properties instead of having
their properties changed.
This can also save resources, assuming that fewer images are needed for
shared presentation, and assuming that most VR applications do not need to
switch between normal and shared usage.</p>
</div>
<div class="paragraph">
<p>2) Should we have a query for determining how the presentation engine
refresh is triggered?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is done via which presentation modes a surface supports.</p>
</div>
<div class="paragraph">
<p>3) Should the object representing a shared presentable image be an extension
of a <a href="chap30.html#VkSwapchainKHR">VkSwapchainKHR</a> or a separate object?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Extension of a swapchain due to overlap in creation properties
and to allow common functionality between shared and normal presentable
images and swapchains.</p>
</div>
<div class="paragraph">
<p>4) What should we call the extension and the new structures it creates?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Shared presentable image / shared present.</p>
</div>
<div class="paragraph">
<p>5) Should the <code>minImageCount</code> and <code>presentMode</code> values of the
<a href="chap30.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> be ignored, or required to be compatible
values?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>minImageCount</code> must be set to 1, and <code>presentMode</code>
should be set to either <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>.</p>
</div>
<div class="paragraph">
<p>6) What should the layout of the shared presentable image be?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: After acquiring the shared presentable image, the application
must transition it to the <code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code> layout
prior to it being used.
After this initial transition, any image usage that was requested during
swapchain creation <strong class="purple">can</strong> be performed on the image without layout transitions
being performed.</p>
</div>
<div class="paragraph">
<p>7) Do we need a new API for the trigger to refresh new content?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <a href="chap30.html#vkQueuePresentKHR">vkQueuePresentKHR</a> to act as API to trigger a refresh, as
will allow combination with other compatible extensions to
<a href="chap30.html#vkQueuePresentKHR">vkQueuePresentKHR</a>.</p>
</div>
<div class="paragraph">
<p>8) How should an application detect a <code>VK_ERROR_OUT_OF_DATE_KHR</code> error
on a swapchain using the <code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>
present mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Introduce <a href="chap30.html#vkGetSwapchainStatusKHR">vkGetSwapchainStatusKHR</a> to allow applications to
query the status of a swapchain using a shared presentation mode.</p>
</div>
<div class="paragraph">
<p>9) What should subsequent calls to <a href="chap30.html#vkQueuePresentKHR">vkQueuePresentKHR</a> for
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> swapchains be defined to
do?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: State that implementations may use it as a hint for updated
content.</p>
</div>
<div class="paragraph">
<p>10) Can the ownership of a shared presentable image be transferred to a
different queue?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It is not possible to transfer ownership of a shared presentable image
obtained from a swapchain created using <code>VK_SHARING_MODE_EXCLUSIVE</code>
after it has been presented.</p>
</div>
<div class="paragraph">
<p>11) How should <a href="chap6.html#vkQueueSubmit">vkQueueSubmit</a> behave if a command buffer uses an image
from a <code>VK_ERROR_OUT_OF_DATE_KHR</code> swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <a href="chap6.html#vkQueueSubmit">vkQueueSubmit</a> is expected to return the
<code>VK_ERROR_DEVICE_LOST</code> error.</p>
</div>
<div class="paragraph">
<p>12) Can Vulkan provide any guarantee on the order of rendering, to enable
beam chasing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This could be achieved via use of render passes to ensure strip
rendering.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_52"><a class="anchor" href="chap47.html#_version_history_52"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-20 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_surface"><a class="anchor" href="chap47.html#VK_KHR_surface"></a>VK_KHR_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>25</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_surface] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_surface] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_52"><a class="anchor" href="chap47.html#_other_extension_metadata_52"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_52"><a class="anchor" href="chap47.html#_description_52"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_surface</code> extension is an instance extension.
It introduces <a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> objects, which abstract native platform
surface or window objects for use with Vulkan.
It also provides a way to determine whether a queue family in a physical
device supports presenting to particular surface.</p>
</div>
<div class="paragraph">
<p>Separate extensions for each platform provide the mechanisms for creating
<a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> objects, but once created they may be used in this and
other platform-independent extensions, in particular the
<code><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_object_types_6"><a class="anchor" href="chap47.html#_new_object_types_6"></a>New Object Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_35"><a class="anchor" href="chap47.html#_new_commands_35"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkDestroySurfaceKHR">vkDestroySurfaceKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_52"><a class="anchor" href="chap47.html#_new_structures_52"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkSurfaceFormatKHR">VkSurfaceFormatKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_18"><a class="anchor" href="chap47.html#_new_enums_18"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkColorSpaceKHR">VkColorSpaceKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkPresentModeKHR">VkPresentModeKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_12"><a class="anchor" href="chap47.html#_new_bitmasks_12"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkCompositeAlphaFlagsKHR">VkCompositeAlphaFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_56"><a class="anchor" href="chap47.html#_new_enum_constants_56"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap42.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_SURFACE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_examples_6"><a class="anchor" href="chap47.html#_examples_6"></a>Examples</h5>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code>VK_KHR_surface</code> and <code><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code>
extensions was removed from the appendix after revision 1.0.29.
This WSI example code was ported to the cube demo that is shipped with the
official Khronos SDK, and is being kept up-to-date in that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="_issues_31"><a class="anchor" href="chap47.html#_issues_31"></a>Issues</h5>
<div class="paragraph">
<p>1) Should this extension include a method to query whether a physical device
supports presenting to a specific window or native surface on a given
platform?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Without this, applications would need to create a device instance to
determine whether a particular window can be presented to.
Knowing that a device supports presentation to a platform in general is not
sufficient, as a single machine might support multiple seats, or instances
of the platform that each use different underlying physical devices.
Additionally, on some platforms, such as the X Window System, different
drivers and devices might be used for different windows depending on which
section of the desktop they exist on.</p>
</div>
<div class="paragraph">
<p>2) Should the <a href="chap30.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>,
<a href="chap30.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a>, and
<a href="chap30.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a> functions be in this
extension and operate on physical devices, rather than being in
<code><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code> (i.e. device extension) and being dependent on
<a href="chap5.html#VkDevice">VkDevice</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
While it might be useful to depend on <code>VkDevice</code> (and therefore on
enabled extensions and features) for the queries, Vulkan was released only
with the <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> versions.
Many cases can be resolved by a Valid Usage statement, and/or by a separate
<code>pNext</code> chain version of the query struct specific to a given extension
or parameters, via extensible versions of the queries:
<a href="chap30.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>, and
<a href="chap30.html#vkGetPhysicalDeviceSurfaceFormats2KHR">vkGetPhysicalDeviceSurfaceFormats2KHR</a>.</p>
</div>
<div class="paragraph">
<p>3) Should Vulkan support Xlib or XCB as the API for accessing the X Window
System platform?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Both.
XCB is a more modern and efficient API, but Xlib usage is deeply ingrained
in many applications and likely will remain in use for the foreseeable
future.
Not all drivers necessarily need to support both, but including both as
options in the core specification will probably encourage support, which
should in turn ease adoption of the Vulkan API in older codebases.
Additionally, the performance improvements possible with XCB likely will not
have a measurable impact on the performance of Vulkan presentation and other
minimal window system interactions defined here.</p>
</div>
<div class="paragraph">
<p>4) Should the GBM platform be included in the list of platform enums?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Deferred, and will be addressed with a platform-specific
extension to be written in the future.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_53"><a class="anchor" href="chap47.html#_version_history_53"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-05-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG KHR spec, other KHR specs, patches
attached to bugs.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-05-22 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Created initial Description section.</p>
</li>
<li>
<p>Removed query for whether a platform requires the use of a queue for
presentation, since it was decided that presentation will always be
modeled as being part of the queue.</p>
</li>
<li>
<p>Fixed typos and other minor mistakes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-05-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Improved the Description section.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed compilation errors in example code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 1 and 2 and made related spec updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Merged the platform type mappings table previously removed from
VK_KHR_swapchain with the platform description table in this spec.</p>
</li>
<li>
<p>Added issues 3 and 4 documenting choices made when building the initial
list of native platforms supported.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-06-11 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Updated table 1 per input from the KHR TSG.</p>
</li>
<li>
<p>Updated issue 4 (GBM) per discussion with Daniel Stone.
He will create a platform-specific extension sometime in the future.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated enum-extending values using new convention.</p>
</li>
<li>
<p>Fixed the value of VK_SURFACE_PLATFORM_INFO_TYPE_SUPPORTED_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased on Vulkan API version 126.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-06-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Marked issues 2 and 3 resolved.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-06-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Examples now show use of function pointers for extension functions.</p>
</li>
<li>
<p>Eliminated extraneous whitespace.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-07-07 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added error section describing when each error is expected to be
reported.</p>
</li>
<li>
<p>Replaced the term “queue node index” with “queue family index” in
the spec as that is the agreed term to be used in the latest version of
the core header and spec.</p>
</li>
<li>
<p>Replaced bool32_t with VkBool32.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-08-06 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated spec against latest core API header version.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-08-20 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from “revision” to “version”, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
<li>
<p>Did miscellaneous cleanup, etc.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-08-20 (Ian Elliott—​porting a 2015-07-29 change from
James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the surface transform enums here from VK_WSI_swapchain so they
could be reused by VK_WSI_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fix example code compilation errors.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-09-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replaced VkSurfaceDescriptionKHR with the VkSurfaceKHR object, which is
created via layered extensions.
Added VkDestroySurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-09-28 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_swapchain to VK_EXT_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-09-30 (Jeff Vigil)</p>
<div class="ulist">
<ul>
<li>
<p>Add error result VK_ERROR_SURFACE_LOST_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-10-15 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the resolution of issue #2 and include the surface capability
queries in this extension.</p>
</li>
<li>
<p>Renamed SurfaceProperties to SurfaceCapabilities as it better reflects
that the values returned are the capabilities of the surface on a
particular device.</p>
</li>
<li>
<p>Other minor cleanup and consistency changes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_surface to VK_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkDestroySurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 24, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Removed VkSurfaceTransformKHR.
Use VkSurfaceTransformFlagBitsKHR instead.</p>
</li>
<li>
<p>Rename VkSurfaceCapabilitiesKHR member maxImageArraySize to
maxImageArrayLayers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 25, 2016-01-14 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the VK_KHR_android_surface
to the VK_KHR_surface extension.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Update the example code, to not have so many characters per line, and
to split out a new example to show how to obtain function pointers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>A note was added at the beginning of the example code, stating that it
will be removed from future versions of the appendix.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_surface_protected_capabilities"><a class="anchor" href="chap47.html#VK_KHR_surface_protected_capabilities"></a>VK_KHR_surface_protected_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_surface_protected_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>240</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br>
and<br>
<a href="chap47.html#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Sandeep Shinde <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_surface_protected_capabilities] @sashinde%0A*Here describe the issue or question you have about the VK_KHR_surface_protected_capabilities extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>sashinde</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_53"><a class="anchor" href="chap47.html#_other_extension_metadata_53"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-18</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Sandeep Shinde, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_53"><a class="anchor" href="chap47.html#_description_53"></a>Description</h5>
<div class="paragraph">
<p>This extension extends <a href="chap30.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a>, providing
applications a way to query whether swapchains <strong class="purple">can</strong> be created with the
<code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code> flag set.</p>
</div>
<div class="paragraph">
<p>Vulkan 1.1 added (optional) support for protect memory and protected
resources including buffers (<code>VK_BUFFER_CREATE_PROTECTED_BIT</code>), images
(<code>VK_IMAGE_CREATE_PROTECTED_BIT</code>), and swapchains
(<code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code>).
However, on implementations which support multiple windowing systems, not
all window systems <strong class="purple">may</strong> be able to provide a protected display path.</p>
</div>
<div class="paragraph">
<p>This extension provides a way to query if a protected swapchain created for
a surface (and thus a specific windowing system) <strong class="purple">can</strong> be displayed on
screen.
It extends the existing <a href="chap30.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a> structure with a new
<a href="chap30.html#VkSurfaceProtectedCapabilitiesKHR">VkSurfaceProtectedCapabilitiesKHR</a> structure from which the application
<strong class="purple">can</strong> obtain information about support for protected swapchain creation
through <a href="chap30.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_53"><a class="anchor" href="chap47.html#_new_structures_53"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap30.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkSurfaceProtectedCapabilitiesKHR">VkSurfaceProtectedCapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_57"><a class="anchor" href="chap47.html#_new_enum_constants_57"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SURFACE_PROTECTED_CAPABILITIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SURFACE_PROTECTED_CAPABILITIES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_PROTECTED_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_54"><a class="anchor" href="chap47.html#_version_history_54"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-12-18 (Sandeep Shinde, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_swapchain"><a class="anchor" href="chap47.html#VK_KHR_swapchain"></a>VK_KHR_swapchain</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_swapchain</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>70</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_VERSION_1_1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_swapchain] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_swapchain extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_swapchain] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_swapchain extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_54"><a class="anchor" href="chap47.html#_other_extension_metadata_54"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Mathias Heyer, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_54"><a class="anchor" href="chap47.html#_description_54"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_swapchain</code> extension is the device-level companion to the
<code><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a></code> extension.
It introduces <a href="chap30.html#VkSwapchainKHR">VkSwapchainKHR</a> objects, which provide the ability to
present rendering results to a surface.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_object_types_7"><a class="anchor" href="chap47.html#_new_object_types_7"></a>New Object Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkSwapchainKHR">VkSwapchainKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_36"><a class="anchor" href="chap47.html#_new_commands_36"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetSwapchainImagesKHR">vkGetSwapchainImagesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkQueuePresentKHR">vkQueuePresentKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap46.html#versions-1.1">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetDeviceGroupPresentCapabilitiesKHR">vkGetDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetDeviceGroupSurfacePresentModesKHR">vkGetDeviceGroupSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDevicePresentRectanglesKHR">vkGetPhysicalDevicePresentRectanglesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_54"><a class="anchor" href="chap47.html#_new_structures_54"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkPresentInfoKHR">VkPresentInfoKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap46.html#versions-1.1">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkBindImageMemoryInfo">VkBindImageMemoryInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBindImageMemorySwapchainInfoKHR">VkBindImageMemorySwapchainInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkImageSwapchainCreateInfoKHR">VkImageSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap30.html#VkPresentInfoKHR">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap30.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_19"><a class="anchor" href="chap47.html#_new_enums_19"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap46.html#versions-1.1">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_13"><a class="anchor" href="chap47.html#_new_bitmasks_13"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkSwapchainCreateFlagsKHR">VkSwapchainCreateFlagsKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap46.html#versions-1.1">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeviceGroupPresentModeFlagsKHR">VkDeviceGroupPresentModeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_58"><a class="anchor" href="chap47.html#_new_enum_constants_58"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SWAPCHAIN_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SWAPCHAIN_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap42.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_SWAPCHAIN_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap46.html#versions-1.1">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_SWAPCHAIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap30.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_PROTECTED_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_32"><a class="anchor" href="chap47.html#_issues_32"></a>Issues</h5>
<div class="paragraph">
<p>1) Does this extension allow the application to specify the memory backing
of the presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Unlike standard images, the implementation will allocate the memory backing
of the presentable image.</p>
</div>
<div class="paragraph">
<p>2) What operations are allowed on presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This is determined by the image usage flags specified when
creating the presentable image’s swapchain.</p>
</div>
<div class="paragraph">
<p>3) Does this extension support MSAA presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Presentable images are always single-sampled.
Multi-sampled rendering must use regular images.
To present the rendering results the application must manually resolve the
multi- sampled image to a single-sampled presentable image prior to
presentation.</p>
</div>
<div class="paragraph">
<p>4) Does this extension support stereo/multi-view presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The number of views associated with a presentable image is determined by the
<code>imageArrayLayers</code> specified when creating a swapchain.
All presentable images in a given swapchain use the same array size.</p>
</div>
<div class="paragraph">
<p>5) Are the layers of stereo presentable images half-sized?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The image extents always match those requested by the application.</p>
</div>
<div class="paragraph">
<p>6) Do the “present” and “acquire next image” commands operate on a
queue? If not, do they need to include explicit semaphore objects to
interlock them with queue operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The present command operates on a queue.
The image ownership operation it represents happens in order with other
operations on the queue, so no explicit semaphore object is required to
synchronize its actions.</p>
</div>
<div class="paragraph">
<p>Applications may want to acquire the next image in separate threads from
those in which they manage their queue, or in multiple threads.
To make such usage easier, the acquire next image command takes a semaphore
to signal as a method of explicit synchronization.
The application must later queue a wait for this semaphore before queuing
execution of any commands using the image.</p>
</div>
<div class="paragraph">
<p>7) Does <a href="chap30.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> block if no images are available?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The command takes a timeout parameter.
Special values for the timeout are 0, which makes the call a non-blocking
operation, and <code>UINT64_MAX</code>, which blocks indefinitely.
Values in between will block for up to the specified time.
The call will return when an image becomes available or an error occurs.
It may, but is not required to, return before the specified timeout expires
if the swapchain becomes out of date.</p>
</div>
<div class="paragraph">
<p>8) Can multiple presents be queued using one <a href="chap30.html#vkQueuePresentKHR">vkQueuePresentKHR</a> call?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
<a href="chap30.html#VkPresentInfoKHR">VkPresentInfoKHR</a> contains a list of swapchains and corresponding image
indices that will be presented.
When supported, all presentations queued with a single
<a href="chap30.html#vkQueuePresentKHR">vkQueuePresentKHR</a> call will be applied atomically as one operation.
The same swapchain must not appear in the list more than once.
Later extensions may provide applications stronger guarantees of atomicity
for such present operations, and/or allow them to query whether atomic
presentation of a particular group of swapchains is possible.</p>
</div>
<div class="paragraph">
<p>9) How do the presentation and acquire next image functions notify the
application the targeted surface has changed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Two new result codes are introduced for this purpose:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code> - Presentation will still succeed, subject to
the window resize behavior, but the swapchain is no longer configured
optimally for the surface it targets.
Applications should query updated surface information and recreate their
swapchain at the next convenient opportunity.</p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code> - Failure.
The swapchain is no longer compatible with the surface it targets.
The application must query updated surface information and recreate the
swapchain before presentation will succeed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These can be returned by both <a href="chap30.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> and
<a href="chap30.html#vkQueuePresentKHR">vkQueuePresentKHR</a>.</p>
</div>
<div class="paragraph">
<p>10) Does the <a href="chap30.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> command return a semaphore to the
application via an output parameter, or accept a semaphore to signal from
the application as an object handle parameter?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Accept a semaphore to signal as an object handle.
This avoids the need to specify whether the application must destroy the
semaphore or whether it is owned by the swapchain, and if the latter, what
its lifetime is and whether it can be reused for other operations once it is
received from <a href="chap30.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>.</p>
</div>
<div class="paragraph">
<p>11) What types of swapchain queuing behavior should be exposed? Options
include swap interval specification, mailbox/most recent vs. FIFO queue
management, targeting specific vertical blank intervals or absolute times
for a given present operation, and probably others.
For some of these, whether they are specified at swapchain creation time or
as per-present parameters needs to be decided as well.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The base swapchain extension will expose 3 possible behaviors
(of which, FIFO will always be supported):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Immediate present: Does not wait for vertical blanking period to update
the current image, likely resulting in visible tearing.
No internal queue is used.
Present requests are applied immediately.</p>
</li>
<li>
<p>Mailbox queue: Waits for the next vertical blanking period to update the
current image.
No tearing should be observed.
An internal single-entry queue is used to hold pending presentation
requests.
If the queue is full when a new presentation request is received, the
new request replaces the existing entry, and any images associated with
the prior entry become available for reuse by the application.</p>
</li>
<li>
<p>FIFO queue: Waits for the next vertical blanking period to update the
current image.
No tearing should be observed.
An internal queue containing <span class="eq"><code>numSwapchainImages</code> - 1</span> entries
is used to hold pending presentation requests.
New requests are appended to the end of the queue, and one request is
removed from the beginning of the queue and processed during each
vertical blanking period in which the queue is non-empty</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Not all surfaces will support all of these modes, so the modes supported
will be returned using a surface information query.
All surfaces must support the FIFO queue mode.
Applications must choose one of these modes up front when creating a
swapchain.
Switching modes can be accomplished by recreating the swapchain.</p>
</div>
<div class="paragraph">
<p>12) Can <code>VK_PRESENT_MODE_MAILBOX_KHR</code> provide non-blocking guarantees
for <a href="chap30.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>? If so, what is the proper criteria?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The difficulty is not immediately obvious here.
Naively, if at least 3 images are requested, mailbox mode should always have
an image available for the application if the application does not own any
images when the call to <a href="chap30.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> was made.
However, some presentation engines may have more than one “current” image,
and would still need to block in some cases.
The right requirement appears to be that if the application allocates the
surface’s minimum number of images + 1 then it is guaranteed non-blocking
behavior when it does not currently own any images.</p>
</div>
<div class="paragraph">
<p>13) Is there a way to create and initialize a new swapchain for a surface
that has generated a <code>VK_SUBOPTIMAL_KHR</code> return code while still using
the old swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Not as part of this specification.
This could be useful to allow the application to create an “optimal”
replacement swapchain and rebuild all its command buffers using it in a
background thread at a low priority while continuing to use the
“suboptimal” swapchain in the main thread.
It could probably use the same “atomic replace” semantics proposed for
recreating direct-to-device swapchains without incurring a mode switch.
However, after discussion, it was determined some platforms probably could
not support concurrent swapchains for the same surface though, so this will
be left out of the base KHR extensions.
A future extension could add this for platforms where it is supported.</p>
</div>
<div class="paragraph">
<p>14) Should there be a special value for
<a href="chap30.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>maxImageCount</code> to indicate there are no
practical limits on the number of images in a swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
There will often be cases where there is no practical limit to the number of
images in a swapchain other than the amount of available resources (i.e.,
memory) in the system.
Trying to derive a hard limit from things like memory size is prone to
failure.
It is better in such cases to leave it to applications to figure such soft
limits out via trial/failure iterations.</p>
</div>
<div class="paragraph">
<p>15) Should there be a special value for
<a href="chap30.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentExtent</code> to indicate the size of
the platform surface is undefined?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
On some platforms (Wayland, for example), the surface size is defined by the
images presented to it rather than the other way around.</p>
</div>
<div class="paragraph">
<p>16) Should there be a special value for
<a href="chap30.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>maxImageExtent</code> to indicate there is no
practical limit on the surface size?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It seems unlikely such a system would exist.
0 could be used to indicate the platform places no limits on the extents
beyond those imposed by Vulkan for normal images, but this query could just
as easily return those same limits, so a special “unlimited” value does
not seem useful for this field.</p>
</div>
<div class="paragraph">
<p>17) How should surface rotation and mirroring be exposed to applications?
How do they specify rotation and mirroring transforms applied prior to
presentation?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Applications can query both the supported and current transforms
of a surface.
Both are specified relative to the device’s “natural” display rotation and
direction.
The supported transforms indicate which orientations the presentation engine
accepts images in.
For example, a presentation engine that does not support transforming
surfaces as part of presentation, and which is presenting to a surface that
is displayed with a 90-degree rotation, would return only one supported
transform bit: <code>VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR</code>.
Applications must transform their rendering by the transform they specify
when creating the swapchain in <code>preTransform</code> field.</p>
</div>
<div class="paragraph">
<p>18) Can surfaces ever not support <code>VK_MIRROR_NONE</code>? Can they support
vertical and horizontal mirroring simultaneously? Relatedly, should
<code>VK_MIRROR_NONE</code>[_BIT] be zero, or bit one, and should applications be
allowed to specify multiple pre and current mirror transform bits, or
exactly one?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Since some platforms may not support presenting with a transform
other than the native window’s current transform, and prerotation/mirroring
are specified relative to the device’s natural rotation and direction,
rather than relative to the surface’s current rotation and direction, it is
necessary to express lack of support for no mirroring.
To allow this, the <code>MIRROR_NONE</code> enum must occupy a bit in the flags.
Since <code>MIRROR_NONE</code> must be a bit in the bitmask rather than a bitmask
with no values set, allowing more than one bit to be set in the bitmask
would make it possible to describe undefined transforms such as
<code>VK_MIRROR_NONE_BIT</code> | <code>VK_MIRROR_HORIZONTAL_BIT</code>, or a transform
that includes both “no mirroring” and “horizontal mirroring”
simultaneously.
Therefore, it is desirable to allow specifying all supported mirroring
transforms using only one bit.
The question then becomes, should there be a
<code>VK_MIRROR_HORIZONTAL_AND_VERTICAL_BIT</code> to represent a simultaneous
horizontal and vertical mirror transform? However, such a transform is
equivalent to a 180 degree rotation, so presentation engines and
applications that wish to support or use such a transform can express it
through rotation instead.
Therefore, 3 exclusive bits are sufficient to express all needed mirroring
transforms.</p>
</div>
<div class="paragraph">
<p>19) Should support for sRGB be required?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: In the advent of UHD and HDR display devices, proper color space
information is vital to the display pipeline represented by the swapchain.
The app can discover the supported format/color-space pairs and select a
pair most suited to its rendering needs.
Currently only the sRGB color space is supported, future extensions may
provide support for more color spaces.
See issues 23 and 24.</p>
</div>
<div class="paragraph">
<p>20) Is there a mechanism to modify or replace an existing swapchain with one
targeting the same surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is described above in the text.</p>
</div>
<div class="paragraph">
<p>21) Should there be a way to set prerotation and mirroring using native APIs
when presenting using a Vulkan swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The transforms that can be expressed in this extension are a subset of those
possible on native platforms.
If a platform exposes a method to specify the transform of presented images
for a given surface using native methods and exposes more transforms or
other properties for surfaces than Vulkan supports, it might be impossible,
difficult, or inconvenient to set some of those properties using Vulkan KHR
extensions and some using the native interfaces.
To avoid overwriting properties set using native commands when presenting
using a Vulkan swapchain, the application can set the pretransform to
“inherit”, in which case the current native properties will be used, or if
none are available, a platform-specific default will be used.
Platforms that do not specify a reasonable default or do not provide native
mechanisms to specify such transforms should not include the inherit bits in
the <code>supportedTransforms</code> bitmask they return in
<a href="chap30.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>.</p>
</div>
<div class="paragraph">
<p>22) Should the content of presentable images be clipped by objects obscuring
their target surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Applications can choose which behavior they prefer.
Allowing the content to be clipped could enable more efficient presentation
methods on some platforms, but some applications might rely on the content
of presentable images to perform techniques such as partial updates or
motion blurs.</p>
</div>
<div class="paragraph">
<p>23) What is the purpose of specifying a <a href="chap30.html#VkColorSpaceKHR">VkColorSpaceKHR</a> along with
<a href="chap40.html#VkFormat">VkFormat</a> when creating a swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: While Vulkan itself is color space agnostic (e.g. even the
meaning of R, G, B and A can be freely defined by the rendering
application), the swapchain eventually will have to present the images on a
display device with specific color reproduction characteristics.
If any color space transformations are necessary before an image can be
displayed, the color space of the presented image must be known to the
swapchain.
A swapchain will only support a restricted set of color format and -space
pairs.
This set can be discovered via <a href="chap30.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a>.
As it can be expected that most display devices support the sRGB color
space, at least one format/color-space pair has to be exposed, where the
color space is <code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>.</p>
</div>
<div class="paragraph">
<p>24) How are sRGB formats and the sRGB color space related?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: While Vulkan exposes a number of SRGB texture formats, using
such formats does not guarantee working in a specific color space.
It merely means that the hardware can directly support applying the
non-linear transfer functions defined by the sRGB standard color space when
reading from or writing to images of those formats.
Still, it is unlikely that a swapchain will expose a <code>*_SRGB</code> format
along with any color space other than
<code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>.</p>
</div>
<div class="paragraph">
<p>On the other hand, non-<code>*_SRGB</code> formats will be very likely exposed in
pair with a SRGB color space.
This means, the hardware will not apply any transfer function when reading
from or writing to such images, yet they will still be presented on a device
with sRGB display characteristics.
In this case the application is responsible for applying the transfer
function, for instance by using shader math.</p>
</div>
<div class="paragraph">
<p>25) How are the lifetimes of surfaces and swapchains targeting them related?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A surface must outlive any swapchains targeting it.
A <a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> owns the binding of the native window to the Vulkan
driver.</p>
</div>
<div class="paragraph">
<p>26) How can the client control the way the alpha component of swapchain
images is treated by the presentation engine during compositing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We should add new enum values to allow the client to negotiate
with the presentation engine on how to treat image alpha values during the
compositing process.
Since not all platforms can practically control this through the Vulkan
driver, a value of <code>VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR</code> is provided like
for surface transforms.</p>
</div>
<div class="paragraph">
<p>27) Is <a href="chap30.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a> the right function to return
<code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>, or should the various
platform-specific <a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> factory functions catch this error
earlier?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: For most platforms, the <a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> structure is a simple
container holding the data that identifies a native window or other object
representing a surface on a particular platform.
For the surface factory functions to return this error, they would likely
need to register a reference on the native objects with the native display
server somehow, and ensure no other such references exist.
Surfaces were not intended to be that heavyweight.</p>
</div>
<div class="paragraph">
<p>Swapchains are intended to be the objects that directly manipulate native
windows and communicate with the native presentation mechanisms.
Swapchains will already need to communicate with the native display server
to negotiate allocation and/or presentation of presentable images for a
native surface.
Therefore, it makes more sense for swapchain creation to be the point at
which native object exclusivity is enforced.
Platforms may choose to enforce further restrictions on the number of
<a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> objects that may be created for the same native window if
such a requirement makes sense on a particular platform, but a global
requirement is only sensible at the swapchain level.</p>
</div>
</div>
<div class="sect4">
<h5 id="_examples_7"><a class="anchor" href="chap47.html#_examples_7"></a>Examples</h5>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a></code> and <code>VK_KHR_swapchain</code>
extensions was removed from the appendix after revision 1.0.29.
This WSI example code was ported to the cube demo that is shipped with the
official Khronos SDK, and is being kept up-to-date in that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_55"><a class="anchor" href="chap47.html#_version_history_55"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-05-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG KHR spec, other KHR specs, patches
attached to bugs.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-05-22 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Made many agreed-upon changes from 2015-05-21 KHR TSG meeting.
This includes using only a queue for presentation, and having an
explicit function to acquire the next image.</p>
</li>
<li>
<p>Fixed typos and other minor mistakes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-05-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Improved the Description section.</p>
</li>
<li>
<p>Added or resolved issues that were found in improving the Description.
For example, pSurfaceDescription is used consistently, instead of
sometimes using pSurface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed some grammatical errors and typos</p>
</li>
<li>
<p>Filled in the description of imageUseFlags when creating a swapchain.</p>
</li>
<li>
<p>Added a description of swapInterval.</p>
</li>
<li>
<p>Replaced the paragraph describing the order of operations on a queue
for image ownership and presentation.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Imported relevant issues from the (abandoned)
vk_wsi_persistent_swapchain_images extension.</p>
</li>
<li>
<p>Added issues 6 and 7, regarding behavior of the acquire next image and
present commands with respect to queues.</p>
</li>
<li>
<p>Updated spec language and examples to align with proposed resolutions
to issues 6 and 7.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 8, regarding atomic presentation of multiple swapchains</p>
</li>
<li>
<p>Updated spec language and examples to align with proposed resolution to
issue 8.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed compilation errors in example code, and made related spec fixes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 9, and the related VK_SUBOPTIMAL_KHR result code.</p>
</li>
<li>
<p>Renamed VK_OUT_OF_DATE_KHR to VK_ERROR_OUT_OF_DATE_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added inline proposed resolutions (marked with [JRJ]) to some XXX
questions/issues.
These should be moved to the issues section in a subsequent update if
the proposals are adopted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Converted vkAcquireNextImageKHR back to a non-queue operation that uses
a VkSemaphore object for explicit synchronization.</p>
</li>
<li>
<p>Added issue 10 to determine whether vkAcquireNextImageKHR generates or
returns semaphores, or whether it operates on a semaphore provided by
the application.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Marked issues 6, 7, and 8 resolved.</p>
</li>
<li>
<p>Renamed VkSurfaceCapabilityPropertiesKHR to VkSurfacePropertiesKHR to
better convey the mutable nature of the information it contains.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 11 with a proposed resolution, and the related issue 12.</p>
</li>
<li>
<p>Updated various sections of the spec to match the proposed resolution
to issue 11.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved some structures to VK_EXT_KHR_swap_chain to resolve the
specification’s issues 1 and 2.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added code for example 4 demonstrating how an application might make
use of the two different present and acquire next image KHR result
codes.</p>
</li>
<li>
<p>Added issue 13.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 14 - 16 and related spec language.</p>
</li>
<li>
<p>Fixed some spelling errors.</p>
</li>
<li>
<p>Added language describing the meaningful return values for
vkAcquireNextImageKHR and vkQueuePresentKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-06-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 17 and 18, as well as related spec language.</p>
</li>
<li>
<p>Removed some erroneous text added by mistake in the last update.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-06-15 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed special value from “-1” to “0” so that the data types can
be unsigned.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-06-15 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Clarified the values of VkSurfacePropertiesKHR::minImageCount and the
timeout parameter of the vkAcquireNextImageKHR function.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Misc.
cleanup.
Removed resolved inline issues and fixed typos.</p>
</li>
<li>
<p>Fixed clarification of VkSurfacePropertiesKHR::minImageCount made in
version 18.</p>
</li>
<li>
<p>Added a brief “Image Ownership” definition to the list of terms used
in the spec.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated enum-extending values using new convention.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added language describing how to use
VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.</p>
</li>
<li>
<p>Cleaned up an XXX comment regarding the description of which queues
vkQueuePresentKHR can be used on.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased on Vulkan API version 126.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2015-06-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated language for issue 12 to read as a proposed resolution.</p>
</li>
<li>
<p>Marked issues 11, 12, 13, 16, and 17 resolved.</p>
</li>
<li>
<p>Temporarily added links to the relevant bugs under the remaining
unresolved issues.</p>
</li>
<li>
<p>Added issues 19 and 20 as well as proposed resolutions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 24, 2015-06-19 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed special value for VkSurfacePropertiesKHR::currentExtent back to
“-1” from “0”.
This value will never need to be unsigned, and “0” is actually a
legal value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 25, 2015-06-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Examples now show use of function pointers for extension functions.</p>
</li>
<li>
<p>Eliminated extraneous whitespace.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 26, 2015-06-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Resolved Issues 9 &amp; 10 per KHR TSG meeting.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 27, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added oldSwapchain member to VkSwapchainCreateInfoKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 28, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added the “inherit” bits to the rotation and mirroring flags and the
associated issue 21.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 29, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added the “clipped” flag to VkSwapchainCreateInfoKHR, and the
associated issue 22.</p>
</li>
<li>
<p>Specified that presenting an image does not modify it.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 30, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added language to the spec that clarifies the behavior of
vkCreateSwapchainKHR() when the oldSwapchain field of
VkSwapchainCreateInfoKHR is not NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 31, 2015-06-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Example of new VkSwapchainCreateInfoKHR members, “oldSwapchain” and
“clipped”.</p>
</li>
<li>
<p>Example of using VkSurfacePropertiesKHR::{min|max}ImageCount to set
VkSwapchainCreateInfoKHR::minImageCount.</p>
</li>
<li>
<p>Rename vkGetSurfaceInfoKHR()'s 4th parameter to “pDataSize”, for
consistency with other functions.</p>
</li>
<li>
<p>Add macro with C-string name of extension (just to header file).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 32, 2015-06-26 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Minor adjustments to the language describing the behavior of
“oldSwapchain”</p>
</li>
<li>
<p>Fixed the version date on my previous two updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 33, 2015-06-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Add usage flags to VkSwapchainCreateInfoKHR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 34, 2015-06-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Rename vkQueuePresentKHR()'s 2nd parameter to “pPresentInfo”, for
consistency with other functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 35, 2015-06-26 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Merged the VkRotationFlagBitsKHR and VkMirrorFlagBitsKHR enums into a
single VkSurfaceTransformFlagBitsKHR enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 36, 2015-06-26 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added a VkSurfaceTransformKHR enum that is not a bitmask.
Each value in VkSurfaceTransformKHR corresponds directly to one of the
bits in VkSurfaceTransformFlagBitsKHR so transforming from one to the
other is easy.
Having a separate enum means that currentTransform and preTransform are
now unambiguous by definition.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 37, 2015-06-29 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected one of the signatures of vkAcquireNextImageKHR, which had the
last two parameters switched from what it is elsewhere in the
specification and header files.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 38, 2015-06-30 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo in description of the vkGetSwapchainInfoKHR()
function.</p>
</li>
<li>
<p>Corrected a typo in header file comment for VkPresentInfoKHR::sType.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 39, 2015-07-07 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added error section describing when each error is expected to be
reported.</p>
</li>
<li>
<p>Replaced bool32_t with VkBool32.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 40, 2015-07-10 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Updated to work with version 138 of the <code>vulkan.h</code> header.
This includes declaring the VkSwapchainKHR type using the new
VK_DEFINE_NONDISP_HANDLE macro, and no longer extending VkObjectType
(which was eliminated).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 41 2015-07-09 (Mathias Heyer)</p>
<div class="ulist">
<ul>
<li>
<p>Added color space language.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 42, 2015-07-10 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated query mechanism to reflect the convention changes done in the
core spec.</p>
</li>
<li>
<p>Removed “queue” from the name of
VK_STRUCTURE_TYPE_QUEUE_PRESENT_INFO_KHR to be consistent with the
established naming convention.</p>
</li>
<li>
<p>Removed reference to the no longer existing VkObjectType enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 43, 2015-07-17 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added support for concurrent sharing of swapchain images across queue
families.</p>
</li>
<li>
<p>Updated sample code based on recent changes</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 44, 2015-07-27 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Noted that support for VK_PRESENT_MODE_FIFO_KHR is required.
That is ICDs may optionally support IMMEDIATE and MAILBOX, but must
support FIFO.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 45, 2015-08-07 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo in spec file (type and variable name had wrong case
for the imageColorSpace member of the VkSwapchainCreateInfoKHR struct).</p>
</li>
<li>
<p>Corrected a typo in header file (last parameter in
PFN_vkGetSurfacePropertiesKHR was missing “KHR” at the end of type:
VkSurfacePropertiesKHR).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 46, 2015-08-20 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from “revision” to “version”, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
<li>
<p>Made improvements to several descriptions.</p>
</li>
<li>
<p>Changed the status of several issues from PROPOSED to RESOLVED, leaving
no unresolved issues.</p>
</li>
<li>
<p>Resolved several TODOs, did miscellaneous cleanup, etc.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 47, 2015-08-20 (Ian Elliott—​porting a 2015-07-29 change from
James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the surface transform enums to VK_WSI_swapchain so they could be
reused by VK_WSI_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 48, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Various minor cleanups.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 49, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 50, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Update Example #4 to include code that illustrates how to use the
oldSwapchain field.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 51, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fix example code compilation errors.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 52, 2015-09-08 (Matthaeus G. Chajdas)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 53, 2015-09-10 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Removed underscore from SWAP_CHAIN left in
VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 54, 2015-09-11 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Described the execution and memory coherence requirements for image
transitions to and from VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 55, 2015-09-11 (Ray Smith)</p>
<div class="ulist">
<ul>
<li>
<p>Added errors for destroying and binding memory to presentable images</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 56, 2015-09-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added fence argument to vkAcquireNextImageKHR</p>
</li>
<li>
<p>Added example of how to meter a host thread based on presentation rate.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 57, 2015-09-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replace VkSurfaceDescriptionKHR with VkSurfaceKHR.</p>
</li>
<li>
<p>Added issue 25 with agreed resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 58, 2015-09-28 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_device_swapchain to VK_EXT_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 59, 2015-09-29 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed vkDestroySwapchainKHR() to return void.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 60, 2015-10-01 (Jeff Vigil)</p>
<div class="ulist">
<ul>
<li>
<p>Added error result VK_ERROR_SURFACE_LOST_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 61, 2015-10-05 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added the VkCompositeAlpha enum and corresponding structure fields.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 62, 2015-10-12 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added VK_PRESENT_MODE_FIFO_RELAXED_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 63, 2015-10-15 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Moved surface capability queries to VK_EXT_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 64, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_swapchain to VK_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 65, 2015-10-28 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Added optional pResult member to VkPresentInfoKHR, so that
per-swapchain results can be obtained from vkQueuePresentKHR().</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 66, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to create and destroy functions.</p>
</li>
<li>
<p>Updated resource transition language.</p>
</li>
<li>
<p>Updated sample code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 67, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Add reserved flags bitmask to VkSwapchainCreateInfoKHR.</p>
</li>
<li>
<p>Modify naming and member ordering to match API style conventions, and
so the VkSwapchainCreateInfoKHR image property members mirror
corresponding VkImageCreateInfo members but with an 'image' prefix.</p>
</li>
<li>
<p>Make VkPresentInfoKHR::pResults non-const; it is an output array
parameter.</p>
</li>
<li>
<p>Make pPresentInfo parameter to vkQueuePresentKHR const.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 68, 2016-04-05 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the “validity” include for vkAcquireNextImage to be in its
proper place, after the prototype and list of parameters.</p>
</li>
<li>
<p>Clarified language about presentable images, including how they are
acquired, when applications can and cannot use them, etc.
As part of this, removed language about “ownership” of presentable
images, and replaced it with more-consistent language about presentable
images being “acquired” by the application.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Update the example code, to use the final API command names, to not
have so many characters per line, and to split out a new example to
show how to obtain function pointers.
This code is more similar to the LunarG “cube” demo program.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>A note was added at the beginning of the example code, stating that it
will be removed from future versions of the appendix.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 69, 2017-09-07 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Added interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 70, 2017-10-06 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_swapchain_mutable_format"><a class="anchor" href="chap47.html#VK_KHR_swapchain_mutable_format"></a>VK_KHR_swapchain_mutable_format</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_swapchain_mutable_format</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>201</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a><br>
and<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap47.html#VK_KHR_maintenance2">VK_KHR_maintenance2</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; or<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap46.html#versions-1.1">Version 1.1</a><br>
and<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap47.html#VK_KHR_image_format_list">VK_KHR_image_format_list</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; or<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap46.html#versions-1.2">Version 1.2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_swapchain_mutable_format] @drakos-amd%0A*Here describe the issue or question you have about the VK_KHR_swapchain_mutable_format extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_55"><a class="anchor" href="chap47.html#_other_extension_metadata_55"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_55"><a class="anchor" href="chap47.html#_description_55"></a>Description</h5>
<div class="paragraph">
<p>This extension allows processing of swapchain images as different formats to
that used by the window system, which is particularly useful for switching
between sRGB and linear RGB formats.</p>
</div>
<div class="paragraph">
<p>It adds a new swapchain creation flag that enables creating image views from
presentable images with a different format than the one used to create the
swapchain.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_59"><a class="anchor" href="chap47.html#_new_enum_constants_59"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SWAPCHAIN_MUTABLE_FORMAT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SWAPCHAIN_MUTABLE_FORMAT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap30.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_33"><a class="anchor" href="chap47.html#_issues_33"></a>Issues</h5>
<div class="paragraph">
<p>1) Are there any new capabilities needed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It is expected that all implementations exposing this extension support
swapchain image format mutability.</p>
</div>
<div class="paragraph">
<p>2) Do we need a separate <code>VK_SWAPCHAIN_CREATE_EXTENDED_USAGE_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This extension requires <code>VK_KHR_maintenance2</code> and presentable images of
swapchains created with <code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code> are
created internally in a way equivalent to specifying both
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> and
<code>VK_IMAGE_CREATE_EXTENDED_USAGE_BIT_KHR</code>.</p>
</div>
<div class="paragraph">
<p>3) Do we need a separate structure to allow specifying an image format list
for swapchains?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
We simply use the same <a href="chap12.html#VkImageFormatListCreateInfoKHR">VkImageFormatListCreateInfoKHR</a> structure
introduced by <code>VK_KHR_image_format_list</code>.
The structure is required to be included in the <code>pNext</code> chain of
<a href="chap30.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> for swapchains created with
<code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_56"><a class="anchor" href="chap47.html#_version_history_56"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-03-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_synchronization2"><a class="anchor" href="chap47.html#VK_KHR_synchronization2"></a>VK_KHR_synchronization2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_synchronization2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>315</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_AMD_buffer_marker</p>
</li>
<li>
<p>Interacts with VK_EXT_blend_operation_advanced</p>
</li>
<li>
<p>Interacts with VK_EXT_conditional_rendering</p>
</li>
<li>
<p>Interacts with VK_EXT_fragment_density_map</p>
</li>
<li>
<p>Interacts with VK_EXT_mesh_shader</p>
</li>
<li>
<p>Interacts with VK_EXT_transform_feedback</p>
</li>
<li>
<p>Interacts with VK_KHR_acceleration_structure</p>
</li>
<li>
<p>Interacts with VK_KHR_fragment_shading_rate</p>
</li>
<li>
<p>Interacts with VK_KHR_ray_tracing_pipeline</p>
</li>
<li>
<p>Interacts with VK_NV_device_diagnostic_checkpoints</p>
</li>
<li>
<p>Interacts with VK_NV_device_generated_commands</p>
</li>
<li>
<p>Interacts with VK_NV_mesh_shader</p>
</li>
<li>
<p>Interacts with VK_NV_ray_tracing</p>
</li>
<li>
<p>Interacts with VK_NV_shading_rate_image</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.3</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_synchronization2] @tobski%0A*Here describe the issue or question you have about the VK_KHR_synchronization2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_56"><a class="anchor" href="chap47.html#_other_extension_metadata_56"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-12-03</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="chap47.html#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_56"><a class="anchor" href="chap47.html#_description_56"></a>Description</h5>
<div class="paragraph">
<p>This extension modifies the original core synchronization APIs to simplify
the interface and improve usability of these APIs.
It also adds new pipeline stage and access flag types that extend into the
64-bit range, as we have run out within the 32-bit range.
The new flags are identical to the old values within the 32-bit range, with
new stages and bits beyond that.</p>
</div>
<div class="paragraph">
<p>Pipeline stages and access flags are now specified together in memory
barrier structures, making the connection between the two more obvious.
Additionally, scoping the pipeline stages into the barrier structs allows
the use of the <code>MEMORY_READ</code> and <code>MEMORY_WRITE</code> flags without
sacrificing precision.
The per-stage access flags should be used to disambiguate specific accesses
in a given stage or set of stages - for instance, between uniform reads and
sampling operations.</p>
</div>
<div class="paragraph">
<p>Layout transitions have been simplified as well; rather than requiring a
different set of layouts for depth/stencil/color attachments, there are
generic <code>VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL_KHR</code> and
<code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code> layouts which are contextually
applied based on the image format.
For example, for a depth format image,
<code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code> is equivalent to
<code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL_KHR</code>.
<code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code> also functionally replaces
<code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code>.</p>
</div>
<div class="paragraph">
<p>Events are now more efficient, because they include memory dependency
information when you set them on the device.
Previously, this information was only known when waiting on an event, so the
dependencies could not be satisfied until the wait occurred.
That sometimes meant stalling the pipeline when the wait occurred.
The new API provides enough information for implementations to satisfy these
dependencies in parallel with other tasks.</p>
</div>
<div class="paragraph">
<p>Queue submission has been changed to wrap command buffers and semaphores in
extensible structures, which incorporate changes from Vulkan 1.1,
<code><a href="chap47.html#VK_KHR_device_group">VK_KHR_device_group</a></code>, and <code><a href="chap47.html#VK_KHR_timeline_semaphore">VK_KHR_timeline_semaphore</a></code>.
This also adds a pipeline stage to the semaphore signal operation, mirroring
the existing pipeline stage specification for wait operations.</p>
</div>
<div class="paragraph">
<p>Other miscellaneous changes include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Events can now be specified as interacting only with the device,
allowing more efficient access to the underlying object.</p>
</li>
<li>
<p>Image memory barriers that do not perform an image layout transition can
be specified by setting <code>oldLayout</code> equal to <code>newLayout</code>.</p>
<div class="ulist">
<ul>
<li>
<p>E.g. the old and new layout can both be set to
<code>VK_IMAGE_LAYOUT_UNDEFINED</code>, without discarding data in the image.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Queue family ownership transfer parameters are simplified in some cases.</p>
</li>
<li>
<p>Where two synchronization commands need to be matched up (queue transfer
operations, events), the dependency information specified in each place
must now match completely for consistency.</p>
</li>
<li>
<p>Extensions with commands or functions with a <a href="chap7.html#VkPipelineStageFlags">VkPipelineStageFlags</a>
or <a href="chap7.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a> parameter have had those APIs replaced
with equivalents using <a href="chap7.html#VkPipelineStageFlags2KHR">VkPipelineStageFlags2KHR</a>.</p>
</li>
<li>
<p>The new event and barrier interfaces are now more extensible for future
changes.</p>
</li>
<li>
<p>Relevant pipeline stage masks can now be specified as empty with the new
<code>VK_PIPELINE_STAGE_NONE_KHR</code> and <code>VK_PIPELINE_STAGE_2_NONE_KHR</code>
values.</p>
</li>
<li>
<p><a href="chap7.html#VkMemoryBarrier2KHR">VkMemoryBarrier2KHR</a> can be chained to <a href="chap8.html#VkSubpassDependency2">VkSubpassDependency2</a>,
overriding the original 32-bit stage and access masks.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_base_types_3"><a class="anchor" href="chap47.html#_new_base_types_3"></a>New Base Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap3.html#VkFlags64">VkFlags64</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_37"><a class="anchor" href="chap47.html#_new_commands_37"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#vkCmdPipelineBarrier2KHR">vkCmdPipelineBarrier2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkCmdResetEvent2KHR">vkCmdResetEvent2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkCmdSetEvent2KHR">vkCmdSetEvent2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkCmdWaitEvents2KHR">vkCmdWaitEvents2KHR</a></p>
</li>
<li>
<p><a href="chap17.html#vkCmdWriteTimestamp2KHR">vkCmdWriteTimestamp2KHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkQueueSubmit2KHR">vkQueueSubmit2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_55"><a class="anchor" href="chap47.html#_new_structures_55"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkBufferMemoryBarrier2KHR">VkBufferMemoryBarrier2KHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkCommandBufferSubmitInfoKHR">VkCommandBufferSubmitInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkDependencyInfoKHR">VkDependencyInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkImageMemoryBarrier2KHR">VkImageMemoryBarrier2KHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkSemaphoreSubmitInfoKHR">VkSemaphoreSubmitInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkSubmitInfo2KHR">VkSubmitInfo2KHR</a></p>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceSynchronization2FeaturesKHR">VkPhysicalDeviceSynchronization2FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap8.html#VkSubpassDependency2">VkSubpassDependency2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkMemoryBarrier2KHR">VkMemoryBarrier2KHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_20"><a class="anchor" href="chap47.html#_new_enums_20"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkAccessFlagBits2KHR">VkAccessFlagBits2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkPipelineStageFlagBits2KHR">VkPipelineStageFlagBits2KHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkSubmitFlagBitsKHR">VkSubmitFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_14"><a class="anchor" href="chap47.html#_new_bitmasks_14"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkAccessFlags2KHR">VkAccessFlags2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkPipelineStageFlags2KHR">VkPipelineStageFlags2KHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkSubmitFlagsKHR">VkSubmitFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_60"><a class="anchor" href="chap47.html#_new_enum_constants_60"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SYNCHRONIZATION_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SYNCHRONIZATION_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkAccessFlagBits">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkEventCreateFlagBits">VkEventCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EVENT_CREATE_DEVICE_ONLY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_MEMORY_BARRIER_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEPENDENCY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_BARRIER_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SYNCHRONIZATION_2_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBMIT_INFO_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap7.html#VkAccessFlagBits2">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_ACCELERATION_STRUCTURE_READ_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_ACCELERATION_STRUCTURE_WRITE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkPipelineStageFlagBits2">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_ACCELERATION_STRUCTURE_BUILD_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap7.html#VkAccessFlagBits2">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_FRAGMENT_SHADING_RATE_ATTACHMENT_READ_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkPipelineStageFlagBits2">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_ray_tracing_pipeline">VK_KHR_ray_tracing_pipeline</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap7.html#VkPipelineStageFlagBits2">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_RAY_TRACING_SHADER_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_3_8"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_3_8"></a>Promotion to Vulkan 1.3</h5>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_examples_8"><a class="anchor" href="chap47.html#_examples_8"></a>Examples</h5>
<div class="paragraph">
<p>See
<a href="https://github.com/KhronosGroup/Vulkan-Docs/wiki/Synchronization-Examples" class="bare">https://github.com/KhronosGroup/Vulkan-Docs/wiki/Synchronization-Examples</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_57"><a class="anchor" href="chap47.html#_version_history_57"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-12-03 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_vertex_attribute_divisor"><a class="anchor" href="chap47.html#VK_KHR_vertex_attribute_divisor"></a>VK_KHR_vertex_attribute_divisor</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_vertex_attribute_divisor</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>526</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_vertex_attribute_divisor] @syoussefi%0A*Here describe the issue or question you have about the VK_KHR_vertex_attribute_divisor extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_vertex_attribute_divisor.adoc">VK_KHR_vertex_attribute_divisor</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_57"><a class="anchor" href="chap47.html#_other_extension_metadata_57"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-09-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Contributors to <code><code>VK_EXT_vertex_attribute_divisor</code></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_57"><a class="anchor" href="chap47.html#_description_57"></a>Description</h5>
<div class="paragraph">
<p>This extension is based on the <code><code>VK_EXT_vertex_attribute_divisor</code></code>
extension.
The only difference is the new property <code>supportsNonZeroFirstInstance</code>,
which indicates support for non-zero values in <code>firstInstance</code>.
This allows the extension to be supported on implementations that have
traditionally only supported OpenGL ES.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_56"><a class="anchor" href="chap47.html#_new_structures_56"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap21.html#VkVertexInputBindingDivisorDescriptionKHR">VkVertexInputBindingDivisorDescriptionKHR</a></p>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceVertexAttributeDivisorFeaturesKHR">VkPhysicalDeviceVertexAttributeDivisorFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceVertexAttributeDivisorPropertiesKHR">VkPhysicalDeviceVertexAttributeDivisorPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap21.html#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap21.html#VkPipelineVertexInputDivisorStateCreateInfoKHR">VkPipelineVertexInputDivisorStateCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_61"><a class="anchor" href="chap47.html#_new_enum_constants_61"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VERTEX_ATTRIBUTE_DIVISOR_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VERTEX_ATTRIBUTE_DIVISOR_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VERTEX_ATTRIBUTE_DIVISOR_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VERTEX_ATTRIBUTE_DIVISOR_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_DIVISOR_STATE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_58"><a class="anchor" href="chap47.html#_version_history_58"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-09-20 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>First Version, based on <code><code>VK_EXT_vertex_attribute_divisor</code></code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_video_decode_av1"><a class="anchor" href="chap47.html#VK_KHR_video_decode_av1"></a>VK_KHR_video_decode_av1</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_decode_av1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>513</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_video_decode_av1] @aqnuep%0A*Here describe the issue or question you have about the VK_KHR_video_decode_av1 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>aqnuep</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_decode_av1.adoc">VK_KHR_video_decode_av1</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_58"><a class="anchor" href="chap47.html#_other_extension_metadata_58"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2024-01-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>Benjamin Cheng, AMD</p>
</li>
<li>
<p>Ho Hin Lau, AMD</p>
</li>
<li>
<p>Lynne Iribarren, Independent</p>
</li>
<li>
<p>David Airlie, Red Hat, Inc.</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Vassili Nikolaev, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Charlie Turner, Igalia</p>
</li>
<li>
<p>Daniel Almeida, Collabora</p>
</li>
<li>
<p>Nicolas Dufresne, Collabora</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_58"><a class="anchor" href="chap47.html#_description_58"></a>Description</h5>
<div class="paragraph">
<p>This extension builds upon the <code><a href="chap47.html#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a></code> extension
by adding support for decoding elementary video stream sequences compliant
with the AV1 video compression standard.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_57"><a class="anchor" href="chap47.html#_new_structures_57"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap36.html#VkVideoCapabilitiesKHR">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeAV1CapabilitiesKHR">VkVideoDecodeAV1CapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoDecodeInfoKHR">VkVideoDecodeInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeAV1PictureInfoKHR">VkVideoDecodeAV1PictureInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoProfileInfoKHR">VkVideoProfileInfoKHR</a>, <a href="chap17.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeAV1ProfileInfoKHR">VkVideoDecodeAV1ProfileInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoReferenceSlotInfoKHR">VkVideoReferenceSlotInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeAV1DpbSlotInfoKHR">VkVideoDecodeAV1DpbSlotInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionParametersCreateInfoKHR">VkVideoSessionParametersCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeAV1SessionParametersCreateInfoKHR">VkVideoDecodeAV1SessionParametersCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_62"><a class="anchor" href="chap47.html#_new_enum_constants_62"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_DECODE_AV1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_DECODE_AV1_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_MAX_VIDEO_AV1_REFERENCES_PER_FRAME_KHR</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_AV1_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_AV1_DPB_SLOT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_AV1_PICTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_AV1_PROFILE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_AV1_SESSION_PARAMETERS_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCodecOperationFlagBitsKHR">VkVideoCodecOperationFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_CODEC_OPERATION_DECODE_AV1_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_59"><a class="anchor" href="chap47.html#_version_history_59"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2024-01-02 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_video_decode_h264"><a class="anchor" href="chap47.html#VK_KHR_video_decode_h264"></a>VK_KHR_video_decode_h264</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_decode_h264</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>41</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>9</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="mailto:peter.fang@amd.com">peter.fang@amd.com</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_decode_h264.adoc">VK_KHR_video_decode_h264</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_59"><a class="anchor" href="chap47.html#_other_extension_metadata_59"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-12-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>Chunbo Chen, Intel</p>
</li>
<li>
<p>HoHin Lau, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Peter Fang, AMD</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_59"><a class="anchor" href="chap47.html#_description_59"></a>Description</h5>
<div class="paragraph">
<p>This extension builds upon the <code><a href="chap47.html#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a></code> extension
by adding support for decoding elementary video stream sequences compliant
with the H.264/AVC video compression standard.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This extension was promoted to <code>KHR</code> from the provisional extension
<code>VK_EXT_video_decode_h264</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_58"><a class="anchor" href="chap47.html#_new_structures_58"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap36.html#VkVideoCapabilitiesKHR">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH264CapabilitiesKHR">VkVideoDecodeH264CapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoDecodeInfoKHR">VkVideoDecodeInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH264PictureInfoKHR">VkVideoDecodeH264PictureInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoProfileInfoKHR">VkVideoProfileInfoKHR</a>, <a href="chap17.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH264ProfileInfoKHR">VkVideoDecodeH264ProfileInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoReferenceSlotInfoKHR">VkVideoReferenceSlotInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH264DpbSlotInfoKHR">VkVideoDecodeH264DpbSlotInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionParametersCreateInfoKHR">VkVideoSessionParametersCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH264SessionParametersCreateInfoKHR">VkVideoDecodeH264SessionParametersCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionParametersUpdateInfoKHR">VkVideoSessionParametersUpdateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH264SessionParametersAddInfoKHR">VkVideoDecodeH264SessionParametersAddInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_21"><a class="anchor" href="chap47.html#_new_enums_21"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH264PictureLayoutFlagBitsKHR">VkVideoDecodeH264PictureLayoutFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_15"><a class="anchor" href="chap47.html#_new_bitmasks_15"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH264PictureLayoutFlagsKHR">VkVideoDecodeH264PictureLayoutFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_63"><a class="anchor" href="chap47.html#_new_enum_constants_63"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_DECODE_H264_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_DECODE_H264_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_DPB_SLOT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_PICTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_PROFILE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_SESSION_PARAMETERS_ADD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H264_SESSION_PARAMETERS_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCodecOperationFlagBitsKHR">VkVideoCodecOperationFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_CODEC_OPERATION_DECODE_H264_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_60"><a class="anchor" href="chap47.html#_version_history_60"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-6-11 (Peter Fang)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, March 29 2021 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API Updates</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, August 1 2021 (Srinath Kumarapuram)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>VkVideoDecodeH264FieldLayoutFlagsEXT</code> to
<code>VkVideoDecodeH264PictureLayoutFlagsEXT</code>,
<code>VkVideoDecodeH264FieldLayoutFlagBitsEXT</code> to
<code>VkVideoDecodeH264PictureLayoutFlagBitsEXT</code> (along with the names of
enumerants it defines), and <code>VkVideoDecodeH264ProfileEXT.fieldLayout</code>
to <code>VkVideoDecodeH264ProfileEXT.pictureLayout</code>, following Vulkan naming
conventions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-03-16 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Relocate Std header version reporting/requesting from this extension to
VK_KHR_video_queue extension.</p>
</li>
<li>
<p>Remove the now empty VkVideoDecodeH264SessionCreateInfoEXT.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-03-31 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Use type StdVideoH264Level for VkVideoDecodeH264Capabilities.maxLevel</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-08-09 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>VkVideoDecodeH264ProfileEXT</code> to
<code>VkVideoDecodeH264ProfileInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoDecodeH264MvcEXT</code> to <code>VkVideoDecodeH264MvcInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-09-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Change type of <code>VkVideoDecodeH264ProfileInfoEXT::pictureLayout</code> to
<code>VkVideoDecodeH264PictureLayoutFlagBitsEXT</code></p>
</li>
<li>
<p>Remove MVC support and related <code>VkVideoDecodeH264MvcInfoEXT</code> structure</p>
</li>
<li>
<p>Rename <code>spsStdCount</code>, <code>pSpsStd</code>, <code>ppsStdCount</code>, and <code>pPpsStd</code> to
<code>stdSPSCount</code>, <code>pStdSPSs</code>, <code>stdPPSCount</code>, and <code>pStdPPSs</code>, respectively,
in <code>VkVideoDecodeH264SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Rename <code>maxSpsStdCount</code> and <code>maxPpsStdCount</code> to <code>maxStdSPSCount</code> and
<code>maxStdPPSCount</code>, respectively, in
<code>VkVideoDecodeH264SessionParametersCreateInfoEXT</code></p>
</li>
<li>
<p>Rename <code>slicesCount</code> and <code>pSlicesDataOffsets</code> to <code>sliceCount</code> and
<code>pSliceOffsets</code>, respectively, in <code>VkVideoDecodeH264PictureInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2022-09-29 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Change extension from <code>EXT</code> to <code>KHR</code></p>
</li>
<li>
<p>Extension is no longer provisional</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2023-12-05 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Condition reference picture setup based on the value of
<code>StdVideoDecodeH264PictureInfo::flags.is_reference</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_video_decode_h265"><a class="anchor" href="chap47.html#VK_KHR_video_decode_h265"></a>VK_KHR_video_decode_h265</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_decode_h265</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>188</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>8</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="mailto:peter.fang@amd.com">peter.fang@amd.com</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_decode_h265.adoc">VK_KHR_video_decode_h265</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_60"><a class="anchor" href="chap47.html#_other_extension_metadata_60"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-12-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>HoHin Lau, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Peter Fang, AMD</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_60"><a class="anchor" href="chap47.html#_description_60"></a>Description</h5>
<div class="paragraph">
<p>This extension builds upon the <code><a href="chap47.html#VK_KHR_video_decode_queue">VK_KHR_video_decode_queue</a></code> extension
by adding support for decoding elementary video stream sequences compliant
with the H.265/HEVC video compression standard.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This extension was promoted to <code>KHR</code> from the provisional extension
<code>VK_EXT_video_decode_h265</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_59"><a class="anchor" href="chap47.html#_new_structures_59"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap36.html#VkVideoCapabilitiesKHR">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH265CapabilitiesKHR">VkVideoDecodeH265CapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoDecodeInfoKHR">VkVideoDecodeInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH265PictureInfoKHR">VkVideoDecodeH265PictureInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoProfileInfoKHR">VkVideoProfileInfoKHR</a>, <a href="chap17.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH265ProfileInfoKHR">VkVideoDecodeH265ProfileInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoReferenceSlotInfoKHR">VkVideoReferenceSlotInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH265DpbSlotInfoKHR">VkVideoDecodeH265DpbSlotInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionParametersCreateInfoKHR">VkVideoSessionParametersCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH265SessionParametersCreateInfoKHR">VkVideoDecodeH265SessionParametersCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionParametersUpdateInfoKHR">VkVideoSessionParametersUpdateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeH265SessionParametersAddInfoKHR">VkVideoDecodeH265SessionParametersAddInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_64"><a class="anchor" href="chap47.html#_new_enum_constants_64"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_DECODE_H265_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_DECODE_H265_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_DPB_SLOT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_PICTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_PROFILE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_SESSION_PARAMETERS_ADD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_H265_SESSION_PARAMETERS_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCodecOperationFlagBitsKHR">VkVideoCodecOperationFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_CODEC_OPERATION_DECODE_H265_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_61"><a class="anchor" href="chap47.html#_version_history_61"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-6-11 (Peter Fang)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.6, March 29 2021 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2022-03-16 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Relocate Std header version reporting/requesting from this extension to
VK_KHR_video_queue extension.</p>
</li>
<li>
<p>Remove the now empty VkVideoDecodeH265SessionCreateInfoEXT.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2022-03-31 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Use type StdVideoH265Level for VkVideoDecodeH265Capabilities.maxLevel</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-08-09 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>VkVideoDecodeH265ProfileEXT</code> to
<code>VkVideoDecodeH265ProfileInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-09-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>vpsStdCount</code>, <code>pVpsStd</code>, <code>spsStdCount</code>, <code>pSpsStd</code>,
<code>ppsStdCount</code>, and <code>pPpsStd</code> to <code>stdVPSCount</code>, <code>pStdVPSs</code>,
<code>stdSPSCount</code>, <code>pStdSPSs</code>, <code>stdPPSCount</code>, and <code>pStdPPSs</code>, respectively,
in <code>VkVideoDecodeH265SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Rename <code>maxVpsStdCount</code>, <code>maxSpsStdCount</code>, and <code>maxPpsStdCount</code> to
<code>maxStdVPSCount</code>, <code>maxStdSPSCount</code> and <code>maxStdPPSCount</code>, respectively,
in <code>VkVideoDecodeH265SessionParametersCreateInfoEXT</code></p>
</li>
<li>
<p>Rename <code>slicesCount</code> and <code>pSlicesDataOffsets</code> to <code>sliceCount</code> and
<code>pSliceOffsets</code>, respectively, in <code>VkVideoDecodeH265PictureInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-11-14 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>slice</code> to <code>sliceSegment</code> in the APIs for better clarity</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-11-14 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Change extension from <code>EXT</code> to <code>KHR</code></p>
</li>
<li>
<p>Extension is no longer provisional</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2023-12-05 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Condition reference picture setup based on the value of
<code>StdVideoDecodeH265PictureInfo::flags.IsReference</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_video_decode_queue"><a class="anchor" href="chap47.html#VK_KHR_video_decode_queue"></a>VK_KHR_video_decode_queue</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_decode_queue</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>25</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>8</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_video_queue">VK_KHR_video_queue</a><br>
and<br>
<a href="chap47.html#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_KHR_format_feature_flags2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="mailto:jake.beju@amd.com">jake.beju@amd.com</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_decode_queue.adoc">VK_KHR_video_decode_queue</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_61"><a class="anchor" href="chap47.html#_other_extension_metadata_61"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-12-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Olivier Lapicque, NVIDIA</p>
</li>
<li>
<p>Peter Fang, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_61"><a class="anchor" href="chap47.html#_description_61"></a>Description</h5>
<div class="paragraph">
<p>This extension builds upon the <code><a href="chap47.html#VK_KHR_video_queue">VK_KHR_video_queue</a></code> extension by
adding common APIs specific to video decoding and thus enabling
implementations to expose queue families supporting video decode operations.</p>
</div>
<div class="paragraph">
<p>More specifically, it adds video decode specific capabilities and a new
command buffer command that allows recording video decode operations against
a video session.</p>
</div>
<div class="paragraph">
<p>This extension is to be used in conjunction with other codec specific video
decode extensions that enable decoding video sequences of specific video
compression standards.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_38"><a class="anchor" href="chap47.html#_new_commands_38"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#vkCmdDecodeVideoKHR">vkCmdDecodeVideoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_60"><a class="anchor" href="chap47.html#_new_structures_60"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeInfoKHR">VkVideoDecodeInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCapabilitiesKHR">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeCapabilitiesKHR">VkVideoDecodeCapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoProfileInfoKHR">VkVideoProfileInfoKHR</a>, <a href="chap17.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeUsageInfoKHR">VkVideoDecodeUsageInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_22"><a class="anchor" href="chap47.html#_new_enums_22"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeCapabilityFlagBitsKHR">VkVideoDecodeCapabilityFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoDecodeUsageFlagBitsKHR">VkVideoDecodeUsageFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_16"><a class="anchor" href="chap47.html#_new_bitmasks_16"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoDecodeCapabilityFlagsKHR">VkVideoDecodeCapabilityFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoDecodeFlagsKHR">VkVideoDecodeFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoDecodeUsageFlagsKHR">VkVideoDecodeUsageFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_65"><a class="anchor" href="chap47.html#_new_enum_constants_65"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_DECODE_QUEUE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_DECODE_QUEUE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkAccessFlagBits2">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_VIDEO_DECODE_READ_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_VIDEO_DECODE_WRITE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_VIDEO_DECODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_VIDEO_DECODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap40.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_VIDEO_DECODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_VIDEO_DECODE_OUTPUT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_DECODE_DPB_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_DECODE_DST_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_DECODE_SRC_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_DECODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_DECODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_DECODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkPipelineStageFlagBits2">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_VIDEO_DECODE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkQueueFlagBits">VkQueueFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUEUE_VIDEO_DECODE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_DECODE_USAGE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap40.html#VkFormatFeatureFlagBits2">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_VIDEO_DECODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_2_VIDEO_DECODE_OUTPUT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_62"><a class="anchor" href="chap47.html#_version_history_62"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-6-11 (Peter Fang)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.5, Nov 09 2018 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>API Updates</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.6, Jan 08 2020 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>API unify with the video_encode_queue spec</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.7, March 29 2021 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, September 30 2021 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add interaction with <code><a href="chap47.html#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code> to <code>vk.xml</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2022-02-25 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Add VkVideoDecodeCapabilitiesKHR with new flags to report support for
decode DPB and output coinciding in the same image, or in distinct
images.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-03-31 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Remove redundant VkVideoDecodeInfoKHR.coded{Offset|Extent}</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-07-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Remove <code>VkVideoDecodeFlagBitsKHR</code> as it contains no defined flags for
now</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-08-12 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Add VkVideoDecodeUsageInfoKHR structure and related flags</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-09-29 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Extension is no longer provisional</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2023-12-05 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Require the specification of a reconstructed picture in all cases,
except when the video session was created with no DPB slots to match
shipping implementations</p>
</li>
<li>
<p>Make DPB slot activation behavior codec-specific to continue allowing
application control over reference picture setup now that a
reconstructed picture is always mandatory</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_video_encode_h264"><a class="anchor" href="chap47.html#VK_KHR_video_encode_h264"></a>VK_KHR_video_encode_h264</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_encode_h264</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>39</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>14</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_video_encode_h264] @aabdelkh%0A*Here describe the issue or question you have about the VK_KHR_video_encode_h264 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>aabdelkh</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_encode_h264.adoc">VK_KHR_video_encode_h264</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_62"><a class="anchor" href="chap47.html#_other_extension_metadata_62"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-12-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>George Hao, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Peter Fang, AMD</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Ravi Chaudhary, NVIDIA</p>
</li>
<li>
<p>Yang Liu, AMD</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
<li>
<p>Aidan Fabius, Core Avionics &amp; Industrial Inc.</p>
</li>
<li>
<p>Lynne Iribarren, Independent</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_62"><a class="anchor" href="chap47.html#_description_62"></a>Description</h5>
<div class="paragraph">
<p>This extension builds upon the <code><a href="chap47.html#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a></code> extension
by adding support for encoding elementary video stream sequences compliant
with the H.264/AVC video compression standard.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This extension was promoted to <code>KHR</code> from the provisional extension
<code>VK_EXT_video_encode_h264</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_61"><a class="anchor" href="chap47.html#_new_structures_61"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264FrameSizeKHR">VkVideoEncodeH264FrameSizeKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH264NaluSliceInfoKHR">VkVideoEncodeH264NaluSliceInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH264QpKHR">VkVideoEncodeH264QpKHR</a></p>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoBeginCodingInfoKHR">VkVideoBeginCodingInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264GopRemainingFrameInfoKHR">VkVideoEncodeH264GopRemainingFrameInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCapabilitiesKHR">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264CapabilitiesKHR">VkVideoEncodeH264CapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCodingControlInfoKHR">VkVideoCodingControlInfoKHR</a>, <a href="chap36.html#VkVideoBeginCodingInfoKHR">VkVideoBeginCodingInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264RateControlInfoKHR">VkVideoEncodeH264RateControlInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoEncodeInfoKHR">VkVideoEncodeInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264PictureInfoKHR">VkVideoEncodeH264PictureInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoEncodeQualityLevelPropertiesKHR">VkVideoEncodeQualityLevelPropertiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264QualityLevelPropertiesKHR">VkVideoEncodeH264QualityLevelPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoEncodeRateControlLayerInfoKHR">VkVideoEncodeRateControlLayerInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264RateControlLayerInfoKHR">VkVideoEncodeH264RateControlLayerInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoEncodeSessionParametersFeedbackInfoKHR">VkVideoEncodeSessionParametersFeedbackInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264SessionParametersFeedbackInfoKHR">VkVideoEncodeH264SessionParametersFeedbackInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoEncodeSessionParametersGetInfoKHR">VkVideoEncodeSessionParametersGetInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264SessionParametersGetInfoKHR">VkVideoEncodeH264SessionParametersGetInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoProfileInfoKHR">VkVideoProfileInfoKHR</a>, <a href="chap17.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264ProfileInfoKHR">VkVideoEncodeH264ProfileInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoReferenceSlotInfoKHR">VkVideoReferenceSlotInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264DpbSlotInfoKHR">VkVideoEncodeH264DpbSlotInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionCreateInfoKHR">VkVideoSessionCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264SessionCreateInfoKHR">VkVideoEncodeH264SessionCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionParametersCreateInfoKHR">VkVideoSessionParametersCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264SessionParametersCreateInfoKHR">VkVideoEncodeH264SessionParametersCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionParametersUpdateInfoKHR">VkVideoSessionParametersUpdateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264SessionParametersAddInfoKHR">VkVideoEncodeH264SessionParametersAddInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_23"><a class="anchor" href="chap47.html#_new_enums_23"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264CapabilityFlagBitsKHR">VkVideoEncodeH264CapabilityFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH264RateControlFlagBitsKHR">VkVideoEncodeH264RateControlFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH264StdFlagBitsKHR">VkVideoEncodeH264StdFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_17"><a class="anchor" href="chap47.html#_new_bitmasks_17"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH264CapabilityFlagsKHR">VkVideoEncodeH264CapabilityFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH264RateControlFlagsKHR">VkVideoEncodeH264RateControlFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH264StdFlagsKHR">VkVideoEncodeH264StdFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_66"><a class="anchor" href="chap47.html#_new_enum_constants_66"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_ENCODE_H264_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_ENCODE_H264_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_DPB_SLOT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_GOP_REMAINING_FRAME_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_NALU_SLICE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_PICTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_PROFILE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_QUALITY_LEVEL_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_RATE_CONTROL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_RATE_CONTROL_LAYER_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_SESSION_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_SESSION_PARAMETERS_ADD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_SESSION_PARAMETERS_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_SESSION_PARAMETERS_FEEDBACK_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H264_SESSION_PARAMETERS_GET_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCodecOperationFlagBitsKHR">VkVideoCodecOperationFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_CODEC_OPERATION_ENCODE_H264_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_63"><a class="anchor" href="chap47.html#_version_history_63"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2018-7-23 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 0.5, 2020-02-13 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>General Spec cleanup</p>
</li>
<li>
<p>Added DPB structures</p>
</li>
<li>
<p>Change the VCL frame encode structure</p>
</li>
<li>
<p>Added a common Non-VCL Picture Paramarameters structure</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2021-03-29 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API updates</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, August 1 2021 (Srinath Kumarapuram)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>VkVideoEncodeH264CapabilitiesFlagsEXT</code> to
<code>VkVideoEncodeH264CapabilityFlagsEXT</code> and
<code>VkVideoEncodeH264CapabilitiesFlagsEXT</code> to
<code>VkVideoEncodeH264CapabilityFlagsEXT</code>, following Vulkan naming
conventions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2021-12-08 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Rate control updates</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-02-04 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Align VkVideoEncodeH264VclFrameInfoEXT structure to similar one in
VK_EXT_video_encode_h265 extension</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-02-10 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Updates to encode capability interface</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-03-16 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Relocate Std header version reporting/requesting from this extension to
VK_KHR_video_queue extension.</p>
</li>
<li>
<p>Remove redundant maxPictureSizeInMbs from
VkVideoEncodeH264SessionCreateInfoEXT.</p>
</li>
<li>
<p>Remove the now empty VkVideoEncodeH264SessionCreateInfoEXT.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-04-06 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Add capability flag to report support to use B frame in L1 reference
list.</p>
</li>
<li>
<p>Add capability flag to report support for disabling SPS
direct_8x8_inference_flag.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2022-07-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Replace <code>VkVideoEncodeH264RateControlStructureFlagBitsEXT</code> bit enum
with <code>VkVideoEncodeH264RateControlStructureEXT</code> enum</p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH264ProfileEXT</code> to
<code>VkVideoEncodeH264ProfileInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH264ReferenceListsEXT</code> to
<code>VkVideoEncodeH264ReferenceListsInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH264EmitPictureParametersEXT</code> to
<code>VkVideoEncodeH264EmitPictureParametersInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH264NaluSliceEXT</code> to
<code>VkVideoEncodeH264NaluSliceInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2022-09-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>spsStdCount</code>, <code>pSpsStd</code>, <code>ppsStdCount</code>, and <code>pPpsStd</code> to
<code>stdSPSCount</code>, <code>pStdSPSs</code>, <code>stdPPSCount</code>, and <code>pStdPPSs</code>, respectively,
in <code>VkVideoEncodeH264SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Rename <code>maxSpsStdCount</code> and <code>maxPpsStdCount</code> to <code>maxStdSPSCount</code> and
<code>maxStdPPSCount</code>, respectively, in
<code>VkVideoEncodeH264SessionParametersCreateInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2023-03-06 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Removed <code>VkVideoEncodeH264EmitPictureParametersInfoEXT</code></p>
</li>
<li>
<p>Changed member types in <code>VkVideoEncodeH264CapabilitiesEXT</code> and
<code>VkVideoEncodeH264ReferenceListsInfoEXT</code> from <code>uint8_t</code> to <code>uint32_t</code></p>
</li>
<li>
<p>Changed the type of
<code>VkVideoEncodeH264RateControlInfoEXT::temporalLayerCount</code> and
<code>VkVideoEncodeH264RateControlLayerInfoEXT::temporalLayerId</code> from
<code>uint8_t</code> to <code>uint32_t</code></p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH264InputModeFlagsEXT</code> and
<code>VkVideoEncodeH264OutputModeFlagsEXT</code> as we only support
frame-in-frame-out mode for now</p>
</li>
<li>
<p>Rename <code>pCurrentPictureInfo</code> in <code>VkVideoEncodeH264VclFrameInfoEXT</code> to
<code>pStdPictureInfo</code></p>
</li>
<li>
<p>Rename <code>pSliceHeaderStd</code> in <code>VkVideoEncodeH264NaluSliceInfoEXT</code> to
<code>pStdSliceHeader</code></p>
</li>
<li>
<p>Rename <code>pReferenceFinalLists</code> in <code>VkVideoEncodeH264VclFrameInfoEXT</code> and
<code>VkVideoEncodeH264NaluSliceInfoEXT</code> to <code>pStdReferenceFinalLists</code></p>
</li>
<li>
<p>Removed the <code>slotIndex</code> member of <code>VkVideoEncodeH264DpbSlotInfoEXT</code> and
changed it to be chained to <code>VkVideoReferenceSlotInfoKHR</code></p>
</li>
<li>
<p>Replaced <code>VkVideoEncodeH264ReferenceListsInfoEXT</code> with the new Video
Std header structure <code>StdVideoEncodeH264ReferenceLists</code> that also
includes data previously part of the now removed
<code>StdVideoEncodeH264RefMemMgmtCtrlOperations</code> structure</p>
</li>
<li>
<p>Added new capability flag
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_DIFFERENT_REFERENCE_FINAL_LISTS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2023-05-22 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed <code>VkVideoEncodeH264VclFrameInfoEXT</code> to
<code>VkVideoEncodeH264PictureInfoEXT</code></p>
</li>
<li>
<p>Added <code>VkVideoEncodeH264PictureInfoEXT::generatePrefixNalu</code> and
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_GENERATE_PREFIX_NALU_BIT_EXT</code> to
enable the generation of H.264 prefix NALUs when supported by the
implementation</p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH264RateControlLayerInfoEXT::temporalLayerId</code></p>
</li>
<li>
<p>Added <code>expectDyadicTemporalLayerPattern</code> capability</p>
</li>
<li>
<p>Added the <code>VkVideoEncodeH264SessionParametersGetInfoEXT</code> structure to
identify the H.264 parameter sets to retrieve encoded parameter data
for, and the <code>VkVideoEncodeH264SessionParametersFeedbackInfoEXT</code>
structure to retrieve H.264 parameter set override information when
using the new <code>vkGetEncodedVideoSessionParametersKHR</code> command</p>
</li>
<li>
<p>Added <code>VkVideoEncodeH264NaluSliceInfoEXT::constantQp</code> to specify
per-slice constant QP when rate control mode is
<code>VK_VIDEO_ENCODE_RATE_CONTROL_MODE_DISABLED_BIT_KHR</code></p>
</li>
<li>
<p>Added <code>VkVideoEncodeH264QualityLevelPropertiesEXT</code> for retrieving H.264
specific quality level recommendations</p>
</li>
<li>
<p>Replaced <code>VkVideoEncodeH264RateControlStructureEXT</code> enum with the flags
type <code>VkVideoEncodeH264RateControlFlagsEXT</code> and bits defined in
<code>VkVideoEncodeH264RateControlFlagBitsEXT</code> and added HRD compliance flag</p>
</li>
<li>
<p>Removed <code>useInitialRcQp</code> and <code>initialRcQp</code> members of
<code>VkVideoEncodeH264RateControlLayerInfoEXT</code></p>
</li>
<li>
<p>Added <code>prefersGopRemainingFrames</code> and <code>requiresGopRemainingFrames</code>, and
the new <code>VkVideoEncodeH264GopRemainingFrameInfoEXT</code> structure to allow
specifying remaining frames of each type in the rate control GOP</p>
</li>
<li>
<p>Added <code>maxTemporalLayers</code>, <code>maxQp</code>, and <code>minQp</code> capabilities</p>
</li>
<li>
<p>Added <code>maxLevelIdc</code> capability and new
<code>VkVideoEncodeH264SessionCreateInfoEXT</code> structure to specify upper
bounds on the H.264 level of the produced video bitstream</p>
</li>
<li>
<p>Moved capability flags specific to codec syntax restrictions from
<code>VkVideoEncodeH264CapabilityFlagsEXT</code> to the new
<code>VkVideoEncodeH264StdFlagsEXT</code> which is now included as a separate
<code>stdSyntaxFlags</code> member in <code>VkVideoEncodeH264CapabilitiesEXT</code></p>
</li>
<li>
<p>Removed codec syntax override values from
<code>VkVideoEncodeH264CapabilitiesEXT</code></p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH264NaluSliceInfoEXT::mbCount</code> and
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_SLICE_MB_COUNT_BIT_EXT</code></p>
</li>
<li>
<p>Replaced
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_MULTIPLE_SLICES_PER_FRAME_BIT_EXT</code>
with the new <code>maxSliceCount</code> capability</p>
</li>
<li>
<p>Removed capability flag
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_DIFFERENT_REFERENCE_FINAL_LISTS_BIT_EXT</code>
and removed <code>pStdReferenceFinalLists</code> members from the
<code>VkVideoEncodeH264PictureInfoEXT</code> and
<code>VkVideoEncodeH264NaluSliceInfoEXT</code> structures as reference lists info
is now included in <code>pStdPictureInfo</code></p>
</li>
<li>
<p>Added capability flag
<code>VK_VIDEO_ENCODE_H264_CAPABILITY_B_FRAME_IN_L0_LIST_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2023-07-19 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added video std capability flags
<code>VK_VIDEO_ENCODE_H264_STD_SLICE_QP_DELTA_BIT_EXT</code> and
<code>VK_VIDEO_ENCODE_H264_STD_DIFFERENT_SLICE_QP_DELTA_BIT_EXT</code></p>
</li>
<li>
<p>Fixed optionality of the array members of
<code>VkVideoEncodeH264SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Fixed optionality of <code>VkVideoEncodeH264RateControlInfoEXT::flags</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2023-09-04 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Change extension from <code>EXT</code> to <code>KHR</code></p>
</li>
<li>
<p>Extension is no longer provisional</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2023-12-05 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Condition reference picture setup based on the value of
<code>StdVideoEncodeH264PictureInfo::flags.is_reference</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_video_encode_h265"><a class="anchor" href="chap47.html#VK_KHR_video_encode_h265"></a>VK_KHR_video_encode_h265</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_encode_h265</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>40</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>14</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_video_encode_h265] @aabdelkh%0A*Here describe the issue or question you have about the VK_KHR_video_encode_h265 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>aabdelkh</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_encode_h265.adoc">VK_KHR_video_encode_h265</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_63"><a class="anchor" href="chap47.html#_other_extension_metadata_63"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-12-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>George Hao, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Chunbo Chen, Intel</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Ravi Chaudhary, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
<li>
<p>Aidan Fabius, Core Avionics &amp; Industrial Inc.</p>
</li>
<li>
<p>Lynne Iribarren, Independent</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_63"><a class="anchor" href="chap47.html#_description_63"></a>Description</h5>
<div class="paragraph">
<p>This extension builds upon the <code><a href="chap47.html#VK_KHR_video_encode_queue">VK_KHR_video_encode_queue</a></code> extension
by adding support for encoding elementary video stream sequences compliant
with the H.265/HEVC video compression standard.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This extension was promoted to <code>KHR</code> from the provisional extension
<code>VK_EXT_video_encode_h265</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_62"><a class="anchor" href="chap47.html#_new_structures_62"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265FrameSizeKHR">VkVideoEncodeH265FrameSizeKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH265NaluSliceSegmentInfoKHR">VkVideoEncodeH265NaluSliceSegmentInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH265QpKHR">VkVideoEncodeH265QpKHR</a></p>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoBeginCodingInfoKHR">VkVideoBeginCodingInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265GopRemainingFrameInfoKHR">VkVideoEncodeH265GopRemainingFrameInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCapabilitiesKHR">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265CapabilitiesKHR">VkVideoEncodeH265CapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCodingControlInfoKHR">VkVideoCodingControlInfoKHR</a>, <a href="chap36.html#VkVideoBeginCodingInfoKHR">VkVideoBeginCodingInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265RateControlInfoKHR">VkVideoEncodeH265RateControlInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoEncodeInfoKHR">VkVideoEncodeInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265PictureInfoKHR">VkVideoEncodeH265PictureInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoEncodeQualityLevelPropertiesKHR">VkVideoEncodeQualityLevelPropertiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265QualityLevelPropertiesKHR">VkVideoEncodeH265QualityLevelPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoEncodeRateControlLayerInfoKHR">VkVideoEncodeRateControlLayerInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265RateControlLayerInfoKHR">VkVideoEncodeH265RateControlLayerInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoEncodeSessionParametersFeedbackInfoKHR">VkVideoEncodeSessionParametersFeedbackInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265SessionParametersFeedbackInfoKHR">VkVideoEncodeH265SessionParametersFeedbackInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoEncodeSessionParametersGetInfoKHR">VkVideoEncodeSessionParametersGetInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265SessionParametersGetInfoKHR">VkVideoEncodeH265SessionParametersGetInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoProfileInfoKHR">VkVideoProfileInfoKHR</a>, <a href="chap17.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265ProfileInfoKHR">VkVideoEncodeH265ProfileInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoReferenceSlotInfoKHR">VkVideoReferenceSlotInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265DpbSlotInfoKHR">VkVideoEncodeH265DpbSlotInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionCreateInfoKHR">VkVideoSessionCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265SessionCreateInfoKHR">VkVideoEncodeH265SessionCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionParametersCreateInfoKHR">VkVideoSessionParametersCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265SessionParametersCreateInfoKHR">VkVideoEncodeH265SessionParametersCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionParametersUpdateInfoKHR">VkVideoSessionParametersUpdateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265SessionParametersAddInfoKHR">VkVideoEncodeH265SessionParametersAddInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_24"><a class="anchor" href="chap47.html#_new_enums_24"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265CapabilityFlagBitsKHR">VkVideoEncodeH265CapabilityFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH265CtbSizeFlagBitsKHR">VkVideoEncodeH265CtbSizeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH265RateControlFlagBitsKHR">VkVideoEncodeH265RateControlFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH265StdFlagBitsKHR">VkVideoEncodeH265StdFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH265TransformBlockSizeFlagBitsKHR">VkVideoEncodeH265TransformBlockSizeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_18"><a class="anchor" href="chap47.html#_new_bitmasks_18"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeH265CapabilityFlagsKHR">VkVideoEncodeH265CapabilityFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH265CtbSizeFlagsKHR">VkVideoEncodeH265CtbSizeFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH265RateControlFlagsKHR">VkVideoEncodeH265RateControlFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH265StdFlagsKHR">VkVideoEncodeH265StdFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeH265TransformBlockSizeFlagsKHR">VkVideoEncodeH265TransformBlockSizeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_67"><a class="anchor" href="chap47.html#_new_enum_constants_67"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_ENCODE_H265_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_ENCODE_H265_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_DPB_SLOT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_GOP_REMAINING_FRAME_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_NALU_SLICE_SEGMENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_PICTURE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_PROFILE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_QUALITY_LEVEL_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_RATE_CONTROL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_RATE_CONTROL_LAYER_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_SESSION_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_SESSION_PARAMETERS_ADD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_SESSION_PARAMETERS_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_SESSION_PARAMETERS_FEEDBACK_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_H265_SESSION_PARAMETERS_GET_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCodecOperationFlagBitsKHR">VkVideoCodecOperationFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_CODEC_OPERATION_ENCODE_H265_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_64"><a class="anchor" href="chap47.html#_version_history_64"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2019-11-14 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 0.5, 2020-02-13 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>General Spec cleanup</p>
</li>
<li>
<p>Added DPB structures</p>
</li>
<li>
<p>Change the VCL frame encode structure</p>
</li>
<li>
<p>Added a common Non-VCL Picture Paramarameters structure</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, Oct 10 2021 (Srinath Kumarapuram)</p>
<div class="ulist">
<ul>
<li>
<p>Vulkan Video Encode h.265 update and spec edits</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2021-12-08 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Rate control updates</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-01-11 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Replace occurrences of “slice” by “slice segment” and rename
structures/enums to reflect this.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-02-10 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Updates to encode capability interface</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-03-16 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Relocate Std header version reporting/requesting from this extension to
VK_KHR_video_queue extension.</p>
</li>
<li>
<p>Remove the now empty VkVideoEncodeH265SessionCreateInfoEXT.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-03-24 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Add capability flags to report support to disable transform skip and
support to use B frame in L1 reference list.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2022-07-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Replace <code>VkVideoEncodeH265RateControlStructureFlagBitsEXT</code> bit enum
with <code>VkVideoEncodeH265RateControlStructureEXT</code> enum</p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH265ProfileEXT</code> to
<code>VkVideoEncodeH265ProfileInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH265ReferenceListsEXT</code> to
<code>VkVideoEncodeH265ReferenceListsInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH265EmitPictureParametersEXT</code> to
<code>VkVideoEncodeH265EmitPictureParametersInfoEXT</code></p>
</li>
<li>
<p>Rename <code>VkVideoEncodeH265NaluSliceSegmentEXT</code> to
<code>VkVideoEncodeH265NaluSliceSegmentInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2022-09-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>vpsStdCount</code>, <code>pVpsStd</code>, <code>spsStdCount</code>, <code>pSpsStd</code>,
<code>ppsStdCount</code>, and <code>pPpsStd</code> to <code>stdVPSCount</code>, <code>pStdVPSs</code>,
<code>stdSPSCount</code>, <code>pStdSPSs</code>, <code>stdPPSCount</code>, and <code>pStdPPSs</code>, respectively,
in <code>VkVideoEncodeH265SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Rename <code>maxVpsStdCount</code>, <code>maxSpsStdCount</code>, and <code>maxPpsStdCount</code> to
<code>maxStdVPSCount</code>, <code>maxStdSPSCount</code> and <code>maxStdPPSCount</code>, respectively,
in <code>VkVideoEncodeH265SessionParametersCreateInfoEXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2023-03-06 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Removed <code>VkVideoEncodeH265EmitPictureParametersInfoEXT</code></p>
</li>
<li>
<p>Changed member types in <code>VkVideoEncodeH265CapabilitiesEXT</code> and
<code>VkVideoEncodeH265ReferenceListsInfoEXT</code> from <code>uint8_t</code> to <code>uint32_t</code></p>
</li>
<li>
<p>Changed the type of
<code>VkVideoEncodeH265RateControlInfoEXT::subLayerCount</code> and
<code>VkVideoEncodeH265RateControlLayerInfoEXT::temporalId</code> from <code>uint8_t</code>
to <code>uint32_t</code></p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH265InputModeFlagsEXT</code> and
<code>VkVideoEncodeH265OutputModeFlagsEXT</code> as we only support
frame-in-frame-out mode for now</p>
</li>
<li>
<p>Rename <code>pCurrentPictureInfo</code> in <code>VkVideoEncodeH265VclFrameInfoEXT</code> to
<code>pStdPictureInfo</code></p>
</li>
<li>
<p>Rename <code>pSliceSegmentHeaderStd</code> in
<code>VkVideoEncodeH265NaluSliceSegmentInfoEXT</code> to <code>pStdSliceSegmentHeader</code></p>
</li>
<li>
<p>Rename <code>pReferenceFinalLists</code> in <code>VkVideoEncodeH265VclFrameInfoEXT</code> and
<code>VkVideoEncodeH265NaluSliceSegmentInfoEXT</code> to <code>pStdReferenceFinalLists</code></p>
</li>
<li>
<p>Removed the <code>slotIndex</code> member of <code>VkVideoEncodeH265DpbSlotInfoEXT</code> and
changed it to be chained to <code>VkVideoReferenceSlotInfoKHR</code></p>
</li>
<li>
<p>Replaced <code>VkVideoEncodeH265ReferenceListsInfoEXT</code> with the new Video
Std header structure <code>StdVideoEncodeH265ReferenceLists</code></p>
</li>
<li>
<p>Added new capability flag
<code>VK_VIDEO_ENCODE_H265_CAPABILITY_DIFFERENT_REFERENCE_FINAL_LISTS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2023-05-26 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed <code>VkVideoEncodeH265VclFrameInfoEXT</code> to
<code>VkVideoEncodeH265PictureInfoEXT</code></p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH265RateControlLayerInfoEXT::temporalId</code></p>
</li>
<li>
<p>Added <code>expectDyadicTemporalSubLayerPattern</code> capability</p>
</li>
<li>
<p>Added the <code>VkVideoEncodeH265SessionParametersGetInfoEXT</code> structure to
identify the H.265 parameter sets to retrieve encoded parameter data
for, and the <code>VkVideoEncodeH265SessionParametersFeedbackInfoEXT</code>
structure to retrieve H.265 parameter set override information when
using the new <code>vkGetEncodedVideoSessionParametersKHR</code> command</p>
</li>
<li>
<p>Added <code>VkVideoEncodeH265NaluSliceSegmentInfoEXT::constantQp</code> to specify
per-slice segment constant QP when rate control mode is
<code>VK_VIDEO_ENCODE_RATE_CONTROL_MODE_DISABLED_BIT_KHR</code></p>
</li>
<li>
<p>Added <code>VkVideoEncodeH265QualityLevelPropertiesEXT</code> for retrieving H.265
specific quality level recommendations</p>
</li>
<li>
<p>Replaced <code>VkVideoEncodeH265RateControlStructureEXT</code> enum with the flags
type <code>VkVideoEncodeH265RateControlFlagsEXT</code> and bits defined in
<code>VkVideoEncodeH265RateControlFlagBitsEXT</code> and added HRD compliance flag</p>
</li>
<li>
<p>Removed <code>useInitialRcQp</code> and <code>initialRcQp</code> members of
<code>VkVideoEncodeH265RateControlLayerInfoEXT</code></p>
</li>
<li>
<p>Added <code>prefersGopRemainingFrames</code> and <code>requiresGopRemainingFrames</code>, and
the new <code>VkVideoEncodeH265GopRemainingFrameInfoEXT</code> structure to allow
specifying remaining frames of each type in the rate control GOP</p>
</li>
<li>
<p>Renamed <code>maxSubLayersCount</code> capability to <code>maxSubLayerCount</code></p>
</li>
<li>
<p>Added <code>maxQp</code>, and <code>minQp</code> capabilities</p>
</li>
<li>
<p>Added <code>maxLevelIdc</code> capability and new
<code>VkVideoEncodeH265SessionCreateInfoEXT</code> structure to specify upper
bounds on the H.265 level of the produced video bitstream</p>
</li>
<li>
<p>Moved capability flags specific to codec syntax restrictions from
<code>VkVideoEncodeH265CapabilityFlagsEXT</code> to the new
<code>VkVideoEncodeH265StdFlagsEXT</code> which is now included as a separate
<code>stdSyntaxFlags</code> member in <code>VkVideoEncodeH265CapabilitiesEXT</code></p>
</li>
<li>
<p>Added <code>std</code> prefix to codec syntax capabilities in
<code>VkVideoEncodeH265CapabilitiesEXT</code></p>
</li>
<li>
<p>Removed <code>VkVideoEncodeH265NaluSliceSegmentInfoEXT::ctbCount</code> and
<code>VK_VIDEO_ENCODE_H265_CAPABILITY_SLICE_SEGMENT_CTB_COUNT_BIT_EXT</code></p>
</li>
<li>
<p>Replaced
<code>VK_VIDEO_ENCODE_H265_CAPABILITY_MULTIPLE_SLICE_SEGMENTS_PER_FRAME_BIT_EXT</code>
with the new <code>maxSliceSegmentCount</code> capability</p>
</li>
<li>
<p>Added <code>maxTiles</code> capability</p>
</li>
<li>
<p>Removed codec syntax min/max capabilities from
<code>VkVideoEncodeH265CapabilitiesEXT</code></p>
</li>
<li>
<p>Removed capability flag
<code>VK_VIDEO_ENCODE_H265_CAPABILITY_DIFFERENT_REFERENCE_FINAL_LISTS_BIT_EXT</code>
and removed <code>pStdReferenceFinalLists</code> members from the
<code>VkVideoEncodeH265PictureInfoEXT</code> and
<code>VkVideoEncodeH265NaluSliceSegmentInfoEXT</code> structures as reference
lists info is now included in <code>pStdPictureInfo</code></p>
</li>
<li>
<p>Added capability flag
<code>VK_VIDEO_ENCODE_H265_CAPABILITY_B_FRAME_IN_L0_LIST_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2023-07-19 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added video std capability flags
<code>VK_VIDEO_ENCODE_H265_STD_SLICE_QP_DELTA_BIT_EXT</code> and
<code>VK_VIDEO_ENCODE_H265_STD_DIFFERENT_SLICE_QP_DELTA_BIT_EXT</code></p>
</li>
<li>
<p>Fixed optionality of the array members of
<code>VkVideoEncodeH265SessionParametersAddInfoEXT</code></p>
</li>
<li>
<p>Fixed optionality of <code>VkVideoEncodeH265RateControlInfoEXT::flags</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2023-09-04 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Change extension from <code>EXT</code> to <code>KHR</code></p>
</li>
<li>
<p>Extension is no longer provisional</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2023-12-05 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Condition reference picture setup based on the value of
<code>StdVideoEncodeH265PictureInfo::flags.is_reference</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_video_encode_queue"><a class="anchor" href="chap47.html#VK_KHR_video_encode_queue"></a>VK_KHR_video_encode_queue</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_encode_queue</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>300</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>12</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_video_queue">VK_KHR_video_queue</a><br>
and<br>
<a href="chap47.html#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_KHR_format_feature_flags2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_video_encode_queue] @aabdelkh%0A*Here describe the issue or question you have about the VK_KHR_video_encode_queue extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>aabdelkh</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_encode_queue.adoc">VK_KHR_video_encode_queue</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_64"><a class="anchor" href="chap47.html#_other_extension_metadata_64"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-12-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>Damien Kessler, NVIDIA</p>
</li>
<li>
<p>George Hao, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Peter Fang, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Thomas J. Meier, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Ravi Chaudhary, NVIDIA</p>
</li>
<li>
<p>Yang Liu, AMD</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Aidan Fabius, Core Avionics &amp; Industrial Inc.</p>
</li>
<li>
<p>Lynne Iribarren, Independent</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_64"><a class="anchor" href="chap47.html#_description_64"></a>Description</h5>
<div class="paragraph">
<p>This extension builds upon the <code><a href="chap47.html#VK_KHR_video_queue">VK_KHR_video_queue</a></code> extension by
adding common APIs specific to video encoding and thus enabling
implementations to expose queue families supporting video encode operations.</p>
</div>
<div class="paragraph">
<p>More specifically, it adds video encode specific capabilities and a new
command buffer command that allows recording video encode operations against
a video session.</p>
</div>
<div class="paragraph">
<p>This extension is to be used in conjunction with other codec specific video
encode extensions that enable encoding video sequences of specific video
compression standards.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_39"><a class="anchor" href="chap47.html#_new_commands_39"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#vkCmdEncodeVideoKHR">vkCmdEncodeVideoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkGetEncodedVideoSessionParametersKHR">vkGetEncodedVideoSessionParametersKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkGetPhysicalDeviceVideoEncodeQualityLevelPropertiesKHR">vkGetPhysicalDeviceVideoEncodeQualityLevelPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_63"><a class="anchor" href="chap47.html#_new_structures_63"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkPhysicalDeviceVideoEncodeQualityLevelInfoKHR">VkPhysicalDeviceVideoEncodeQualityLevelInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeInfoKHR">VkVideoEncodeInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeQualityLevelPropertiesKHR">VkVideoEncodeQualityLevelPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeRateControlLayerInfoKHR">VkVideoEncodeRateControlLayerInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeSessionParametersFeedbackInfoKHR">VkVideoEncodeSessionParametersFeedbackInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeSessionParametersGetInfoKHR">VkVideoEncodeSessionParametersGetInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap17.html#VkQueryPoolVideoEncodeFeedbackCreateInfoKHR">VkQueryPoolVideoEncodeFeedbackCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCapabilitiesKHR">VkVideoCapabilitiesKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeCapabilitiesKHR">VkVideoEncodeCapabilitiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCodingControlInfoKHR">VkVideoCodingControlInfoKHR</a>, <a href="chap36.html#VkVideoBeginCodingInfoKHR">VkVideoBeginCodingInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeRateControlInfoKHR">VkVideoEncodeRateControlInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCodingControlInfoKHR">VkVideoCodingControlInfoKHR</a>, <a href="chap36.html#VkVideoSessionParametersCreateInfoKHR">VkVideoSessionParametersCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeQualityLevelInfoKHR">VkVideoEncodeQualityLevelInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoProfileInfoKHR">VkVideoProfileInfoKHR</a>, <a href="chap17.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeUsageInfoKHR">VkVideoEncodeUsageInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_25"><a class="anchor" href="chap47.html#_new_enums_25"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeCapabilityFlagBitsKHR">VkVideoEncodeCapabilityFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeContentFlagBitsKHR">VkVideoEncodeContentFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap17.html#VkVideoEncodeFeedbackFlagBitsKHR">VkVideoEncodeFeedbackFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeRateControlModeFlagBitsKHR">VkVideoEncodeRateControlModeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeTuningModeKHR">VkVideoEncodeTuningModeKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeUsageFlagBitsKHR">VkVideoEncodeUsageFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_19"><a class="anchor" href="chap47.html#_new_bitmasks_19"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoEncodeCapabilityFlagsKHR">VkVideoEncodeCapabilityFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeContentFlagsKHR">VkVideoEncodeContentFlagsKHR</a></p>
</li>
<li>
<p><a href="chap17.html#VkVideoEncodeFeedbackFlagsKHR">VkVideoEncodeFeedbackFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeFlagsKHR">VkVideoEncodeFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeRateControlFlagsKHR">VkVideoEncodeRateControlFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeRateControlModeFlagsKHR">VkVideoEncodeRateControlModeFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEncodeUsageFlagsKHR">VkVideoEncodeUsageFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_68"><a class="anchor" href="chap47.html#_new_enum_constants_68"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_ENCODE_QUEUE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_ENCODE_QUEUE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkAccessFlagBits2">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_VIDEO_ENCODE_READ_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_VIDEO_ENCODE_WRITE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_VIDEO_ENCODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_VIDEO_ENCODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap40.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_VIDEO_ENCODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_VIDEO_ENCODE_INPUT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_ENCODE_DPB_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_ENCODE_DST_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_VIDEO_ENCODE_SRC_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_ENCODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_ENCODE_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_USAGE_VIDEO_ENCODE_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkPipelineStageFlagBits2">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_VIDEO_ENCODE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryResultStatusKHR">VkQueryResultStatusKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_RESULT_STATUS_INSUFFICIENT_BITSTREAM_BUFFER_RANGE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryType">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_VIDEO_ENCODE_FEEDBACK_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkQueueFlagBits">VkQueueFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUEUE_VIDEO_ENCODE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_VIDEO_STD_PARAMETERS_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VIDEO_ENCODE_QUALITY_LEVEL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUERY_POOL_VIDEO_ENCODE_FEEDBACK_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_QUALITY_LEVEL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_QUALITY_LEVEL_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_RATE_CONTROL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_RATE_CONTROL_LAYER_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_SESSION_PARAMETERS_FEEDBACK_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_SESSION_PARAMETERS_GET_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_ENCODE_USAGE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoCodingControlFlagBitsKHR">VkVideoCodingControlFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_CODING_CONTROL_ENCODE_QUALITY_LEVEL_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_VIDEO_CODING_CONTROL_ENCODE_RATE_CONTROL_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionCreateFlagBitsKHR">VkVideoSessionCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_SESSION_CREATE_ALLOW_ENCODE_PARAMETER_OPTIMIZATIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap40.html#VkFormatFeatureFlagBits2">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_VIDEO_ENCODE_DPB_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_2_VIDEO_ENCODE_INPUT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_65"><a class="anchor" href="chap47.html#_version_history_65"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-23 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.1, 10/29/2019 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the reserved spec tokens and renamed VkVideoEncoderKHR to
VkVideoSessionKHR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1.6, Jan 08 2020 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>API unify with the video_decode_queue spec</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, March 29 2021 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2021-09-30 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add interaction with <code><a href="chap47.html#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a></code> to <code>vk.xml</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-02-10 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Updates to encode capability interface</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-03-31 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Remove redundant VkVideoEncodeInfoKHR.codedExtent</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-07-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Remove <code>VkVideoEncodeRateControlFlagBitsKHR</code> and
<code>VkVideoEncodeFlagBitsKHR</code> as they contain no defined flags for now</p>
</li>
<li>
<p>Add <code>VK_VIDEO_CODING_CONTROL_ENCODE_RATE_CONTROL_BIT_KHR</code> and
<code>VK_VIDEO_CODING_CONTROL_ENCODE_RATE_CONTROL_LAYER_BIT_KHR</code> to indicate
rate control and rate control layer change requests, respectively, in
video coding control operations</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-08-12 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Add VkVideoEncodeUsageInfoKHR structure and related flags</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2023-03-06 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Replace <code>VK_QUERY_TYPE_VIDEO_ENCODE_BITSTREAM_BUFFER_RANGE_KHR</code> queries
with more generic <code>VK_QUERY_TYPE_VIDEO_ENCODE_FEEDBACK_KHR</code> queries
that can be extended in the future with more feedback values</p>
</li>
<li>
<p>Rename <code>dstBitstreamBuffer</code>, <code>dstBitstreamBufferOffset</code>, and
<code>dstBitstreamBufferMaxRange</code> in <code>VkVideoEncodeInfoKHR</code> to <code>dstBuffer</code>,
<code>dstBufferOffset</code>, and <code>dstBufferRange</code>, respectively, for consistency
with the naming convention in the video decode extensions</p>
</li>
<li>
<p>Change the type of <code>rateControlLayerCount</code> and <code>qualityLevelCount</code> in
<code>VkVideoEncodeCapabilitiesKHR</code> from <code>uint8_t</code> to <code>uint32_t</code> and rename
them to <code>maxRateControlLayers</code> and <code>maxQualityLevels</code>, respectively</p>
</li>
<li>
<p>Change the type of <code>averageBitrate</code> and <code>maxBitrate</code> in
<code>VkVideoEncodeRateControlLayerInfoKHR`</code> from <code>uint32_t</code> to <code>uint64_t</code></p>
</li>
<li>
<p>Fixed the definition of rate control flag bits and added the new
<code>VK_VIDEO_ENCODE_RATE_CONTROL_MODE_DEFAULT_KHR</code> constant to indicate
implementation-specific automatic rate control</p>
</li>
<li>
<p>Change the type of <code>VkVideoEncodeRateControlInfoKHR::layerCount</code> from
<code>uint8_t</code> to <code>uint32_t</code></p>
</li>
<li>
<p>Rename <code>pLayerConfigs</code> to <code>pLayers</code> in
<code>VkVideoEncodeRateControlInfoKHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2023-03-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Removed <code>VK_VIDEO_CODING_CONTROL_ENCODE_RATE_CONTROL_LAYER_BIT_KHR</code> and
the ability to change the state of individual rate control layers</p>
</li>
<li>
<p>Added new <code>VK_VIDEO_ENCODE_FEEDBACK_BITSTREAM_HAS_OVERRIDES_BIT_KHR</code>
flag to video encode feedback queries</p>
</li>
<li>
<p>Added new video session create flag
<code>VK_VIDEO_SESSION_CREATE_ALLOW_ENCODE_PARAMETER_OPTIMIZATIONS_BIT_KHR</code>
to opt-in to video session and encoding parameter optimizations</p>
</li>
<li>
<p>Added the <code>vkGetEncodedVideoSessionParametersKHR</code> command to enable
retrieving encoded video session parameter data</p>
</li>
<li>
<p>Moved <code>virtualBufferSizeInMs</code> and <code>initialVirtualBufferSizeInMs</code> from
<code>VkVideoEncodeRateControlLayerInfoKHR</code> to
<code>VkVideoEncodeRateControlInfoKHR</code></p>
</li>
<li>
<p>Added <code>maxBitrate</code> capability</p>
</li>
<li>
<p>Renamed <code>inputImageDataFillAlignment</code> capability to
<code>encodeInputPictureGranularity</code> to better reflect its purpose</p>
</li>
<li>
<p>Added new <code>vkGetPhysicalDeviceVideoEncodeQualityLevelPropertiesKHR</code>
command and related structures to enable querying recommended settings
for video encode quality levels</p>
</li>
<li>
<p>Added <code>VK_VIDEO_CODING_CONTROL_ENCODE_QUALITY_LEVEL_BIT_KHR</code> flag and
<code>VkVideoEncodeQualityLevelInfoKHR</code> structure to allow controlling video
encode quality level and removed <code>qualityLevel</code> from the encode
operation parameters</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2023-07-19 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added <code>VK_QUERY_RESULT_STATUS_INSUFFICIENT_BITSTREAM_BUFFER_RANGE_KHR</code>
query result status code and the related capability flag
<code>VK_VIDEO_ENCODE_CAPABILITY_INSUFFICIENT_BITSTREAM_BUFFER_RANGE_DETECTION_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2023-09-04 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Extension is no longer provisional</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2023-12-05 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Require the specification of a reconstructed picture in all cases,
except when the video session was created with no DPB slots to match
shipping implementations</p>
</li>
<li>
<p>Make DPB slot activation behavior codec-specific to continue allowing
application control over reference picture setup now that a
reconstructed picture is always mandatory</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_video_maintenance1"><a class="anchor" href="chap47.html#VK_KHR_video_maintenance1"></a>VK_KHR_video_maintenance1</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_maintenance1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>516</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_video_queue">VK_KHR_video_queue</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_video_maintenance1] @aqnuep%0A*Here describe the issue or question you have about the VK_KHR_video_maintenance1 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>aqnuep</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_maintenance1.adoc">VK_KHR_video_maintenance1</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_65"><a class="anchor" href="chap47.html#_other_extension_metadata_65"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-07-27</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>Aidan Fabius, Core Avionics &amp; Industrial Inc.</p>
</li>
<li>
<p>Ping Liu, Intel</p>
</li>
<li>
<p>Lynne Iribarren, Independent</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_65"><a class="anchor" href="chap47.html#_description_65"></a>Description</h5>
<div class="paragraph">
<p><code>VK_KHR_video_maintenance1</code> adds a collection of minor video coding
features, none of which would warrant an entire extension of their own.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow creating buffers that can be used in video coding operations,
independent of the used video profile, using the new buffer creation
flag <code>VK_BUFFER_CREATE_VIDEO_PROFILE_INDEPENDENT_BIT_KHR</code>.</p>
</li>
<li>
<p>Allow creating images that can be used as decode output or encode input
pictures, independent of the used video profile, using the new image
creation flag <code>VK_IMAGE_CREATE_VIDEO_PROFILE_INDEPENDENT_BIT_KHR</code>.</p>
</li>
<li>
<p>Allow specifying queries used by video coding operations as part of the
video coding command parameters, instead of using begin/end query when
the video session is created using the new video session creation flag
<code>VK_VIDEO_SESSION_CREATE_INLINE_QUERIES_BIT_KHR</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_64"><a class="anchor" href="chap47.html#_new_structures_64"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceVideoMaintenance1FeaturesKHR">VkPhysicalDeviceVideoMaintenance1FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoDecodeInfoKHR">VkVideoDecodeInfoKHR</a>, <a href="chap36.html#VkVideoEncodeInfoKHR">VkVideoEncodeInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoInlineQueryInfoKHR">VkVideoInlineQueryInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_69"><a class="anchor" href="chap47.html#_new_enum_constants_69"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_MAINTENANCE_1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_MAINTENANCE_1_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_CREATE_VIDEO_PROFILE_INDEPENDENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_VIDEO_PROFILE_INDEPENDENT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VIDEO_MAINTENANCE_1_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_INLINE_QUERY_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap36.html#VkVideoSessionCreateFlagBitsKHR">VkVideoSessionCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_VIDEO_SESSION_CREATE_INLINE_QUERIES_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_66"><a class="anchor" href="chap47.html#_version_history_66"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-07-27 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_video_queue"><a class="anchor" href="chap47.html#VK_KHR_video_queue"></a>VK_KHR_video_queue</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_video_queue</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>24</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>8</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br>
and<br>
<a href="chap47.html#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tony Zlatinski <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_video_queue] @tzlatinski%0A*Here describe the issue or question you have about the VK_KHR_video_queue extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tzlatinski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_KHR_video_queue.adoc">VK_KHR_video_queue</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_66"><a class="anchor" href="chap47.html#_other_extension_metadata_66"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-09-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ahmed Abdelkhalek, AMD</p>
</li>
<li>
<p>George Hao, AMD</p>
</li>
<li>
<p>Jake Beju, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Srinath Kumarapuram, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_66"><a class="anchor" href="chap47.html#_description_66"></a>Description</h5>
<div class="paragraph">
<p>This extension provides common APIs to enable exposing queue families with
support for video codec operations by introducing the following new object
types and related functionalities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Video session objects that represent and maintain the state needed to
perform video codec operations.</p>
</li>
<li>
<p>Video session parameters objects that act as a container for codec
specific parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition, it also introduces query commands that allow applications to
determine video coding related capabilities, and command buffer commands
that enable recording video coding operations against a video session.</p>
</div>
<div class="paragraph">
<p>This extension is to be used in conjunction with other extensions that
enable specific video coding operations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_object_types_8"><a class="anchor" href="chap47.html#_new_object_types_8"></a>New Object Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoSessionKHR">VkVideoSessionKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoSessionParametersKHR">VkVideoSessionParametersKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_40"><a class="anchor" href="chap47.html#_new_commands_40"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#vkBindVideoSessionMemoryKHR">vkBindVideoSessionMemoryKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkCmdBeginVideoCodingKHR">vkCmdBeginVideoCodingKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkCmdControlVideoCodingKHR">vkCmdControlVideoCodingKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkCmdEndVideoCodingKHR">vkCmdEndVideoCodingKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkCreateVideoSessionKHR">vkCreateVideoSessionKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkCreateVideoSessionParametersKHR">vkCreateVideoSessionParametersKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkDestroyVideoSessionKHR">vkDestroyVideoSessionKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkDestroyVideoSessionParametersKHR">vkDestroyVideoSessionParametersKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkGetPhysicalDeviceVideoCapabilitiesKHR">vkGetPhysicalDeviceVideoCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkGetPhysicalDeviceVideoFormatPropertiesKHR">vkGetPhysicalDeviceVideoFormatPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkGetVideoSessionMemoryRequirementsKHR">vkGetVideoSessionMemoryRequirementsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#vkUpdateVideoSessionParametersKHR">vkUpdateVideoSessionParametersKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_65"><a class="anchor" href="chap47.html#_new_structures_65"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkBindVideoSessionMemoryInfoKHR">VkBindVideoSessionMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkPhysicalDeviceVideoFormatInfoKHR">VkPhysicalDeviceVideoFormatInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoBeginCodingInfoKHR">VkVideoBeginCodingInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoCapabilitiesKHR">VkVideoCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoCodingControlInfoKHR">VkVideoCodingControlInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEndCodingInfoKHR">VkVideoEndCodingInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoFormatPropertiesKHR">VkVideoFormatPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoPictureResourceInfoKHR">VkVideoPictureResourceInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoReferenceSlotInfoKHR">VkVideoReferenceSlotInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoSessionCreateInfoKHR">VkVideoSessionCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoSessionMemoryRequirementsKHR">VkVideoSessionMemoryRequirementsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoSessionParametersCreateInfoKHR">VkVideoSessionParametersCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoSessionParametersUpdateInfoKHR">VkVideoSessionParametersUpdateInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap41.html#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>, <a href="chap36.html#VkPhysicalDeviceVideoFormatInfoKHR">VkPhysicalDeviceVideoFormatInfoKHR</a>, <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>, <a href="chap12.html#VkBufferCreateInfo">VkBufferCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoProfileListInfoKHR">VkVideoProfileListInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryPoolCreateInfo">VkQueryPoolCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoProfileInfoKHR">VkVideoProfileInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkQueueFamilyProperties2">VkQueueFamilyProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkQueueFamilyQueryResultStatusPropertiesKHR">VkQueueFamilyQueryResultStatusPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkQueueFamilyVideoPropertiesKHR">VkQueueFamilyVideoPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_26"><a class="anchor" href="chap47.html#_new_enums_26"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap17.html#VkQueryResultStatusKHR">VkQueryResultStatusKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoCapabilityFlagBitsKHR">VkVideoCapabilityFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoChromaSubsamplingFlagBitsKHR">VkVideoChromaSubsamplingFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoCodecOperationFlagBitsKHR">VkVideoCodecOperationFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoCodingControlFlagBitsKHR">VkVideoCodingControlFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoComponentBitDepthFlagBitsKHR">VkVideoComponentBitDepthFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoSessionCreateFlagBitsKHR">VkVideoSessionCreateFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_20"><a class="anchor" href="chap47.html#_new_bitmasks_20"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkVideoBeginCodingFlagsKHR">VkVideoBeginCodingFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoCapabilityFlagsKHR">VkVideoCapabilityFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoChromaSubsamplingFlagsKHR">VkVideoChromaSubsamplingFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoCodecOperationFlagsKHR">VkVideoCodecOperationFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoCodingControlFlagsKHR">VkVideoCodingControlFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoComponentBitDepthFlagsKHR">VkVideoComponentBitDepthFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoEndCodingFlagsKHR">VkVideoEndCodingFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoSessionCreateFlagsKHR">VkVideoSessionCreateFlagsKHR</a></p>
</li>
<li>
<p><a href="chap36.html#VkVideoSessionParametersCreateFlagsKHR">VkVideoSessionParametersCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_70"><a class="anchor" href="chap47.html#_new_enum_constants_70"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VIDEO_QUEUE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VIDEO_QUEUE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap42.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_VIDEO_SESSION_KHR</code></p>
</li>
<li>
<p><code>VK_OBJECT_TYPE_VIDEO_SESSION_PARAMETERS_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryResultFlagBits">VkQueryResultFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_RESULT_WITH_STATUS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryType">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_RESULT_STATUS_ONLY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_IMAGE_USAGE_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PICTURE_LAYOUT_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PROFILE_CODEC_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PROFILE_FORMAT_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_PROFILE_OPERATION_NOT_SUPPORTED_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_VIDEO_STD_VERSION_NOT_SUPPORTED_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_VIDEO_SESSION_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VIDEO_FORMAT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_QUERY_RESULT_STATUS_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_VIDEO_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_BEGIN_CODING_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_CODING_CONTROL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_END_CODING_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_FORMAT_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_PICTURE_RESOURCE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_PROFILE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_PROFILE_LIST_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_REFERENCE_SLOT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_SESSION_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_SESSION_MEMORY_REQUIREMENTS_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_SESSION_PARAMETERS_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VIDEO_SESSION_PARAMETERS_UPDATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_67"><a class="anchor" href="chap47.html#_version_history_67"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 0.1, 2019-11-21 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 0.2, 2019-11-27 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Make vulkan video core common between decode and encode</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, March 29 2021 (Tony Zlatinski)</p>
<div class="ulist">
<ul>
<li>
<p>Spec and API updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, August 1 2021 (Srinath Kumarapuram)</p>
<div class="ulist">
<ul>
<li>
<p>Rename <code>VkVideoCapabilitiesFlagBitsKHR</code> to
<code>VkVideoCapabilityFlagBitsKHR</code> (along with the names of enumerants it
defines) and <code>VkVideoCapabilitiesFlagsKHR</code> to
<code>VkVideoCapabilityFlagsKHR</code>, following Vulkan naming conventions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2022-03-16 (Ahmed Abdelkhalek)</p>
<div class="ulist">
<ul>
<li>
<p>Relocate Std header version reporting/requesting from codec-operation
specific extensions to this extension.</p>
</li>
<li>
<p>Make Std header versions codec-operation specific instead of only
codec-specific.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2022-05-30 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Refactor the video format query APIs and related language</p>
</li>
<li>
<p>Extend VkResult with video-specific error codes</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2022-08-11 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Add <code>VkVideoSessionParametersCreateFlagsKHR</code></p>
</li>
<li>
<p>Remove <code>VkVideoCodingQualityPresetFlagsKHR</code></p>
</li>
<li>
<p>Rename <code>VkQueueFamilyQueryResultStatusProperties2KHR</code> to
<code>VkQueueFamilyQueryResultStatusPropertiesKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoQueueFamilyProperties2KHR</code> to
<code>VkQueueFamilyVideoPropertiesKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoProfileKHR</code> to <code>VkVideoProfileInfoKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoProfilesKHR</code> to <code>VkVideoProfileListInfoKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoGetMemoryPropertiesKHR</code> to
<code>VkVideoSessionMemoryRequirementsKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoBindMemoryKHR</code> to <code>VkBindVideoSessionMemoryInfoKHR</code></p>
</li>
<li>
<p>Fix <code>pNext</code> constness of <code>VkPhysicalDeviceVideoFormatInfoKHR</code> and
<code>VkVideoSessionMemoryRequirementsKHR</code></p>
</li>
<li>
<p>Fix incorrectly named value enums in bit enum types
<code>VkVideoCodecOperationFlagBitsKHR</code> and
<code>VkVideoChromaSubsamplingFlagBitsKHR</code></p>
</li>
<li>
<p>Remove unnecessary default values from
<code>VkVideoSessionCreateFlagBitsKHR</code> and <code>VkVideoCodingControlFlagBitsKHR</code></p>
</li>
<li>
<p>Eliminate nested pointer in <code>VkVideoSessionMemoryRequirementsKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoPictureResourceKHR</code> to <code>VkVideoPictureResourceInfoKHR</code></p>
</li>
<li>
<p>Rename <code>VkVideoReferenceSlotKHR</code> to <code>VkVideoReferenceSlotInfoKHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2022-09-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rename the <code>maxReferencePicturesSlotsCount</code> and
<code>maxReferencePicturesActiveCount</code> fields of <code>VkVideoCapabilitiesKHR</code>
and <code>VkVideoSessionCreateInfoKHR</code> to <code>maxDpbSlots</code> and
<code>maxActiveReferencePictures</code>, respectively, to clarify their meaning</p>
</li>
<li>
<p>Rename <code>capabilityFlags</code> to <code>flags</code> in <code>VkVideoCapabilitiesKHR</code></p>
</li>
<li>
<p>Rename <code>videoPictureExtentGranularity</code> to <code>pictureAccessGranularity</code> in
<code>VkVideoCapabilitiesKHR</code></p>
</li>
<li>
<p>Rename <code>minExtent</code> and <code>maxExtent</code> to <code>minCodedExtent</code> and
<code>maxCodedExtent</code>, respectively, in <code>VkVideoCapabilitiesKHR</code></p>
</li>
<li>
<p>Rename <code>referencePicturesFormat</code> to <code>referencePictureFormat</code> in
<code>VkVideoSessionCreateInfoKHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2022-09-26 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Change type of <code>VkVideoReferenceSlotInfoKHR::slotIndex</code> from <code>int8_t</code>
to <code>int32_t</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2022-09-29 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Extension is no longer provisional</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_wayland_surface"><a class="anchor" href="chap47.html#VK_KHR_wayland_surface"></a>VK_KHR_wayland_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_wayland_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>7</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_wayland_surface] @critsec%0A*Here describe the issue or question you have about the VK_KHR_wayland_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_wayland_surface] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_wayland_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_67"><a class="anchor" href="chap47.html#_other_extension_metadata_67"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_67"><a class="anchor" href="chap47.html#_description_67"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_wayland_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a Wayland
<code>wl_surface</code>, as well as a query to determine support for rendering to a
Wayland compositor.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_41"><a class="anchor" href="chap47.html#_new_commands_41"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkCreateWaylandSurfaceKHR">vkCreateWaylandSurfaceKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_66"><a class="anchor" href="chap47.html#_new_structures_66"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkWaylandSurfaceCreateInfoKHR">VkWaylandSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_21"><a class="anchor" href="chap47.html#_new_bitmasks_21"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkWaylandSurfaceCreateFlagsKHR">VkWaylandSurfaceCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_71"><a class="anchor" href="chap47.html#_new_enum_constants_71"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_WAYLAND_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_WAYLAND_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_34"><a class="anchor" href="chap47.html#_issues_34"></a>Issues</h5>
<div class="paragraph">
<p>1) Does Wayland need a way to query for compatibility between a particular
physical device and a specific Wayland display? This would be a more general
query than <a href="chap30.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>: if the
Wayland-specific query returned <code>VK_TRUE</code> for a (<a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a>,
<code>struct wl_display*</code>) pair, then the physical device could be assumed to
support presentation to any <a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> for surfaces on the display.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
<a href="chap30.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a> was added to address
this issue.</p>
</div>
<div class="paragraph">
<p>2) Should we require surfaces created with <a href="chap30.html#vkCreateWaylandSurfaceKHR">vkCreateWaylandSurfaceKHR</a>
to support the <code>VK_PRESENT_MODE_MAILBOX_KHR</code> present mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Wayland is an inherently mailbox window system and mailbox support is
required for some Wayland compositor interactions to work as expected.
While handling these interactions may be possible with
<code>VK_PRESENT_MODE_FIFO_KHR</code>, it is much more difficult to do without
deadlock and requiring all Wayland applications to be able to support
implementations which only support <code>VK_PRESENT_MODE_FIFO_KHR</code> would be
an onerous restriction on application developers.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_68"><a class="anchor" href="chap47.html#_version_history_68"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added vkGetPhysicalDeviceWaylandPresentationSupportKHR() to resolve
issue #1.</p>
</li>
<li>
<p>Adjusted wording of issue #1 to match the agreed-upon solution.</p>
</li>
<li>
<p>Renamed “window” parameters to “surface” to match Wayland
conventions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_wayland_surface to VK_KHR_wayland_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateWaylandSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-02-08 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added the requirement that implementations support
<code>VK_PRESENT_MODE_MAILBOX_KHR</code>.</p>
</li>
<li>
<p>Added wording about interactions between <a href="chap30.html#vkQueuePresentKHR">vkQueuePresentKHR</a> and
the Wayland requests sent to the compositor.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_win32_keyed_mutex"><a class="anchor" href="chap47.html#VK_KHR_win32_keyed_mutex"></a>VK_KHR_win32_keyed_mutex</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_win32_keyed_mutex</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>76</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_external_memory_win32">VK_KHR_external_memory_win32</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Carsten Rohde <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_win32_keyed_mutex] @crohde%0A*Here describe the issue or question you have about the VK_KHR_win32_keyed_mutex extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>crohde</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_68"><a class="anchor" href="chap47.html#_other_extension_metadata_68"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_68"><a class="anchor" href="chap47.html#_description_68"></a>Description</h5>
<div class="paragraph">
<p>Applications that wish to import Direct3D 11 memory objects into the Vulkan
API may wish to use the native keyed mutex mechanism to synchronize access
to the memory between Vulkan and Direct3D.
This extension provides a way for an application to access the keyed mutex
associated with an imported Vulkan memory object when submitting command
buffers to a queue.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_67"><a class="anchor" href="chap47.html#_new_structures_67"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap6.html#VkSubmitInfo">VkSubmitInfo</a>, <a href="chap6.html#VkSubmitInfo2">VkSubmitInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkWin32KeyedMutexAcquireReleaseInfoKHR">VkWin32KeyedMutexAcquireReleaseInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_72"><a class="anchor" href="chap47.html#_new_enum_constants_72"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_WIN32_KEYED_MUTEX_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_WIN32_KEYED_MUTEX_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WIN32_KEYED_MUTEX_ACQUIRE_RELEASE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_69"><a class="anchor" href="chap47.html#_version_history_69"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_win32_surface"><a class="anchor" href="chap47.html#VK_KHR_win32_surface"></a>VK_KHR_win32_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_win32_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>10</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_win32_surface] @critsec%0A*Here describe the issue or question you have about the VK_KHR_win32_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_win32_surface] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_win32_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_69"><a class="anchor" href="chap47.html#_other_extension_metadata_69"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-04-24</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_69"><a class="anchor" href="chap47.html#_description_69"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_win32_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a Win32 <code>HWND</code>, as
well as a query to determine support for rendering to the windows desktop.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_42"><a class="anchor" href="chap47.html#_new_commands_42"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkCreateWin32SurfaceKHR">vkCreateWin32SurfaceKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceWin32PresentationSupportKHR">vkGetPhysicalDeviceWin32PresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_68"><a class="anchor" href="chap47.html#_new_structures_68"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkWin32SurfaceCreateInfoKHR">VkWin32SurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_22"><a class="anchor" href="chap47.html#_new_bitmasks_22"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkWin32SurfaceCreateFlagsKHR">VkWin32SurfaceCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_73"><a class="anchor" href="chap47.html#_new_enum_constants_73"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_WIN32_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_WIN32_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_35"><a class="anchor" href="chap47.html#_issues_35"></a>Issues</h5>
<div class="paragraph">
<p>1) Does Win32 need a way to query for compatibility between a particular
physical device and a specific screen? Compatibility between a physical
device and a window generally only depends on what screen the window is on.
However, there is not an obvious way to identify a screen without already
having a window on the screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
While it may be useful, there is not a clear way to do this on Win32.
However, a method was added to query support for presenting to the windows
desktop as a whole.</p>
</div>
<div class="paragraph">
<p>2) If a native window object (<code>HWND</code>) is used by one graphics API, and
then is later used by a different graphics API (one of which is Vulkan), can
these uses interfere with each other?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>Uses of a window object by multiple graphics APIs results in undefined
behavior.
Such behavior may succeed when using one Vulkan implementation but fail when
using a different Vulkan implementation.
Potential failures include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating then destroying a flip presentation model DXGI swapchain on a
window object can prevent <a href="chap30.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a> from succeeding on
the same window object.</p>
</li>
<li>
<p>Creating then destroying a <a href="chap30.html#VkSwapchainKHR">VkSwapchainKHR</a> on a window object can
prevent creation of a bitblt model DXGI swapchain on the same window
object.</p>
</li>
<li>
<p>Creating then destroying a <a href="chap30.html#VkSwapchainKHR">VkSwapchainKHR</a> on a window object can
effectively <code>SetPixelFormat</code> to a different format than the format
chosen by an OpenGL application.</p>
</li>
<li>
<p>Creating then destroying a <a href="chap30.html#VkSwapchainKHR">VkSwapchainKHR</a> on a window object on
one <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> can prevent <a href="chap30.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a> from
succeeding on the same window object, but on a different
<a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> that is associated with a different Vulkan ICD.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In all cases the problem can be worked around by creating a new window
object.</p>
</div>
<div class="paragraph">
<p>Technical details include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating a DXGI swapchain over a window object can alter the object for
the remainder of its lifetime.
The alteration persists even after the DXGI swapchain has been
destroyed.
This alteration can make it impossible for a conformant Vulkan
implementation to create a <a href="chap30.html#VkSwapchainKHR">VkSwapchainKHR</a> over the same window
object.
Mention of this alteration can be found in the remarks section of the
MSDN documentation for <code>DXGI_SWAP_EFFECT</code>.</p>
</li>
<li>
<p>Calling GDI’s <code>SetPixelFormat</code> (needed by OpenGL’s WGL layer) on a
window object alters the object for the remainder of its lifetime.
The MSDN documentation for <code>SetPixelFormat</code> explains that a window
object’s pixel format can be set only one time.</p>
</li>
<li>
<p>Creating a <a href="chap30.html#VkSwapchainKHR">VkSwapchainKHR</a> over a window object can alter the
object for its remaining lifetime.
Either of the above alterations may occur as a side effect of
<a href="chap30.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_70"><a class="anchor" href="chap47.html#_version_history_70"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for win32 desktops.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_win32_surface to VK_KHR_win32_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateWin32SurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-04-24 (Jeff Juliano)</p>
<div class="ulist">
<ul>
<li>
<p>Add issue 2 addressing reuse of a native window object in a different
Graphics API, or by a different Vulkan ICD.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_workgroup_memory_explicit_layout"><a class="anchor" href="chap47.html#VK_KHR_workgroup_memory_explicit_layout"></a>VK_KHR_workgroup_memory_explicit_layout</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_workgroup_memory_explicit_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>337</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_workgroup_memory_explicit_layout.html">SPV_KHR_workgroup_memory_explicit_layout</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Caio Marcelo de Oliveira Filho <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_workgroup_memory_explicit_layout] @cmarcelo%0A*Here describe the issue or question you have about the VK_KHR_workgroup_memory_explicit_layout extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cmarcelo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_70"><a class="anchor" href="chap47.html#_other_extension_metadata_70"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-06-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shared_memory_block.txt"><code>GL_EXT_shared_memory_block</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Caio Marcelo de Oliveira Filho, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_70"><a class="anchor" href="chap47.html#_description_70"></a>Description</h5>
<div class="paragraph">
<p>This extension adds Vulkan support for the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_workgroup_memory_explicit_layout.html"><code>SPV_KHR_workgroup_memory_explicit_layout</code></a>
SPIR-V extension, which allows shaders to explicitly define the layout of
<code>Workgroup</code> storage class memory and create aliases between variables
from that storage class in a compute shader.</p>
</div>
<div class="paragraph">
<p>The aliasing feature allows different “views” on the same data, so the
shader can bulk copy data from another storage class using one type (e.g. an
array of large vectors), and then use the data with a more specific type.
It also enables reducing the amount of workgroup memory consumed by allowing
the shader to alias data whose lifetimes do not overlap.</p>
</div>
<div class="paragraph">
<p>The explicit layout support and some form of aliasing is also required for
layering OpenCL on top of Vulkan.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_69"><a class="anchor" href="chap47.html#_new_structures_69"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceWorkgroupMemoryExplicitLayoutFeaturesKHR">VkPhysicalDeviceWorkgroupMemoryExplicitLayoutFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_74"><a class="anchor" href="chap47.html#_new_enum_constants_74"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_WORKGROUP_MEMORY_EXPLICIT_LAYOUT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_WORKGROUP_MEMORY_EXPLICIT_LAYOUT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_WORKGROUP_MEMORY_EXPLICIT_LAYOUT_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_14"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_14"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-WorkgroupMemoryExplicitLayoutKHR"><code>WorkgroupMemoryExplicitLayoutKHR</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-WorkgroupMemoryExplicitLayout8BitAccessKHR"><code>WorkgroupMemoryExplicitLayout8BitAccessKHR</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-WorkgroupMemoryExplicitLayout16BitAccessKHR"><code>WorkgroupMemoryExplicitLayout16BitAccessKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_71"><a class="anchor" href="chap47.html#_version_history_71"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-06-01 (Caio Marcelo de Oliveira Filho)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_xcb_surface"><a class="anchor" href="chap47.html#VK_KHR_xcb_surface"></a>VK_KHR_xcb_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_xcb_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_xcb_surface] @critsec%0A*Here describe the issue or question you have about the VK_KHR_xcb_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_xcb_surface] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_xcb_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_71"><a class="anchor" href="chap47.html#_other_extension_metadata_71"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_71"><a class="anchor" href="chap47.html#_description_71"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_xcb_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an X11 <code>Window</code>,
using the XCB client-side library, as well as a query to determine support
for rendering via XCB.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_43"><a class="anchor" href="chap47.html#_new_commands_43"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkCreateXcbSurfaceKHR">vkCreateXcbSurfaceKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceXcbPresentationSupportKHR">vkGetPhysicalDeviceXcbPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_70"><a class="anchor" href="chap47.html#_new_structures_70"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkXcbSurfaceCreateInfoKHR">VkXcbSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_23"><a class="anchor" href="chap47.html#_new_bitmasks_23"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkXcbSurfaceCreateFlagsKHR">VkXcbSurfaceCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_75"><a class="anchor" href="chap47.html#_new_enum_constants_75"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_XCB_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_XCB_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_36"><a class="anchor" href="chap47.html#_issues_36"></a>Issues</h5>
<div class="paragraph">
<p>1) Does XCB need a way to query for compatibility between a particular
physical device and a specific screen? This would be a more general query
than <a href="chap30.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>: If it returned
<code>VK_TRUE</code>, then the physical device could be assumed to support
presentation to any window on that screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this is needed for toolkits that want to create a
<a href="chap5.html#VkDevice">VkDevice</a> before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_72"><a class="anchor" href="chap47.html#_version_history_72"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for an (xcb_connection_t*,
xcb_visualid_t) pair.</p>
</li>
<li>
<p>Removed “root” parameter from CreateXcbSurfaceKHR(), as it is
redundant when a window on the same screen is specified as well.</p>
</li>
<li>
<p>Adjusted wording of issue #1 and added agreed upon resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-14 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Removed “root” parameter from CreateXcbSurfaceKHR() in one more
place.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_xcb_surface to VK_KHR_xcb_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-10-23 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateXcbSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_xlib_surface"><a class="anchor" href="chap47.html#VK_KHR_xlib_surface"></a>VK_KHR_xlib_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_xlib_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>5</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_xlib_surface] @critsec%0A*Here describe the issue or question you have about the VK_KHR_xlib_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_xlib_surface] @ianelliottus%0A*Here describe the issue or question you have about the VK_KHR_xlib_surface extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_72"><a class="anchor" href="chap47.html#_other_extension_metadata_72"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_72"><a class="anchor" href="chap47.html#_description_72"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_xlib_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap30.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an X11 <code>Window</code>,
using the Xlib client-side library, as well as a query to determine support
for rendering via Xlib.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_44"><a class="anchor" href="chap47.html#_new_commands_44"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkCreateXlibSurfaceKHR">vkCreateXlibSurfaceKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceXlibPresentationSupportKHR">vkGetPhysicalDeviceXlibPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_71"><a class="anchor" href="chap47.html#_new_structures_71"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkXlibSurfaceCreateInfoKHR">VkXlibSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_24"><a class="anchor" href="chap47.html#_new_bitmasks_24"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkXlibSurfaceCreateFlagsKHR">VkXlibSurfaceCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_76"><a class="anchor" href="chap47.html#_new_enum_constants_76"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_XLIB_SURFACE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_XLIB_SURFACE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_37"><a class="anchor" href="chap47.html#_issues_37"></a>Issues</h5>
<div class="paragraph">
<p>1) Does X11 need a way to query for compatibility between a particular
physical device and a specific screen? This would be a more general query
than <a href="chap30.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>; if it returned
<code>VK_TRUE</code>, then the physical device could be assumed to support
presentation to any window on that screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this is needed for toolkits that want to create a
<a href="chap5.html#VkDevice">VkDevice</a> before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_73"><a class="anchor" href="chap47.html#_version_history_73"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for (Display*, VisualID) pair.</p>
</li>
<li>
<p>Removed “root” parameter from CreateXlibSurfaceKHR(), as it is
redundant when a window on the same screen is specified as well.</p>
</li>
<li>
<p>Added appropriate X errors.</p>
</li>
<li>
<p>Adjusted wording of issue #1 and added agreed upon resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-14 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension from VK_EXT_KHR_x11_surface to
VK_EXT_KHR_xlib_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_xlib_surface to VK_KHR_xlib_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateXlibSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_zero_initialize_workgroup_memory"><a class="anchor" href="chap47.html#VK_KHR_zero_initialize_workgroup_memory"></a>VK_KHR_zero_initialize_workgroup_memory</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_zero_initialize_workgroup_memory</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>326</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.3</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_zero_initialize_workgroup_memory] @alan-baker%0A*Here describe the issue or question you have about the VK_KHR_zero_initialize_workgroup_memory extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alan-baker</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_73"><a class="anchor" href="chap47.html#_other_extension_metadata_73"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-11-18</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alan Baker, Google</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_73"><a class="anchor" href="chap47.html#_description_73"></a>Description</h5>
<div class="paragraph">
<p>This extension allows the use of a null constant initializer on shader
Workgroup memory variables, allowing implementations to expose any special
hardware or instructions they may have.
Zero initialization is commonly used by applications running untrusted
content (e.g. web browsers) as way of defeating memory-scraping attacks.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_72"><a class="anchor" href="chap47.html#_new_structures_72"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceZeroInitializeWorkgroupMemoryFeaturesKHR">VkPhysicalDeviceZeroInitializeWorkgroupMemoryFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_77"><a class="anchor" href="chap47.html#_new_enum_constants_77"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_ZERO_INITIALIZE_WORKGROUP_MEMORY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_ZERO_INITIALIZE_WORKGROUP_MEMORY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ZERO_INITIALIZE_WORKGROUP_MEMORY_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_3_9"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_3_9"></a>Promotion to Vulkan 1.3</h5>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.3, with the KHR
suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_74"><a class="anchor" href="chap47.html#_version_history_74"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-11-18 (Alan Baker)</p>
<div class="ulist">
<ul>
<li>
<p>Internal draft version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_attachment_feedback_loop_dynamic_state"><a class="anchor" href="chap47.html#VK_EXT_attachment_feedback_loop_dynamic_state"></a>VK_EXT_attachment_feedback_loop_dynamic_state</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_attachment_feedback_loop_dynamic_state</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>525</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="chap47.html#VK_EXT_attachment_feedback_loop_layout">VK_EXT_attachment_feedback_loop_layout</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Blumenkrantz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_attachment_feedback_loop_dynamic_state] @zmike%0A*Here describe the issue or question you have about the VK_EXT_attachment_feedback_loop_dynamic_state extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>zmike</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_attachment_feedback_loop_dynamic_state.adoc">VK_EXT_attachment_feedback_loop_dynamic_state</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_74"><a class="anchor" href="chap47.html#_other_extension_metadata_74"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-04-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Daniel Story, Nintendo</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Samuel Pitoiset, Valve</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_74"><a class="anchor" href="chap47.html#_description_74"></a>Description</h5>
<div class="paragraph">
<p>This extension adds support for setting attachment feedback loops
dynamically on command buffers.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_45"><a class="anchor" href="chap47.html#_new_commands_45"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#vkCmdSetAttachmentFeedbackLoopEnableEXT">vkCmdSetAttachmentFeedbackLoopEnableEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_73"><a class="anchor" href="chap47.html#_new_structures_73"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceAttachmentFeedbackLoopDynamicStateFeaturesEXT">VkPhysicalDeviceAttachmentFeedbackLoopDynamicStateFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_78"><a class="anchor" href="chap47.html#_new_enum_constants_78"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_ATTACHMENT_FEEDBACK_LOOP_DYNAMIC_STATE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_ATTACHMENT_FEEDBACK_LOOP_DYNAMIC_STATE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap10.html#VkDynamicState">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ATTACHMENT_FEEDBACK_LOOP_DYNAMIC_STATE_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_75"><a class="anchor" href="chap47.html#_version_history_75"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-04-28 (Mike Blumenkrantz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_attachment_feedback_loop_layout"><a class="anchor" href="chap47.html#VK_EXT_attachment_feedback_loop_layout"></a>VK_EXT_attachment_feedback_loop_layout</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_attachment_feedback_loop_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>340</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_attachment_feedback_loop_layout] @Joshua-Ashton%0A*Here describe the issue or question you have about the VK_EXT_attachment_feedback_loop_layout extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>Joshua-Ashton</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_attachment_feedback_loop_layout.adoc">VK_EXT_attachment_feedback_loop_layout</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_75"><a class="anchor" href="chap47.html#_other_extension_metadata_75"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-04-04</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton, Valve</p>
</li>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
<li>
<p>Bas Nieuwenhuizen, Google</p>
</li>
<li>
<p>Samuel Iglesias Gonsálvez, Igalia</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_75"><a class="anchor" href="chap47.html#_description_75"></a>Description</h5>
<div class="paragraph">
<p>This extension adds a new image layout,
<code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code>, which allows
applications to have an image layout in which they are able to both render
to and sample/fetch from the same subresource of an image in a given render
pass.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_74"><a class="anchor" href="chap47.html#_new_structures_74"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceAttachmentFeedbackLoopLayoutFeaturesEXT">VkPhysicalDeviceAttachmentFeedbackLoopLayoutFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_79"><a class="anchor" href="chap47.html#_new_enum_constants_79"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_ATTACHMENT_FEEDBACK_LOOP_LAYOUT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_ATTACHMENT_FEEDBACK_LOOP_LAYOUT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkDependencyFlagBits">VkDependencyFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPENDENCY_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ATTACHMENT_FEEDBACK_LOOP_LAYOUT_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_76"><a class="anchor" href="chap47.html#_version_history_76"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2022-04-04 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VALVE to EXT.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2021-03-09 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_depth_bias_control"><a class="anchor" href="chap47.html#VK_EXT_depth_bias_control"></a>VK_EXT_depth_bias_control</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_depth_bias_control</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>284</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Special Use</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#extendingvulkan-compatibility-specialuse">D3D support</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_depth_bias_control] @Joshua-Ashton%0A*Here describe the issue or question you have about the VK_EXT_depth_bias_control extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>Joshua-Ashton</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_depth_bias_control.adoc">VK_EXT_depth_bias_control</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_76"><a class="anchor" href="chap47.html#_other_extension_metadata_76"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-02-15</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Joshua Ashton, VALVE</p>
</li>
<li>
<p>Hans-Kristian Arntzen, VALVE</p>
</li>
<li>
<p>Mike Blumenkrantz, VALVE</p>
</li>
<li>
<p>Georg Lehmann, VALVE</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Lionel Landwerlin, INTEL</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Ricardo Garcia, IGALIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Shahbaz Youssefi, GOOGLE</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_76"><a class="anchor" href="chap47.html#_description_76"></a>Description</h5>
<div class="paragraph">
<p>This extension adds a new structure, <code>VkDepthBiasRepresentationInfoEXT</code>,
that can be added to a <code>pNext</code> chain of
<code>VkPipelineRasterizationStateCreateInfo</code> and allows setting the scaling
and representation of depth bias for a pipeline.</p>
</div>
<div class="paragraph">
<p>This state can also be set dynamically by using the new structure mentioned
above in combination with the new <code>vkCmdSetDepthBias2EXT</code> command.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_46"><a class="anchor" href="chap47.html#_new_commands_46"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#vkCmdSetDepthBias2EXT">vkCmdSetDepthBias2EXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_75"><a class="anchor" href="chap47.html#_new_structures_75"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkDepthBiasInfoEXT">VkDepthBiasInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="chap25.html#VkDepthBiasInfoEXT">VkDepthBiasInfoEXT</a>, <a href="chap25.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkDepthBiasRepresentationInfoEXT">VkDepthBiasRepresentationInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceDepthBiasControlFeaturesEXT">VkPhysicalDeviceDepthBiasControlFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_27"><a class="anchor" href="chap47.html#_new_enums_27"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkDepthBiasRepresentationEXT">VkDepthBiasRepresentationEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_80"><a class="anchor" href="chap47.html#_new_enum_constants_80"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DEPTH_BIAS_CONTROL_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DEPTH_BIAS_CONTROL_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEPTH_BIAS_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEPTH_BIAS_REPRESENTATION_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEPTH_BIAS_CONTROL_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_77"><a class="anchor" href="chap47.html#_version_history_77"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2022-09-22 (Joshua Ashton)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_discard_rectangles"><a class="anchor" href="chap47.html#VK_EXT_discard_rectangles"></a>VK_EXT_discard_rectangles</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_discard_rectangles</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>100</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_discard_rectangles] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_discard_rectangles extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_77"><a class="anchor" href="chap47.html#_other_extension_metadata_77"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-01-18</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="chap47.html#VK_KHR_device_group">VK_KHR_device_group</a></code></p>
</li>
<li>
<p>Interacts with Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_77"><a class="anchor" href="chap47.html#_description_77"></a>Description</h5>
<div class="paragraph">
<p>This extension provides additional orthogonally aligned “discard
rectangles” specified in framebuffer-space coordinates that restrict
rasterization of all points, lines and triangles.</p>
</div>
<div class="paragraph">
<p>From zero to an implementation-dependent limit (specified by
<code>maxDiscardRectangles</code>) number of discard rectangles can be operational
at once.
When one or more discard rectangles are active, rasterized fragments can
either survive if the fragment is within any of the operational discard
rectangles (<code>VK_DISCARD_RECTANGLE_MODE_INCLUSIVE_EXT</code> mode) or be
rejected if the fragment is within any of the operational discard rectangles
(<code>VK_DISCARD_RECTANGLE_MODE_EXCLUSIVE_EXT</code> mode).</p>
</div>
<div class="paragraph">
<p>These discard rectangles operate orthogonally to the existing scissor test
functionality.
The discard rectangles can be different for each physical device in a device
group by specifying the device mask and setting discard rectangle dynamic
state.</p>
</div>
<div class="paragraph">
<p>Version 2 of this extension introduces new dynamic states
<code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT</code> and
<code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT</code>, and the corresponding
functions <a href="chap26.html#vkCmdSetDiscardRectangleEnableEXT">vkCmdSetDiscardRectangleEnableEXT</a> and
<a href="chap26.html#vkCmdSetDiscardRectangleModeEXT">vkCmdSetDiscardRectangleModeEXT</a>.
Applications that use these dynamic states must ensure the implementation
advertises at least <code>specVersion</code> <code>2</code> of this extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_47"><a class="anchor" href="chap47.html#_new_commands_47"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#vkCmdSetDiscardRectangleEXT">vkCmdSetDiscardRectangleEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetDiscardRectangleEnableEXT">vkCmdSetDiscardRectangleEnableEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetDiscardRectangleModeEXT">vkCmdSetDiscardRectangleModeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_76"><a class="anchor" href="chap47.html#_new_structures_76"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#VkPipelineDiscardRectangleStateCreateInfoEXT">VkPipelineDiscardRectangleStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT">VkPhysicalDeviceDiscardRectanglePropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_28"><a class="anchor" href="chap47.html#_new_enums_28"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#VkDiscardRectangleModeEXT">VkDiscardRectangleModeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_25"><a class="anchor" href="chap47.html#_new_bitmasks_25"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#VkPipelineDiscardRectangleStateCreateFlagsEXT">VkPipelineDiscardRectangleStateCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_81"><a class="anchor" href="chap47.html#_new_enum_constants_81"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DISCARD_RECTANGLES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DISCARD_RECTANGLES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap10.html#VkDynamicState">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DISCARD_RECTANGLE_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_DISCARD_RECTANGLE_STATE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_78"><a class="anchor" href="chap47.html#_version_history_78"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2023-01-18 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Add dynamic states for discard rectangle enable/disable and mode.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2016-12-22 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_dynamic_rendering_unused_attachments"><a class="anchor" href="chap47.html#VK_EXT_dynamic_rendering_unused_attachments"></a>VK_EXT_dynamic_rendering_unused_attachments</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_dynamic_rendering_unused_attachments</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>500</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; or<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap46.html#versions-1.1">Version 1.1</a><br>
and<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap47.html#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; or<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="#versions-1.3" class="target-missing">Version 1.3</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_dynamic_rendering_unused_attachments] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_dynamic_rendering_unused_attachments extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_dynamic_rendering_unused_attachments.adoc">VK_EXT_dynamic_rendering_unused_attachments</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_78"><a class="anchor" href="chap47.html#_other_extension_metadata_78"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-05-22</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Story, Nintendo</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>James Fitzpatrick, Imagination Technologies</p>
</li>
<li>
<p>Pan Gao, Huawei Technologies</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_78"><a class="anchor" href="chap47.html#_description_78"></a>Description</h5>
<div class="paragraph">
<p>This extension lifts some restrictions in the
<code><a href="chap47.html#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a></code> extension to allow render pass instances
and bound pipelines within those render pass instances to have an unused
attachment specified in one but not the other.
It also allows pipelines to use different formats in a render pass as long
the attachment is NULL.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_77"><a class="anchor" href="chap47.html#_new_structures_77"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceDynamicRenderingUnusedAttachmentsFeaturesEXT">VkPhysicalDeviceDynamicRenderingUnusedAttachmentsFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_82"><a class="anchor" href="chap47.html#_new_enum_constants_82"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_DYNAMIC_RENDERING_UNUSED_ATTACHMENTS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_DYNAMIC_RENDERING_UNUSED_ATTACHMENTS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DYNAMIC_RENDERING_UNUSED_ATTACHMENTS_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_38"><a class="anchor" href="chap47.html#_issues_38"></a>Issues</h5>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_79"><a class="anchor" href="chap47.html#_version_history_79"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-05-22 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_extended_dynamic_state3"><a class="anchor" href="chap47.html#VK_EXT_extended_dynamic_state3"></a>VK_EXT_extended_dynamic_state3</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_extended_dynamic_state3</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>456</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_VERSION_1_1</p>
</li>
<li>
<p>Interacts with VK_EXT_blend_operation_advanced</p>
</li>
<li>
<p>Interacts with VK_EXT_conservative_rasterization</p>
</li>
<li>
<p>Interacts with VK_EXT_depth_clip_control</p>
</li>
<li>
<p>Interacts with VK_EXT_depth_clip_enable</p>
</li>
<li>
<p>Interacts with VK_EXT_line_rasterization</p>
</li>
<li>
<p>Interacts with VK_EXT_provoking_vertex</p>
</li>
<li>
<p>Interacts with VK_EXT_sample_locations</p>
</li>
<li>
<p>Interacts with VK_EXT_transform_feedback</p>
</li>
<li>
<p>Interacts with VK_KHR_maintenance2</p>
</li>
<li>
<p>Interacts with VK_NV_clip_space_w_scaling</p>
</li>
<li>
<p>Interacts with VK_NV_coverage_reduction_mode</p>
</li>
<li>
<p>Interacts with VK_NV_fragment_coverage_to_color</p>
</li>
<li>
<p>Interacts with VK_NV_framebuffer_mixed_samples</p>
</li>
<li>
<p>Interacts with VK_NV_representative_fragment_test</p>
</li>
<li>
<p>Interacts with VK_NV_shading_rate_image</p>
</li>
<li>
<p>Interacts with VK_NV_viewport_swizzle</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_extended_dynamic_state3] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_extended_dynamic_state3 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_extended_dynamic_state3.adoc">VK_EXT_extended_dynamic_state3</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_79"><a class="anchor" href="chap47.html#_other_extension_metadata_79"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-09-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Story, Nintendo</p>
</li>
<li>
<p>Jamie Madill, Google</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Samuel Pitoiset, Valve</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Tapani Pälli, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_79"><a class="anchor" href="chap47.html#_description_79"></a>Description</h5>
<div class="paragraph">
<p>This extension adds almost all of the remaining pipeline state as dynamic
state to help applications further reduce the number of monolithic pipelines
they need to create and bind.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_48"><a class="anchor" href="chap47.html#_new_commands_48"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#vkCmdSetAlphaToCoverageEnableEXT">vkCmdSetAlphaToCoverageEnableEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetAlphaToOneEnableEXT">vkCmdSetAlphaToOneEnableEXT</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetColorBlendEnableEXT">vkCmdSetColorBlendEnableEXT</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetColorBlendEquationEXT">vkCmdSetColorBlendEquationEXT</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetColorWriteMaskEXT">vkCmdSetColorWriteMaskEXT</a></p>
</li>
<li>
<p><a href="chap24.html#vkCmdSetDepthClampEnableEXT">vkCmdSetDepthClampEnableEXT</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetLogicOpEnableEXT">vkCmdSetLogicOpEnableEXT</a></p>
</li>
<li>
<p><a href="chap25.html#vkCmdSetPolygonModeEXT">vkCmdSetPolygonModeEXT</a></p>
</li>
<li>
<p><a href="chap25.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetSampleMaskEXT">vkCmdSetSampleMaskEXT</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_maintenance2">VK_KHR_maintenance2</a> or <a href="chap46.html#versions-1.1">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap22.html#vkCmdSetTessellationDomainOriginEXT">vkCmdSetTessellationDomainOriginEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_78"><a class="anchor" href="chap47.html#_new_structures_78"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="#VkColorBlendAdvancedEXT" class="target-missing">VkColorBlendAdvancedEXT</a></p>
</li>
<li>
<p><a href="chap27.html#VkColorBlendEquationEXT">VkColorBlendEquationEXT</a></p>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceExtendedDynamicState3FeaturesEXT">VkPhysicalDeviceExtendedDynamicState3FeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceExtendedDynamicState3PropertiesEXT">VkPhysicalDeviceExtendedDynamicState3PropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_83"><a class="anchor" href="chap47.html#_new_enum_constants_83"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_EXTENDED_DYNAMIC_STATE_3_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_EXTENDED_DYNAMIC_STATE_3_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap10.html#VkDynamicState">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_POLYGON_MODE_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code></p>
</li>
<li>
<p><code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTENDED_DYNAMIC_STATE_3_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTENDED_DYNAMIC_STATE_3_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_maintenance2">VK_KHR_maintenance2</a> or <a href="chap46.html#versions-1.1">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap10.html#VkDynamicState">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_39"><a class="anchor" href="chap47.html#_issues_39"></a>Issues</h5>
<div class="paragraph">
<p>1) What about the VkPipelineMultisampleStateCreateInfo state
<code>sampleShadingEnable</code> and <code>minSampleShading</code>?</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>UNRESOLVED</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>sampleShadingEnable</code> and <code>minSampleShading</code> are required when compiling
the fragment shader, and it is not meaningful to set them dynamically
since they always need to match the fragment shader state, so this
hardware state may as well just come from the pipeline with the fragment
shader.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_80"><a class="anchor" href="chap47.html#_version_history_80"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2022-07-18 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Added rasterizationSamples</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2022-05-18 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_external_memory_acquire_unmodified"><a class="anchor" href="chap47.html#VK_EXT_external_memory_acquire_unmodified"></a>VK_EXT_external_memory_acquire_unmodified</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_external_memory_acquire_unmodified</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>454</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_external_memory">VK_KHR_external_memory</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lina Versace <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_external_memory_acquire_unmodified] @versalinyaa%0A*Here describe the issue or question you have about the VK_EXT_external_memory_acquire_unmodified extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>versalinyaa</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_external_memory_acquire_unmodified.adoc">VK_EXT_external_memory_acquire_unmodified</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_80"><a class="anchor" href="chap47.html#_other_extension_metadata_80"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-03-09</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Lina Versace, Google</p>
</li>
<li>
<p>Chia-I Wu, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Yiwei Zhang, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_80"><a class="anchor" href="chap47.html#_description_80"></a>Description</h5>
<div class="paragraph">
<p>A memory barrier <strong class="purple">may</strong> have a performance penalty when acquiring ownership of
a subresource range from an external queue family.
This extension provides API that <strong class="purple">may</strong> reduce the performance penalty if
ownership of the subresource range was previously released to the external
queue family and if the resource’s memory has remained unmodified between
the release and acquire operations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_79"><a class="anchor" href="chap47.html#_new_structures_79"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap7.html#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a>, <a href="chap7.html#VkBufferMemoryBarrier2">VkBufferMemoryBarrier2</a>, <a href="chap7.html#VkImageMemoryBarrier">VkImageMemoryBarrier</a>, <a href="chap7.html#VkImageMemoryBarrier2">VkImageMemoryBarrier2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkExternalMemoryAcquireUnmodifiedEXT">VkExternalMemoryAcquireUnmodifiedEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_84"><a class="anchor" href="chap47.html#_new_enum_constants_84"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_EXTERNAL_MEMORY_ACQUIRE_UNMODIFIED_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_EXTERNAL_MEMORY_ACQUIRE_UNMODIFIED_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_ACQUIRE_UNMODIFIED_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_81"><a class="anchor" href="chap47.html#_version_history_81"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-03-09 (Lina Versace)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_frame_boundary"><a class="anchor" href="chap47.html#VK_EXT_frame_boundary"></a>VK_EXT_frame_boundary</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_frame_boundary</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>376</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Fitzpatrick <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_frame_boundary] @jamesfitzpatrick%0A*Here describe the issue or question you have about the VK_EXT_frame_boundary extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jamesfitzpatrick</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_frame_boundary.adoc">VK_EXT_frame_boundary</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_81"><a class="anchor" href="chap47.html#_other_extension_metadata_81"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-06-14</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Fitzpatrick, Imagination Technologies</p>
</li>
<li>
<p>Hugues Evrard, Google</p>
</li>
<li>
<p>Melih Yasin Yalcin, Google</p>
</li>
<li>
<p>Andrew Garrard, Imagination Technologies</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Vassili Nikolaev, NVIDIA</p>
</li>
<li>
<p>Ting Wei, Huawei</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_81"><a class="anchor" href="chap47.html#_description_81"></a>Description</h5>
<div class="paragraph">
<p><a href="chap47.html#VK_EXT_frame_boundary">VK_EXT_frame_boundary</a> is a device extension that helps <strong>tools</strong> (such
as debuggers) to group queue submissions per frames in non-trivial
scenarios, typically when <a href="chap30.html#vkQueuePresentKHR">vkQueuePresentKHR</a> is not a relevant frame
boundary delimiter.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_80"><a class="anchor" href="chap47.html#_new_structures_80"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceFrameBoundaryFeaturesEXT">VkPhysicalDeviceFrameBoundaryFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkSubmitInfo">VkSubmitInfo</a>, <a href="chap6.html#VkSubmitInfo2">VkSubmitInfo2</a>, <a href="chap30.html#VkPresentInfoKHR">VkPresentInfoKHR</a>, <a href="chap29.html#VkBindSparseInfo">VkBindSparseInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap42.html#VkFrameBoundaryEXT">VkFrameBoundaryEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_29"><a class="anchor" href="chap47.html#_new_enums_29"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap42.html#VkFrameBoundaryFlagBitsEXT">VkFrameBoundaryFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_26"><a class="anchor" href="chap47.html#_new_bitmasks_26"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap42.html#VkFrameBoundaryFlagsEXT">VkFrameBoundaryFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_85"><a class="anchor" href="chap47.html#_new_enum_constants_85"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_FRAME_BOUNDARY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_FRAME_BOUNDARY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FRAME_BOUNDARY_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAME_BOUNDARY_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_82"><a class="anchor" href="chap47.html#_version_history_82"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2022-01-14 (Hugues Evard)</p>
<div class="ulist">
<ul>
<li>
<p>Initial proposal</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2023-06-14 (James Fitzpatrick)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_host_image_copy"><a class="anchor" href="chap47.html#VK_EXT_host_image_copy"></a>VK_EXT_host_image_copy</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_host_image_copy</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>271</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="chap47.html#VK_KHR_copy_commands2">VK_KHR_copy_commands2</a><br>
and<br>
<a href="chap47.html#VK_KHR_format_feature_flags2">VK_KHR_format_feature_flags2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_host_image_copy] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_host_image_copy extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_host_image_copy.adoc">VK_EXT_host_image_copy</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_82"><a class="anchor" href="chap47.html#_other_extension_metadata_82"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-04-26</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>James Fitzpatrick, Imagination</p>
</li>
<li>
<p>Daniel Story, Nintendo</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_82"><a class="anchor" href="chap47.html#_description_82"></a>Description</h5>
<div class="paragraph">
<p>This extension allows applications to copy data between host memory and
images on the host processor, without staging the data through a
GPU-accessible buffer.
This removes the need to allocate and manage the buffer and its associated
memory.
On some architectures it may also eliminate an extra copy operation.
This extension additionally allows applications to copy data between images
on the host.</p>
</div>
<div class="paragraph">
<p>To support initializing a new image in preparation for a host copy, it is
now possible to transition a new image to <code>VK_IMAGE_LAYOUT_GENERAL</code> or
other host-copyable layouts via <a href="chap7.html#vkTransitionImageLayoutEXT">vkTransitionImageLayoutEXT</a>.
Additionally, it is possible to perform copies that preserve the swizzling
layout of the image by using the <code>VK_HOST_IMAGE_COPY_MEMCPY_EXT</code> flag.
In that case, the memory size needed for copies to or from a buffer can be
retrieved by chaining <a href="chap12.html#VkSubresourceHostMemcpySizeEXT">VkSubresourceHostMemcpySizeEXT</a> to <code>pLayout</code>
in <a href="chap12.html#vkGetImageSubresourceLayout2EXT">vkGetImageSubresourceLayout2EXT</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_49"><a class="anchor" href="chap47.html#_new_commands_49"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap19.html#vkCopyImageToImageEXT">vkCopyImageToImageEXT</a></p>
</li>
<li>
<p><a href="chap19.html#vkCopyImageToMemoryEXT">vkCopyImageToMemoryEXT</a></p>
</li>
<li>
<p><a href="chap19.html#vkCopyMemoryToImageEXT">vkCopyMemoryToImageEXT</a></p>
</li>
<li>
<p><a href="chap12.html#vkGetImageSubresourceLayout2EXT">vkGetImageSubresourceLayout2EXT</a></p>
</li>
<li>
<p><a href="chap7.html#vkTransitionImageLayoutEXT">vkTransitionImageLayoutEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_81"><a class="anchor" href="chap47.html#_new_structures_81"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap19.html#VkCopyImageToImageInfoEXT">VkCopyImageToImageInfoEXT</a></p>
</li>
<li>
<p><a href="chap19.html#VkCopyImageToMemoryInfoEXT">VkCopyImageToMemoryInfoEXT</a></p>
</li>
<li>
<p><a href="chap19.html#VkCopyMemoryToImageInfoEXT">VkCopyMemoryToImageInfoEXT</a></p>
</li>
<li>
<p><a href="chap7.html#VkHostImageLayoutTransitionInfoEXT">VkHostImageLayoutTransitionInfoEXT</a></p>
</li>
<li>
<p><a href="chap12.html#VkImageSubresource2EXT">VkImageSubresource2EXT</a></p>
</li>
<li>
<p><a href="chap19.html#VkImageToMemoryCopyEXT">VkImageToMemoryCopyEXT</a></p>
</li>
<li>
<p><a href="chap19.html#VkMemoryToImageCopyEXT">VkMemoryToImageCopyEXT</a></p>
</li>
<li>
<p><a href="chap12.html#VkSubresourceLayout2EXT">VkSubresourceLayout2EXT</a></p>
</li>
<li>
<p>Extending <a href="chap41.html#VkImageFormatProperties2">VkImageFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkHostImageCopyDevicePerformanceQueryEXT">VkHostImageCopyDevicePerformanceQueryEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceHostImageCopyFeaturesEXT">VkPhysicalDeviceHostImageCopyFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceHostImageCopyPropertiesEXT">VkPhysicalDeviceHostImageCopyPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkSubresourceLayout2KHR">VkSubresourceLayout2KHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkSubresourceHostMemcpySizeEXT">VkSubresourceHostMemcpySizeEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_30"><a class="anchor" href="chap47.html#_new_enums_30"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap19.html#VkHostImageCopyFlagBitsEXT">VkHostImageCopyFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_27"><a class="anchor" href="chap47.html#_new_bitmasks_27"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap19.html#VkHostImageCopyFlagsEXT">VkHostImageCopyFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_86"><a class="anchor" href="chap47.html#_new_enum_constants_86"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_HOST_IMAGE_COPY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_HOST_IMAGE_COPY_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap40.html#VkFormatFeatureFlagBits2">VkFormatFeatureFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_2_HOST_IMAGE_TRANSFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_HOST_TRANSFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_IMAGE_TO_IMAGE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_IMAGE_TO_MEMORY_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_MEMORY_TO_IMAGE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_HOST_IMAGE_COPY_DEVICE_PERFORMANCE_QUERY_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_HOST_IMAGE_LAYOUT_TRANSITION_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_TO_MEMORY_COPY_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_TO_IMAGE_COPY_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_HOST_IMAGE_COPY_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_HOST_IMAGE_COPY_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBRESOURCE_HOST_MEMCPY_SIZE_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_40"><a class="anchor" href="chap47.html#_issues_40"></a>Issues</h5>
<div class="paragraph">
<p>1) When uploading data to an image, the data is usually loaded from disk.
Why not have the application load the data directly into a <code>VkDeviceMemory</code>
bound to a buffer (instead of host memory), and use
<a href="chap19.html#vkCmdCopyBufferToImage">vkCmdCopyBufferToImage</a>? The same could be done when downloading data
from an image.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This may not always be possible.
Complicated Vulkan applications such as game engines often have decoupled
subsystems for streaming data and rendering.
It may be unreasonable to require the streaming subsystem to coordinate with
the rendering subsystem to allocate memory on its behalf, especially as
Vulkan may not be the only API supported by the engine.
In emulation layers, the image data is necessarily provided by the
application in host memory, so an optimization as suggested is not possible.
Most importantly, the device memory may not be mappable by an application,
but still accessible to the driver.</p>
</div>
<div class="paragraph">
<p>2) Are <code>optimalBufferCopyOffsetAlignment</code> and
<code>optimalBufferCopyRowPitchAlignment</code> applicable to host memory as well with
the functions introduced by this extension? Or should there be new limits?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No alignment requirements for the host memory pointer.</p>
</div>
<div class="paragraph">
<p>3) Should there be granularity requirements for image offsets and extents?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No granularity requirements, i.e. a granularity of 1 pixel (for
non-compressed formats) and 1 texel block (for compressed formats) is
assumed.</p>
</div>
<div class="paragraph">
<p>4) How should the application deal with layout transitions before or after
copying to or from images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: An existing issue with linear images is that when emulating
other APIs, it is impossible to know when to transition them as they are
written to by the host and then used bindlessly.
The copy operations in this extension are affected by the same limitation.
A new command is thus introduced by this extension to address this problem
by allowing the host to perform an image layout transition between a handful
of layouts.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_83"><a class="anchor" href="chap47.html#_version_history_83"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 0, 2021-01-20 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Initial idea and xml</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2023-04-26 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_layer_settings"><a class="anchor" href="chap47.html#VK_EXT_layer_settings"></a>VK_EXT_layer_settings</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_layer_settings</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>497</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christophe Riccio <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_layer_settings] @christophe%0A*Here describe the issue or question you have about the VK_EXT_layer_settings extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>christophe</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_layer_settings.adoc">VK_EXT_layer_settings</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_83"><a class="anchor" href="chap47.html#_other_extension_metadata_83"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-09-23</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christophe Riccio, LunarG</p>
</li>
<li>
<p>Mark Lobodzinski, LunarG</p>
</li>
<li>
<p>Charles Giessen, LunarG</p>
</li>
<li>
<p>Spencer Fricke, LunarG</p>
</li>
<li>
<p>Juan Ramos, LunarG</p>
</li>
<li>
<p>Daniel Rakos, RasterGrid</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Lina Versace, Google</p>
</li>
<li>
<p>Bill Hollings, The Brenwill Workshop</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_83"><a class="anchor" href="chap47.html#_description_83"></a>Description</h5>
<div class="paragraph">
<p>This extension provides a mechanism for configuring programmatically through
the Vulkan API the behavior of layers.</p>
</div>
<div class="paragraph">
<p>This extension provides the <a href="chap4.html#VkLayerSettingsCreateInfoEXT">VkLayerSettingsCreateInfoEXT</a> struct that
can be included in the <code>pNext</code> chain of the <a href="chap4.html#VkInstanceCreateInfo">VkInstanceCreateInfo</a>
structure passed as the <code>pCreateInfo</code> parameter of
<a href="chap4.html#vkCreateInstance">vkCreateInstance</a>.</p>
</div>
<div class="paragraph">
<p>The structure contains an array of <a href="chap4.html#VkLayerSettingEXT">VkLayerSettingEXT</a> structure values
that configure specific features of layers.</p>
</div>
</div>
<div class="sect4">
<h5 id="_example"><a class="anchor" href="chap47.html#_example"></a>Example</h5>
<div class="paragraph">
<p><code>VK_EXT_layer_settings</code> is implemented by the Vulkan Profiles layer.</p>
</div>
<div class="paragraph">
<p>It allows the profiles layer tests used by the profiles layer C.I.
to programmatically configure the layer for each test without affecting the
C.I.
environment, allowing to run multiple tests concurrently.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">profile_file_data</span> <span class="o">=</span> <span class="n">JSON_TEST_FILES_PATH</span> <span class="s">"VP_KHR_roadmap_2022.json"</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">profile_name_data</span> <span class="o">=</span> <span class="s">"VP_KHR_roadmap_2022"</span><span class="p">;</span>
<span class="n">VkBool32</span> <span class="n">emulate_portability_data</span> <span class="o">=</span> <span class="n">VK_TRUE</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">simulate_capabilities</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"SIMULATE_API_VERSION_BIT"</span><span class="p">,</span>
    <span class="s">"SIMULATE_FEATURES_BIT"</span><span class="p">,</span>
    <span class="s">"SIMULATE_PROPERTIES_BIT"</span><span class="p">,</span>
    <span class="s">"SIMULATE_EXTENSIONS_BIT"</span><span class="p">,</span>
    <span class="s">"SIMULATE_FORMATS_BIT"</span><span class="p">,</span>
    <span class="s">"SIMULATE_QUEUE_FAMILY_PROPERTIES_BIT"</span>
<span class="p">};</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">debug_reports</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"DEBUG_REPORT_ERROR_BIT"</span><span class="p">,</span>
    <span class="s">"DEBUG_REPORT_WARNING_BIT"</span><span class="p">,</span>
    <span class="s">"DEBUG_REPORT_NOTIFICATION_BIT"</span><span class="p">,</span>
    <span class="s">"DEBUG_REPORT_DEBUG_BIT"</span>
<span class="p">};</span>

<span class="k">const</span> <span class="n">VkLayerSettingEXT</span> <span class="n">settings</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
     <span class="p">{</span><span class="n">kLayerName</span><span class="p">,</span> <span class="n">kLayerSettingsProfileFile</span><span class="p">,</span> <span class="n">VK_LAYER_SETTING_TYPE_STRING_EXT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">profile_file_data</span><span class="p">},</span>
     <span class="p">{</span><span class="n">kLayerName</span><span class="p">,</span> <span class="n">kLayerSettingsProfileName</span><span class="p">,</span> <span class="n">VK_LAYER_SETTING_TYPE_STRING_EXT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">profile_name_data</span><span class="p">},</span>
     <span class="p">{</span><span class="n">kLayerName</span><span class="p">,</span> <span class="n">kLayerSettingsEmulatePortability</span><span class="p">,</span> <span class="n">VK_LAYER_SETTING_TYPE_BOOL32_EXT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">emulate_portability_data</span><span class="p">},</span>
     <span class="p">{</span><span class="n">kLayerName</span><span class="p">,</span> <span class="n">kLayerSettingsSimulateCapabilities</span><span class="p">,</span> <span class="n">VK_LAYER_SETTING_TYPE_STRING_EXT</span><span class="p">,</span>
        <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">size</span><span class="p">(</span><span class="n">simulate_capabilities</span><span class="p">)),</span> <span class="n">simulate_capabilities</span><span class="p">},</span>
     <span class="p">{</span><span class="n">kLayerName</span><span class="p">,</span> <span class="n">kLayerSettingsDebugReports</span><span class="p">,</span> <span class="n">VK_LAYER_SETTING_TYPE_STRING_EXT</span><span class="p">,</span>
        <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">size</span><span class="p">(</span><span class="n">debug_reports</span><span class="p">)),</span> <span class="n">debug_reports</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">const</span> <span class="n">VkLayerSettingsCreateInfoEXT</span> <span class="n">layer_settings_create_info</span><span class="p">{</span>
    <span class="n">VK_STRUCTURE_TYPE_LAYER_SETTINGS_CREATE_INFO_EXT</span><span class="p">,</span> <span class="nb">nullptr</span><span class="p">,</span>
    <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">size</span><span class="p">(</span><span class="n">settings</span><span class="p">)),</span> <span class="n">settings</span><span class="p">};</span>

<span class="n">VkInstanceCreateInfo</span> <span class="n">inst_create_info</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">...</span>
<span class="n">inst_create_info</span><span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">layer_settings_create_info</span><span class="p">;</span>
<span class="n">vkCreateInstance</span><span class="p">(</span><span class="o">&amp;</span><span class="n">inst_create_info</span><span class="p">,</span> <span class="nb">nullptr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_instances</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code><a href="chap47.html#VK_EXT_layer_settings">VK_EXT_layer_settings</a></code> extension subsumes all the functionality
provided in the <code><code>VK_EXT_validation_flags</code></code> extension and the
<code><code>VK_EXT_validation_features</code></code> extension.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_82"><a class="anchor" href="chap47.html#_new_structures_82"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkLayerSettingEXT">VkLayerSettingEXT</a></p>
</li>
<li>
<p>Extending <a href="chap4.html#VkInstanceCreateInfo">VkInstanceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkLayerSettingsCreateInfoEXT">VkLayerSettingsCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_31"><a class="anchor" href="chap47.html#_new_enums_31"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkLayerSettingTypeEXT">VkLayerSettingTypeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_87"><a class="anchor" href="chap47.html#_new_enum_constants_87"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_LAYER_SETTINGS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_LAYER_SETTINGS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_LAYER_SETTINGS_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_41"><a class="anchor" href="chap47.html#_issues_41"></a>Issues</h5>
<div class="ulist">
<ul>
<li>
<p>How should application developers figure out the list of available
settings?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension does not provide a reflection API for layer settings.
Layer settings are described in each layer JSON manifest and the
documentation of each layer which implements this extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_84"><a class="anchor" href="chap47.html#_version_history_84"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-06-17 (Mark Lobodzinski)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision for Validation layer internal usages</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2023-09-26 (Christophe Riccio)</p>
<div class="ulist">
<ul>
<li>
<p>Refactor APIs for any layer usages and public release</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_nested_command_buffer"><a class="anchor" href="chap47.html#VK_EXT_nested_command_buffer"></a>VK_EXT_nested_command_buffer</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_nested_command_buffer</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>452</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_nested_command_buffer] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_EXT_nested_command_buffer extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_84"><a class="anchor" href="chap47.html#_other_extension_metadata_84"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-09-18</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Story, Nintendo</p>
</li>
<li>
<p>Peter Kohaut, NVIDIA</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_84"><a class="anchor" href="chap47.html#_description_84"></a>Description</h5>
<div class="paragraph">
<p>With core Vulkan it is not legal to call <a href="chap6.html#vkCmdExecuteCommands">vkCmdExecuteCommands</a> when
recording a secondary command buffer.
This extension relaxes that restriction, allowing secondary command buffers
to execute other secondary command buffers.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_83"><a class="anchor" href="chap47.html#_new_structures_83"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceNestedCommandBufferFeaturesEXT">VkPhysicalDeviceNestedCommandBufferFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceNestedCommandBufferPropertiesEXT">VkPhysicalDeviceNestedCommandBufferPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_88"><a class="anchor" href="chap47.html#_new_enum_constants_88"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_NESTED_COMMAND_BUFFER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_NESTED_COMMAND_BUFFER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap8.html#VkRenderingFlagBits">VkRenderingFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_RENDERING_CONTENTS_INLINE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_NESTED_COMMAND_BUFFER_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_NESTED_COMMAND_BUFFER_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap8.html#VkSubpassContents">VkSubpassContents</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBPASS_CONTENTS_INLINE_AND_SECONDARY_COMMAND_BUFFERS_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_42"><a class="anchor" href="chap47.html#_issues_42"></a>Issues</h5>
<div class="paragraph">
<p>1) The Command Buffer Levels property for the Vulkan commands comes from the
<code>cmdbufferlevel</code> attribute in <code>vk.xml</code> for the command, and it is currently
not possible to modify this attribute based on whether an extension is
enabled.
For this extension we want the <code>cmdbufferlevel</code> attribute for
vkCmdExecuteCommands to be <code>primary,secondary</code> when this extension is
enabled and <code>primary</code> otherwise.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The <code>cmdbufferlevel</code> attribute for <a href="chap6.html#vkCmdExecuteCommands">vkCmdExecuteCommands</a>
has been changed to <code>primary,secondary</code> and a new VUID added to prohibit
recording this command in a secondary command buffer unless this extension
is enabled.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_85"><a class="anchor" href="chap47.html#_version_history_85"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-09-18 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_opacity_micromap"><a class="anchor" href="chap47.html#VK_EXT_opacity_micromap"></a>VK_EXT_opacity_micromap</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_opacity_micromap</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>397</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a><br>
and<br>
<a href="chap47.html#VK_KHR_synchronization2">VK_KHR_synchronization2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_opacity_micromap.html">SPV_EXT_opacity_micromap</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_opacity_micromap] @pixeljetstream%0A*Here describe the issue or question you have about the VK_EXT_opacity_micromap extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pixeljetstream</a></p>
</li>
<li>
<p>Eric Werness</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_opacity_micromap.adoc">VK_EXT_opacity_micromap</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_85"><a class="anchor" href="chap47.html#_other_extension_metadata_85"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2022-08-24</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_opacity_micromap.txt"><code>GLSL_EXT_opacity_micromap</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Josh Barczak, Intel</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_85"><a class="anchor" href="chap47.html#_description_85"></a>Description</h5>
<div class="paragraph">
<p>When adding transparency to a ray traced scene, an application can choose
between further tessellating the geometry or using an any-hit shader to
allow the ray through specific parts of the geometry.
These options have the downside of either significantly increasing memory
consumption or adding runtime overhead to run shader code in the middle of
traversal, respectively.</p>
</div>
<div class="paragraph">
<p>This extension adds the ability to add an <em>opacity micromap</em> to geometry
when building an acceleration structure.
The opacity micromap compactly encodes opacity information which can be read
by the implementation to mark parts of triangles as opaque or transparent.
The format is externally visible to allow the application to compress its
internal geometry and surface representations into the compressed format
ahead of time.
The compressed format subdivides each triangle into a set of subtriangles,
each of which can be assigned either two or four opacity values.
These opacity values can control if a ray hitting that subtriangle is
treated as an opaque hit, complete miss, or possible hit, depending on the
controls described in <a href="chap34.html#ray-opacity-micromap">Ray Opacity Micromap</a>.</p>
</div>
<div class="paragraph">
<p>This extension provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a <a href="chap12.html#VkMicromapEXT">VkMicromapEXT</a> structure to store the micromap,</p>
</li>
<li>
<p>functions similar to acceleration structure build functions to build the
opacity micromap array, and</p>
</li>
<li>
<p>a structure to extend
<a href="chap32.html#VkAccelerationStructureGeometryTrianglesDataKHR">VkAccelerationStructureGeometryTrianglesDataKHR</a> to attach a
micromap to the geometry of the acceleration structure.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_object_types_9"><a class="anchor" href="chap47.html#_new_object_types_9"></a>New Object Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkMicromapEXT">VkMicromapEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_50"><a class="anchor" href="chap47.html#_new_commands_50"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap33.html#vkBuildMicromapsEXT">vkBuildMicromapsEXT</a></p>
</li>
<li>
<p><a href="chap33.html#vkCmdBuildMicromapsEXT">vkCmdBuildMicromapsEXT</a></p>
</li>
<li>
<p><a href="chap33.html#vkCmdCopyMemoryToMicromapEXT">vkCmdCopyMemoryToMicromapEXT</a></p>
</li>
<li>
<p><a href="chap33.html#vkCmdCopyMicromapEXT">vkCmdCopyMicromapEXT</a></p>
</li>
<li>
<p><a href="chap33.html#vkCmdCopyMicromapToMemoryEXT">vkCmdCopyMicromapToMemoryEXT</a></p>
</li>
<li>
<p><a href="chap33.html#vkCmdWriteMicromapsPropertiesEXT">vkCmdWriteMicromapsPropertiesEXT</a></p>
</li>
<li>
<p><a href="chap33.html#vkCopyMemoryToMicromapEXT">vkCopyMemoryToMicromapEXT</a></p>
</li>
<li>
<p><a href="chap33.html#vkCopyMicromapEXT">vkCopyMicromapEXT</a></p>
</li>
<li>
<p><a href="chap33.html#vkCopyMicromapToMemoryEXT">vkCopyMicromapToMemoryEXT</a></p>
</li>
<li>
<p><a href="chap12.html#vkCreateMicromapEXT">vkCreateMicromapEXT</a></p>
</li>
<li>
<p><a href="chap12.html#vkDestroyMicromapEXT">vkDestroyMicromapEXT</a></p>
</li>
<li>
<p><a href="chap33.html#vkGetDeviceMicromapCompatibilityEXT">vkGetDeviceMicromapCompatibilityEXT</a></p>
</li>
<li>
<p><a href="chap12.html#vkGetMicromapBuildSizesEXT">vkGetMicromapBuildSizesEXT</a></p>
</li>
<li>
<p><a href="chap33.html#vkWriteMicromapsPropertiesEXT">vkWriteMicromapsPropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_84"><a class="anchor" href="chap47.html#_new_structures_84"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap33.html#VkCopyMemoryToMicromapInfoEXT">VkCopyMemoryToMicromapInfoEXT</a></p>
</li>
<li>
<p><a href="chap33.html#VkCopyMicromapInfoEXT">VkCopyMicromapInfoEXT</a></p>
</li>
<li>
<p><a href="chap33.html#VkCopyMicromapToMemoryInfoEXT">VkCopyMicromapToMemoryInfoEXT</a></p>
</li>
<li>
<p><a href="chap33.html#VkMicromapBuildInfoEXT">VkMicromapBuildInfoEXT</a></p>
</li>
<li>
<p><a href="chap12.html#VkMicromapBuildSizesInfoEXT">VkMicromapBuildSizesInfoEXT</a></p>
</li>
<li>
<p><a href="chap12.html#VkMicromapCreateInfoEXT">VkMicromapCreateInfoEXT</a></p>
</li>
<li>
<p><a href="chap33.html#VkMicromapTriangleEXT">VkMicromapTriangleEXT</a></p>
</li>
<li>
<p><a href="chap33.html#VkMicromapUsageEXT">VkMicromapUsageEXT</a></p>
</li>
<li>
<p><a href="chap33.html#VkMicromapVersionInfoEXT">VkMicromapVersionInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="chap32.html#VkAccelerationStructureGeometryTrianglesDataKHR">VkAccelerationStructureGeometryTrianglesDataKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkAccelerationStructureTrianglesOpacityMicromapEXT">VkAccelerationStructureTrianglesOpacityMicromapEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceOpacityMicromapFeaturesEXT">VkPhysicalDeviceOpacityMicromapFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceOpacityMicromapPropertiesEXT">VkPhysicalDeviceOpacityMicromapPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_32"><a class="anchor" href="chap47.html#_new_enums_32"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBuildMicromapFlagBitsEXT">VkBuildMicromapFlagBitsEXT</a></p>
</li>
<li>
<p><a href="chap33.html#VkBuildMicromapModeEXT">VkBuildMicromapModeEXT</a></p>
</li>
<li>
<p><a href="chap33.html#VkCopyMicromapModeEXT">VkCopyMicromapModeEXT</a></p>
</li>
<li>
<p><a href="chap12.html#VkMicromapCreateFlagBitsEXT">VkMicromapCreateFlagBitsEXT</a></p>
</li>
<li>
<p><a href="chap12.html#VkMicromapTypeEXT">VkMicromapTypeEXT</a></p>
</li>
<li>
<p><a href="chap33.html#VkOpacityMicromapFormatEXT">VkOpacityMicromapFormatEXT</a></p>
</li>
<li>
<p><a href="chap32.html#VkOpacityMicromapSpecialIndexEXT">VkOpacityMicromapSpecialIndexEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_28"><a class="anchor" href="chap47.html#_new_bitmasks_28"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBuildMicromapFlagsEXT">VkBuildMicromapFlagsEXT</a></p>
</li>
<li>
<p><a href="chap12.html#VkMicromapCreateFlagsEXT">VkMicromapCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_89"><a class="anchor" href="chap47.html#_new_enum_constants_89"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_OPACITY_MICROMAP_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_OPACITY_MICROMAP_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkAccessFlagBits2">VkAccessFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_2_MICROMAP_READ_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_ACCESS_2_MICROMAP_WRITE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_MICROMAP_BUILD_INPUT_READ_ONLY_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_MICROMAP_STORAGE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkBuildAccelerationStructureFlagBitsKHR">VkBuildAccelerationStructureFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_DISABLE_OPACITY_MICROMAPS_EXT</code></p>
</li>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_OPACITY_MICROMAP_DATA_UPDATE_EXT</code></p>
</li>
<li>
<p><code>VK_BUILD_ACCELERATION_STRUCTURE_ALLOW_OPACITY_MICROMAP_UPDATE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap32.html#VkGeometryInstanceFlagBitsKHR">VkGeometryInstanceFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_GEOMETRY_INSTANCE_DISABLE_OPACITY_MICROMAPS_EXT</code></p>
</li>
<li>
<p><code>VK_GEOMETRY_INSTANCE_FORCE_OPACITY_MICROMAP_2_STATE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap42.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_MICROMAP_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_RAY_TRACING_OPACITY_MICROMAP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkPipelineStageFlagBits2">VkPipelineStageFlagBits2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_2_MICROMAP_BUILD_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryType">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_MICROMAP_COMPACTED_SIZE_EXT</code></p>
</li>
<li>
<p><code>VK_QUERY_TYPE_MICROMAP_SERIALIZATION_SIZE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_TRIANGLES_OPACITY_MICROMAP_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_MEMORY_TO_MICROMAP_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_MICROMAP_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_COPY_MICROMAP_TO_MEMORY_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MICROMAP_BUILD_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MICROMAP_BUILD_SIZES_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MICROMAP_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MICROMAP_VERSION_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_OPACITY_MICROMAP_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_OPACITY_MICROMAP_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_reference_code"><a class="anchor" href="chap47.html#_reference_code"></a>Reference Code</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="kt">uint32_t</span> <span class="nf">BarycentricsToSpaceFillingCurveIndex</span><span class="p">(</span><span class="kt">float</span> <span class="n">u</span><span class="p">,</span> <span class="kt">float</span> <span class="n">v</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">level</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">u</span> <span class="o">=</span> <span class="n">clamp</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">1.0</span><span class="n">f</span><span class="p">);</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">clamp</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">1.0</span><span class="n">f</span><span class="p">);</span>

    <span class="kt">uint32_t</span> <span class="n">iu</span><span class="p">,</span> <span class="n">iv</span><span class="p">,</span> <span class="n">iw</span><span class="p">;</span>

    <span class="c1">// Quantize barycentric coordinates</span>
    <span class="kt">float</span> <span class="n">fu</span> <span class="o">=</span> <span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1u</span> <span class="o">&lt;&lt;</span> <span class="n">level</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">fv</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1u</span> <span class="o">&lt;&lt;</span> <span class="n">level</span><span class="p">);</span>

    <span class="n">iu</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">fu</span><span class="p">;</span>
    <span class="n">iv</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">fv</span><span class="p">;</span>

    <span class="kt">float</span> <span class="n">uf</span> <span class="o">=</span> <span class="n">fu</span> <span class="o">-</span> <span class="kt">float</span><span class="p">(</span><span class="n">iu</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">vf</span> <span class="o">=</span> <span class="n">fv</span> <span class="o">-</span> <span class="kt">float</span><span class="p">(</span><span class="n">iv</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">iu</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">1u</span> <span class="o">&lt;&lt;</span> <span class="n">level</span><span class="p">))</span> <span class="n">iu</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1u</span> <span class="o">&lt;&lt;</span> <span class="n">level</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1u</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">iv</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">1u</span> <span class="o">&lt;&lt;</span> <span class="n">level</span><span class="p">))</span> <span class="n">iv</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1u</span> <span class="o">&lt;&lt;</span> <span class="n">level</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1u</span><span class="p">;</span>

    <span class="kt">uint32_t</span> <span class="n">iuv</span> <span class="o">=</span> <span class="n">iu</span> <span class="o">+</span> <span class="n">iv</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">iuv</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">1u</span> <span class="o">&lt;&lt;</span> <span class="n">level</span><span class="p">))</span>
        <span class="n">iu</span> <span class="o">-=</span> <span class="n">iuv</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1u</span> <span class="o">&lt;&lt;</span> <span class="n">level</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1u</span><span class="p">;</span>

    <span class="n">iw</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">iu</span> <span class="o">+</span> <span class="n">iv</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">uf</span> <span class="o">+</span> <span class="n">vf</span> <span class="o">&gt;=</span> <span class="mf">1.0</span><span class="n">f</span> <span class="o">&amp;&amp;</span> <span class="n">iuv</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1u</span> <span class="o">&lt;&lt;</span> <span class="n">level</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1u</span><span class="p">)</span> <span class="o">--</span><span class="n">iw</span><span class="p">;</span>

    <span class="kt">uint32_t</span> <span class="n">b0</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">iu</span> <span class="o">^</span> <span class="n">iw</span><span class="p">);</span>
    <span class="n">b0</span> <span class="o">&amp;=</span> <span class="p">((</span><span class="mi">1u</span> <span class="o">&lt;&lt;</span> <span class="n">level</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1u</span><span class="p">);</span>
    <span class="kt">uint32_t</span> <span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">iu</span> <span class="o">^</span> <span class="n">iv</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">b0</span><span class="p">;</span>

    <span class="kt">uint32_t</span> <span class="n">f</span> <span class="o">=</span> <span class="n">t</span><span class="p">;</span>
    <span class="n">f</span> <span class="o">^=</span> <span class="n">f</span> <span class="o">&gt;&gt;</span> <span class="mi">1u</span><span class="p">;</span>
    <span class="n">f</span> <span class="o">^=</span> <span class="n">f</span> <span class="o">&gt;&gt;</span> <span class="mi">2u</span><span class="p">;</span>
    <span class="n">f</span> <span class="o">^=</span> <span class="n">f</span> <span class="o">&gt;&gt;</span> <span class="mi">4u</span><span class="p">;</span>
    <span class="n">f</span> <span class="o">^=</span> <span class="n">f</span> <span class="o">&gt;&gt;</span> <span class="mi">8u</span><span class="p">;</span>
    <span class="kt">uint32_t</span> <span class="n">b1</span> <span class="o">=</span> <span class="p">((</span><span class="n">f</span> <span class="o">^</span> <span class="n">iu</span><span class="p">)</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">b0</span><span class="p">)</span> <span class="o">|</span> <span class="n">t</span><span class="p">;</span>

    <span class="c1">// Interleave bits</span>
    <span class="n">b0</span> <span class="o">=</span> <span class="p">(</span><span class="n">b0</span> <span class="o">|</span> <span class="p">(</span><span class="n">b0</span> <span class="o">&lt;&lt;</span> <span class="mi">8u</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0x00ff00ffu</span><span class="p">;</span>
    <span class="n">b0</span> <span class="o">=</span> <span class="p">(</span><span class="n">b0</span> <span class="o">|</span> <span class="p">(</span><span class="n">b0</span> <span class="o">&lt;&lt;</span> <span class="mi">4u</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0x0f0f0f0fu</span><span class="p">;</span>
    <span class="n">b0</span> <span class="o">=</span> <span class="p">(</span><span class="n">b0</span> <span class="o">|</span> <span class="p">(</span><span class="n">b0</span> <span class="o">&lt;&lt;</span> <span class="mi">2u</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0x33333333u</span><span class="p">;</span>
    <span class="n">b0</span> <span class="o">=</span> <span class="p">(</span><span class="n">b0</span> <span class="o">|</span> <span class="p">(</span><span class="n">b0</span> <span class="o">&lt;&lt;</span> <span class="mi">1u</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0x55555555u</span><span class="p">;</span>
    <span class="n">b1</span> <span class="o">=</span> <span class="p">(</span><span class="n">b1</span> <span class="o">|</span> <span class="p">(</span><span class="n">b1</span> <span class="o">&lt;&lt;</span> <span class="mi">8u</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0x00ff00ffu</span><span class="p">;</span>
    <span class="n">b1</span> <span class="o">=</span> <span class="p">(</span><span class="n">b1</span> <span class="o">|</span> <span class="p">(</span><span class="n">b1</span> <span class="o">&lt;&lt;</span> <span class="mi">4u</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0x0f0f0f0fu</span><span class="p">;</span>
    <span class="n">b1</span> <span class="o">=</span> <span class="p">(</span><span class="n">b1</span> <span class="o">|</span> <span class="p">(</span><span class="n">b1</span> <span class="o">&lt;&lt;</span> <span class="mi">2u</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0x33333333u</span><span class="p">;</span>
    <span class="n">b1</span> <span class="o">=</span> <span class="p">(</span><span class="n">b1</span> <span class="o">|</span> <span class="p">(</span><span class="n">b1</span> <span class="o">&lt;&lt;</span> <span class="mi">1u</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0x55555555u</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">b0</span> <span class="o">|</span> <span class="p">(</span><span class="n">b1</span> <span class="o">&lt;&lt;</span> <span class="mi">1u</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_issues_43"><a class="anchor" href="chap47.html#_issues_43"></a>Issues</h5>
<div class="paragraph">
<p>(1) Is the build actually similar to an acceleration structure build?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: The build should be much lighter-weight than an acceleration
structure build, but the infrastructure is similar enough that it makes
sense to keep the concepts compatible.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(2) Why does VkMicromapUsageEXT not have type/pNext?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: There can be a very large number of these structures, so
doubling the size of these can be significant memory consumption.
Also, an application may be loading these directly from a file which is
more compatible with it being a flat structure.
The including structures are extensible and are probably a more suitable
place to add extensibility.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(3) Why is there a SPIR-V extension?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: There is a ray flag.
To be consistent with how the existing ray tracing extensions work that
ray flag needs its own extension.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(4) Should there be indirect micromap build?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: Not for now.
There is more in-depth usage metadata required and it seems less likely
that something like a GPU culling system would need to change the counts
for a micromap.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(5) Should micromaps have a micromap device address?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: There is no need right now (can just use the handle) but that
is a bit different from acceleration structures, though the two are not
completely parallel in their usage.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>(6) Why are the alignment requirements defined as a mix of hardcoded values
and caps?</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resolved: This is most parallel with the definition of
<code><a href="chap47.html#VK_KHR_acceleration_structure">VK_KHR_acceleration_structure</a></code> and maintaining commonality makes
it easier for applications to share memory.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_86"><a class="anchor" href="chap47.html#_version_history_86"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2022-06-22 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>EXTify and clean up for discussion</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2022-01-01 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_shader_object"><a class="anchor" href="chap47.html#VK_EXT_shader_object"></a>VK_EXT_shader_object</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_object</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>483</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; or<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap46.html#versions-1.1">Version 1.1</a><br>
and<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap47.html#VK_KHR_dynamic_rendering">VK_KHR_dynamic_rendering</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; or<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="#versions-1.3" class="target-missing">Version 1.3</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_VERSION_1_1</p>
</li>
<li>
<p>Interacts with VK_VERSION_1_3</p>
</li>
<li>
<p>Interacts with VK_EXT_blend_operation_advanced</p>
</li>
<li>
<p>Interacts with VK_EXT_conservative_rasterization</p>
</li>
<li>
<p>Interacts with VK_EXT_depth_clip_control</p>
</li>
<li>
<p>Interacts with VK_EXT_depth_clip_enable</p>
</li>
<li>
<p>Interacts with VK_EXT_fragment_density_map</p>
</li>
<li>
<p>Interacts with VK_EXT_line_rasterization</p>
</li>
<li>
<p>Interacts with VK_EXT_mesh_shader</p>
</li>
<li>
<p>Interacts with VK_EXT_provoking_vertex</p>
</li>
<li>
<p>Interacts with VK_EXT_sample_locations</p>
</li>
<li>
<p>Interacts with VK_EXT_subgroup_size_control</p>
</li>
<li>
<p>Interacts with VK_EXT_transform_feedback</p>
</li>
<li>
<p>Interacts with VK_KHR_device_group</p>
</li>
<li>
<p>Interacts with VK_KHR_fragment_shading_rate</p>
</li>
<li>
<p>Interacts with VK_NV_clip_space_w_scaling</p>
</li>
<li>
<p>Interacts with VK_NV_coverage_reduction_mode</p>
</li>
<li>
<p>Interacts with VK_NV_fragment_coverage_to_color</p>
</li>
<li>
<p>Interacts with VK_NV_framebuffer_mixed_samples</p>
</li>
<li>
<p>Interacts with VK_NV_mesh_shader</p>
</li>
<li>
<p>Interacts with VK_NV_representative_fragment_test</p>
</li>
<li>
<p>Interacts with VK_NV_shading_rate_image</p>
</li>
<li>
<p>Interacts with VK_NV_viewport_swizzle</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Story <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_object] @daniel-story%0A*Here describe the issue or question you have about the VK_EXT_shader_object extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>daniel-story</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_shader_object.adoc">VK_EXT_shader_object</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_86"><a class="anchor" href="chap47.html#_other_extension_metadata_86"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-03-30</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><code>VK_EXT_extended_dynamic_state</code></code></p>
</li>
<li>
<p>Interacts with <code><code>VK_EXT_extended_dynamic_state2</code></code></p>
</li>
<li>
<p>Interacts with <code><a href="chap47.html#VK_EXT_extended_dynamic_state3">VK_EXT_extended_dynamic_state3</a></code></p>
</li>
<li>
<p>Interacts with <code><code>VK_EXT_vertex_input_dynamic_state</code></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Sandy Jamieson, Nintendo</p>
</li>
<li>
<p>Žiga Markuš, LunarG</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Alex Walters, Imagination</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Ralph Potter, Samsung</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Connor Abott, Valve</p>
</li>
<li>
<p>Arseny Kapoulkine, Roblox</p>
</li>
<li>
<p>Patrick Doane, Activision</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Stu Smith, AMD</p>
</li>
<li>
<p>Chris Glover, Google</p>
</li>
<li>
<p>Ricardo Garcia, Igalia</p>
</li>
<li>
<p>Faith Ekstrand, Collabora</p>
</li>
<li>
<p>Timur Kristóf, Valve</p>
</li>
<li>
<p>Constantine Shablya, Collabora</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Alyssa Rosenzweig, Collabora</p>
</li>
<li>
<p>Mike Blumenkrantz, Valve</p>
</li>
<li>
<p>Samuel Pitoiset, Valve</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Spencer Fricke, LunarG</p>
</li>
<li>
<p>Soroush Faghihi Kashani, Imagination</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_86"><a class="anchor" href="chap47.html#_description_86"></a>Description</h5>
<div class="paragraph">
<p>This extension introduces a new <a href="chap9.html#VkShaderEXT">VkShaderEXT</a> object type which
represents a single compiled shader stage.
Shader objects provide a more flexible alternative to <a href="chap10.html#VkPipeline">VkPipeline</a>
objects, which may be helpful in certain use cases.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_object_types_10"><a class="anchor" href="chap47.html#_new_object_types_10"></a>New Object Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#VkShaderEXT">VkShaderEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_51"><a class="anchor" href="chap47.html#_new_commands_51"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#vkCmdBindShadersEXT">vkCmdBindShadersEXT</a></p>
</li>
<li>
<p><a href="chap21.html#vkCmdBindVertexBuffers2EXT">vkCmdBindVertexBuffers2EXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetAlphaToCoverageEnableEXT">vkCmdSetAlphaToCoverageEnableEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetAlphaToOneEnableEXT">vkCmdSetAlphaToOneEnableEXT</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetColorBlendEnableEXT">vkCmdSetColorBlendEnableEXT</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetColorBlendEquationEXT">vkCmdSetColorBlendEquationEXT</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetColorWriteMaskEXT">vkCmdSetColorWriteMaskEXT</a></p>
</li>
<li>
<p><a href="chap25.html#vkCmdSetCullModeEXT">vkCmdSetCullModeEXT</a></p>
</li>
<li>
<p><a href="chap25.html#vkCmdSetDepthBiasEnableEXT">vkCmdSetDepthBiasEnableEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetDepthBoundsTestEnableEXT">vkCmdSetDepthBoundsTestEnableEXT</a></p>
</li>
<li>
<p><a href="chap24.html#vkCmdSetDepthClampEnableEXT">vkCmdSetDepthClampEnableEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetDepthCompareOpEXT">vkCmdSetDepthCompareOpEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetDepthTestEnableEXT">vkCmdSetDepthTestEnableEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetDepthWriteEnableEXT">vkCmdSetDepthWriteEnableEXT</a></p>
</li>
<li>
<p><a href="chap25.html#vkCmdSetFrontFaceEXT">vkCmdSetFrontFaceEXT</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetLogicOpEXT">vkCmdSetLogicOpEXT</a></p>
</li>
<li>
<p><a href="chap27.html#vkCmdSetLogicOpEnableEXT">vkCmdSetLogicOpEnableEXT</a></p>
</li>
<li>
<p><a href="chap9.html#vkCmdSetPatchControlPointsEXT">vkCmdSetPatchControlPointsEXT</a></p>
</li>
<li>
<p><a href="chap25.html#vkCmdSetPolygonModeEXT">vkCmdSetPolygonModeEXT</a></p>
</li>
<li>
<p><a href="chap20.html#vkCmdSetPrimitiveRestartEnableEXT">vkCmdSetPrimitiveRestartEnableEXT</a></p>
</li>
<li>
<p><a href="chap20.html#vkCmdSetPrimitiveTopologyEXT">vkCmdSetPrimitiveTopologyEXT</a></p>
</li>
<li>
<p><a href="chap25.html#vkCmdSetRasterizationSamplesEXT">vkCmdSetRasterizationSamplesEXT</a></p>
</li>
<li>
<p><a href="chap25.html#vkCmdSetRasterizerDiscardEnableEXT">vkCmdSetRasterizerDiscardEnableEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetSampleMaskEXT">vkCmdSetSampleMaskEXT</a></p>
</li>
<li>
<p><a href="chap24.html#vkCmdSetScissorWithCountEXT">vkCmdSetScissorWithCountEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetStencilOpEXT">vkCmdSetStencilOpEXT</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetStencilTestEnableEXT">vkCmdSetStencilTestEnableEXT</a></p>
</li>
<li>
<p><a href="chap22.html#vkCmdSetTessellationDomainOriginEXT">vkCmdSetTessellationDomainOriginEXT</a></p>
</li>
<li>
<p><a href="chap21.html#vkCmdSetVertexInputEXT">vkCmdSetVertexInputEXT</a></p>
</li>
<li>
<p><a href="chap24.html#vkCmdSetViewportWithCountEXT">vkCmdSetViewportWithCountEXT</a></p>
</li>
<li>
<p><a href="chap9.html#vkCreateShadersEXT">vkCreateShadersEXT</a></p>
</li>
<li>
<p><a href="chap9.html#vkDestroyShaderEXT">vkDestroyShaderEXT</a></p>
</li>
<li>
<p><a href="chap9.html#vkGetShaderBinaryDataEXT">vkGetShaderBinaryDataEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_85"><a class="anchor" href="chap47.html#_new_structures_85"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="#VkColorBlendAdvancedEXT" class="target-missing">VkColorBlendAdvancedEXT</a></p>
</li>
<li>
<p><a href="chap27.html#VkColorBlendEquationEXT">VkColorBlendEquationEXT</a></p>
</li>
<li>
<p><a href="chap9.html#VkShaderCreateInfoEXT">VkShaderCreateInfoEXT</a></p>
</li>
<li>
<p><a href="chap21.html#VkVertexInputAttributeDescription2EXT">VkVertexInputAttributeDescription2EXT</a></p>
</li>
<li>
<p><a href="chap21.html#VkVertexInputBindingDescription2EXT">VkVertexInputBindingDescription2EXT</a></p>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderObjectFeaturesEXT">VkPhysicalDeviceShaderObjectFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceShaderObjectPropertiesEXT">VkPhysicalDeviceShaderObjectPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkPipelineShaderStageCreateInfo">VkPipelineShaderStageCreateInfo</a>, <a href="chap9.html#VkShaderCreateInfoEXT">VkShaderCreateInfoEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#VkShaderRequiredSubgroupSizeCreateInfoEXT" class="target-missing">VkShaderRequiredSubgroupSizeCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_33"><a class="anchor" href="chap47.html#_new_enums_33"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#VkShaderCodeTypeEXT">VkShaderCodeTypeEXT</a></p>
</li>
<li>
<p><a href="chap9.html#VkShaderCreateFlagBitsEXT">VkShaderCreateFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_29"><a class="anchor" href="chap47.html#_new_bitmasks_29"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#VkShaderCreateFlagsEXT">VkShaderCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_90"><a class="anchor" href="chap47.html#_new_enum_constants_90"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_OBJECT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_OBJECT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap42.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_SHADER_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_SHADER_BINARY_EXT</code></p>
</li>
<li>
<p><code>VK_INCOMPATIBLE_SHADER_BINARY_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_OBJECT_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_OBJECT_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SHADER_REQUIRED_SUBGROUP_SIZE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VERTEX_INPUT_ATTRIBUTE_DESCRIPTION_2_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_VERTEX_INPUT_BINDING_DESCRIPTION_2_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_device_group">VK_KHR_device_group</a> or <a href="chap46.html#versions-1.1">Version 1.1</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap9.html#VkShaderCreateFlagBitsEXT">VkShaderCreateFlagBitsEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_CREATE_DISPATCH_BASE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_fragment_shading_rate">VK_KHR_fragment_shading_rate</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap9.html#VkShaderCreateFlagBitsEXT">VkShaderCreateFlagBitsEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_CREATE_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_examples_9"><a class="anchor" href="chap47.html#_examples_9"></a>Examples</h5>
<div class="paragraph">
<p><strong>Example 1</strong></p>
</div>
<div class="paragraph">
<p>Create linked pair of vertex and fragment shaders.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Logical device created with the shaderObject feature enabled</span>
<span class="n">VkDevice</span> <span class="n">device</span><span class="p">;</span>

<span class="c1">// SPIR-V shader code for a vertex shader, along with its size in bytes</span>
<span class="kt">void</span><span class="o">*</span> <span class="n">pVertexSpirv</span><span class="p">;</span>
<span class="kt">size_t</span> <span class="n">vertexSpirvSize</span><span class="p">;</span>

<span class="c1">// SPIR-V shader code for a fragment shader, along with its size in bytes</span>
<span class="kt">void</span><span class="o">*</span> <span class="n">pFragmentSpirv</span><span class="p">;</span>
<span class="kt">size_t</span> <span class="n">fragmentSpirvSize</span><span class="p">;</span>

<span class="c1">// Descriptor set layout compatible with the shaders</span>
<span class="n">VkDescriptorSetLayout</span> <span class="n">descriptorSetLayout</span><span class="p">;</span>

<span class="n">VkShaderCreateInfoEXT</span> <span class="n">shaderCreateInfos</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">stage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_VERTEX_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">nextStage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeType</span> <span class="o">=</span> <span class="n">VK_SHADER_CODE_TYPE_SPIRV_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeSize</span> <span class="o">=</span> <span class="n">vertexSpirvSize</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pCode</span> <span class="o">=</span> <span class="n">pVertexSpirv</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pName</span> <span class="o">=</span> <span class="s">"main"</span><span class="p">,</span>
        <span class="p">.</span><span class="n">setLayoutCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSetLayouts</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">descriptorSetLayout</span><span class="p">;</span>
        <span class="p">.</span><span class="n">pushConstantRangeCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pPushConstantRanges</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSpecializationInfo</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">VK_SHADER_CREATE_LINK_STAGE_BIT_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">stage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">nextStage</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeType</span> <span class="o">=</span> <span class="n">VK_SHADER_CODE_TYPE_SPIRV_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeSize</span> <span class="o">=</span> <span class="n">fragmentSpirvSize</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pCode</span> <span class="o">=</span> <span class="n">pFragmentSpirv</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pName</span> <span class="o">=</span> <span class="s">"main"</span><span class="p">,</span>
        <span class="p">.</span><span class="n">setLayoutCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSetLayouts</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">descriptorSetLayout</span><span class="p">;</span>
        <span class="p">.</span><span class="n">pushConstantRangeCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pPushConstantRanges</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSpecializationInfo</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="n">VkResult</span> <span class="n">result</span><span class="p">;</span>
<span class="n">VkShaderEXT</span> <span class="n">shaders</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">vkCreateShadersEXT</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">shaderCreateInfos</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">shaders</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">VK_SUCCESS</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Handle error</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Later, during command buffer recording, bind the linked shaders and draw.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Command buffer in the recording state</span>
<span class="n">VkCommandBuffer</span> <span class="n">commandBuffer</span><span class="p">;</span>

<span class="c1">// Vertex and fragment shader objects created above</span>
<span class="n">VkShaderEXT</span> <span class="n">shaders</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

<span class="c1">// Assume vertex buffers, descriptor sets, etc. have been bound, and existing</span>
<span class="c1">// state setting commands have been called to set all required state</span>

<span class="k">const</span> <span class="n">VkShaderStageFlagBits</span> <span class="n">stages</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="n">VK_SHADER_STAGE_VERTEX_BIT</span><span class="p">,</span>
    <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span>
<span class="p">};</span>

<span class="c1">// Bind linked shaders</span>
<span class="n">vkCmdBindShadersEXT</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">stages</span><span class="p">,</span> <span class="n">shaders</span><span class="p">);</span>

<span class="c1">// Equivalent to the previous line. Linked shaders can be bound one at a time,</span>
<span class="c1">// in any order:</span>
<span class="c1">// vkCmdBindShadersEXT(commandBuffer, 1, &amp;stages[1], &amp;shaders[1]);</span>
<span class="c1">// vkCmdBindShadersEXT(commandBuffer, 1, &amp;stages[0], &amp;shaders[0]);</span>

<span class="c1">// The above is sufficient to draw if the device was created with the</span>
<span class="c1">// tessellationShader and geometryShader features disabled. Otherwise, since</span>
<span class="c1">// those stages should not execute, vkCmdBindShadersEXT() must be called at</span>
<span class="c1">// least once with each of their stages in pStages before drawing:</span>

<span class="k">const</span> <span class="n">VkShaderStageFlagBits</span> <span class="n">unusedStages</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="n">VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</span><span class="p">,</span>
    <span class="n">VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</span><span class="p">,</span>
    <span class="n">VK_SHADER_STAGE_GEOMETRY_BIT</span>
<span class="p">};</span>

<span class="c1">// NULL pShaders is equivalent to an array of stageCount VK_NULL_HANDLE values,</span>
<span class="c1">// meaning no shaders are bound to those stages, and that any previously bound</span>
<span class="c1">// shaders are unbound</span>
<span class="n">vkCmdBindShadersEXT</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">unusedStages</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

<span class="c1">// Graphics shader objects may only be used to draw inside dynamic render pass</span>
<span class="c1">// instances begun with vkCmdBeginRendering(), assume one has already been begun</span>

<span class="c1">// Draw a triangle</span>
<span class="n">vkCmdDraw</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 2</strong></p>
</div>
<div class="paragraph">
<p>Create unlinked vertex, geometry, and fragment shaders.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Logical device created with the shaderObject feature enabled</span>
<span class="n">VkDevice</span> <span class="n">device</span><span class="p">;</span>

<span class="c1">// SPIR-V shader code for vertex shaders, along with their sizes in bytes</span>
<span class="kt">void</span><span class="o">*</span> <span class="n">pVertexSpirv</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="kt">size_t</span> <span class="n">vertexSpirvSize</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

<span class="c1">// SPIR-V shader code for a geometry shader, along with its size in bytes</span>
<span class="kt">void</span> <span class="n">pGeometrySpirv</span><span class="p">;</span>
<span class="kt">size_t</span> <span class="n">geometrySpirvSize</span><span class="p">;</span>

<span class="c1">// SPIR-V shader code for fragment shaders, along with their sizes in bytes</span>
<span class="kt">void</span><span class="o">*</span> <span class="n">pFragmentSpirv</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="kt">size_t</span> <span class="n">fragmentSpirvSize</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

<span class="c1">// Descriptor set layout compatible with the shaders</span>
<span class="n">VkDescriptorSetLayout</span> <span class="n">descriptorSetLayout</span><span class="p">;</span>

<span class="n">VkShaderCreateInfoEXT</span> <span class="n">shaderCreateInfos</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="c1">// Stage order does not matter</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">stage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_GEOMETRY_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">nextStage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeType</span> <span class="o">=</span> <span class="n">VK_SHADER_CODE_TYPE_SPIRV_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeSize</span> <span class="o">=</span> <span class="n">pGeometrySpirv</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pCode</span> <span class="o">=</span> <span class="n">geometrySpirvSize</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pName</span> <span class="o">=</span> <span class="s">"main"</span><span class="p">,</span>
        <span class="p">.</span><span class="n">setLayoutCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSetLayouts</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">descriptorSetLayout</span><span class="p">;</span>
        <span class="p">.</span><span class="n">pushConstantRangeCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pPushConstantRanges</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSpecializationInfo</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">stage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_VERTEX_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">nextStage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_GEOMETRY_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeType</span> <span class="o">=</span> <span class="n">VK_SHADER_CODE_TYPE_SPIRV_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeSize</span> <span class="o">=</span> <span class="n">vertexSpirvSize</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">.</span><span class="n">pCode</span> <span class="o">=</span> <span class="n">pVertexSpirv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">.</span><span class="n">pName</span> <span class="o">=</span> <span class="s">"main"</span><span class="p">,</span>
        <span class="p">.</span><span class="n">setLayoutCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSetLayouts</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">descriptorSetLayout</span><span class="p">;</span>
        <span class="p">.</span><span class="n">pushConstantRangeCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pPushConstantRanges</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSpecializationInfo</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">stage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">nextStage</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeType</span> <span class="o">=</span> <span class="n">VK_SHADER_CODE_TYPE_SPIRV_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeSize</span> <span class="o">=</span> <span class="n">fragmentSpirvSize</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">.</span><span class="n">pCode</span> <span class="o">=</span> <span class="n">pFragmentSpirv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">.</span><span class="n">pName</span> <span class="o">=</span> <span class="s">"main"</span><span class="p">,</span>
        <span class="p">.</span><span class="n">setLayoutCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSetLayouts</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">descriptorSetLayout</span><span class="p">;</span>
        <span class="p">.</span><span class="n">pushConstantRangeCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pPushConstantRanges</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSpecializationInfo</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">stage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">nextStage</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeType</span> <span class="o">=</span> <span class="n">VK_SHADER_CODE_TYPE_SPIRV_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeSize</span> <span class="o">=</span> <span class="n">fragmentSpirvSize</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="p">.</span><span class="n">pCode</span> <span class="o">=</span> <span class="n">pFragmentSpirv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="p">.</span><span class="n">pName</span> <span class="o">=</span> <span class="s">"main"</span><span class="p">,</span>
        <span class="p">.</span><span class="n">setLayoutCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSetLayouts</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">descriptorSetLayout</span><span class="p">;</span>
        <span class="p">.</span><span class="n">pushConstantRangeCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pPushConstantRanges</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSpecializationInfo</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">stage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_VERTEX_BIT</span><span class="p">,</span>
        <span class="c1">// Suppose we want this vertex shader to be able to be followed by</span>
        <span class="c1">// either a geometry shader or fragment shader:</span>
        <span class="p">.</span><span class="n">nextStage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_GEOMETRY_BIT</span> <span class="o">|</span> <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeType</span> <span class="o">=</span> <span class="n">VK_SHADER_CODE_TYPE_SPIRV_EXT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">codeSize</span> <span class="o">=</span> <span class="n">vertexSpirvSize</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="p">.</span><span class="n">pCode</span> <span class="o">=</span> <span class="n">pVertexSpirv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="p">.</span><span class="n">pName</span> <span class="o">=</span> <span class="s">"main"</span><span class="p">,</span>
        <span class="p">.</span><span class="n">setLayoutCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSetLayouts</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">descriptorSetLayout</span><span class="p">;</span>
        <span class="p">.</span><span class="n">pushConstantRangeCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pPushConstantRanges</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pSpecializationInfo</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="n">VkResult</span> <span class="n">result</span><span class="p">;</span>
<span class="n">VkShaderEXT</span> <span class="n">shaders</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">vkCreateShadersEXT</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">shaderCreateInfos</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">shaders</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">VK_SUCCESS</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Handle error</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Later, during command buffer recording, bind the linked shaders in different
combinations and draw.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Command buffer in the recording state</span>
<span class="n">VkCommandBuffer</span> <span class="n">commandBuffer</span><span class="p">;</span>

<span class="c1">// Vertex, geometry, and fragment shader objects created above</span>
<span class="n">VkShaderEXT</span> <span class="n">shaders</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>

<span class="c1">// Assume vertex buffers, descriptor sets, etc. have been bound, and existing</span>
<span class="c1">// state setting commands have been called to set all required state</span>

<span class="k">const</span> <span class="n">VkShaderStageFlagBits</span> <span class="n">stages</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="c1">// Any order is allowed</span>
    <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
    <span class="n">VK_SHADER_STAGE_VERTEX_BIT</span><span class="p">,</span>
    <span class="n">VK_SHADER_STAGE_GEOMETRY_BIT</span><span class="p">,</span>
<span class="p">};</span>

<span class="n">VkShaderEXT</span> <span class="n">bindShaders</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="n">shaders</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="c1">// FS</span>
    <span class="n">shaders</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="c1">// VS</span>
    <span class="n">shaders</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1">// GS</span>
<span class="p">};</span>

<span class="c1">// Bind unlinked shaders</span>
<span class="n">vkCmdBindShadersEXT</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">stages</span><span class="p">,</span> <span class="n">bindShaders</span><span class="p">);</span>

<span class="c1">// Assume the tessellationShader feature is disabled, so vkCmdBindShadersEXT()</span>
<span class="c1">// need not have been called with either tessellation stage</span>

<span class="c1">// Graphics shader objects may only be used to draw inside dynamic render pass</span>
<span class="c1">// instances begun with vkCmdBeginRendering(), assume one has already been begun</span>

<span class="c1">// Draw a triangle</span>
<span class="n">vkCmdDraw</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="c1">// Bind a different unlinked fragment shader</span>
<span class="k">const</span> <span class="n">VkShaderStageFlagBits</span> <span class="n">fragmentStage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">;</span>
<span class="n">vkCmdBindShadersEXT</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">fragmentStage</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">shaders</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>

<span class="c1">// Draw another triangle</span>
<span class="n">vkCmdDraw</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="c1">// Bind a different unlinked vertex shader</span>
<span class="k">const</span> <span class="n">VkShaderStageFlagBits</span> <span class="n">vertexStage</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_VERTEX_BIT</span><span class="p">;</span>
<span class="n">vkCmdBindShadersEXT</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">vertexStage</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">shaders</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>

<span class="c1">// Draw another triangle</span>
<span class="n">vkCmdDraw</span><span class="p">(</span><span class="n">commandBuffer</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_87"><a class="anchor" href="chap47.html#_version_history_87"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-03-30 (Daniel Story)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_shader_tile_image"><a class="anchor" href="chap47.html#VK_EXT_shader_tile_image"></a>VK_EXT_shader_tile_image</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_tile_image</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>396</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="#versions-1.3" class="target-missing">Version 1.3</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/EXT/SPV_EXT_shader_tile_image.html">SPV_EXT_shader_tile_image</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_shader_tile_image] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_EXT_shader_tile_image extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Extension Proposal</strong></dt>
<dd>
<p><a href="https://github.com/KhronosGroup/Vulkan-Docs/tree/main/proposals/VK_EXT_shader_tile_image.adoc">VK_EXT_shader_tile_image</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_87"><a class="anchor" href="chap47.html#_other_extension_metadata_87"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2023-03-23</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://raw.githubusercontent.com/KhronosGroup/GLSL/master/extensions/ext/GLSL_EXT_shader_tile_image.txt"><code>GL_EXT_shader_tile_image</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Sandeep Kakarlapudi, Arm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>James Fitzpatrick, Imagination</p>
</li>
<li>
<p>Andrew Garrard, Imagination</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Huilong Wang, Huawei</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Hans-Kristian Arntzen, Valve</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_87"><a class="anchor" href="chap47.html#_description_87"></a>Description</h5>
<div class="paragraph">
<p>This extension allows fragment shader invocations to read color, depth and
stencil values at their pixel location in rasterization order.
The functionality is only available when using dynamic render passes
introduced by VK_KHR_dynamic_rendering.
Example use cases are programmable blending and deferred shading.</p>
</div>
<div class="paragraph">
<p>See <a href="chap26.html#fragops-shader-tileimage-reads">fragment shader tile image reads</a> for
more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_86"><a class="anchor" href="chap47.html#_new_structures_86"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderTileImageFeaturesEXT">VkPhysicalDeviceShaderTileImageFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkPhysicalDeviceShaderTileImagePropertiesEXT">VkPhysicalDeviceShaderTileImagePropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_91"><a class="anchor" href="chap47.html#_new_enum_constants_91"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_SHADER_TILE_IMAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_SHADER_TILE_IMAGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_TILE_IMAGE_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_TILE_IMAGE_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_44"><a class="anchor" href="chap47.html#_issues_44"></a>Issues</h5>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect4">
<h5 id="_examples_10"><a class="anchor" href="chap47.html#_examples_10"></a>Examples</h5>
<div class="paragraph">
<p>Color read example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">layout</span><span class="p">(</span> <span class="n">location</span> <span class="o">=</span> <span class="mi">0</span> <span class="cm">/* aliased to color attachment 0 */</span> <span class="p">)</span> <span class="n">tileImageEXT</span> <span class="n">highp</span> <span class="n">attachmentEXT</span> <span class="n">color0</span><span class="p">;</span>
<span class="n">layout</span><span class="p">(</span> <span class="n">location</span> <span class="o">=</span> <span class="mi">1</span> <span class="cm">/* aliased to color attachment 1 */</span> <span class="p">)</span> <span class="n">tileImageEXT</span> <span class="n">highp</span> <span class="n">attachmentEXT</span> <span class="n">color1</span><span class="p">;</span>

<span class="n">layout</span><span class="p">(</span> <span class="n">location</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">)</span> <span class="n">out</span> <span class="n">vec4</span> <span class="n">fragColor</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">vec4</span> <span class="n">value</span> <span class="o">=</span> <span class="n">colorAttachmentReadEXT</span><span class="p">(</span><span class="n">color0</span><span class="p">)</span> <span class="o">+</span> <span class="n">colorAttachmentReadEXT</span><span class="p">(</span><span class="n">color1</span><span class="p">);</span>
    <span class="n">fragColor</span> <span class="o">=</span> <span class="n">value</span><span class="p">;</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Depth &amp; Stencil read example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// read sample 0: works for non-MSAA or MSAA targets</span>
    <span class="n">highp</span> <span class="kt">float</span> <span class="n">last_depth</span> <span class="o">=</span> <span class="n">depthAttachmentReadEXT</span><span class="p">();</span>
    <span class="n">lowp</span> <span class="n">uint</span> <span class="n">last_stencil</span> <span class="o">=</span> <span class="n">stencilAttachmentReadEXT</span><span class="p">();</span>

    <span class="c1">//..</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_88"><a class="anchor" href="chap47.html#_version_history_88"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2023-03-23 (Sandeep Kakarlapudi)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="provisional-extension-appendices-list"><a class="anchor" href="chap47.html#provisional-extension-appendices-list"></a>List of Provisional Extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="chap47.html#VK_KHR_portability_subset">VK_KHR_portability_subset</a></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="VK_KHR_portability_subset"><a class="anchor" href="chap47.html#VK_KHR_portability_subset"></a>VK_KHR_portability_subset</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_portability_subset</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>164</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>This is a <em>provisional</em> extension and <strong class="purple">must</strong> be used with caution.
See the <a href="chap48.html#boilerplate-provisional-header">description</a> of provisional header files for enablement and stability details.</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_portability_subset] @billhollings%0A*Here describe the issue or question you have about the VK_KHR_portability_subset extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>billhollings</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_88"><a class="anchor" href="chap47.html#_other_extension_metadata_88"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2020-07-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings, The Brenwill Workshop Ltd.</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Dzmitry Malyshau, Mozilla</p>
</li>
<li>
<p>Chip Davis, CodeWeavers</p>
</li>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Mike Weiblen, LunarG</p>
</li>
<li>
<p>Neil Trevett, NVIDIA</p>
</li>
<li>
<p>Alexey Knyazev, Independent</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_88"><a class="anchor" href="chap47.html#_description_88"></a>Description</h5>
<div class="paragraph">
<p>The <code><a href="chap47.html#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code> extension allows a non-conformant
Vulkan implementation to be built on top of another non-Vulkan graphics API,
and identifies differences between that implementation and a
fully-conformant native Vulkan implementation.</p>
</div>
<div class="paragraph">
<p>This extension provides Vulkan implementations with the ability to mark
otherwise-required capabilities as unsupported, or to establish additional
properties and limits that the application should adhere to in order to
guarantee portable behaviour and operation across platforms, including
platforms where Vulkan is not natively supported.</p>
</div>
<div class="paragraph">
<p>The goal of this specification is to document, and make queryable,
capabilities which are required to be supported by a fully-conformant Vulkan
1.0 implementation, but may be optional for an implementation of the Vulkan
1.0 Portability Subset.</p>
</div>
<div class="paragraph">
<p>The intent is that this extension will be advertised only on implementations
of the Vulkan 1.0 Portability Subset, and not on conformant implementations
of Vulkan 1.0.
Fully-conformant Vulkan implementations provide all the required
capabilities, and so will not provide this extension.
Therefore, the existence of this extension can be used to determine that an
implementation is likely not fully conformant with the Vulkan spec.</p>
</div>
<div class="paragraph">
<p>If this extension is supported by the Vulkan implementation, the application
must enable this extension.</p>
</div>
<div class="paragraph">
<p>This extension defines several new structures that can be chained to the
existing structures used by certain standard Vulkan calls, in order to query
for non-conformant portable behavior.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_87"><a class="anchor" href="chap47.html#_new_structures_87"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDevicePortabilitySubsetFeaturesKHR">VkPhysicalDevicePortabilitySubsetFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDevicePortabilitySubsetPropertiesKHR">VkPhysicalDevicePortabilitySubsetPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_92"><a class="anchor" href="chap47.html#_new_enum_constants_92"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_PORTABILITY_SUBSET_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_PORTABILITY_SUBSET_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PORTABILITY_SUBSET_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PORTABILITY_SUBSET_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_45"><a class="anchor" href="chap47.html#_issues_45"></a>Issues</h5>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_89"><a class="anchor" href="chap47.html#_version_history_89"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2020-07-21 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-extension-appendices-list"><a class="anchor" href="chap47.html#deprecated-extension-appendices-list"></a>List of Deprecated Extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="chap47.html#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_buffer_device_address">VK_KHR_buffer_device_address</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_depth_stencil_resolve">VK_KHR_depth_stencil_resolve</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_descriptor_update_template">VK_KHR_descriptor_update_template</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_device_group">VK_KHR_device_group</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_draw_indirect_count">VK_KHR_draw_indirect_count</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_driver_properties">VK_KHR_driver_properties</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_fence">VK_KHR_external_fence</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_fence_capabilities">VK_KHR_external_fence_capabilities</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_memory">VK_KHR_external_memory</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_image_format_list">VK_KHR_image_format_list</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_imageless_framebuffer">VK_KHR_imageless_framebuffer</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_maintenance1">VK_KHR_maintenance1</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_maintenance2">VK_KHR_maintenance2</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_maintenance3">VK_KHR_maintenance3</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_multiview">VK_KHR_multiview</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_relaxed_block_layout">VK_KHR_relaxed_block_layout</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_sampler_mirror_clamp_to_edge">VK_KHR_sampler_mirror_clamp_to_edge</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_separate_depth_stencil_layouts">VK_KHR_separate_depth_stencil_layouts</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_atomic_int64">VK_KHR_shader_atomic_int64</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_draw_parameters">VK_KHR_shader_draw_parameters</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_float16_int8">VK_KHR_shader_float16_int8</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_shader_subgroup_extended_types">VK_KHR_shader_subgroup_extended_types</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_spirv_1_4">VK_KHR_spirv_1_4</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_timeline_semaphore">VK_KHR_timeline_semaphore</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_uniform_buffer_standard_layout">VK_KHR_uniform_buffer_standard_layout</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_variable_pointers">VK_KHR_variable_pointers</a></p>
</li>
<li>
<p><a href="chap47.html#VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</a></p>
</li>
<li>
<p><a href="chap47.html#VK_EXT_load_store_op_none">VK_EXT_load_store_op_none</a></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="VK_KHR_16bit_storage"><a class="anchor" href="chap47.html#VK_KHR_16bit_storage"></a>VK_KHR_16bit_storage</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_16bit_storage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>84</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="chap47.html#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_16bit_storage.html">SPV_KHR_16bit_storage</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_16bit_storage] @janharaldfredriksen-arm%0A*Here describe the issue or question you have about the VK_KHR_16bit_storage extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_89"><a class="anchor" href="chap47.html#_other_extension_metadata_89"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shader_16bit_storage.txt"><code>GL_EXT_shader_16bit_storage</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, ARM</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Joerg Wagner, ARM</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_89"><a class="anchor" href="chap47.html#_description_89"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_16bit_storage</code> extension allows use of 16-bit types in shader
input and output interfaces, and push constant blocks.
This extension introduces several new optional features which map to SPIR-V
capabilities and allow access to 16-bit data in <code>Block</code>-decorated objects
in the <code>Uniform</code> and the <code>StorageBuffer</code> storage classes, and objects
in the <code>PushConstant</code> storage class.
This extension allows 16-bit variables to be declared and used as
user-defined shader inputs and outputs but does not change location
assignment and component assignment rules.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
However, if Vulkan 1.1 is supported and this extension is not, the
<code>storageBuffer16BitAccess</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_88"><a class="anchor" href="chap47.html#_new_structures_88"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDevice16BitStorageFeaturesKHR">VkPhysicalDevice16BitStorageFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_93"><a class="anchor" href="chap47.html#_new_enum_constants_93"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_16BIT_STORAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_16BIT_STORAGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_16BIT_STORAGE_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_15"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_15"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-StorageBuffer16BitAccess"><code>StorageBuffer16BitAccess</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-UniformAndStorageBuffer16BitAccess"><code>UniformAndStorageBuffer16BitAccess</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-StoragePushConstant16"><code>StoragePushConstant16</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-StorageInputOutput16"><code>StorageInputOutput16</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_90"><a class="anchor" href="chap47.html#_version_history_90"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_8bit_storage"><a class="anchor" href="chap47.html#VK_KHR_8bit_storage"></a>VK_KHR_8bit_storage</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_8bit_storage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>178</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="chap47.html#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_8bit_storage.html">SPV_KHR_8bit_storage</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_8bit_storage] @alegal-arm%0A*Here describe the issue or question you have about the VK_KHR_8bit_storage extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_90"><a class="anchor" href="chap47.html#_other_extension_metadata_90"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-02-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shader_16bit_storage.txt"><code>GL_EXT_shader_16bit_storage</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_90"><a class="anchor" href="chap47.html#_description_90"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_8bit_storage</code> extension allows use of 8-bit types in uniform and
storage buffers, and push constant blocks.
This extension introduces several new optional features which map to SPIR-V
capabilities and allow access to 8-bit data in <code>Block</code>-decorated objects
in the <code>Uniform</code> and the <code>StorageBuffer</code> storage classes, and objects
in the <code>PushConstant</code> storage class.</p>
</div>
<div class="paragraph">
<p>The <code>StorageBuffer8BitAccess</code> capability <strong class="purple">must</strong> be supported by all
implementations of this extension.
The other capabilities are optional.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>Functionality in this extension is included in core Vulkan 1.2, with the KHR
suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the
<code>StorageBuffer8BitAccess</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_89"><a class="anchor" href="chap47.html#_new_structures_89"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDevice8BitStorageFeaturesKHR">VkPhysicalDevice8BitStorageFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_94"><a class="anchor" href="chap47.html#_new_enum_constants_94"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_8BIT_STORAGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_8BIT_STORAGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_8BIT_STORAGE_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_16"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_16"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-StorageBuffer8BitAccess"><code>StorageBuffer8BitAccess</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-UniformAndStorageBuffer8BitAccess"><code>UniformAndStorageBuffer8BitAccess</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-StoragePushConstant8"><code>StoragePushConstant8</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_91"><a class="anchor" href="chap47.html#_version_history_91"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-02-05 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_bind_memory2"><a class="anchor" href="chap47.html#VK_KHR_bind_memory2"></a>VK_KHR_bind_memory2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_bind_memory2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>158</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_bind_memory2] @tobski%0A*Here describe the issue or question you have about the VK_KHR_bind_memory2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_91"><a class="anchor" href="chap47.html#_other_extension_metadata_91"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_91"><a class="anchor" href="chap47.html#_description_91"></a>Description</h5>
<div class="paragraph">
<p>This extension provides versions of <a href="chap12.html#vkBindBufferMemory">vkBindBufferMemory</a> and
<a href="chap12.html#vkBindImageMemory">vkBindImageMemory</a> that allow multiple bindings to be performed at
once, and are extensible.</p>
</div>
<div class="paragraph">
<p>This extension also introduces <code>VK_IMAGE_CREATE_ALIAS_BIT_KHR</code>, which
allows “identical” images that alias the same memory to interpret the
contents consistently, even across image layout changes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_2"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_2"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_52"><a class="anchor" href="chap47.html#_new_commands_52"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#vkBindBufferMemory2KHR">vkBindBufferMemory2KHR</a></p>
</li>
<li>
<p><a href="chap12.html#vkBindImageMemory2KHR">vkBindImageMemory2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_90"><a class="anchor" href="chap47.html#_new_structures_90"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBindBufferMemoryInfoKHR">VkBindBufferMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkBindImageMemoryInfoKHR">VkBindImageMemoryInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_95"><a class="anchor" href="chap47.html#_new_enum_constants_95"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_BIND_MEMORY_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_BIND_MEMORY_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_ALIAS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_BUFFER_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_92"><a class="anchor" href="chap47.html#_version_history_92"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-19 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Pulled bind memory functions into their own extension</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_buffer_device_address"><a class="anchor" href="chap47.html#VK_KHR_buffer_device_address"></a>VK_KHR_buffer_device_address</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_buffer_device_address</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>258</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; and<br>
&nbsp;&nbsp;&nbsp;&nbsp; <a href="chap47.html#VK_KHR_device_group">VK_KHR_device_group</a><br>
or<br>
<a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_physical_storage_buffer.html">SPV_KHR_physical_storage_buffer</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_buffer_device_address] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_buffer_device_address extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_92"><a class="anchor" href="chap47.html#_other_extension_metadata_92"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-24</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference.txt"><code>GL_EXT_buffer_reference</code></a>
and
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference2.txt"><code>GL_EXT_buffer_reference2</code></a>
and
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference_uvec2.txt"><code>GL_EXT_buffer_reference_uvec2</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_92"><a class="anchor" href="chap47.html#_description_92"></a>Description</h5>
<div class="paragraph">
<p>This extension allows the application to query a 64-bit buffer device
address value for a buffer, which can be used to access the buffer memory
via the <code>PhysicalStorageBuffer</code> storage class in the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_buffer_reference.txt"><code>GL_EXT_buffer_reference</code></a>
GLSL extension and
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_physical_storage_buffer.html"><code>SPV_KHR_physical_storage_buffer</code></a>
SPIR-V extension.</p>
</div>
<div class="paragraph">
<p>Another way to describe this extension is that it adds “pointers to buffer
memory in shaders”.
By calling <a href="chap14.html#vkGetBufferDeviceAddress">vkGetBufferDeviceAddress</a> with a <code>VkBuffer</code>, it will
return a <a href="chap3.html#VkDeviceAddress">VkDeviceAddress</a> value which represents the address of the
start of the buffer.</p>
</div>
<div class="paragraph">
<p><a href="chap14.html#vkGetBufferOpaqueCaptureAddress">vkGetBufferOpaqueCaptureAddress</a> and
<a href="chap11.html#vkGetDeviceMemoryOpaqueCaptureAddress">vkGetDeviceMemoryOpaqueCaptureAddress</a> allow opaque addresses for
buffers and memory objects to be queried for the current process.
A trace capture and replay tool can then supply these addresses to be used
at replay time to match the addresses used when the trace was captured.
To enable tools to insert these queries, new memory allocation flags must be
specified for memory objects that will be bound to buffers accessed via the
<code>PhysicalStorageBuffer</code> storage class.
<strong>Note that this mechanism is intended only to support capture/replay tools,
and is not recommended for use in other applications.</strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_2"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_2"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the
<code>bufferDeviceAddress</code> feature is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_3_10"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_3_10"></a>Promotion to Vulkan 1.3</h5>
<div class="paragraph">
<p>Support for the <code>bufferDeviceAddress</code> feature is mandatory in Vulkan 1.3,
regardless of whether this extension is supported.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_53"><a class="anchor" href="chap47.html#_new_commands_53"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#vkGetBufferDeviceAddressKHR">vkGetBufferDeviceAddressKHR</a></p>
</li>
<li>
<p><a href="chap14.html#vkGetBufferOpaqueCaptureAddressKHR">vkGetBufferOpaqueCaptureAddressKHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkGetDeviceMemoryOpaqueCaptureAddressKHR">vkGetDeviceMemoryOpaqueCaptureAddressKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_91"><a class="anchor" href="chap47.html#_new_structures_91"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#VkBufferDeviceAddressInfoKHR">VkBufferDeviceAddressInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkDeviceMemoryOpaqueCaptureAddressInfoKHR">VkDeviceMemoryOpaqueCaptureAddressInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkBufferCreateInfo">VkBufferCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBufferOpaqueCaptureAddressCreateInfoKHR">VkBufferOpaqueCaptureAddressCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkMemoryOpaqueCaptureAddressAllocateInfoKHR">VkMemoryOpaqueCaptureAddressAllocateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceBufferDeviceAddressFeaturesKHR">VkPhysicalDeviceBufferDeviceAddressFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_96"><a class="anchor" href="chap47.html#_new_enum_constants_96"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_BUFFER_DEVICE_ADDRESS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_BUFFER_DEVICE_ADDRESS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_CREATE_DEVICE_ADDRESS_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_SHADER_DEVICE_ADDRESS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkMemoryAllocateFlagBits">VkMemoryAllocateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_ALLOCATE_DEVICE_ADDRESS_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_MEMORY_ALLOCATE_DEVICE_ADDRESS_CAPTURE_REPLAY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_OPAQUE_CAPTURE_ADDRESS_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_DEVICE_ADDRESS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_OPAQUE_CAPTURE_ADDRESS_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_MEMORY_OPAQUE_CAPTURE_ADDRESS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_OPAQUE_CAPTURE_ADDRESS_ALLOCATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BUFFER_DEVICE_ADDRESS_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_17"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_17"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-PhysicalStorageBufferAddresses"><code>PhysicalStorageBufferAddresses</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_93"><a class="anchor" href="chap47.html#_version_history_93"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-06-24 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions based on VK_EXT_buffer_device_address</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_create_renderpass2"><a class="anchor" href="chap47.html#VK_KHR_create_renderpass2"></a>VK_KHR_create_renderpass2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_create_renderpass2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>110</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_multiview">VK_KHR_multiview</a><br>
and<br>
<a href="chap47.html#VK_KHR_maintenance2">VK_KHR_maintenance2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_create_renderpass2] @tobias%0A*Here describe the issue or question you have about the VK_KHR_create_renderpass2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobias</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_93"><a class="anchor" href="chap47.html#_other_extension_metadata_93"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-02-07</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector</p>
</li>
<li>
<p>Jeff Bolz</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_93"><a class="anchor" href="chap47.html#_description_93"></a>Description</h5>
<div class="paragraph">
<p>This extension provides a new entry point to create render passes in a way
that can be easily extended by other extensions through the substructures of
render pass creation.
The Vulkan 1.0 render pass creation sub-structures do not include
<code>sType</code>/<code>pNext</code> members.
Additionally, the render pass begin/next/end commands have been augmented
with new extensible structures for passing additional subpass information.</p>
</div>
<div class="paragraph">
<p>The <a href="chap8.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a> and
<a href="chap8.html#VkInputAttachmentAspectReference">VkInputAttachmentAspectReference</a> structures that extended the original
<a href="chap8.html#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a> are not accepted into the new creation
functions, and instead their parameters are folded into this extension as
follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Elements of <a href="chap8.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>pViewMasks</code> are
now specified in <a href="chap8.html#VkSubpassDescription2KHR">VkSubpassDescription2KHR</a>::<code>viewMask</code>.</p>
</li>
<li>
<p>Elements of <a href="chap8.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>pViewOffsets</code>
are now specified in <a href="chap8.html#VkSubpassDependency2KHR">VkSubpassDependency2KHR</a>::<code>viewOffset</code>.</p>
</li>
<li>
<p><a href="chap8.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>correlationMaskCount</code> and
<a href="chap8.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>pCorrelationMasks</code> are
directly specified in <a href="chap8.html#VkRenderPassCreateInfo2KHR">VkRenderPassCreateInfo2KHR</a>.</p>
</li>
<li>
<p><a href="chap8.html#VkInputAttachmentAspectReference">VkInputAttachmentAspectReference</a>::<code>aspectMask</code> is now
specified in the relevant input attachment reference in
<a href="chap8.html#VkAttachmentReference2KHR">VkAttachmentReference2KHR</a>::<code>aspectMask</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The details of these mappings are explained fully in the new structures.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_3"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_3"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_54"><a class="anchor" href="chap47.html#_new_commands_54"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#vkCmdBeginRenderPass2KHR">vkCmdBeginRenderPass2KHR</a></p>
</li>
<li>
<p><a href="chap8.html#vkCmdEndRenderPass2KHR">vkCmdEndRenderPass2KHR</a></p>
</li>
<li>
<p><a href="chap8.html#vkCmdNextSubpass2KHR">vkCmdNextSubpass2KHR</a></p>
</li>
<li>
<p><a href="chap8.html#vkCreateRenderPass2KHR">vkCreateRenderPass2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_92"><a class="anchor" href="chap47.html#_new_structures_92"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkAttachmentDescription2KHR">VkAttachmentDescription2KHR</a></p>
</li>
<li>
<p><a href="chap8.html#VkAttachmentReference2KHR">VkAttachmentReference2KHR</a></p>
</li>
<li>
<p><a href="chap8.html#VkRenderPassCreateInfo2KHR">VkRenderPassCreateInfo2KHR</a></p>
</li>
<li>
<p><a href="chap8.html#VkSubpassBeginInfoKHR">VkSubpassBeginInfoKHR</a></p>
</li>
<li>
<p><a href="chap8.html#VkSubpassDependency2KHR">VkSubpassDependency2KHR</a></p>
</li>
<li>
<p><a href="chap8.html#VkSubpassDescription2KHR">VkSubpassDescription2KHR</a></p>
</li>
<li>
<p><a href="chap8.html#VkSubpassEndInfoKHR">VkSubpassEndInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_97"><a class="anchor" href="chap47.html#_new_enum_constants_97"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_CREATE_RENDERPASS_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_CREATE_RENDERPASS_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_DEPENDENCY_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_DESCRIPTION_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_END_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_94"><a class="anchor" href="chap47.html#_version_history_94"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-02-07 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_dedicated_allocation"><a class="anchor" href="chap47.html#VK_KHR_dedicated_allocation"></a>VK_KHR_dedicated_allocation</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_dedicated_allocation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>128</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_dedicated_allocation] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_dedicated_allocation extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_94"><a class="anchor" href="chap47.html#_other_extension_metadata_94"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_94"><a class="anchor" href="chap47.html#_description_94"></a>Description</h5>
<div class="paragraph">
<p>This extension enables resources to be bound to a dedicated allocation,
rather than suballocated.
For any particular resource, applications <strong class="purple">can</strong> query whether a dedicated
allocation is recommended, in which case using a dedicated allocation <strong class="purple">may</strong>
improve the performance of access to that resource.
Normal device memory allocations must support multiple resources per
allocation, memory aliasing and sparse binding, which could interfere with
some optimizations.
Applications should query the implementation for when a dedicated allocation
<strong class="purple">may</strong> be beneficial by adding a <code>VkMemoryDedicatedRequirementsKHR</code>
structure to the <code>pNext</code> chain of the <code>VkMemoryRequirements2</code>
structure passed as the <code>pMemoryRequirements</code> parameter of a call to
<code>vkGetBufferMemoryRequirements2</code> or <code>vkGetImageMemoryRequirements2</code>.
Certain external handle types and external images or buffers <strong class="purple">may</strong> also
depend on dedicated allocations on implementations that associate image or
buffer metadata with OS-level memory objects.</p>
</div>
<div class="paragraph">
<p>This extension adds a two small structures to memory requirements querying
and memory allocation: a new structure that flags whether an image/buffer
should have a dedicated allocation, and a structure indicating the image or
buffer that an allocation will be bound to.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_3"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_3"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_93"><a class="anchor" href="chap47.html#_new_structures_93"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap11.html#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkMemoryDedicatedAllocateInfoKHR">VkMemoryDedicatedAllocateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkMemoryRequirements2">VkMemoryRequirements2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkMemoryDedicatedRequirementsKHR">VkMemoryDedicatedRequirementsKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_98"><a class="anchor" href="chap47.html#_new_enum_constants_98"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DEDICATED_ALLOCATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DEDICATED_ALLOCATION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_DEDICATED_ALLOCATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_DEDICATED_REQUIREMENTS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_examples_11"><a class="anchor" href="chap47.html#_examples_11"></a>Examples</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++">    <span class="c1">// Create an image with a dedicated allocation based on the</span>
    <span class="c1">// implementation's preference</span>

    <span class="n">VkImageCreateInfo</span> <span class="n">imageCreateInfo</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="c1">// Image creation parameters</span>
    <span class="p">};</span>

    <span class="n">VkImage</span> <span class="n">image</span><span class="p">;</span>
    <span class="n">VkResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">vkCreateImage</span><span class="p">(</span>
        <span class="n">device</span><span class="p">,</span>
        <span class="o">&amp;</span><span class="n">imageCreateInfo</span><span class="p">,</span>
        <span class="nb">NULL</span><span class="p">,</span>               <span class="c1">// pAllocator</span>
        <span class="o">&amp;</span><span class="n">image</span><span class="p">);</span>

    <span class="n">VkMemoryDedicatedRequirementsKHR</span> <span class="n">dedicatedRequirements</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_MEMORY_DEDICATED_REQUIREMENTS_KHR</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="n">VkMemoryRequirements2</span> <span class="n">memoryRequirements</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_MEMORY_REQUIREMENTS_2</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">dedicatedRequirements</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="k">const</span> <span class="n">VkImageMemoryRequirementsInfo2</span> <span class="n">imageRequirementsInfo</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_IMAGE_MEMORY_REQUIREMENTS_INFO_2</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span>
    <span class="p">};</span>

    <span class="n">vkGetImageMemoryRequirements2</span><span class="p">(</span>
        <span class="n">device</span><span class="p">,</span>
        <span class="o">&amp;</span><span class="n">imageRequirementsInfo</span><span class="p">,</span>
        <span class="o">&amp;</span><span class="n">memoryRequirements</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">dedicatedRequirements</span><span class="p">.</span><span class="n">prefersDedicatedAllocation</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Allocate memory with VkMemoryDedicatedAllocateInfoKHR::image</span>
        <span class="c1">// pointing to the image we are allocating the memory for</span>

        <span class="n">VkMemoryDedicatedAllocateInfoKHR</span> <span class="n">dedicatedInfo</span> <span class="o">=</span>
        <span class="p">{</span>
            <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_MEMORY_DEDICATED_ALLOCATE_INFO_KHR</span><span class="p">,</span>
            <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
            <span class="p">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="p">,</span>
            <span class="p">.</span><span class="n">buffer</span> <span class="o">=</span> <span class="n">VK_NULL_HANDLE</span><span class="p">,</span>
        <span class="p">};</span>

        <span class="n">VkMemoryAllocateInfo</span> <span class="n">memoryAllocateInfo</span> <span class="o">=</span>
        <span class="p">{</span>
            <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</span><span class="p">,</span>
            <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">dedicatedInfo</span><span class="p">,</span>
            <span class="p">.</span><span class="n">allocationSize</span> <span class="o">=</span> <span class="n">memoryRequirements</span><span class="p">.</span><span class="n">size</span><span class="p">,</span>
            <span class="p">.</span><span class="n">memoryTypeIndex</span> <span class="o">=</span> <span class="n">FindMemoryTypeIndex</span><span class="p">(</span><span class="n">memoryRequirements</span><span class="p">.</span><span class="n">memoryTypeBits</span><span class="p">),</span>
        <span class="p">};</span>

        <span class="n">VkDeviceMemory</span> <span class="n">memory</span><span class="p">;</span>
        <span class="n">vkAllocateMemory</span><span class="p">(</span>
            <span class="n">device</span><span class="p">,</span>
            <span class="o">&amp;</span><span class="n">memoryAllocateInfo</span><span class="p">,</span>
            <span class="nb">NULL</span><span class="p">,</span>               <span class="c1">// pAllocator</span>
            <span class="o">&amp;</span><span class="n">memory</span><span class="p">);</span>

        <span class="c1">// Bind the image to the memory</span>

        <span class="n">vkBindImageMemory</span><span class="p">(</span>
            <span class="n">device</span><span class="p">,</span>
            <span class="n">image</span><span class="p">,</span>
            <span class="n">memory</span><span class="p">,</span>
            <span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Take the normal memory sub-allocation path</span>
    <span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_95"><a class="anchor" href="chap47.html#_version_history_95"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Copy content from VK_NV_dedicated_allocation</p>
</li>
<li>
<p>Add some references to external object interactions to the overview.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-03-27 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Rework the extension to be query-based</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-07-31 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify that memory objects allocated with
VkMemoryDedicatedAllocateInfoKHR can only have the specified resource
bound and no others.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_depth_stencil_resolve"><a class="anchor" href="chap47.html#VK_KHR_depth_stencil_resolve"></a>VK_KHR_depth_stencil_resolve</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_depth_stencil_resolve</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>200</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_depth_stencil_resolve] @janharald%0A*Here describe the issue or question you have about the VK_KHR_depth_stencil_resolve extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>janharald</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_95"><a class="anchor" href="chap47.html#_other_extension_metadata_95"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-04-09</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Andrew Garrard, Samsung Electronics</p>
</li>
<li>
<p>Soowan Park, Samsung Electronics</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_95"><a class="anchor" href="chap47.html#_description_95"></a>Description</h5>
<div class="paragraph">
<p>This extension adds support for automatically resolving multisampled
depth/stencil attachments in a subpass in a similar manner as for color
attachments.</p>
</div>
<div class="paragraph">
<p>Multisampled color attachments can be resolved at the end of a subpass by
specifying <code>pResolveAttachments</code> entries corresponding to the
<code>pColorAttachments</code> array entries.
This does not allow for a way to map the resolve attachments to the
depth/stencil attachment.
The <a href="chap19.html#vkCmdResolveImage">vkCmdResolveImage</a> command does not allow for depth/stencil images.
While there are other ways to resolve the depth/stencil attachment, they can
give sub-optimal performance.
Extending the <code>VkSubpassDescription2</code> in this extension allows an
application to add a <code>pDepthStencilResolveAttachment</code>, that is similar
to the color <code>pResolveAttachments</code>, that the
<code>pDepthStencilAttachment</code> can be resolved into.</p>
</div>
<div class="paragraph">
<p>Depth and stencil samples are resolved to a single value based on the
resolve mode.
The set of possible resolve modes is defined in the
<a href="chap8.html#VkResolveModeFlagBits">VkResolveModeFlagBits</a> enum.
The <code>VK_RESOLVE_MODE_SAMPLE_ZERO_BIT</code> mode is the only mode that is
required of all implementations (that support the extension or support
Vulkan 1.2 or higher).
Some implementations may also support averaging (the same as color sample
resolve) or taking the minimum or maximum sample, which may be more suitable
for depth/stencil resolve.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_4"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_4"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_94"><a class="anchor" href="chap47.html#_new_structures_94"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceDepthStencilResolvePropertiesKHR">VkPhysicalDeviceDepthStencilResolvePropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap8.html#VkSubpassDescription2">VkSubpassDescription2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkSubpassDescriptionDepthStencilResolveKHR">VkSubpassDescriptionDepthStencilResolveKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_34"><a class="anchor" href="chap47.html#_new_enums_34"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkResolveModeFlagBitsKHR">VkResolveModeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_30"><a class="anchor" href="chap47.html#_new_bitmasks_30"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkResolveModeFlagsKHR">VkResolveModeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_99"><a class="anchor" href="chap47.html#_new_enum_constants_99"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DEPTH_STENCIL_RESOLVE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DEPTH_STENCIL_RESOLVE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap8.html#VkResolveModeFlagBits">VkResolveModeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_RESOLVE_MODE_AVERAGE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_RESOLVE_MODE_MAX_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_RESOLVE_MODE_MIN_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_RESOLVE_MODE_NONE_KHR</code></p>
</li>
<li>
<p><code>VK_RESOLVE_MODE_SAMPLE_ZERO_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DEPTH_STENCIL_RESOLVE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_DESCRIPTION_DEPTH_STENCIL_RESOLVE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_96"><a class="anchor" href="chap47.html#_version_history_96"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-04-09 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_descriptor_update_template"><a class="anchor" href="chap47.html#VK_KHR_descriptor_update_template"></a>VK_KHR_descriptor_update_template</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_descriptor_update_template</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>86</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_EXT_debug_report</p>
</li>
<li>
<p>Interacts with VK_KHR_push_descriptor</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Markus Tavenrath <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_descriptor_update_template] @mtavenrath%0A*Here describe the issue or question you have about the VK_KHR_descriptor_update_template extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>mtavenrath</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_96"><a class="anchor" href="chap47.html#_other_extension_metadata_96"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="chap47.html#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_96"><a class="anchor" href="chap47.html#_description_96"></a>Description</h5>
<div class="paragraph">
<p>Applications may wish to update a fixed set of descriptors in a large number
of descriptor sets very frequently, i.e. during initialization phase or if
it is required to rebuild descriptor sets for each frame.
For those cases it is also not unlikely that all information required to
update a single descriptor set is stored in a single struct.
This extension provides a way to update a fixed set of descriptors in a
single <a href="chap14.html#VkDescriptorSet">VkDescriptorSet</a> with a pointer to a user defined data structure
describing the new descriptors.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_4"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_4"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p><a href="chap14.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a> is included as an interaction
with <code><a href="chap47.html#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code>.
If Vulkan 1.1 and <code>VK_KHR_push_descriptor</code> are supported, this is included
by <code><a href="chap47.html#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code>.</p>
</div>
<div class="paragraph">
<p>The base functionality in this extension is included in core Vulkan 1.1,
with the KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_object_types_11"><a class="anchor" href="chap47.html#_new_object_types_11"></a>New Object Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#VkDescriptorUpdateTemplateKHR">VkDescriptorUpdateTemplateKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_55"><a class="anchor" href="chap47.html#_new_commands_55"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#vkCreateDescriptorUpdateTemplateKHR">vkCreateDescriptorUpdateTemplateKHR</a></p>
</li>
<li>
<p><a href="chap14.html#vkDestroyDescriptorUpdateTemplateKHR">vkDestroyDescriptorUpdateTemplateKHR</a></p>
</li>
<li>
<p><a href="chap14.html#vkUpdateDescriptorSetWithTemplateKHR">vkUpdateDescriptorSetWithTemplateKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_95"><a class="anchor" href="chap47.html#_new_structures_95"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#VkDescriptorUpdateTemplateCreateInfoKHR">VkDescriptorUpdateTemplateCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap14.html#VkDescriptorUpdateTemplateEntryKHR">VkDescriptorUpdateTemplateEntryKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_35"><a class="anchor" href="chap47.html#_new_enums_35"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#VkDescriptorUpdateTemplateTypeKHR">VkDescriptorUpdateTemplateTypeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_31"><a class="anchor" href="chap47.html#_new_bitmasks_31"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#VkDescriptorUpdateTemplateCreateFlagsKHR">VkDescriptorUpdateTemplateCreateFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_100"><a class="anchor" href="chap47.html#_new_enum_constants_100"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DESCRIPTOR_UPDATE_TEMPLATE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DESCRIPTOR_UPDATE_TEMPLATE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap14.html#VkDescriptorUpdateTemplateType">VkDescriptorUpdateTemplateType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap42.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap14.html#VkDescriptorUpdateTemplateType">VkDescriptorUpdateTemplateType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_97"><a class="anchor" href="chap47.html#_version_history_97"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-01-11 (Markus Tavenrath)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_device_group"><a class="anchor" href="chap47.html#VK_KHR_device_group"></a>VK_KHR_device_group</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_device_group</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>61</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_KHR_bind_memory2</p>
</li>
<li>
<p>Interacts with VK_KHR_surface</p>
</li>
<li>
<p>Interacts with VK_KHR_swapchain</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_device_group.html">SPV_KHR_device_group</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_device_group] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_device_group extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_97"><a class="anchor" href="chap47.html#_other_extension_metadata_97"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_97"><a class="anchor" href="chap47.html#_description_97"></a>Description</h5>
<div class="paragraph">
<p>This extension provides functionality to use a logical device that consists
of multiple physical devices, as created with the
<code><a href="chap47.html#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a></code> extension.
A device group can allocate memory across the subdevices, bind memory from
one subdevice to a resource on another subdevice, record command buffers
where some work executes on an arbitrary subset of the subdevices, and
potentially present a swapchain image from one or more subdevices.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_5"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_5"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>The following enums, types and commands are included as interactions with
<code><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_SWAPCHAIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
<li>
<p><a href="chap30.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkImageSwapchainCreateInfoKHR">VkImageSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkBindImageMemorySwapchainInfoKHR">VkBindImageMemorySwapchainInfoKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a></p>
</li>
<li>
<p><a href="chap30.html#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetDeviceGroupPresentCapabilitiesKHR">vkGetDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetDeviceGroupSurfacePresentModesKHR">vkGetDeviceGroupSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDevicePresentRectanglesKHR">vkGetPhysicalDevicePresentRectanglesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If Vulkan 1.1 and <code><a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a></code> are supported, these are
included by <code>VK_KHR_swapchain</code>.</p>
</div>
<div class="paragraph">
<p>The base functionality in this extension is included in core Vulkan 1.1,
with the KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_56"><a class="anchor" href="chap47.html#_new_commands_56"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap28.html#vkCmdDispatchBaseKHR">vkCmdDispatchBaseKHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkCmdSetDeviceMaskKHR">vkCmdSetDeviceMaskKHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkGetDeviceGroupPeerMemoryFeaturesKHR">vkGetDeviceGroupPeerMemoryFeaturesKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkGetDeviceGroupPresentCapabilitiesKHR">vkGetDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetDeviceGroupSurfacePresentModesKHR">vkGetDeviceGroupSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDevicePresentRectanglesKHR">vkGetPhysicalDevicePresentRectanglesKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_96"><a class="anchor" href="chap47.html#_new_structures_96"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap29.html#VkBindSparseInfo">VkBindSparseInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap29.html#VkDeviceGroupBindSparseInfoKHR">VkDeviceGroupBindSparseInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkCommandBufferBeginInfo">VkCommandBufferBeginInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkDeviceGroupCommandBufferBeginInfoKHR">VkDeviceGroupCommandBufferBeginInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkMemoryAllocateFlagsInfoKHR">VkMemoryAllocateFlagsInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap8.html#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a>, <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkDeviceGroupRenderPassBeginInfoKHR">VkDeviceGroupRenderPassBeginInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkSubmitInfo">VkSubmitInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkDeviceGroupSubmitInfoKHR">VkDeviceGroupSubmitInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkBindBufferMemoryInfo">VkBindBufferMemoryInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBindBufferMemoryDeviceGroupInfoKHR">VkBindBufferMemoryDeviceGroupInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkBindImageMemoryInfo">VkBindImageMemoryInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBindImageMemoryDeviceGroupInfoKHR">VkBindImageMemoryDeviceGroupInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkBindImageMemoryInfo">VkBindImageMemoryInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBindImageMemorySwapchainInfoKHR">VkBindImageMemorySwapchainInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkImageSwapchainCreateInfoKHR">VkImageSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap30.html#VkPresentInfoKHR">VkPresentInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap30.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_36"><a class="anchor" href="chap47.html#_new_enums_36"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkMemoryAllocateFlagBitsKHR">VkMemoryAllocateFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkPeerMemoryFeatureFlagBitsKHR">VkPeerMemoryFeatureFlagBitsKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_32"><a class="anchor" href="chap47.html#_new_bitmasks_32"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkMemoryAllocateFlagsKHR">VkMemoryAllocateFlagsKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkPeerMemoryFeatureFlagsKHR">VkPeerMemoryFeatureFlagsKHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeviceGroupPresentModeFlagsKHR">VkDeviceGroupPresentModeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_101"><a class="anchor" href="chap47.html#_new_enum_constants_101"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DEVICE_GROUP_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DEVICE_GROUP_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkDependencyFlagBits">VkDependencyFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPENDENCY_DEVICE_GROUP_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkMemoryAllocateFlagBits">VkMemoryAllocateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_ALLOCATE_DEVICE_MASK_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkPeerMemoryFeatureFlagBits">VkPeerMemoryFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PEER_MEMORY_FEATURE_COPY_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PEER_MEMORY_FEATURE_COPY_SRC_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PEER_MEMORY_FEATURE_GENERIC_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PEER_MEMORY_FEATURE_GENERIC_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_DISPATCH_BASE_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_VIEW_INDEX_FROM_DEVICE_INDEX_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_BIND_SPARSE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_COMMAND_BUFFER_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_RENDER_PASS_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_FLAGS_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_BUFFER_MEMORY_DEVICE_GROUP_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_DEVICE_GROUP_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_surface">VK_KHR_surface</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#VK_KHR_swapchain">VK_KHR_swapchain</a> is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_SWAPCHAIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap30.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_built_in_variables_4"><a class="anchor" href="chap47.html#_new_built_in_variables_4"></a>New Built-in Variables</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-deviceindex"><code>DeviceIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_18"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_18"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-DeviceGroup"><code>DeviceGroup</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_98"><a class="anchor" href="chap47.html#_version_history_98"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-19 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-05-19 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Removed extended memory bind functions to VK_KHR_bind_memory2, added
dependency on that extension, and device-group-specific structs for
those functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-10-06 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected Vulkan 1.1 interactions with the WSI extensions.
All Vulkan 1.1 WSI interactions are with the VK_KHR_swapchain
extension.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2017-10-10 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Rename “SFR” bits and structure members to use the phrase “split
instance bind regions”.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_device_group_creation"><a class="anchor" href="chap47.html#VK_KHR_device_group_creation"></a>VK_KHR_device_group_creation</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_device_group_creation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>71</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_device_group_creation] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_device_group_creation extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_98"><a class="anchor" href="chap47.html#_other_extension_metadata_98"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_98"><a class="anchor" href="chap47.html#_description_98"></a>Description</h5>
<div class="paragraph">
<p>This extension provides instance-level commands to enumerate groups of
physical devices, and to create a logical device from a subset of one of
those groups.
Such a logical device can then be used with new features in the
<code><a href="chap47.html#VK_KHR_device_group">VK_KHR_device_group</a></code> extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_6"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_6"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_57"><a class="anchor" href="chap47.html#_new_commands_57"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#vkEnumeratePhysicalDeviceGroupsKHR">vkEnumeratePhysicalDeviceGroupsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_97"><a class="anchor" href="chap47.html#_new_structures_97"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkPhysicalDeviceGroupPropertiesKHR">VkPhysicalDeviceGroupPropertiesKHR</a></p>
</li>
<li>
<p>Extending <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkDeviceGroupDeviceCreateInfoKHR">VkDeviceGroupDeviceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_102"><a class="anchor" href="chap47.html#_new_enum_constants_102"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DEVICE_GROUP_CREATION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DEVICE_GROUP_CREATION_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_MAX_DEVICE_GROUP_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="chap11.html#VkMemoryHeapFlagBits">VkMemoryHeapFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_HEAP_MULTI_INSTANCE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_DEVICE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GROUP_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_examples_12"><a class="anchor" href="chap47.html#_examples_12"></a>Examples</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++">    <span class="n">VkDeviceCreateInfo</span> <span class="n">devCreateInfo</span> <span class="o">=</span> <span class="p">{</span> <span class="n">VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO</span> <span class="p">};</span>
    <span class="c1">// (not shown) fill out devCreateInfo as usual.</span>
    <span class="kt">uint32_t</span> <span class="n">deviceGroupCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">VkPhysicalDeviceGroupPropertiesKHR</span> <span class="o">*</span><span class="n">props</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

    <span class="c1">// Query the number of device groups</span>
    <span class="n">vkEnumeratePhysicalDeviceGroupsKHR</span><span class="p">(</span><span class="n">g_vkInstance</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">deviceGroupCount</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

    <span class="c1">// Allocate and initialize structures to query the device groups</span>
    <span class="n">props</span> <span class="o">=</span> <span class="p">(</span><span class="n">VkPhysicalDeviceGroupPropertiesKHR</span> <span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">deviceGroupCount</span><span class="o">*</span><span class="k">sizeof</span><span class="p">(</span><span class="n">VkPhysicalDeviceGroupPropertiesKHR</span><span class="p">));</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">deviceGroupCount</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">props</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GROUP_PROPERTIES_KHR</span><span class="p">;</span>
        <span class="n">props</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">vkEnumeratePhysicalDeviceGroupsKHR</span><span class="p">(</span><span class="n">g_vkInstance</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">deviceGroupCount</span><span class="p">,</span> <span class="n">props</span><span class="p">);</span>

    <span class="c1">// If the first device group has more than one physical device. create</span>
    <span class="c1">// a logical device using all of the physical devices.</span>
    <span class="n">VkDeviceGroupDeviceCreateInfoKHR</span> <span class="n">deviceGroupInfo</span> <span class="o">=</span> <span class="p">{</span> <span class="n">VK_STRUCTURE_TYPE_DEVICE_GROUP_DEVICE_CREATE_INFO_KHR</span> <span class="p">};</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">props</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">physicalDeviceCount</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">deviceGroupInfo</span><span class="p">.</span><span class="n">physicalDeviceCount</span> <span class="o">=</span> <span class="n">props</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">physicalDeviceCount</span><span class="p">;</span>
        <span class="n">deviceGroupInfo</span><span class="p">.</span><span class="n">pPhysicalDevices</span> <span class="o">=</span> <span class="n">props</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">physicalDevices</span><span class="p">;</span>
        <span class="n">devCreateInfo</span><span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">deviceGroupInfo</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">vkCreateDevice</span><span class="p">(</span><span class="n">props</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">physicalDevices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">&amp;</span><span class="n">devCreateInfo</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">g_vkDevice</span><span class="p">);</span>
    <span class="n">free</span><span class="p">(</span><span class="n">props</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_99"><a class="anchor" href="chap47.html#_version_history_99"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-19 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_draw_indirect_count"><a class="anchor" href="chap47.html#VK_KHR_draw_indirect_count"></a>VK_KHR_draw_indirect_count</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_draw_indirect_count</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>170</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_draw_indirect_count] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_KHR_draw_indirect_count extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_99"><a class="anchor" href="chap47.html#_other_extension_metadata_99"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Derrick Owens, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_99"><a class="anchor" href="chap47.html#_description_99"></a>Description</h5>
<div class="paragraph">
<p>This extension is based on the <code><code>VK_AMD_draw_indirect_count</code></code>
extension.
This extension allows an application to source the number of draws for
indirect drawing calls from a buffer.</p>
</div>
<div class="paragraph">
<p>Applications might want to do culling on the GPU via a compute shader prior
to drawing.
This enables the application to generate an arbitrary number of drawing
commands and execute them without host intervention.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_5"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_5"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the entry
points <a href="chap20.html#vkCmdDrawIndirectCount">vkCmdDrawIndirectCount</a> and <a href="chap20.html#vkCmdDrawIndexedIndirectCount">vkCmdDrawIndexedIndirectCount</a>
are optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_58"><a class="anchor" href="chap47.html#_new_commands_58"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap20.html#vkCmdDrawIndexedIndirectCountKHR">vkCmdDrawIndexedIndirectCountKHR</a></p>
</li>
<li>
<p><a href="chap20.html#vkCmdDrawIndirectCountKHR">vkCmdDrawIndirectCountKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_103"><a class="anchor" href="chap47.html#_new_enum_constants_103"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DRAW_INDIRECT_COUNT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DRAW_INDIRECT_COUNT_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_100"><a class="anchor" href="chap47.html#_version_history_100"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-25 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft based on VK_AMD_draw_indirect_count</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_driver_properties"><a class="anchor" href="chap47.html#VK_KHR_driver_properties"></a>VK_KHR_driver_properties</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_driver_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>197</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_driver_properties] @drakos-amd%0A*Here describe the issue or question you have about the VK_KHR_driver_properties extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_100"><a class="anchor" href="chap47.html#_other_extension_metadata_100"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-04-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_100"><a class="anchor" href="chap47.html#_description_100"></a>Description</h5>
<div class="paragraph">
<p>This extension provides a new physical device query which allows retrieving
information about the driver implementation, allowing applications to
determine which physical device corresponds to which particular vendor’s
driver, and which conformance test suite version the driver implementation
is compliant with.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_6"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_6"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_98"><a class="anchor" href="chap47.html#_new_structures_98"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkConformanceVersionKHR">VkConformanceVersionKHR</a></p>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkPhysicalDeviceDriverPropertiesKHR">VkPhysicalDeviceDriverPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_37"><a class="anchor" href="chap47.html#_new_enums_37"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkDriverIdKHR">VkDriverIdKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_104"><a class="anchor" href="chap47.html#_new_enum_constants_104"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_DRIVER_PROPERTIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_DRIVER_PROPERTIES_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_MAX_DRIVER_INFO_SIZE_KHR</code></p>
</li>
<li>
<p><code>VK_MAX_DRIVER_NAME_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="chap5.html#VkDriverId">VkDriverId</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DRIVER_ID_AMD_OPEN_SOURCE_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_AMD_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_ARM_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_BROADCOM_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_GGP_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_GOOGLE_SWIFTSHADER_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_IMAGINATION_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_INTEL_OPEN_SOURCE_MESA_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_INTEL_PROPRIETARY_WINDOWS_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_MESA_RADV_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_NVIDIA_PROPRIETARY_KHR</code></p>
</li>
<li>
<p><code>VK_DRIVER_ID_QUALCOMM_PROPRIETARY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DRIVER_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_101"><a class="anchor" href="chap47.html#_version_history_101"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-04-11 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence"><a class="anchor" href="chap47.html#VK_KHR_external_fence"></a>VK_KHR_external_fence</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>114</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_external_fence_capabilities">VK_KHR_external_fence_capabilities</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_fence] @critsec%0A*Here describe the issue or question you have about the VK_KHR_external_fence extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_101"><a class="anchor" href="chap47.html#_other_extension_metadata_101"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="chap47.html#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_101"><a class="anchor" href="chap47.html#_description_101"></a>Description</h5>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to create fences from which non-Vulkan
handles that reference the underlying synchronization primitive can be
exported.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_7"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_7"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_99"><a class="anchor" href="chap47.html#_new_structures_99"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap7.html#VkFenceCreateInfo">VkFenceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkExportFenceCreateInfoKHR">VkExportFenceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_38"><a class="anchor" href="chap47.html#_new_enums_38"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkFenceImportFlagBitsKHR">VkFenceImportFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_33"><a class="anchor" href="chap47.html#_new_bitmasks_33"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkFenceImportFlagsKHR">VkFenceImportFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_105"><a class="anchor" href="chap47.html#_new_enum_constants_105"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkFenceImportFlagBits">VkFenceImportFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FENCE_IMPORT_TEMPORARY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_FENCE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_46"><a class="anchor" href="chap47.html#_issues_46"></a>Issues</h5>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="chap47.html#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code>.
That extension’s issues apply equally to this extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_102"><a class="anchor" href="chap47.html#_version_history_102"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence_capabilities"><a class="anchor" href="chap47.html#VK_KHR_external_fence_capabilities"></a>VK_KHR_external_fence_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>113</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_fence_capabilities] @critsec%0A*Here describe the issue or question you have about the VK_KHR_external_fence_capabilities extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_102"><a class="anchor" href="chap47.html#_other_extension_metadata_102"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="chap47.html#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_102"><a class="anchor" href="chap47.html#_description_102"></a>Description</h5>
<div class="paragraph">
<p>An application may wish to reference device fences in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of “external” fence
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_8"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_8"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_59"><a class="anchor" href="chap47.html#_new_commands_59"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#vkGetPhysicalDeviceExternalFencePropertiesKHR">vkGetPhysicalDeviceExternalFencePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_100"><a class="anchor" href="chap47.html#_new_structures_100"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkExternalFencePropertiesKHR">VkExternalFencePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkPhysicalDeviceExternalFenceInfoKHR">VkPhysicalDeviceExternalFenceInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkPhysicalDeviceIDPropertiesKHR">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_39"><a class="anchor" href="chap47.html#_new_enums_39"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkExternalFenceFeatureFlagBitsKHR">VkExternalFenceFeatureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkExternalFenceHandleTypeFlagBitsKHR">VkExternalFenceHandleTypeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_34"><a class="anchor" href="chap47.html#_new_bitmasks_34"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkExternalFenceFeatureFlagsKHR">VkExternalFenceFeatureFlagsKHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkExternalFenceHandleTypeFlagsKHR">VkExternalFenceHandleTypeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_106"><a class="anchor" href="chap47.html#_new_enum_constants_106"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_CAPABILITIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_FENCE_CAPABILITIES_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="chap41.html#VkExternalFenceFeatureFlagBits">VkExternalFenceFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_FENCE_FEATURE_EXPORTABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_FEATURE_IMPORTABLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap41.html#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_FENCE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_FENCE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_103"><a class="anchor" href="chap47.html#_version_history_103"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-08 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory"><a class="anchor" href="chap47.html#VK_KHR_external_memory"></a>VK_KHR_external_memory</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>73</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_memory] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_memory extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_103"><a class="anchor" href="chap47.html#_other_extension_metadata_103"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="chap47.html#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Interacts with <code><code>VK_NV_dedicated_allocation</code></code>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Lina Versace, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_103"><a class="anchor" href="chap47.html#_description_103"></a>Description</h5>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export non-Vulkan handles from
Vulkan memory objects such that the underlying resources can be referenced
outside the scope of the Vulkan logical device that created them.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_9"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_9"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_101"><a class="anchor" href="chap47.html#_new_structures_101"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkBufferCreateInfo">VkBufferCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkExternalMemoryBufferCreateInfoKHR">VkExternalMemoryBufferCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkExternalMemoryImageCreateInfoKHR">VkExternalMemoryImageCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkExportMemoryAllocateInfoKHR">VkExportMemoryAllocateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_107"><a class="anchor" href="chap47.html#_new_enum_constants_107"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_EXTERNAL_HANDLE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_ALLOCATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_BUFFER_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_IMAGE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_47"><a class="anchor" href="chap47.html#_issues_47"></a>Issues</h5>
<div class="paragraph">
<p>1) How do applications correlate two physical devices across process or
Vulkan instance boundaries?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: New device ID fields have been introduced by
<code><a href="chap47.html#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a></code>.
These fields, combined with the existing
<a href="chap5.html#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>driverVersion</code> field can be used to
identify compatible devices across processes, drivers, and APIs.
<a href="chap5.html#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>pipelineCacheUUID</code> is not sufficient
for this purpose because despite its description in the specification, it
need only identify a unique pipeline cache format in practice.
Multiple devices may be able to use the same pipeline cache data, and hence
it would be desirable for all of them to have the same pipeline cache UUID.
However, only the same concrete physical device can be used when sharing
memory, so an actual unique device ID was introduced.
Further, the pipeline cache UUID was specific to Vulkan, but correlation
with other, non-extensible APIs is required to enable interoperation with
those APIs.</p>
</div>
<div class="paragraph">
<p>2) If memory objects are shared between processes and APIs, is this
considered aliasing according to the rules outlined in the
<a href="chap12.html#resources-memory-aliasing">Memory Aliasing</a> section?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications must take care to obey all restrictions imposed on aliased
resources when using memory across multiple Vulkan instances or other APIs.</p>
</div>
<div class="paragraph">
<p>3) Are new image layouts or metadata required to specify image layouts and
layout transitions compatible with non-Vulkan APIs, or with other instances
of the same Vulkan driver?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Separate instances of the same Vulkan driver running on the same
GPU should have identical internal layout semantics, so applications have
the tools they need to ensure views of images are consistent between the two
instances.
Other APIs will fall into two categories: Those that are Vulkan- compatible,
and those that are Vulkan-incompatible.
Vulkan-incompatible APIs will require the image to be in the GENERAL layout
whenever they are accessing them.</p>
</div>
<div class="paragraph">
<p>Note this does not attempt to address cross-device transitions, nor
transitions to engines on the same device which are not visible within the
Vulkan API.
Both of these are beyond the scope of this extension.</p>
</div>
<div class="paragraph">
<p>4) Is a new barrier flag or operation of some type needed to prepare
external memory for handoff to another Vulkan instance or API and/or receive
it from another instance or API?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Some implementations need to perform additional cache management when
transitioning memory between address spaces and other APIs, instances, or
processes which may operate in a separate address space.
Options for defining this transition include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A new structure that can be added to the <code>pNext</code> list in
<a href="chap7.html#VkMemoryBarrier">VkMemoryBarrier</a>, <a href="chap7.html#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a>, and
<a href="chap7.html#VkImageMemoryBarrier">VkImageMemoryBarrier</a>.</p>
</li>
<li>
<p>A new bit in <a href="chap7.html#VkAccessFlags">VkAccessFlags</a> that can be set to indicate an
“external” access.</p>
</li>
<li>
<p>A new bit in <a href="chap7.html#VkDependencyFlags">VkDependencyFlags</a></p>
</li>
<li>
<p>A new special queue family that represents an “external” queue.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A new structure has the advantage that the type of external transition can
be described in as much detail as necessary.
However, there is not currently a known need for anything beyond
differentiating between external and internal accesses, so this is likely an
over-engineered solution.
The access flag bit has the advantage that it can be applied at buffer,
image, or global granularity, and semantically it maps pretty well to the
operation being described.
Additionally, the API already includes <code>VK_ACCESS_MEMORY_READ_BIT</code> and
<code>VK_ACCESS_MEMORY_WRITE_BIT</code> which appear to be intended for this
purpose.
However, there is no obvious pipeline stage that would correspond to an
external access, and therefore no clear way to use
<code>VK_ACCESS_MEMORY_READ_BIT</code> or <code>VK_ACCESS_MEMORY_WRITE_BIT</code>.
<a href="chap7.html#VkDependencyFlags">VkDependencyFlags</a> and <a href="chap7.html#VkPipelineStageFlags">VkPipelineStageFlags</a> operate at command
granularity rather than image or buffer granularity, which would make an
entire pipeline barrier an internal→external or external→internal barrier.
This may not be a problem in practice, but seems like the wrong scope.
Another downside of <a href="chap7.html#VkDependencyFlags">VkDependencyFlags</a> is that it lacks inherent
directionality: there are no <code>src</code> and <code>dst</code> variants of it in the
barrier or dependency description semantics, so two bits might need to be
added to describe both internal→external and external→internal
transitions.
Transitioning a resource to a special queue family corresponds well with the
operation of transitioning to a separate Vulkan instance, in that both
operations ideally include scheduling a barrier on both sides of the
transition: Both the releasing and the acquiring queue or process.
Using a special queue family requires adding an additional reserved queue
family index.
Re-using <code>VK_QUEUE_FAMILY_IGNORED</code> would have left it unclear how to
transition a concurrent usage resource from one process to another, since
the semantics would have likely been equivalent to the currently-ignored
transition of
<code>VK_QUEUE_FAMILY_IGNORED</code>&nbsp;→&nbsp;<code>VK_QUEUE_FAMILY_IGNORED</code>.
Fortunately, creating a new reserved queue family index is not invasive.</p>
</div>
<div class="paragraph">
<p>Based on the above analysis, the approach of transitioning to a special
“external” queue family was chosen.</p>
</div>
<div class="paragraph">
<p>5) Do internal driver memory arrangements and/or other internal driver image
properties need to be exported and imported when sharing images across
processes or APIs.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Some vendors claim this is necessary on their implementations,
but it was determined that the security risks of allowing opaque metadata to
be passed from applications to the driver were too high.
Therefore, implementations which require metadata will need to associate it
with the objects represented by the external handles, and rely on the
dedicated allocation mechanism to associate the exported and imported memory
objects with a single image or buffer.</p>
</div>
<div class="paragraph">
<p>6) Most prior interoperation and cross-process sharing APIs have been based
on image-level sharing.
Should Vulkan sharing be based on memory-object sharing or image sharing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: These extensions have assumed memory-level sharing is the
correct granularity.
Vulkan is a lower-level API than most prior APIs, and as such attempts to
closely align with to the underlying primitives of the hardware and
system-level drivers it abstracts.
In general, the resource that holds the backing store for both images and
buffers of various types is memory.
Images and buffers are merely metadata containing brief descriptions of the
layout of bits within that memory.</p>
</div>
<div class="paragraph">
<p>Because memory object-based sharing is aligned with the overall Vulkan API
design, it enables the full range of Vulkan capabilities with external
objects.
External memory can be used as backing for sparse images, for example,
whereas such usage would be awkward at best with a sharing mechanism based
on higher-level primitives such as images.
Further, aligning the mechanism with the API in this way provides some hope
of trivial compatibility with future API enhancements.
If new objects backed by memory objects are added to the API, they too can
be used across processes with minimal additions to the base external memory
APIs.</p>
</div>
<div class="paragraph">
<p>Earlier APIs implemented interop at a higher level, and this necessitated
entirely separate sharing APIs for images and buffers.
To co-exist and interoperate with those APIs, the Vulkan external sharing
mechanism must accommodate their model.
However, if it can be agreed that memory-based sharing is the more desirable
and forward-looking design, legacy interoperation constraints can be
considered another reason to favor memory-based sharing: while native and
legacy driver primitives that may be used to implement sharing may not be as
low-level as the API here suggests, raw memory is still the least common
denominator among the types.
Image-based sharing can be cleanly derived from a set of base memory- object
sharing APIs with minimal effort, whereas image-based sharing does not
generalize well to buffer or raw-memory sharing.
Therefore, following the general Vulkan design principle of minimalism, it
is better to expose interopability with image-based native and external
primitives via the memory sharing API, and place sufficient limits on their
usage to ensure they can be used only as backing for equivalent Vulkan
images.
This provides a consistent API for applications regardless of which platform
or external API they are targeting, which makes development of multi-API and
multi-platform applications simpler.</p>
</div>
<div class="paragraph">
<p>7) Should Vulkan define a common external handle type and provide Vulkan
functions to facilitate cross-process sharing of such handles rather than
relying on native handles to define the external objects?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Cross-process sharing of resources is best left to native platforms.
There are myriad security and extensibility issues with such a mechanism,
and attempting to re-solve all those issues within Vulkan does not align
with Vulkan’s purpose as a graphics API.
If desired, such a mechanism could be built as a layer or helper library on
top of the opaque native handle defined in this family of extensions.</p>
</div>
<div class="paragraph">
<p>8) Must implementations provide additional guarantees about state implicitly
included in memory objects for those memory objects that may be exported?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must ensure that sharing memory objects does not
transfer any information between the exporting and importing instances and
APIs other than that required to share the data contained in the memory
objects explicitly shared.
As specific examples, data from previously freed memory objects that used
the same underlying physical memory, and data from memory objects using
adjacent physical memory must not be visible to applications importing an
exported memory object.</p>
</div>
<div class="paragraph">
<p>9) Must implementations validate external handles the application provides
as inputs to memory import operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must return an error to the application if the
provided memory handle cannot be used to complete the requested import
operation.
However, implementations need not validate handles are of the exact type
specified by the application.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_104"><a class="anchor" href="chap47.html#_version_history_104"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory_capabilities"><a class="anchor" href="chap47.html#VK_KHR_external_memory_capabilities"></a>VK_KHR_external_memory_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>72</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_memory_capabilities] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_memory_capabilities extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_104"><a class="anchor" href="chap47.html#_other_extension_metadata_104"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-17</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="chap47.html#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Interacts with <code><code>VK_NV_dedicated_allocation</code></code>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_104"><a class="anchor" href="chap47.html#_description_104"></a>Description</h5>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of “external” memory
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_10"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_10"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_60"><a class="anchor" href="chap47.html#_new_commands_60"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#vkGetPhysicalDeviceExternalBufferPropertiesKHR">vkGetPhysicalDeviceExternalBufferPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_102"><a class="anchor" href="chap47.html#_new_structures_102"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkExternalBufferPropertiesKHR">VkExternalBufferPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkExternalMemoryPropertiesKHR">VkExternalMemoryPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkPhysicalDeviceExternalBufferInfoKHR">VkPhysicalDeviceExternalBufferInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap41.html#VkImageFormatProperties2">VkImageFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkExternalImageFormatPropertiesKHR">VkExternalImageFormatPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap41.html#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkPhysicalDeviceExternalImageFormatInfoKHR">VkPhysicalDeviceExternalImageFormatInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkPhysicalDeviceIDPropertiesKHR">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_40"><a class="anchor" href="chap47.html#_new_enums_40"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkExternalMemoryFeatureFlagBitsKHR">VkExternalMemoryFeatureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkExternalMemoryHandleTypeFlagBitsKHR">VkExternalMemoryHandleTypeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_35"><a class="anchor" href="chap47.html#_new_bitmasks_35"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkExternalMemoryFeatureFlagsKHR">VkExternalMemoryFeatureFlagsKHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkExternalMemoryHandleTypeFlagsKHR">VkExternalMemoryHandleTypeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_108"><a class="anchor" href="chap47.html#_new_enum_constants_108"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_CAPABILITIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_MEMORY_CAPABILITIES_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="chap41.html#VkExternalMemoryFeatureFlagBits">VkExternalMemoryFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap41.html#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_BUFFER_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_IMAGE_FORMAT_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_BUFFER_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_IMAGE_FORMAT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_48"><a class="anchor" href="chap47.html#_issues_48"></a>Issues</h5>
<div class="paragraph">
<p>1) Why do so many external memory capabilities need to be queried on a
per-memory-handle-type basis?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: This is because some handle types are based on
OS-native objects that have far more limited capabilities than the very
generic Vulkan memory objects.
Not all memory handle types can name memory objects that support 3D images,
for example.
Some handle types cannot even support the deferred image and memory binding
behavior of Vulkan and require specifying the image when allocating or
importing the memory object.</p>
</div>
<div class="paragraph">
<p>2) Do the <a href="chap41.html#VkExternalImageFormatPropertiesKHR">VkExternalImageFormatPropertiesKHR</a> and
<a href="chap41.html#VkExternalBufferPropertiesKHR">VkExternalBufferPropertiesKHR</a> structs need to include a list of memory
type bits that support the given handle type?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No.
The memory types that do not support the handle types will simply be
filtered out of the results returned by <a href="chap12.html#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a>
and <a href="chap12.html#vkGetBufferMemoryRequirements">vkGetBufferMemoryRequirements</a> when a set of handle types was
specified at image or buffer creation time.</p>
</div>
<div class="paragraph">
<p>3) Should the non-opaque handle types be moved to their own extension?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Perhaps.
However, defining the handle type bits does very little and does not require
any platform-specific types on its own, and it is easier to maintain the
bitfield values in a single extension for now.
Presumably more handle types could be added by separate extensions though,
and it would be midly weird to have some platform-specific ones defined in
the core spec and some in extensions</p>
</div>
<div class="paragraph">
<p>4) Do we need a <code>D3D11_TILEPOOL</code> type?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No.
This is technically possible, but the synchronization is awkward.
D3D11 surfaces must be synchronized using shared mutexes, and these
synchronization primitives are shared by the entire memory object, so D3D11
shared allocations divided among multiple buffer and image bindings may be
difficult to synchronize.</p>
</div>
<div class="paragraph">
<p>5) Should the Windows 7-compatible handle types be named “KMT” handles or
“GLOBAL_SHARE” handles?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: KMT, simply because it is more concise.</p>
</div>
<div class="paragraph">
<p>6) How do applications identify compatible devices and drivers across
instance, process, and API boundaries when sharing memory?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: New device properties are exposed that allow
applications to correctly correlate devices and drivers.
A device and driver UUID that must both match to ensure sharing
compatibility between two Vulkan instances, or a Vulkan instance and an
extensible external API are added.
To allow correlating with Direct3D devices, a device LUID is added that
corresponds to a DXGI adapter LUID.
A driver ID is not needed for Direct3D because mismatched driver component
versions are not currently supported on the Windows OS.
Should support for such configurations be introduced at the OS level,
further Vulkan extensions would be needed to correlate userspace component
builds.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_105"><a class="anchor" href="chap47.html#_version_history_105"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore"><a class="anchor" href="chap47.html#VK_KHR_external_semaphore"></a>VK_KHR_external_semaphore</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>78</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_semaphore] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_semaphore extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_105"><a class="anchor" href="chap47.html#_other_extension_metadata_105"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Lina Versace, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_105"><a class="anchor" href="chap47.html#_description_105"></a>Description</h5>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to create semaphores from which
non-Vulkan handles that reference the underlying synchronization primitive
can be exported.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_11"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_11"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_103"><a class="anchor" href="chap47.html#_new_structures_103"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap7.html#VkSemaphoreCreateInfo">VkSemaphoreCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkExportSemaphoreCreateInfoKHR">VkExportSemaphoreCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_41"><a class="anchor" href="chap47.html#_new_enums_41"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkSemaphoreImportFlagBitsKHR">VkSemaphoreImportFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_36"><a class="anchor" href="chap47.html#_new_bitmasks_36"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkSemaphoreImportFlagsKHR">VkSemaphoreImportFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_109"><a class="anchor" href="chap47.html#_new_enum_constants_109"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkSemaphoreImportFlagBits">VkSemaphoreImportFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SEMAPHORE_IMPORT_TEMPORARY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_SEMAPHORE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_49"><a class="anchor" href="chap47.html#_issues_49"></a>Issues</h5>
<div class="paragraph">
<p>1) Should there be restrictions on what side effects can occur when waiting
on imported semaphores that are in an invalid state?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Normally, validating such state would be the responsibility of the
application, and the implementation would be free to enter an undefined
state if valid usage rules were violated.
However, this could cause security concerns when using imported semaphores,
as it would require the importing application to trust the exporting
application to ensure the state is valid.
Requiring this level of trust is undesirable for many potential use cases.</p>
</div>
<div class="paragraph">
<p>2) Must implementations validate external handles the application provides
as input to semaphore state import operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must return an error to the application if the
provided semaphore state handle cannot be used to complete the requested
import operation.
However, implementations need not validate handles are of the exact type
specified by the application.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_106"><a class="anchor" href="chap47.html#_version_history_106"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore_capabilities"><a class="anchor" href="chap47.html#VK_KHR_external_semaphore_capabilities"></a>VK_KHR_external_semaphore_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>77</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_external_semaphore_capabilities] @cubanismo%0A*Here describe the issue or question you have about the VK_KHR_external_semaphore_capabilities extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_106"><a class="anchor" href="chap47.html#_other_extension_metadata_106"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_106"><a class="anchor" href="chap47.html#_description_106"></a>Description</h5>
<div class="paragraph">
<p>An application may wish to reference device semaphores in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of “external” semaphore
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_12"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_12"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_61"><a class="anchor" href="chap47.html#_new_commands_61"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#vkGetPhysicalDeviceExternalSemaphorePropertiesKHR">vkGetPhysicalDeviceExternalSemaphorePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_104"><a class="anchor" href="chap47.html#_new_structures_104"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkExternalSemaphorePropertiesKHR">VkExternalSemaphorePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkPhysicalDeviceExternalSemaphoreInfoKHR">VkPhysicalDeviceExternalSemaphoreInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkPhysicalDeviceIDPropertiesKHR">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_42"><a class="anchor" href="chap47.html#_new_enums_42"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkExternalSemaphoreFeatureFlagBitsKHR">VkExternalSemaphoreFeatureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkExternalSemaphoreHandleTypeFlagBitsKHR">VkExternalSemaphoreHandleTypeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_37"><a class="anchor" href="chap47.html#_new_bitmasks_37"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkExternalSemaphoreFeatureFlagsKHR">VkExternalSemaphoreFeatureFlagsKHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkExternalSemaphoreHandleTypeFlagsKHR">VkExternalSemaphoreHandleTypeFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_110"><a class="anchor" href="chap47.html#_new_enum_constants_110"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_CAPABILITIES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_EXTERNAL_SEMAPHORE_CAPABILITIES_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
<li>
<p>Extending <a href="chap41.html#VkExternalSemaphoreFeatureFlagBits">VkExternalSemaphoreFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_FEATURE_EXPORTABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_FEATURE_IMPORTABLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap41.html#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_SEMAPHORE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_SEMAPHORE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_107"><a class="anchor" href="chap47.html#_version_history_107"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_memory_requirements2"><a class="anchor" href="chap47.html#VK_KHR_get_memory_requirements2"></a>VK_KHR_get_memory_requirements2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_memory_requirements2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>147</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_get_memory_requirements2] @gfxstrand%0A*Here describe the issue or question you have about the VK_KHR_get_memory_requirements2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gfxstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_107"><a class="anchor" href="chap47.html#_other_extension_metadata_107"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_107"><a class="anchor" href="chap47.html#_description_107"></a>Description</h5>
<div class="paragraph">
<p>This extension provides new queries for memory requirements of images and
buffers that can be easily extended by other extensions, without introducing
any further entry points.
The Vulkan 1.0 <a href="chap12.html#VkMemoryRequirements">VkMemoryRequirements</a> and
<a href="chap29.html#VkSparseImageMemoryRequirements">VkSparseImageMemoryRequirements</a> structures do not include <code>sType</code>
and <code>pNext</code> members.
This extension wraps them in new structures with these members, so an
application can query a chain of memory requirements structures by
constructing the chain and letting the implementation fill them in.
A new command is added for each <code>vkGet*MemoryRequrements</code> command in
core Vulkan 1.0.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_13"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_13"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_62"><a class="anchor" href="chap47.html#_new_commands_62"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#vkGetBufferMemoryRequirements2KHR">vkGetBufferMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="chap12.html#vkGetImageMemoryRequirements2KHR">vkGetImageMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetImageSparseMemoryRequirements2KHR">vkGetImageSparseMemoryRequirements2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_105"><a class="anchor" href="chap47.html#_new_structures_105"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBufferMemoryRequirementsInfo2KHR">VkBufferMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkImageMemoryRequirementsInfo2KHR">VkImageMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkImageSparseMemoryRequirementsInfo2KHR">VkImageSparseMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkMemoryRequirements2KHR">VkMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkSparseImageMemoryRequirements2KHR">VkSparseImageMemoryRequirements2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_111"><a class="anchor" href="chap47.html#_new_enum_constants_111"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_GET_MEMORY_REQUIREMENTS_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_GET_MEMORY_REQUIREMENTS_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SPARSE_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_REQUIREMENTS_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SPARSE_IMAGE_MEMORY_REQUIREMENTS_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_108"><a class="anchor" href="chap47.html#_version_history_108"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_physical_device_properties2"><a class="anchor" href="chap47.html#VK_KHR_get_physical_device_properties2"></a>VK_KHR_get_physical_device_properties2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_physical_device_properties2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>60</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_get_physical_device_properties2] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_get_physical_device_properties2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_108"><a class="anchor" href="chap47.html#_other_extension_metadata_108"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_108"><a class="anchor" href="chap47.html#_description_108"></a>Description</h5>
<div class="paragraph">
<p>This extension provides new queries for device features, device properties,
and format properties that can be easily extended by other extensions,
without introducing any further queries.
The Vulkan 1.0 feature/limit/formatproperty structures do not include
<code>sType</code>/<code>pNext</code> members.
This extension wraps them in new structures with <code>sType</code>/<code>pNext</code>
members, so an application can query a chain of feature/limit/formatproperty
structures by constructing the chain and letting the implementation fill
them in.
A new command is added for each <code>vkGetPhysicalDevice*</code> command in core
Vulkan 1.0.
The new feature structure (and a <code>pNext</code> chain of extending structures)
can also be passed in to device creation to enable features.</p>
</div>
<div class="paragraph">
<p>This extension also allows applications to use the physical-device
components of device extensions before <a href="chap5.html#vkCreateDevice">vkCreateDevice</a> is called.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_14"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_14"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_63"><a class="anchor" href="chap47.html#_new_commands_63"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#vkGetPhysicalDeviceFeatures2KHR">vkGetPhysicalDeviceFeatures2KHR</a></p>
</li>
<li>
<p><a href="chap40.html#vkGetPhysicalDeviceFormatProperties2KHR">vkGetPhysicalDeviceFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap41.html#vkGetPhysicalDeviceImageFormatProperties2KHR">vkGetPhysicalDeviceImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkGetPhysicalDeviceMemoryProperties2KHR">vkGetPhysicalDeviceMemoryProperties2KHR</a></p>
</li>
<li>
<p><a href="chap5.html#vkGetPhysicalDeviceProperties2KHR">vkGetPhysicalDeviceProperties2KHR</a></p>
</li>
<li>
<p><a href="chap5.html#vkGetPhysicalDeviceQueueFamilyProperties2KHR">vkGetPhysicalDeviceQueueFamilyProperties2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkGetPhysicalDeviceSparseImageFormatProperties2KHR">vkGetPhysicalDeviceSparseImageFormatProperties2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_106"><a class="anchor" href="chap47.html#_new_structures_106"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap40.html#VkFormatProperties2KHR">VkFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkImageFormatProperties2KHR">VkImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap41.html#VkPhysicalDeviceImageFormatInfo2KHR">VkPhysicalDeviceImageFormatInfo2KHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkPhysicalDeviceMemoryProperties2KHR">VkPhysicalDeviceMemoryProperties2KHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkPhysicalDeviceProperties2KHR">VkPhysicalDeviceProperties2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkPhysicalDeviceSparseImageFormatInfo2KHR">VkPhysicalDeviceSparseImageFormatInfo2KHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkQueueFamilyProperties2KHR">VkQueueFamilyProperties2KHR</a></p>
</li>
<li>
<p><a href="chap29.html#VkSparseImageFormatProperties2KHR">VkSparseImageFormatProperties2KHR</a></p>
</li>
<li>
<p>Extending <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceFeatures2KHR">VkPhysicalDeviceFeatures2KHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_112"><a class="anchor" href="chap47.html#_new_enum_constants_112"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_GET_PHYSICAL_DEVICE_PROPERTIES_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_GET_PHYSICAL_DEVICE_PROPERTIES_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SPARSE_IMAGE_FORMAT_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SPARSE_IMAGE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_examples_13"><a class="anchor" href="chap47.html#_examples_13"></a>Examples</h5>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++">    <span class="c1">// Get features with a hypothetical future extension.</span>
    <span class="n">VkHypotheticalExtensionFeaturesKHR</span> <span class="n">hypotheticalFeatures</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_HYPOTHETICAL_FEATURES_KHR</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="n">VkPhysicalDeviceFeatures2KHR</span> <span class="n">features</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">hypotheticalFeatures</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="c1">// After this call, features and hypotheticalFeatures have been filled out.</span>
    <span class="n">vkGetPhysicalDeviceFeatures2KHR</span><span class="p">(</span><span class="n">physicalDevice</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">features</span><span class="p">);</span>

    <span class="c1">// Properties/limits can be chained and queried similarly.</span>

    <span class="c1">// Enable some features:</span>
    <span class="n">VkHypotheticalExtensionFeaturesKHR</span> <span class="n">enabledHypotheticalFeatures</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_HYPOTHETICAL_FEATURES_KHR</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="n">VkPhysicalDeviceFeatures2KHR</span> <span class="n">enabledFeatures</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">enabledHypotheticalFeatures</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="n">enabledFeatures</span><span class="p">.</span><span class="n">features</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">VK_TRUE</span><span class="p">;</span>
    <span class="n">enabledHypotheticalFeatures</span><span class="p">.</span><span class="n">abc</span> <span class="o">=</span> <span class="n">VK_TRUE</span><span class="p">;</span>

    <span class="n">VkDeviceCreateInfo</span> <span class="n">deviceCreateInfo</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">enabledFeatures</span><span class="p">,</span>
        <span class="p">...</span>
        <span class="p">.</span><span class="n">pEnabledFeatures</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="n">VkDevice</span> <span class="n">device</span><span class="p">;</span>
    <span class="n">vkCreateDevice</span><span class="p">(</span><span class="n">physicalDevice</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">deviceCreateInfo</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">device</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_109"><a class="anchor" href="chap47.html#_version_history_109"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-09-12 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2016-11-02 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Added ability for applications to use the physical-device components of
device extensions before vkCreateDevice is called.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_image_format_list"><a class="anchor" href="chap47.html#VK_KHR_image_format_list"></a>VK_KHR_image_format_list</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_image_format_list</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>148</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_image_format_list] @gfxstrand%0A*Here describe the issue or question you have about the VK_KHR_image_format_list extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gfxstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_109"><a class="anchor" href="chap47.html#_other_extension_metadata_109"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_109"><a class="anchor" href="chap47.html#_description_109"></a>Description</h5>
<div class="paragraph">
<p>On some implementations, setting the
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> on image creation can cause access
to that image to perform worse than an equivalent image created without
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> because the implementation does not
know what view formats will be paired with the image.</p>
</div>
<div class="paragraph">
<p>This extension allows an application to provide the list of all formats that
<strong class="purple">can</strong> be used with an image when it is created.
The implementation may then be able to create a more efficient image that
supports the subset of formats required by the application without having to
support all formats in the format compatibility class of the image format.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_7"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_7"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_107"><a class="anchor" href="chap47.html#_new_structures_107"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>, <a href="chap30.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>, <a href="chap41.html#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkImageFormatListCreateInfoKHR">VkImageFormatListCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_113"><a class="anchor" href="chap47.html#_new_enum_constants_113"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_IMAGE_FORMAT_LIST_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_IMAGE_FORMAT_LIST_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_LIST_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_110"><a class="anchor" href="chap47.html#_version_history_110"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-20 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_imageless_framebuffer"><a class="anchor" href="chap47.html#VK_KHR_imageless_framebuffer"></a>VK_KHR_imageless_framebuffer</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_imageless_framebuffer</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>109</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_maintenance2">VK_KHR_maintenance2</a><br>
and<br>
<a href="chap47.html#VK_KHR_image_format_list">VK_KHR_image_format_list</a><br>
and<br>
<a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_imageless_framebuffer] @tobias%0A*Here describe the issue or question you have about the VK_KHR_imageless_framebuffer extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobias</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_110"><a class="anchor" href="chap47.html#_other_extension_metadata_110"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-14</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector</p>
</li>
<li>
<p>Graham Wihlidal</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_110"><a class="anchor" href="chap47.html#_description_110"></a>Description</h5>
<div class="paragraph">
<p>This extension allows framebuffers to be created without the need for
creating images first, allowing more flexibility in how they are used, and
avoiding the need for many of the confusing compatibility rules.</p>
</div>
<div class="paragraph">
<p>Framebuffers are now created with a small amount of additional metadata
about the image views that will be used in
<a href="chap8.html#VkFramebufferAttachmentsCreateInfoKHR">VkFramebufferAttachmentsCreateInfoKHR</a>, and the actual image views are
provided at render pass begin time via
<a href="chap8.html#VkRenderPassAttachmentBeginInfoKHR">VkRenderPassAttachmentBeginInfoKHR</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_8"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_8"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_108"><a class="anchor" href="chap47.html#_new_structures_108"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkFramebufferAttachmentImageInfoKHR">VkFramebufferAttachmentImageInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap8.html#VkFramebufferCreateInfo">VkFramebufferCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkFramebufferAttachmentsCreateInfoKHR">VkFramebufferAttachmentsCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceImagelessFramebufferFeaturesKHR">VkPhysicalDeviceImagelessFramebufferFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap8.html#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkRenderPassAttachmentBeginInfoKHR">VkRenderPassAttachmentBeginInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_114"><a class="anchor" href="chap47.html#_new_enum_constants_114"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_IMAGELESS_FRAMEBUFFER_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_IMAGELESS_FRAMEBUFFER_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap8.html#VkFramebufferCreateFlagBits">VkFramebufferCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_FRAMEBUFFER_ATTACHMENTS_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FRAMEBUFFER_ATTACHMENT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGELESS_FRAMEBUFFER_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_ATTACHMENT_BEGIN_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_111"><a class="anchor" href="chap47.html#_version_history_111"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-12-14 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance1"><a class="anchor" href="chap47.html#VK_KHR_maintenance1"></a>VK_KHR_maintenance1</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>70</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_maintenance1] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_KHR_maintenance1 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_111"><a class="anchor" href="chap47.html#_other_extension_metadata_111"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-13</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Neil Henning, Codeplay Software Ltd.</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_111"><a class="anchor" href="chap47.html#_description_111"></a>Description</h5>
<div class="paragraph">
<p><code>VK_KHR_maintenance1</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow 2D and 2D array image views to be created from 3D images, which
can then be used as color framebuffer attachments.
This allows applications to render to slices of a 3D image.</p>
</li>
<li>
<p>Support <a href="chap19.html#vkCmdCopyImage">vkCmdCopyImage</a> between 2D array layers and 3D slices.
This extension allows copying from layers of a 2D array image to slices
of a 3D image and vice versa.</p>
</li>
<li>
<p>Allow negative height to be specified in the
<a href="chap24.html#VkViewport">VkViewport</a>::<code>height</code> field to perform y-inversion of the
clip-space to framebuffer-space transform.
This allows apps to avoid having to use <code>gl_Position.y = -gl_Position.y</code>
in shaders also targeting other APIs.</p>
</li>
<li>
<p>Allow implementations to express support for doing just transfers and
clears of image formats that they otherwise support no other format
features for.
This is done by adding new format feature flags
<code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code> and
<code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>.</p>
</li>
<li>
<p>Support <a href="chap18.html#vkCmdFillBuffer">vkCmdFillBuffer</a> on transfer-only queues.
Previously <a href="chap18.html#vkCmdFillBuffer">vkCmdFillBuffer</a> was defined to only work on command
buffers allocated from command pools which support graphics or compute
queues.
It is now allowed on queues that just support transfer operations.</p>
</li>
<li>
<p>Fix the inconsistency of how error conditions are returned between the
<a href="chap10.html#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a> and <a href="chap10.html#vkCreateComputePipelines">vkCreateComputePipelines</a>
functions and the <a href="chap14.html#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a> and
<a href="chap6.html#vkAllocateCommandBuffers">vkAllocateCommandBuffers</a> functions.</p>
</li>
<li>
<p>Add new <code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code> error so implementations
can give a more precise reason for <a href="chap14.html#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a>
failures.</p>
</li>
<li>
<p>Add a new command <a href="chap6.html#vkTrimCommandPoolKHR">vkTrimCommandPoolKHR</a> which gives the
implementation an opportunity to release any unused command pool memory
back to the system.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_15"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_15"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_64"><a class="anchor" href="chap47.html#_new_commands_64"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#vkTrimCommandPoolKHR">vkTrimCommandPoolKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_38"><a class="anchor" href="chap47.html#_new_bitmasks_38"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkCommandPoolTrimFlagsKHR">VkCommandPoolTrimFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_115"><a class="anchor" href="chap47.html#_new_enum_constants_115"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAINTENANCE1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE1_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_1_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_1_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap40.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_50"><a class="anchor" href="chap47.html#_issues_50"></a>Issues</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Are viewports with zero height allowed?</p>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, although they have low utility.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_112"><a class="anchor" href="chap47.html#_version_history_112"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-26 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-03-13 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add issue for zero-height viewports</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance2"><a class="anchor" href="chap47.html#VK_KHR_maintenance2"></a>VK_KHR_maintenance2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>118</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Michael Worcester <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_maintenance2] @michaelworcester%0A*Here describe the issue or question you have about the VK_KHR_maintenance2 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>michaelworcester</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_112"><a class="anchor" href="chap47.html#_other_extension_metadata_112"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Stuart Smith, Imagination Technologies</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_112"><a class="anchor" href="chap47.html#_description_112"></a>Description</h5>
<div class="paragraph">
<p><code>VK_KHR_maintenance2</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow the application to specify which aspect of an input attachment
might be read for a given subpass.</p>
</li>
<li>
<p>Allow implementations to express the clipping behavior of points.</p>
</li>
<li>
<p>Allow creating images with usage flags that may not be supported for the
base image’s format, but are supported for image views of the image that
have a different but compatible format.</p>
</li>
<li>
<p>Allow creating uncompressed image views of compressed images.</p>
</li>
<li>
<p>Allow the application to select between an upper-left and lower-left
origin for the tessellation domain space.</p>
</li>
<li>
<p>Adds two new image layouts for depth stencil images to allow either the
depth or stencil aspect to be read-only while the other aspect is
writable.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_input_attachment_specification"><a class="anchor" href="chap47.html#_input_attachment_specification"></a>Input Attachment Specification</h5>
<div class="paragraph">
<p>Input attachment specification allows an application to specify which aspect
of a multi-aspect image (e.g. a depth/stencil format) will be accessed via a
<code>subpassLoad</code> operation.</p>
</div>
<div class="paragraph">
<p>On some implementations there <strong class="purple">may</strong> be a performance penalty if the
implementation does not know (at <a href="chap8.html#vkCreateRenderPass">vkCreateRenderPass</a> time) which
aspect(s) of multi-aspect images <strong class="purple">can</strong> be accessed as input attachments.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_16"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_16"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_109"><a class="anchor" href="chap47.html#_new_structures_109"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkInputAttachmentAspectReferenceKHR">VkInputAttachmentAspectReferenceKHR</a></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageViewCreateInfo">VkImageViewCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkImageViewUsageCreateInfoKHR">VkImageViewUsageCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDevicePointClippingPropertiesKHR">VkPhysicalDevicePointClippingPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap22.html#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap22.html#VkPipelineTessellationDomainOriginStateCreateInfoKHR">VkPipelineTessellationDomainOriginStateCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap8.html#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkRenderPassInputAttachmentAspectCreateInfoKHR">VkRenderPassInputAttachmentAspectCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_43"><a class="anchor" href="chap47.html#_new_enums_43"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap24.html#VkPointClippingBehaviorKHR">VkPointClippingBehaviorKHR</a></p>
</li>
<li>
<p><a href="chap22.html#VkTessellationDomainOriginKHR">VkTessellationDomainOriginKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_116"><a class="anchor" href="chap47.html#_new_enum_constants_116"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAINTENANCE2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE2_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_2_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_2_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_BLOCK_TEXEL_VIEW_COMPATIBLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_EXTENDED_USAGE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap24.html#VkPointClippingBehavior">VkPointClippingBehavior</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_ALL_CLIP_PLANES_KHR</code></p>
</li>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_USER_CLIP_PLANES_ONLY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_USAGE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_POINT_CLIPPING_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_DOMAIN_ORIGIN_STATE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_INPUT_ATTACHMENT_ASPECT_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap22.html#VkTessellationDomainOrigin">VkTessellationDomainOrigin</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_TESSELLATION_DOMAIN_ORIGIN_LOWER_LEFT_KHR</code></p>
</li>
<li>
<p><code>VK_TESSELLATION_DOMAIN_ORIGIN_UPPER_LEFT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_input_attachment_specification_example"><a class="anchor" href="chap47.html#_input_attachment_specification_example"></a>Input Attachment Specification Example</h5>
<div class="paragraph">
<p>Consider the case where a render pass has two subpasses and two attachments.</p>
</div>
<div class="paragraph">
<p>Attachment 0 has the format <code>VK_FORMAT_D24_UNORM_S8_UINT</code>, attachment 1
has some color format.</p>
</div>
<div class="paragraph">
<p>Subpass 0 writes to attachment 0, subpass 1 reads only the depth information
from attachment 0 (using inputAttachmentRead) and writes to attachment 1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++">    <span class="n">VkInputAttachmentAspectReferenceKHR</span> <span class="n">references</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">{</span>
            <span class="p">.</span><span class="n">subpass</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
            <span class="p">.</span><span class="n">inputAttachmentIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="p">.</span><span class="n">aspectMask</span> <span class="o">=</span> <span class="n">VK_IMAGE_ASPECT_DEPTH_BIT</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="n">VkRenderPassInputAttachmentAspectCreateInfoKHR</span> <span class="n">specifyAspects</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_RENDER_PASS_INPUT_ATTACHMENT_ASPECT_CREATE_INFO_KHR</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">aspectReferenceCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pAspectReferences</span> <span class="o">=</span> <span class="n">references</span>
    <span class="p">};</span>


    <span class="n">VkRenderPassCreateInfo</span> <span class="n">createInfo</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">...</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">specifyAspects</span><span class="p">,</span>
        <span class="p">...</span>
    <span class="p">};</span>

    <span class="n">vkCreateRenderPass</span><span class="p">(...);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_issues_51"><a class="anchor" href="chap47.html#_issues_51"></a>Issues</h5>
<div class="paragraph">
<p>1) What is the default tessellation domain origin?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Vulkan 1.0 originally inadvertently documented a lower-left
origin, but the conformance tests and all implementations implemented an
upper-left origin.
This extension adds a control to select between lower-left (for
compatibility with OpenGL) and upper-left, and we retroactively fix
unextended Vulkan to have a default of an upper-left origin.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_113"><a class="anchor" href="chap47.html#_version_history_113"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-04-28</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance3"><a class="anchor" href="chap47.html#VK_KHR_maintenance3"></a>VK_KHR_maintenance3</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance3</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>169</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_maintenance3] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_maintenance3 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_113"><a class="anchor" href="chap47.html#_other_extension_metadata_113"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_113"><a class="anchor" href="chap47.html#_description_113"></a>Description</h5>
<div class="paragraph">
<p><code>VK_KHR_maintenance3</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A limit on the maximum number of descriptors that are supported in a
single descriptor set layout.
Some implementations have a limit on the total size of descriptors in a
set, which cannot be expressed in terms of the limits in Vulkan 1.0.</p>
</li>
<li>
<p>A limit on the maximum size of a single memory allocation.
Some platforms have kernel interfaces that limit the maximum size of an
allocation.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_17"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_17"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_65"><a class="anchor" href="chap47.html#_new_commands_65"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#vkGetDescriptorSetLayoutSupportKHR">vkGetDescriptorSetLayoutSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_110"><a class="anchor" href="chap47.html#_new_structures_110"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#VkDescriptorSetLayoutSupportKHR">VkDescriptorSetLayoutSupportKHR</a></p>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceMaintenance3PropertiesKHR">VkPhysicalDeviceMaintenance3PropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_117"><a class="anchor" href="chap47.html#_new_enum_constants_117"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MAINTENANCE3_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE3_SPEC_VERSION</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_3_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MAINTENANCE_3_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_SUPPORT_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_3_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_114"><a class="anchor" href="chap47.html#_version_history_114"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-22</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_multiview"><a class="anchor" href="chap47.html#VK_KHR_multiview"></a>VK_KHR_multiview</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_multiview</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>54</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_multiview.html">SPV_KHR_multiview</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_multiview] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_multiview extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_114"><a class="anchor" href="chap47.html#_other_extension_metadata_114"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_multiview.txt"><code>GL_EXT_multiview</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_114"><a class="anchor" href="chap47.html#_description_114"></a>Description</h5>
<div class="paragraph">
<p>This extension has the same goal as the OpenGL ES <code>GL_OVR_multiview</code>
extension.
Multiview is a rendering technique originally designed for VR where it is
more efficient to record a single set of commands to be executed with
slightly different behavior for each “view”.</p>
</div>
<div class="paragraph">
<p>It includes a concise way to declare a render pass with multiple views, and
gives implementations freedom to render the views in the most efficient way
possible.
This is done with a multiview configuration specified during <a href="chap8.html">render pass</a> creation with the <a href="chap8.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a> passed
into <a href="chap8.html#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a>::<code>pNext</code>.</p>
</div>
<div class="paragraph">
<p>This extension enables the use of the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_multiview.html"><code>SPV_KHR_multiview</code></a> shader extension,
which adds a new <code>ViewIndex</code> built-in type that allows shaders to control
what to do for each view.
If using GLSL there is also the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_multiview.txt"><code>GL_EXT_multiview</code></a> extension that
introduces a <code>highp int gl_ViewIndex;</code> built-in variable for vertex,
tessellation, geometry, and fragment shaders.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_18"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_18"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_111"><a class="anchor" href="chap47.html#_new_structures_111"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceMultiviewFeaturesKHR">VkPhysicalDeviceMultiviewFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceMultiviewPropertiesKHR">VkPhysicalDeviceMultiviewPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap8.html#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkRenderPassMultiviewCreateInfoKHR">VkRenderPassMultiviewCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_118"><a class="anchor" href="chap47.html#_new_enum_constants_118"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_MULTIVIEW_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_MULTIVIEW_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkDependencyFlagBits">VkDependencyFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPENDENCY_VIEW_LOCAL_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_MULTIVIEW_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_built_in_variables_5"><a class="anchor" href="chap47.html#_new_built_in_variables_5"></a>New Built-In Variables</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-viewindex"><code>ViewIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_19"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_19"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-MultiView"><code>MultiView</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_115"><a class="anchor" href="chap47.html#_version_history_115"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-28 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_relaxed_block_layout"><a class="anchor" href="chap47.html#VK_KHR_relaxed_block_layout"></a>VK_KHR_relaxed_block_layout</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_relaxed_block_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>145</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_relaxed_block_layout] @johnkslang%0A*Here describe the issue or question you have about the VK_KHR_relaxed_block_layout extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>johnkslang</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_115"><a class="anchor" href="chap47.html#_other_extension_metadata_115"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-26</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_115"><a class="anchor" href="chap47.html#_description_115"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_relaxed_block_layout</code> extension allows implementations to
indicate they can support more variation in block <code>Offset</code> decorations.
For example, placing a vector of three floats at an offset of
<span class="eq">16×N +  4</span>.</p>
</div>
<div class="paragraph">
<p>See <a href="chap15.html#interfaces-resources-layout">Offset and Stride Assignment</a> for
details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_19"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_19"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_119"><a class="anchor" href="chap47.html#_new_enum_constants_119"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_RELAXED_BLOCK_LAYOUT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_RELAXED_BLOCK_LAYOUT_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_116"><a class="anchor" href="chap47.html#_version_history_116"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-26 (JohnK)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_sampler_mirror_clamp_to_edge"><a class="anchor" href="chap47.html#VK_KHR_sampler_mirror_clamp_to_edge"></a>VK_KHR_sampler_mirror_clamp_to_edge</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_sampler_mirror_clamp_to_edge</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>15</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_sampler_mirror_clamp_to_edge] @tobski%0A*Here describe the issue or question you have about the VK_KHR_sampler_mirror_clamp_to_edge extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_116"><a class="anchor" href="chap47.html#_other_extension_metadata_116"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-08-17</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_116"><a class="anchor" href="chap47.html#_description_116"></a>Description</h5>
<div class="paragraph">
<p><code>VK_KHR_sampler_mirror_clamp_to_edge</code> extends the set of sampler address
modes to include an additional mode
(<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>) that effectively uses a
texture map twice as large as the original image in which the additional
half of the new image is a mirror image of the original image.</p>
</div>
<div class="paragraph">
<p>This new mode relaxes the need to generate images whose opposite edges match
by using the original image to generate a matching “mirror image”.
This mode allows the texture to be mirrored only once in the negative s, t,
and r directions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_9"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_9"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2.
However, if Vulkan 1.2 is supported and this extension is not, the
<a href="chap13.html#VkSamplerAddressMode">VkSamplerAddressMode</a>
<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code> is optional.
Since the original extension did not use an author suffix on the enum
<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>, it is used by both core
and extension implementations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_120"><a class="anchor" href="chap47.html#_new_enum_constants_120"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SAMPLER_MIRROR_CLAMP_TO_EDGE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SAMPLER_MIRROR_CLAMP_TO_EDGE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap13.html#VkSamplerAddressMode">VkSamplerAddressMode</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code></p>
</li>
<li>
<p><code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_example_2"><a class="anchor" href="chap47.html#_example_2"></a>Example</h5>
<div class="paragraph">
<p>Creating a sampler with the new address mode in each dimension</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++">    <span class="n">VkSamplerCreateInfo</span> <span class="n">createInfo</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO</span><span class="p">,</span>
        <span class="c1">// Other members set to application-desired values</span>
    <span class="p">};</span>

    <span class="n">createInfo</span><span class="p">.</span><span class="n">addressModeU</span> <span class="o">=</span> <span class="n">VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</span><span class="p">;</span>
    <span class="n">createInfo</span><span class="p">.</span><span class="n">addressModeV</span> <span class="o">=</span> <span class="n">VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</span><span class="p">;</span>
    <span class="n">createInfo</span><span class="p">.</span><span class="n">addressModeW</span> <span class="o">=</span> <span class="n">VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</span><span class="p">;</span>

    <span class="n">VkSampler</span> <span class="n">sampler</span><span class="p">;</span>
    <span class="n">VkResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">vkCreateSampler</span><span class="p">(</span>
        <span class="n">device</span><span class="p">,</span>
        <span class="o">&amp;</span><span class="n">createInfo</span><span class="p">,</span>
        <span class="o">&amp;</span><span class="n">sampler</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_issues_52"><a class="anchor" href="chap47.html#_issues_52"></a>Issues</h5>
<div class="paragraph">
<p>1) Why are both KHR and core versions of the
<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code> token present?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This functionality was intended to be required in Vulkan 1.0.
We realized shortly before public release that not all implementations could
support it, and moved the functionality into an optional extension, but did
not apply the KHR extension suffix.
Adding a KHR-suffixed alias of the non-suffixed enum has been done to comply
with our own naming rules.</p>
</div>
<div class="paragraph">
<p>In a related change, before spec revision 1.1.121 this extension was
hardwiring into the spec Makefile so it was always included with the
Specification, even in the core-only versions.
This has now been reverted, and it is treated as any other extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_117"><a class="anchor" href="chap47.html#_version_history_117"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-02-16 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-08-14 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add KHR-suffixed alias of non-suffixed enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2019-08-17 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add an issue explaining the reason for the extension API not being
suffixed with KHR.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_sampler_ycbcr_conversion"><a class="anchor" href="chap47.html#VK_KHR_sampler_ycbcr_conversion"></a>VK_KHR_sampler_ycbcr_conversion</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_sampler_ycbcr_conversion</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>157</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>14</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_maintenance1">VK_KHR_maintenance1</a><br>
and<br>
<a href="chap47.html#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a><br>
and<br>
<a href="chap47.html#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a><br>
and<br>
<a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>API Interactions</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_EXT_debug_report</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andrew Garrard <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_sampler_ycbcr_conversion] @fluppeteer%0A*Here describe the issue or question you have about the VK_KHR_sampler_ycbcr_conversion extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>fluppeteer</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_117"><a class="anchor" href="chap47.html#_other_extension_metadata_117"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andrew Garrard, Samsung Electronics</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Romain Guy, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tom Cooksey, ARM Ltd</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM Ltd</p>
</li>
<li>
<p>Jan Outters, Samsung Electronics</p>
</li>
<li>
<p>Alon Or-bach, Samsung Electronics</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_117"><a class="anchor" href="chap47.html#_description_117"></a>Description</h5>
<div class="paragraph">
<p>The use of Y′C<sub>B</sub>C<sub>R</sub> sampler conversion is an area in 3D graphics not used by
most Vulkan developers.
It is mainly used for processing inputs from video decoders and cameras.
The use of the extension assumes basic knowledge of Y′C<sub>B</sub>C<sub>R</sub> concepts.</p>
</div>
<div class="paragraph">
<p>This extension provides the ability to perform specified color space
conversions during texture sampling operations for the Y′C<sub>B</sub>C<sub>R</sub> color space
natively.
It also adds a selection of multi-planar formats, image aspect plane, and
the ability to bind memory to the planes of an image collectively or
separately.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_20"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_20"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
However, if Vulkan 1.1 is supported and this extension is not, the
<code>samplerYcbcrConversion</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_object_types_12"><a class="anchor" href="chap47.html#_new_object_types_12"></a>New Object Types</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#VkSamplerYcbcrConversionKHR">VkSamplerYcbcrConversionKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_66"><a class="anchor" href="chap47.html#_new_commands_66"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#vkCreateSamplerYcbcrConversionKHR">vkCreateSamplerYcbcrConversionKHR</a></p>
</li>
<li>
<p><a href="chap13.html#vkDestroySamplerYcbcrConversionKHR">vkDestroySamplerYcbcrConversionKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_112"><a class="anchor" href="chap47.html#_new_structures_112"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#VkSamplerYcbcrConversionCreateInfoKHR">VkSamplerYcbcrConversionCreateInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkBindImageMemoryInfo">VkBindImageMemoryInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkBindImagePlaneMemoryInfoKHR">VkBindImagePlaneMemoryInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap41.html#VkImageFormatProperties2">VkImageFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap41.html#VkSamplerYcbcrConversionImageFormatPropertiesKHR">VkSamplerYcbcrConversionImageFormatPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageMemoryRequirementsInfo2">VkImageMemoryRequirementsInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkImagePlaneMemoryRequirementsInfoKHR">VkImagePlaneMemoryRequirementsInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceSamplerYcbcrConversionFeaturesKHR">VkPhysicalDeviceSamplerYcbcrConversionFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap13.html#VkSamplerCreateInfo">VkSamplerCreateInfo</a>, <a href="chap12.html#VkImageViewCreateInfo">VkImageViewCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#VkSamplerYcbcrConversionInfoKHR">VkSamplerYcbcrConversionInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_44"><a class="anchor" href="chap47.html#_new_enums_44"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#VkChromaLocationKHR">VkChromaLocationKHR</a></p>
</li>
<li>
<p><a href="chap13.html#VkSamplerYcbcrModelConversionKHR">VkSamplerYcbcrModelConversionKHR</a></p>
</li>
<li>
<p><a href="chap13.html#VkSamplerYcbcrRangeKHR">VkSamplerYcbcrRangeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_121"><a class="anchor" href="chap47.html#_new_enum_constants_121"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SAMPLER_YCBCR_CONVERSION_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SAMPLER_YCBCR_CONVERSION_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap13.html#VkChromaLocation">VkChromaLocation</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_CHROMA_LOCATION_COSITED_EVEN_KHR</code></p>
</li>
<li>
<p><code>VK_CHROMA_LOCATION_MIDPOINT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap40.html#VkFormat">VkFormat</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B16G16R16G16_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8G8_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16B16G16R16_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16R16_2PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16R16_2PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8B8G8R8_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8R8_2PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8R8_2PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6G10X6_UNORM_2PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6_UNORM_PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4G12X4_UNORM_2PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4_UNORM_PACK16_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap40.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_COSITED_CHROMA_SAMPLES_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_DISJOINT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_MIDPOINT_CHROMA_SAMPLES_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_CHROMA_RECONSTRUCTION_EXPLICIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_CHROMA_RECONSTRUCTION_EXPLICIT_FORCEABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_LINEAR_FILTER_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_SEPARATE_RECONSTRUCTION_FILTER_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageAspectFlagBits">VkImageAspectFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_0_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_1_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_2_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_DISJOINT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap42.html#VkObjectType">VkObjectType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_OBJECT_TYPE_SAMPLER_YCBCR_CONVERSION_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap13.html#VkSamplerYcbcrModelConversion">VkSamplerYcbcrModelConversion</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_YCBCR_MODEL_CONVERSION_RGB_IDENTITY_KHR</code></p>
</li>
<li>
<p><code>VK_SAMPLER_YCBCR_MODEL_CONVERSION_YCBCR_2020_KHR</code></p>
</li>
<li>
<p><code>VK_SAMPLER_YCBCR_MODEL_CONVERSION_YCBCR_601_KHR</code></p>
</li>
<li>
<p><code>VK_SAMPLER_YCBCR_MODEL_CONVERSION_YCBCR_709_KHR</code></p>
</li>
<li>
<p><code>VK_SAMPLER_YCBCR_MODEL_CONVERSION_YCBCR_IDENTITY_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap13.html#VkSamplerYcbcrRange">VkSamplerYcbcrRange</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_YCBCR_RANGE_ITU_FULL_KHR</code></p>
</li>
<li>
<p><code>VK_SAMPLER_YCBCR_RANGE_ITU_NARROW_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_PLANE_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_PLANE_MEMORY_REQUIREMENTS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SAMPLER_YCBCR_CONVERSION_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_IMAGE_FORMAT_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_118"><a class="anchor" href="chap47.html#_version_history_118"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-01-24 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-01-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>After initial feedback</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-01-27 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Higher bit depth formats, renaming, swizzle</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2017-02-22 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added query function, formats as RGB, clarifications</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2017-04-?? (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Simplified query and removed output conversions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-04-24 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Tidying, incorporated new image query, restored transfer functions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2017-04-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added cosited option/midpoint requirement for formats,
“bypassConversion”</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2017-04-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Simplified further</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2017-04-27 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Disjoint no more</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2017-04-28 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Restored disjoint</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2017-04-29 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Now Ycbcr conversion, and KHR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2017-06-06 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added conversion to image view creation</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2017-07-13 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Allowed cosited-only chroma samples for formats</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2017-08-11 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Reflected quantization changes in BT.2100-1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_separate_depth_stencil_layouts"><a class="anchor" href="chap47.html#VK_KHR_separate_depth_stencil_layouts"></a>VK_KHR_separate_depth_stencil_layouts</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_separate_depth_stencil_layouts</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>242</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="chap47.html#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_separate_depth_stencil_layouts] @pdaniell-nv%0A*Here describe the issue or question you have about the VK_KHR_separate_depth_stencil_layouts extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_118"><a class="anchor" href="chap47.html#_other_extension_metadata_118"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-25</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_118"><a class="anchor" href="chap47.html#_description_118"></a>Description</h5>
<div class="paragraph">
<p>This extension allows image memory barriers for depth/stencil images to have
just one of the <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code> aspect bits set, rather than require both.
This allows their layouts to be set independently.
To support depth/stencil images with different layouts for the depth and
stencil aspects, the depth/stencil attachment interface has been updated to
support a separate layout for stencil.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_10"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_10"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_113"><a class="anchor" href="chap47.html#_new_structures_113"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap8.html#VkAttachmentDescription2">VkAttachmentDescription2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkAttachmentDescriptionStencilLayoutKHR">VkAttachmentDescriptionStencilLayoutKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap8.html#VkAttachmentReference2">VkAttachmentReference2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkAttachmentReferenceStencilLayoutKHR">VkAttachmentReferenceStencilLayoutKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceSeparateDepthStencilLayoutsFeaturesKHR">VkPhysicalDeviceSeparateDepthStencilLayoutsFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_122"><a class="anchor" href="chap47.html#_new_enum_constants_122"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SEPARATE_DEPTH_STENCIL_LAYOUTS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SEPARATE_DEPTH_STENCIL_LAYOUTS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap12.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_STENCIL_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_STENCIL_LAYOUT_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_STENCIL_LAYOUT_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SEPARATE_DEPTH_STENCIL_LAYOUTS_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_119"><a class="anchor" href="chap47.html#_version_history_119"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-06-25 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_atomic_int64"><a class="anchor" href="chap47.html#VK_KHR_shader_atomic_int64"></a>VK_KHR_shader_atomic_int64</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_atomic_int64</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>181</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_atomic_int64] @ahagan%0A*Here describe the issue or question you have about the VK_KHR_shader_atomic_int64 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>ahagan</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_119"><a class="anchor" href="chap47.html#_other_extension_metadata_119"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_gpu_shader_int64.txt"><code>GL_ARB_gpu_shader_int64</code></a> and
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shader_atomic_int64.txt"><code>GL_EXT_shader_atomic_int64</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_119"><a class="anchor" href="chap47.html#_description_119"></a>Description</h5>
<div class="paragraph">
<p>This extension advertises the SPIR-V <strong>Int64Atomics</strong> capability for Vulkan,
which allows a shader to contain 64-bit atomic operations on signed and
unsigned integers.
The supported operations include OpAtomicMin, OpAtomicMax, OpAtomicAnd,
OpAtomicOr, OpAtomicXor, OpAtomicAdd, OpAtomicExchange, and
OpAtomicCompareExchange.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_11"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_11"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the
<code>shaderBufferInt64Atomics</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_114"><a class="anchor" href="chap47.html#_new_structures_114"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderAtomicInt64FeaturesKHR">VkPhysicalDeviceShaderAtomicInt64FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_123"><a class="anchor" href="chap47.html#_new_enum_constants_123"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_ATOMIC_INT64_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_ATOMIC_INT64_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_ATOMIC_INT64_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_20"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_20"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-Int64Atomics"><code>Int64Atomics</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_120"><a class="anchor" href="chap47.html#_version_history_120"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-05 (Aaron Hagan)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_draw_parameters"><a class="anchor" href="chap47.html#VK_KHR_shader_draw_parameters"></a>VK_KHR_shader_draw_parameters</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_draw_parameters</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>64</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_shader_draw_parameters.html">SPV_KHR_shader_draw_parameters</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_draw_parameters] @dgkoch%0A*Here describe the issue or question you have about the VK_KHR_shader_draw_parameters extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_120"><a class="anchor" href="chap47.html#_other_extension_metadata_120"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://registry.khronos.org/OpenGL/extensions/ARB/ARB_shader_draw_parameters.txt"><code>GL_ARB_shader_draw_parameters</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA Corporation</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Stuart Smith, IMG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_120"><a class="anchor" href="chap47.html#_description_120"></a>Description</h5>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_shader_draw_parameters</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The extension provides access to three additional built-in shader variables
in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BaseInstance</code>, containing the <code>firstInstance</code> parameter passed
to drawing commands,</p>
</li>
<li>
<p><code>BaseVertex</code>, containing the <code>firstVertex</code> or <code>vertexOffset</code>
parameter passed to drawing commands, and</p>
</li>
<li>
<p><code>DrawIndex</code>, containing the index of the draw call currently being
processed from an indirect drawing call.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following variables from
<code>GL_ARB_shader_draw_parameters</code> can map to these SPIR-V built-in
decorations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in int gl_BaseInstanceARB;</code> → <code>BaseInstance</code>,</p>
</li>
<li>
<p><code>in int gl_BaseVertexARB;</code> → <code>BaseVertex</code>, and</p>
</li>
<li>
<p><code>in int gl_DrawIDARB;</code> → <code>DrawIndex</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_21"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_21"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1.
However, the <a href="chap38.html#features-shaderDrawParameters"><code>shaderDrawParameters</code></a>
feature bit was added to distinguish whether it is actually available or
not.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_124"><a class="anchor" href="chap47.html#_new_enum_constants_124"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_DRAW_PARAMETERS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_DRAW_PARAMETERS_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_built_in_variables_6"><a class="anchor" href="chap47.html#_new_built_in_variables_6"></a>New Built-In Variables</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-baseinstance"><code>BaseInstance</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-basevertex"><code>BaseVertex</code></a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-builtin-variables-drawindex"><code>DrawIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_21"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_21"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-DrawParameters"><code>DrawParameters</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_53"><a class="anchor" href="chap47.html#_issues_53"></a>Issues</h5>
<div class="paragraph">
<p>1) Is this the same functionality as <code>GL_ARB_shader_draw_parameters</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: It is actually a superset, as it also adds in support for
arrayed drawing commands.</p>
</div>
<div class="paragraph">
<p>In GL for <code>GL_ARB_shader_draw_parameters</code>, <code>gl_BaseVertexARB</code> holds the
integer value passed to the parameter to the command that resulted in the
current shader invocation.
In the case where the command has no <code>baseVertex</code> parameter, the value of
<code>gl_BaseVertexARB</code> is zero.
This means that <code>gl_BaseVertexARB</code> = <code>baseVertex</code> (for
<code>glDrawElements</code> commands with <code>baseVertex</code>) or 0.
In particular there are no <code>glDrawArrays</code> commands that take a
<code>baseVertex</code> parameter.</p>
</div>
<div class="paragraph">
<p>Now in Vulkan, we have <code>BaseVertex</code> = <code>vertexOffset</code> (for indexed
drawing commands) or <code>firstVertex</code> (for arrayed drawing commands), and
so Vulkan’s version is really a superset of GL functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_121"><a class="anchor" href="chap47.html#_version_history_121"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-05 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_float16_int8"><a class="anchor" href="chap47.html#VK_KHR_shader_float16_int8"></a>VK_KHR_shader_float16_int8</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_float16_int8</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>83</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_float16_int8] @alegal-arm%0A*Here describe the issue or question you have about the VK_KHR_shader_float16_int8 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_121"><a class="anchor" href="chap47.html#_other_extension_metadata_121"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-07</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension interacts with <code><a href="chap47.html#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="chap47.html#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="chap47.html#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code></p>
</li>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GL_EXT_shader_explicit_arithmetic_types.txt"><code>GL_EXT_shader_explicit_arithmetic_types</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_121"><a class="anchor" href="chap47.html#_description_121"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_shader_float16_int8</code> extension allows use of 16-bit
floating-point types and 8-bit integer types in shaders for arithmetic
operations.</p>
</div>
<div class="paragraph">
<p>It introduces two new optional features <code>shaderFloat16</code> and
<code>shaderInt8</code> which directly map to the <code>Float16</code> and the <code>Int8</code>
SPIR-V capabilities.
The <code>VK_KHR_shader_float16_int8</code> extension also specifies precision
requirements for half-precision floating-point SPIR-V operations.
This extension does not enable use of 8-bit integer types or 16-bit
floating-point types in any <a href="chap15.html#interfaces-iointerfaces">shader input and
output interfaces</a> and therefore does not supersede the
<code><a href="chap47.html#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></code> or <code><a href="chap47.html#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></code> extensions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_12"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_12"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, both the
<code>shaderFloat16</code> and <code>shaderInt8</code> capabilities are optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_115"><a class="anchor" href="chap47.html#_new_structures_115"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceFloat16Int8FeaturesKHR">VkPhysicalDeviceFloat16Int8FeaturesKHR</a></p>
</li>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderFloat16Int8FeaturesKHR">VkPhysicalDeviceShaderFloat16Int8FeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_125"><a class="anchor" href="chap47.html#_new_enum_constants_125"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_FLOAT16_INT8_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_FLOAT16_INT8_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FLOAT16_INT8_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_FLOAT16_INT8_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_122"><a class="anchor" href="chap47.html#_version_history_122"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-03-07 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_float_controls"><a class="anchor" href="chap47.html#VK_KHR_shader_float_controls"></a>VK_KHR_shader_float_controls</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_float_controls</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>198</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_float_controls.html">SPV_KHR_float_controls</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_float_controls] @alegal-arm%0A*Here describe the issue or question you have about the VK_KHR_shader_float_controls extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_122"><a class="anchor" href="chap47.html#_other_extension_metadata_122"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_122"><a class="anchor" href="chap47.html#_description_122"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_shader_float_controls</code> extension enables efficient use of
floating-point computations through the ability to query and override the
implementation’s default behavior for rounding modes, denormals, signed
zero, and infinity.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_13"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_13"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_116"><a class="anchor" href="chap47.html#_new_structures_116"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceFloatControlsPropertiesKHR">VkPhysicalDeviceFloatControlsPropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_45"><a class="anchor" href="chap47.html#_new_enums_45"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkShaderFloatControlsIndependenceKHR">VkShaderFloatControlsIndependenceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_126"><a class="anchor" href="chap47.html#_new_enum_constants_126"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_FLOAT_CONTROLS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_FLOAT_CONTROLS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap39.html#VkShaderFloatControlsIndependence">VkShaderFloatControlsIndependence</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_FLOAT_CONTROLS_INDEPENDENCE_32_BIT_ONLY_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_FLOAT_CONTROLS_INDEPENDENCE_ALL_KHR</code></p>
</li>
<li>
<p><code>VK_SHADER_FLOAT_CONTROLS_INDEPENDENCE_NONE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FLOAT_CONTROLS_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_22"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_22"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-DenormPreserve"><code>DenormPreserve</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-DenormFlushToZero"><code>DenormFlushToZero</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-SignedZeroInfNanPreserve"><code>SignedZeroInfNanPreserve</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-RoundingModeRTE"><code>RoundingModeRTE</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-RoundingModeRTZ"><code>RoundingModeRTZ</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_54"><a class="anchor" href="chap47.html#_issues_54"></a>Issues</h5>
<div class="paragraph">
<p>1) Which instructions must flush denorms?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Only floating-point conversion, floating-point arithmetic,
floating-point relational (except <code>OpIsNaN</code>, <code>OpIsInf</code>), and
floating-point GLSL.std.450 extended instructions must flush denormals.</p>
</div>
<div class="paragraph">
<p>2) What is the denorm behavior for intermediate results?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: When a SPIR-V instruction is implemented as a sequence of other
instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>in the <code>DenormFlushToZero</code> execution mode, the intermediate
instructions may flush denormals, the final result of the sequence <strong class="purple">must</strong>
not be denormal.</p>
</li>
<li>
<p>in the <code>DenormPreserve</code> execution mode, denormals must be preserved
throughout the whole sequence.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>3) Do denorm and rounding mode controls apply to <code>OpSpecConstantOp</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, except when the opcode is <code>OpQuantizeToF16</code>.</p>
</div>
<div class="paragraph">
<p>4) The SPIR-V specification says that <code>OpConvertFToU</code> and
<code>OpConvertFToS</code> unconditionally round towards zero.
Do the rounding mode controls specified through the execution modes apply to
them?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, these instructions unconditionally round towards zero.</p>
</div>
<div class="paragraph">
<p>5) Do any of the “Pack” GLSL.std.450 instructions count as conversion
instructions and have the rounding mode applied?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, only instructions listed in “section 3.32.11.
Conversion Instructions” of the SPIR-V specification count as conversion
instructions.</p>
</div>
<div class="paragraph">
<p>6) When using inf/nan-ignore mode, what is expected of <code>OpIsNan</code> and
<code>OpIsInf</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: These instructions must always accurately detect inf/nan if it
is passed to them.</p>
</div>
</div>
<div class="sect4">
<h5 id="VK_KHR_shader_controls_v4_incompatibility"><a class="anchor" href="chap47.html#VK_KHR_shader_controls_v4_incompatibility"></a>Version 4 API Incompatibility</h5>
<div class="paragraph">
<p>The original versions of <code>VK_KHR_shader_float_controls</code> shipped with
booleans named “separateDenormSettings” and
“separateRoundingModeSettings”, which at first glance could have indicated
“they can all be set independently, or not”.
However the spec language as written indicated that the 32-bit value could
always be set independently, and only the 16- and 64-bit controls needed to
be the same if these values were <code>VK_FALSE</code>.</p>
</div>
<div class="paragraph">
<p>As a result of this slight disparity, and lack of test coverage for this
facet of the extension, we ended up with two different behaviors in the
wild, where some implementations worked as written, and others worked based
on the naming.
As these are hard limits in hardware with reasons for exposure as written,
it was not possible to standardise on a single way to make this work within
the existing API.</p>
</div>
<div class="paragraph">
<p>No known users of this part of the extension exist in the wild, and as such
the Vulkan WG took the unusual step of retroactively changing the once
boolean value into a tri-state enum, breaking source compatibility.
This was however done in such a way as to retain ABI compatibility, in case
any code using this did exist; with the numerical values 0 and 1 retaining
their original specified meaning, and a new value signifying the additional
“all need to be set together” state.
If any applications exist today, compiled binaries will continue to work as
written in most cases, but will need changes before the code can be
recompiled.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_123"><a class="anchor" href="chap47.html#_version_history_123"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 4, 2019-06-18 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Modified settings restrictions, see
<a href="chap47.html#VK_KHR_shader_controls_v4_incompatibility">Version 4 API
incompatibility</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2018-09-11 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Minor restructuring</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-04-17 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues and resolutions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-04-11 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_subgroup_extended_types"><a class="anchor" href="chap47.html#VK_KHR_shader_subgroup_extended_types"></a>VK_KHR_shader_subgroup_extended_types</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_subgroup_extended_types</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>176</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Neil Henning <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_shader_subgroup_extended_types] @sheredom%0A*Here describe the issue or question you have about the VK_KHR_shader_subgroup_extended_types extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>sheredom</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_123"><a class="anchor" href="chap47.html#_other_extension_metadata_123"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension provides API support for
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/ext/GLSL_EXT_shader_subgroup_extended_types.txt"><code>GLSL_EXT_shader_subgroup_extended_types</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_123"><a class="anchor" href="chap47.html#_description_123"></a>Description</h5>
<div class="paragraph">
<p>This extension enables the Non Uniform Group Operations in SPIR-V to support
8-bit integer, 16-bit integer, 64-bit integer, 16-bit floating-point, and
vectors of these types.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_14"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_14"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_117"><a class="anchor" href="chap47.html#_new_structures_117"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceShaderSubgroupExtendedTypesFeaturesKHR">VkPhysicalDeviceShaderSubgroupExtendedTypesFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_127"><a class="anchor" href="chap47.html#_new_enum_constants_127"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SHADER_SUBGROUP_EXTENDED_TYPES_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SHADER_SUBGROUP_EXTENDED_TYPES_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_SUBGROUP_EXTENDED_TYPES_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_124"><a class="anchor" href="chap47.html#_version_history_124"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-01-08 (Neil Henning)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_spirv_1_4"><a class="anchor" href="chap47.html#VK_KHR_spirv_1_4"></a>VK_KHR_spirv_1_4</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_spirv_1_4</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>237</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap46.html#versions-1.1">Version 1.1</a><br>
and<br>
<a href="chap47.html#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_spirv_1_4] @critsec%0A*Here describe the issue or question you have about the VK_KHR_spirv_1_4 extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_124"><a class="anchor" href="chap47.html#_other_extension_metadata_124"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-04-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires SPIR-V 1.4.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
<li>
<p>Tom Olson, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_124"><a class="anchor" href="chap47.html#_description_124"></a>Description</h5>
<div class="paragraph">
<p>This extension allows the use of SPIR-V 1.4 shader modules.
SPIR-V 1.4’s new features primarily make it an easier target for compilers
from high-level languages, rather than exposing new hardware functionality.</p>
</div>
<div class="paragraph">
<p>SPIR-V 1.4 incorporates features that are also available separately as
extensions.
SPIR-V 1.4 shader modules do not need to enable those extensions with the
<code>OpExtension</code> opcode, since they are integral parts of SPIR-V 1.4.</p>
</div>
<div class="paragraph">
<p>SPIR-V 1.4 introduces new floating point execution mode capabilities, also
available via <code>SPV_KHR_float_controls</code>.
Implementations are not required to support all of these new capabilities;
support can be queried using
<a href="chap39.html#VkPhysicalDeviceFloatControlsPropertiesKHR">VkPhysicalDeviceFloatControlsPropertiesKHR</a> from the
<code><a href="chap47.html#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code> extension.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_15"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_15"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_128"><a class="anchor" href="chap47.html#_new_enum_constants_128"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_SPIRV_1_4_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_SPIRV_1_4_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_55"><a class="anchor" href="chap47.html#_issues_55"></a>Issues</h5>
<div class="paragraph">
<p>1.
Should we have an extension specific to this SPIR-V version, or add a
version-generic query for SPIR-V version? SPIR-V 1.4 does not need any other
API changes.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Just expose SPIR-V 1.4.</p>
</div>
<div class="paragraph">
<p>Most new SPIR-V versions introduce optionally-required capabilities or have
implementation-defined limits, and would need more API and specification
changes specific to that version to make them available in Vulkan.
For example, to support the subgroup capabilities added in SPIR-V 1.3
required introducing <a href="chap39.html#VkPhysicalDeviceSubgroupProperties">VkPhysicalDeviceSubgroupProperties</a> to allow
querying the supported group operation categories, maximum supported
subgroup size, etc.
While we could expose the parts of a new SPIR-V version that do not need
accompanying changes generically, we will still end up writing extensions
specific to each version for the remaining parts.
Thus the generic mechanism will not reduce future spec-writing effort.
In addition, making it clear which parts of a future version are supported
by the generic mechanism and which cannot be used without specific support
would be difficult to get right ahead of time.</p>
</div>
<div class="paragraph">
<p>2.
Can different stages of the same pipeline use shaders with different SPIR-V
versions?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>Mixing SPIR-V versions 1.0-1.3 in the same pipeline has not been disallowed,
so it would be inconsistent to disallow mixing 1.4 with previous versions.
SPIR-V 1.4 does not introduce anything that should cause new difficulties
here.</p>
</div>
<div class="paragraph">
<p>3.
Must Vulkan extensions corresponding to SPIR-V extensions that were promoted
to core in 1.4 be enabled in order to use that functionality in a SPIR-V 1.4
module?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, with caveats.</p>
</div>
<div class="paragraph">
<p>The SPIR-V 1.4 module does not need to declare the SPIR-V extensions, since
the functionality is now part of core, so there is no need to enable the
Vulkan extension that allows SPIR-V modules to declare the SPIR-V extension.
However, when the functionality that is now core in SPIR-V 1.4 is optionally
supported, the query for support is provided by a Vulkan extension, and that
query can only be used if the extension is enabled.</p>
</div>
<div class="paragraph">
<p>This applies to any SPIR-V version; specifically for SPIR-V 1.4 this only
applies to the functionality from <code>SPV_KHR_float_controls</code>, which was made
available in Vulkan by <code><a href="chap47.html#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code>.
Even though the extension was promoted in SPIR-V 1.4, the capabilities are
still optional in implementations that support <code>VK_KHR_spirv_1_4</code>.</p>
</div>
<div class="paragraph">
<p>A SPIR-V 1.4 module does not need to enable <code>SPV_KHR_float_controls</code> in
order to use the capabilities, so if the application has <em>a priori</em>
knowledge that the implementation supports the capabilities, it does not
need to enable <code><a href="chap47.html#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code>.
However, if it does not have this knowledge and has to query for support at
runtime, it must enable <code><a href="chap47.html#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code> in order to
use <a href="chap39.html#VkPhysicalDeviceFloatControlsPropertiesKHR">VkPhysicalDeviceFloatControlsPropertiesKHR</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_125"><a class="anchor" href="chap47.html#_version_history_125"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-04-01 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Internal draft versions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_storage_buffer_storage_class"><a class="anchor" href="chap47.html#VK_KHR_storage_buffer_storage_class"></a>VK_KHR_storage_buffer_storage_class</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_storage_buffer_storage_class</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>132</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_storage_buffer_storage_class.html">SPV_KHR_storage_buffer_storage_class</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_storage_buffer_storage_class] @alegal-arm%0A*Here describe the issue or question you have about the VK_KHR_storage_buffer_storage_class extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_125"><a class="anchor" href="chap47.html#_other_extension_metadata_125"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, ARM</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_125"><a class="anchor" href="chap47.html#_description_125"></a>Description</h5>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_KHR_storage_buffer_storage_class</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension provides a new SPIR-V <code>StorageBuffer</code> storage class.
A <code>Block</code>-decorated object in this class is equivalent to a
<code>BufferBlock</code>-decorated object in the <code>Uniform</code> storage class.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_22"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_22"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_129"><a class="anchor" href="chap47.html#_new_enum_constants_129"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_STORAGE_BUFFER_STORAGE_CLASS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_STORAGE_BUFFER_STORAGE_CLASS_SPEC_VERSION</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_126"><a class="anchor" href="chap47.html#_version_history_126"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_timeline_semaphore"><a class="anchor" href="chap47.html#VK_KHR_timeline_semaphore"></a>VK_KHR_timeline_semaphore</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_timeline_semaphore</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>208</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Faith Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_timeline_semaphore] @gfxstrand%0A*Here describe the issue or question you have about the VK_KHR_timeline_semaphore extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gfxstrand</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_126"><a class="anchor" href="chap47.html#_other_extension_metadata_126"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-06-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension interacts with
<code><a href="chap47.html#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="chap47.html#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="chap47.html#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Yuriy O’Donnell, Epic Games</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_126"><a class="anchor" href="chap47.html#_description_126"></a>Description</h5>
<div class="paragraph">
<p>This extension introduces a new type of semaphore that has an integer
payload identifying a point in a timeline.
Such timeline semaphores support the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Host query - A host operation that allows querying the payload of the
timeline semaphore.</p>
</li>
<li>
<p>Host wait - A host operation that allows a blocking wait for a timeline
semaphore to reach a specified value.</p>
</li>
<li>
<p>Host signal - A host operation that allows advancing the timeline
semaphore to a specified value.</p>
</li>
<li>
<p>Device wait - A device operation that allows waiting for a timeline
semaphore to reach a specified value.</p>
</li>
<li>
<p>Device signal - A device operation that allows advancing the timeline
semaphore to a specified value.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_16"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_16"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_commands_67"><a class="anchor" href="chap47.html#_new_commands_67"></a>New Commands</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#vkGetSemaphoreCounterValueKHR">vkGetSemaphoreCounterValueKHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkSignalSemaphoreKHR">vkSignalSemaphoreKHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkWaitSemaphoresKHR">vkWaitSemaphoresKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_118"><a class="anchor" href="chap47.html#_new_structures_118"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkSemaphoreSignalInfoKHR">VkSemaphoreSignalInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSemaphoreWaitInfoKHR">VkSemaphoreWaitInfoKHR</a></p>
</li>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceTimelineSemaphoreFeaturesKHR">VkPhysicalDeviceTimelineSemaphoreFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap5.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap39.html#VkPhysicalDeviceTimelineSemaphorePropertiesKHR">VkPhysicalDeviceTimelineSemaphorePropertiesKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkSemaphoreCreateInfo">VkSemaphoreCreateInfo</a>, <a href="chap41.html#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkSemaphoreTypeCreateInfoKHR">VkSemaphoreTypeCreateInfoKHR</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkSubmitInfo">VkSubmitInfo</a>, <a href="chap29.html#VkBindSparseInfo">VkBindSparseInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkTimelineSemaphoreSubmitInfoKHR">VkTimelineSemaphoreSubmitInfoKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enums_46"><a class="anchor" href="chap47.html#_new_enums_46"></a>New Enums</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkSemaphoreTypeKHR">VkSemaphoreTypeKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSemaphoreWaitFlagBitsKHR">VkSemaphoreWaitFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_bitmasks_39"><a class="anchor" href="chap47.html#_new_bitmasks_39"></a>New Bitmasks</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkSemaphoreWaitFlagsKHR">VkSemaphoreWaitFlagsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_130"><a class="anchor" href="chap47.html#_new_enum_constants_130"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_TIMELINE_SEMAPHORE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_TIMELINE_SEMAPHORE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap7.html#VkSemaphoreType">VkSemaphoreType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SEMAPHORE_TYPE_BINARY_KHR</code></p>
</li>
<li>
<p><code>VK_SEMAPHORE_TYPE_TIMELINE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkSemaphoreWaitFlagBits">VkSemaphoreWaitFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SEMAPHORE_WAIT_ANY_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TIMELINE_SEMAPHORE_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TIMELINE_SEMAPHORE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_SIGNAL_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_TYPE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_WAIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_TIMELINE_SEMAPHORE_SUBMIT_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_56"><a class="anchor" href="chap47.html#_issues_56"></a>Issues</h5>
<div class="paragraph">
<p>1) Do we need a new object type for this?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, we just introduce a new type of semaphore object, as
<code>VK_KHR_external_semaphore_win32</code> already uses semaphores as the destination
for importing D3D12 fence objects, which are semantically close/identical to
the proposed synchronization primitive.</p>
</div>
<div class="paragraph">
<p>2) What type of payload the new synchronization primitive has?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A 64-bit unsigned integer that can only be set to strictly
increasing values by signal operations and is not changed by wait
operations.</p>
</div>
<div class="paragraph">
<p>3) Does the new synchronization primitive have the same signal-before-wait
requirement as the existing semaphores do?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Timeline semaphores support signaling and waiting entirely asynchronously.
It is the responsibility of the client to avoid deadlock.</p>
</div>
<div class="paragraph">
<p>4) Does the new synchronization primitive allow resetting its payload?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, allowing the payload value to “go backwards” is
problematic.
Applications looking for reset behavior should create a new instance of the
synchronization primitive instead.</p>
</div>
<div class="paragraph">
<p>5) How do we enable host waits on the synchronization primitive?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Both a non-blocking query of the current payload value of the
synchronization primitive, and a blocking wait operation are provided.</p>
</div>
<div class="paragraph">
<p>6) How do we enable device waits and signals on the synchronization
primitive?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Similar to <code>VK_KHR_external_semaphore_win32</code>, this extension
introduces a new structure that can be chained to <a href="chap6.html#VkSubmitInfo">VkSubmitInfo</a> to
specify the values signaled semaphores should be set to, and the values
waited semaphores need to reach.</p>
</div>
<div class="paragraph">
<p>7) Can the new synchronization primitive be used to synchronize presentation
and swapchain image acquisition operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Some implementations may have problems with supporting that
directly, thus it is not allowed in this extension.</p>
</div>
<div class="paragraph">
<p>8) Do we want to support external sharing of the new synchronization
primitive type?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Timeline semaphore specific external sharing capabilities can be queried
using <a href="chap41.html#vkGetPhysicalDeviceExternalSemaphoreProperties">vkGetPhysicalDeviceExternalSemaphoreProperties</a> by chaining the
new <a href="chap7.html#VkSemaphoreTypeCreateInfoKHR">VkSemaphoreTypeCreateInfoKHR</a> structure to its
<code>pExternalSemaphoreInfo</code> structure.
This allows having a different set of external semaphore handle types
supported for timeline semaphores vs. binary semaphores.</p>
</div>
<div class="paragraph">
<p>9) Do we need to add a host signal operation for the new synchronization
primitive type?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This helps in situations where one host thread submits a workload but
another host thread has the information on when the workload is ready to be
executed.</p>
</div>
<div class="paragraph">
<p>10) How should the new synchronization primitive interact with the ordering
requirements of the original <code>VkSemaphore</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Prior to calling any command which <strong class="purple">may</strong> cause a wait operation
on a binary semaphore, the client <strong class="purple">must</strong> ensure that the semaphore signal
operation that has been submitted for execution and any semaphore signal
operations on which it depends (if any) <strong class="purple">must</strong> have also been submitted for
execution.</p>
</div>
<div class="paragraph">
<p>11) Should we have separate feature bits for different sub-features of
timeline semaphores?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The only feature which cannot be supported universally is timeline semaphore
import/export.
For import/export, the client is already required to query available
external handle types via
<a href="chap41.html#vkGetPhysicalDeviceExternalSemaphoreProperties">vkGetPhysicalDeviceExternalSemaphoreProperties</a> and provide the
semaphore type by adding a <a href="chap7.html#VkSemaphoreTypeCreateInfoKHR">VkSemaphoreTypeCreateInfoKHR</a> structure to
the <code>pNext</code> chain of <a href="chap41.html#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a> so no
new feature bit is required.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_127"><a class="anchor" href="chap47.html#_version_history_127"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-05-10 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2019-06-12 (Faith Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added an initialValue parameter to timeline semaphore creation</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_uniform_buffer_standard_layout"><a class="anchor" href="chap47.html#VK_KHR_uniform_buffer_standard_layout"></a>VK_KHR_uniform_buffer_standard_layout</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_uniform_buffer_standard_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>254</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_uniform_buffer_standard_layout] @gnl21%0A*Here describe the issue or question you have about the VK_KHR_uniform_buffer_standard_layout extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>gnl21</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_127"><a class="anchor" href="chap47.html#_other_extension_metadata_127"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2019-01-25</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_127"><a class="anchor" href="chap47.html#_description_127"></a>Description</h5>
<div class="paragraph">
<p>This extension enables tighter array and struct packing to be used with
uniform buffers.</p>
</div>
<div class="paragraph">
<p>It modifies the alignment rules for uniform buffers, allowing for tighter
packing of arrays and structures.
This allows, for example, the std430 layout, as defined in
<a href="https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.4.60.pdf">GLSL</a> to
be supported in uniform buffers.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_17"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_17"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_119"><a class="anchor" href="chap47.html#_new_structures_119"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceUniformBufferStandardLayoutFeaturesKHR">VkPhysicalDeviceUniformBufferStandardLayoutFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_131"><a class="anchor" href="chap47.html#_new_enum_constants_131"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_UNIFORM_BUFFER_STANDARD_LAYOUT_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_UNIFORM_BUFFER_STANDARD_LAYOUT_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_UNIFORM_BUFFER_STANDARD_LAYOUT_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_128"><a class="anchor" href="chap47.html#_version_history_128"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-01-25 (Graeme Leese)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_variable_pointers"><a class="anchor" href="chap47.html#VK_KHR_variable_pointers"></a>VK_KHR_variable_pointers</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_variable_pointers</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>121</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br>
and<br>
<a href="chap47.html#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_variable_pointers.html">SPV_KHR_variable_pointers</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.1-promotions">Vulkan 1.1</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_variable_pointers] @critsec%0A*Here describe the issue or question you have about the VK_KHR_variable_pointers extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_128"><a class="anchor" href="chap47.html#_other_extension_metadata_128"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Weifeng Zhang, Qualcomm</p>
</li>
<li>
<p>Stephen Clarke, Imagination Technologies</p>
</li>
<li>
<p>Faith Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_128"><a class="anchor" href="chap47.html#_description_128"></a>Description</h5>
<div class="paragraph">
<p>The <code>VK_KHR_variable_pointers</code> extension allows implementations to indicate
their level of support for the <code>SPV_KHR_variable_pointers</code> SPIR-V extension.
The SPIR-V extension allows shader modules to use invocation-private
pointers into uniform and/or storage buffers, where the pointer values can
be dynamic and non-uniform.</p>
</div>
<div class="paragraph">
<p>The <code>SPV_KHR_variable_pointers</code> extension introduces two capabilities.
The first, <code>VariablePointersStorageBuffer</code>, <strong class="purple">must</strong> be supported by all
implementations of this extension.
The second, <code>VariablePointers</code>, is optional.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_1_23"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_1_23"></a>Promotion to Vulkan 1.1</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted, however support for the
<a href="chap38.html#features-variablePointersStorageBuffer"><code>variablePointersStorageBuffer</code></a> feature is made optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_120"><a class="anchor" href="chap47.html#_new_structures_120"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceVariablePointerFeaturesKHR">VkPhysicalDeviceVariablePointerFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap38.html#VkPhysicalDeviceVariablePointersFeaturesKHR">VkPhysicalDeviceVariablePointersFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_132"><a class="anchor" href="chap47.html#_new_enum_constants_132"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VARIABLE_POINTERS_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VARIABLE_POINTERS_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VARIABLE_POINTERS_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VARIABLE_POINTER_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_23"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_23"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-VariablePointers"><code>VariablePointers</code></a></p>
</li>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-VariablePointersStorageBuffer"><code>VariablePointersStorageBuffer</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_issues_57"><a class="anchor" href="chap47.html#_issues_57"></a>Issues</h5>
<div class="paragraph">
<p>1) Do we need an optional property for the SPIR-V
<code>VariablePointersStorageBuffer</code> capability or should it be mandatory when
this extension is advertised?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Add it as a distinct feature, but make support mandatory.
Adding it as a feature makes the extension easier to include in a future
core API version.
In the extension, the feature is mandatory, so that presence of the
extension guarantees some functionality.
When included in a core API version, the feature would be optional.</p>
</div>
<div class="paragraph">
<p>2) Can support for these capabilities vary between shader stages?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, if the capability is supported in any stage it must be
supported in all stages.</p>
</div>
<div class="paragraph">
<p>3) Should the capabilities be features or limits?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Features, primarily for consistency with other similar
extensions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_129"><a class="anchor" href="chap47.html#_version_history_129"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-14 (Jesse Hall and John Kessenich)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_vulkan_memory_model"><a class="anchor" href="chap47.html#VK_KHR_vulkan_memory_model"></a>VK_KHR_vulkan_memory_model</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_vulkan_memory_model</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>212</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="chap47.html#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a><br></p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>SPIR-V Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/KHR/SPV_KHR_vulkan_memory_model.html">SPV_KHR_vulkan_memory_model</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap46.html#versions-1.2-promotions">Vulkan 1.2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_KHR_vulkan_memory_model] @jeffbolznv%0A*Here describe the issue or question you have about the VK_KHR_vulkan_memory_model extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_129"><a class="anchor" href="chap47.html#_other_extension_metadata_129"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-12-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Alan Baker, Google</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Robert Simpson, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Brian Sumner, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_129"><a class="anchor" href="chap47.html#_description_129"></a>Description</h5>
<div class="paragraph">
<p>The <a href="chap47.html#VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</a> extension allows use of the features
guarded by the <code>VulkanMemoryModel</code>, <code>VulkanMemoryModelDeviceScope</code>,
and <code>VulkanMemoryModelAvailabilityVisibilityChains</code> capabilities in
shader modules.
The <a href="chap44.html">Vulkan Memory Model</a> formally defines how to synchronize
memory accesses to the same memory locations performed by multiple shader
invocations.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Version 3 of the spec added a member
(<code>vulkanMemoryModelAvailabilityVisibilityChains</code>) to
<a href="chap38.html#VkPhysicalDeviceVulkanMemoryModelFeaturesKHR">VkPhysicalDeviceVulkanMemoryModelFeaturesKHR</a>, which is an incompatible
change from version 2.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vulkan_1_2_18"><a class="anchor" href="chap47.html#_promotion_to_vulkan_1_2_18"></a>Promotion to Vulkan 1.2</h5>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.2, with the
KHR suffix omitted.
However, if Vulkan 1.2 is supported and this extension is not, the
<code>vulkanMemoryModel</code> capability is optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_structures_121"><a class="anchor" href="chap47.html#_new_structures_121"></a>New Structures</h5>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap38.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>, <a href="chap5.html#VkDeviceCreateInfo">VkDeviceCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap38.html#VkPhysicalDeviceVulkanMemoryModelFeaturesKHR">VkPhysicalDeviceVulkanMemoryModelFeaturesKHR</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_133"><a class="anchor" href="chap47.html#_new_enum_constants_133"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_VULKAN_MEMORY_MODEL_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_KHR_VULKAN_MEMORY_MODEL_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap3.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VULKAN_MEMORY_MODEL_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_spir_v_capabilities_24"><a class="anchor" href="chap47.html#_new_spir_v_capabilities_24"></a>New SPIR-V Capabilities</h5>
<div class="ulist">
<ul>
<li>
<p><a href="chap43.html#spirvenv-capabilities-table-VulkanMemoryModel"><code>VulkanMemoryModelKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_130"><a class="anchor" href="chap47.html#_version_history_130"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-06-24 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2018-12-10 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Add vulkanMemoryModelAvailabilityVisibilityChains member to the
VkPhysicalDeviceVulkanMemoryModelFeaturesKHR structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_load_store_op_none"><a class="anchor" href="chap47.html#VK_EXT_load_store_op_none"></a>VK_EXT_load_store_op_none</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_load_store_op_none</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>401</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Ratification Status</strong></dt>
<dd>
<p>Ratified</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Deprecation State</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="chap47.html#VK_KHR_load_store_op_none">VK_KHR_load_store_op_none</a>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?body=[VK_EXT_load_store_op_none] @syoussefi%0A*Here describe the issue or question you have about the VK_EXT_load_store_op_none extension*" target="_blank" rel="nofollow noopener"><span class="icon black"><i class="fa fa-github"></i></span>syoussefi</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_other_extension_metadata_130"><a class="anchor" href="chap47.html#_other_extension_metadata_130"></a>Other Extension Metadata</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2021-06-06</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Shahbaz Youssefi, Google</p>
</li>
<li>
<p>Bill Licea-Kane, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_description_130"><a class="anchor" href="chap47.html#_description_130"></a>Description</h5>
<div class="paragraph">
<p>This extension incorporates <code>VK_ATTACHMENT_STORE_OP_NONE_EXT</code> from
<code><code>VK_QCOM_render_pass_store_ops</code></code>, enabling applications to avoid
unnecessary synchronization when an attachment is not written during a
render pass.</p>
</div>
<div class="paragraph">
<p>Additionally, <code>VK_ATTACHMENT_LOAD_OP_NONE_EXT</code> is introduced to avoid
unnecessary synchronization when an attachment is not used during a render
pass at all.
In combination with <code>VK_ATTACHMENT_STORE_OP_NONE_EXT</code>, this is useful as
an alternative to preserve attachments in applications that cannot decide if
an attachment will be used in a render pass until after the necessary
pipelines have been created.</p>
</div>
</div>
<div class="sect4">
<h5 id="_promotion_to_vk_khr_load_store_op_none"><a class="anchor" href="chap47.html#_promotion_to_vk_khr_load_store_op_none"></a>Promotion to <code>VK_KHR_load_store_op_none</code></h5>
<div class="paragraph">
<p>All functionality in this extension is included in
<code><a href="chap47.html#VK_KHR_load_store_op_none">VK_KHR_load_store_op_none</a></code>, with the suffix changed to KHR.
The original enum names are still available as aliases of the KHR
functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_enum_constants_134"><a class="anchor" href="chap47.html#_new_enum_constants_134"></a>New Enum Constants</h5>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXT_LOAD_STORE_OP_NONE_EXTENSION_NAME</code></p>
</li>
<li>
<p><code>VK_EXT_LOAD_STORE_OP_NONE_SPEC_VERSION</code></p>
</li>
<li>
<p>Extending <a href="chap8.html#VkAttachmentLoadOp">VkAttachmentLoadOp</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_LOAD_OP_NONE_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap8.html#VkAttachmentStoreOp">VkAttachmentStoreOp</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ATTACHMENT_STORE_OP_NONE_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_131"><a class="anchor" href="chap47.html#_version_history_131"></a>Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2021-06-06 (Shahbaz Youssefi)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision, based on VK_QCOM_render_pass_store_ops.</p>
</li>
<li>
<p>Added VK_ATTACHMENT_LOAD_OP_NONE_EXT.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap46.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap48.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer">
<div id="footer-text">
Version 1.2.280<br>
Last updated 2024-03-08 03:48:49 -0800
</div>
</div>



</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>