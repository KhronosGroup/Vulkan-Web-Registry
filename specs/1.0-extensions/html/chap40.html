<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="author" content="The Khronos® Vulkan Working Group">
<title>Vulkan® 1.0.95 - A Specification (with all registered Vulkan extensions)</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: #fff; color: #222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: black; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #0068b0; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #333; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: Noto, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Noto, sans-serif; font-weight: normal; font-style: normal; color: black; text-rendering: optimizeLegibility; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #4d4d4d; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #264357; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; list-style-position: outside; font-family: Noto, sans-serif; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #ddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #ddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #5e93b8; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #5e93b8; }

blockquote, blockquote p { line-height: 1.6; color: #333; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #ddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: #fff; margin-bottom: 1.25em; border: solid 1px #d8d8ce; }
table thead, table tfoot { background: #eee; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #6d6e71; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f8; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 0; background-color: transparent; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; word-wrap: break-word; }
*:not(pre) > code.nobreak { word-wrap: normal; }
*:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.6; color: #264357; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #333333; }

kbd { font-family: Consolas, "Liberation Mono", Courier, monospace; display: inline-block; color: black; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 1.5em; padding-right: 1.5em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #5e93b8; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #333; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #333; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 0 solid #ddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: Noto, sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: black; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #fff; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #ddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #ddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: none; padding: 1.25em; }

#footer-text { color: black; line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 0 solid #ddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: black; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: black; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: initial; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: Noto, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddd; color: #5e93b8; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: black; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px hidden #666; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 1.25em 1.5625em 1.125em 1.5625em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eee; background-color: #264357; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1.25em 1.5625em 1.125em 1.5625em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.6; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 0.75em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #333; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: black; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #5e93b8; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 0.75em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #333; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #5e93b8; }

.quoteblock.abstract { margin: 0 0 0.75em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #d8d8ce; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: #eee; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.375em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.375em -0.75em; }

ul.inline > li { margin-left: 0.75em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 0.75em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist > table tr > td:first-of-type img { max-width: initial; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px #fff; -webkit-box-shadow: 0 0 0 1px #ddd; box-shadow: 0 0 0 1px #ddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #29475c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { border-bottom: 1px solid #ddd; }

.sect1 { padding-bottom: 0; }

#toctitle { color: #00406F; font-weight: normal; margin-top: 1.5em; }

.sidebarblock { border-color: #aaa; }

code { -webkit-border-radius: 4px; border-radius: 4px; }

p.tableblock.header { color: #6d6e71; }

.literalblock pre, .listingblock pre { background: #eee; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<link rel="stylesheet" href="../katex/katex.min.css">
<script src="../katex/katex.min.js"></script>
<script src="../katex/contrib/auto-render.min.js"></script>
    <!-- Use KaTeX to render math once document is loaded, see
         https://github.com/Khan/KaTeX/tree/master/contrib/auto-render -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(
            document.body,
            {
                delimiters: [
                    { left: "$$", right: "$$", display: true},
                    { left: "\\[", right: "\\]", display: true},
                    { left: "$", right: "$", display: false},
                    { left: "\\(", right: "\\)", display: false}
                ]
            }
        );
    });
</script></head>
<body class="book toc2 toc-left" style="max-width: 100;">
<div id="header">
<h1>Vulkan<sup>®</sup> 1.0.95 - A Specification (with all registered Vulkan extensions)</h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan Working Group</span><br>
<span id="revnumber">version 1.0.95,</span>
<span id="revdate">2018-12-04 14:31:55Z</span>
<br><span id="revremark">from git branch: github-master commit: ef29cea94bba541fe1ec9ffc33f65af1268bacad</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="chap1.html#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap1.html#introduction-conventions">1.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap2.html#fundamentals">2. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap2.html#fundamentals-host-environment">2.1. Host and Device Environment</a></li>
<li><a href="chap2.html#fundamentals-execmodel">2.2. Execution Model</a></li>
<li><a href="chap2.html#fundamentals-objectmodel-overview">2.3. Object Model</a></li>
<li><a href="chap2.html#fundamentals-abi">2.4. Application Binary Interface</a></li>
<li><a href="chap2.html#fundamentals-commandsyntax">2.5. Command Syntax and Duration</a></li>
<li><a href="chap2.html#fundamentals-threadingbehavior">2.6. Threading Behavior</a></li>
<li><a href="chap2.html#fundamentals-errors">2.7. Errors</a></li>
<li><a href="chap2.html#fundamentals-numerics">2.8. Numeric Representation and Computation</a></li>
<li><a href="chap2.html#fundamentals-fixedconv">2.9. Fixed-Point Data Conversions</a></li>
<li><a href="chap2.html#fundamentals-versionnum">2.10. API Version Numbers and Semantics</a></li>
<li><a href="chap2.html#fundamentals-common-objects">2.11. Common Object Types</a></li>
</ul>
</li>
<li><a href="chap3.html#initialization">3. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap3.html#initialization-functionpointers">3.1. Command Function Pointers</a></li>
<li><a href="chap3.html#initialization-instances">3.2. Instances</a></li>
</ul>
</li>
<li><a href="chap4.html#devsandqueues">4. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap4.html#devsandqueues-physical-device-enumeration">4.1. Physical Devices</a></li>
<li><a href="chap4.html#devsandqueues-devices">4.2. Devices</a></li>
<li><a href="chap4.html#devsandqueues-queues">4.3. Queues</a></li>
</ul>
</li>
<li><a href="chap5.html#commandbuffers">5. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap5.html#commandbuffers-lifecycle">5.1. Command Buffer Lifecycle</a></li>
<li><a href="chap5.html#commandbuffers-pools">5.2. Command Pools</a></li>
<li><a href="chap5.html#commandbuffer-allocation">5.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap5.html#commandbuffers-recording">5.4. Command Buffer Recording</a></li>
<li><a href="chap5.html#commandbuffers-submission">5.5. Command Buffer Submission</a></li>
<li><a href="chap5.html#commandbuffers-submission-progress">5.6. Queue Forward Progress</a></li>
<li><a href="chap5.html#commandbuffers-secondary">5.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap5.html#commandbuffers-devicemask">5.8. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap6.html#synchronization">6. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap6.html#synchronization-dependencies">6.1. Execution and Memory Dependencies</a></li>
<li><a href="chap6.html#synchronization-implicit">6.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap6.html#synchronization-fences">6.3. Fences</a></li>
<li><a href="chap6.html#synchronization-semaphores">6.4. Semaphores</a></li>
<li><a href="chap6.html#synchronization-events">6.5. Events</a></li>
<li><a href="chap6.html#synchronization-pipeline-barriers">6.6. Pipeline Barriers</a></li>
<li><a href="chap6.html#synchronization-memory-barriers">6.7. Memory Barriers</a></li>
<li><a href="chap6.html#synchronization-wait-idle">6.8. Wait Idle Operations</a></li>
<li><a href="chap6.html#synchronization-submission-host-writes">6.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap6.html#synchronization-device-group">6.10. Synchronization and Multiple Physical Devices</a></li>
<li><a href="chap6.html#calibrated-timestamps">6.11. Calibrated timestamps</a></li>
</ul>
</li>
<li><a href="chap7.html#renderpass">7. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap7.html#renderpass-creation">7.1. Render Pass Creation</a></li>
<li><a href="chap7.html#renderpass-compatibility">7.2. Render Pass Compatibility</a></li>
<li><a href="chap7.html#_framebuffers">7.3. Framebuffers</a></li>
<li><a href="chap7.html#renderpass-commands">7.4. Render Pass Commands</a></li>
</ul>
</li>
<li><a href="chap8.html#shaders">8. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap8.html#shader-modules">8.1. Shader Modules</a></li>
<li><a href="chap8.html#shaders-execution">8.2. Shader Execution</a></li>
<li><a href="chap8.html#shaders-execution-memory-ordering">8.3. Shader Memory Access Ordering</a></li>
<li><a href="chap8.html#shaders-inputs">8.4. Shader Inputs and Outputs</a></li>
<li><a href="chap8.html#shaders-task">8.5. Task Shaders</a></li>
<li><a href="chap8.html#shaders-mesh">8.6. Mesh Shaders</a></li>
<li><a href="chap8.html#shaders-vertex">8.7. Vertex Shaders</a></li>
<li><a href="chap8.html#shaders-tessellation-control">8.8. Tessellation Control Shaders</a></li>
<li><a href="chap8.html#shaders-tessellation-evaluation">8.9. Tessellation Evaluation Shaders</a></li>
<li><a href="chap8.html#shaders-geometry">8.10. Geometry Shaders</a></li>
<li><a href="chap8.html#shaders-fragment">8.11. Fragment Shaders</a></li>
<li><a href="chap8.html#shaders-compute">8.12. Compute Shaders</a></li>
<li><a href="chap8.html#shaders-interpolation-decorations">8.13. Interpolation Decorations</a></li>
<li><a href="chap8.html#shaders-ray-generation">8.14. Ray Generation Shaders</a></li>
<li><a href="chap8.html#shaders-intersection">8.15. Intersection Shaders</a></li>
<li><a href="chap8.html#shaders-any-hit">8.16. Any-Hit Shaders</a></li>
<li><a href="chap8.html#shaders-closest-hit">8.17. Closest Hit Shaders</a></li>
<li><a href="chap8.html#shaders-miss">8.18. Miss Shaders</a></li>
<li><a href="chap8.html#shaders-callable">8.19. Callable Shaders</a></li>
<li><a href="chap8.html#shaders-staticuse">8.20. Static Use</a></li>
<li><a href="chap8.html#shaders-invocationgroups">8.21. Invocation and Derivative Groups</a></li>
<li><a href="chap8.html#shaders-validation-cache">8.22. Validation Cache</a></li>
</ul>
</li>
<li><a href="chap9.html#pipelines">9. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap9.html#pipelines-compute">9.1. Compute Pipelines</a></li>
<li><a href="chap9.html#pipelines-graphics">9.2. Graphics Pipelines</a></li>
<li><a href="chap9.html#pipelines-destruction">9.3. Pipeline destruction</a></li>
<li><a href="chap9.html#pipelines-multiple">9.4. Multiple Pipeline Creation</a></li>
<li><a href="chap9.html#pipelines-pipeline-derivatives">9.5. Pipeline Derivatives</a></li>
<li><a href="chap9.html#pipelines-cache">9.6. Pipeline Cache</a></li>
<li><a href="chap9.html#pipelines-specialization-constants">9.7. Specialization Constants</a></li>
<li><a href="chap9.html#pipelines-binding">9.8. Pipeline Binding</a></li>
<li><a href="chap9.html#pipelines-dynamic-state">9.9. Dynamic State</a></li>
<li><a href="chap9.html#pipelines-shader-information">9.10. Pipeline Shader Information</a></li>
<li><a href="chap9.html#pipelines-raytracing">9.11. Ray Tracing Pipeline</a></li>
</ul>
</li>
<li><a href="chap10.html#memory">10. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap10.html#memory-host">10.1. Host Memory</a></li>
<li><a href="chap10.html#memory-device">10.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap11.html#resources">11. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#resources-buffers">11.1. Buffers</a></li>
<li><a href="chap11.html#resources-buffer-views">11.2. Buffer Views</a></li>
<li><a href="chap11.html#resources-images">11.3. Images</a></li>
<li><a href="chap11.html#resources-image-layouts">11.4. Image Layouts</a></li>
<li><a href="chap11.html#resources-image-views">11.5. Image Views</a></li>
<li><a href="chap11.html#resources-association">11.6. Resource Memory Association</a></li>
<li><a href="chap11.html#resources-sharing">11.7. Resource Sharing Mode</a></li>
<li><a href="chap11.html#resources-memory-aliasing">11.8. Memory Aliasing</a></li>
<li><a href="chap11.html#resources-acceleration-structures">11.9. Acceleration Structures</a></li>
</ul>
</li>
<li><a href="chap12.html#samplers">12. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap12.html#samplers-YCbCr-conversion">12.1. Sampler Y’C<sub>B</sub>C<sub>R</sub> conversion</a></li>
</ul>
</li>
<li><a href="chap13.html#descriptorsets">13. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap13.html#descriptorsets-types">13.1. Descriptor Types</a></li>
<li><a href="chap13.html#descriptorsets-sets">13.2. Descriptor Sets</a></li>
</ul>
</li>
<li><a href="chap14.html#interfaces">14. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap14.html#interfaces-iointerfaces">14.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap14.html#interfaces-vertexinput">14.2. Vertex Input Interface</a></li>
<li><a href="chap14.html#interfaces-fragmentoutput">14.3. Fragment Output Interface</a></li>
<li><a href="chap14.html#interfaces-inputattachment">14.4. Fragment Input Attachment Interface</a></li>
<li><a href="chap14.html#interfaces-resources">14.5. Shader Resource Interface</a></li>
<li><a href="chap14.html#interfaces-builtin-variables">14.6. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap15.html#textures">15. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap15.html#_image_operations_overview">15.1. Image Operations Overview</a></li>
<li><a href="chap15.html#_conversion_formulas">15.2. Conversion Formulas</a></li>
<li><a href="chap15.html#_texel_input_operations">15.3. Texel Input Operations</a></li>
<li><a href="chap15.html#_texel_output_operations">15.4. Texel Output Operations</a></li>
<li><a href="chap15.html#_derivative_operations">15.5. Derivative Operations</a></li>
<li><a href="chap15.html#textures-normalized-operations">15.6. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap15.html#_unnormalized_texel_coordinate_operations">15.7. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap15.html#textures-integer-coordinate-operations">15.8. Integer Texel Coordinate Operations</a></li>
<li><a href="chap15.html#textures-sample-operations">15.9. Image Sample Operations</a></li>
<li><a href="chap15.html#textures-footprint">15.10. Texel Footprint Evaluation</a></li>
<li><a href="chap15.html#textures-instructions">15.11. Image Operation Steps</a></li>
</ul>
</li>
<li><a href="chap16.html#fragmentdensitymapops">16. Fragment Density Map Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_fragment_density_map_operations_overview">16.1. Fragment Density Map Operations Overview</a></li>
<li><a href="chap16.html#fragmentdensitymap-fetch-density-value">16.2. Fetch Density Value</a></li>
<li><a href="chap16.html#fragmentdensitymap-conversion-to-fragment-area">16.3. Fragment Area Conversion</a></li>
</ul>
</li>
<li><a href="chap17.html#queries">17. Queries</a>
<ul class="sectlevel2">
<li><a href="chap17.html#queries-pools">17.1. Query Pools</a></li>
<li><a href="chap17.html#queries-operation">17.2. Query Operation</a></li>
<li><a href="chap17.html#queries-occlusion">17.3. Occlusion Queries</a></li>
<li><a href="chap17.html#queries-pipestats">17.4. Pipeline Statistics Queries</a></li>
<li><a href="chap17.html#queries-timestamps">17.5. Timestamp Queries</a></li>
<li><a href="chap17.html#queries-transform-feedback">17.6. Transform Feedback Queries</a></li>
</ul>
</li>
<li><a href="chap18.html#clears">18. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap18.html#clears-outside">18.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap18.html#clears-inside">18.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap18.html#clears-values">18.3. Clear Values</a></li>
<li><a href="chap18.html#clears-filling-buffers">18.4. Filling Buffers</a></li>
<li><a href="chap18.html#clears-updating-buffers">18.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap19.html#copies">19. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#_common_operation">19.1. Common Operation</a></li>
<li><a href="chap19.html#copies-buffers">19.2. Copying Data Between Buffers</a></li>
<li><a href="chap19.html#copies-images">19.3. Copying Data Between Images</a></li>
<li><a href="chap19.html#copies-buffers-images">19.4. Copying Data Between Buffers and Images</a></li>
<li><a href="chap19.html#copies-imagescaling">19.5. Image Copies with Scaling</a></li>
<li><a href="chap19.html#copies-resolve">19.6. Resolving Multisample Images</a></li>
<li><a href="chap19.html#copies-buffer-markers">19.7. Buffer Markers</a></li>
</ul>
</li>
<li><a href="chap20.html#drawing">20. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#drawing-primitive-topologies">20.1. Primitive Topologies</a></li>
<li><a href="chap20.html#drawing-primitive-order">20.2. Primitive Order</a></li>
<li><a href="chap20.html#drawing-primitive-shading">20.3. Programmable Primitive Shading</a></li>
<li><a href="chap20.html#drawing-conditional-rendering">20.4. Conditional Rendering</a></li>
<li><a href="chap20.html#drawing-mesh-shading">20.5. Programmable Mesh Shading</a></li>
</ul>
</li>
<li><a href="chap21.html#fxvertex">21. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap21.html#fxvertex-attrib">21.1. Vertex Attributes</a></li>
<li><a href="chap21.html#fxvertex-input">21.2. Vertex Input Description</a></li>
<li><a href="chap21.html#_vertex_attribute_divisor_in_instanced_rendering">21.3. Vertex Attribute Divisor in Instanced Rendering</a></li>
<li><a href="chap21.html#fxvertex-example">21.4. Example</a></li>
</ul>
</li>
<li><a href="chap22.html#tessellation">22. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap22.html#_tessellator">22.1. Tessellator</a></li>
<li><a href="chap22.html#_tessellator_patch_discard">22.2. Tessellator Patch Discard</a></li>
<li><a href="chap22.html#tessellation-tessellator-spacing">22.3. Tessellator Spacing</a></li>
<li><a href="chap22.html#tessellation-primitive-order">22.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap22.html#tessellation-triangle-tessellation">22.5. Triangle Tessellation</a></li>
<li><a href="chap22.html#tessellation-quad-tessellation">22.6. Quad Tessellation</a></li>
<li><a href="chap22.html#tessellation-isoline-tessellation">22.7. Isoline Tessellation</a></li>
<li><a href="chap22.html#_tessellation_pipeline_state">22.8. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap23.html#geometry">23. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap23.html#geometry-input">23.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap23.html#geometry-output">23.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap23.html#geometry-invocations">23.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap23.html#geometry-ordering">23.4. Geometry Shader Primitive Ordering</a></li>
<li><a href="chap23.html#geometry-passthrough">23.5. Geometry Shader Passthrough</a></li>
</ul>
</li>
<li><a href="chap24.html#mesh">24. Mesh Shading</a>
<ul class="sectlevel2">
<li><a href="chap24.html#mesh-task-input">24.1. Task Shader Input</a></li>
<li><a href="chap24.html#mesh-task-output">24.2. Task Shader Output</a></li>
<li><a href="chap24.html#mesh-generation">24.3. Mesh Generation</a></li>
<li><a href="chap24.html#mesh-input">24.4. Mesh Shader Input</a></li>
<li><a href="chap24.html#mesh-output">24.5. Mesh Shader Output Primitives</a></li>
<li><a href="chap24.html#mesh-output-perview">24.6. Mesh Shader Per-View Outputs</a></li>
<li><a href="chap24.html#mesh-ordering">24.7. Mesh Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap25.html#vertexpostproc">25. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap25.html#vertexpostproc-transform-feedback">25.1. Transform Feedback</a></li>
<li><a href="chap25.html#vertexpostproc-viewport-swizzle">25.2. Viewport Swizzle</a></li>
<li><a href="chap25.html#vertexpostproc-flatshading">25.3. Flat Shading</a></li>
<li><a href="chap25.html#vertexpostproc-clipping">25.4. Primitive Clipping</a></li>
<li><a href="chap25.html#vertexpostproc-clipping-shader-outputs">25.5. Clipping Shader Outputs</a></li>
<li><a href="chap25.html#vertexpostproc-viewportwscaling">25.6. Controlling Viewport W Scaling</a></li>
<li><a href="chap25.html#vertexpostproc-coord-transform">25.7. Coordinate Transformations</a></li>
<li><a href="chap25.html#vertexpostproc-viewport">25.8. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap26.html#primsrast">26. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap26.html#primsrast-discard">26.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap26.html#primsrast-stream">26.2. Controlling the Vertex Stream Used for Rasterization</a></li>
<li><a href="chap26.html#primrast-order">26.3. Rasterization Order</a></li>
<li><a href="chap26.html#primsrast-multisampling">26.4. Multisampling</a></li>
<li><a href="chap26.html#primrast-samplelocations">26.5. Custom Sample Locations</a></li>
<li><a href="chap26.html#primsrast-shading-rate-image">26.6. Shading Rate Image</a></li>
<li><a href="chap26.html#primsrast-sampleshading">26.7. Sample Shading</a></li>
<li><a href="chap26.html#primsrast-barycentric">26.8. Barycentric Interpolation</a></li>
<li><a href="chap26.html#primsrast-points">26.9. Points</a></li>
<li><a href="chap26.html#primsrast-lines">26.10. Line Segments</a></li>
<li><a href="chap26.html#primsrast-polygons">26.11. Polygons</a></li>
</ul>
</li>
<li><a href="chap27.html#fragops">27. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap27.html#fragops-early">27.1. Early Per-Fragment Tests</a></li>
<li><a href="chap27.html#fragops-discard-rectangles">27.2. Discard Rectangles Test</a></li>
<li><a href="chap27.html#fragops-scissor">27.3. Scissor Test</a></li>
<li><a href="chap27.html#fragops-exclusive-scissor">27.4. Exclusive Scissor Test</a></li>
<li><a href="chap27.html#fragops-samplemask">27.5. Sample Mask</a></li>
<li><a href="chap27.html#fragops-early-mode">27.6. Early Fragment Test Mode</a></li>
<li><a href="chap27.html#fragops-late">27.7. Late Per-Fragment Tests</a></li>
<li><a href="chap27.html#fragops-mixed-attachment-samples">27.8. Mixed attachment samples</a></li>
<li><a href="chap27.html#fragops-covg">27.9. Multisample Coverage</a></li>
<li><a href="chap27.html#fragops-ds-state">27.10. Depth and Stencil Operations</a></li>
<li><a href="chap27.html#fragops-dbt">27.11. Depth Bounds Test</a></li>
<li><a href="chap27.html#fragops-stencil">27.12. Stencil Test</a></li>
<li><a href="chap27.html#fragops-depth">27.13. Depth Test</a></li>
<li><a href="chap27.html#fragops-rep-frag-test">27.14. Representative Fragment Test</a></li>
<li><a href="chap27.html#fragops-samplecount">27.15. Sample Counting</a></li>
<li><a href="chap27.html#fragops-coverage-to-color">27.16. Fragment Coverage To Color</a></li>
<li><a href="chap27.html#fragops-coverage-reduction">27.17. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap28.html#framebuffer">28. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap28.html#framebuffer-blending">28.1. Blending</a></li>
<li><a href="chap28.html#framebuffer-logicop">28.2. Logical Operations</a></li>
<li><a href="chap28.html#framebuffer-color-write-mask">28.3. Color Write Mask</a></li>
</ul>
</li>
<li><a href="chap29.html#dispatch">29. Dispatching Commands</a></li>
<li><a href="chap30.html#device-generated-commands">30. Device-Generated Commands</a>
<ul class="sectlevel2">
<li><a href="chap30.html#_features_and_limitations">30.1. Features and Limitations</a></li>
<li><a href="chap30.html#_binding_object_table">30.2. Binding Object Table</a></li>
<li><a href="chap30.html#indirectmdslayout">30.3. Indirect Commands Layout</a></li>
<li><a href="chap30.html#_indirect_commands_generation">30.4. Indirect Commands Generation</a></li>
</ul>
</li>
<li><a href="chap31.html#sparsememory">31. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap31.html#sparsememory-sparseresourcefeatures">31.1. Sparse Resource Features</a></li>
<li><a href="chap31.html#sparsememory-fully-resident">31.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap31.html#sparsememory-partially-resident-buffers">31.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap31.html#sparsememory-partially-resident-images">31.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap31.html#sparsememory-sparse-memory-aliasing">31.5. Sparse Memory Aliasing</a></li>
<li><a href="chap31.html#_sparse_resource_implementation_guidelines">31.6. Sparse Resource Implementation Guidelines</a></li>
<li><a href="chap31.html#sparsememory-resourceapi">31.7. Sparse Resource API</a></li>
<li><a href="chap31.html#sparsememory-examples">31.8. Examples</a></li>
</ul>
</li>
<li><a href="chap32.html#wsi">32. Window System Integration (WSI)</a>
<ul class="sectlevel2">
<li><a href="chap32.html#_wsi_platform">32.1. WSI Platform</a></li>
<li><a href="chap32.html#_wsi_surface">32.2. WSI Surface</a></li>
<li><a href="chap32.html#display">32.3. Presenting Directly to Display Devices</a></li>
<li><a href="chap32.html#_querying_for_wsi_support">32.4. Querying for WSI Support</a></li>
<li><a href="chap32.html#_surface_queries">32.5. Surface Queries</a></li>
<li><a href="chap32.html#_device_group_queries">32.6. Device Group Queries</a></li>
<li><a href="chap32.html#_display_timing_queries">32.7. Display Timing Queries</a></li>
<li><a href="chap32.html#_wsi_swapchain">32.8. WSI Swapchain</a></li>
<li><a href="chap32.html#_hdr_metadata">32.9. Hdr Metadata</a></li>
</ul>
</li>
<li><a href="chap33.html#raytracing">33. Ray Tracing</a>
<ul class="sectlevel2">
<li><a href="chap33.html#raytracing-commands">33.1. Ray Tracing Commands</a></li>
<li><a href="chap33.html#shader-binding-table">33.2. Shader Binding Table</a></li>
<li><a href="chap33.html#acceleration-structure">33.3. Acceleration Structures</a></li>
</ul>
</li>
<li><a href="chap34.html#extended-functionality">34. Extended Functionality</a>
<ul class="sectlevel2">
<li><a href="chap34.html#extended-functionality-layers">34.1. Layers</a></li>
<li><a href="chap34.html#extended-functionality-extensions">34.2. Extensions</a></li>
<li><a href="chap34.html#extended-functionality-extensions-dependencies">34.3. Extension Dependencies</a></li>
<li><a href="chap34.html#extended-functionality-extensions-compatibility">34.4. Extension Compatibility</a></li>
</ul>
</li>
<li><a href="chap35.html#features">35. Features, Limits, and Formats</a>
<ul class="sectlevel2">
<li><a href="chap35.html#features-features">35.1. Features</a></li>
<li><a href="chap35.html#features-limits">35.2. Limits</a></li>
<li><a href="chap35.html#features-limits-multisample">35.3. Additional Multisampling Capabilities</a></li>
<li><a href="chap35.html#features-formats">35.4. Formats</a></li>
<li><a href="chap35.html#_additional_image_capabilities">35.5. Additional Image Capabilities</a></li>
<li><a href="chap35.html#_additional_buffer_capabilities">35.6. Additional Buffer Capabilities</a></li>
<li><a href="chap35.html#_optional_semaphore_capabilities">35.7. Optional Semaphore Capabilities</a></li>
<li><a href="chap35.html#_optional_fence_capabilities">35.8. Optional Fence Capabilities</a></li>
<li><a href="chap35.html#features-timestamp-calibration">35.9. Timestamp Calibration Capabilities</a></li>
</ul>
</li>
<li><a href="chap36.html#_debugging">36. Debugging</a>
<ul class="sectlevel2">
<li><a href="chap36.html#debugging-debug-utils">36.1. Debug Utilities</a></li>
<li><a href="chap36.html#debugging-debug-markers">36.2. Debug Markers</a></li>
<li><a href="chap36.html#debugging-debug-report-callbacks">36.3. Debug Report Callbacks</a></li>
<li><a href="chap36.html#_device_loss_debugging">36.4. Device Loss Debugging</a></li>
</ul>
</li>
<li><a href="chap37.html#spirvenv">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap37.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap37.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap37.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap37.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap37.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
</ul>
</li>
<li><a href="chap38.html#memory-model">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap38.html#memory-model-agent">Agent</a></li>
<li><a href="chap38.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap38.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap38.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap38.html#memory-model-references">Reference</a></li>
<li><a href="chap38.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap38.html#memory-model-scope">Scope</a></li>
<li><a href="chap38.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap38.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap38.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap38.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap38.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap38.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap38.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap38.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap38.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap38.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap38.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap38.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap38.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap38.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap38.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap38.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap38.html#memory-model-scoped-modification-order-coherence">Scoped Modification Order Coherence</a></li>
<li><a href="chap38.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap38.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap38.html#memory-model-informative-descriptions">Informative Descriptions</a></li>
<li><a href="chap38.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
</ul>
</li>
<li><a href="chap39.html#_compressed_image_formats">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap39.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap39.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap39.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="#extensions">Appendix D: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="#extension-appendices-list">List of Current Extensions</a></li>
<li><a href="#provisional-extension-appendices-list">List of Provisional Extensions</a></li>
<li><a href="#deprecated-extension-appendices-list">List of Deprecated Extensions</a></li>
</ul>
</li>
<li><a href="chap41.html#boilerplate">Appendix E: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap41.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap41.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
</ul>
</li>
<li><a href="chap42.html#invariance">Appendix F: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap42.html#_repeatability">Repeatability</a></li>
<li><a href="chap42.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap42.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap42.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap43.html#glossary">Glossary</a></li>
<li><a href="chap44.html#_common_abbreviations">Common Abbreviations</a></li>
<li><a href="chap45.html#_prefixes">Prefixes</a></li>
<li><a href="chap46.html#credits">Appendix G: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap46.html#_working_group_contributors_to_vulkan_1_1_and_1_0">Working Group Contributors to Vulkan 1.1 and 1.0</a></li>
<li><a href="chap46.html#_working_group_contributors_to_vulkan_1_1">Working Group Contributors to Vulkan 1.1</a></li>
<li><a href="chap46.html#_working_group_contributors_to_vulkan_1_0">Working Group Contributors to Vulkan 1.0</a></li>
<li><a href="chap46.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content"><div class="sect1">
<h2 id="extensions">Appendix D: Layers &amp; Extensions (Informative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Extensions to the Vulkan API <strong class="purple">can</strong> be defined by authors, groups of authors,
and the Khronos Vulkan Working Group.
In order not to compromise the readability of the Vulkan Specification, the
core Specification does not incorporate most extensions.
The online Registry of extensions is available at URL</p>
</div>
<div class="paragraph">
<p><a href="http://www.khronos.org/registry/vulkan/" class="bare">http://www.khronos.org/registry/vulkan/</a></p>
</div>
<div class="paragraph">
<p>and allows generating versions of the Specification incorporating different
extensions.</p>
</div>
<div class="paragraph">
<p>Most of the content previously in this appendix does not specify <strong>use</strong> of
specific Vulkan extensions and layers, but rather specifies the processes by
which extensions and layers are created.
As of version 1.0.21 of the Vulkan Specification, this content has been
migrated to the <a href="chap1.html#vulkan-styleguide">Vulkan Documentation and Extensions</a>
document.
Authors creating extensions and layers <strong class="purple">must</strong> follow the mandatory procedures
in that document.</p>
</div>
<div class="paragraph">
<p>The remainder of this appendix documents a set of extensions chosen when
this document was built.
Versions of the Specification published in the Registry include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Core API + mandatory extensions required of all Vulkan implementations.</p>
</li>
<li>
<p>Core API + all registered and published Khronos (<code>KHR</code>) extensions.</p>
</li>
<li>
<p>Core API + all registered and published extensions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Extensions are grouped as Khronos <code>KHR</code>, multivendor <code>EXT</code>, and then
alphabetically by author ID.
Within each group, extensions are listed in alphabetical order by their
name.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>As of the initial Vulkan 1.1 public release, the <code>KHX</code> author ID is no
longer used.
All <code>KHX</code> extensions have been promoted to <code>KHR</code> status.
Previously, this author ID was used to indicate that an extension was
experimental, and is being considered for standardization in future <code>KHR</code> or
core Vulkan API versions.
We no longer use this mechanism for exposing experimental functionality.</p>
</div>
<div class="paragraph">
<p>Some vendors may use an alternate author ID ending in <code>X</code> for some of their
extensions.
The exact meaning of such an author ID is defined by each vendor, and may
not be equivalent to <code>KHX</code>, but it is likely to indicate a lesser degree of
interface stability than a non-<code>X</code> extension from the same vendor.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="extension-appendices-list">List of Current Extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></p>
</li>
<li>
<p><a href="#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></p>
</li>
<li>
<p><a href="#VK_KHR_android_surface">VK_KHR_android_surface</a></p>
</li>
<li>
<p><a href="#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a></p>
</li>
<li>
<p><a href="#VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</a></p>
</li>
<li>
<p><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></p>
</li>
<li>
<p><a href="#VK_KHR_descriptor_update_template">VK_KHR_descriptor_update_template</a></p>
</li>
<li>
<p><a href="#VK_KHR_device_group">VK_KHR_device_group</a></p>
</li>
<li>
<p><a href="#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a></p>
</li>
<li>
<p><a href="#VK_KHR_display">VK_KHR_display</a></p>
</li>
<li>
<p><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></p>
</li>
<li>
<p><a href="#VK_KHR_draw_indirect_count">VK_KHR_draw_indirect_count</a></p>
</li>
<li>
<p><a href="#VK_KHR_driver_properties">VK_KHR_driver_properties</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_fence">VK_KHR_external_fence</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_fence_capabilities">VK_KHR_external_fence_capabilities</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_fence_fd">VK_KHR_external_fence_fd</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_fence_win32">VK_KHR_external_fence_win32</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_memory_fd">VK_KHR_external_memory_fd</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_memory_win32">VK_KHR_external_memory_win32</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></p>
</li>
<li>
<p><a href="#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></p>
</li>
<li>
<p><a href="#VK_KHR_get_display_properties2">VK_KHR_get_display_properties2</a></p>
</li>
<li>
<p><a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a></p>
</li>
<li>
<p><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></p>
</li>
<li>
<p><a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a></p>
</li>
<li>
<p><a href="#VK_KHR_image_format_list">VK_KHR_image_format_list</a></p>
</li>
<li>
<p><a href="#VK_KHR_incremental_present">VK_KHR_incremental_present</a></p>
</li>
<li>
<p><a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a></p>
</li>
<li>
<p><a href="#VK_KHR_maintenance2">VK_KHR_maintenance2</a></p>
</li>
<li>
<p><a href="#VK_KHR_maintenance3">VK_KHR_maintenance3</a></p>
</li>
<li>
<p><a href="#VK_KHR_multiview">VK_KHR_multiview</a></p>
</li>
<li>
<p><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></p>
</li>
<li>
<p><a href="#VK_KHR_relaxed_block_layout">VK_KHR_relaxed_block_layout</a></p>
</li>
<li>
<p><a href="#VK_KHR_sampler_mirror_clamp_to_edge">VK_KHR_sampler_mirror_clamp_to_edge</a></p>
</li>
<li>
<p><a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a></p>
</li>
<li>
<p><a href="#VK_KHR_shader_atomic_int64">VK_KHR_shader_atomic_int64</a></p>
</li>
<li>
<p><a href="#VK_KHR_shader_draw_parameters">VK_KHR_shader_draw_parameters</a></p>
</li>
<li>
<p><a href="#VK_KHR_shader_float16_int8">VK_KHR_shader_float16_int8</a></p>
</li>
<li>
<p><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></p>
</li>
<li>
<p><a href="#VK_KHR_shared_presentable_image">VK_KHR_shared_presentable_image</a></p>
</li>
<li>
<p><a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a></p>
</li>
<li>
<p><a href="#VK_KHR_surface">VK_KHR_surface</a></p>
</li>
<li>
<p><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></p>
</li>
<li>
<p><a href="#VK_KHR_swapchain_mutable_format">VK_KHR_swapchain_mutable_format</a></p>
</li>
<li>
<p><a href="#VK_KHR_variable_pointers">VK_KHR_variable_pointers</a></p>
</li>
<li>
<p><a href="#VK_KHR_wayland_surface">VK_KHR_wayland_surface</a></p>
</li>
<li>
<p><a href="#VK_KHR_win32_keyed_mutex">VK_KHR_win32_keyed_mutex</a></p>
</li>
<li>
<p><a href="#VK_KHR_win32_surface">VK_KHR_win32_surface</a></p>
</li>
<li>
<p><a href="#VK_KHR_xcb_surface">VK_KHR_xcb_surface</a></p>
</li>
<li>
<p><a href="#VK_KHR_xlib_surface">VK_KHR_xlib_surface</a></p>
</li>
<li>
<p><a href="#VK_EXT_acquire_xlib_display">VK_EXT_acquire_xlib_display</a></p>
</li>
<li>
<p><a href="#VK_EXT_astc_decode_mode">VK_EXT_astc_decode_mode</a></p>
</li>
<li>
<p><a href="#VK_EXT_blend_operation_advanced">VK_EXT_blend_operation_advanced</a></p>
</li>
<li>
<p><a href="#VK_EXT_calibrated_timestamps">VK_EXT_calibrated_timestamps</a></p>
</li>
<li>
<p><a href="#VK_EXT_conditional_rendering">VK_EXT_conditional_rendering</a></p>
</li>
<li>
<p><a href="#VK_EXT_conservative_rasterization">VK_EXT_conservative_rasterization</a></p>
</li>
<li>
<p><a href="#VK_EXT_debug_utils">VK_EXT_debug_utils</a></p>
</li>
<li>
<p><a href="#VK_EXT_depth_range_unrestricted">VK_EXT_depth_range_unrestricted</a></p>
</li>
<li>
<p><a href="#VK_EXT_descriptor_indexing">VK_EXT_descriptor_indexing</a></p>
</li>
<li>
<p><a href="#VK_EXT_direct_mode_display">VK_EXT_direct_mode_display</a></p>
</li>
<li>
<p><a href="#VK_EXT_discard_rectangles">VK_EXT_discard_rectangles</a></p>
</li>
<li>
<p><a href="#VK_EXT_display_control">VK_EXT_display_control</a></p>
</li>
<li>
<p><a href="#VK_EXT_display_surface_counter">VK_EXT_display_surface_counter</a></p>
</li>
<li>
<p><a href="#VK_EXT_external_memory_dma_buf">VK_EXT_external_memory_dma_buf</a></p>
</li>
<li>
<p><a href="#VK_EXT_external_memory_host">VK_EXT_external_memory_host</a></p>
</li>
<li>
<p><a href="#VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</a></p>
</li>
<li>
<p><a href="#VK_EXT_global_priority">VK_EXT_global_priority</a></p>
</li>
<li>
<p><a href="#VK_EXT_hdr_metadata">VK_EXT_hdr_metadata</a></p>
</li>
<li>
<p><a href="#VK_EXT_image_drm_format_modifier">VK_EXT_image_drm_format_modifier</a></p>
</li>
<li>
<p><a href="#VK_EXT_inline_uniform_block">VK_EXT_inline_uniform_block</a></p>
</li>
<li>
<p><a href="#VK_EXT_pci_bus_info">VK_EXT_pci_bus_info</a></p>
</li>
<li>
<p><a href="#VK_EXT_post_depth_coverage">VK_EXT_post_depth_coverage</a></p>
</li>
<li>
<p><a href="#VK_EXT_queue_family_foreign">VK_EXT_queue_family_foreign</a></p>
</li>
<li>
<p><a href="#VK_EXT_sample_locations">VK_EXT_sample_locations</a></p>
</li>
<li>
<p><a href="#VK_EXT_sampler_filter_minmax">VK_EXT_sampler_filter_minmax</a></p>
</li>
<li>
<p><a href="#VK_EXT_scalar_block_layout">VK_EXT_scalar_block_layout</a></p>
</li>
<li>
<p><a href="#VK_EXT_separate_stencil_usage">VK_EXT_separate_stencil_usage</a></p>
</li>
<li>
<p><a href="#VK_EXT_shader_stencil_export">VK_EXT_shader_stencil_export</a></p>
</li>
<li>
<p><a href="#VK_EXT_shader_subgroup_ballot">VK_EXT_shader_subgroup_ballot</a></p>
</li>
<li>
<p><a href="#VK_EXT_shader_subgroup_vote">VK_EXT_shader_subgroup_vote</a></p>
</li>
<li>
<p><a href="#VK_EXT_shader_viewport_index_layer">VK_EXT_shader_viewport_index_layer</a></p>
</li>
<li>
<p><a href="#VK_EXT_swapchain_colorspace">VK_EXT_swapchain_colorspace</a></p>
</li>
<li>
<p><a href="#VK_EXT_transform_feedback">VK_EXT_transform_feedback</a></p>
</li>
<li>
<p><a href="#VK_EXT_validation_cache">VK_EXT_validation_cache</a></p>
</li>
<li>
<p><a href="#VK_EXT_validation_flags">VK_EXT_validation_flags</a></p>
</li>
<li>
<p><a href="#VK_EXT_vertex_attribute_divisor">VK_EXT_vertex_attribute_divisor</a></p>
</li>
<li>
<p><a href="#VK_AMD_buffer_marker">VK_AMD_buffer_marker</a></p>
</li>
<li>
<p><a href="#VK_AMD_gcn_shader">VK_AMD_gcn_shader</a></p>
</li>
<li>
<p><a href="#VK_AMD_gpu_shader_half_float">VK_AMD_gpu_shader_half_float</a></p>
</li>
<li>
<p><a href="#VK_AMD_gpu_shader_int16">VK_AMD_gpu_shader_int16</a></p>
</li>
<li>
<p><a href="#VK_AMD_memory_overallocation_behavior">VK_AMD_memory_overallocation_behavior</a></p>
</li>
<li>
<p><a href="#VK_AMD_mixed_attachment_samples">VK_AMD_mixed_attachment_samples</a></p>
</li>
<li>
<p><a href="#VK_AMD_rasterization_order">VK_AMD_rasterization_order</a></p>
</li>
<li>
<p><a href="#VK_AMD_shader_ballot">VK_AMD_shader_ballot</a></p>
</li>
<li>
<p><a href="#VK_AMD_shader_core_properties">VK_AMD_shader_core_properties</a></p>
</li>
<li>
<p><a href="#VK_AMD_shader_explicit_vertex_parameter">VK_AMD_shader_explicit_vertex_parameter</a></p>
</li>
<li>
<p><a href="#VK_AMD_shader_fragment_mask">VK_AMD_shader_fragment_mask</a></p>
</li>
<li>
<p><a href="#VK_AMD_shader_image_load_store_lod">VK_AMD_shader_image_load_store_lod</a></p>
</li>
<li>
<p><a href="#VK_AMD_shader_info">VK_AMD_shader_info</a></p>
</li>
<li>
<p><a href="#VK_AMD_shader_trinary_minmax">VK_AMD_shader_trinary_minmax</a></p>
</li>
<li>
<p><a href="#VK_AMD_texture_gather_bias_lod">VK_AMD_texture_gather_bias_lod</a></p>
</li>
<li>
<p><a href="#VK_ANDROID_external_memory_android_hardware_buffer">VK_ANDROID_external_memory_android_hardware_buffer</a></p>
</li>
<li>
<p><a href="#VK_FUCHSIA_imagepipe_surface">VK_FUCHSIA_imagepipe_surface</a></p>
</li>
<li>
<p><a href="#VK_GOOGLE_decorate_string">VK_GOOGLE_decorate_string</a></p>
</li>
<li>
<p><a href="#VK_GOOGLE_display_timing">VK_GOOGLE_display_timing</a></p>
</li>
<li>
<p><a href="#VK_GOOGLE_hlsl_functionality1">VK_GOOGLE_hlsl_functionality1</a></p>
</li>
<li>
<p><a href="#VK_IMG_filter_cubic">VK_IMG_filter_cubic</a></p>
</li>
<li>
<p><a href="#VK_IMG_format_pvrtc">[VK_IMG_format_pvrtc]</a></p>
</li>
<li>
<p><a href="#VK_MVK_ios_surface">VK_MVK_ios_surface</a></p>
</li>
<li>
<p><a href="#VK_MVK_macos_surface">VK_MVK_macos_surface</a></p>
</li>
<li>
<p><a href="#VK_NN_vi_surface">VK_NN_vi_surface</a></p>
</li>
<li>
<p><a href="#VK_NVX_device_generated_commands">VK_NVX_device_generated_commands</a></p>
</li>
<li>
<p><a href="#VK_NVX_multiview_per_view_attributes">VK_NVX_multiview_per_view_attributes</a></p>
</li>
<li>
<p><a href="#VK_NV_clip_space_w_scaling">VK_NV_clip_space_w_scaling</a></p>
</li>
<li>
<p><a href="#VK_NV_compute_shader_derivatives">VK_NV_compute_shader_derivatives</a></p>
</li>
<li>
<p><a href="#VK_NV_corner_sampled_image">VK_NV_corner_sampled_image</a></p>
</li>
<li>
<p><a href="#VK_NV_device_diagnostic_checkpoints">VK_NV_device_diagnostic_checkpoints</a></p>
</li>
<li>
<p><a href="#VK_NV_fill_rectangle">VK_NV_fill_rectangle</a></p>
</li>
<li>
<p><a href="#VK_NV_fragment_coverage_to_color">VK_NV_fragment_coverage_to_color</a></p>
</li>
<li>
<p><a href="#VK_NV_fragment_shader_barycentric">VK_NV_fragment_shader_barycentric</a></p>
</li>
<li>
<p><a href="#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a></p>
</li>
<li>
<p><a href="#VK_NV_geometry_shader_passthrough">VK_NV_geometry_shader_passthrough</a></p>
</li>
<li>
<p><a href="#VK_NV_mesh_shader">VK_NV_mesh_shader</a></p>
</li>
<li>
<p><a href="#VK_NV_ray_tracing">VK_NV_ray_tracing</a></p>
</li>
<li>
<p><a href="#VK_NV_representative_fragment_test">VK_NV_representative_fragment_test</a></p>
</li>
<li>
<p><a href="#VK_NV_sample_mask_override_coverage">VK_NV_sample_mask_override_coverage</a></p>
</li>
<li>
<p><a href="#VK_NV_scissor_exclusive">VK_NV_scissor_exclusive</a></p>
</li>
<li>
<p><a href="#VK_NV_shader_image_footprint">VK_NV_shader_image_footprint</a></p>
</li>
<li>
<p><a href="#VK_NV_shader_subgroup_partitioned">VK_NV_shader_subgroup_partitioned</a></p>
</li>
<li>
<p><a href="#VK_NV_shading_rate_image">VK_NV_shading_rate_image</a></p>
</li>
<li>
<p><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></p>
</li>
<li>
<p><a href="#VK_NV_viewport_swizzle">VK_NV_viewport_swizzle</a></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="VK_KHR_16bit_storage">VK_KHR_16bit_storage</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_16bit_storage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>84</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_16bit_storage:%20&amp;body=@janharaldfredriksen-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://www.khronos.org/registry/spir-v/extensions/KHR/SPV_KHR_16bit_storage.html">SPV_KHR_16bit_storage</a></p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, ARM</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Joerg Wagner, ARM</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Jeff Bolz, Nvidia</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_16bit_storage</code> extension allows use of 16-bit types in shader
input and output interfaces, and push constant blocks.
This extension introduces several new optional features which map to SPIR-V
capabilities and allow access to 16-bit data in <code>Block</code>-decorated objects
in the <code>Uniform</code> and the <code>StorageBuffer</code> storage classes, and objects
in the <code>PushConstant</code> storage class.
This extension allows 16-bit variables to be declared and used as
user-defined shader inputs and outputs but does not change location
assignment and component assignment rules.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_16BIT_STORAGE_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDevice16BitStorageFeaturesKHR">VkPhysicalDevice16BitStorageFeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-16bitstorage"><code>StorageBuffer16BitAccess</code></a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-16bitstorage"><code>UniformAndStorageBuffer16BitAccess</code></a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-16bitstorage"><code>StoragePushConstant16</code></a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-16bitstorage"><code>StorageInputOutput16</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues">Issues</h4>

</div>
<div class="sect3">
<h4 id="_version_history">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_8bit_storage">VK_KHR_8bit_storage</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_8bit_storage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>178</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_8bit_storage:%20&amp;body=@alegal-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-02-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://www.khronos.org/registry/spir-v/extensions/KHR/SPV_KHR_8bit_storage.html">SPV_KHR_8bit_storage</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_8bit_storage</code> extension allows use of 8-bit types in uniform and
storage buffers, and push constant blocks.
This extension introduces several new optional features which map to SPIR-V
capabilities and allow access to 8-bit data in <code>Block</code>-decorated objects
in the <code>Uniform</code> and the <code>StorageBuffer</code> storage classes, and objects
in the <code>PushConstant</code> storage class.</p>
</div>
<div class="paragraph">
<p>The <code>StorageBuffer8BitAccess</code> capability <strong class="purple">must</strong> be supported by all
implementations of this extension.
The other capabilities are optional.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_2">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_8BIT_STORAGE_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_2">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDevice8BitStorageFeaturesKHR">VkPhysicalDevice8BitStorageFeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_2">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-8bitstorage"><code>StorageBuffer8BitAccess</code></a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-8bitstorage"><code>UniformAndStorageBuffer8BitAccess</code></a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-8bitstorage"><code>StoragePushConstant8</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_2">Issues</h4>

</div>
<div class="sect3">
<h4 id="_version_history_2">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-02-05 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_android_surface">VK_KHR_android_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_android_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>9</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_android_surface:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-01-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_android_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an <code>ANativeWindow</code>,
Android’s native surface type.
The <code>ANativeWindow</code> represents the producer endpoint of any buffer queue,
regardless of consumer endpoint.
Common consumer endpoints for <code>ANativeWindows</code> are the system window
compositor, video encoders, and application-specific compositors importing
the images through a <code>SurfaceTexture</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types">New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_3">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums">New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_3">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkAndroidSurfaceCreateInfoKHR">VkAndroidSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkCreateAndroidSurfaceKHR">vkCreateAndroidSurfaceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_3">Issues</h4>
<div class="paragraph">
<p>1) Does Android need a way to query for compatibility between a particular
physical device (and queue family?) and a specific Android display?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Currently on Android, any physical device is expected to be able to present
to the system compositor, and all queue families must support the necessary
image layout transitions and synchronization operations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_3">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_android_surface to VK_KHR_android_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to surface creation function.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Removed VK_ERROR_INVALID_ANDROID_WINDOW_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2016-01-14 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the VK_KHR_android_surface
to the VK_KHR_surface extension.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_bind_memory2">VK_KHR_bind_memory2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_bind_memory2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>158</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_bind_memory2:%20&amp;body=@tobski%20"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides versions of <a href="chap11.html#vkBindBufferMemory">vkBindBufferMemory</a> and
<a href="chap11.html#vkBindImageMemory">vkBindImageMemory</a> that allow multiple bindings to be performed at
once, and are extensible.</p>
</div>
<div class="paragraph">
<p>This extension also introduces <code>VK_IMAGE_CREATE_ALIAS_BIT_KHR</code>, which
allows “identical” images that alias the same memory to interpret the
contents consistently, even across image layout changes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_2">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_4">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_BUFFER_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_ALIAS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_2">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_4">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkBindBufferMemoryInfoKHR">VkBindBufferMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindImageMemoryInfoKHR">VkBindImageMemoryInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_2">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#vkBindBufferMemory2KHR">vkBindBufferMemory2KHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkBindImageMemory2KHR">vkBindImageMemory2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables">New Built-In Variables</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_3">New SPIR-V Capabilities</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_2">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_4">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_4">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-19 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Pulled bind memory functions into their own extension</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_create_renderpass2">VK_KHR_create_renderpass2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_create_renderpass2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>110</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_multiview">VK_KHR_multiview</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_maintenance2">VK_KHR_maintenance2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_create_renderpass2:%20&amp;body=@tobias%20"><span class="icon black"><i class="fa fa-github"></i></span>tobias</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Last Modified Date</dt>
<dd>
<p>2018-02-07</p>
</dd>
<dt class="hdlist1">Contributors</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector</p>
</li>
<li>
<p>Jeff Bolz</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides a new entry point to create render passes in a way
that can be easily extended by other extensions through the substructures of
render pass creation.
The Vulkan 1.0 render pass creation sub-structures do not include
<code>sType</code>/<code>pNext</code> members.
Additionally, the renderpass begin/next/end commands have been augmented
with new extensible structures for passing additional subpass information.</p>
</div>
<div class="paragraph">
<p>The <a href="chap7.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a> and
<a href="chap7.html#VkInputAttachmentAspectReference">VkInputAttachmentAspectReference</a> structures that extended the original
<a href="chap7.html#VkRenderPassCreateInfo">VkRenderPassCreateInfo</a> are not accepted into the new creation
functions, and instead their parameters are folded into this extension as
follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Elements of <a href="chap7.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>pViewMasks</code> are
now specified in <a href="chap7.html#VkSubpassDescription2KHR">VkSubpassDescription2KHR</a>::<code>viewMask</code>.</p>
</li>
<li>
<p>Elements of <a href="chap7.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>pViewOffsets</code>
are now specified in <a href="chap7.html#VkSubpassDependency2KHR">VkSubpassDependency2KHR</a>::<code>viewOffset</code>.</p>
</li>
<li>
<p><a href="chap7.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>correlationMaskCount</code> and
<a href="chap7.html#VkRenderPassMultiviewCreateInfo">VkRenderPassMultiviewCreateInfo</a>::<code>pCorrelationMasks</code> are
directly specified in <a href="chap7.html#VkRenderPassCreateInfo2KHR">VkRenderPassCreateInfo2KHR</a>.</p>
</li>
<li>
<p><a href="chap7.html#VkInputAttachmentAspectReference">VkInputAttachmentAspectReference</a>::<code>aspectMask</code> is now
specified in the relevant input attachment description in
<a href="chap7.html#VkAttachmentDescription2KHR">VkAttachmentDescription2KHR</a>::<code>aspectMask</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The details of these mappings are explained fully in the new structures.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_5">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_DESCRIPTION_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ATTACHMENT_REFERENCE_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_DESCRIPTION_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_DEPENDENCY_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SUBPASS_END_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_5">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#VkAttachmentDescription2KHR">VkAttachmentDescription2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkAttachmentReference2KHR">VkAttachmentReference2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSubpassDescription2KHR">VkSubpassDescription2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSubpassDependency2KHR">VkSubpassDependency2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkRenderPassCreateInfo2KHR">VkRenderPassCreateInfo2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSubpassBeginInfoKHR">VkSubpassBeginInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkSubpassEndInfoKHR">VkSubpassEndInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_3">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap7.html#vkCreateRenderPass2KHR">vkCreateRenderPass2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkCmdBeginRenderPass2KHR">vkCmdBeginRenderPass2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkCmdNextSubpass2KHR">vkCmdNextSubpass2KHR</a></p>
</li>
<li>
<p><a href="chap7.html#vkCmdEndRenderPass2KHR">vkCmdEndRenderPass2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_5">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-02-07 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_dedicated_allocation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>128</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_dedicated_allocation:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension enables resources to be bound to a dedicated allocation,
rather than suballocated.
For any particular resource, applications <strong class="purple">can</strong> query whether a dedicated
allocation is recommended, in which case using a dedicated allocation <strong class="purple">may</strong>
improve the performance of access to that resource.
Normal device memory allocations must support multiple resources per
allocation, memory aliasing and sparse binding, which could interfere with
some optimizations.
Applications should query the implementation for when a dedicated allocation
<strong class="purple">may</strong> be beneficial by adding <code>VkMemoryDedicatedRequirementsKHR</code> to the
<code>pNext</code> chain of the <code>VkMemoryRequirements2</code> structure passed as the
<code>pMemoryRequirements</code> parameter to a call to
<code>vkGetBufferMemoryRequirements2</code> or <code>vkGetImageMemoryRequirements2</code>.
Certain external handle types and external images or buffers <strong class="purple">may</strong> also
depend on dedicated allocations on implementations that associate image or
buffer metadata with OS-level memory objects.</p>
</div>
<div class="paragraph">
<p>This extension adds a two small structures to memory requirements querying
and memory allocation: a new structure that flags whether an image/buffer
should have a dedicated allocation, and a structure indicating the image or
buffer that an allocation will be bound to.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_3">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_6">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_DEDICATED_REQUIREMENTS_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_DEDICATED_ALLOCATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_3">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_6">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkMemoryDedicatedRequirementsKHR">VkMemoryDedicatedRequirementsKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryDedicatedAllocateInfoKHR">VkMemoryDedicatedAllocateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_4">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_3">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_5">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples">Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="comment">// Create an image with a dedicated allocation based on the</span>
    <span class="comment">// implementation's preference</span>

    VkImageCreateInfo imageCreateInfo =
    {
        <span class="comment">// Image creation parameters</span>
    };

    VkImage image;
    VkResult result = vkCreateImage(
        device,
        &amp;imageCreateInfo,
        <span class="predefined-constant">NULL</span>,                               <span class="comment">// pAllocator</span>
        &amp;image);

    VkMemoryDedicatedRequirementsKHR dedicatedRequirements =
    {
        VK_STRUCTURE_TYPE_MEMORY_DEDICATED_REQUIREMENTS_KHR,
        <span class="predefined-constant">NULL</span>,                               <span class="comment">// pNext</span>
    };

    VkMemoryRequirements2 memoryRequirements =
    {
        VK_STRUCTURE_TYPE_MEMORY_REQUIREMENTS_2,
        &amp;dedicatedRequirements,             <span class="comment">// pNext</span>
    };

    <span class="directive">const</span> VkImageMemoryRequirementsInfo2 imageRequirementsInfo =
    {
        VK_STRUCTURE_TYPE_IMAGE_MEMORY_REQUIREMENTS_INFO_2,
        <span class="predefined-constant">NULL</span>,                               <span class="comment">// pNext</span>
        image
    };

    vkGetImageMemoryRequirements2(
        device,
        &amp;imageRequirementsInfo,
        &amp;memoryRequirements);

    <span class="keyword">if</span> (dedicatedRequirements.prefersDedicatedAllocation) {
        <span class="comment">// Allocate memory with VkMemoryDedicatedAllocateInfoKHR::image</span>
        <span class="comment">// pointing to the image we are allocating the memory for</span>

        VkMemoryDedicatedAllocateInfoKHR dedicatedInfo =
        {
            VK_STRUCTURE_TYPE_MEMORY_DEDICATED_ALLOCATE_INFO_KHR,   <span class="comment">// sType</span>
            <span class="predefined-constant">NULL</span>,                                                   <span class="comment">// pNext</span>
            image,                                                  <span class="comment">// image</span>
            VK_NULL_HANDLE,                                         <span class="comment">// buffer</span>
        };

        VkMemoryAllocateInfo memoryAllocateInfo =
        {
            VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO,                 <span class="comment">// sType</span>
            &amp;dedicatedInfo,                                         <span class="comment">// pNext</span>
            memoryRequirements.size,                                <span class="comment">// allocationSize</span>
            FindMemoryTypeIndex(memoryRequirements.memoryTypeBits), <span class="comment">// memoryTypeIndex</span>
        };

        VkDeviceMemory memory;
        vkAllocateMemory(
            device,
            &amp;memoryAllocateInfo,
            <span class="predefined-constant">NULL</span>,                       <span class="comment">// pAllocator</span>
            &amp;memory);

        <span class="comment">// Bind the image to the memory</span>

        vkBindImageMemory(
            device,
            image,
            memory,
            <span class="integer">0</span>);
    } <span class="keyword">else</span> {
        <span class="comment">// Take the normal memory sub-allocation path</span>
    }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_6">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Copy content from VK_NV_dedicated_allocation</p>
</li>
<li>
<p>Add some references to external object interactions to the overview.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-03-27 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Rework the extension to be query-based</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-07-31 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify that memory objects created with
VkMemoryDedicatedAllocateInfoKHR can only have the specified resource
bound and no others.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_descriptor_update_template">VK_KHR_descriptor_update_template</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_descriptor_update_template</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>86</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Markus Tavenrath <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_descriptor_update_template:%20&amp;body=@mtavenrath%20"><span class="icon black"><i class="fa fa-github"></i></span>mtavenrath</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code></p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Applications may wish to update a fixed set of descriptors in a large number
of descriptors sets very frequently, i.e. during initializaton phase or if
it’s required to rebuild descriptor sets for each frame.
For those cases it’s also not unlikely that all information required to
update a single descriptor set is stored in a single struct.
This extension provides a way to update a fixed set of descriptors in a
single <a href="chap13.html#VkDescriptorSet">VkDescriptorSet</a> with a pointer to a user defined data structure
which describes the new descriptors.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_4">New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><code>VkDescriptorUpdateTemplateKHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_7">New Enum Constants</h4>
<div class="paragraph">
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_4">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#VkDescriptorUpdateTemplateCreateFlagsKHR">VkDescriptorUpdateTemplateCreateFlagsKHR</a></p>
</li>
<li>
<p><a href="chap13.html#VkDescriptorUpdateTemplateTypeKHR">VkDescriptorUpdateTemplateTypeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_7">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#VkDescriptorUpdateTemplateEntryKHR">VkDescriptorUpdateTemplateEntryKHR</a></p>
</li>
<li>
<p><a href="chap13.html#VkDescriptorUpdateTemplateCreateInfoKHR">VkDescriptorUpdateTemplateCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_5">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#vkCreateDescriptorUpdateTemplateKHR">vkCreateDescriptorUpdateTemplateKHR</a></p>
</li>
<li>
<p><a href="chap13.html#vkDestroyDescriptorUpdateTemplateKHR">vkDestroyDescriptorUpdateTemplateKHR</a></p>
</li>
<li>
<p><a href="chap13.html#vkUpdateDescriptorSetWithTemplateKHR">vkUpdateDescriptorSetWithTemplateKHR</a></p>
</li>
<li>
<p><a href="chap13.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_4">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p><a href="chap13.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a> is included as an interaction
with <code><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code>.
If Vulkan 1.1 and VK_KHR_push_descriptor are supported, this is included by
<code><a href="#VK_KHR_push_descriptor">VK_KHR_push_descriptor</a></code>.</p>
</div>
<div class="paragraph">
<p>The base functionality in this extension is included in core Vulkan 1.1,
with the KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_7">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-01-11 (Markus Tavenrath)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_device_group">VK_KHR_device_group</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_device_group</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>61</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_device_group:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides functionality to use a logical device that consists
of multiple physical devices, as created with the
<code><a href="#VK_KHR_device_group_creation">VK_KHR_device_group_creation</a></code> extension.
A device group can allocate memory across the subdevices, bind memory from
one subdevice to a resource on another subdevice, record command buffers
where some work executes on an arbitrary subset of the subdevices, and
potentially present a swapchain image from one or more subdevices.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_5">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_8">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_FLAGS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_RENDER_PASS_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_COMMAND_BUFFER_BEGIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_BIND_SPARSE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_SWAPCHAIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_BUFFER_MEMORY_DEVICE_GROUP_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_DEVICE_GROUP_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_VIEW_INDEX_FROM_DEVICE_INDEX_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_PIPELINE_CREATE_DISPATCH_BASE_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkDependencyFlagBits">VkDependencyFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPENDENCY_DEVICE_GROUP_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap32.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_5">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkPeerMemoryFeatureFlagBitsKHR">VkPeerMemoryFeatureFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryAllocateFlagBitsKHR">VkMemoryAllocateFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_8">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkMemoryAllocateFlagsInfoKHR">VkMemoryAllocateFlagsInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkDeviceGroupRenderPassBeginInfoKHR">VkDeviceGroupRenderPassBeginInfoKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkDeviceGroupCommandBufferBeginInfoKHR">VkDeviceGroupCommandBufferBeginInfoKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkDeviceGroupSubmitInfoKHR">VkDeviceGroupSubmitInfoKHR</a></p>
</li>
<li>
<p><a href="chap31.html#VkDeviceGroupBindSparseInfoKHR">VkDeviceGroupBindSparseInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindBufferMemoryDeviceGroupInfoKHR">VkBindBufferMemoryDeviceGroupInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindImageMemoryDeviceGroupInfoKHR">VkBindImageMemoryDeviceGroupInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImageSwapchainCreateInfoKHR">VkImageSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindImageMemorySwapchainInfoKHR">VkBindImageMemorySwapchainInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_6">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#vkGetDeviceGroupPeerMemoryFeaturesKHR">vkGetDeviceGroupPeerMemoryFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap5.html#vkCmdSetDeviceMaskKHR">vkCmdSetDeviceMaskKHR</a></p>
</li>
<li>
<p><a href="chap29.html#vkCmdDispatchBaseKHR">vkCmdDispatchBaseKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetDeviceGroupPresentCapabilitiesKHR">vkGetDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetDeviceGroupSurfacePresentModesKHR">vkGetDeviceGroupSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDevicePresentRectanglesKHR">vkGetPhysicalDevicePresentRectanglesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_2">New Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-deviceindex"><code>DeviceIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_4">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities"><code>DeviceGroup</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_5">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>The following enums, types and commands are included as interactions with
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_CAPABILITIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_MEMORY_SWAPCHAIN_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACQUIRE_NEXT_IMAGE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_PRESENT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_SWAPCHAIN_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR</code></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceGroupPresentModeFlagBitsKHR">VkDeviceGroupPresentModeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceGroupPresentCapabilitiesKHR">VkDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImageSwapchainCreateInfoKHR">VkImageSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindImageMemorySwapchainInfoKHR">VkBindImageMemorySwapchainInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkAcquireNextImageInfoKHR">VkAcquireNextImageInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceGroupPresentInfoKHR">VkDeviceGroupPresentInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDeviceGroupSwapchainCreateInfoKHR">VkDeviceGroupSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetDeviceGroupPresentCapabilitiesKHR">vkGetDeviceGroupPresentCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetDeviceGroupSurfacePresentModesKHR">vkGetDeviceGroupSurfacePresentModesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDevicePresentRectanglesKHR">vkGetPhysicalDevicePresentRectanglesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkAcquireNextImage2KHR">vkAcquireNextImage2KHR</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If Vulkan 1.1 and VK_KHR_swapchain are supported, these are included by
VK_KHR_swapchain.</p>
</div>
<div class="paragraph">
<p>The base functionality in this extension is included in core Vulkan 1.1,
with the KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_6">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_2">Examples</h4>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_8">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-19 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-05-19 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Removed extended memory bind functions to VK_KHR_bind_memory2, added
dependency on that extension, and device-group-specific structs for
those functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-10-06 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected Vulkan 1.1 interactions with the WSI extensions.
All Vulkan 1.1 WSI interactions are with the VK_KHR_swapchain
extension.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2017-10-10 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Rename &quot;SFR&quot; bits and structure members to use the phrase &quot;split
instance bind regions&quot;.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_device_group_creation">VK_KHR_device_group_creation</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_device_group_creation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>71</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_device_group_creation:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides instance-level commands to enumerate groups of
physical devices, and to create a logical device from a subset of one of
those groups.
Such a logical device can then be used with new features in the
<code><a href="#VK_KHR_device_group">VK_KHR_device_group</a></code> extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_6">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_9">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GROUP_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GROUP_DEVICE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkMemoryHeapFlagBits">VkMemoryHeapFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_MEMORY_HEAP_MULTI_INSTANCE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_6">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_9">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkPhysicalDeviceGroupPropertiesKHR">VkPhysicalDeviceGroupPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkDeviceGroupDeviceCreateInfoKHR">VkDeviceGroupDeviceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_7">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#vkEnumeratePhysicalDeviceGroupsKHR">vkEnumeratePhysicalDeviceGroupsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_6">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_7">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_3">Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    VkDeviceCreateInfo devCreateInfo = { VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO };
    <span class="comment">// (not shown) fill out devCreateInfo as usual.</span>
    uint32_t deviceGroupCount = <span class="integer">0</span>;
    VkPhysicalDeviceGroupPropertiesKHR *props = <span class="predefined-constant">NULL</span>;

    <span class="comment">// Query the number of device groups</span>
    vkEnumeratePhysicalDeviceGroupsKHR(g_vkInstance, &amp;deviceGroupCount, <span class="predefined-constant">NULL</span>);

    <span class="comment">// Allocate and initialize structures to query the device groups</span>
    props = (VkPhysicalDeviceGroupPropertiesKHR *)malloc(deviceGroupCount*<span class="keyword">sizeof</span>(VkPhysicalDeviceGroupPropertiesKHR));
    <span class="keyword">for</span> (i = <span class="integer">0</span>; i &lt; deviceGroupCount; ++i) {
        props[i].sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_GROUP_PROPERTIES_KHR;
        props[i].pNext = <span class="predefined-constant">NULL</span>;
    }
    vkEnumeratePhysicalDeviceGroupsKHR(g_vkInstance, &amp;deviceGroupCount, props);

    <span class="comment">// If the first device group has more than one physical device. create</span>
    <span class="comment">// a logical device using all of the physical devices.</span>
    VkDeviceGroupDeviceCreateInfoKHR deviceGroupInfo = { VK_STRUCTURE_TYPE_DEVICE_GROUP_DEVICE_CREATE_INFO_KHR };
    <span class="keyword">if</span> (props[<span class="integer">0</span>].physicalDeviceCount &gt; <span class="integer">1</span>) {
        deviceGroupInfo.physicalDeviceCount = props[<span class="integer">0</span>].physicalDeviceCount;
        deviceGroupInfo.pPhysicalDevices = props[<span class="integer">0</span>].physicalDevices;
        devCreateInfo.pNext = &amp;deviceGroupInfo;
    }

    vkCreateDevice(props[<span class="integer">0</span>].physicalDevices[<span class="integer">0</span>], &amp;devCreateInfo, <span class="predefined-constant">NULL</span>, &amp;g_vkDevice);
    free(props);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_9">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-19 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_display">VK_KHR_display</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_display</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>21</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_display:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Norbert Nopper <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_display:%20&amp;body=@FslNopper%20"><span class="icon black"><i class="fa fa-github"></i></span>FslNopper</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides the API to enumerate displays and available modes on
a given device.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_7">New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkDisplayKHR">VkDisplayKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDisplayModeKHR">VkDisplayModeKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_10">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_7">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkDisplayPlaneAlphaFlagBitsKHR">VkDisplayPlaneAlphaFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_10">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkDisplayPropertiesKHR">VkDisplayPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDisplayModeParametersKHR">VkDisplayModeParametersKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDisplayModePropertiesKHR">VkDisplayModePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDisplayModeCreateInfoKHR">VkDisplayModeCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDisplayPlanePropertiesKHR">VkDisplayPlanePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDisplayPlaneCapabilitiesKHR">VkDisplayPlaneCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDisplaySurfaceCreateInfoKHR">VkDisplaySurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_8">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceDisplayPropertiesKHR">vkGetPhysicalDeviceDisplayPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceDisplayPlanePropertiesKHR">vkGetPhysicalDeviceDisplayPlanePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetDisplayPlaneSupportedDisplaysKHR">vkGetDisplayPlaneSupportedDisplaysKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetDisplayModePropertiesKHR">vkGetDisplayModePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCreateDisplayModeKHR">vkCreateDisplayModeKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkCreateDisplayPlaneSurfaceKHR">vkCreateDisplayPlaneSurfaceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_8">Issues</h4>
<div class="paragraph">
<p>1) Which properties of a mode should be fixed in the mode info vs.
settable in some other function when setting the mode? E.g., do we need to
double the size of the mode pool to include both stereo and non-stereo
modes? YUV and RGB scanout even if they both take RGB input images? BGR vs.
RGB input? etc.</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Many modern displays support at most a handful of
resolutions and timings natively.
Other “modes” are expected to be supported using scaling hardware on the
display engine or GPU.
Other properties, such as rotation and mirroring should not require
duplicating hardware modes just to express all combinations.
Further, these properties may be implemented on a per-display or per-overlay
granularity.</p>
</div>
<div class="paragraph">
<p>To avoid the exponential growth of modes as mutable properties are added, as
was the case with <code>EGLConfig</code>/WGL pixel formats/<code>GLXFBConfig</code>, this
specification should separate out hardware properties and configurable state
into separate objects.
Modes and overlay planes will express capabilities of the hardware, while a
separate structure will allow applications to configure scaling, rotation,
mirroring, color keys, LUT values, alpha masks, etc.
for a given swapchain independent of the mode in use.
Constraints on these settings will be established by properties of the
immutable objects.</p>
</div>
<div class="paragraph">
<p>Note the resolution of this issue may affect issue 5 as well.</p>
</div>
<div class="paragraph">
<p>2) What properties of a display itself are useful?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: This issue is too broad.
It was meant to prompt general discussion, but resolving this issue amounts
to completing this specification.
All interesting properties should be included.
The issue will remain as a placeholder since removing it would make it hard
to parse existing discussion notes that refer to issues by number.</p>
</div>
<div class="paragraph">
<p>3) How are multiple overlay planes within a display or mode enumerated?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: They are referred to by an index.
Each display will report the number of overlay planes it contains.</p>
</div>
<div class="paragraph">
<p>4) Should swapchains be created relative to a mode or a display?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: When using this extension, swapchains are created
relative to a mode and a plane.
The mode implies the display object the swapchain will present to.
If the specified mode is not the display’s current mode, the new mode will
be applied when the first image is presented to the swapchain, and the
default operating system mode, if any, will be restored when the swapchain
is destroyed.</p>
</div>
<div class="paragraph">
<p>5) Should users query generic ranges from displays and construct their own
modes explicitly using those constraints rather than querying a fixed set of
modes (Most monitors only have one real “mode” these days, even though
many support relatively arbitrary scaling, either on the monitor side or in
the GPU display engine, making “modes” something of a relic/compatibility
construct).</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Expose both.
Display info structures will expose a set of predefined modes, as well as
any attributes necessary to construct a customized mode.</p>
</div>
<div class="paragraph">
<p>6) Is it fine if we return the display and display mode handles in the
structure used to query their properties?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>7) Is there a possibility that not all displays of a device work with all of
the present queues of a device? If yes, how do we determine which displays
work with which present queues?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No known hardware has such limitations, but
determining such limitations is supported automatically using the existing
<code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> and <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> query mechanisms.</p>
</div>
<div class="paragraph">
<p>8) Should all presentation need to be done relative to an overlay plane, or
can a display mode + display be used alone to target an output?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Require specifying a plane explicitly.</p>
</div>
<div class="paragraph">
<p>9) Should displays have an associated window system display, such as an
<code>HDC</code> or <code>Display</code>*?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No.
Displays are independent of any windowing system in use on the system.
Further, neither <code>HDC</code> nor <code>Display</code>* refer to a physical display
object.</p>
</div>
<div class="paragraph">
<p>10) Are displays queried from a physical GPU or from a device instance?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Developers prefer to query modes directly from the
physical GPU so they can use display information as an input to their device
selection algorithms prior to device creation.
This avoids the need to create dummy device instances to enumerate displays.</p>
</div>
<div class="paragraph">
<p>This preference must be weighed against the extra initialization that must
be done by driver vendors prior to device instance creation to support this
usage.</p>
</div>
<div class="paragraph">
<p>11) Should displays and/or modes be dispatchable objects? If functions are
to take displays, overlays, or modes as their first parameter, they must be
dispatchable objects as defined in Khronos bug 13529.
If they are not added to the list of dispatchable objects, functions
operating on them must take some higher-level object as their first
parameter.
There is no performance case against making them dispatchable objects, but
they would be the first extension objects to be dispatchable.</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Do not make displays or modes dispatchable.
They will dispatch based on their associated physical device.</p>
</div>
<div class="paragraph">
<p>12) Should hardware cursor capabilities be exposed?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Defer.
This could be a separate extension on top of the base WSI specs.</p>
</div>
<div class="paragraph">
<p>if they are one physical display device to an end user, but may internally
be implemented as two side-by-side displays using the same display engine
(and sometimes cabling) resources as two physically separate display
devices.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Tiled displays will appear as a single display object in this
API.</p>
</div>
<div class="paragraph">
<p>14) Should the raw EDID data be included in the display information?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
A future extension could be added which reports the EDID if necessary.
This may be complicated by the outcome of issue 13.</p>
</div>
<div class="paragraph">
<p>15) Should min and max scaling factor capabilities of overlays be exposed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is exposed indirectly by allowing applications to query the min/max
position and extent of the source and destination regions from which image
contents are fetched by the display engine when using a particular mode and
overlay pair.</p>
</div>
<div class="paragraph">
<p>16) Should devices be able to expose planes that can be moved between
displays? If so, how?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications can determine which displays a given plane supports using
<a href="chap32.html#vkGetDisplayPlaneSupportedDisplaysKHR">vkGetDisplayPlaneSupportedDisplaysKHR</a>.</p>
</div>
<div class="paragraph">
<p>17) Should there be a way to destroy display modes? If so, does it support
destroying “built in” modes?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Not in this extension.
A future extension could add this functionality.</p>
</div>
<div class="paragraph">
<p>18) What should the lifetime of display and built-in display mode objects
be?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The lifetime of the instance.
These objects cannot be destroyed.
A future extension may be added to expose a way to destroy these objects
and/or support display hotplug.</p>
</div>
<div class="paragraph">
<p>19) Should persistent mode for smart panels be enabled/disabled at swapchain
creation time, or on a per-present basis.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: On a per-present basis.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_4">Examples</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code>VK_KHR_display</code> and <code><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code>
extensions was removed from the appendix after revision 1.0.43.
The display enumeration example code was ported to the cube demo that is
shipped with the official Khronos SDK, and is being kept up-to-date in that
location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_10">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-02-24 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-03-12 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Added overlay enumeration for a display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-03-17 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed typos and namings as discussed in Bugzilla.</p>
</li>
<li>
<p>Reordered and grouped functions.</p>
</li>
<li>
<p>Added functions to query count of display, mode and overlay.</p>
</li>
<li>
<p>Added native display handle, which is maybe needed on some platforms to
create a native Window.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-03-18 (Norbert Nopper)</p>
<div class="ulist">
<ul>
<li>
<p>Removed primary and virtualPostion members (see comment of James Jones
in Bugzilla).</p>
</li>
<li>
<p>Added native overlay handle to info structure.</p>
</li>
<li>
<p>Replaced , with ; in struct.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-03-18 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added WSI extension suffix to all items.</p>
</li>
<li>
<p>Made the whole API more &quot;Vulkanish&quot;.</p>
</li>
<li>
<p>Replaced all functions with a single vkGetDisplayInfoKHR function to
better match the rest of the API.</p>
</li>
<li>
<p>Made the display, display mode, and overlay objects be first class
objects, not subclasses of VkBaseObject as they do not support the
common functions anyways.</p>
</li>
<li>
<p>Renamed *Info structures to *Properties.</p>
</li>
<li>
<p>Removed overlayIndex field from VkOverlayProperties as there is an
implicit index already as a result of moving to a &quot;Vulkanish&quot; API.</p>
</li>
<li>
<p>Displays are not get through device, but through physical GPU to match
the rest of the Vulkan API.
Also this is something ISVs explicitly requested.</p>
</li>
<li>
<p>Added issue (6) and (7).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-03-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added an issues section</p>
</li>
<li>
<p>Added rotation and mirroring flags</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-03-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Combined the duplicate issues sections introduced in last change.</p>
</li>
<li>
<p>Added proposed resolutions to several issues.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-04-01 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased extension against Vulkan 0.82.0</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-04-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues (10) and (11).</p>
</li>
<li>
<p>Added more straw-man issue resolutions, and cleaned up the proposed
resolution for issue (4).</p>
</li>
<li>
<p>Updated the rotation and mirroring enums to have proper bitmask
semantics.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-04-15 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added proposed resolution for issues (1) and (2).</p>
</li>
<li>
<p>Added issues (12), (13), (14), and (15)</p>
</li>
<li>
<p>Removed pNativeHandle field from overlay structure.</p>
</li>
<li>
<p>Fixed small compilation errors in example code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-07-29 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rewrote the guts of the extension against the latest WSI swapchain
specifications and the latest Vulkan API.</p>
</li>
<li>
<p>Address overlay planes by their index rather than an object handle and
refer to them as &quot;planes&quot; rather than &quot;overlays&quot; to make it slightly
clearer that even a display with no &quot;overlays&quot; still has at least one
base &quot;plane&quot; that images can be displayed on.</p>
</li>
<li>
<p>Updated most of the issues.</p>
</li>
<li>
<p>Added an &quot;extension type&quot; section to the specification header.</p>
</li>
<li>
<p>Re-used the VK_EXT_KHR_surface surface transform enumerations rather
than redefining them here.</p>
</li>
<li>
<p>Updated the example code to use the new semantics.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-08-21 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &quot;revision&quot; to &quot;version&quot;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added alpha flags enum.</p>
</li>
<li>
<p>Added premultiplied alpha support.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added description section to the spec.</p>
</li>
<li>
<p>Added issues 16 - 18.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Planes are now a property of the entire device rather than individual
displays.
This allows planes to be moved between multiple displays on devices
that support it.</p>
</li>
<li>
<p>Added a function to create a VkSurfaceKHR object describing a display
plane and mode to align with the new per-platform surface creation
conventions.</p>
</li>
<li>
<p>Removed detailed mode timing data.
It was agreed that the mode extents and refresh rate are sufficient for
current use cases.
Other information could be added back2 in as an extension if it is
needed in the future.</p>
</li>
<li>
<p>Added support for smart/persistent/buffered display devices.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_display to VK_KHR_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-11-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated example code to match revision 17 changes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to creation functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Added VK_DISPLAY_PLANE_ALPHA_OPAQUE_BIT_KHR, and use
VkDisplayPlaneAlphaFlagBitsKHR for
VkDisplayPlanePropertiesKHR::alphaMode instead of
VkDisplayPlaneAlphaFlagsKHR, since it only represents one mode.</p>
</li>
<li>
<p>Added reserved flags bitmask to VkDisplayPlanePropertiesKHR.</p>
</li>
<li>
<p>Use VkSurfaceTransformFlagBitsKHR instead of obsolete
VkSurfaceTransformKHR.</p>
</li>
<li>
<p>Renamed vkGetDisplayPlaneSupportedDisplaysKHR parameters for clarity.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-12-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added missing &quot;planeIndex&quot; parameter to
vkGetDisplayPlaneSupportedDisplaysKHR()</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2017-03-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Closed all remaining issues.
The specification and implementations have been shipping with the
proposed resolutions for some time now.</p>
</li>
<li>
<p>Removed the sample code and noted it has been integrated into the
official Vulkan SDK cube demo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_display_swapchain">VK_KHR_display_swapchain</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_display_swapchain</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>9</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_display">VK_KHR_display</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_display_swapchain:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides an API to create a swapchain directly on a device’s
display without any underlying window system.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_8">New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_11">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INCOMPATIBLE_DISPLAY_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_8">New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_11">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkDisplayPresentInfoKHR">VkDisplayPresentInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_9">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_9">Issues</h4>
<div class="paragraph">
<p>1) Should swapchains sharing images each hold a reference to the images, or
should it be up to the application to destroy the swapchains and images in
an order that avoids the need for reference counting?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Take a reference.
The lifetime of presentable images is already complex enough.</p>
</div>
<div class="paragraph">
<p>2) Should the <code>srcRect</code>/<code>dstRect</code> parameters be specified as part of
the present command, or at swapchain creation time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: As part of the presentation command.
This allows moving and scaling the image on the screen without the need to
respecify the mode or create a new swapchain and presentable images.</p>
</div>
<div class="paragraph">
<p>3) Should <code>srcRect</code>/<code>dstRect</code> be specified as rects, or separate
offset/extent values?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: As rects.
Specifying them separately might make it easier for hardware to expose
support for one but not the other, but in such cases applications must just
take care to obey the reported capabilities and not use non-zero offsets or
extents that require scaling, as appropriate.</p>
</div>
<div class="paragraph">
<p>4) How can applications create multiple swapchains that use the same images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: By calling <a href="chap32.html#vkCreateSharedSwapchainsKHR">vkCreateSharedSwapchainsKHR</a>.</p>
</div>
<div class="paragraph">
<p>An earlier resolution used <a href="chap32.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a>, chaining multiple
<a href="chap32.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structures through <code>pNext</code>.
In order to allow each swapchain to also allow other extension structs, a
level of indirection was used: <a href="chap32.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a>::<code>pNext</code>
pointed to a different structure, which had both an <code>sType</code>/<code>pNext</code>
for additional extensions, and also had a pointer to the next
<a href="chap32.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> structure.
The number of swapchains to be created could only be found by walking this
linked list of alternating structures, and the <code>pSwapchains</code> out
parameter was reinterpreted to be an array of <a href="chap32.html#VkSwapchainKHR">VkSwapchainKHR</a> handles.</p>
</div>
<div class="paragraph">
<p>Another option considered was a method to specify a “shared” swapchain
when creating a new swapchain, such that groups of swapchains using the same
images could be built up one at a time.
This was deemed unusable because drivers need to know all of the displays an
image will be used on when determining which internal formats and layouts to
use for that image.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_5">Examples</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code><a href="#VK_KHR_display">VK_KHR_display</a></code> and <code>VK_KHR_display_swapchain</code>
extensions was removed from the appendix after revision 1.0.43.
The display swapchain creation example code was ported to the cube demo that
is shipped with the official Khronos SDK, and is being kept up-to-date in
that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_11">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-07-29 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-08-21 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &quot;revision&quot; to &quot;version&quot;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-09-08 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Allow creating multiple swap chains that share the same images using a
single call to vkCreateSwapChainKHR().</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-09-10 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Removed underscores from SWAP_CHAIN in two enums.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added support for smart panels/buffered displays.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_display_swapchain to VK_KHR_display_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated sample code based on the changes to VK_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replaced VkDisplaySwapchainCreateInfoKHR with
vkCreateSharedSwapchainsKHR, changing resolution of issue #4.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2017-03-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Closed all remaining issues.
The specification and implementations have been shipping with the
proposed resolutions for some time now.</p>
</li>
<li>
<p>Removed the sample code and noted it has been integrated into the
official Vulkan SDK cube demo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_draw_indirect_count">VK_KHR_draw_indirect_count</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_draw_indirect_count</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>170</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_draw_indirect_count:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Status</strong></dt>
<dd>
<p>Draft</p>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Derrick Owens, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension is based off the VK_AMD_draw_indirect_count extension.
This extension allows an application to source the number of draw calls for
indirect draw calls from a buffer.
This enables applications to generate arbitrary amounts of draw commands and
execute them without host intervention.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_10">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap20.html#vkCmdDrawIndirectCountKHR">vkCmdDrawIndirectCountKHR</a></p>
</li>
<li>
<p><a href="chap20.html#vkCmdDrawIndexedIndirectCountKHR">vkCmdDrawIndexedIndirectCountKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_12">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-25 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft based off VK_AMD_draw_indirect_count</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_driver_properties">VK_KHR_driver_properties</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_driver_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>197</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_driver_properties:%20&amp;body=@drakos-amd%20"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-04-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides a new physical device query which allows retrieving
information about the driver implementation, allowing applications to
determine which physical device corresponds to which particular vendor’s
driver, and which conformance test suite version the driver implementation
is compliant with.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_9">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_12">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DRIVER_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>VK_MAX_DRIVER_NAME_SIZE_KHR</code></p>
</li>
<li>
<p><code>VK_MAX_DRIVER_INFO_SIZE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_9">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_12">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkConformanceVersionKHR">VkConformanceVersionKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPhysicalDeviceDriverPropertiesKHR">VkPhysicalDeviceDriverPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_11">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_10">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_6">Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_13">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-04-11 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence">VK_KHR_external_fence</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>114</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_fence_capabilities">VK_KHR_external_fence_capabilities</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_fence:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to create fences from which non-Vulkan
handles that reference the underlying synchronization primitive can be
exported.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_10">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_13">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_FENCE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_10">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkFenceImportFlagBitsKHR">VkFenceImportFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkExportFenceCreateInfoKHR">VkExportFenceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_12">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_7">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_11">Issues</h4>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code>.
That extension’s issues apply equally to this extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence_capabilities">VK_KHR_external_fence_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>113</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_fence_capabilities:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application may wish to reference device fences in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of “external” fence
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_11">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_14">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_FENCE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_FENCE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_11">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkExternalFenceHandleTypeFlagBitsKHR">VkExternalFenceHandleTypeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkExternalFenceFeatureFlagBitsKHR">VkExternalFenceFeatureFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_2">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceExternalFenceInfoKHR">VkPhysicalDeviceExternalFenceInfoKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkExternalFencePropertiesKHR">VkExternalFencePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPhysicalDeviceIDPropertiesKHR">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_13">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#vkGetPhysicalDeviceExternalFencePropertiesKHR">vkGetPhysicalDeviceExternalFencePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_8">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_12">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence_fd">VK_KHR_external_fence_fd</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>116</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_fence">VK_KHR_external_fence</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_fence_fd:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to export fence payload to and import
fence payload from POSIX file descriptors.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_12">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_15">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_FENCE_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FENCE_GET_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_12">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_3">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkImportFenceFdInfoKHR">VkImportFenceFdInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkFenceGetFdInfoKHR">VkFenceGetFdInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_14">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#vkImportFenceFdKHR">vkImportFenceFdKHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkGetFenceFdKHR">vkGetFenceFdKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_13">Issues</h4>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="#VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</a></code>.
That extension’s issues apply equally to this extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_fence_win32">VK_KHR_external_fence_win32</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_fence_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>115</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_fence">VK_KHR_external_fence</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_fence_win32:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Contributors to <code><a href="#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using fences.
This extension enables an application to export fence payload to and import
fence payload from Windows handles.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_13">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_16">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_FENCE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_FENCE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FENCE_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_13">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_4">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkImportFenceWin32HandleInfoKHR">VkImportFenceWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkExportFenceWin32HandleInfoKHR">VkExportFenceWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkFenceGetWin32HandleInfoKHR">VkFenceGetWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_15">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#vkImportFenceWin32HandleKHR">vkImportFenceWin32HandleKHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkGetFenceWin32HandleKHR">vkGetFenceWin32HandleKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_14">Issues</h4>
<div class="paragraph">
<p>This extension borrows concepts, semantics, and language from
<code><a href="#VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</a></code>.
That extension’s issues apply equally to this extension.</p>
</div>
<div class="paragraph">
<p>1) Should D3D12 fence handle types be supported, like they are for
semaphores?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Doing so would require extending the fence signal and wait operations to
provide values to signal / wait for, like <code>VkD3D12FenceSubmitInfoKHR</code>
does.
A D3D12 fence can be signaled by importing it into a <a href="chap6.html#VkSemaphore">VkSemaphore</a>
instead of a <a href="chap6.html#VkFence">VkFence</a>, and applications can check status or wait on the
D3D12 fence using non-Vulkan APIs.
The convenience of being able to do these operations on <code>VkFence</code>
objects doesn’t justify the extra API complexity.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory">VK_KHR_external_memory</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>73</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_memory:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_NV_dedicated_allocation">VK_NV_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliot, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Chad Versace, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export non-Vulkan handles from
Vulkan memory objects such that the underlying resources can be referenced
outside the scope of the Vulkan logical device that created them.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_14">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_17">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_BUFFER_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_IMAGE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_ALLOCATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_INVALID_EXTERNAL_HANDLE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_14">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_5">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkExternalMemoryImageCreateInfoKHR">VkExternalMemoryImageCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkExternalMemoryBufferCreateInfoKHR">VkExternalMemoryBufferCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkExportMemoryAllocateInfoKHR">VkExportMemoryAllocateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_16">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_9">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_15">Issues</h4>
<div class="paragraph">
<p>1) How do applications correlate two physical devices across process or
Vulkan instance boundaries?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: New device ID fields have been introduced by
<code><a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a></code>.
These fields, combined with the existing
<a href="chap4.html#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>driverVersion</code> field can be used to
identify compatible devices across processes, drivers, and APIs.
<a href="chap4.html#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>pipelineCacheUUID</code> is not sufficient
for this purpose because despite its description in the specification, it
need only identify a unique pipeline cache format in practice.
Multiple devices may be able to use the same pipeline cache data, and hence
it would be desirable for all of them to have the same pipeline cache UUID.
However, only the same concrete physical device can be used when sharing
memory, so an actual unique device ID was introduced.
Further, the pipeline cache UUID was specific to Vulkan, but correlation
with other, non-extensible APIs is required to enable interoperation with
those APIs.</p>
</div>
<div class="paragraph">
<p>2) If memory objects are shared between processes and APIs, is this
considered aliasing according to the rules outlined in the
<a href="chap11.html#resources-memory-aliasing">Memory Aliasing</a> section?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications must take care to obey all restrictions imposed on aliased
resources when using memory across multiple Vulkan instances or other APIs.</p>
</div>
<div class="paragraph">
<p>3) Are new image layouts or metadata required to specify image layouts and
layout transitions compatible with non-Vulkan APIs, or with other instances
of the same Vulkan driver?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Separate instances of the same Vulkan driver running on the same
GPU should have identical internal layout semantics, so applications have
the tools they need to ensure views of images are consistent between the two
instances.
Other APIs will fall into two categories: Those that are Vulkan- compatible,
and those that are Vulkan-incompatible.
Vulkan-incompatible APIs will require the image to be in the GENERAL layout
whenever they are accessing them.</p>
</div>
<div class="paragraph">
<p>Note this does not attempt to address cross-device transitions, nor
transitions to engines on the same device which are not visible within the
Vulkan API.
Both of these are beyond the scope of this extension.</p>
</div>
<div class="paragraph">
<p>4) Is a new barrier flag or operation of some type needed to prepare
external memory for handoff to another Vulkan instance or API and/or receive
it from another instance or API?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Some implementations need to perform additional cache management when
transitioning memory between address spaces, and other APIs, instances, or
processes may operate in a separate address space.
Options for defining this transition include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A new structure that can be added to the <code>pNext</code> list in
<a href="chap6.html#VkMemoryBarrier">VkMemoryBarrier</a>, <a href="chap6.html#VkBufferMemoryBarrier">VkBufferMemoryBarrier</a>, and
<a href="chap6.html#VkImageMemoryBarrier">VkImageMemoryBarrier</a>.</p>
</li>
<li>
<p>A new bit in <a href="chap6.html#VkAccessFlags">VkAccessFlags</a> that can be set to indicate an
“external” access.</p>
</li>
<li>
<p>A new bit in <a href="chap6.html#VkDependencyFlags">VkDependencyFlags</a></p>
</li>
<li>
<p>A new special queue family that represents an “external” queue.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A new structure has the advantage that the type of external transition can
be described in as much detail as necessary.
However, there is not currently a known need for anything beyond
differentiating external vs.
internal accesses, so this is likely an over-engineered solution.
The access flag bit has the advantage that it can be applied at buffer,
image, or global granularity, and semantically it maps pretty well to the
operation being described.
Additionally, the API already includes <code>VK_ACCESS_MEMORY_READ_BIT</code> and
<code>VK_ACCESS_MEMORY_WRITE_BIT</code> which appear to be intended for this
purpose.
However, there is no obvious pipeline stage that would correspond to an
external access, and therefore no clear way to use
<code>VK_ACCESS_MEMORY_READ_BIT</code> or <code>VK_ACCESS_MEMORY_WRITE_BIT</code>.
<a href="chap6.html#VkDependencyFlags">VkDependencyFlags</a> and <a href="chap6.html#VkPipelineStageFlags">VkPipelineStageFlags</a> operate at command
granularity rather than image or buffer granularity, which would make an
entire pipeline barrier an internal→external or external→internal barrier.
This may not be a problem in practice, but seems like the wrong scope.
Another downside of <a href="chap6.html#VkDependencyFlags">VkDependencyFlags</a> is that it lacks inherent
directionality: There are not <code>src</code> and <code>dst</code> variants of it in the
barrier or dependency description semantics, so two bits might need to be
added to describe both internal→external and external→internal
transitions.
Transitioning a resource to a special queue family corresponds well with the
operation of transitioning to a separate Vulkan instance, in that both
operations ideally include scheduling a barrier on both sides of the
transition: Both the releasing and the acquiring queue or process.
Using a special queue family requires adding an additional reserved queue
family index.
Re-using <code>VK_QUEUE_FAMILY_IGNORED</code> would have left it unclear how to
transition a concurrent usage resource from one process to another, since
the semantics would have likely been equivalent to the currently-ignored
transition of
<code>VK_QUEUE_FAMILY_IGNORED</code> → <code>VK_QUEUE_FAMILY_IGNORED</code>.
Fortunately, creating a new reserved queue family index is not invasive.</p>
</div>
<div class="paragraph">
<p>Based on the above analysis, the approach of transitioning to a special
“external” queue family was chosen.</p>
</div>
<div class="paragraph">
<p>5) Do internal driver memory arrangements and/or other internal driver image
properties need to be exported and imported when sharing images across
processes or APIs.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Some vendors claim this is necessary on their implementations,
but it was determined that the security risks of allowing opaque meta data
to be passed from applications to the driver were too high.
Therefore, implementations which require metadata will need to associate it
with the objects represented by the external handles, and rely on the
dedicated allocation mechanism to associate the exported and imported memory
objects with a single image or buffer.</p>
</div>
<div class="paragraph">
<p>6) Most prior interoperation and cross-process sharing APIs have been based
on image-level sharing.
Should Vulkan sharing be based on memory-object sharing or image sharing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: These extensions have assumed memory-level sharing is the
correct granularity.
Vulkan is a lower-level API than most prior APIs, and as such attempts to
closely align with to the underlying primitives of the hardware and
system-level drivers it abstracts.
In general, the resource that holds the backing store for both images and
buffers of various types is memory.
Images and buffers are merely metadata containing brief descriptions of the
layout of bits within that memory.</p>
</div>
<div class="paragraph">
<p>Because memory object-based sharing is aligned with the overall Vulkan API
design, it exposes the full power of Vulkan on external objects.
External memory can be used as backing for sparse images, for example,
whereas such usage would be awkward at best with a sharing mechanism based
on higher-level primitives such as images.
Further, aligning the mechanism with the API in this way provides some hope
of trivial compatibility with future API enhancements.
If new objects backed by memory objects are added to the API, they too can
be used across processes with minimal additions to the base external memory
APIs.</p>
</div>
<div class="paragraph">
<p>Earlier APIs implemented interop at a higher level, and this necessitated
entirely separate sharing APIs for images and buffers.
To co-exist and interoperate with those APIs, the Vulkan external sharing
mechanism must accommodate their model.
However, if it can be agreed that memory-based sharing is the more desirable
and forward-looking design, legacy interoperation considerations can be
considered another reason to favor memory-based sharing: While native and
legacy driver primitives that may be used to implement sharing may not be as
low-level as the API here suggests, raw memory is still the least common
denominator among the types.
Image-based sharing can be cleanly derived from a set of base memory- object
sharing APIs with minimal effort, whereas image-based sharing does not
generalize well to buffer or raw-memory sharing.
Therefore, following the general Vulkan design principle of minimalism, it
is better to expose even interopability with image-based native and external
primitives via the memory sharing API, and place sufficient limits on their
usage to ensure they can be used only as backing for equivalent Vulkan
images.
This provides a consistent API for applications regardless of which platform
or external API they are targeting, which makes development of multi-API and
multi-platform applications simpler.</p>
</div>
<div class="paragraph">
<p>7) Should Vulkan define a common external handle type and provide Vulkan
functions to facilitate cross-process sharing of such handles rather than
relying on native handles to define the external objects?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Cross-process sharing of resources is best left to native platforms.
There are myriad security and extensibility issues with such a mechanism,
and attempting to re-solve all those issues within Vulkan does not align
with Vulkan’s purpose as a graphics API.
If desired, such a mechanism could be built as a layer or helper library on
top of the opaque native handle defined in this family of extensions.</p>
</div>
<div class="paragraph">
<p>8) Must implementations provide additional guarantees about state implicitly
included in memory objects for those memory objects that may be exported?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must ensure that sharing memory objects does not
transfer any information between the exporting and importing instances and
APIs other than that required to share the data contained in the memory
objects explicitly shared.
As specific examples, data from previously freed memory objects that used
the same underlying physical memory, and data from memory obects using
adjacent physical memory must not be visible to applications importing an
exported memory object.</p>
</div>
<div class="paragraph">
<p>9) Must implementations validate external handles the application provides
as input to memory import operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must return an error to the application if the
provided memory handle cannot be used to complete the requested import
operation.
However, implementations need not validate handles are of the exact type
specified by the application.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>72</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_memory_capabilities:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-17</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with <code><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_NV_dedicated_allocation">VK_NV_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliot, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of “external” memory
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_15">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_18">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_IMAGE_FORMAT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_IMAGE_FORMAT_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_BUFFER_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_BUFFER_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_15">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkExternalMemoryHandleTypeFlagBitsKHR">VkExternalMemoryHandleTypeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkExternalMemoryFeatureFlagBitsKHR">VkExternalMemoryFeatureFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_6">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkExternalMemoryPropertiesKHR">VkExternalMemoryPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceExternalImageFormatInfoKHR">VkPhysicalDeviceExternalImageFormatInfoKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkExternalImageFormatPropertiesKHR">VkExternalImageFormatPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceExternalBufferInfoKHR">VkPhysicalDeviceExternalBufferInfoKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkExternalBufferPropertiesKHR">VkExternalBufferPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPhysicalDeviceIDPropertiesKHR">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_17">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#vkGetPhysicalDeviceExternalBufferPropertiesKHR">vkGetPhysicalDeviceExternalBufferPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_10">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_16">Issues</h4>
<div class="paragraph">
<p>1) Why do so many external memory capabilities need to be queried on a
per-memory-handle-type basis?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: This is because some handle types are based on
OS-native objects that have far more limited capabilities than the very
generic Vulkan memory objects.
Not all memory handle types can name memory objects that support 3D images,
for example.
Some handle types cannot even support the deferred image and memory binding
behavior of Vulkan and require specifying the image when allocating or
importing the memory object.</p>
</div>
<div class="paragraph">
<p>2) Do the <a href="chap35.html#VkExternalImageFormatPropertiesKHR">VkExternalImageFormatPropertiesKHR</a> and
<a href="chap35.html#VkExternalBufferPropertiesKHR">VkExternalBufferPropertiesKHR</a> structs need to include a list of memory
type bits that support the given handle type?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No.
The memory types that don’t support the handle types will simply be filtered
out of the results returned by <a href="chap11.html#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a> and
<a href="chap11.html#vkGetBufferMemoryRequirements">vkGetBufferMemoryRequirements</a> when a set of handle types was specified
at image or buffer creation time.</p>
</div>
<div class="paragraph">
<p>3) Should the non-opaque handle types be moved to their own extension?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: Perhaps.
However, defining the handle type bits does very little and does not require
any platform-specific types on its own, and it’s easier to maintain the
bitfield values in a single extension for now.
Presumably more handle types could be added by separate extensions though,
and it would be midly weird to have some platform-specific ones defined in
the core spec and some in extensions</p>
</div>
<div class="paragraph">
<p>4) Do we need a <code>D3D11_TILEPOOL</code> type?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: No.
This is technically possible, but the synchronization is awkward.
D3D11 surfaces must be synchronized using shared mutexes, and these
synchronization primitives are shared by the entire memory object, so D3D11
shared allocations divided among multiple buffer and image bindings may be
difficult to synchronize.</p>
</div>
<div class="paragraph">
<p>5) Should the Windows 7-compatible handle types be named “KMT” handles or
“GLOBAL_SHARE” handles?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: KMT, simply because it is more concise.</p>
</div>
<div class="paragraph">
<p>6) How do applications identify compatible devices and drivers across
instance, process, and API boundaries when sharing memory?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED RESOLUTION</strong>: New device properties are exposed that allow
applications to correctly correlate devices and drivers.
A device and driver UUID that must both match to ensure sharing
compatibility between two Vulkan instances, or a Vulkan instance and an
extensible external API are added.
To allow correlating with Direct3D devices, a device LUID is added that
corresponds to a DXGI adapter LUID.
A driver ID is not needed for Direct3D because mismatched driver component
versions are not a currently supported configuration on the Windows OS.
Should support for such configurations be introduced at the OS level,
further Vulkan extensions would be needed to correlate userspace component
builds.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory_fd">VK_KHR_external_memory_fd</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>75</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_memory_fd:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export POSIX file descriptor
handles from Vulkan memory objects and to import Vulkan memory objects from
POSIX file descriptor handles exported from other Vulkan memory objects or
from similar resources in other APIs.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_16">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_19">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_FD_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_16">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_7">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkImportMemoryFdInfoKHR">VkImportMemoryFdInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryFdPropertiesKHR">VkMemoryFdPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryGetFdInfoKHR">VkMemoryGetFdInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_18">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#vkGetMemoryFdKHR">vkGetMemoryFdKHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetMemoryFdPropertiesKHR">vkGetMemoryFdPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_17">Issues</h4>
<div class="paragraph">
<p>1) Does the application need to close the file descriptor returned by
<a href="chap10.html#vkGetMemoryFdKHR">vkGetMemoryFdKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to a driver instance to import
the memory.
A successful get call transfers ownership of the file descriptor to the
application, and a successful import transfers it back to the driver.
Destroying the original memory object will not close the file descriptor or
remove its reference to the underlying memory resource associated with it.</p>
</div>
<div class="paragraph">
<p>2) Do drivers ever need to expose multiple file descriptors per memory
object?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This would indicate there are actually multiple memory objects, rather than
a single memory object.</p>
</div>
<div class="paragraph">
<p>3) How should the valid size and memory type for POSIX file descriptor
memory handles created outside of Vulkan be specified?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The valid memory types are queried directly from the external
handle.
The size will be specified by future extensions that introduce such external
memory handle types.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_memory_win32">VK_KHR_external_memory_win32</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_memory_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>74</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_memory_win32:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application may wish to reference device memory in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension enables an application to export Windows handles from Vulkan
memory objects and to import Vulkan memory objects from Windows handles
exported from other Vulkan memory objects or from similar resources in other
APIs.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_17">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_20">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_WIN32_HANDLE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_17">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_8">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkImportMemoryWin32HandleInfoKHR">VkImportMemoryWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkExportMemoryWin32HandleInfoKHR">VkExportMemoryWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryWin32HandlePropertiesKHR">VkMemoryWin32HandlePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryGetWin32HandleInfoKHR">VkMemoryGetWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_19">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#vkGetMemoryWin32HandleKHR">vkGetMemoryWin32HandleKHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetMemoryWin32HandlePropertiesKHR">vkGetMemoryWin32HandlePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_18">Issues</h4>
<div class="paragraph">
<p>1) Do applications need to call <code>CloseHandle</code>() on the values returned
from <a href="chap10.html#vkGetMemoryWin32HandleKHR">vkGetMemoryWin32HandleKHR</a> when <code>handleType</code> is
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to another driver instance to
import the object.
A successful get call transfers ownership of the handle to the application.
Destroying the memory object will not destroy the handle or the handle’s
reference to the underlying memory resource.</p>
</div>
<div class="paragraph">
<p>2) Should the language regarding KMT/Windows 7 handles be moved to a
separate extension so that it can be deprecated over time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Support for them can be deprecated by drivers if they choose, by no longer
returning them in the supported handle types of the instance level queries.</p>
</div>
<div class="paragraph">
<p>3) How should the valid size and memory type for windows memory handles
created outside of Vulkan be specified?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The valid memory types are queried directly from the external
handle.
The size is determined by the associated image or buffer memory requirements
for external handle types that require dedicated allocations, and by the
size specified when creating the object from which the handle was exported
for other external handle types.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore">VK_KHR_external_semaphore</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>78</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_semaphore:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Chad Versace, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to create semaphores from which
non-Vulkan handles that reference the underlying synchronization primitive
can be exported.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_18">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_21">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_SEMAPHORE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_INVALID_EXTERNAL_HANDLE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_18">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkSemaphoreImportFlagBitsKHR">VkSemaphoreImportFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_9">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkExportSemaphoreCreateInfoKHR">VkExportSemaphoreCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_20">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_11">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_19">Issues</h4>
<div class="paragraph">
<p>1) Should there be restrictions on what side effects can occur when waiting
on imported semaphores that are in an invalid state?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Normally, validating such state would be the responsibility of the
application, and the implementation would be free to enter an undefined
state if valid usage rules were violated.
However, this could cause security concerns when using imported semaphores,
as it would require the importing application to trust the exporting
application to ensure the state is valid.
Requiring this level of trust is undesirable for many potential use cases.</p>
</div>
<div class="paragraph">
<p>2) Must implementations validate external handles the application provides
as input to semaphore state import operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Implementations must return an error to the application if the
provided semaphore state handle cannot be used to complete the requested
import operation.
However, implementations need not validate handles are of the exact type
specified by the application.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore_capabilities">VK_KHR_external_semaphore_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>77</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_semaphore_capabilities:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application may wish to reference device semaphores in multiple Vulkan
logical devices or instances, in multiple processes, and/or in multiple
APIs.
This extension provides a set of capability queries and handle definitions
that allow an application to determine what types of “external” semaphore
handles an implementation supports for a given set of use cases.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_19">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_22">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_SEMAPHORE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_SEMAPHORE_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ID_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_LUID_SIZE_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_19">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkExternalSemaphoreHandleTypeFlagBitsKHR">VkExternalSemaphoreHandleTypeFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkExternalSemaphoreFeatureFlagBitsKHR">VkExternalSemaphoreFeatureFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_10">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceExternalSemaphoreInfoKHR">VkPhysicalDeviceExternalSemaphoreInfoKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkExternalSemaphorePropertiesKHR">VkExternalSemaphorePropertiesKHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPhysicalDeviceIDPropertiesKHR">VkPhysicalDeviceIDPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_21">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#vkGetPhysicalDeviceExternalSemaphorePropertiesKHR">vkGetPhysicalDeviceExternalSemaphorePropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_12">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_20">Issues</h4>

</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore_fd">VK_KHR_external_semaphore_fd</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_fd</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>80</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_semaphore_fd:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to export semaphore payload to and
import semaphore payload from POSIX file descriptors.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_20">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_23">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_SEMAPHORE_FD_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_GET_FD_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_20">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_11">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkImportSemaphoreFdInfoKHR">VkImportSemaphoreFdInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkSemaphoreGetFdInfoKHR">VkSemaphoreGetFdInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_22">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#vkImportSemaphoreFdKHR">vkImportSemaphoreFdKHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkGetSemaphoreFdKHR">vkGetSemaphoreFdKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_21">Issues</h4>
<div class="paragraph">
<p>1) Does the application need to close the file descriptor returned by
<a href="chap6.html#vkGetSemaphoreFdKHR">vkGetSemaphoreFdKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to a driver instance to import
the semaphore.
A successful get call transfers ownership of the file descriptor to the
application, and a successful import transfers it back to the driver.
Destroying the original semaphore object will not close the file descriptor
or remove its reference to the underlying semaphore resource associated with
it.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_external_semaphore_win32">VK_KHR_external_semaphore_win32</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_external_semaphore_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>79</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_semaphore">VK_KHR_external_semaphore</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_external_semaphore_win32:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An application using external memory may wish to synchronize access to that
memory using semaphores.
This extension enables an application to export semaphore payload to and
import semaphore payload from Windows handles.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_21">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_24">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_SEMAPHORE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_SEMAPHORE_WIN32_HANDLE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_D3D12_FENCE_SUBMIT_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SEMAPHORE_GET_WIN32_HANDLE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_21">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_12">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkImportSemaphoreWin32HandleInfoKHR">VkImportSemaphoreWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkExportSemaphoreWin32HandleInfoKHR">VkExportSemaphoreWin32HandleInfoKHR</a></p>
</li>
<li>
<p><a href="chap5.html#VkD3D12FenceSubmitInfoKHR">VkD3D12FenceSubmitInfoKHR</a></p>
</li>
<li>
<p><a href="chap6.html#VkSemaphoreGetWin32HandleInfoKHR">VkSemaphoreGetWin32HandleInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_23">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#vkImportSemaphoreWin32HandleKHR">vkImportSemaphoreWin32HandleKHR</a></p>
</li>
<li>
<p><a href="chap6.html#vkGetSemaphoreWin32HandleKHR">vkGetSemaphoreWin32HandleKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_22">Issues</h4>
<div class="paragraph">
<p>1) Do applications need to call <code>CloseHandle</code>() on the values returned
from <a href="chap6.html#vkGetSemaphoreWin32HandleKHR">vkGetSemaphoreWin32HandleKHR</a> when <code>handleType</code> is
<code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to another driver instance to
import the object.
A successful get call transfers ownership of the handle to the application.
Destroying the semaphore object will not destroy the handle or the handle’s
reference to the underlying semaphore resource.</p>
</div>
<div class="paragraph">
<p>2) Should the language regarding KMT/Windows 7 handles be moved to a
separate extension so that it can be deprecated over time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Support for them can be deprecated by drivers if they choose, by no longer
returning them in the supported handle types of the instance level queries.</p>
</div>
<div class="paragraph">
<p>3) Should applications be allowed to specify additional object attributes
for shared handles?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Applications will be allowed to provide similar attributes to those they
would to any other handle creation API.</p>
</div>
<div class="paragraph">
<p>4) How do applications communicate the desired fence values to use with
<code>D3D12_FENCE</code>-based Vulkan semaphores?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: There are a couple of options.
The values for the signaled and reset states could be communicated up front
when creating the object and remain static for the life of the Vulkan
semaphore, or they could be specified using auxiliary structures when
submitting semaphore signal and wait operations, similar to what is done
with the keyed mutex extensions.
The latter is more flexible and consistent with the keyed mutex usage, but
the former is a much simpler API.</p>
</div>
<div class="paragraph">
<p>Since Vulkan tends to favor flexibility and consistency over simplicity, a
new structure specifying D3D12 fence acquire and release values is added to
the <a href="chap5.html#vkQueueSubmit">vkQueueSubmit</a> function.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_display_properties2">VK_KHR_get_display_properties2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_display_properties2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>122</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_display">VK_KHR_display</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_get_display_properties2:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides new entry points to query device display properties
and capabilities in a way that can be easily extended by other extensions,
without introducing any further entry points.
This extension can be considered the <a href="#VK_KHR_display">VK_KHR_display</a>
equivalent of the <a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a> extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_22">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_25">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_MODE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_PLANE_CAPABILITIES_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_22">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_13">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkDisplayProperties2KHR">VkDisplayProperties2KHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDisplayPlaneProperties2KHR">VkDisplayPlaneProperties2KHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDisplayModeProperties2KHR">VkDisplayModeProperties2KHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDisplayPlaneInfo2KHR">VkDisplayPlaneInfo2KHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkDisplayPlaneCapabilities2KHR">VkDisplayPlaneCapabilities2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_24">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceDisplayProperties2KHR">vkGetPhysicalDeviceDisplayProperties2KHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceDisplayPlaneProperties2KHR">vkGetPhysicalDeviceDisplayPlaneProperties2KHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetDisplayModeProperties2KHR">vkGetDisplayModeProperties2KHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetDisplayPlaneCapabilities2KHR">vkGetDisplayPlaneCapabilities2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_23">Issues</h4>
<div class="paragraph">
<p>1) What should this extension be named?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: VK_KHR_get_display_properties2.
Other alternatives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>VK_KHR_display2</p>
</li>
<li>
<p>One extension, combined with VK_KHR_surface_capabilites2.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>2) Should extensible input structs be added for these new functions:</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceDisplayProperties2KHR">vkGetPhysicalDeviceDisplayProperties2KHR</a>: No.
The only current input is a VkPhysicalDevice.
Other inputs wouldn’t make sense.</p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceDisplayPlaneProperties2KHR">vkGetPhysicalDeviceDisplayPlaneProperties2KHR</a>: No.
The only current input is a VkPhysicalDevice.
Other inputs wouldn’t make sense.</p>
</li>
<li>
<p><a href="chap32.html#vkGetDisplayModeProperties2KHR">vkGetDisplayModeProperties2KHR</a>: No.
The only curent inputs are a VkPhysicalDevice and a VkDisplayModeKHR.
Other inputs wouldn’t make sense.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>3) Should additional display query functions be extended?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkGetDisplayPlaneSupportedDisplaysKHR">vkGetDisplayPlaneSupportedDisplaysKHR</a>: No.
Extensions should instead extend
<a href="chap32.html#vkGetDisplayPlaneCapabilitiesKHR">vkGetDisplayPlaneCapabilitiesKHR</a>().</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_14">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-21 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_memory_requirements2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>147</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_get_memory_requirements2:%20&amp;body=@jekstrand%20"><span class="icon black"><i class="fa fa-github"></i></span>jekstrand</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides new entry points to query memory requirements of
images and buffers in a way that can be easily extended by other extensions,
without introducing any further entry points.
The Vulkan 1.0 <a href="chap11.html#VkMemoryRequirements">VkMemoryRequirements</a> and
<a href="chap31.html#VkSparseImageMemoryRequirements">VkSparseImageMemoryRequirements</a> structures do not include a
<code>sType</code>/<code>pNext</code>, this extension wraps them in new structures with
<code>sType</code>/<code>pNext</code> so an application can query a chain of memory
requirements structures by constructing the chain and letting the
implementation fill them in.
A new command is added for each <code>vkGet*MemoryRequrements</code> command in
core Vulkan 1.0.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_23">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_26">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_BUFFER_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_SPARSE_MEMORY_REQUIREMENTS_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_REQUIREMENTS_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SPARSE_IMAGE_MEMORY_REQUIREMENTS_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_23">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_14">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkBufferMemoryRequirementsInfo2KHR">VkBufferMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImageMemoryRequirementsInfo2KHR">VkImageMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="chap31.html#VkImageSparseMemoryRequirementsInfo2KHR">VkImageSparseMemoryRequirementsInfo2KHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkMemoryRequirements2KHR">VkMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="chap31.html#VkSparseImageMemoryRequirements2KHR">VkSparseImageMemoryRequirements2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_25">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#vkGetImageMemoryRequirements2KHR">vkGetImageMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="chap11.html#vkGetBufferMemoryRequirements2KHR">vkGetBufferMemoryRequirements2KHR</a></p>
</li>
<li>
<p><a href="chap31.html#vkGetImageSparseMemoryRequirements2KHR">vkGetImageSparseMemoryRequirements2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_13">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_24">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_15">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_physical_device_properties2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>60</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_get_physical_device_properties2:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides new entry points to query device features, device
properties, and format properties in a way that can be easily extended by
other extensions, without introducing any further entry points.
The Vulkan 1.0 feature/limit/formatproperty structures do not include
<code>sType</code>/<code>pNext</code> members.
This extension wraps them in new structures with <code>sType</code>/<code>pNext</code>
members, so an application can query a chain of feature/limit/formatproperty
structures by constructing the chain and letting the implementation fill
them in.
A new command is added for each <code>vkGetPhysicalDevice*</code> command in core
Vulkan 1.0.
The new feature structure (and a chain of extension structures) can also be
passed in to device creation to enable features.</p>
</div>
<div class="paragraph">
<p>This extension also allows applications to use the physical-device
components of device extensions before <a href="chap4.html#vkCreateDevice">vkCreateDevice</a> is called.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_24">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_27">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MEMORY_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SPARSE_IMAGE_FORMAT_PROPERTIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SPARSE_IMAGE_FORMAT_INFO_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_24">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_15">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceFeatures2KHR">VkPhysicalDeviceFeatures2KHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkPhysicalDeviceProperties2KHR">VkPhysicalDeviceProperties2KHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkFormatProperties2KHR">VkFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkImageFormatProperties2KHR">VkImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceImageFormatInfo2KHR">VkPhysicalDeviceImageFormatInfo2KHR</a></p>
</li>
<li>
<p><a href="chap4.html#VkQueueFamilyProperties2KHR">VkQueueFamilyProperties2KHR</a></p>
</li>
<li>
<p><a href="chap10.html#VkPhysicalDeviceMemoryProperties2KHR">VkPhysicalDeviceMemoryProperties2KHR</a></p>
</li>
<li>
<p><a href="chap31.html#VkSparseImageFormatProperties2KHR">VkSparseImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap31.html#VkPhysicalDeviceSparseImageFormatInfo2KHR">VkPhysicalDeviceSparseImageFormatInfo2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_26">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#vkGetPhysicalDeviceFeatures2KHR">vkGetPhysicalDeviceFeatures2KHR</a></p>
</li>
<li>
<p><a href="chap4.html#vkGetPhysicalDeviceProperties2KHR">vkGetPhysicalDeviceProperties2KHR</a></p>
</li>
<li>
<p><a href="chap35.html#vkGetPhysicalDeviceFormatProperties2KHR">vkGetPhysicalDeviceFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap35.html#vkGetPhysicalDeviceImageFormatProperties2KHR">vkGetPhysicalDeviceImageFormatProperties2KHR</a></p>
</li>
<li>
<p><a href="chap4.html#vkGetPhysicalDeviceQueueFamilyProperties2KHR">vkGetPhysicalDeviceQueueFamilyProperties2KHR</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetPhysicalDeviceMemoryProperties2KHR">vkGetPhysicalDeviceMemoryProperties2KHR</a></p>
</li>
<li>
<p><a href="chap31.html#vkGetPhysicalDeviceSparseImageFormatProperties2KHR">vkGetPhysicalDeviceSparseImageFormatProperties2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_14">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_25">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_7">Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="comment">// Get features with a hypothetical future extension.</span>
    VkHypotheticalExtensionFeaturesKHR hypotheticalFeatures =
    {
        VK_STRUCTURE_TYPE_HYPOTHETICAL_FEATURES_KHR,                            <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                                                   <span class="comment">// pNext</span>
    };

    VkPhysicalDeviceFeatures2KHR features =
    {
        VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR,                       <span class="comment">// sType</span>
        &amp;hypotheticalFeatures,                                                  <span class="comment">// pNext</span>
    };

    <span class="comment">// After this call, features and hypotheticalFeatures have been filled out.</span>
    vkGetPhysicalDeviceFeatures2KHR(physicalDevice, &amp;features);

    <span class="comment">// Properties/limits can be chained and queried similarly.</span>

    <span class="comment">// Enable some features:</span>
    VkHypotheticalExtensionFeaturesKHR enabledHypotheticalFeatures =
    {
        VK_STRUCTURE_TYPE_HYPOTHETICAL_FEATURES_KHR,                            <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                                                   <span class="comment">// pNext</span>
    };

    VkPhysicalDeviceFeatures2KHR enabledFeatures =
    {
        VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2_KHR,                       <span class="comment">// sType</span>
        &amp;enabledHypotheticalFeatures,                                           <span class="comment">// pNext</span>
    };

    enabledFeatures.features.xyz = VK_TRUE;
    enabledHypotheticalFeatures.abc = VK_TRUE;

    VkDeviceCreateInfo deviceCreateInfo =
    {
        VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO,                                   <span class="comment">// sType</span>
        &amp;enabledFeatures,                                                       <span class="comment">// pNext</span>
        ...
        <span class="predefined-constant">NULL</span>,                                                                   <span class="comment">// pEnabledFeatures</span>
    }

    VkDevice device;
    vkCreateDevice(physicalDevice, &amp;deviceCreateInfo, <span class="predefined-constant">NULL</span>, &amp;device);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_16">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-09-12 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2016-11-02 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Added ability for applications to use the physical-device components of
device extensions before vkCreateDevice is called.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_get_surface_capabilities2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>120</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_get_surface_capabilities2:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-27</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides new entry points to query device surface
capabilities in a way that can be easily extended by other extensions,
without introducing any further entry points.
This extension can be considered the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> equivalent of the
<code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code> extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_25">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_28">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SURFACE_INFO_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_2_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_FORMAT_2_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_25">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_16">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkPhysicalDeviceSurfaceInfo2KHR">VkPhysicalDeviceSurfaceInfo2KHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkSurfaceCapabilities2KHR">VkSurfaceCapabilities2KHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkSurfaceFormat2KHR">VkSurfaceFormat2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_27">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceSurfaceFormats2KHR">vkGetPhysicalDeviceSurfaceFormats2KHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_26">Issues</h4>
<div class="paragraph">
<p>1) What should this extension be named?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>VK_KHR_get_surface_capabilities2</code>.
Other alternatives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_KHR_surface2</code></p>
</li>
<li>
<p>One extension, combining a separate display-specific query extension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>2) Should additional WSI query functions be extended?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>: Yes.
The need for this motivated the extension.</p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>: No.
Currently only has boolean output.
Extensions should instead extend
<a href="chap32.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a>: Yes.</p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a>: No.
Recent discussion concluded this introduced too much variability for
applications to deal with.
Extensions should instead extend
<a href="chap32.html#vkGetPhysicalDeviceSurfaceCapabilities2KHR">vkGetPhysicalDeviceSurfaceCapabilities2KHR</a>.</p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceXlibPresentationSupportKHR">vkGetPhysicalDeviceXlibPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceXcbPresentationSupportKHR">vkGetPhysicalDeviceXcbPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a>: Not in this
extension.</p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceWin32PresentationSupportKHR">vkGetPhysicalDeviceWin32PresentationSupportKHR</a>: Not in this
extension.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_17">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_image_format_list">VK_KHR_image_format_list</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_image_format_list</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>148</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_image_format_list:%20&amp;body=@jekstrand%20"><span class="icon black"><i class="fa fa-github"></i></span>jekstrand</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jeff Leger, Qualcomm</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>On some implementations, setting the
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> on image creation can cause access
to that image to perform worse than an equivalent image created without
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> because the implementation does not
know what view formats will be paired with the image.</p>
</div>
<div class="paragraph">
<p>This extension allows an application to provide the list of all formats that
<strong class="purple">can</strong> be used with an image when it is created.
The implementation may then be able to create a more efficient image that
supports the subset of formats required by the application without having to
support all formats in the format compatibility class of the image format.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_26">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_29">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_LIST_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_26">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_13">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkImageFormatListCreateInfoKHR">VkImageFormatListCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_28">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_27">Issues</h4>

</div>
<div class="sect3">
<h4 id="VK_KHR_incremental_present">VK_KHR_incremental_present</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_incremental_present</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>85</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_incremental_present:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-11-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Mika Isojarvi, Google</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This device extension extends <a href="chap32.html#vkQueuePresentKHR">vkQueuePresentKHR</a>, from the
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension, allowing an application to specify a list
of rectangular, modified regions of each image to present.
This should be used in situations where an application is only changing a
small portion of the presentable images within a swapchain, since it enables
the presentation engine to avoid wasting time presenting parts of the
surface that haven’t changed.</p>
</div>
<div class="paragraph">
<p>This extension is leveraged from the EGL_KHR_swap_buffers_with_damage
extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_27">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_30">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_REGIONS_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_27">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_17">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkRectLayerKHR">VkRectLayerKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkPresentRegionKHR">VkPresentRegionKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkPresentRegionsKHR">VkPresentRegionsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_29">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_8">Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_28">Issues</h4>
<div class="paragraph">
<p>1) How should we handle steroescopic-3D swapchains? We need to add a layer
for each rectangle.
One approach is to create another struct that contains the <a href="chap2.html#VkRect2D">VkRect2D</a>
plus layer, and have <a href="chap32.html#VkPresentRegionsKHR">VkPresentRegionsKHR</a> point to an array of that
struct.
Another approach is to have two parallel arrays, <code>pRectangles</code> and
<code>pLayers</code>, where <code>pRectangles</code>[i] and <code>pLayers</code>[i] must be used
together.
Which approach should we use, and if the array of a new structure, what
should that be called?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Create a new structure, which is a <a href="chap2.html#VkRect2D">VkRect2D</a> plus a layer,
and will be called <a href="chap32.html#VkRectLayerKHR">VkRectLayerKHR</a>.</p>
</div>
<div class="paragraph">
<p>2) Where is the origin of the <a href="chap32.html#VkRectLayerKHR">VkRectLayerKHR</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The upper left corner of the presentable image(s) of the
swapchain, per the definition of framebuffer coordinates.</p>
</div>
<div class="paragraph">
<p>3) Does the rectangular region, <a href="chap32.html#VkRectLayerKHR">VkRectLayerKHR</a>, specify pixels of the
swapchain’s image(s), or of the surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Of the image(s).
Some presentation engines may scale the pixels of a swapchain’s image(s) to
the size of the surface.
The size of the swapchain’s image(s) will be consistent, where the size of
the surface may vary over time.</p>
</div>
<div class="paragraph">
<p>4) What if all of the rectangles for a given swapchain contain a width
and/or height of zero?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The application is indicating that no pixels changed since the
last present.
The presentation engine may use such a hint and not update any pixels for
the swapchain.
However, all other semantics of <a href="chap32.html#vkQueuePresentKHR">vkQueuePresentKHR</a> must still be
honored, including waiting for semaphores to signal.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_18">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-11-02 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance1">VK_KHR_maintenance1</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>70</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_maintenance1:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-13</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Neil Henning, Codeplay Software Ltd.</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Tom Olson, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code>VK_KHR_maintenance1</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow 2D and 2D array image views to be created from 3D images, which
can then be used as color framebuffer attachments.
This allows applications to render to slices of a 3D image.</p>
</li>
<li>
<p>Support <a href="chap19.html#vkCmdCopyImage">vkCmdCopyImage</a> between 2D array layers and 3D slices.
This extension allows copying from layers of a 2D array image to slices
of a 3D image and vice versa.</p>
</li>
<li>
<p>Allow negative height to be specified in the
<a href="chap25.html#VkViewport">VkViewport</a>::<code>height</code> field to perform y-inversion of the
clip-space to framebuffer-space transform.
This allows apps to avoid having to use <code>gl_Position.y = -gl_Position.y</code>
in shaders also targeting other APIs.</p>
</li>
<li>
<p>Allow implementations to express support for doing just transfers and
clears of image formats that they otherwise support no other format
features for.
This is done by adding new format feature flags
<code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code> and
<code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code>.</p>
</li>
<li>
<p>Support <a href="chap18.html#vkCmdFillBuffer">vkCmdFillBuffer</a> on transfer-only queues.
Previously <a href="chap18.html#vkCmdFillBuffer">vkCmdFillBuffer</a> was defined to only work on command
buffers allocated from command pools which support graphics or compute
queues.
It is now allowed on queues that just support transfer operations.</p>
</li>
<li>
<p>Fix the inconsistency of how error conditions are returned between the
<a href="chap9.html#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a> and <a href="chap9.html#vkCreateComputePipelines">vkCreateComputePipelines</a>
functions and the <a href="chap13.html#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a> and
<a href="chap5.html#vkAllocateCommandBuffers">vkAllocateCommandBuffers</a> functions.</p>
</li>
<li>
<p>Add new <code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code> error so implementations
can give a more precise reason for <a href="chap13.html#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a>
failures.</p>
</li>
<li>
<p>Add a new command <a href="chap5.html#vkTrimCommandPoolKHR">vkTrimCommandPoolKHR</a> which gives the
implementation an opportunity to release any unused command pool memory
back to the system.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_28">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_31">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_POOL_MEMORY_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_TRANSFER_SRC_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_TRANSFER_DST_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_28">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_18">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_30">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#vkTrimCommandPoolKHR">vkTrimCommandPoolKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_15">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_29">Issues</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Are viewports with zero height allowed?</p>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, although they have low utility.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_19">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-26 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-03-13 (Jon Leech)</p>
<div class="ulist">
<ul>
<li>
<p>Add issue for zero-height viewports</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance2">VK_KHR_maintenance2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>118</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Michael Worcester <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_maintenance2:%20&amp;body=@michaelworcester%20"><span class="icon black"><i class="fa fa-github"></i></span>michaelworcester</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Stuart Smith, Imagination Technologies</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code>VK_KHR_maintenance2</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow the application to specify which aspect of an input attachment
might be read for a given subpass.</p>
</li>
<li>
<p>Allow implementations to express the clipping behavior of points.</p>
</li>
<li>
<p>Allow creating images with usage flags that may not be supported for the
base image’s format, but are supported for image views of the image that
have a different but compatible format.</p>
</li>
<li>
<p>Allow creating uncompressed image views of compressed images.</p>
</li>
<li>
<p>Allow the application to select between an upper-left and lower-left
origin for the tessellation domain space.</p>
</li>
<li>
<p>Adds two new image layouts for depth stencil images to allow either the
depth or stencil aspect to be read-only while the other aspect is
writable.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_input_attachment_specification">Input Attachment Specification</h4>
<div class="paragraph">
<p>Input attachment specification allows an application to specify which aspect
of a multi-aspect image (e.g. a combined depth stencil format) will be
accessed via a <code>subpassLoad</code> operation.</p>
</div>
<div class="paragraph">
<p>On some implementations there <strong class="purple">may</strong> be a performance penalty if the
implementation does not know (at <a href="chap7.html#vkCreateRenderPass">vkCreateRenderPass</a> time) which
aspect(s) of multi-aspect images <strong class="purple">can</strong> be accessed as input attachments.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_29">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_32">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_INPUT_ATTACHMENT_ASPECT_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_POINT_CLIPPING_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_USAGE_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_TESSELLATION_DOMAIN_ORIGIN_STATE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_BLOCK_TEXEL_VIEW_COMPATIBLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_CREATE_EXTENDED_USAGE_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageLayout">VkImageLayout</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_ALL_CLIP_PLANES_KHR</code></p>
</li>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_USER_CLIP_PLANES_ONLY_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_29">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkPointClippingBehaviorKHR">VkPointClippingBehaviorKHR</a></p>
</li>
<li>
<p><a href="chap22.html#VkTessellationDomainOriginKHR">VkTessellationDomainOriginKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_19">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDevicePointClippingPropertiesKHR">VkPhysicalDevicePointClippingPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkRenderPassInputAttachmentAspectCreateInfoKHR">VkRenderPassInputAttachmentAspectCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkInputAttachmentAspectReferenceKHR">VkInputAttachmentAspectReferenceKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImageViewUsageCreateInfoKHR">VkImageViewUsageCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap22.html#VkPipelineTessellationDomainOriginStateCreateInfoKHR">VkPipelineTessellationDomainOriginStateCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_31">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_16">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_input_attachment_specification_example">Input Attachment Specification Example</h4>
<div class="paragraph">
<p>Consider the case where a render pass has two subpasses and two attachments.</p>
</div>
<div class="paragraph">
<p>Attachment 0 has the format <code>VK_FORMAT_D24_UNORM_S8_UINT</code>, attachment 1
has some color format.</p>
</div>
<div class="paragraph">
<p>Subpass 0 writes to attachment 0, subpass 1 reads only the depth information
from attachment 0 (using inputAttachmentRead) and writes to attachment 1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    VkInputAttachmentAspectReferenceKHR references[] = {
        {
            .subpass = <span class="integer">1</span>,
            .inputAttachmentIndex = <span class="integer">0</span>,
            .aspectMask = VK_IMAGE_ASPECT_DEPTH_BIT
        }
    };

    VkRenderPassInputAttachmentAspectCreateInfoKHR specifyAspects = {
        .sType = VK_STRUCTURE_TYPE_RENDER_PASS_INPUT_ATTACHMENT_ASPECT_CREATE_INFO_KHR,
        .pNext = <span class="predefined-constant">NULL</span>,
        .aspectReferenceCount = <span class="integer">1</span>,
        .pAspectReferences = references
    };


    VkRenderPassCreateInfo createInfo = {
        ...
        .pNext = &amp;specifyAspects,
        ...
    }

    vkCreateRenderPass(...);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_issues_30">Issues</h4>
<div class="paragraph">
<p>1) What is the default tessellation domain origin?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Vulkan 1.0 originally inadvertently documented a lower-left
origin, but the conformance tests and all implementations implemented an
upper-left origin.
This extension adds a control to select between lower-left (for
compatibility with OpenGL) and upper-left, and we retroactively fix
unextended Vulkan to have a default of an upper-left origin.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_20">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-04-28</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_maintenance3">VK_KHR_maintenance3</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_maintenance3</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>169</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_maintenance3:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Status</strong></dt>
<dd>
<p>Draft</p>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code>VK_KHR_maintenance3</code> adds a collection of minor features that were
intentionally left out or overlooked from the original Vulkan 1.0 release.</p>
</div>
<div class="paragraph">
<p>The new features are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A limit on the maximum number of descriptors that are supported in a
single descriptor set layout.
Some implementations have a limit on the total size of descriptors in a
set, which can’t be expressed in terms of the limits in Vulkan 1.0.</p>
</li>
<li>
<p>A limit on the maximum size of a single memory allocation.
Some platforms have kernel interfaces that limit the maximum size of an
allocation.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_30">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_33">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MAINTENANCE_3_PROPERTIES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_SUPPORT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_30">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_20">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceMaintenance3PropertiesKHR">VkPhysicalDeviceMaintenance3PropertiesKHR</a></p>
</li>
<li>
<p><a href="chap13.html#VkDescriptorSetLayoutSupportKHR">VkDescriptorSetLayoutSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_32">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#vkGetDescriptorSetLayoutSupportKHR">vkGetDescriptorSetLayoutSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_17">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_31">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_21">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-22</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_multiview">VK_KHR_multiview</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_multiview</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>54</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_multiview:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension has the same goal as the OpenGL ES GL_OVR_multiview
extension - it enables rendering to multiple “views” by recording a single
set of commands to be executed with slightly different behavior for each
view.
It includes a concise way to declare a render pass with multiple views, and
gives implementations freedom to render the views in the most efficient way
possible.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_31">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_34">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_MULTIVIEW_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_FEATURES_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkDependencyFlagBits">VkDependencyFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPENDENCY_VIEW_LOCAL_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_31">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_21">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceMultiviewFeaturesKHR">VkPhysicalDeviceMultiviewFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceMultiviewPropertiesKHR">VkPhysicalDeviceMultiviewPropertiesKHR</a></p>
</li>
<li>
<p><a href="chap7.html#VkRenderPassMultiviewCreateInfoKHR">VkRenderPassMultiviewCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_33">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_3">New Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-viewindex"><code>ViewIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_5">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-multiview"><code>MultiView</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_18">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_32">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_9">Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_22">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-28 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_push_descriptor">VK_KHR_push_descriptor</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_push_descriptor</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>81</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_push_descriptor:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows descriptors to be written into the command buffer,
while the implementation is responsible for managing their memory.
Push descriptors may enable easier porting from older APIs and in some cases
can be more efficient than writing descriptors into descriptor sets.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_32">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_35">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PUSH_DESCRIPTOR_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap13.html#VkDescriptorSetLayoutCreateFlagBits">VkDescriptorSetLayoutCreateFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_32">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_22">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDevicePushDescriptorPropertiesKHR">VkPhysicalDevicePushDescriptorPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_34">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#vkCmdPushDescriptorSetKHR">vkCmdPushDescriptorSetKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_33">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_10">Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_23">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-15 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-09-12 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Added interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_relaxed_block_layout">VK_KHR_relaxed_block_layout</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_relaxed_block_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>145</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_relaxed_block_layout:%20&amp;body=@johnkslang%20"><span class="icon black"><i class="fa fa-github"></i></span>johnkslang</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-26</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_relaxed_block_layout</code> extension allows implementations to
indicate they can support more variation in block <code>Offset</code> decorations.
For example, placing a vector of three floats at an offset of 16*N + 4.</p>
</div>
<div class="paragraph">
<p>See <a href="chap14.html#interfaces-resources-layout">Offset and Stride Assignment</a> for
details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_19">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_24">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-26 (JohnK)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_sampler_mirror_clamp_to_edge">VK_KHR_sampler_mirror_clamp_to_edge</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_sampler_mirror_clamp_to_edge</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>15</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_sampler_mirror_clamp_to_edge:%20&amp;body=@tobski%20"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-02-16</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code>VK_KHR_sampler_mirror_clamp_to_edge</code> extends the set of sampler address
modes to include an additional mode
(<code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code>) that effectively uses a
texture map twice as large as the original image in which the additional
half of the new image is a mirror image of the original image.</p>
</div>
<div class="paragraph">
<p>This new mode relaxes the need to generate images whose opposite edges match
by using the original image to generate a matching “mirror image”.
This mode allows the texture to be mirrored only once in the negative s, t,
and r directions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_36">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkSamplerAddressMode">VkSamplerAddressMode</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_example">Example</h4>
<div class="paragraph">
<p>Creating a sampler with the new address mode in each dimension</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    VkSamplerCreateInfo createInfo =
    {
        VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO <span class="comment">// sType</span>
        <span class="comment">// Other members set to application-desired values</span>
    };

    createInfo.addressModeU = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;
    createInfo.addressModeV = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;
    createInfo.addressModeW = VK_SAMPLER_ADDRESS_MODE_MIRROR_CLAMP_TO_EDGE;

    VkSampler sampler;
    VkResult result = vkCreateSampler(
        device,
        &amp;createInfo,
        &amp;sampler);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_25">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-02-16 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_sampler_ycbcr_conversion</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>157</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andrew Garrard <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_sampler_ycbcr_conversion:%20&amp;body=@fluppeteer%20"><span class="icon black"><i class="fa fa-github"></i></span>fluppeteer</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andrew Garrard, Samsung Electronics</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Romain Guy, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tom Cooksey, ARM Ltd</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM Ltd</p>
</li>
<li>
<p>Jan Outters, Samsung Electronics</p>
</li>
<li>
<p>Alon Or-bach, Samsung Electronics</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides the ability to perform specified color space
conversions during texture sampling operations.
It also adds a selection of multi-planar formats, including the ability to
bind memory to the planes of an image collectively or separately.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_37">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_IMAGE_PLANE_MEMORY_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_PLANE_MEMORY_REQUIREMENTS_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SAMPLER_YCBCR_CONVERSION_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap35.html#VkFormat">VkFormat</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_G8B8G8R8_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B8G8R8G8_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8R8_2PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8R8_2PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6_UNORM_PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6G10X6_UNORM_2PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4_UNORM_PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4G12X4_UNORM_2PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16B16G16R16_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_B16G16R16G16_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16R16_2PLANE_420_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16R16_2PLANE_422_UNORM_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageAspectFlagBits">VkImageAspectFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_0_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_1_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_PLANE_2_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_DISJOINT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap35.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_MIDPOINT_CHROMA_SAMPLES_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_COSITED_CHROMA_SAMPLES_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_LINEAR_FILTER_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_SEPARATE_RECONSTRUCTION_FILTER_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_CHROMA_RECONSTRUCTION_EXPLICIT_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_YCBCR_CONVERSION_CHROMA_RECONSTRUCTION_EXPLICIT_FORCEABLE_BIT_KHR</code></p>
</li>
<li>
<p><code>VK_FORMAT_FEATURE_DISJOINT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_33">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkSamplerYcbcrModelConversionKHR">VkSamplerYcbcrModelConversionKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkSamplerYcbcrRangeKHR">VkSamplerYcbcrRangeKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkChromaLocationKHR">VkChromaLocationKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_23">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkSamplerYcbcrConversionInfoKHR">VkSamplerYcbcrConversionInfoKHR</a></p>
</li>
<li>
<p><a href="chap12.html#VkSamplerYcbcrConversionCreateInfoKHR">VkSamplerYcbcrConversionCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindImagePlaneMemoryInfoKHR">VkBindImagePlaneMemoryInfoKHR</a></p>
</li>
<li>
<p><a href="chap11.html#VkImagePlaneMemoryRequirementsInfoKHR">VkImagePlaneMemoryRequirementsInfoKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceSamplerYcbcrConversionFeaturesKHR">VkPhysicalDeviceSamplerYcbcrConversionFeaturesKHR</a></p>
</li>
<li>
<p><a href="chap35.html#VkSamplerYcbcrConversionImageFormatPropertiesKHR">VkSamplerYcbcrConversionImageFormatPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_35">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#vkCreateSamplerYcbcrConversionKHR">vkCreateSamplerYcbcrConversionKHR</a></p>
</li>
<li>
<p><a href="chap12.html#vkDestroySamplerYcbcrConversionKHR">vkDestroySamplerYcbcrConversionKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_objects">New Objects</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkSamplerYcbcrConversionKHR">VkSamplerYcbcrConversionKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_20">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_26">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-01-24 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-01-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>After initial feedback</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-01-27 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Higher bit depth formats, renaming, swizzle</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2017-02-22 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added query function, formats as RGB, clarifications</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2017-04 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Simplified query and removed output conversions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Version 6, 2017-4-24 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Tidying, incorporated new image query, restored transfer functions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Version 7, 2017-04-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added cosited option/midpoint requirement for formats,
&quot;bypassConversion&quot;</p>
</li>
</ul>
</div>
</li>
<li>
<p>Version 8, 2017-04-25 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Simplified further</p>
</li>
</ul>
</div>
</li>
<li>
<p>Version 9, 2017-04-27 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Disjoint no more</p>
</li>
</ul>
</div>
</li>
<li>
<p>Version 10, 2017-04-28 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Restored disjoint</p>
</li>
</ul>
</div>
</li>
<li>
<p>Version 11, 2017-04-29 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Now Ycbcr conversion, and KHR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Version 12, 2017-06-06 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Added conversion to image view creation</p>
</li>
</ul>
</div>
</li>
<li>
<p>Version 13, 2017-07-13 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Allowed cosited-only chroma samples for formats</p>
</li>
</ul>
</div>
</li>
<li>
<p>Version 14, 2017-08-11 (Andrew Garrard)</p>
<div class="ulist">
<ul>
<li>
<p>Reflected quantization changes in BT.2100-1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_atomic_int64">VK_KHR_shader_atomic_int64</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_atomic_int64</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>181</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shader_atomic_int64:%20&amp;body=@ahagan%20"><span class="icon black"><i class="fa fa-github"></i></span>ahagan</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-05</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_gpu_shader_int64.txt">GL_ARB_gpu_shader_int64</a>
and
<a href="https://github.com/KhronosGroup/GLSL/tree/master/extensions/ext/GL_EXT_shader_atomic_int64.txt">GL_EXT_shader_atomic_int64</a>
extensions for GLSL source languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension advertises the SPIR-V <strong>Int64Atomics</strong> capability for Vulkan,
which allows a shader to contain 64-bit atomic operations on signed and
unsigned integers.
The supported operations include OpAtomicMin, OpAtomicMax, OpAtomicAnd,
OpAtomicOr, OpAtomicXor, OpAtomicAdd, OpAtomicExchange, and
OpAtomicCompareExchange.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_38">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_ATOMIC_INT64_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_6">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-int64atomics"><code>Int64Atomics</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_24">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceShaderAtomicInt64FeaturesKHR">VkPhysicalDeviceShaderAtomicInt64FeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_27">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-05 (Aaron Hagan)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_draw_parameters">VK_KHR_shader_draw_parameters</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_draw_parameters</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>64</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shader_draw_parameters:%20&amp;body=@dgkoch%20"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/KHR/SPV_KHR_shader_draw_parameters.html">SPV_KHR_shader_draw_parameters</a>
SPIR-V extension.</p>
</li>
<li>
<p>Requires
<a href="https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_shader_draw_parameters.txt">GL_ARB_shader_draw_parameters</a>
for GLSL source languages.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA Corporation</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Stuart Smith, IMG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SPV_KHR_shader_draw_parameters</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The extension provides access to three additional built-in shader variables
in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BaseInstance</code>, which contains the <code>firstInstance</code> parameter
passed to draw commands,</p>
</li>
<li>
<p><code>BaseVertex</code>, which contains the <code>firstVertex</code>/<code>vertexOffset</code>
parameter passed to draw commands, and</p>
</li>
<li>
<p><code>DrawIndex</code>, which contains the index of the draw call currently
being processed from an indirect draw call.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following variables from
GL_ARB_shader_draw_parameters can map to these SPIR-V built-in
decorations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in int gl_BaseInstanceARB;</code> → <code>BaseInstance</code>,</p>
</li>
<li>
<p><code>in int gl_BaseVertexARB;</code> → <code>BaseVertex</code>, and</p>
</li>
<li>
<p><code>in int gl_DrawIDARB;</code> → <code>DrawIndex</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_33">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_39">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_34">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_25">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_36">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_4">New Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-baseinstance"><code>BaseInstance</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-basevertex"><code>BaseVertex</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-drawindex"><code>DrawIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_7">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities">DrawParameters</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_21">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, however
a <a href="#features-features-shaderDrawParameters">feature bit was added</a> to
distinguish whether it’s actually available or not.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_34">Issues</h4>
<div class="paragraph">
<p>1) Is this the same functionality as GL_ARB_shader_draw_parameters?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: It’s actually a superset as it also adds in support for arrayed
drawing commands.</p>
</div>
<div class="paragraph">
<p>In GL for GL_ARB_shader_draw_parameters, <code>gl_BaseVertexARB</code> holds the
integer value passed to the parameter to the command that resulted in the
current shader invocation.
In the case where the command has no <code>baseVertex</code> parameter, the value of
<code>gl_BaseVertexARB</code> is zero.
This means that <code>gl_BaseVertexARB</code> = <code>baseVertex</code> (for
<code>glDrawElements</code> commands with <code>baseVertex</code>) or 0.
In particular there are no <code>glDrawArrays</code> commands that take a
<code>baseVertex</code> parameter.</p>
</div>
<div class="paragraph">
<p>Now in Vulkan, we have <code>BaseVertex</code> = <code>vertexOffset</code> (for indexed
drawing commands) or <code>firstVertex</code> (for arrayed drawing commands), and
so Vulkan’s version is really a superset of GL functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_28">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-10-05 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_float16_int8">VK_KHR_shader_float16_int8</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_float16_int8</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>83</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shader_float16_int8:%20&amp;body=@alegal-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-07</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></code></p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description">Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_shader_float16_int8</code> extension allows use of 16-bit
floating-point types and 8-bit integer types in shaders for arithmetic
operations.</p>
</div>
<div class="paragraph">
<p>It introduces two new optional features <code>shaderFloat16</code> and
<code>shaderInt8</code> which directly map to the <code>Float16</code> and the <code>Int8</code>
SPIR-V capabilities.
The <code>VK_KHR_shader_float16_int8</code> extension also specifies precision
requirements for half-precision floating-point SPIR-V operations.
This extension doesn’t enable use of 8-bit integer types or 16-bit
floating-point types in any <a href="chap14.html#interfaces-iointerfaces">shader input and
output interfaces</a> and therefore doesn’t supersede the
<code><a href="#VK_KHR_8bit_storage">VK_KHR_8bit_storage</a></code> or <code><a href="#VK_KHR_16bit_storage">VK_KHR_16bit_storage</a></code> extensions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_40">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FLOAT16_INT8_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_26">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceFloat16Int8FeaturesKHR">VkPhysicalDeviceFloat16Int8FeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_37">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_29">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-03-07 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shader_float_controls">VK_KHR_shader_float_controls</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shader_float_controls</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>198</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shader_float_controls:%20&amp;body=@alegal-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://www.khronos.org/registry/spir-v/extensions/KHR/SPV_KHR_float_controls.html"><code>SPV_KHR_float_controls</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, Arm</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_description_2">Description</h4>
<div class="paragraph">
<p>The <code>VK_KHR_shader_float_controls</code> extension enables efficient use of
floating-point computations through the ability to query and override the
implementation’s default behavior for rounding modes, denormals, signed
zero, and infinity.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_41">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FLOAT_CONTROLS_PROPERTIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_35">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_27">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceFloatControlsPropertiesKHR">VkPhysicalDeviceFloatControlsPropertiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_38">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_8">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-shaderfloatcontrols"><code>DenormPreserve</code></a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-shaderfloatcontrols"><code>DenormFlushToZero</code></a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-shaderfloatcontrols"><code>SignedZeroInfNanPreserve</code></a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-shaderfloatcontrols"><code>RoundingModeRTE</code></a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-shaderfloatcontrols"><code>RoundingModeRTZ</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_35">Issues</h4>
<div class="paragraph">
<p>1) Which instructions must flush denorms?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Only floating-point conversion, floating-point arithmetic,
floating-point relational (except <code>OpIsNaN</code>, <code>OpIsInf</code>), and
floating-point GLSL.std.450 extended instructions must flush denormals.</p>
</div>
<div class="paragraph">
<p>2) What is the denorm behavior for intermediate results?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: When a SPIR-V instruction is implemented as a sequence of other
instructions:
 - in the <code>DenormFlushToZero</code> execution mode the intermediate
   instructions may flush denormals, the final result of the sequence <strong class="purple">must</strong>
   not be denormal.
 - in the <code>DenormPreserve</code> execution mode denormals must be preserved
   throughout the whole sequence.</p>
</div>
<div class="paragraph">
<p>3) Do denorm and rounding mode controls apply to <code>OpSpecConstantOp</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, except when the opcode is <code>OpQuantizeToF16</code>.</p>
</div>
<div class="paragraph">
<p>4) The SPIR-V specification says that <code>OpConvertFToU</code> and
<code>OpConvertFToS</code> unconditionally round towards zero.
Do the rounding mode controls specified through the execution modes apply to
them?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, these instructions unconditionally round towards zero.</p>
</div>
<div class="paragraph">
<p>5) Do any of the &quot;Pack&quot; GLSL.std.450 instructions count as conversion
instructions and have the rounding mode apply?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, only instructions listed in the section &quot;3.32.11.
Conversion Instructions&quot; of the SPIR-V specification count as conversion
instructions.</p>
</div>
<div class="paragraph">
<p>6) When using inf/nan-ignore mode, what is expected of <code>OpIsNan</code> and
   <code>OpIsInf</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: These instructions must always accurately detect inf/nan if it
is passed to them.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_30">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 3, 2018-09-11 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Minor restructuring</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-04-17 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues and resolutions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-04-11 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_shared_presentable_image">VK_KHR_shared_presentable_image</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_shared_presentable_image</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>112</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_surface_capabilities2">VK_KHR_get_surface_capabilities2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alon Or-bach <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_shared_presentable_image:%20&amp;body=@alonorbach%20"><span class="icon black"><i class="fa fa-github"></i></span>alonorbach</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-20</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alon Or-bach, Samsung Electronics</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Pablo Ceballos, Google</p>
</li>
<li>
<p>Chris Forbes, Google</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Graham Connor, Imagination Technologies</p>
</li>
<li>
<p>Michael Worcester, Imagination Technologies</p>
</li>
<li>
<p>Cass Everitt, Oculus</p>
</li>
<li>
<p>Johannes Van Waveren, Oculus</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension extends <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> to enable creation of a shared
presentable image.
This allows the application to use the image while the presention engine is
accessing it, in order to reduce the latency between rendering and
presentation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_34">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_42">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap32.html#VkPresentModeKHR">VkPresentModeKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code></p>
</li>
<li>
<p><code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SHARED_PRESENT_SURFACE_CAPABILITIES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_36">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_28">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkSharedPresentSurfaceCapabilitiesKHR">VkSharedPresentSurfaceCapabilitiesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_39">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkGetSwapchainStatusKHR">vkGetSwapchainStatusKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_36">Issues</h4>
<div class="paragraph">
<p>1) Should we allow a Vulkan WSI swapchain to toggle between normal usage and
shared presentation usage?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
WSI swapchains are typically recreated with new properties instead of having
their properties changed.
This can also save resources, assuming that fewer images are needed for
shared presentation, and assuming that most VR applications do not need to
switch between normal and shared usage.</p>
</div>
<div class="paragraph">
<p>2) Should we have a query for determining how the presentation engine
refresh is triggered?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is done via which presentation modes a surface supports.</p>
</div>
<div class="paragraph">
<p>3) Should the object representing a shared presentable image be an extension
of a <a href="chap32.html#VkSwapchainKHR">VkSwapchainKHR</a> or a separate object?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Extension of a swapchain due to overlap in creation properties
and to allow common functionality between shared and normal presentable
images and swapchains.</p>
</div>
<div class="paragraph">
<p>4) What should we call the extension and the new structures it creates?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Shared presentable image / shared present.</p>
</div>
<div class="paragraph">
<p>5) Should the <code>minImageCount</code> and <code>presentMode</code> values of the
<a href="chap32.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> be ignored, or required to be compatible
values?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>minImageCount</code> must be set to 1, and <code>presentMode</code>
should be set to either <code>VK_PRESENT_MODE_SHARED_DEMAND_REFRESH_KHR</code> or
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>.</p>
</div>
<div class="paragraph">
<p>6) What should the layout of the shared presentable image be?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: After acquiring the shared presentable image, the application
must transition it to the <code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code> layout
prior to it being used.
After this initial transition, any image usage that was requested during
swapchain creation <strong class="purple">can</strong> be performed on the image without layout transitions
being performed.</p>
</div>
<div class="paragraph">
<p>7) Do we need a new API for the trigger to refresh new content?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <a href="chap32.html#vkQueuePresentKHR">vkQueuePresentKHR</a> to act as API to trigger a refresh, as
will allow combination with other compatible extensions to
<a href="chap32.html#vkQueuePresentKHR">vkQueuePresentKHR</a>.</p>
</div>
<div class="paragraph">
<p>8) How should an application detect a <code>VK_ERROR_OUT_OF_DATE_KHR</code> error
on a swapchain using the <code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code>
present mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Introduce <a href="chap32.html#vkGetSwapchainStatusKHR">vkGetSwapchainStatusKHR</a> to allow applications to
query the status of a swapchain using a shared presentation mode.</p>
</div>
<div class="paragraph">
<p>9) What should subsequent calls to <a href="chap32.html#vkQueuePresentKHR">vkQueuePresentKHR</a> for
<code>VK_PRESENT_MODE_SHARED_CONTINUOUS_REFRESH_KHR</code> swapchains be defined to
do?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: State that implementations may use it as a hint for updated
content.</p>
</div>
<div class="paragraph">
<p>10) Can the ownership of a shared presentable image be transferred to a
different queue?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It is not possible to transfer ownership of a shared presentable image
obtained from a swapchain created using <code>VK_SHARING_MODE_EXCLUSIVE</code>
after it has been presented.</p>
</div>
<div class="paragraph">
<p>11) How should <a href="chap5.html#vkQueueSubmit">vkQueueSubmit</a> behave if a command buffer uses an image
from an <code>VK_ERROR_OUT_OF_DATE_KHR</code> swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <a href="chap5.html#vkQueueSubmit">vkQueueSubmit</a> is expected to return the
<code>VK_ERROR_DEVICE_LOST</code> error.</p>
</div>
<div class="paragraph">
<p>12) Can Vulkan provide any guarantee on the order of rendering, to enable
beam chasing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This could be achieved via use of render passes to ensure strip
rendering.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_31">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-20 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_storage_buffer_storage_class</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>132</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_storage_buffer_storage_class:%20&amp;body=@alegal-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>alegal-arm</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/KHR/SPV_KHR_storage_buffer_storage_class.html">SPV_KHR_storage_buffer_storage_class</a>
SPIR-V extension.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Alexander Galazin, ARM</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SPV_KHR_storage_buffer_storage_class</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension provides a new SPIR-V <code>StorageBuffer</code> storage class.
A <code>Block</code>-decorated object in this class is equivalent to a
<code>BufferBlock</code>-decorated object in the <code>Uniform</code> storage class.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_43">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_29">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_22">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_37">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_32">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-23 (Alexander Galazin)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_surface">VK_KHR_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>25</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_surface:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_surface:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_surface</code> extension is an instance extension.
It introduces <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> objects, which abstract native platform
surface or window objects for use with Vulkan.
It also provides a way to determine whether a queue family in a physical
device supports presenting to particular surface.</p>
</div>
<div class="paragraph">
<p>Separate extensions for each platform provide the mechanisms for creating
<a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> objects, but once created they may be used in this and
other platform-independent extensions, in particular the
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_35">New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_44">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_SURFACE_LOST_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_37">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkSurfaceTransformFlagBitsKHR">VkSurfaceTransformFlagBitsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkPresentModeKHR">VkPresentModeKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkColorSpaceKHR">VkColorSpaceKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkCompositeAlphaFlagBitsKHR">VkCompositeAlphaFlagBitsKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_30">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkSurfaceFormatKHR">VkSurfaceFormatKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_40">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkDestroySurfaceKHR">vkDestroySurfaceKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_examples_11">Examples</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code>VK_KHR_surface</code> and <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code>
extensions was removed from the appendix after revision 1.0.29.
This WSI example code was ported to the cube demo that is shipped with the
official Khronos SDK, and is being kept up-to-date in that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_issues_38">Issues</h4>
<div class="paragraph">
<p>1) Should this extension include a method to query whether a physical device
supports presenting to a specific window or native surface on a given
platform?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Without this, applications would need to create a device instance to
determine whether a particular window can be presented to.
Knowing that a device supports presentation to a platform in general is not
sufficient, as a single machine might support multiple seats, or instances
of the platform that each use different underlying physical devices.
Additionally, on some platforms, such as the X Window System, different
drivers and devices might be used for different windows depending on which
section of the desktop they exist on.</p>
</div>
<div class="paragraph">
<p>2) Should the <a href="chap32.html#vkGetPhysicalDeviceSurfaceCapabilitiesKHR">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a>,
<a href="chap32.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a>, and
<a href="chap32.html#vkGetPhysicalDeviceSurfacePresentModesKHR">vkGetPhysicalDeviceSurfacePresentModesKHR</a> functions from
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> be modified to operate on physical devices and moved
to this extension to implement the resolution of issue 1?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, separate query functions are needed, as the purposes served
are similar but incompatible.
The <code>vkGetPhysicalDeviceSurface*KHR</code> functions return information that
could potentially depend on an initialized device.
For example, the formats supported for presentation to the surface might
vary depending on which device extensions are enabled.
The query introduced to resolve issue 1 should be used only to query generic
driver or platform properties.
The physical device parameter is intended to serve only as an identifier
rather than a stateful object.</p>
</div>
<div class="paragraph">
<p>3) Should Vulkan include support Xlib or XCB as the API for accessing the X
Window System platform?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Both.
XCB is a more modern and efficient API, but Xlib usage is deeply ingrained
in many applications and likely will remain in use for the foreseeable
future.
Not all drivers necessarily need to support both, but including both as
options in the core specification will probably encourage support, which
should in turn ease adoption of the Vulkan API in older codebases.
Additionally, the performance improvements possible with XCB likely will not
have a measurable impact on the performance of Vulkan presentation and other
minimal window system interactions defined here.</p>
</div>
<div class="paragraph">
<p>4) Should the GBM platform be included in the list of platform enums?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Deferred, and will be addressed with a platform-specific
extension to be written in the future.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_33">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-05-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG KHR spec, other KHR specs, patches
attached to bugs.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-05-22 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Created initial Description section.</p>
</li>
<li>
<p>Removed query for whether a platform requires the use of a queue for
presentation, since it was decided that presentation will always be
modeled as being part of the queue.</p>
</li>
<li>
<p>Fixed typos and other minor mistakes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-05-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Improved the Description section.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed compilation errors in example code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 1 and 2 and made related spec updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Merged the platform type mappings table previously removed from
VK_KHR_swapchain with the platform description table in this spec.</p>
</li>
<li>
<p>Added issues 3 and 4 documenting choices made when building the initial
list of native platforms supported.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-06-11 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Updated table 1 per input from the KHR TSG.</p>
</li>
<li>
<p>Updated issue 4 (GBM) per discussion with Daniel Stone.
He will create a platform-specific extension sometime in the future.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated enum-extending values using new convention.</p>
</li>
<li>
<p>Fixed the value of VK_SURFACE_PLATFORM_INFO_TYPE_SUPPORTED_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased on Vulkan API version 126.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-06-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Marked issues 2 and 3 resolved.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-06-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Examples now show use of function pointers for extension functions.</p>
</li>
<li>
<p>Eliminated extraneous whitespace.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-07-07 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added error section describing when each error is expected to be
reported.</p>
</li>
<li>
<p>Replaced the term &quot;queue node index&quot; with &quot;queue family index&quot; in the
spec as that is the agreed term to be used in the latest version of the
core header and spec.</p>
</li>
<li>
<p>Replaced bool32_t with VkBool32.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-08-06 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated spec against latest core API header version.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-08-20 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &quot;revision&quot; to &quot;version&quot;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
<li>
<p>Did miscellaneous cleanup, etc.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-08-20 (Ian Elliott—​porting a 2015-07-29 change from
James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the surface transform enums here from VK_WSI_swapchain so they
could be re-used by VK_WSI_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fix example code compilation errors.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-09-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replaced VkSurfaceDescriptionKHR with the VkSurfaceKHR object, which is
created via layered extensions.
Added VkDestroySurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-09-28 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_swapchain to VK_EXT_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-09-30 (Jeff Vigil)</p>
<div class="ulist">
<ul>
<li>
<p>Add error result VK_ERROR_SURFACE_LOST_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-10-15 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the resolution of issue #2 and include the surface capability
queries in this extension.</p>
</li>
<li>
<p>Renamed SurfaceProperties to SurfaceCapabilities as it better reflects
that the values returned are the capabilities of the surface on a
particular device.</p>
</li>
<li>
<p>Other minor cleanup and consistency changes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_surface to VK_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkDestroySurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 24, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Removed VkSurfaceTransformKHR.
Use VkSurfaceTransformFlagBitsKHR instead.</p>
</li>
<li>
<p>Rename VkSurfaceCapabilitiesKHR member maxImageArraySize to
maxImageArrayLayers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 25, 2016-01-14 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved VK_ERROR_NATIVE_WINDOW_IN_USE_KHR from the VK_KHR_android_surface
to the VK_KHR_surface extension.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Update the example code, to not have so many characters per line, and
to split out a new example to show how to obtain function pointers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>A note was added at the beginning of the example code, stating that it
will be removed from future versions of the appendix.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_swapchain">VK_KHR_swapchain</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_swapchain</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>70</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_swapchain:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_swapchain:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Mathias Heyer, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_swapchain</code> extension is the device-level companion to the
<code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension.
It introduces <a href="chap32.html#VkSwapchainKHR">VkSwapchainKHR</a> objects, which provide the ability to
present rendering results to a surface.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_36">New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkSwapchainKHR">VkSwapchainKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_45">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_38">New Enums</h4>

</div>
<div class="sect3">
<h4 id="_new_structures_31">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a></p>
</li>
<li>
<p><a href="chap32.html#VkPresentInfoKHR">VkPresentInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_41">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkDestroySwapchainKHR">vkDestroySwapchainKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetSwapchainImagesKHR">vkGetSwapchainImagesKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkQueuePresentKHR">vkQueuePresentKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_39">Issues</h4>
<div class="paragraph">
<p>1) Does this extension allow the application to specify the memory backing
of the presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Unlike standard images, the implementation will allocate the memory backing
of the presentable image.</p>
</div>
<div class="paragraph">
<p>2) What operations are allowed on presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This is determined by the image usage flags specified when
creating the presentable image’s swapchain.</p>
</div>
<div class="paragraph">
<p>3) Does this extension support MSAA presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Presentable images are always single-sampled.
Multi-sampled rendering must use regular images.
To present the rendering results the application must manually resolve the
multi- sampled image to a single-sampled presentable image prior to
presentation.</p>
</div>
<div class="paragraph">
<p>4) Does this extension support stereo/multi-view presentable images?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The number of views associated with a presentable image is determined by the
<code>imageArrayLayers</code> specified when creating a swapchain.
All presentable images in a given swapchain use the same array size.</p>
</div>
<div class="paragraph">
<p>5) Are the layers of stereo presentable images half-sized?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The image extents always match those requested by the application.</p>
</div>
<div class="paragraph">
<p>6) Do the “present” and “acquire next image” commands operate on a
queue? If not, do they need to include explicit semaphore objects to
interlock them with queue operations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The present command operates on a queue.
The image ownership operation it represents happens in order with other
operations on the queue, so no explicit semaphore object is required to
synchronize its actions.</p>
</div>
<div class="paragraph">
<p>Applications may want to acquire the next image in separate threads from
those in which they manage their queue, or in multiple threads.
To make such usage easier, the acquire next image command takes a semaphore
to signal as a method of explicit synchronization.
The application must later queue a wait for this semaphore before queuing
execution of any commands using the image.</p>
</div>
<div class="paragraph">
<p>7) Does <a href="chap32.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> block if no images are available?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The command takes a timeout parameter.
Special values for the timeout are 0, which makes the call a non-blocking
operation, and <code>UINT64_MAX</code>, which blocks indefinitely.
Values in between will block for up to the specified time.
The call will return when an image becomes available or an error occurs.
It may, but is not required to, return before the specified timeout expires
if the swapchain becomes out of date.</p>
</div>
<div class="paragraph">
<p>8) Can multiple presents be queued using one <a href="chap32.html#vkQueuePresentKHR">vkQueuePresentKHR</a> call?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
<a href="chap32.html#VkPresentInfoKHR">VkPresentInfoKHR</a> contains a list of swapchains and corresponding image
indices that will be presented.
When supported, all presentations queued with a single
<a href="chap32.html#vkQueuePresentKHR">vkQueuePresentKHR</a> call will be applied atomically as one operation.
The same swapchain must not appear in the list more than once.
Later extensions may provide applications stronger guarantees of atomicity
for such present operations, and/or allow them to query whether atomic
presentation of a particular group of swapchains is possible.</p>
</div>
<div class="paragraph">
<p>9) How do the presentation and acquire next image functions notify the
application the targeted surface has changed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Two new result codes are introduced for this purpose:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBOPTIMAL_KHR</code> - Presentation will still succeed, subject to
the window resize behavior, but the swapchain is no longer configured
optimally for the surface it targets.
Applications should query updated surface information and recreate their
swapchain at the next convenient opportunity.</p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DATE_KHR</code> - Failure.
The swapchain is no longer compatible with the surface it targets.
The application must query updated surface information and recreate the
swapchain before presentation will succeed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These can be returned by both <a href="chap32.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> and
<a href="chap32.html#vkQueuePresentKHR">vkQueuePresentKHR</a>.</p>
</div>
<div class="paragraph">
<p>10) Does the <a href="chap32.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> command return a semaphore to the
application via an output parameter, or accept a semaphore to signal from
the application as an object handle parameter?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Accept a semaphore to signal as an object handle.
This avoids the need to specify whether the application must destroy the
semaphore or whether it is owned by the swapchain, and if the latter, what
its lifetime is and whether it can be re-used for other operations once it
is received from <a href="chap32.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>.</p>
</div>
<div class="paragraph">
<p>11) What types of swapchain queuing behavior should be exposed? Options
include swap interval specification, mailbox/most recent vs.
FIFO queue management, targeting specific vertical blank intervals or
absolute times for a given present operation, and probably others.
For some of these, whether they are specified at swapchain creation time or
as per-present parameters needs to be decided as well.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The base swapchain extension will expose 3 possible behaviors
(of which, FIFO will always be supported):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Immediate present: Does not wait for vertical blanking period to update
the current image, likely resulting in visible tearing.
No internal queue is used.
Present requests are applied immediately.</p>
</li>
<li>
<p>Mailbox queue: Waits for the next vertical blanking period to update the
current image.
No tearing should be observed.
An internal single-entry queue is used to hold pending presentation
requests.
If the queue is full when a new presentation request is received, the
new request replaces the existing entry, and any images associated with
the prior entry become available for re-use by the application.</p>
</li>
<li>
<p>FIFO queue: Waits for the next vertical blanking period to update the
current image.
No tearing should be observed.
An internal queue containing <span class="eq"><code>numSwapchainImages</code> - 1</span> entries
is used to hold pending presentation requests.
New requests are appended to the end of the queue, and one request is
removed from the beginning of the queue and processed during each
vertical blanking period in which the queue is non-empty</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Not all surfaces will support all of these modes, so the modes supported
will be returned using a surface info query.
All surfaces must support the FIFO queue mode.
Applications must choose one of these modes up front when creating a
swapchain.
Switching modes can be accomplished by recreating the swapchain.</p>
</div>
<div class="paragraph">
<p>12) Can <code>VK_PRESENT_MODE_MAILBOX_KHR</code> provide non-blocking guarantees
for <a href="chap32.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a>? If so, what is the proper criteria?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The difficulty is not immediately obvious here.
Naively, if at least 3 images are requested, mailbox mode should always have
an image available for the application if the application does not own any
images when the call to <a href="chap32.html#vkAcquireNextImageKHR">vkAcquireNextImageKHR</a> was made.
However, some presentation engines may have more than one “current” image,
and would still need to block in some cases.
The right requirement appears to be that if the application allocates the
surface’s minimum number of images + 1 then it is guaranteed non-blocking
behavior when it does not currently own any images.</p>
</div>
<div class="paragraph">
<p>13) Is there a way to create and initialize a new swapchain for a surface
that has generated a <code>VK_SUBOPTIMAL_KHR</code> return code while still using
the old swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Not as part of this specification.
This could be useful to allow the application to create an “optimal”
replacement swapchain and rebuild all its command buffers using it in a
background thread at a low priority while continuing to use the
“suboptimal” swapchain in the main thread.
It could probably use the same “atomic replace” semantics proposed for
recreating direct-to-device swapchains without incurring a mode switch.
However, after discussion, it was determined some platforms probably could
not support concurrent swapchains for the same surface though, so this will
be left out of the base KHR extensions.
A future extension could add this for platforms where it is supported.</p>
</div>
<div class="paragraph">
<p>14) Should there be a special value for
<a href="chap32.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>maxImageCount</code> to indicate there are no
practical limits on the number of images in a swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
There where often be cases where there is no practical limit to the number
of images in a swapchain other than the amount of available resources (I.e.,
memory) in the system.
Trying to derive a hard limit from things like memory size is prone to
failure.
It is better in such cases to leave it to applications to figure such soft
limits out via trial/failure iterations.</p>
</div>
<div class="paragraph">
<p>15) Should there be a special value for
<a href="chap32.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentExtent</code> to indicate the size of
the platform surface is undefined?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
On some platforms (Wayland, for example), the surface size is defined by the
images presented to it rather than the other way around.</p>
</div>
<div class="paragraph">
<p>16) Should there be a special value for
<a href="chap32.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>maxImageExtent</code> to indicate there is no
practical limit on the surface size?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It seems unlikely such a system would exist.
0 could be used to indicate the platform places no limits on the extents
beyond those imposed by Vulkan for normal images, but this query could just
as easily return those same limits, so a special “unlimited” value does
not seem useful for this field.</p>
</div>
<div class="paragraph">
<p>17) How should surface rotation and mirroring be exposed to applications?
How do they specify rotation and mirroring transforms applied prior to
presentation?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Applications can query both the supported and current transforms
of a surface.
Both are specified relative to the device’s “natural” display rotation and
direction.
The supported transforms indicates which orientations the presentation
engine accepts images in.
For example, a presentation engine that does not support transforming
surfaces as part of presentation, and which is presenting to a surface that
is displayed with a 90-degree rotation, would return only one supported
transform bit: <code>VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR</code>.
Applications must transform their rendering by the transform they specify
when creating the swapchain in <code>preTransform</code> field.</p>
</div>
<div class="paragraph">
<p>18) Can surfaces ever not support <code>VK_MIRROR_NONE</code>? Can they support
vertical and horizontal mirroring simultaneously? Relatedly, should
<code>VK_MIRROR_NONE</code>[_BIT] be zero, or bit one, and should applications be
allowed to specify multiple pre and current mirror transform bits, or
exactly one?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Since some platforms may not support presenting with a transform
other than the native window’s current transform, and prerotation/mirroring
are specified relative to the device’s natural rotation and direction,
rather than relative to the surface’s current rotation and direction, it is
necessary to express lack of support for no mirroring.
To allow this, the <code>MIRROR_NONE</code> enum must occupy a bit in the flags.
Since <code>MIRROR_NONE</code> must be a bit in the bitmask rather than a bitmask
with no values set, allowing more than one bit to be set in the bitmask
would make it possible to describe undefined transforms such as
<code>VK_MIRROR_NONE_BIT</code> | <code>VK_MIRROR_HORIZONTAL_BIT</code>, or a transform
that includes both “no mirroring” and “horizontal mirroring”
simultaneously.
Therefore, it is desirable to allow specifying all supported mirroring
transforms using only one bit.
The question then becomes, should there be a
<code>VK_MIRROR_HORIZONTAL_AND_VERTICAL_BIT</code> to represent a simultaneous
horizontal and vertical mirror transform? However, such a transform is
equivalent to a 180 degree rotation, so presentation engines and
applications that wish to support or use such a transform can express it
through rotation instead.
Therefore, 3 exclusive bits are sufficient to express all needed mirroring
transforms.</p>
</div>
<div class="paragraph">
<p>19) Should support for sRGB be required?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: In the advent of UHD and HDR display devices, proper color space
information is vital to the display pipeline represented by the swapchain.
The app can discover the supported format/color-space pairs and select a
pair most suited to its rendering needs.
Currently only the sRGB color space is supported, future extensions may
provide support for more color spaces.
See issues 23 and 24.</p>
</div>
<div class="paragraph">
<p>20) Is there a mechanism to modify or replace an existing swapchain with one
targeting the same surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
This is described above in the text.</p>
</div>
<div class="paragraph">
<p>21) Should there be a way to set prerotation and mirroring using native APIs
when presenting using a Vulkan swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The transforms that can be expressed in this extension are a subset of those
possible on native platforms.
If a platform exposes a method to specify the transform of presented images
for a given surface using native methods and exposes more transforms or
other properties for surfaces than Vulkan supports, it might be impossible,
difficult, or inconvenient to set some of those properties using Vulkan KHR
extensions and some using the native interfaces.
To avoid overwriting properties set using native commands when presenting
using a Vulkan swapchain, the application can set the pretransform to
“inherit”, in which case the current native properties will be used, or if
none are available, a platform-specific default will be used.
Platforms that do not specify a reasonable default or do not provide native
mechanisms to specify such transforms should not include the inherit bits in
the <code>supportedTransforms</code> bitmask they return in
<a href="chap32.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>.</p>
</div>
<div class="paragraph">
<p>22) Should the content of presentable images be clipped by objects obscuring
their target surface?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Applications can choose which behavior they prefer.
Allowing the content to be clipped could enable more optimal presentation
methods on some platforms, but some applications might rely on the content
of presentable images to perform techniques such as partial updates or
motion blurs.</p>
</div>
<div class="paragraph">
<p>23) What is the purpose of specifying a <a href="chap32.html#VkColorSpaceKHR">VkColorSpaceKHR</a> along with
<a href="chap35.html#VkFormat">VkFormat</a> when creating a swapchain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: While Vulkan itself is color space agnostic (e.g. even the
meaning of R, G, B and A can be freely defined by the rendering
application), the swapchain eventually will have to present the images on a
display device with specific color reproduction characteristics.
If any color space transformations are necessary before an image can be
displayed, the color space of the presented image must be known to the
swapchain.
A swapchain will only support a restricted set of color format and -space
pairs.
This set can be discovered via <a href="chap32.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a>.
As it can be expected that most display devices support the sRGB color
space, at least one format/color-space pair has to be exposed, where the
color space is <code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>.</p>
</div>
<div class="paragraph">
<p>24) How are sRGB formats and the sRGB color space related?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: While Vulkan exposes a number of SRGB texture formats, using
such formats does not guarantee working in a specific color space.
It merely means that the hardware can directly support applying the
non-linear transfer functions defined by the sRGB standard color space when
reading from or writing to images of that these formats.
Still, it is unlikely that a swapchain will expose a <code>*_SRGB</code> format
along with any color space other than
<code>VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</code>.</p>
</div>
<div class="paragraph">
<p>On the other hand, non-<code>*_SRGB</code> formats will be very likely exposed in
pair with a SRGB color space.
This means, the hardware will not apply any transfer function when reading
from or writing to such images, yet they will still be presented on a device
with sRGB display characteristics.
In this case the application is responsible for applying the transfer
function, for instance by using shader math.</p>
</div>
<div class="paragraph">
<p>25) How are the lifetime of surfaces and swapchains targeting them related?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A surface must outlive any swapchains targeting it.
A <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> owns the binding of the native window to the Vulkan
driver.</p>
</div>
<div class="paragraph">
<p>26) How can the client control the way the alpha channel of swapchain images
is treated by the presentation engine during compositing?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We should add new enum values to allow the client to negotiate
with the presentation engine on how to treat image alpha values during the
compositing process.
Since not all platforms can practically control this through the Vulkan
driver, a value of <code>VK_COMPOSITE_ALPHA_INHERIT_BIT_KHR</code> is provided like
for surface transforms.</p>
</div>
<div class="paragraph">
<p>27) Is <a href="chap32.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a> the right function to return
<code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>, or should the various
platform-specific <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> factory functions catch this error
earlier?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: For most platforms, the <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> structure is a simple
container holding the data that identifies a native window or other object
representing a surface on a particular platform.
For the surface factory functions to return this error, they would likely
need to register a reference on the native objects with the native display
server somehow, and ensure no other such references exist.
Surfaces were not intended to be that heavyweight.</p>
</div>
<div class="paragraph">
<p>Swapchains are intended to be the objects that directly manipulate native
windows and communicate with the native presentation mechanisms.
Swapchains will already need to communicate with the native display server
to negotiate allocation and/or presentation of presentable images for a
native surface.
Therefore, it makes more sense for swapchain creation to be the point at
which native object exclusivity is enforced.
Platforms may choose to enforce further restrictions on the number of
<a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> objects that may be created for the same native window if
such a requirement makes sense on a particular platform, but a global
requirement is only sensible at the swapchain level.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_12">Examples</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> and <code>VK_KHR_swapchain</code>
extensions was removed from the appendix after revision 1.0.29.
This WSI example code was ported to the cube demo that is shipped with the
official Khronos SDK, and is being kept up-to-date in that location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_34">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-05-20 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG KHR spec, other KHR specs, patches
attached to bugs.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-05-22 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Made many agreed-upon changes from 2015-05-21 KHR TSG meeting.
This includes using only a queue for presentation, and having an
explicit function to acquire the next image.</p>
</li>
<li>
<p>Fixed typos and other minor mistakes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-05-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Improved the Description section.</p>
</li>
<li>
<p>Added or resolved issues that were found in improving the Description.
For example, pSurfaceDescription is used consistently, instead of
sometimes using pSurface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed some grammatical errors and typos</p>
</li>
<li>
<p>Filled in the description of imageUseFlags when creating a swapchain.</p>
</li>
<li>
<p>Added a description of swapInterval.</p>
</li>
<li>
<p>Replaced the paragraph describing the order of operations on a queue
for image ownership and presentation.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Imported relevant issues from the (abandoned)
vk_wsi_persistent_swapchain_images extension.</p>
</li>
<li>
<p>Added issues 6 and 7, regarding behavior of the acquire next image and
present commands with respect to queues.</p>
</li>
<li>
<p>Updated spec language and examples to align with proposed resolutions
to issues 6 and 7.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 8, regarding atomic presentation of multiple swapchains</p>
</li>
<li>
<p>Updated spec language and examples to align with proposed resolution to
issue 8.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed compilation errors in example code, and made related spec fixes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 9, and the related VK_SUBOPTIMAL_KHR result code.</p>
</li>
<li>
<p>Renamed VK_OUT_OF_DATE_KHR to VK_ERROR_OUT_OF_DATE_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2015-05-27 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added inline proposed resolutions (marked with [JRJ]) to some XXX
questions/issues.
These should be moved to the issues section in a subsequent update if
the proposals are adopted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 10, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Converted vkAcquireNextImageKHR back to a non-queue operation that uses
a VkSemaphore object for explicit synchronization.</p>
</li>
<li>
<p>Added issue 10 to determine whether vkAcquireNextImageKHR generates or
returns semaphores, or whether it operates on a semaphore provided by
the application.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 11, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Marked issues 6, 7, and 8 resolved.</p>
</li>
<li>
<p>Renamed VkSurfaceCapabilityPropertiesKHR to VkSurfacePropertiesKHR to
better convey the mutable nature of the info it contains.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 12, 2015-05-28 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issue 11 with a proposed resolution, and the related issue 12.</p>
</li>
<li>
<p>Updated various sections of the spec to match the proposed resolution
to issue 11.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 13, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved some structures to VK_EXT_KHR_swap_chain to resolve the spec’s
issues 1 and 2.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 14, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added code for example 4 demonstrating how an application might make
use of the two different present and acquire next image KHR result
codes.</p>
</li>
<li>
<p>Added issue 13.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 15, 2015-06-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 14 - 16 and related spec language.</p>
</li>
<li>
<p>Fixed some spelling errors.</p>
</li>
<li>
<p>Added language describing the meaningful return values for
vkAcquireNextImageKHR and vkQueuePresentKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 16, 2015-06-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added issues 17 and 18, as well as related spec language.</p>
</li>
<li>
<p>Removed some erroneous text added by mistake in the last update.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 17, 2015-06-15 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed special value from &quot;-1&quot; to &quot;0&quot; so that the data types can be
unsigned.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 18, 2015-06-15 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Clarified the values of VkSurfacePropertiesKHR::minImageCount and the
timeout parameter of the vkAcquireNextImageKHR function.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 19, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Misc.
cleanup.
Removed resolved inline issues and fixed typos.</p>
</li>
<li>
<p>Fixed clarification of VkSurfacePropertiesKHR::minImageCount made in
version 18.</p>
</li>
<li>
<p>Added a brief &quot;Image Ownership&quot; definition to the list of terms used in
the spec.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 20, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated enum-extending values using new convention.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 21, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added language describing how to use
VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.</p>
</li>
<li>
<p>Cleaned up an XXX comment regarding the description of which queues
vkQueuePresentKHR can be used on.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 22, 2015-06-17 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Rebased on Vulkan API version 126.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 23, 2015-06-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated language for issue 12 to read as a proposed resolution.</p>
</li>
<li>
<p>Marked issues 11, 12, 13, 16, and 17 resolved.</p>
</li>
<li>
<p>Temporarily added links to the relevant bugs under the remaining
unresolved issues.</p>
</li>
<li>
<p>Added issues 19 and 20 as well as proposed resolutions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 24, 2015-06-19 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed special value for VkSurfacePropertiesKHR::currentExtent back to
&quot;-1&quot; from &quot;0&quot;.
This value will never need to be unsigned, and &quot;0&quot; is actually a legal
value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 25, 2015-06-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Examples now show use of function pointers for extension functions.</p>
</li>
<li>
<p>Eliminated extraneous whitespace.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 26, 2015-06-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Resolved Issues 9 &amp; 10 per KHR TSG meeting.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 27, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added oldSwapchain member to VkSwapchainCreateInfoKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 28, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added the &quot;inherit&quot; bits to the rotation and mirroring flags and the
associated issue 21.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 29, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added the &quot;clipped&quot; flag to VkSwapchainCreateInfoKHR, and the
associated issue 22.</p>
</li>
<li>
<p>Specified that presenting an image does not modify it.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 30, 2015-06-25 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added language to the spec that clarifies the behavior of
vkCreateSwapchainKHR() when the oldSwapchain field of
VkSwapchainCreateInfoKHR is not NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 31, 2015-06-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Example of new VkSwapchainCreateInfoKHR members, &quot;oldSwapchain&quot; and
&quot;clipped&quot;.</p>
</li>
<li>
<p>Example of using VkSurfacePropertiesKHR::{min|max}ImageCount to set
VkSwapchainCreateInfoKHR::minImageCount.</p>
</li>
<li>
<p>Rename vkGetSurfaceInfoKHR()'s 4th parameter to &quot;pDataSize&quot;, for
consistency with other functions.</p>
</li>
<li>
<p>Add macro with C-string name of extension (just to header file).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 32, 2015-06-26 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Minor adjustments to the language describing the behavior of
&quot;oldSwapchain&quot;</p>
</li>
<li>
<p>Fixed the version date on my previous two updates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 33, 2015-06-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Add usage flags to VkSwapchainCreateInfoKHR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 34, 2015-06-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Rename vkQueuePresentKHR()'s 2nd parameter to &quot;pPresentInfo&quot;, for
consistency with other functions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 35, 2015-06-26 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Merged the VkRotationFlagBitsKHR and VkMirrorFlagBitsKHR enums into a
single VkSurfaceTransformFlagBitsKHR enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 36, 2015-06-26 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added a VkSurfaceTransformKHR enum that is not a bitmask.
Each value in VkSurfaceTransformKHR corresponds directly to one of the
bits in VkSurfaceTransformFlagBitsKHR so transforming from one to the
other is easy.
Having a separate enum means that currentTransform and preTransform are
now unambiguous by definition.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 37, 2015-06-29 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected one of the signatures of vkAcquireNextImageKHR, which had the
last two parameters switched from what it is elsewhere in the
specification and header files.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 38, 2015-06-30 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo in description of the vkGetSwapchainInfoKHR()
function.</p>
</li>
<li>
<p>Corrected a typo in header file comment for VkPresentInfoKHR::sType.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 39, 2015-07-07 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added error section describing when each error is expected to be
reported.</p>
</li>
<li>
<p>Replaced bool32_t with VkBool32.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 40, 2015-07-10 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Updated to work with version 138 of the &quot;vulkan.h&quot; header.
This includes declaring the VkSwapchainKHR type using the new
VK_DEFINE_NONDISP_HANDLE macro, and no longer extending VkObjectType
(which was eliminated).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 41 2015-07-09 (Mathias Heyer)</p>
<div class="ulist">
<ul>
<li>
<p>Added color space language.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 42, 2015-07-10 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated query mechanism to reflect the convention changes done in the
core spec.</p>
</li>
<li>
<p>Removed &quot;queue&quot; from the name of
VK_STRUCTURE_TYPE_QUEUE_PRESENT_INFO_KHR to be consistent with the
established naming convention.</p>
</li>
<li>
<p>Removed reference to the no longer existing VkObjectType enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 43, 2015-07-17 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added support for concurrent sharing of swapchain images across queue
families.</p>
</li>
<li>
<p>Updated sample code based on recent changes</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 44, 2015-07-27 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Noted that support for VK_PRESENT_MODE_FIFO_KHR is required.
That is ICDs may optionally support IMMEDIATE and MAILBOX, but must
support FIFO.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 45, 2015-08-07 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo in spec file (type and variable name had wrong case
for the imageColorSpace member of the VkSwapchainCreateInfoKHR struct).</p>
</li>
<li>
<p>Corrected a typo in header file (last parameter in
PFN_vkGetSurfacePropertiesKHR was missing &quot;KHR&quot; at the end of type:
VkSurfacePropertiesKHR).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 46, 2015-08-20 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension and all of its enumerations, types, functions,
etc.
This makes it compliant with the proposed standard for Vulkan
extensions.</p>
</li>
<li>
<p>Switched from &quot;revision&quot; to &quot;version&quot;, including use of the
VK_MAKE_VERSION macro in the header file.</p>
</li>
<li>
<p>Made improvements to several descriptions.</p>
</li>
<li>
<p>Changed the status of several issues from PROPOSED to RESOLVED, leaving
no unresolved issues.</p>
</li>
<li>
<p>Resolved several TODOs, did miscellaneous cleanup, etc.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 47, 2015-08-20 (Ian Elliott—​porting a 2015-07-29 change from
James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the surface transform enums to VK_WSI_swapchain so they could be
re-used by VK_WSI_display.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 48, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Various minor cleanups.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 49, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Restore single-field revision number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 50, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Update Example #4 to include code that illustrates how to use the
oldSwapchain field.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 51, 2015-09-01 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Fix example code compilation errors.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 52, 2015-09-08 (Matthaeus G. Chajdas)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected a typo.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 53, 2015-09-10 (Alon Or-bach)</p>
<div class="ulist">
<ul>
<li>
<p>Removed underscore from SWAP_CHAIN left in
VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 54, 2015-09-11 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Described the execution and memory coherence requirements for image
transitions to and from VK_IMAGE_LAYOUT_PRESENT_SOURCE_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 55, 2015-09-11 (Ray Smith)</p>
<div class="ulist">
<ul>
<li>
<p>Added errors for destroying and binding memory to presentable images</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 56, 2015-09-18 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added fence argument to vkAcquireNextImageKHR</p>
</li>
<li>
<p>Added example of how to meter a host thread based on presentation rate.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 57, 2015-09-26 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Replace VkSurfaceDescriptionKHR with VkSurfaceKHR.</p>
</li>
<li>
<p>Added issue 25 with agreed resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 58, 2015-09-28 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_device_swapchain to VK_EXT_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 59, 2015-09-29 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Changed vkDestroySwapchainKHR() to return void.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 60, 2015-10-01 (Jeff Vigil)</p>
<div class="ulist">
<ul>
<li>
<p>Added error result VK_ERROR_SURFACE_LOST_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 61, 2015-10-05 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added the VkCompositeAlpha enum and corresponding structure fields.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 62, 2015-10-12 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added VK_PRESENT_MODE_FIFO_RELAXED_KHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 63, 2015-10-15 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Moved surface capability queries to VK_EXT_KHR_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 64, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_swapchain to VK_KHR_swapchain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 65, 2015-10-28 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Added optional pResult member to VkPresentInfoKHR, so that
per-swapchain results can be obtained from vkQueuePresentKHR().</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 66, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to create and destroy functions.</p>
</li>
<li>
<p>Updated resource transition language.</p>
</li>
<li>
<p>Updated sample code.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 67, 2015-11-10 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Add reserved flags bitmask to VkSwapchainCreateInfoKHR.</p>
</li>
<li>
<p>Modify naming and member ordering to match API style conventions, and
so the VkSwapchainCreateInfoKHR image property members mirror
corresponding VkImageCreateInfo members but with an 'image' prefix.</p>
</li>
<li>
<p>Make VkPresentInfoKHR::pResults non-const; it is an output array
parameter.</p>
</li>
<li>
<p>Make pPresentInfo parameter to vkQueuePresentKHR const.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 68, 2016-04-05 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Moved the &quot;validity&quot; include for vkAcquireNextImage to be in its proper
place, after the prototype and list of parameters.</p>
</li>
<li>
<p>Clarified language about presentable images, including how they are
acquired, when applications can and cannot use them, etc.
As part of this, removed language about &quot;ownership&quot; of presentable
images, and replaced it with more-consistent language about presentable
images being &quot;acquired&quot; by the application.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-23 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Update the example code, to use the final API command names, to not
have so many characters per line, and to split out a new example to
show how to obtain function pointers.
This code is more similar to the LunarG &quot;cube&quot; demo program.</p>
</li>
</ul>
</div>
</li>
<li>
<p>2016-08-25 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>A note was added at the beginning of the example code, stating that it
will be removed from future versions of the appendix.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 69, 2017-09-07 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Added interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 70, 2017-10-06 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Corrected interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_swapchain_mutable_format">VK_KHR_swapchain_mutable_format</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_swapchain_mutable_format</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>201</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_maintenance2">VK_KHR_maintenance2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_image_format_list">VK_KHR_image_format_list</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_swapchain_mutable_format:%20&amp;body=@drakos-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>drakos-arm</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_short_description">Short Description</h4>
<div class="paragraph">
<p>Allows processing of swapchain images as different formats to that used by
the window system, which is particularly useful for switching between sRGB
and linear RGB formats.</p>
</div>
</div>
<div class="sect3">
<h4 id="_description_3">Description</h4>
<div class="paragraph">
<p>This extension adds a new swapchain creation flag that enables creating
image views from presentable images with a different format than the one
used to create the swapchain.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_37">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_46">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap32.html#VkSwapchainCreateFlagBitsKHR">VkSwapchainCreateFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_39">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_32">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_42">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_40">Issues</h4>
<div class="paragraph">
<p>1) Are there any new capabilities needed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It is expected that all implementations exposing this extension support
swapchain image format mutability.</p>
</div>
<div class="paragraph">
<p>2) Do we need a separate <code>VK_SWAPCHAIN_CREATE_EXTENDED_USAGE_BIT_KHR</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
This extension requires <code>VK_KHR_maintenance2</code> and presentable images of
swapchains created with <code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code> are
created internally in a way equivalent to specifying both
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code> and
<code>VK_IMAGE_CREATE_EXTENDED_USAGE_BIT_KHR</code>.</p>
</div>
<div class="paragraph">
<p>3) Do we need a separate structure to allow specifying an image format list
for swapchains?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
We simply use the same <a href="chap11.html#VkImageFormatListCreateInfoKHR">VkImageFormatListCreateInfoKHR</a> structure
introduced by <code>VK_KHR_image_format_list</code>.
The structure is required to be included in the <code>pNext</code> chain of
<a href="chap32.html#VkSwapchainCreateInfoKHR">VkSwapchainCreateInfoKHR</a> for swapchains created with
<code>VK_SWAPCHAIN_CREATE_MUTABLE_FORMAT_BIT_KHR</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_35">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-03-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_variable_pointers">VK_KHR_variable_pointers</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_variable_pointers</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>121</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_storage_buffer_storage_class">VK_KHR_storage_buffer_storage_class</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_variable_pointers:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/KHR/SPV_KHR_variable_pointers.html">SPV_KHR_variable_pointers</a>
SPIR-V extension.</p>
</li>
<li>
<p>Promoted to Vulkan 1.1 Core</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>John Kessenich, Google</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Daniel Koch, Nvidia</p>
</li>
<li>
<p>Graeme Leese, Broadcom</p>
</li>
<li>
<p>Weifeng Zhang, Qualcomm</p>
</li>
<li>
<p>Stephen Clarke, Imagination Technologies</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_variable_pointers</code> extension allows implementations to indicate
their level of support for the SPV_KHR_variable_pointers SPIR-V extension.
The SPIR-V extension allows shader modules to use invocation-private
pointers into uniform and/or storage buffers, where the pointer values can
be dynamic and non-uniform.</p>
</div>
<div class="paragraph">
<p>The SPV_KHR_variable_pointers extension introduces two capabilities.
The first, <code>VariablePointersStorageBuffer</code>, <strong class="purple">must</strong> be supported by all
implementations of this extension.
The second, <code>VariablePointers</code>, is optional.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_47">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VARIABLE_POINTER_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_33">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceVariablePointerFeaturesKHR">VkPhysicalDeviceVariablePointerFeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_9">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-variablepointers">VariablePointersStorageBuffer</a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-variablepointers">VariablePointers</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_promotion_to_vulkan_1_1_23">Promotion to Vulkan 1.1</h4>
<div class="paragraph">
<p>All functionality in this extension is included in core Vulkan 1.1, with the
KHR suffix omitted, however support for the
<a href="chap35.html#features-features-variablePointersStorageBuffer"><code>variablePointersStorageBuffer</code></a> feature is made optional.
The original type, enum and command names are still available as aliases of
the core functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_41">Issues</h4>
<div class="paragraph">
<p>1) Do we need an optional property for the SPIR-V
<code>VariablePointersStorageBuffer</code> capability or should it be mandatory when
this extension is advertised?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Add it as a distinct feature, but make support mandatory.
Adding it as a feature makes the extension easier to include in a future
core API version.
In the extension, the feature is mandatory, so that presence of the
extension guarantees some functionality.
When included in a core API version, the feature would be optional.</p>
</div>
<div class="paragraph">
<p>2) Can support for these capabilities vary between shader stages?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, if the capability is supported in any stage it must be
supported in all stages.</p>
</div>
<div class="paragraph">
<p>3) Should the capabilities be features or limits?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Features, primarily for consistency with other similar
extensions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_36">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-14 (Jesse Hall and John Kessenich)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_wayland_surface">VK_KHR_wayland_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_wayland_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>7</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_wayland_surface:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_wayland_surface:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_wayland_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a Wayland
<code>wl_surface</code>, as well as a query to determine support for rendering to a
Wayland compositor.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_38">New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_48">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WAYLAND_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_40">New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_34">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkWaylandSurfaceCreateInfoKHR">VkWaylandSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_43">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkCreateWaylandSurfaceKHR">vkCreateWaylandSurfaceKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_42">Issues</h4>
<div class="paragraph">
<p>1) Does Wayland need a way to query for compatibility between a particular
physical device and a specific Wayland display? This would be a more general
query than <a href="chap32.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>: if the
Wayland-specific query returned <code>VK_TRUE</code> for a (<a href="chap4.html#VkPhysicalDevice">VkPhysicalDevice</a>,
<code>struct wl_display*</code>) pair, then the physical device could be assumed to
support presentation to any <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> for surfaces on the display.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
<a href="chap32.html#vkGetPhysicalDeviceWaylandPresentationSupportKHR">vkGetPhysicalDeviceWaylandPresentationSupportKHR</a> was added to address
this issue.</p>
</div>
<div class="paragraph">
<p>2) Should we require surfaces created with <a href="chap32.html#vkCreateWaylandSurfaceKHR">vkCreateWaylandSurfaceKHR</a>
to support the <code>VK_PRESENT_MODE_MAILBOX_KHR</code> present mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
Wayland is an inherently mailbox window system and mailbox support is
required for some Wayland compositor interactions to work as expected.
While handling these interactions may be possible with
<code>VK_PRESENT_MODE_FIFO_KHR</code>, it is much more difficult to do without
deadlock and requiring all Wayland applications to be able to support
implementations which only support <code>VK_PRESENT_MODE_FIFO_KHR</code> would be
an onerous restriction on application developers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_37">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added vkGetPhysicalDeviceWaylandPresentationSupportKHR() to resolve
issue #1.</p>
</li>
<li>
<p>Adjusted wording of issue #1 to match the agreed-upon solution.</p>
</li>
<li>
<p>Renamed &quot;window&quot; parameters to &quot;surface&quot; to match Wayland conventions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_wayland_surface to VK_KHR_wayland_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateWaylandSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-02-08 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Added the requirement that implementations support
<code>VK_PRESENT_MODE_MAILBOX_KHR</code>.</p>
</li>
<li>
<p>Added wording about interactions between <a href="chap32.html#vkQueuePresentKHR">vkQueuePresentKHR</a> and
the Wayland requests sent to the compositor.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_win32_keyed_mutex">VK_KHR_win32_keyed_mutex</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_win32_keyed_mutex</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>76</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory_win32">VK_KHR_external_memory_win32</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Carsten Rohde <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_win32_keyed_mutex:%20&amp;body=@crohde%20"><span class="icon black"><i class="fa fa-github"></i></span>crohde</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-10-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jeff Juliano, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Applications that wish to import Direct3D 11 memory objects into the Vulkan
API may wish to use the native keyed mutex mechanism to synchronize access
to the memory between Vulkan and Direct3D.
This extension provides a way for an application to access the keyed mutex
associated with an imported Vulkan memory object when submitting command
buffers to a queue.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_39">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_49">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WIN32_KEYED_MUTEX_ACQUIRE_RELEASE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_41">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_14">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkWin32KeyedMutexAcquireReleaseInfoKHR">VkWin32KeyedMutexAcquireReleaseInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_44">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_43">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_win32_surface">VK_KHR_win32_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_win32_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>10</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_win32_surface:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_win32_surface:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-04-24</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_win32_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a Win32 <code>HWND</code>, as
well as a query to determine support for rendering to the windows desktop.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_40">New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_50">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_42">New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_35">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkWin32SurfaceCreateInfoKHR">VkWin32SurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_45">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkCreateWin32SurfaceKHR">vkCreateWin32SurfaceKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceWin32PresentationSupportKHR">vkGetPhysicalDeviceWin32PresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_44">Issues</h4>
<div class="paragraph">
<p>1) Does Win32 need a way to query for compatibility between a particular
physical device and a specific screen? Compatibility between a physical
device and a window generally only depends on what screen the window is on.
However, there is not an obvious way to identify a screen without already
having a window on the screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
While it may be useful, there is not a clear way to do this on Win32.
However, a method was added to query support for presenting to the windows
desktop as a whole.</p>
</div>
<div class="paragraph">
<p>2) If a native window object (<code>HWND</code>) is used by one graphics API, and
then is later used by a different graphics API (one of which is Vulkan), can
these uses interfere with each other?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>Uses of a window object by multiple graphics APIs results in undefined
behavior.
Such behavior may succeed when using one Vulkan implementation but fail when
using a different Vulkan implementation.
Potential failures include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating then destroying a flip presentation model DXGI swapchain on a
window object can prevent <a href="chap32.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a> from succeeding on
the same window object.</p>
</li>
<li>
<p>Creating then destroying a <a href="chap32.html#VkSwapchainKHR">VkSwapchainKHR</a> on a window object can
prevent creation of a bitblt model DXGI swapchain on the same window
object.</p>
</li>
<li>
<p>Creating then destroying a <a href="chap32.html#VkSwapchainKHR">VkSwapchainKHR</a> on a window object can
effectively <code>SetPixelFormat</code> to a different format than the format
chosen by an OpenGL application.</p>
</li>
<li>
<p>Creating then destroying a <a href="chap32.html#VkSwapchainKHR">VkSwapchainKHR</a> on a window object on
one <a href="chap4.html#VkPhysicalDevice">VkPhysicalDevice</a> can prevent <a href="chap32.html#vkCreateSwapchainKHR">vkCreateSwapchainKHR</a> from
succeeding on the same window object, but on a different
<a href="chap4.html#VkPhysicalDevice">VkPhysicalDevice</a> that is associated with a different Vulkan ICD.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In all cases the problem can be worked around by creating a new window
object.</p>
</div>
<div class="paragraph">
<p>Technical details include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating a DXGI swapchain over a window object can alter the object for
the remainder of its lifetime.
The alteration persists even after the DXGI swapchain has been
destroyed.
This alteration can make it impossible for a conformant Vulkan
implementation to create a <a href="chap32.html#VkSwapchainKHR">VkSwapchainKHR</a> over the same window
object.
Mention of this alteration can be found in the remarks section of the
MSDN documentation for <code>DXGI_SWAP_EFFECT</code>.</p>
</li>
<li>
<p>Calling GDI’s <code>SetPixelFormat</code> (needed by OpenGL’s WGL layer) on a
window object alters the object for the remainder of its lifetime.
The MSDN documentation for <code>SetPixelFormat</code> explains that a window
object’s pixel format can be set only one time.</p>
</li>
<li>
<p>Creating a <a href="chap32.html#VkSwapchainKHR">VkSwapchainKHR</a> over a window object can alter the
object for the remaining life of its lifetime.
Either of the above alterations may occur as a side-effect of
<a href="chap32.html#VkSwapchainKHR">VkSwapchainKHR</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_38">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for win32 desktops.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_win32_surface to VK_KHR_win32_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateWin32SurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-04-24 (Jeff Juliano)</p>
<div class="ulist">
<ul>
<li>
<p>Add issue 2 addressing reuse of a native window object in a different
Graphics API, or by a different Vulkan ICD.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_xcb_surface">VK_KHR_xcb_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_xcb_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_xcb_surface:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_xcb_surface:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_xcb_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an X11 <code>Window</code>, using
the XCB client-side library, as well as a query to determine support for
rendering via XCB.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_41">New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_51">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_XCB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_43">New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_36">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkXcbSurfaceCreateInfoKHR">VkXcbSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_46">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkCreateXcbSurfaceKHR">vkCreateXcbSurfaceKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceXcbPresentationSupportKHR">vkGetPhysicalDeviceXcbPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_45">Issues</h4>
<div class="paragraph">
<p>1) Does XCB need a way to query for compatibility between a particular
physical device and a specific screen? This would be a more general query
than <a href="chap32.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a>: If it returned
<code>VK_TRUE</code>, then the physical device could be assumed to support
presentation to any window on that screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this is needed for toolkits that want to create a
<a href="chap4.html#VkDevice">VkDevice</a> before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_39">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for an (xcb_connection_t*,
xcb_visualid_t) pair.</p>
</li>
<li>
<p>Removed &quot;root&quot; parameter from CreateXcbSurfaceKHR(), as it is redundant
when a window on the same screen is specified as well.</p>
</li>
<li>
<p>Adjusted wording of issue #1 and added agreed upon resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-14 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Removed &quot;root&quot; parameter from CreateXcbSurfaceKHR() in one more place.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_xcb_surface to VK_KHR_xcb_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-10-23 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateXcbSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_KHR_xlib_surface">VK_KHR_xlib_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_xlib_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>5</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>6</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_xlib_surface:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_xlib_surface:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2015-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Patrick Doane, Blizzard</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Ian Elliott, LunarG</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Jon Leech, Khronos</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Norbert Nopper, Freescale</p>
</li>
<li>
<p>Alon Or-bach, Samsung</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Jeff Vigil, Qualcomm</p>
</li>
<li>
<p>Chia-I Wu, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_xlib_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an X11 <code>Window</code>, using
the Xlib client-side library, as well as a query to determine support for
rendering via Xlib.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_42">New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_52">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_XLIB_SURFACE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_44">New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_37">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkXlibSurfaceCreateInfoKHR">VkXlibSurfaceCreateInfoKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_47">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkCreateXlibSurfaceKHR">vkCreateXlibSurfaceKHR</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceXlibPresentationSupportKHR">vkGetPhysicalDeviceXlibPresentationSupportKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_46">Issues</h4>
<div class="paragraph">
<p>1) Does X11 need a way to query for compatibility between a particular
physical device and a specific screen? This would be a more general query
than <a href="chap32.html#vkGetPhysicalDeviceSurfaceSupportKHR">vkGetPhysicalDeviceSurfaceSupportKHR</a> : if it returned
<code>VK_TRUE</code>, then the physical device could be assumed to support
presentation to any window on that screen.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this is needed for toolkits that want to create a
<a href="chap4.html#VkDevice">VkDevice</a> before creating a window.
To ensure the query is reliable, it must be made against a particular X
visual rather than the screen in general.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_40">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-09-23 (Jesse Hall)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on the previous contents of VK_EXT_KHR_swapchain
(later renamed VK_EXT_KHR_surface).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2015-10-02 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Added presentation support query for (Display*, VisualID) pair.</p>
</li>
<li>
<p>Removed &quot;root&quot; parameter from CreateXlibSurfaceKHR(), as it is
redundant when a window on the same screen is specified as well.</p>
</li>
<li>
<p>Added appropriate X errors.</p>
</li>
<li>
<p>Adjusted wording of issue #1 and added agreed upon resolution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2015-10-14 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed this extension from VK_EXT_KHR_x11_surface to
VK_EXT_KHR_xlib_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2015-10-26 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed from VK_EXT_KHR_xlib_surface to VK_KHR_xlib_surface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2015-11-03 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Added allocation callbacks to vkCreateXlibSurfaceKHR.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2015-11-28 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Updated the surface create function to take a pCreateInfo structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_acquire_xlib_display">VK_EXT_acquire_xlib_display</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_acquire_xlib_display</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>90</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_EXT_direct_mode_display">VK_EXT_direct_mode_display</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_acquire_xlib_display:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dave Airlie, Red Hat</p>
</li>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Damien Leone, NVIDIA</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Liam Middlebrook, NVIDIA</p>
</li>
<li>
<p>Daniel Vetter, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows an application to take exclusive control on a display
currently associated with an X11 screen.
When control is acquired, the display will be deassociated from the X11
screen until control is released or the specified display connection is
closed.
Essentially, the X11 screen will behave as if the monitor has been unplugged
until control is released.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_53">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_45">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_38">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_48">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkAcquireXlibDisplayEXT">vkAcquireXlibDisplayEXT</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetRandROutputDisplayEXT">vkGetRandROutputDisplayEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_47">Issues</h4>
<div class="paragraph">
<p>1) Should <a href="chap32.html#vkAcquireXlibDisplayEXT">vkAcquireXlibDisplayEXT</a> take an RandR display ID, or a
Vulkan display handle as input?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A Vulkan display handle.
Otherwise there would be no way to specify handles to displays that had been
“blacklisted” or prevented from being included in the X11 display list by
some native platform or vendor-specific mechanism.</p>
</div>
<div class="paragraph">
<p>2) How does an application figure out which RandR display corresponds to a
Vulkan display?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A new function, <a href="chap32.html#vkGetRandROutputDisplayEXT">vkGetRandROutputDisplayEXT</a>, is introduced
for this purpose.</p>
</div>
<div class="paragraph">
<p>3) Should <a href="chap32.html#vkGetRandROutputDisplayEXT">vkGetRandROutputDisplayEXT</a> be part of this extension, or a
general Vulkan + RandR or Vulkan + Xlib extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: To avoid yet another extension, include it in this extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_41">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_astc_decode_mode">VK_EXT_astc_decode_mode</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_astc_decode_mode</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>68</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_astc_decode_mode:%20&amp;body=@janharaldfredriksen-arm%20"><span class="icon black"><i class="fa fa-github"></i></span>janharaldfredriksen-arm</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Last Modified Date</dt>
<dd>
<p>2018-08-07</p>
</dd>
<dt class="hdlist1">Contributors</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The existing specification requires that low dynamic range (LDR) ASTC
textures are decompressed to FP16 values per component.
In many cases, decompressing LDR textures to a lower precision intermediate
result gives acceptable image quality.
Source material for LDR textures is typically authored as 8-bit UNORM
values, so decoding to FP16 values adds little value.
On the other hand, reducing precision of the decoded result reduces the size
of the decompressed data, potentially improving texture cache performance
and saving power.</p>
</div>
<div class="paragraph">
<p>The goal of this extension is to enable this efficiency gain on existing
ASTC texture data.
This is achieved by giving the application the ability to select the
intermediate decoding precision.</p>
</div>
<div class="paragraph">
<p>Three decoding options are provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Decode to <code>VK_FORMAT_R16G16B16A16_SFLOAT</code> precision: This is the
default, and matches the required behavior in the core API.</p>
</li>
<li>
<p>Decode to <code>VK_FORMAT_R8G8B8A8_UNORM</code> precision: This is provided as
an option in LDR mode.</p>
</li>
<li>
<p>Decode to <code>VK_FORMAT_E5B9G9R9_UFLOAT_PACK32</code> precision: This is
provided as an option in both LDR and HDR mode.
In this mode, negative values cannot be represented and are clamped to
zero.
The alpha component is ignored, and the results are as if alpha was 1.0.
This decode mode is optional and support can be queried via the physical
device properties.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_54">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_VIEW_ASTC_DECODE_MODE_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_ASTC_DECODE_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_46">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_39">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkImageViewASTCDecodeModeEXT">VkImageViewASTCDecodeModeEXT</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceASTCDecodeFeaturesEXT">VkPhysicalDeviceASTCDecodeFeaturesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_49">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_48">Issues</h4>
<div class="paragraph">
<p>1) Are implementations allowed to decode at a higher precision than what is
    requested?</p>
</div>
<div class="literalblock">
<div class="content">
<pre>RESOLUTION: No.
If we allow this, then this extension could be exposed on all
implementations that support ASTC.
But developers would have no way of knowing what precision was actually
used, and thus whether the image quality is sufficient at reduced
precision.</pre>
</div>
</div>
<div class="paragraph">
<p>2) Should the decode mode be image view state and/or sampler state?</p>
</div>
<div class="literalblock">
<div class="content">
<pre>RESOLUTION: Image view state only.
Some implementations treat the different decode modes as different
texture formats.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_2">Example</h4>
<div class="paragraph">
<p>Create an image view that decodes to VK_FORMAT_R8G8B8A8_UNORM precision:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    VkImageViewASTCDecodeModeEXT decodeMode =
    {
        VK_STRUCTURE_TYPE_IMAGE_VIEW_ASTC_DECODE_MODE_EXT, <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>, <span class="comment">// pNext</span>
        VK_FORMAT_R8G8B8A8_UNORM <span class="comment">// decode mode</span>
    };

    VkImageViewCreateInfo createInfo =
    {
        VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO, <span class="comment">// sType</span>
        &amp;decodeMode, <span class="comment">// pNext</span>
        <span class="comment">// flags, image, viewType set to application-desired values</span>
        VK_FORMAT_ASTC_8x8_UNORM_BLOCK, <span class="comment">// format</span>
        <span class="comment">// components, subresourceRange set to application-desired values</span>
    };

    VkImageView imageView;
    VkResult result = vkCreateImageView(
        device,
        &amp;createInfo,
        <span class="predefined-constant">NULL</span>,
        &amp;imageView);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_42">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-08-07 (Jan-Harald Fredriksen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_blend_operation_advanced">VK_EXT_blend_operation_advanced</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_blend_operation_advanced</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>149</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_blend_operation_advanced:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-06-12</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds a number of “advanced” blending operations that <strong class="purple">can</strong>
be used to perform new color blending operations, many of which are more
complex than the standard blend modes provided by unextended Vulkan.
This extension requires different styles of usage, depending on the level of
hardware support and the enabled features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If
<a href="chap35.html#VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT">VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT</a>::<code>advancedBlendCoherentOperations</code>
is <code>VK_FALSE</code>, the new blending operations are supported, but a
memory dependency <strong class="purple">must</strong> separate each advanced blend operation on a
given sample.
<code>VK_ACCESS_COLOR_ATTACHMENT_READ_NONCOHERENT_BIT_EXT</code> is used to
synchronize reads using advanced blend operations.</p>
</li>
<li>
<p>If
<a href="chap35.html#VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT">VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT</a>::<code>advancedBlendCoherentOperations</code>
is <code>VK_TRUE</code>, advanced blend operations obey primitive order just
like basic blend operations.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In unextended Vulkan, the set of blending operations is limited, and <strong class="purple">can</strong> be
expressed very simply.
The <code>VK_BLEND_OP_MIN</code> and <code>VK_BLEND_OP_MAX</code> blend operations simply
compute component-wise minimums or maximums of source and destination color
components.
The <code>VK_BLEND_OP_ADD</code>, <code>VK_BLEND_OP_SUBTRACT</code>, and
<code>VK_BLEND_OP_REVERSE_SUBTRACT</code> modes multiply the source and destination
colors by source and destination factors and either add the two products
together or subtract one from the other.
This limited set of operations supports many common blending operations but
precludes the use of more sophisticated transparency and blending operations
commonly available in many dedicated imaging APIs.</p>
</div>
<div class="paragraph">
<p>This extension provides a number of new “advanced” blending operations.
Unlike traditional blending operations using <code>VK_BLEND_OP_ADD</code>, these
blending equations do not use source and destination factors specified by
<a href="chap28.html#VkBlendFactor">VkBlendFactor</a>.
Instead, each blend operation specifies a complete equation based on the
source and destination colors.
These new blend operations are used for both RGB and alpha components; they
<strong class="purple">must</strong> not be used to perform separate RGB and alpha blending (via different
values of color and alpha <a href="chap28.html#VkBlendOp">VkBlendOp</a>).</p>
</div>
<div class="paragraph">
<p>These blending operations are performed using premultiplied colors, where
RGB colors <strong class="purple">can</strong> be considered premultiplied or non-premultiplied by alpha,
according to the <code>srcPremultiplied</code> and <code>dstPremultiplied</code> members
of <a href="chap28.html#VkPipelineColorBlendAdvancedStateCreateInfoEXT">VkPipelineColorBlendAdvancedStateCreateInfoEXT</a>.
If a color is considered non-premultiplied, the (R,G,B) color components are
multiplied by the alpha component prior to blending.
For non-premultiplied color components in the range <span class="eq">[0,1]</span>, the
corresponding premultiplied color component would have values in the range
<span class="eq">[0 × A, 1 × A]</span>.</p>
</div>
<div class="paragraph">
<p>Many of these advanced blending equations are formulated where the result of
blending source and destination colors with partial coverage have three
separate contributions: from the portions covered by both the source and the
destination, from the portion covered only by the source, and from the
portion covered only by the destination.
The blend parameter
<a href="chap28.html#VkPipelineColorBlendAdvancedStateCreateInfoEXT">VkPipelineColorBlendAdvancedStateCreateInfoEXT</a>::<code>blendOverlap</code>
<strong class="purple">can</strong> be used to specify a correlation between source and destination pixel
coverage.
If set to <code>VK_BLEND_OVERLAP_CONJOINT_EXT</code>, the source and destination
are considered to have maximal overlap, as would be the case if drawing two
objects on top of each other.
If set to <code>VK_BLEND_OVERLAP_DISJOINT_EXT</code>, the source and destination
are considered to have minimal overlap, as would be the case when rendering
a complex polygon tessellated into individual non-intersecting triangles.
If set to <code>VK_BLEND_OVERLAP_UNCORRELATED_EXT</code>, the source and
destination coverage are assumed to have no spatial correlation within the
pixel.</p>
</div>
<div class="paragraph">
<p>In addition to the coherency issues on implementations not supporting
<code>advancedBlendCoherentOperations</code>, this extension has several
limitations worth noting.
First, the new blend operations have a limit on the number of color
attachments they <strong class="purple">can</strong> be used with, as indicated by
<a href="chap35.html#VkPhysicalDeviceBlendOperationAdvancedPropertiesEXT">VkPhysicalDeviceBlendOperationAdvancedPropertiesEXT</a>::<code>advancedBlendMaxColorAttachments</code>.
Additionally, blending precision <strong class="purple">may</strong> be limited to 16-bit floating-point,
which <strong class="purple">may</strong> result in a loss of precision and dynamic range for framebuffer
formats with 32-bit floating-point components, and in a loss of precision
for formats with 12- and 16-bit signed or unsigned normalized integer
components.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_43">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_55">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BLEND_OPERATION_ADVANCED_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BLEND_OPERATION_ADVANCED_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_ADVANCED_STATE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkAccessFlagBits">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_COLOR_ATTACHMENT_READ_NONCOHERENT_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap28.html#VkBlendOp">VkBlendOp</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BLEND_OP_ZERO_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SRC_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DST_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SRC_OVER_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DST_OVER_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SRC_IN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DST_IN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SRC_OUT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DST_OUT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SRC_ATOP_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DST_ATOP_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_XOR_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_MULTIPLY_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SCREEN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_OVERLAY_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DARKEN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_LIGHTEN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_COLORDODGE_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_COLORBURN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HARDLIGHT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_SOFTLIGHT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_DIFFERENCE_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_EXCLUSION_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_INVERT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_INVERT_RGB_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_LINEARDODGE_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_LINEARBURN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_VIVIDLIGHT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_LINEARLIGHT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_PINLIGHT_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HARDMIX_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HSL_HUE_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HSL_SATURATION_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HSL_COLOR_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_HSL_LUMINOSITY_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_PLUS_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_PLUS_CLAMPED_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_PLUS_CLAMPED_ALPHA_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_PLUS_DARKER_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_MINUS_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_MINUS_CLAMPED_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_CONTRAST_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_INVERT_OVG_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_RED_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_GREEN_EXT</code></p>
</li>
<li>
<p><code>VK_BLEND_OP_BLUE_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_47">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap28.html#VkBlendOverlapEXT">VkBlendOverlapEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_40">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT">VkPhysicalDeviceBlendOperationAdvancedFeaturesEXT</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceBlendOperationAdvancedPropertiesEXT">VkPhysicalDeviceBlendOperationAdvancedPropertiesEXT</a></p>
</li>
<li>
<p><a href="chap28.html#VkPipelineColorBlendAdvancedStateCreateInfoEXT">VkPipelineColorBlendAdvancedStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_50">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_49">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_43">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revisions 1-2, 2017-06-12 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_calibrated_timestamps">VK_EXT_calibrated_timestamps</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_calibrated_timestamps</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>185</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_calibrated_timestamps:%20&amp;body=@drakos-amd%20"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-10-04</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Alan Harrison, AMD</p>
</li>
<li>
<p>Derrick Owens, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Keith Packard, Valve</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides an interface to query calibrated timestamps obtained
quasi simultaneously from two time domains.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_44">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_56">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_CALIBRATED_TIMESTAMP_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_48">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkTimeDomainEXT">VkTimeDomainEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_41">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap6.html#VkCalibratedTimestampInfoEXT">VkCalibratedTimestampInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_51">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#vkGetPhysicalDeviceCalibrateableTimeDomainsEXT">vkGetPhysicalDeviceCalibrateableTimeDomainsEXT</a></p>
</li>
<li>
<p><a href="chap6.html#vkGetCalibratedTimestampsEXT">vkGetCalibratedTimestampsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_50">Issues</h4>
<div class="paragraph">
<p>1) Is the device timestamp value returned in the same time domain as the
timestamp values written by <a href="chap17.html#vkCmdWriteTimestamp">vkCmdWriteTimestamp</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
<div class="paragraph">
<p>2) What time domain is the host timestamp returned in?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A query is provided to determine the calibrateable time domains.
The expected host time domain used on Windows is that of
QueryPerformanceCounter, and on Linux that of CLOCK_MONOTONIC.</p>
</div>
<div class="paragraph">
<p>3) Should we support other time domain combinations than just one host and
the device time domain?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Supporting that would need the application to query the set of
supported time domains, while supporting only one host and the device time
domain would only need a query for the host time domain type.
The proposed API chooses the general approach for the sake of extensibility.</p>
</div>
<div class="paragraph">
<p>4) Shouldn’t we use CLOCK_MONOTONIC_RAW instead of CLOCK_MONOTONIC?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: CLOCK_MONOTONIC is usable in a wider set of situations, however,
it is subject to NTP adjustments so some use cases may prefer
CLOCK_MONOTONIC_RAW.
Thus this extension allows both to be exposed.</p>
</div>
<div class="paragraph">
<p>5) How can the application extrapolate future device timestamp values from
the calibrated timestamp value?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <a href="chap35.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>timestampPeriod</code> makes it
possible to calculate future device timestamps as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">futureTimestamp = calibratedTimestamp + deltaNanoseconds / timestampPeriod</code></pre>
</div>
</div>
<div class="paragraph">
<p>6) Can the host and device timestamp values drift apart over longer periods
of time?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, especially as some time domains by definition allow for
that to happen (e.g. CLOCK_MONOTONIC is subject to NTP adjustments).
Thus it’s recommended that applications re-calibrate from time to time.</p>
</div>
<div class="paragraph">
<p>7) Should we add a query for reporting the maximum deviation of the
timestamp values returned by calibrated timestamp queries?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A global query seems inappropriate and difficult to enforce.
However, it’s possible to return the maximum deviation any single calibrated
timestamp query can have by sampling one of the time domains twice as
follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">timestampX = timestampX_before = SampleTimeDomain(X)
<span class="keyword">for</span> each time domain Y != X
    timestampY = SampleTimeDomain(Y)
timestampX_after = SampleTimeDomain(X)
maxDeviation = timestampX_after - timestampX_before</code></pre>
</div>
</div>
<div class="paragraph">
<p>8) Can the maximum deviation reported ever be zero?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Unless the tick of each clock corresponding to the set of time
domains coincides and all clocks can literally be sampled simutaneously,
there isn’t really a possibility for the maximum deviation to be zero, so by
convention the maximum deviation is always at least the maximum of the
length of the ticks of the set of time domains calibrated and thus can never
be zero.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_44">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-10-04 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_conditional_rendering">VK_EXT_conditional_rendering</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_conditional_rendering</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>82</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_conditional_rendering:%20&amp;body=@vkushwaha%20"><span class="icon black"><i class="fa fa-github"></i></span>vkushwaha</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-05-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Stuart Smith, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows the execution of one or more rendering commands to be
conditional on a value in buffer memory.
This may help an application reduce the latency by conditionally discarding
rendering commands without application intervention.
The conditional rendering commands are limited to draws, compute dispatches
and clearing attachments within a conditional rendering block.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_45">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_57">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_INHERITANCE_CONDITIONAL_RENDERING_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CONDITIONAL_RENDERING_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_CONDITIONAL_RENDERING_BEGIN_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkAccessFlagBits">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_CONDITIONAL_RENDERING_READ_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_CONDITIONAL_RENDERING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_CONDITIONAL_RENDERING_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_49">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap20.html#VkConditionalRenderingFlagBitsEXT">VkConditionalRenderingFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_42">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap20.html#VkConditionalRenderingBeginInfoEXT">VkConditionalRenderingBeginInfoEXT</a></p>
</li>
<li>
<p>Extending <a href="chap5.html#VkCommandBufferInheritanceInfo">VkCommandBufferInheritanceInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkCommandBufferInheritanceConditionalRenderingInfoEXT">VkCommandBufferInheritanceConditionalRenderingInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap35.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceConditionalRenderingFeaturesEXT">VkPhysicalDeviceConditionalRenderingFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_52">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap20.html#vkCmdBeginConditionalRenderingEXT">vkCmdBeginConditionalRenderingEXT</a></p>
</li>
<li>
<p><a href="chap20.html#vkCmdEndConditionalRenderingEXT">vkCmdEndConditionalRenderingEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_51">Issues</h4>
<div class="paragraph">
<p>1) Should conditional rendering affect copy and blit commands?</p>
</div>
<div class="paragraph">
<p>RESOLVED: Conditional rendering should not affect copies and blits.</p>
</div>
<div class="paragraph">
<p>2) Should secondary command buffers be allowed to execute while conditional
rendering is active in the primary command buffer?</p>
</div>
<div class="paragraph">
<p>RESOLVED: The rendering commands in secondary command buffer will be
affected by an active conditional rendering in primary command buffer if the
<code>conditionalRenderingEnable</code> is set to <code>VK_TRUE</code>.
Conditional rendering <strong class="purple">must</strong> not be active in the primary command buffer if
<code>conditionalRenderingEnable</code> is <code>VK_FALSE</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_13">Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_45">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-04-19 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>First Version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-05-21 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>Add new pipeline stage, access flags and limit conditional rendering
to a subpass or entire renderpass.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_conservative_rasterization">VK_EXT_conservative_rasterization</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_conservative_rasterization</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>102</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_conservative_rasterization:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Data</strong></dt>
<dd>
<p>2017-08-28</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Stu Smith, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds a new rasterization mode called conservative
rasterization.
There are two modes of conservative rasterization; overestimation and
underestimation.</p>
</div>
<div class="paragraph">
<p>When overestimation is enabled, if any part of the primitive, including its
edges, covers any part of the rectangular pixel area, including its sides,
then a fragment is generated with all coverage samples turned on.
This extension allows for some variation in implementations by accounting
for differences in overestimation, where the generating primitive size is
increased at each of its edges by some sub-pixel amount to further increase
conservative pixel coverage.
Implementations can allow the application to specify an extra overestimation
beyond the base overestimation the implementation already does.
It also allows implementations to either cull degenerate primitives or
rasterize them.</p>
</div>
<div class="paragraph">
<p>When underestimation is enabled, fragments are only generated if the
rectangular pixel area is fully covered by the generating primitive.
If supported by the implementation, when a pixel rectangle is fully covered
the fragment shader input variable builtin called FullyCoveredEXT is set to
true.
The shader variable works in either overestimation or underestimation mode.</p>
</div>
<div class="paragraph">
<p>Implementations can process degenerate triangles and lines by either
discarding them or generating conservative fragments for them.
Degenerate triangles are those that end up with zero area after the
rasterizer quantizes them to the fixed-point pixel grid.
Degenerate lines are those with zero length after quantization.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_46">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_58">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CONSERVATIVE_RASTERIZATION_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_CONSERVATIVE_STATE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_50">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#VkPipelineRasterizationConservativeStateCreateFlagsEXT">VkPipelineRasterizationConservativeStateCreateFlagsEXT</a></p>
</li>
<li>
<p><a href="chap26.html#VkConservativeRasterizationModeEXT">VkConservativeRasterizationModeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_43">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceConservativeRasterizationPropertiesEXT">VkPhysicalDeviceConservativeRasterizationPropertiesEXT</a></p>
</li>
<li>
<p><a href="chap26.html#VkPipelineRasterizationConservativeStateCreateInfoEXT">VkPipelineRasterizationConservativeStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_53">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_52">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_46">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-28 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_debug_utils">VK_EXT_debug_utils</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_debug_utils</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>129</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mark Young <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_debug_utils:%20&amp;body=@marky-lunarg%20"><span class="icon black"><i class="fa fa-github"></i></span>marky-lunarg</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-14</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension is written against version 1.0 of the Vulkan API.</p>
</li>
<li>
<p>Requires <a href="chap36.html#VkObjectType">VkObjectType</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mark Young, LunarG</p>
</li>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, Google</p>
</li>
<li>
<p>Karl Schultz, LunarG</p>
</li>
<li>
<p>Mark Lobodzinski, LunarG</p>
</li>
<li>
<p>Mike Schuchardt, LunarG</p>
</li>
<li>
<p>Jaakko Konttinen, AMD</p>
</li>
<li>
<p>Dan Ginsburg, Valve Software</p>
</li>
<li>
<p>Rolando Olivares, Epic Games</p>
</li>
<li>
<p>Dan Baker, Oxide Games</p>
</li>
<li>
<p>Kyle Spagnoli, NVIDIA</p>
</li>
<li>
<p>Jon Ashburn, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Due to the nature of the Vulkan interface, there is very little error
information available to the developer and application.
By using the <code>VK_EXT_debug_utils</code> extension, developers <strong class="purple">can</strong> obtain more
information.
When combined with validation layers, even more detailed feedback on the
application’s use of Vulkan will be provided.</p>
</div>
<div class="paragraph">
<p>This extension provides the following capabilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The ability to create a debug messenger which will pass along debug
messages to an application supplied callback.</p>
</li>
<li>
<p>The ability to identify specific Vulkan objects using a name or tag to
improve tracking.</p>
</li>
<li>
<p>The ability to identify specific sections within a <code>VkQueue</code> or
<code>VkCommandBuffer</code> using labels to aid organization and offline
analysis in external tools.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The main difference between this extension and <code><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a></code> and
<code><a href="#VK_EXT_debug_marker">VK_EXT_debug_marker</a></code> is that those extensions use
<a href="chap36.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a> to identify objects.
This extension uses the core <a href="chap36.html#VkObjectType">VkObjectType</a> in place of
<a href="chap36.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a>.
The primary reason for this move is that no future object type handle
enumeration values will be added to <a href="chap36.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a> since
the creation of <a href="chap36.html#VkObjectType">VkObjectType</a>.</p>
</div>
<div class="paragraph">
<p>In addition, this extension combines the functionality of both
<code><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a></code> and <code><a href="#VK_EXT_debug_marker">VK_EXT_debug_marker</a></code> by allowing object
name and debug markers (now called labels) to be returned to the
application’s callback function.
This should assist in clarifying the details of a debug message including:
what objects are involved and potentially which location within a VkQueue or
VkCommandBuffer the message occurred.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_47">New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkDebugUtilsMessengerEXT">VkDebugUtilsMessengerEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_59">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_UTILS_OBJECT_NAME_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_UTILS_OBJECT_TAG_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_UTILS_MESSENGER_CALLBACK_DATA_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_UTILS_MESSENGER_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_VALIDATION_FAILED_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_51">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkDebugUtilsMessageSeverityFlagBitsEXT">VkDebugUtilsMessageSeverityFlagBitsEXT</a></p>
</li>
<li>
<p><a href="chap36.html#VkDebugUtilsMessageTypeFlagBitsEXT">VkDebugUtilsMessageTypeFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_44">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkDebugUtilsObjectNameInfoEXT">VkDebugUtilsObjectNameInfoEXT</a></p>
</li>
<li>
<p><a href="chap36.html#VkDebugUtilsObjectTagInfoEXT">VkDebugUtilsObjectTagInfoEXT</a></p>
</li>
<li>
<p><a href="chap36.html#VkDebugUtilsLabelEXT">VkDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="chap36.html#VkDebugUtilsMessengerCallbackDataEXT">VkDebugUtilsMessengerCallbackDataEXT</a></p>
</li>
<li>
<p><a href="chap36.html#VkDebugUtilsMessengerCreateInfoEXT">VkDebugUtilsMessengerCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_54">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#vkSetDebugUtilsObjectNameEXT">vkSetDebugUtilsObjectNameEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkSetDebugUtilsObjectTagEXT">vkSetDebugUtilsObjectTagEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkQueueBeginDebugUtilsLabelEXT">vkQueueBeginDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkQueueEndDebugUtilsLabelEXT">vkQueueEndDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkQueueInsertDebugUtilsLabelEXT">vkQueueInsertDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkCmdBeginDebugUtilsLabelEXT">vkCmdBeginDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkCmdEndDebugUtilsLabelEXT">vkCmdEndDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkCmdInsertDebugUtilsLabelEXT">vkCmdInsertDebugUtilsLabelEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkCreateDebugUtilsMessengerEXT">vkCreateDebugUtilsMessengerEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkDestroyDebugUtilsMessengerEXT">vkDestroyDebugUtilsMessengerEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkSubmitDebugUtilsMessageEXT">vkSubmitDebugUtilsMessageEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_function_pointers">New Function Pointers</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#PFN_vkDebugUtilsMessengerCallbackEXT">PFN_vkDebugUtilsMessengerCallbackEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_examples_14">Examples</h4>
<div class="paragraph">
<p><strong>Example 1</strong></p>
</div>
<div class="paragraph">
<p><code>VK_EXT_debug_utils</code> allows an application to register multiple callbacks
with any Vulkan component wishing to report debug information.
Some callbacks may log the information to a file, others may cause a debug
break point or other application defined behavior.
An application <strong class="purple">can</strong> register callbacks even when no validation layers are
enabled, but they will only be called for loader and, if implemented, driver
events.</p>
</div>
<div class="paragraph">
<p>To capture events that occur while creating or destroying an instance an
application <strong class="purple">can</strong> link a <a href="chap36.html#VkDebugUtilsMessengerCreateInfoEXT">VkDebugUtilsMessengerCreateInfoEXT</a> structure
to the <code>pNext</code> element of the <a href="chap3.html#VkInstanceCreateInfo">VkInstanceCreateInfo</a> structure given
to <a href="chap3.html#vkCreateInstance">vkCreateInstance</a>.
This callback is only valid for the duration of the <a href="chap3.html#vkCreateInstance">vkCreateInstance</a>
and the <a href="chap3.html#vkDestroyInstance">vkDestroyInstance</a> call.
Use <a href="chap36.html#vkCreateDebugUtilsMessengerEXT">vkCreateDebugUtilsMessengerEXT</a> to create persistent callback
objects.</p>
</div>
<div class="paragraph">
<p>Example uses: Create three callback objects.
One will log errors and warnings to the debug console using Windows
<code>OutputDebugString</code>.
The second will cause the debugger to break at that callback when an error
happens and the third will log warnings to stdout.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="directive">extern</span> VkInstance instance;
    VkResult res;
    VkDebugUtilsMessengerEXT cb1, cb2, cb3;

    <span class="comment">// Must call extension functions through a function pointer:</span>
    PFN_vkCreateDebugUtilsMessengerEXT pfnCreateDebugUtilsMessengerEXT = (PFN_vkCreateDebugUtilsMessengerEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkCreateDebugUtilsMessengerEXT</span><span class="delimiter">&quot;</span></span>);
    PFN_vkDestroyDebugUtilsMessengerEXT pfnDestroyDebugUtilsMessengerEXT = (PFN_vkDestroyDebugUtilsMessengerEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkDestroyDebugUtilsMessengerEXT</span><span class="delimiter">&quot;</span></span>);

    VkDebugUtilsMessengeCreateInfoEXT callback1 = {
            VK_STRUCTURE_TYPE_DEBUG_UTILS_MESSENGER_CREATE_INFO_EXT,  <span class="comment">// sType</span>
            <span class="predefined-constant">NULL</span>,                                                     <span class="comment">// pNext</span>
            <span class="integer">0</span>,                                                        <span class="comment">// flags</span>
            VK_DEBUG_UTILS_MESSAGE_SEVERITY_ERROR_BIT_EXT |           <span class="comment">// messageSeverity</span>
            VK_DEBUG_UTILS_MESSAGE_SEVERITY_WARNING_BIT_EXT,
            VK_DEBUG_UTILS_MESSAGE_TYPE_GENERAL_BIT_EXT |             <span class="comment">// messageType</span>
            VK_DEBUG_UTILS_MESSAGE_TYPE_VALIDATION_BIT_EXT,
            myOutputDebugString,                                      <span class="comment">// pfnUserCallback</span>
            <span class="predefined-constant">NULL</span>                                                      <span class="comment">// pUserData</span>
    };
    res = pfnCreateDebugUtilsMessengerEXT(instance, &amp;callback1, <span class="predefined-constant">NULL</span>, &amp;cb1);
    <span class="keyword">if</span> (res != VK_SUCCESS) {
       <span class="comment">// Do error handling for VK_ERROR_OUT_OF_MEMORY</span>
    }

    callback1.messageSeverity = VK_DEBUG_UTILS_MESSAGE_SEVERITY_ERROR_BIT_EXT;
    callback1.pfnCallback = myDebugBreak;
    callback1.pUserData = <span class="predefined-constant">NULL</span>;
    res = pfnCreateDebugUtilsMessengerEXT(instance, &amp;callback1, <span class="predefined-constant">NULL</span>, &amp;cb2);
    <span class="keyword">if</span> (res != VK_SUCCESS) {
       <span class="comment">// Do error handling for VK_ERROR_OUT_OF_MEMORY</span>
    }

    VkDebugUtilsMessengerCreateInfoEXT callback3 = {
            VK_STRUCTURE_TYPE_DEBUG_UTILS_MESSENGER_CREATE_INFO_EXT,  <span class="comment">// sType</span>
            <span class="predefined-constant">NULL</span>,                                                     <span class="comment">// pNext</span>
            <span class="integer">0</span>,                                                        <span class="comment">// flags</span>
            VK_DEBUG_UTILS_MESSAGE_SEVERITY_WARNING_BIT_EXT,          <span class="comment">// messageSeverity</span>
            VK_DEBUG_UTILS_MESSAGE_TYPE_GENERAL_BIT_EXT |             <span class="comment">// messageType</span>
            VK_DEBUG_UTILS_MESSAGE_TYPE_VALIDATION_BIT_EXT,
            mystdOutLogger,                                           <span class="comment">// pfnUserCallback</span>
            <span class="predefined-constant">NULL</span>                                                      <span class="comment">// pUserData</span>
    };
    res = pfnCreateDebugUtilsMessengerEXT(instance, &amp;callback3, <span class="predefined-constant">NULL</span>, &amp;cb3);
    <span class="keyword">if</span> (res != VK_SUCCESS) {
       <span class="comment">// Do error handling for VK_ERROR_OUT_OF_MEMORY</span>
    }

    ...

    <span class="comment">// Remove callbacks when cleaning up</span>
    pfnDestroyDebugUtilsMessengerEXT(instance, cb1, <span class="predefined-constant">NULL</span>);
    pfnDestroyDebugUtilsMessengerEXT(instance, cb2, <span class="predefined-constant">NULL</span>);
    pfnDestroyDebugUtilsMessengerEXT(instance, cb3, <span class="predefined-constant">NULL</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 2</strong></p>
</div>
<div class="paragraph">
<p>Associate a name with an image, for easier debugging in external tools or
with validation layers that can print a friendly name when referring to
objects in error messages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="directive">extern</span> VkDevice device;
    <span class="directive">extern</span> VkImage image;

    <span class="comment">// Must call extension functions through a function pointer:</span>
    PFN_vkSetDebugUtilsObjectNameEXT pfnSetDebugUtilsObjectNameEXT = (PFN_vkSetDebugUtilsObjectNameEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkSetDebugUtilsObjectNameEXT</span><span class="delimiter">&quot;</span></span>);

    <span class="comment">// Set a name on the image</span>
    <span class="directive">const</span> VkDebugUtilsObjectNameInfoEXT imageNameInfo =
    {
        VK_STRUCTURE_TYPE_DEBUG_UTILS_OBJECT_NAME_INFO_EXT, <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                               <span class="comment">// pNext</span>
        VK_OBJECT_TYPE_IMAGE,                               <span class="comment">// objectType</span>
        (uint64_t)image,                                    <span class="comment">// object</span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Brick Diffuse Texture</span><span class="delimiter">&quot;</span></span>,                            <span class="comment">// pObjectName</span>
    };

    pfnSetDebugUtilsObjectNameEXT(device, &amp;imageNameInfo);

    <span class="comment">// A subsequent error might print:</span>
    <span class="comment">//   Image 'Brick Diffuse Texture' (0xc0dec0dedeadbeef) is used in a</span>
    <span class="comment">//   command buffer with no memory bound to it.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 3</strong></p>
</div>
<div class="paragraph">
<p>Annotating regions of a workload with naming information so that offline
analysis tools can display a more usable visualization of the commands
submitted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="directive">extern</span> VkDevice device;
    <span class="directive">extern</span> VkCommandBuffer commandBuffer;

    <span class="comment">// Must call extension functions through a function pointer:</span>
    PFN_vkQueueBeginDebugUtilsLabelEXT pfnQueueBeginDebugUtilsLabelEXT = (PFN_vkQueueBeginDebugUtilsLabelEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkQueueBeginDebugUtilsLabelEXT</span><span class="delimiter">&quot;</span></span>);
    PFN_vkQueueEndDebugUtilsLabelEXT pfnQueueEndDebugUtilsLabelEXT = (PFN_vkQueueEndDebugUtilsLabelEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkQueueEndDebugUtilsLabelEXT</span><span class="delimiter">&quot;</span></span>);
    PFN_vkCmdBeginDebugUtilsLabelEXT pfnCmdBeginDebugUtilsLabelEXT = (PFN_vkCmdBeginDebugUtilsLabelEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkCmdBeginDebugUtilsLabelEXT</span><span class="delimiter">&quot;</span></span>);
    PFN_vkCmdEndDebugUtilsLabelEXT pfnCmdEndDebugUtilsLabelEXT = (PFN_vkCmdEndDebugUtilsLabelEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkCmdEndDebugUtilsLabelEXT</span><span class="delimiter">&quot;</span></span>);
    PFN_vkCmdInsertDebugUtilsLabelEXT pfnCmdInsertDebugUtilsLabelEXT = (PFN_vkCmdInsertDebugUtilsLabelEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkCmdInsertDebugUtilsLabelEXT</span><span class="delimiter">&quot;</span></span>);

    <span class="comment">// Describe the area being rendered</span>
    <span class="directive">const</span> VkDebugUtilsLabelEXT houseLabel =
    {
        VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT, <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                    <span class="comment">// pNext</span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Brick House</span><span class="delimiter">&quot;</span></span>,                           <span class="comment">// pLabelName</span>
        { <span class="float">1</span><span class="float">.0f</span>, <span class="float">0</span><span class="float">.0f</span>, <span class="float">0</span><span class="float">.0f</span>, <span class="float">1</span><span class="float">.0f</span> },              <span class="comment">// color</span>
    };

    <span class="comment">// Start an annotated group of calls under the 'Brick House' name</span>
    pfnCmdBeginDebugUtilsLabelEXT(commandBuffer, &amp;houseLabel);
    {
        <span class="comment">// A mutable structure for each part being rendered</span>
        VkDebugUtilsLabelEXT housePartLabel =
        {
            VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT, <span class="comment">// sType</span>
            <span class="predefined-constant">NULL</span>,                                    <span class="comment">// pNext</span>
            <span class="predefined-constant">NULL</span>,                                    <span class="comment">// pLabelName</span>
            { <span class="float">0</span><span class="float">.0f</span>, <span class="float">0</span><span class="float">.0f</span>, <span class="float">0</span><span class="float">.0f</span>, <span class="float">0</span><span class="float">.0f</span> },              <span class="comment">// color</span>
        };

        <span class="comment">// Set the name and insert the marker</span>
        housePartLabel.pLabelName = <span class="string"><span class="delimiter">&quot;</span><span class="content">Walls</span><span class="delimiter">&quot;</span></span>;
        pfnCmdInsertDebugUtilsLabelEXT(commandBuffer, &amp;housePartLabel);

        <span class="comment">// Insert the drawcall for the walls</span>
        vkCmdDrawIndexed(commandBuffer, <span class="integer">1000</span>, <span class="integer">1</span>, <span class="integer">0</span>, <span class="integer">0</span>, <span class="integer">0</span>);

        <span class="comment">// Insert a recursive region for two sets of windows</span>
        housePartLabel.pLabelName = <span class="string"><span class="delimiter">&quot;</span><span class="content">Windows</span><span class="delimiter">&quot;</span></span>;
        pfnCmdBeginDebugUtilsLabelEXT(commandBuffer, &amp;housePartLabel);
        {
            vkCmdDrawIndexed(commandBuffer, <span class="integer">75</span>, <span class="integer">6</span>, <span class="integer">1000</span>, <span class="integer">0</span>, <span class="integer">0</span>);
            vkCmdDrawIndexed(commandBuffer, <span class="integer">100</span>, <span class="integer">2</span>, <span class="integer">1450</span>, <span class="integer">0</span>, <span class="integer">0</span>);
        }
        pfnCmdEndDebugUtilsLabelEXT(commandBuffer);

        housePartLabel.pLabelName = <span class="string"><span class="delimiter">&quot;</span><span class="content">Front Door</span><span class="delimiter">&quot;</span></span>;
        pfnCmdInsertDebugUtilsLabelEXT(commandBuffer, &amp;housePartLabel);

        vkCmdDrawIndexed(commandBuffer, <span class="integer">350</span>, <span class="integer">1</span>, <span class="integer">1650</span>, <span class="integer">0</span>, <span class="integer">0</span>);

        housePartLabel.pLabelName = <span class="string"><span class="delimiter">&quot;</span><span class="content">Roof</span><span class="delimiter">&quot;</span></span>;
        pfnCmdInsertDebugUtilsLabelEXT(commandBuffer, &amp;housePartLabel);

        vkCmdDrawIndexed(commandBuffer, <span class="integer">500</span>, <span class="integer">1</span>, <span class="integer">2000</span>, <span class="integer">0</span>, <span class="integer">0</span>);
    }
    <span class="comment">// End the house annotation started above</span>
    pfnCmdEndDebugUtilsLabelEXT(commandBuffer);

    <span class="comment">// Do other work</span>

    vkEndCommandBuffer(commandBuffer);

    <span class="comment">// Describe the queue being used</span>
    <span class="directive">const</span> VkDebugUtilsLabelEXT queueLabel =
    {
        VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT, <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                    <span class="comment">// pNext</span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Main Render Work</span><span class="delimiter">&quot;</span></span>,                      <span class="comment">// pLabelName</span>
        { <span class="float">0</span><span class="float">.0f</span>, <span class="float">1</span><span class="float">.0f</span>, <span class="float">0</span><span class="float">.0f</span>, <span class="float">1</span><span class="float">.0f</span> },              <span class="comment">// color</span>
    };

    <span class="comment">// Identify the queue label region</span>
    pfnQueueBeginDebugUtilsLabelEXT(queue, &amp;queueLabel);

    <span class="comment">// Submit the work for the main render thread</span>
    <span class="directive">const</span> VkCommandBuffer cmd_bufs[] = {commandBuffer};
    VkSubmitInfo submit_info = {.sType = VK_STRUCTURE_TYPE_SUBMIT_INFO,
                                .pNext = <span class="predefined-constant">NULL</span>,
                                .waitSemaphoreCount = <span class="integer">0</span>,
                                .pWaitSemaphores = <span class="predefined-constant">NULL</span>,
                                .pWaitDstStageMask = <span class="predefined-constant">NULL</span>,
                                .commandBufferCount = <span class="integer">1</span>,
                                .pCommandBuffers = cmd_bufs,
                                .signalSemaphoreCount = <span class="integer">0</span>,
                                .pSignalSemaphores = <span class="predefined-constant">NULL</span>};
    vkQueueSubmit(queue, <span class="integer">1</span>, &amp;submit_info, fence);

    <span class="comment">// End the queue label region</span>
    pfnQueueEndDebugUtilsLabelEXT(queue);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_issues_53">Issues</h4>
<div class="paragraph">
<p>1) Should we just name this extension <code>VK_EXT_debug_report2</code></p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
There is enough additional changes to the structures to break backwards
compatibility.
So, a new name was decided that would not indicate any interaction with the
previous extension.</p>
</div>
<div class="paragraph">
<p>2) Will validation layers immediately support all the new features.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Not immediately.
As one can imagine, there is a lot of work involved with converting the
validation layer logging over to the new functionality.
Basic logging, as seen in the origin
<a href="#VK_EXT_debug_report">VK_EXT_debug_report</a> extension will be made available
immediately.
However, adding the labels and object names will take time.
Since the priority for Khronos at this time is to continue focusing on Valid
Usage statements, it may take a while before the new functionality is fully
exposed.</p>
</div>
<div class="paragraph">
<p>3) If the validation layers won’t expose the new functionality immediately,
then what’s the point of this extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We needed a replacement for
<a href="#VK_EXT_debug_report">VK_EXT_debug_report</a> because the
<a href="chap36.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a> enumeration will no longer be updated and
any new objects will need to be debugged using the new functionality
provided by this extension.</p>
</div>
<div class="paragraph">
<p>4) Should this extension be split into two separate parts (1 extension that
is an instance extension providing the callback functionality, and another
device extension providing the general debug marker and annotation
functionality)?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, the functionality for this extension is too closely related.
If we did split up the extension, where would the structures and enums live,
and how would you define that the device behavior in the instance extension
is really only valid if the device extension is enabled, and the
functionality is passed in.
It’s cleaner to just define this all as an instance extension, plus it
allows the application to enable all debug functionality provided with one
enable string during <a href="chap3.html#vkCreateInstance">vkCreateInstance</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_47">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-09-14 (Mark Young and all listed Contributors)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on <a href="#VK_EXT_debug_report">VK_EXT_debug_report</a> and
<a href="#VK_EXT_debug_marker">VK_EXT_debug_marker</a> in addition to previous
feedback supplied from various companies including Valve, Epic, and
Oxide games.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_depth_range_unrestricted">VK_EXT_depth_range_unrestricted</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_depth_range_unrestricted</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>14</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_depth_range_unrestricted:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-06-22</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension removes the <a href="chap25.html#VkViewport">VkViewport</a> <code>minDepth</code> and
<code>maxDepth</code> restrictions that the values must be between <code>0.0</code> and <code>1.0</code>,
inclusive.
It also removes the same restriction on
<a href="chap27.html#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a> <code>minDepthBounds</code> and
<code>maxDepthBounds</code>.
Finally it removes the restriction on the <code>depth</code> value in
<a href="chap18.html#VkClearDepthStencilValue">VkClearDepthStencilValue</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_48">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_60">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_52">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_45">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_55">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_54">Issues</h4>
<div class="paragraph">
<p>1) How do <a href="chap25.html#VkViewport">VkViewport</a> <code>minDepth</code> and <code>maxDepth</code> values outside
of the <code>0.0</code> to <code>1.0</code> range interact with
<a href="chap25.html#vertexpostproc-clipping">Primitive Clipping</a>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The behavior described in <a href="chap25.html#vertexpostproc-clipping">Primitive
Clipping</a> still applies.
If depth clamping is disabled the depth values are still clipped to <span class="eq">0
≤ z<sub>c</sub> ≤ w<sub>c</sub></span> before the viewport transform.
If depth clamping is enabled the above equation is ignored and the depth
values are instead clamped to the <a href="chap25.html#VkViewport">VkViewport</a> <code>minDepth</code> and
<code>maxDepth</code> values, which in the case of this extension can be outside of
the <code>0.0</code> to <code>1.0</code> range.</p>
</div>
<div class="paragraph">
<p>2) What happens if a resulting depth fragment is outside of the <code>0.0</code> to
<code>1.0</code> range and the depth buffer is fixed-point rather than floating-point?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The supported range of a fixed-point depth buffer is <code>0.0</code> to
<code>1.0</code> and depth fragments are clamped to this range.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_48">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-06-22 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_descriptor_indexing">VK_EXT_descriptor_indexing</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_descriptor_indexing</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>162</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_maintenance3">VK_KHR_maintenance3</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_descriptor_indexing:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Status</strong></dt>
<dd>
<p>Complete</p>
</dd>
<dt class="hdlist1"><strong>Last Modified Data</strong></dt>
<dd>
<p>2017-10-02</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds several small features which together enable
applications to create large descriptor sets containing substantially all of
their resources, and selecting amongst those resources with dynamic
(non-uniform) indexes in the shader.
There are feature enables and SPIR-V capabilities for non-uniform descriptor
indexing in the shader, and non-uniform indexing in the shader requires use
of a new <code>NonUniformEXT</code> decoration defined in the
SPV_EXT_descriptor_indexing SPIR-V extension.
There are descriptor set layout binding creation flags enabling several
features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Descriptors can be updated after they are bound to a command buffer,
such that the execution of the command buffer reflects the most recent
update to the descriptors.</p>
</li>
<li>
<p>Descriptors that are not used by any pending command buffers can be
updated, which enables writing new descriptors for frame N+1 while frame
N is executing.</p>
</li>
<li>
<p>Relax the requirement that all descriptors in a binding that is
“statically used” must be valid, such that descriptors that are not
accessed by a submission need not be valid and can be updated while that
submission is executing.</p>
</li>
<li>
<p>The final binding in a descriptor set layout can have a variable size
(and unsized arrays of resources are allowed in the
GL_EXT_nonuniform_qualifier and SPV_EXT_descriptor_indexing
extensions).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that it is valid for multiple descriptor arrays in a shader to use the
same set and binding number, as long as they are all compatible with the
descriptor type in the pipeline layout.
This means a single array binding in the descriptor set can serve multiple
texture dimensionalities, or an array of buffer descriptors can be used with
multiple different block layouts.</p>
</div>
<div class="paragraph">
<p>There are new descriptor set layout and descriptor pool creation flags that
are required to opt in to the update-after-bind functionality, and there are
separate <code>maxPerStage</code>* and <code>maxDescriptorSet</code>* limits that apply to
these descriptor set layouts which <strong class="purple">may</strong> be much higher than the pre-existing
limits.
The old limits only count descriptors in non-updateAfterBind descriptor set
layouts, and the new limits count descriptors in all descriptor set layouts
in the pipeline layout.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_49">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_61">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_BINDING_FLAGS_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DESCRIPTOR_INDEXING_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DESCRIPTOR_INDEXING_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_VARIABLE_DESCRIPTOR_COUNT_ALLOCATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_VARIABLE_DESCRIPTOR_COUNT_LAYOUT_SUPPORT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap13.html#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap13.html#VkDescriptorSetLayoutCreateFlagBits">VkDescriptorSetLayoutCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_FRAGMENTATION_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_53">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#VkDescriptorBindingFlagBitsEXT">VkDescriptorBindingFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_46">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap13.html#VkDescriptorSetLayoutBindingFlagsCreateInfoEXT">VkDescriptorSetLayoutBindingFlagsCreateInfoEXT</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceDescriptorIndexingFeaturesEXT">VkPhysicalDeviceDescriptorIndexingFeaturesEXT</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceDescriptorIndexingPropertiesEXT">VkPhysicalDeviceDescriptorIndexingPropertiesEXT</a></p>
</li>
<li>
<p><a href="chap13.html#VkDescriptorSetVariableDescriptorCountAllocateInfoEXT">VkDescriptorSetVariableDescriptorCountAllocateInfoEXT</a></p>
</li>
<li>
<p><a href="chap13.html#VkDescriptorSetVariableDescriptorCountLayoutSupportEXT">VkDescriptorSetVariableDescriptorCountLayoutSupportEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_56">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_55">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_49">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-07-26 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_direct_mode_display">VK_EXT_direct_mode_display</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_direct_mode_display</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>89</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_display">VK_KHR_display</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_direct_mode_display:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Damien Leone, NVIDIA</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Liam Middlebrook, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This is extension, along with related platform exentions, allows
applications to take exclusive control of displays associated with a native
windowing system.
This is especially useful for virtual reality applications that wish to hide
HMDs (head mounted displays) from the native platform’s display management
system, desktop, and/or other applications.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_62">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_54">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_47">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_57">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkReleaseDisplayEXT">vkReleaseDisplayEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_56">Issues</h4>
<div class="paragraph">
<p>1) Should this extension and its related platform-specific extensions
leverage <code><a href="#VK_KHR_display">VK_KHR_display</a></code>, or provide separate equivalent interfaces.</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Use <code><a href="#VK_KHR_display">VK_KHR_display</a></code> concepts and objects.
<code><a href="#VK_KHR_display">VK_KHR_display</a></code> can be used to enumerate all displays on the system,
including those attached to/in use by a window system or native platform,
but <code><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code> will fail to create a swapchain on in-use
displays.
This extension and its platform-specific children will allow applications to
grab in-use displays away from window systems and/or native platforms,
allowing them to be used with <code><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code>.</p>
</div>
<div class="paragraph">
<p>2) Are separate calls needed to acquire displays and enable direct mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, these operations happen in one combined command.
Acquiring a display puts it into direct mode.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_50">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_discard_rectangles">VK_EXT_discard_rectangles</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_discard_rectangles</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>100</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_discard_rectangles:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-22</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with VK_KHR_device_group</p>
</li>
<li>
<p>Interacts with Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides additional orthogonally aligned “discard
rectangles” specified in framebuffer-space coordinates that restrict
rasterization of all points, lines and triangles.</p>
</div>
<div class="paragraph">
<p>From zero to an implementation-dependent limit (specified by
<code>maxDiscardRectangles</code>) number of discard rectangles can be operational
at once.
When one or more discard rectangles are active, rasterized fragments can
either survive if the fragment is within any of the operational discard
rectangles (<code>VK_DISCARD_RECTANGLE_MODE_INCLUSIVE_EXT</code> mode) or be
rejected if the fragment is within any of the operational discard rectangles
(<code>VK_DISCARD_RECTANGLE_MODE_EXCLUSIVE_EXT</code> mode).</p>
</div>
<div class="paragraph">
<p>These discard rectangles operate orthogonally to the existing scissor test
functionality.
The discard rectangles can be different for each physical device in a device
group by specifying the device mask and setting discard rectangle dynamic
state.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_50">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_63">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_DISCARD_RECTANGLE_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_DISCARD_RECTANGLE_STATE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkDynamicState">VkDynamicState</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_55">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#VkPipelineDiscardRectangleStateCreateFlagsEXT">VkPipelineDiscardRectangleStateCreateFlagsEXT</a></p>
</li>
<li>
<p><a href="chap27.html#VkDiscardRectangleModeEXT">VkDiscardRectangleModeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_48">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT">VkPhysicalDeviceDiscardRectanglePropertiesEXT</a></p>
</li>
<li>
<p><a href="chap27.html#VkPipelineDiscardRectangleStateCreateInfoEXT">VkPipelineDiscardRectangleStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_58">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#vkCmdSetDiscardRectangleEXT">vkCmdSetDiscardRectangleEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_57">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_51">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-22 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_display_control">VK_EXT_display_control</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_display_control</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>92</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_EXT_display_surface_counter">VK_EXT_display_surface_counter</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_display_control:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Damien Leone, NVIDIA</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Daniel Vetter, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension defines a set of utility functions for use with the
<code><a href="#VK_KHR_display">VK_KHR_display</a></code> and <code><a href="#VK_KHR_display_swapchain">VK_KHR_display_swapchain</a></code> extensions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_64">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_POWER_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_EVENT_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DISPLAY_EVENT_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SWAPCHAIN_COUNTER_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_56">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkDisplayPowerStateEXT">VkDisplayPowerStateEXT</a></p>
</li>
<li>
<p><a href="chap6.html#VkDeviceEventTypeEXT">VkDeviceEventTypeEXT</a></p>
</li>
<li>
<p><a href="chap6.html#VkDisplayEventTypeEXT">VkDisplayEventTypeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_49">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkDisplayPowerInfoEXT">VkDisplayPowerInfoEXT</a></p>
</li>
<li>
<p><a href="chap6.html#VkDeviceEventInfoEXT">VkDeviceEventInfoEXT</a></p>
</li>
<li>
<p><a href="chap6.html#VkDisplayEventInfoEXT">VkDisplayEventInfoEXT</a></p>
</li>
<li>
<p><a href="chap32.html#VkSwapchainCounterCreateInfoEXT">VkSwapchainCounterCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_59">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkDisplayPowerControlEXT">vkDisplayPowerControlEXT</a></p>
</li>
<li>
<p><a href="chap6.html#vkRegisterDeviceEventEXT">vkRegisterDeviceEventEXT</a></p>
</li>
<li>
<p><a href="chap6.html#vkRegisterDisplayEventEXT">vkRegisterDisplayEventEXT</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetSwapchainCounterEXT">vkGetSwapchainCounterEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_58">Issues</h4>
<div class="paragraph">
<p>1) Should this extension add an explicit “WaitForVsync” API or a fence
signaled at vsync that the application can wait on?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: A fence.
A separate API could later be provided that allows exporting the fence to a
native object that could be inserted into standard run loops on POSIX and
Windows systems.</p>
</div>
<div class="paragraph">
<p>2) Should callbacks be added for a vsync event, or in general to monitor
events in Vulkan?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, fences should be used.
Some events are generated by interrupts which are managed in the kernel.
In order to use a callback provided by the application, drivers would need
to have the userspace driver spawn threads that would wait on the kernel
event, and hence the callbacks could be difficult for the application to
synchronize with its other work given they would arrive on a foreign thread.</p>
</div>
<div class="paragraph">
<p>3) Should vblank or scanline events be exposed?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Vblank events.
Scanline events could be added by a separate extension, but the latency of
processing an interrupt and waking up a userspace event is high enough that
the accuracy of a scanline event would be rather low.
Further, per-scanline interrupts are not supported by all hardware.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_52">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_display_surface_counter">VK_EXT_display_surface_counter</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_display_surface_counter</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>91</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_display">VK_KHR_display</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_display_surface_counter:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Damien Leone, NVIDIA</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Daniel Vetter, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This is extension defines a vertical blanking period counter associated with
display surfaces.
It provides a mechanism to query support for such a counter from a
<a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> object.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_65">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SURFACE_CAPABILITIES_2_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_57">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkSurfaceCounterFlagsEXT">VkSurfaceCounterFlagsEXT</a></p>
</li>
<li>
<p><a href="chap32.html#VkSurfaceCounterFlagBitsEXT">VkSurfaceCounterFlagBitsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_50">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkSurfaceCapabilities2EXT">VkSurfaceCapabilities2EXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_60">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkGetPhysicalDeviceSurfaceCapabilities2EXT">vkGetPhysicalDeviceSurfaceCapabilities2EXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_59">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_53">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-13 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_external_memory_dma_buf">VK_EXT_external_memory_dma_buf</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_external_memory_dma_buf</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>126</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory_fd">VK_KHR_external_memory_fd</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Chad Versace <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_external_memory_dma_buf:%20&amp;body=@chadversary%20"><span class="icon black"><i class="fa fa-github"></i></span>chadversary</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Chad Versace, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A dma_buf is a type of file descriptor, defined by the Linux kernel, that
allows sharing memory across kernel device drivers and across processes.
This extension enables applications to import a dma_buf as
<a href="chap10.html#VkDeviceMemory">VkDeviceMemory</a>; to export <a href="chap10.html#VkDeviceMemory">VkDeviceMemory</a> as a dma_buf; and to
create <a href="chap11.html#VkBuffer">VkBuffer</a> objects that <strong class="purple">can</strong> be bound to that memory.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_66">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap35.html#VkExternalMemoryHandleTypeFlagBitsKHR">VkExternalMemoryHandleTypeFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_DMA_BUF_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_60">Issues</h4>
<div class="paragraph">
<p>1.
   How does the application, when creating a <a href="chap11.html#VkImage">VkImage</a> that it intends
   to bind to dma_buf <a href="chap10.html#VkDeviceMemory">VkDeviceMemory</a> that contains an externally
   produced image, specify the memory layout (such as row pitch and DRM
   format modifier) of the <a href="chap11.html#VkImage">VkImage</a>? In other words, how does the
   application achieve behavior comparable to that provided by
   <a href="https://www.khronos.org/registry/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import.txt">EGL_EXT_image_dma_buf_import</a>
   and
   <a href="https://www.khronos.org/registry/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import_modifiers.txt">EGL_EXT_image_dma_buf_import_modifiers</a>?</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>.
Features comparable to those in
<a href="https://www.khronos.org/registry/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import.txt">EGL_EXT_image_dma_buf_import</a>
and
<a href="https://www.khronos.org/registry/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import_modifiers.txt">EGL_EXT_image_dma_buf_import_modifiers</a>
will be provided by an extension layered atop this one.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>2.
   Without the ability to specify the memory layout of external dma_buf
   images, how is this extension useful?</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>.
This extension provides exactly one new feature: the ability to
import/export between dma_bufs and <a href="chap10.html#VkDeviceMemory">VkDeviceMemory</a>.
This feature, together with features provided by
<code><a href="#VK_KHR_external_memory_fd">VK_KHR_external_memory_fd</a></code>, is sufficient to bind a <a href="chap11.html#VkBuffer">VkBuffer</a> to
dma_buf.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_54">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-10-10 (Chad Versace)</p>
<div class="ulist">
<ul>
<li>
<p>Squashed internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_external_memory_host">VK_EXT_external_memory_host</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_external_memory_host</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>179</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_external_memory_host:%20&amp;body=@drakos-amd%20"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-11-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jaakko Konttinen, AMD</p>
</li>
<li>
<p>David Mao, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension enables an application to import host allocations and host
mapped foreign device memory to Vulkan memory objects.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_51">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_67">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_HOST_POINTER_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_HOST_POINTER_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_MEMORY_HOST_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap35.html#VkExternalMemoryHandleTypeFlagBitsKHR">VkExternalMemoryHandleTypeFlagBitsKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_ALLOCATION_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_HOST_MAPPED_FOREIGN_MEMORY_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_58">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_15">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkImportMemoryHostPointerInfoEXT">VkImportMemoryHostPointerInfoEXT</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryHostPointerPropertiesEXT">VkMemoryHostPointerPropertiesEXT</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceExternalMemoryHostPropertiesEXT">VkPhysicalDeviceExternalMemoryHostPropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_61">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#vkGetMemoryHostPointerPropertiesEXT">vkGetMemoryHostPointerPropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_61">Issues</h4>
<div class="paragraph">
<p>1) What memory type has to be used to import host pointers?</p>
</div>
<div class="paragraph">
<p>RESOLVED: Depends on the implementation.
Applications have to use the new <a href="chap10.html#vkGetMemoryHostPointerPropertiesEXT">vkGetMemoryHostPointerPropertiesEXT</a>
command to query the supported memory types for a particular host pointer.
The reported memory types may include memory types that come from a memory
heap that is otherwise not usable for regular memory object allocation and
thus such a heap’s size may be zero.</p>
</div>
<div class="paragraph">
<p>2) Can the application still access the contents of the host allocation
after importing?</p>
</div>
<div class="paragraph">
<p>RESOLVED: Yes.
However, usual synchronization requirements apply.</p>
</div>
<div class="paragraph">
<p>3) Can the application free the host allocation?</p>
</div>
<div class="paragraph">
<p>RESOLVED: No, it violates valid usage conditions.
Using the memory object imported from a host allocation that’s already freed
thus results in undefined behavior.</p>
</div>
<div class="paragraph">
<p>4) Is <a href="chap10.html#vkMapMemory">vkMapMemory</a> expected to return the same host address which was
specified when importing it to the memory object?</p>
</div>
<div class="paragraph">
<p>RESOLVED: No.
Implementations are allowed to return the same address but it’s not
required.
Some implementations might return a different virtual mapping of the
allocation, although the same physical pages will be used.</p>
</div>
<div class="paragraph">
<p>5) Is there any limitation on the alignment of the host pointer and/or size?</p>
</div>
<div class="paragraph">
<p>RESOLVED: Yes.
Both the address and the size have to be an integer multiple of
<code>minImportedHostPointerAlignment</code>.
In addition, some platforms and foreign devices may have additional
restrictions.</p>
</div>
<div class="paragraph">
<p>6) Can the same host allocation be imported multiple times into a given
physical device?</p>
</div>
<div class="paragraph">
<p>RESOLVED: No, at least not guaranteed by this extension.
Some platforms do not allow locking the same physical pages for device
access multiple times, so attempting to do it may result in undefined
behavior.</p>
</div>
<div class="paragraph">
<p>7) Does this extension support exporting the new handle type?</p>
</div>
<div class="paragraph">
<p>RESOLVED: No.</p>
</div>
<div class="paragraph">
<p>8) Should we include the possibility to import host mapped foreign device
memory using this API?</p>
</div>
<div class="paragraph">
<p>RESOLVED: Yes, through a separate handle type.
Implementations are still allowed to support only one of the handle types
introduced by this extension by not returning import support for a
particular handle type as returned in <a href="chap35.html#VkExternalMemoryPropertiesKHR">VkExternalMemoryPropertiesKHR</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_55">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-11-10 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_fragment_density_map">VK_EXT_fragment_density_map</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_fragment_density_map</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>219</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthew Netsch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_fragment_density_map:%20&amp;body=@mnetsch%20"><span class="icon black"><i class="fa fa-github"></i></span>mnetsch</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-25</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/EXT/SPV_EXT_fragment_invocation_density.html">SPV_EXT_fragment_invocation_density</a>
SPIR-V extension.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Robert VanReenen, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jonathan Wicks, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Tate Hornbeck, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Sam Holmes, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jeff Leger, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows an application to specify areas of the render target
where the fragment shader may be invoked fewer times.
These fragments are broadcasted out to multiple pixels to cover the render
target.</p>
</div>
<div class="paragraph">
<p>The primary use of this extension is to reduce workloads in areas where
lower quality may not be perceived such as the distorted edges of a lens or
the periphery of a user’s gaze.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_52">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_68">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap6.html#VkAccessFlagBits">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_FRAGMENT_DENSITY_MAP_READ_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap35.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_FRAGMENT_DENSITY_MAP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_SUBSAMPLED_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_FRAGMENT_DENSITY_MAP_OPTIMAL_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_FRAGMENT_DENSITY_MAP_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageViewCreateFlagBits">VkImageViewCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_VIEW_CREATE_FRAGMENT_DENSITY_MAP_DYNAMIC_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_FRAGMENT_DENSITY_PROCESS_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap12.html#VkSamplerCreateFlagBits">VkSamplerCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SAMPLER_CREATE_SUBSAMPLED_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_SAMPLER_CREATE_SUBSAMPLED_COARSE_RECONSTRUCTION_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_DENSITY_MAP_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_DENSITY_MAP_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_FRAGMENT_DENSITY_MAP_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_59">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_51">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceFragmentDensityMapFeaturesEXT">VkPhysicalDeviceFragmentDensityMapFeaturesEXT</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceFragmentDensityMapPropertiesEXT">VkPhysicalDeviceFragmentDensityMapPropertiesEXT</a></p>
</li>
<li>
<p><a href="chap7.html#VkRenderPassFragmentDensityMapCreateInfoEXT">VkRenderPassFragmentDensityMapCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_62">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_or_modified_built_in_variables">New or Modified Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-fraginvocationcount"><code>FragInvocationCountEXT</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-fragsize"><code>FragSizeEXT</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_variable_decorations">New Variable Decorations</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_10">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-fragmentdensity">FragmentDensityEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_56">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-09-25 (Matthew Netsch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_global_priority">VK_EXT_global_priority</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_global_priority</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>175</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andres Rodriguez <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_global_priority:%20&amp;body=@lostgoat%20"><span class="icon black"><i class="fa fa-github"></i></span>lostgoat</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Andres Rodriguez, Valve</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Mitch Singer, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In Vulkan, users can specify device-scope queue priorities.
In some cases it may be useful to extend this concept to a system-wide
scope.
This extension provides a mechanism for caller’s to set their system-wide
priority.
The default queue priority is <code>VK_QUEUE_GLOBAL_PRIORITY_MEDIUM_EXT</code>.</p>
</div>
<div class="paragraph">
<p>The driver implementation will attempt to skew hardware resource allocation
in favour of the higher-priority task.
Therefore, higher-priority work may retain similar latency and throughput
characteristics even if the system is congested with lower priority work.</p>
</div>
<div class="paragraph">
<p>The global priority level of a queue shall take predence over the
per-process queue priority
(<code>VkDeviceQueueCreateInfo</code>::<code>pQueuePriorities</code>).</p>
</div>
<div class="paragraph">
<p>Abuse of this feature may result in starving the rest of the system from
hardware resources.
Therefore, the driver implementation may deny requests to acquire a priority
above the default priority (<code>VK_QUEUE_GLOBAL_PRIORITY_MEDIUM_EXT</code>) if
the caller does not have sufficient privileges.
In this scenario <code>VK_ERROR_NOT_PERMITTED_EXT</code> is returned.</p>
</div>
<div class="paragraph">
<p>The driver implementation may fail the queue allocation request if resources
required to complete the operation have been exhausted (either by the same
process or a different process).
In this scenario <code>VK_ERROR_INITIALIZATION_FAILED</code> is returned.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_53">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_69">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_QUEUE_GLOBAL_PRIORITY_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_NOT_PERMITTED_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_60">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkQueueGlobalPriorityEXT">VkQueueGlobalPriorityEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_52">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkDeviceQueueGlobalPriorityCreateInfoEXT">VkDeviceQueueGlobalPriorityCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_63">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_62">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_57">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2017-11-03 (Andres Rodriguez)</p>
<div class="ulist">
<ul>
<li>
<p>Fixed VkQueueGlobalPriorityEXT missing _EXT suffix</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2017-10-06 (Andres Rodriguez)</p>
<div class="ulist">
<ul>
<li>
<p>First version.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_hdr_metadata">VK_EXT_hdr_metadata</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_hdr_metadata</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>106</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_hdr_metadata:%20&amp;body=@courtney-g%20"><span class="icon black"><i class="fa fa-github"></i></span>courtney-g</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-04</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension defines two new structures and a function to assign SMPTE
(the Society of Motion Picture and Television Engineers) 2086 metadata and
CTA (Consumer Technology Association) 861.3 metadata to a swapchain.
The metadata includes the color primaries, white point, and luminance range
of the mastering display, which all together define the color volume that
contains all the possible colors the mastering display can produce.
The mastering display is the display where creative work is done and
creative intent is established.
To preserve such creative intent as much as possible and achieve consistent
color reproduction on different viewing displays, it is useful for the
display pipeline to know the color volume of the original mastering display
where content was created or tuned.
This avoids performing unnecessary mapping of colors that are not
displayable on the original mastering display.
The metadata also includes the <code>maxContentLightLevel</code> and
<code>maxFrameAverageLightLevel</code> as defined by CTA 861.3.</p>
</div>
<div class="paragraph">
<p>While the general purpose of the metadata is to assist in the transformation
between different color volumes of different displays and help achieve
better color reproduction, it is not in the scope of this extension to
define how exactly the metadata should be used in such a process.
It is up to the implementation to determine how to make use of the metadata.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_70">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_HDR_METADATA_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_53">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkXYColorEXT">VkXYColorEXT</a></p>
</li>
<li>
<p><a href="chap32.html#VkHdrMetadataEXT">VkHdrMetadataEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_64">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkSetHdrMetadataEXT">vkSetHdrMetadataEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_63">Issues</h4>
<div class="paragraph">
<p>1) Do we need a query function?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED</strong>: No, Vulkan does not provide queries for state that the
application can track on its own.</p>
</div>
<div class="paragraph">
<p>2) Should we specify default if not specified by the application?</p>
</div>
<div class="paragraph">
<p><strong>PROPOSED</strong>: No, that leaves the default up to the display.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_58">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-27 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_image_drm_format_modifier">VK_EXT_image_drm_format_modifier</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_image_drm_format_modifier</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>159</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_bind_memory2">VK_KHR_bind_memory2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_image_format_list">VK_KHR_image_format_list</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Chad Versace <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_image_drm_format_modifier:%20&amp;body=@chadversary%20"><span class="icon black"><i class="fa fa-github"></i></span>chadversary</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-08-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Antoine Labour, Google</p>
</li>
<li>
<p>Bas Nieuwenhuizen, Google</p>
</li>
<li>
<p>Chad Versace, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jőrg Wagner, ARM</p>
</li>
<li>
<p>Kristian Høgsberg Kristensen, Google</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_overview">Overview</h4>
<div class="sect4">
<h5 id="_summary">Summary</h5>
<div class="paragraph">
<p>This extension provides the ability to use <em>DRM format modifiers</em> with
images, enabling Vulkan to better integrate with the Linux ecosystem of
graphics, video, and display APIs.</p>
</div>
<div class="paragraph">
<p>Its functionality closely overlaps with
<code>EGL_EXT_image_dma_buf_import_modifiers</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn2">2</a></sup>
and
<code>EGL_MESA_image_dma_buf_export</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn3">3</a></sup>.
Unlike the EGL extensions, this extension does not require the use of a
specific handle type (such as a dma_buf) for external memory and provides
more explicit control of image creation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_introduction_to_drm_format_modifiers">Introduction to DRM Format Modifiers</h5>
<div class="paragraph">
<p>A <em>DRM format modifier</em> is a 64-bit, vendor-prefixed, semi-opaque unsigned
integer.
Most <em>modifiers</em> represent a concrete, vendor-specific tiling format for
images.
Some exceptions are <code>DRM_FORMAT_MOD_LINEAR</code> (which is not
vendor-specific); <code>DRM_FORMAT_MOD_NONE</code> (which is an alias of
<code>DRM_FORMAT_MOD_LINEAR</code> due to historical accident); and
<code>DRM_FORMAT_MOD_INVALID</code> (which does not represent a tiling format).
The <em>modifier’s</em> vendor prefix consists of the 8 most significant bits.
The canonical list of <em>modifiers</em> and vendor prefixes is found in
<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/uapi/drm/drm_fourcc.h"><code>drm_fourcc.h</code></a>
in the Linux kernel source.
The other dominant source of <em>modifiers</em> are vendor kernel trees.</p>
</div>
<div class="paragraph">
<p>One goal of <em>modifiers</em> in the Linux ecosystem is to enumerate for each
vendor a reasonably sized set of tiling formats that are appropriate for
images shared across processes, APIs, and/or devices, where each
participating component may possibly be from different vendors.
A non-goal is to enumerate all tiling formats supported by all vendors.
Some tiling formats used internally by vendors are inappropriate for
sharing; no <em>modifiers</em> should be assigned to such tiling formats.</p>
</div>
<div class="paragraph">
<p>Modifier values typically do not <em>describe</em> memory layouts.
More precisely, a <em>modifier</em>'s lower 56 bits usually have no structure.
Instead, modifiers <em>name</em> memory layouts; they name a small set of
vendor-preferred layouts for image sharing.
As a consequence, in each vendor namespace the modifier values are often
sequentially allocated starting at 1.</p>
</div>
<div class="paragraph">
<p>Each <em>modifier</em> is usually supported by a single vendor and its name matches
the pattern <code>{VENDOR}_FORMAT_MOD_*</code> or <code>DRM_FORMAT_MOD_{VENDOR}_*</code>.
Examples are <code>I915_FORMAT_MOD_X_TILED</code> and
<code>DRM_FORMAT_MOD_BROADCOM_VC4_T_TILED</code>.
An exception is <code>DRM_FORMAT_MOD_LINEAR</code>, which is supported by most
vendors.</p>
</div>
<div class="paragraph">
<p>Many APIs in Linux use <em>modifiers</em> to negotiate and specify the memory
layout of shared images.
For example, a Wayland compositor and Wayland client may, by relaying
<em>modifiers</em> over the Wayland protocol <code>zwp_linux_dmabuf_v1</code>, negotiate a
vendor-specific tiling format for a shared <code>wl_buffer</code>.
The client may allocate the underlying memory for the <code>wl_buffer</code> with
GBM, providing the chosen <em>modifier</em> to <code>gbm_bo_create_with_modifiers</code>.
The client may then import the <code>wl_buffer</code> into Vulkan for producing
image content, providing the resource’s dma_buf to
<a href="chap10.html#VkImportMemoryFdInfoKHR">VkImportMemoryFdInfoKHR</a> and its <em>modifier</em> to
<a href="chap11.html#VkImageDrmFormatModifierExplicitCreateInfoEXT">VkImageDrmFormatModifierExplicitCreateInfoEXT</a>.
The compositor may then import the <code>wl_buffer</code> into OpenGL for sampling,
providing the resource’s dma_buf and <em>modifier</em> to <code>eglCreateImage</code>.
The compositor may also bypass OpenGL and submit the <code>wl_buffer</code> directly
to the kernel’s display API, providing the dma_buf and <em>modifier</em> through
<code>drm_mode_fb_cmd2</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_format_translation">Format Translation</h5>
<div class="paragraph">
<p><em>Modifier</em>-capable APIs often pair <em>modifiers</em> with DRM formats, which are
defined in
<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/uapi/drm/drm_fourcc.h"><code>drm_fourcc.h</code></a>.
However, <code>VK_EXT_image_drm_format_modifier</code> uses <a href="chap35.html#VkFormat">VkFormat</a> instead of
DRM formats.
The application must convert between <a href="chap35.html#VkFormat">VkFormat</a> and DRM format when it
sends or receives a DRM format to or from an external API.</p>
</div>
<div class="paragraph">
<p>The mapping from <a href="chap35.html#VkFormat">VkFormat</a> to DRM format is lossy.
Therefore, when receiving a DRM format from an external API, often the
application must use information from the external API to accurately map the
DRM format to a <a href="chap35.html#VkFormat">VkFormat</a>.
For example, DRM formats do not distinguish between RGB and sRGB (as of
2018-03-28); external information is required to identify the image’s
colorspace.</p>
</div>
<div class="paragraph">
<p>The mapping between <a href="chap35.html#VkFormat">VkFormat</a> and DRM format is also incomplete.
For some DRM formats there exist no corresponding Vulkan format, and for
some Vulkan formats there exist no corresponding DRM format.</p>
</div>
</div>
<div class="sect4">
<h5 id="_usage_patterns">Usage Patterns</h5>
<div class="paragraph">
<p>Three primary usage patterns are intended for this extension:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Negotiation.</strong> The application negotiates with <em>modifier</em>-aware,
external components to determine sets of image creation parameters
supported among all components.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In the Linux ecosystem, the negotiation usually assumes the image is a 2D,
single-sampled, non-mipmapped, non-array image; this extension permits that
assumption but does not require it.
The result of the negotiation usually resembles a set of tuples such as
<em>(drmFormat, drmFormatModifier)</em>, where each participating component
supports all tuples in the set.</p>
</div>
<div class="paragraph">
<p>Many details of this negotiation—such as the protocol used during
negotiation, the set of image creation parameters expressable in the
protocol, and how the protocol chooses which process and which API will
create the image—are outside the scope of this specification.</p>
</div>
<div class="paragraph">
<p>In this extension, <a href="#vkGetPhysicalDeviceFormatProperties2">vkGetPhysicalDeviceFormatProperties2</a> with
<a href="chap35.html#VkDrmFormatModifierPropertiesListEXT">VkDrmFormatModifierPropertiesListEXT</a> serves a primary role during the
negotiation, and <a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a> with
<a href="chap35.html#VkPhysicalDeviceImageDrmFormatModifierInfoEXT">VkPhysicalDeviceImageDrmFormatModifierInfoEXT</a> serves a secondary role.</p>
</div>
</div>
</div>
</li>
<li>
<p><strong>Import.</strong> The application imports an image with a <em>modifier</em>.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In this pattern, the application receives from an external source the
image’s memory and its creation parameters, which are often the result of
the negotiation described above.
Some image creation parameters are implicitly defined by the external
source; for example, <code>VK_IMAGE_TYPE_2D</code> is often assumed.
Some image creation parameters are usually explicit, such as the image’s
<code>format</code>, <code>drmFormatModifier</code>, and <code>extent</code>; and each plane’s
<code>offset</code> and <code>rowPitch</code>.</p>
</div>
<div class="paragraph">
<p>Before creating the image, the application first verifies that the physical
device supports the received creation parameters by querying
<a href="#vkGetPhysicalDeviceFormatProperties2">vkGetPhysicalDeviceFormatProperties2</a> with
<a href="chap35.html#VkDrmFormatModifierPropertiesListEXT">VkDrmFormatModifierPropertiesListEXT</a> and
<a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a> with
<a href="chap35.html#VkPhysicalDeviceImageDrmFormatModifierInfoEXT">VkPhysicalDeviceImageDrmFormatModifierInfoEXT</a>.
Then the application creates the image by chaining
<a href="chap11.html#VkImageDrmFormatModifierExplicitCreateInfoEXT">VkImageDrmFormatModifierExplicitCreateInfoEXT</a> and
<a href="chap11.html#VkExternalMemoryImageCreateInfo">VkExternalMemoryImageCreateInfo</a> onto <a href="chap11.html#VkImageCreateInfo">VkImageCreateInfo</a>.</p>
</div>
</div>
</div>
</li>
<li>
<p><strong>Export.</strong> The application creates an image and allocates its memory.
Then the application exports to <em>modifier</em>-aware consumers the image’s
memory handles; its creation parameters; its <em>modifier</em>; and the
<a href="chap11.html#VkSubresourceLayout"><code>offset</code></a>,
<a href="chap11.html#VkSubresourceLayout"><code>size</code></a>, and
<a href="chap11.html#VkSubresourceLayout"><code>rowPitch</code></a> of each <em>memory plane</em>.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In this pattern, the Vulkan device is the authority for the image; it is the
allocator of the image’s memory and the decider of the image’s creation
parameters.
When choosing the image’s creation parameters, the application usually
chooses a tuple <em>(format, drmFormatModifier)</em> from the result of the
negotiation described above.
The negotiation’s result often contains multiple tuples that share the same
format but differ in their <em>modifier</em>.
In this case, the application should defer the choice of the image’s
<em>modifier</em> to the Vulkan implementation by providing all such <em>modifiers</em> to
<a href="chap11.html#VkImageDrmFormatModifierListCreateInfoEXT">VkImageDrmFormatModifierListCreateInfoEXT</a>::<code>pDrmFormatModifiers</code>;
and the implementation should choose from <code>pDrmFormatModifiers</code> the
optimal <em>modifier</em> in consideration with the other image parameters.</p>
</div>
<div class="paragraph">
<p>The application creates the image by chaining
<a href="chap11.html#VkImageDrmFormatModifierListCreateInfoEXT">VkImageDrmFormatModifierListCreateInfoEXT</a> and
<a href="chap11.html#VkExternalMemoryImageCreateInfo">VkExternalMemoryImageCreateInfo</a> onto <a href="chap11.html#VkImageCreateInfo">VkImageCreateInfo</a>.
The protocol and APIs by which the application will share the image with
external consumers will likely determine the value of
<a href="chap11.html#VkExternalMemoryImageCreateInfo">VkExternalMemoryImageCreateInfo</a>::<code>handleTypes</code>.
The implementation chooses for the image an optimal <em>modifier</em> from
<a href="chap11.html#VkImageDrmFormatModifierListCreateInfoEXT">VkImageDrmFormatModifierListCreateInfoEXT</a>::<code>pDrmFormatModifiers</code>.
The application then queries the implementation-chosen <em>modifier</em> with
<a href="chap11.html#vkGetImageDrmFormatModifierPropertiesEXT">vkGetImageDrmFormatModifierPropertiesEXT</a>, and queries the memory
layout of each plane with <a href="chap11.html#vkGetImageSubresourceLayout">vkGetImageSubresourceLayout</a>.</p>
</div>
<div class="paragraph">
<p>The application then allocates the image’s memory with
<a href="chap10.html#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a>, adding chained extension structures for external
memory; binds it to the image; and exports the memory, for example, with
<a href="chap10.html#vkGetMemoryFdKHR">vkGetMemoryFdKHR</a>.</p>
</div>
<div class="paragraph">
<p>Finally, the application sends the image’s creation parameters, its
<em>modifier</em>, its per-plane memory layout, and the exported memory handle to
the external consumers.
The details of how the application transmits this information to external
consumers is outside the scope of this specification.</p>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_prior_art">Prior Art</h5>
<div class="paragraph">
<p>Extension
<code>EGL_EXT_image_dma_buf_import</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn1">1</a></sup>
introduced the ability to create an <code>EGLImage</code> by importing for each
plane a dma_buf, offset, and row pitch.</p>
</div>
<div class="paragraph">
<p>Later, extension
<code>EGL_EXT_image_dma_buf_import_modifiers</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn2">2</a></sup>
introduced the ability to query which combination of formats and <em>modifiers</em>
the implementation supports and to specify <em>modifiers</em> during creation of
the <code>EGLImage</code>.</p>
</div>
<div class="paragraph">
<p>Extension
<code>EGL_MESA_image_dma_buf_export</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn3">3</a></sup>
is the inverse of <code>EGL_EXT_image_dma_buf_import_modifiers</code>.</p>
</div>
<div class="paragraph">
<p>The Linux kernel modesetting API (KMS), when configuring the display’s
framebuffer with <code>struct
drm_mode_fb_cmd2</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn4">4</a></sup>, allows one to
specify the frambuffer’s <em>modifier</em> as well as a per-plane memory handle,
offset, and row pitch.</p>
</div>
<div class="paragraph">
<p>GBM, a graphics buffer manager for Linux, allows creation of a <code>gbm_bo</code>
(that is, a graphics <em>buffer object</em>) by importing data similar to that in
<code>EGL_EXT_image_dma_buf_import_modifiers</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn1">1</a></sup>;
and symmetrically allows exporting the same data from the <code>gbm_bo</code>.
See the references to <em>modifier</em> and <em>plane</em> in
<code>gbm.h</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn5">5</a></sup>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_54">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_71">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_DRM_FORMAT_MODIFIER_PLANE_LAYOUT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DRM_FORMAT_MODIFIER_PROPERTIES_LIST_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DRM_FORMAT_MODIFIER_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_DRM_FORMAT_MODIFIER_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_DRM_FORMAT_MODIFIER_LIST_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_DRM_FORMAT_MODIFIER_EXPLICIT_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_DRM_FORMAT_MODIFIER_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageTiling">VkImageTiling</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageAspectFlagBits">VkImageAspectFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_ASPECT_MEMORY_PLANE_0_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_MEMORY_PLANE_1_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_MEMORY_PLANE_2_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_IMAGE_ASPECT_MEMORY_PLANE_3_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_61">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_54">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p>Extends <a href="chap35.html#VkFormatProperties2">VkFormatProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkDrmFormatModifierPropertiesListEXT">VkDrmFormatModifierPropertiesListEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Member of <a href="chap35.html#VkDrmFormatModifierPropertiesListEXT">VkDrmFormatModifierPropertiesListEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkDrmFormatModifierPropertiesEXT">VkDrmFormatModifierPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extends <a href="chap35.html#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceImageDrmFormatModifierInfoEXT">VkPhysicalDeviceImageDrmFormatModifierInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extends <a href="chap11.html#VkImageCreateInfo">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkImageDrmFormatModifierListCreateInfoEXT">VkImageDrmFormatModifierListCreateInfoEXT</a></p>
</li>
<li>
<p><a href="chap11.html#VkImageDrmFormatModifierExplicitCreateInfoEXT">VkImageDrmFormatModifierExplicitCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Parameter to <a href="chap11.html#vkGetImageDrmFormatModifierPropertiesEXT">vkGetImageDrmFormatModifierPropertiesEXT</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkImageDrmFormatModifierPropertiesEXT">VkImageDrmFormatModifierPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_65">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#vkGetImageDrmFormatModifierPropertiesEXT">vkGetImageDrmFormatModifierPropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_64">Issues</h4>
<div class="paragraph">
<p>1) Should this extension define a single DRM format modifier per
   <code>VkImage</code>? Or define one per plane?</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: There exists a single DRM format modifier per <code>VkImage</code>.</p>
</div>
<div class="paragraph">
<p><strong>DISCUSSION</strong>: Prior art, such as
<code>EGL_EXT_image_dma_buf_import_modifiers</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn2">2</a></sup>,
<code>struct drm_mode_fb_cmd2</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn4">4</a></sup>, and
<code>struct
gbm_import_fd_modifier_data</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn5">5</a></sup>,
allows defining one <em>modifier</em> per plane.
However, developers of the GBM and kernel APIs concede it was a mistake.
Beginning in Linux 4.10, the kernel requires that the application provide
the same DRM format <em>modifier</em> for each plane.
(See Linux commit
<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=bae781b259269590109e8a4a8227331362b88212">bae781b259269590109e8a4a8227331362b88212</a>).
And GBM provides an entrypoint, <code>gbm_bo_get_modifier</code>, for querying the
<em>modifier</em> of the image but does not provide one to query the modifier of
individual planes.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>2) When creating an image with
   <a href="chap11.html#VkImageDrmFormatModifierExplicitCreateInfoEXT">VkImageDrmFormatModifierExplicitCreateInfoEXT</a>, which is typically
   used when <em>importing</em> an image, should the application explicitly provide
   the size of each plane?</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The application <strong class="purple">must</strong> not provide the size.
To enforce this, the API requires that
<a href="chap11.html#VkImageDrmFormatModifierExplicitCreateInfoEXT">VkImageDrmFormatModifierExplicitCreateInfoEXT</a>::<code>pPlaneLayouts</code>::<a href="chap11.html#VkSubresourceLayout"><code>size</code></a>
<strong class="purple">must</strong> be 0.</p>
</div>
<div class="paragraph">
<p><strong>DISCUSSION</strong>: Prior art, such as
<code>EGL_EXT_image_dma_buf_import_modifiers</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn2">2</a></sup>,
<code>struct drm_mode_fb_cmd2</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn4">4</a></sup>, and
<code>struct
gbm_import_fd_modifier_data</code><sup><a href="#VK_EXT_image_drm_format_modifier-fn5">5</a></sup>,
omits from the API the size of each plane.
Instead, the APIs infer each plane’s size from the import parameters, which
include the image’s pixel format and a dma_buf, offset, and row pitch for
each plane.</p>
</div>
<div class="paragraph">
<p>However, Vulkan differs from EGL and GBM with regards to image creation in
the following ways:</p>
</div>
<div class="ulist">
<div class="title">Differences in Image Creation</div>
<ul>
<li>
<p><strong>Undedicated allocation by default.</strong> When importing or exporting a set
of dma_bufs as an <code>EGLImage</code> or <code>gbm_bo</code>, common practice mandates
that each dma_buf’s memory be dedicated (in the sense of
<code>VK_KHR_dedicated_allocation</code>) to the image (though not necessarily
dedicated to a single plane).
In particular, neither the GBM documentation nor the EGL extension
specifications explicitly state this requirement, but in light of common
practice this is likely due to under-specification rather than
intentional omission.
In contrast, <code>VK_EXT_image_drm_format_modifier</code> permits, but does not
require, the implementation to require dedicated allocations for images
created with <code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code>.</p>
</li>
<li>
<p><strong>Separation of image creation and memory allocation.</strong> When importing a
set of dma_bufs as an <code>EGLImage</code> or <code>gbm_bo</code>, EGL and GBM create
the image resource and bind it to memory (the dma_bufs) simultaneously.
This allows EGL and GBM to query each dma_buf’s size during image
creation.
In Vulkan, image creation and memory allocation are independent unless a
dedicated allocation is used (as in <code>VK_KHR_dedicated_allocation</code>).
Therefore, without requiring dedicated allocation, Vulkan cannot query
the size of each dma_buf (or other external handle) when calculating the
image’s memory layout.
Even if dedication allocation were required, Vulkan cannot calculate the
image’s memory layout until after the image is bound to its dma_ufs.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above differences complicate the potential inference of plane size in
Vulkan.
Consider the following problematic cases:</p>
</div>
<div class="ulist">
<div class="title">Problematic Plane Size Calculations</div>
<ul>
<li>
<p><strong>Padding.</strong> Some plane of the image may require implementation-dependent
padding.</p>
</li>
<li>
<p><strong>Metadata.</strong> For some <em>modifiers</em>, the image may have a metadata plane
which requires a non-trivial calculation to determine its size.</p>
</li>
<li>
<p><strong>Mipmapped, array, and 3D images.</strong> The implementation may support
<code>VK_IMAGE_TILING_DRM_FORMAT_MODIFIER_EXT</code> for images whose
<code>mipLevels</code>, <code>arrayLayers</code>, or <code>depth</code> is greater than 1.
For such images with certain <em>modifiers</em>, the calculation of each
plane’s size may be non-trivial.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>However, an application-provided plane size solves none of the above
problems.</p>
</div>
<div class="paragraph">
<p>For simplicity, consider an external image with a single memory plane.
The implementation is obviously capable calculating the image’s size when
its tiling is <code>VK_IMAGE_TILING_OPTIMAL</code>.
Likewise, any reasonable implementation is capable of calculating the
image’s size when its tiling uses a supported <em>modifier</em>.</p>
</div>
<div class="paragraph">
<p>Suppose that the external image’s size is smaller than the
implementation-calculated size.
If the application provided the external image’s size to
<a href="chap11.html#vkCreateImage">vkCreateImage</a>, the implementation would observe the mismatched size
and recognize its inability to comprehend the external image’s layout
(unless the implementation used the application-provided size to select a
refinement of the tiling layout indicated by the <em>modifier</em>, which is
strongly discouraged).
The implementation would observe the conflict, and reject image creation
with <code>VK_ERROR_INVALID_DRM_FORMAT_MODIFIER_PLANE_LAYOUT_EXT</code>.
On the other hand, if the application did not provide the external image’s
size to <a href="chap11.html#vkCreateImage">vkCreateImage</a>, then the application would observe after
calling <a href="chap11.html#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a> that the external image’s size is
less than the size required by the implementation.
The application would observe the conflict and refuse to bind the
<code>VkImage</code> to the external memory.
In both cases, the result is explicit failure.</p>
</div>
<div class="paragraph">
<p>Suppose that the external image’s size is larger than the
implementation-calculated size.
If the application provided the external image’s size to
<a href="chap11.html#vkCreateImage">vkCreateImage</a>, for reasons similar to above the implementation would
observe the mismatched size and recognize its inability to comprehend the
image data residing in the extra size.
The implementation, however, must assume that image data resides in the
entire size provided by the application.
The implementation would observe the conflict and reject image creation with
<code>VK_ERROR_INVALID_DRM_FORMAT_MODIFIER_PLANE_LAYOUT_EXT</code>.
On the other hand, if the application did not provide the external image’s
size to <a href="chap11.html#vkCreateImage">vkCreateImage</a>, then the application would observe after
calling <a href="chap11.html#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a> that the external image’s size is
larger than the implementation-usable size.
The application would observe the conflict and refuse to bind the
<code>VkImage</code> to the external memory.
In both cases, the result is explicit failure.</p>
</div>
<div class="paragraph">
<p>Therefore, an application-provided size provides no benefit, and this
extension should not require it.
This decision renders <a href="chap11.html#VkSubresourceLayout">VkSubresourceLayout</a>::<code>size</code> an unused field
during image creation, and thus introduces a risk that implementations may
require applications to submit sideband creation parameters in the unused
field.
To prevent implementations from relying on sideband data, this extension
<em>requires</em> the application to set <code>size</code> to 0.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_references">References</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a id="VK_EXT_image_drm_format_modifier-fn1"></a>
<a href="https://www.khronos.org/registry/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import.txt">EGL_EXT_image_dma_buf_import</a></p>
</li>
<li>
<p><a id="VK_EXT_image_drm_format_modifier-fn2"></a>
<a href="https://www.khronos.org/registry/EGL/extensions/EXT/EGL_EXT_image_dma_buf_import_modifiers.txt">EGL_EXT_image_dma_buf_import_modifiers</a></p>
</li>
<li>
<p><a id="VK_EXT_image_drm_format_modifier-fn3"></a>
<a href="https://www.khronos.org/registry/EGL/extensions/MESA/EGL_MESA_image_dma_buf_export.txt">EGL_MESA_image_dma_buf_export</a></p>
</li>
<li>
<p><a id="VK_EXT_image_drm_format_modifier-fn4"></a>
<a href="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/include/uapi/drm/drm_mode.h?id=refs/tags/v4.10#n392">struct
drm_mode_fb_cmd2</a></p>
</li>
<li>
<p><a id="VK_EXT_image_drm_format_modifier-fn5"></a>
<a href="https://cgit.freedesktop.org/mesa/mesa/tree/src/gbm/main/gbm.h?id=refs/tags/mesa-18.0.0-rc1">gbm.h</a></p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_version_history_59">Version History</h5>
<div class="ulist">
<ul>
<li>
<p>Revision 1.0, 2018-08-29 (Chad Versace)</p>
<div class="ulist">
<ul>
<li>
<p>First stable revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_inline_uniform_block">VK_EXT_inline_uniform_block</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_inline_uniform_block</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>139</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_inline_uniform_block:%20&amp;body=@aqnuep%20"><span class="icon black"><i class="fa fa-github"></i></span>aqnuep</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-08-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension introduces the ability to back uniform blocks directly with
descriptor sets by storing inline uniform data within descriptor pool
storage.
Compared to push constants this new construct allows uniform data to be
reused across multiple disjoint sets of draw or dispatch commands and <strong class="purple">may</strong>
enable uniform data to be accessed with less indirections compared to
uniforms backed by buffer memory.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_55">New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_72">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_INLINE_UNIFORM_BLOCK_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_INLINE_UNIFORM_BLOCK_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_INLINE_UNIFORM_BLOCK_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_INLINE_UNIFORM_BLOCK_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap13.html#VkDescriptorType">VkDescriptorType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_62">New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_55">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceInlineUniformBlockFeaturesEXT">VkPhysicalDeviceInlineUniformBlockFeaturesEXT</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceInlineUniformBlockPropertiesEXT">VkPhysicalDeviceInlineUniformBlockPropertiesEXT</a></p>
</li>
<li>
<p><a href="chap13.html#VkWriteDescriptorSetInlineUniformBlockEXT">VkWriteDescriptorSetInlineUniformBlockEXT</a></p>
</li>
<li>
<p><a href="chap13.html#VkDescriptorPoolInlineUniformBlockCreateInfoEXT">VkDescriptorPoolInlineUniformBlockCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_66">New Functions</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_5">New Built-In Variables</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_65">Issues</h4>
<div class="paragraph">
<p>1) Do we need a new storage class for inline uniform blocks vs uniform
blocks?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The <code>Uniform</code> storage class is used to allow the same syntax used for
both uniform buffers and inline uniform blocks.</p>
</div>
<div class="paragraph">
<p>2) Is the descriptor array index and array size expressed in terms of bytes
or dwords for inline uniform block descriptors?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: In bytes, but both <strong class="purple">must</strong> be a multiple of 4, similar to how push
constant ranges are specified.
The <code>descriptorCount</code> of <code>VkDescriptorSetLayoutBinding</code> thus
provides the total number of bytes a particular binding with an inline
uniform block descriptor type can hold, while the <code>srcArrayElement</code>,
<code>dstArrayElement</code>, and <code>descriptorCount</code> members of
<code>VkWriteDescriptorSet</code>, <code>VkCopyDescriptorSet</code>, and
<code>VkDescriptorUpdateTemplateEntry</code> (where applicable) specify the byte
offset and number of bytes to write/copy to the binding’s backing store.
Additionally, the <code>stride</code> member of
<code>VkDescriptorUpdateTemplateEntry</code> is ignored for inline uniform blocks
and a default value of one is used, meaning that the data to update inline
uniform block bindings with must be contiguous in memory.</p>
</div>
<div class="paragraph">
<p>3) What layout rules apply for uniform blocks corresponding to inline
constants?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: They use the same layout rules as uniform buffers.</p>
</div>
<div class="paragraph">
<p>4) Do we need to add non-uniform indexing features/properties as introduced
by <code>VK_EXT_descriptor_indexing</code> for inline uniform blocks?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, because inline uniform blocks are not allowed to be
“arrayed”.
A single binding with an inline uniform block descriptor type corresponds to
a single uniform block instance and the array indices inside that binding
refer to individual offsets within the uniform block (see issue #2).
However, this extension does introduce new features/properties about the
level of support for update-after-bind inline uniform blocks.</p>
</div>
<div class="paragraph">
<p>5) Is the <code>descriptorBindingVariableDescriptorCount</code> feature introduced
by <code>VK_EXT_descriptor_indexing</code> supported for inline uniform blocks?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, as long as other inline uniform block specific limits are
respected.</p>
</div>
<div class="paragraph">
<p>6) Do the robustness guarantees of <code>robustBufferAccess</code> apply to inline
uniform block accesses?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No, similarly to push constants, as they are not backed by
buffer memory like uniform buffers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_60">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-08-01 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_pci_bus_info">VK_EXT_pci_bus_info</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_pci_bus_info</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>213</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_pci_bus_info:%20&amp;body=@anteru%20"><span class="icon black"><i class="fa fa-github"></i></span>anteru</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-10-11</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds a new query to obtain PCI bus information about a
physical device.</p>
</div>
<div class="paragraph">
<p>Not all physical devices have PCI bus information, either due to the device
not being connected to the system through a PCI interface or due to platform
specific restrictions and policies.
Thus this extension is only expected to be supported by physical devices
which can provide the information.</p>
</div>
<div class="paragraph">
<p>As a consequence, applications should always check for the presence of the
extension string for each individual physical device for which they intend
to issue the new query for and should not have any assumptions about the
availability of the extension on any given platform.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_56">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_73">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PCI_BUS_INFO_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_63">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_56">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkPhysicalDevicePCIBusInfoPropertiesEXT">VkPhysicalDevicePCIBusInfoPropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_67">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_66">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_15">Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_61">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-10-11 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_post_depth_coverage">VK_EXT_post_depth_coverage</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_post_depth_coverage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>156</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_post_depth_coverage:%20&amp;body=@dgkoch%20"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-07-17</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/KHR/SPV_KHR_post_depth_coverage.html">SPV_KHR_post_depth_coverage</a>
SPIR-V extension.</p>
</li>
<li>
<p>This extension requires
<a href="https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_post_depth_coverage.txt">GL_ARB_post_depth_coverage</a>
or
<a href="https://www.khronos.org/registry/OpenGL/extensions/EXT/EXT_post_depth_coverage.txt">GL_EXT_post_depth_coverage</a>
for GLSL-based source languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SPV_KHR_post_depth_coverage</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>which allows the fragment shader to control whether values in the
<code>SampleMask</code> built-in input variable reflect the coverage after the
<a href="chap27.html#fragops-early">early per-fragment</a> depth and stencil tests are applied.</p>
</div>
<div class="paragraph">
<p>This extension adds a new <code>PostDepthCoverage</code> execution mode under the
<code>SampleMaskPostDepthCoverage</code> capability.
When this mode is specified along with <code>EarlyFragmentTests</code>, the value of
an input variable decorated with the
<a href="chap14.html#interfaces-builtin-variables-samplemask"><code>SampleMask</code></a> built-in
reflects the coverage after the <a href="chap8.html#shaders-fragment-earlytest">early fragment
tests</a> are applied.
Otherwise, it reflects the coverage before the depth and stencil tests.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shading languages, the <code>post_depth_coverage</code>
layout qualifier from GL_ARB_post_depth_coverage or
GL_EXT_post_depth_coverage maps to the <code>PostDepthCoverage</code> execution
mode.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_57">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_74">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_64">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_57">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_68">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_6">New Built-In Variables</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_variable_decoration">New Variable Decoration</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_11">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-postdepthcoverage">SampleMaskPostDepthCoverage</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_67">Issues</h4>
<div class="paragraph">
<p>None yet.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_62">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-07-17 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_queue_family_foreign">VK_EXT_queue_family_foreign</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_queue_family_foreign</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>127</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Chad Versace <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_queue_family_foreign:%20&amp;body=@chadversary%20"><span class="icon black"><i class="fa fa-github"></i></span>chadversary</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-11-01</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Chad Versace, Google</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Ray Smith, ARM</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension defines a special queue family,
<code>VK_QUEUE_FAMILY_FOREIGN_EXT</code>, which can be used to transfer ownership
of resources backed by external memory to foreign, external queues.
This is similar to <code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code>, defined in
<code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code>.
The key differences between the two are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The queues represented by <code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code> must share
the same physical device and the same driver version as the current
<a href="chap3.html#VkInstance">VkInstance</a>.
<code>VK_QUEUE_FAMILY_FOREIGN_EXT</code> has no such restrictions.
It can represent devices and drivers from other vendors, and can even
represent non-Vulkan-capable devices.</p>
</li>
<li>
<p>All resources backed by external memory support
<code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code>.
Support for <code>VK_QUEUE_FAMILY_FOREIGN_EXT</code> is more restrictive.</p>
</li>
<li>
<p>Applications should expect transitions to/from
<code>VK_QUEUE_FAMILY_FOREIGN_EXT</code> to be more expensive than transitions
to/from <code>VK_QUEUE_FAMILY_EXTERNAL_KHR</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_75">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Special constants:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUEUE_FAMILY_FOREIGN_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_63">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-11-01 (Chad Versace)</p>
<div class="ulist">
<ul>
<li>
<p>Squashed internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_sample_locations">VK_EXT_sample_locations</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_sample_locations</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>144</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_sample_locations:%20&amp;body=@drakos-amd%20"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-02</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mais Alnasser, AMD</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Maciej Jesionowski, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Bill Licea-Kane, Qualcomm</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows an application to modify the locations of samples
within a pixel used in rasterization.
Additionally, it allows applications to specify different sample locations
for each pixel in a group of adjacent pixels, which <strong class="purple">can</strong> increase
antialiasing quality (particularly if a custom resolve shader is used that
takes advantage of these different locations).</p>
</div>
<div class="paragraph">
<p>It is common for implementations to optimize the storage of depth values by
storing values that <strong class="purple">can</strong> be used to reconstruct depth at each sample
location, rather than storing separate depth values for each sample.
For example, the depth values from a single triangle <strong class="purple">may</strong> be represented
using plane equations.
When the depth value for a sample is needed, it is automatically evaluated
at the sample location.
Modifying the sample locations causes the reconstruction to no longer
evaluate the same depth values as when the samples were originally
generated, thus the depth aspect of a depth/stencil attachment <strong class="purple">must</strong> be
cleared before rendering to it using different sample locations.</p>
</div>
<div class="paragraph">
<p>Some implementations <strong class="purple">may</strong> need to evaluate depth image values while
performing image layout transitions.
To accommodate this, instances of the <a href="chap26.html#VkSampleLocationsInfoEXT">VkSampleLocationsInfoEXT</a>
structure <strong class="purple">can</strong> be specified for each situation where an explicit or
automatic layout transition has to take place.
<a href="chap26.html#VkSampleLocationsInfoEXT">VkSampleLocationsInfoEXT</a> <strong class="purple">can</strong> be chained from
<a href="chap6.html#VkImageMemoryBarrier">VkImageMemoryBarrier</a> structures to provide sample locations for layout
transitions performed by <a href="chap6.html#vkCmdWaitEvents">vkCmdWaitEvents</a> and
<a href="chap6.html#vkCmdPipelineBarrier">vkCmdPipelineBarrier</a> calls, and
<a href="chap7.html#VkRenderPassSampleLocationsBeginInfoEXT">VkRenderPassSampleLocationsBeginInfoEXT</a> <strong class="purple">can</strong> be chained from
<a href="chap7.html#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a> to provide sample locations for layout
transitions performed implicitly by a render pass instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_58">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_76">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap11.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLE_LOCATIONS_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RENDER_PASS_SAMPLE_LOCATIONS_BEGIN_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_SAMPLE_LOCATIONS_STATE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SAMPLE_LOCATIONS_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MULTISAMPLE_PROPERTIES_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkDynamicState">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_65">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_58">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#VkSampleLocationEXT">VkSampleLocationEXT</a></p>
</li>
<li>
<p><a href="chap26.html#VkSampleLocationsInfoEXT">VkSampleLocationsInfoEXT</a></p>
</li>
<li>
<p><a href="chap7.html#VkAttachmentSampleLocationsEXT">VkAttachmentSampleLocationsEXT</a></p>
</li>
<li>
<p><a href="chap7.html#VkSubpassSampleLocationsEXT">VkSubpassSampleLocationsEXT</a></p>
</li>
<li>
<p><a href="chap7.html#VkRenderPassSampleLocationsBeginInfoEXT">VkRenderPassSampleLocationsBeginInfoEXT</a></p>
</li>
<li>
<p><a href="chap26.html#VkPipelineSampleLocationsStateCreateInfoEXT">VkPipelineSampleLocationsStateCreateInfoEXT</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceSampleLocationsPropertiesEXT">VkPhysicalDeviceSampleLocationsPropertiesEXT</a></p>
</li>
<li>
<p><a href="chap35.html#VkMultisamplePropertiesEXT">VkMultisamplePropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_69">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#vkCmdSetSampleLocationsEXT">vkCmdSetSampleLocationsEXT</a></p>
</li>
<li>
<p><a href="chap35.html#vkGetPhysicalDeviceMultisamplePropertiesEXT">vkGetPhysicalDeviceMultisamplePropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_68">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_64">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-02 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_sampler_filter_minmax">VK_EXT_sampler_filter_minmax</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_sampler_filter_minmax</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>131</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_sampler_filter_minmax:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In unextended Vulkan, minification and magnification filters such as LINEAR
allow sampled image lookups to return a filtered texel value produced by
computing a weighted average of a collection of texels in the neighborhood
of the texture coordinate provided.</p>
</div>
<div class="paragraph">
<p>This extension provides a new sampler parameter which allows applications to
produce a filtered texel value by computing a component-wise minimum (MIN)
or maximum (MAX) of the texels that would normally be averaged.
The reduction mode is orthogonal to the minification and magnification
filter parameters.
The filter parameters are used to identify the set of texels used to produce
a final filtered value; the reduction mode identifies how these texels are
combined.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_59">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_77">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SAMPLER_FILTER_MINMAX_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SAMPLER_REDUCTION_MODE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap35.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_66">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkSamplerReductionModeEXT">VkSamplerReductionModeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_59">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap12.html#VkSamplerReductionModeCreateInfoEXT">VkSamplerReductionModeCreateInfoEXT</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceSamplerFilterMinmaxPropertiesEXT">VkPhysicalDeviceSamplerFilterMinmaxPropertiesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_70">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_7">New Built-In Variables</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_12">New SPIR-V Capabilities</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_69">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_16">Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_65">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2017-05-19 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed to EXT</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2017-03-25 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_scalar_block_layout">VK_EXT_scalar_block_layout</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_scalar_block_layout</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>222</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_scalar_block_layout:%20&amp;body=@tobski%20"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-11-14</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz</p>
</li>
<li>
<p>Jan-Harald Fredriksen</p>
</li>
<li>
<p>Graeme Leese</p>
</li>
<li>
<p>Jason Ekstrand</p>
</li>
<li>
<p>John Kessenich</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_short_description_2">Short Description</h4>
<div class="paragraph">
<p>Enables C-like structure layout for SPIR-V blocks.</p>
</div>
</div>
<div class="sect3">
<h4 id="_description_4">Description</h4>
<div class="paragraph">
<p>This extension modifies the alignment rules for uniform buffers, storage
buffers and push constants, allowing non-scalar types to be aligned solely
based on the size of their components, without additional requirements.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_78">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SCALAR_BLOCK_LAYOUT_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_60">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceScalarBlockLayoutFeaturesEXT">VkPhysicalDeviceScalarBlockLayoutFeaturesEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_70">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_66">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-11-14 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_separate_stencil_usage">VK_EXT_separate_stencil_usage</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_separate_stencil_usage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>247</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_separate_stencil_usage:%20&amp;body=@drakos-amd%20"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-11-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jordan Logan, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows specifying separate usage flags for the stencil aspect
of images with a depth-stencil format at image creation time.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_60">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_79">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGE_STENCIL_USAGE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_67">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_61">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkImageStencilUsageCreateInfoEXT">VkImageStencilUsageCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_71">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_71">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_67">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-11-08 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_shader_stencil_export">VK_EXT_shader_stencil_export</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_stencil_export</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>141</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_shader_stencil_export:%20&amp;body=@dominikwitczakamd%20"><span class="icon black"><i class="fa fa-github"></i></span>dominikwitczakamd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-07-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/EXT/SPV_EXT_shader_stencil_export.html">SPV_EXT_shader_stencil_export</a>
SPIR-V extension.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the SPIR-V extension
SPV_EXT_shader_stencil_export, providing a mechanism whereby a shader may
generate the stencil reference value per invocation.
When stencil testing is enabled, this allows the test to be performed
against the value generated in the shader.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_68">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-07-19 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_shader_subgroup_ballot">VK_EXT_shader_subgroup_ballot</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_subgroup_ballot</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>65</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_shader_subgroup_ballot:%20&amp;body=@dgkoch%20"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/KHR/SPV_KHR_shader_ballot.html">SPV_KHR_shader_ballot</a>
SPIR-V extension.</p>
</li>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_shader_ballot.txt">GL_ARB_shader_ballot</a>
extension for GLSL source languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Daniel Koch, NVIDIA Corporation</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SPV_KHR_shader_ballot</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension provides the ability for a group of invocations, which
execute in parallel, to do limited forms of cross-invocation communication
via a group broadcast of a invocation value, or broadcast of a bitarray
representing a predicate value from each invocation in the group.</p>
</div>
<div class="paragraph">
<p>This extension provides access to a number of additional built-in shader
variables in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SubgroupEqMaskKHR</code>, which contains the subgroup mask of the current
subgroup invocation,</p>
</li>
<li>
<p><code>SubgroupGeMaskKHR</code>, which contains the subgroup mask of the
invocations greater than or equal to the current invocation,</p>
</li>
<li>
<p><code>SubgroupGtMaskKHR</code>, which contains the subgroup mask of the
invocations greater than the current invocation,</p>
</li>
<li>
<p><code>SubgroupLeMaskKHR</code>, which contains the subgroup mask of the
invocations less than or equal to the current invocation,</p>
</li>
<li>
<p><code>SubgroupLtMaskKHR</code>, which contains the subgroup mask of the
invocations less than the current invocation,</p>
</li>
<li>
<p><code>SubgroupLocalInvocationId</code>, which contains the index of an
invocation within a subgroup, and</p>
</li>
<li>
<p><code>SubgroupSize</code>, which contains the maximum number of invocations in a
subgroup.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, this extension provides access to the new SPIR-V instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>OpSubgroupBallotKHR</code>,</p>
</li>
<li>
<p><code>OpSubgroupFirstInvocationKHR</code>, and</p>
</li>
<li>
<p><code>OpSubgroupReadInvocationKHR</code>,</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following variables and
shader functions from GL_ARB_shader_ballot can map to these SPIR-V built-in
decorations and instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in uint64_t gl_SubGroupEqMaskARB;</code> → <code>SubgroupEqMaskKHR</code>,</p>
</li>
<li>
<p><code>in uint64_t gl_SubGroupGeMaskARB;</code> → <code>SubgroupGeMaskKHR</code>,</p>
</li>
<li>
<p><code>in uint64_t gl_SubGroupGtMaskARB;</code> → <code>SubgroupGtMaskKHR</code>,</p>
</li>
<li>
<p><code>in uint64_t gl_SubGroupLeMaskARB;</code> → <code>SubgroupLeMaskKHR</code>,</p>
</li>
<li>
<p><code>in uint64_t gl_SubGroupLtMaskARB;</code> → <code>SubgroupLtMaskKHR</code>,</p>
</li>
<li>
<p><code>in uint gl_SubGroupInvocationARB;</code> → <code>SubgroupLocalInvocationId</code>,</p>
</li>
<li>
<p><code>uniform uint gl_SubGroupSizeARB;</code> → <code>SubgroupSize</code>,</p>
</li>
<li>
<p><code>ballotARB</code>() → <code>OpSubgroupBallotKHR</code>,</p>
</li>
<li>
<p><code>readFirstInvocationARB</code>() → <code>OpSubgroupFirstInvocationKHR</code>, and</p>
</li>
<li>
<p><code>readInvocationARB</code>() → <code>OpSubgroupReadInvocationKHR</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_61">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_80">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_68">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_62">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_72">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_8">New Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-sgeq"><code>SubgroupEqMaskKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-sgge"><code>SubgroupGeMaskKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-sggt"><code>SubgroupGtMaskKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-sgle"><code>SubgroupLeMaskKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-sglt"><code>SubgroupLtMaskKHR</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-sgli"><code>SubgroupLocalInvocationId</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-sgs"><code>SubgroupSize</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_13">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-subgroupballot">SubgroupBallotKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_72">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_69">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-11-28 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_shader_subgroup_vote">VK_EXT_shader_subgroup_vote</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_subgroup_vote</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>66</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_shader_subgroup_vote:%20&amp;body=@dgkoch%20"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-11-28</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/KHR/SPV_KHR_subgroup_vote.html">SPV_KHR_subgroup_vote</a>
SPIR-V extension.</p>
</li>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_shader_group_vote.txt">GL_ARB_shader_group_vote</a>
extension for GLSL source languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Neil Henning, Codeplay</p>
</li>
<li>
<p>Daniel Koch, NVIDIA Corporation</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SPV_KHR_subgroup_vote</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension provides new SPIR-V instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>OpSubgroupAllKHR</code>,</p>
</li>
<li>
<p><code>OpSubgroupAnyKHR</code>, and</p>
</li>
<li>
<p><code>OpSubgroupAllEqualKHR</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>to compute the composite of a set of boolean conditions across a group of
shader invocations that are running concurrently (a <em>subgroup</em>).
These composite results may be used to execute shaders more efficiently on a
<a href="chap4.html#VkPhysicalDevice">VkPhysicalDevice</a>.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following shader
functions from GL_ARB_shader_group_vote can map to these SPIR-V
instructions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>anyInvocationARB</code>() → <code>OpSubgroupAnyKHR</code>,</p>
</li>
<li>
<p><code>allInvocationsARB</code>() → <code>OpSubgroupAllKHR</code>, and</p>
</li>
<li>
<p><code>allInvocationsEqualARB</code>() → <code>OpSubgroupAllEqualKHR</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The subgroup across which the boolean conditions are evaluated is
implementation-dependent, and this extension provides no guarantee over how
individual shader invocations are assigned to subgroups.
In particular, a subgroup has no necessary relationship with the compute
shader <em>local workgroup</em> — any pair of shader invocations in a compute
local workgroup may execute in different subgroups as used by these
instructions.</p>
</div>
<div class="paragraph">
<p>Compute shaders operate on an explicitly specified group of threads (a local
workgroup), but many implementations will also group non-compute shader
invocations and execute them concurrently.
When executing code like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">if</span> (condition) {
  result = do_fast_path();
} <span class="keyword">else</span> {
  result = do_general_path();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>where <code>condition</code> diverges between invocations, an implementation might
first execute <code>do_fast_path</code>() for the invocations where <code>condition</code>
is true and leave the other invocations dormant.
Once <code>do_fast_path</code>() returns, it might call <code>do_general_path</code>() for
invocations where <code>condition</code> is <code>false</code> and leave the other
invocations dormant.
In this case, the shader executes <strong>both</strong> the fast and the general path and
might be better off just using the general path for all invocations.</p>
</div>
<div class="paragraph">
<p>This extension provides the ability to avoid divergent execution by
evaluating a condition across an entire subgroup using code like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">if</span> (allInvocationsARB(condition)) {
  result = do_fast_path();
} <span class="keyword">else</span> {
  result = do_general_path();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The built-in function <code>allInvocationsARB</code>() will return the same value
for all invocations in the group, so the group will either execute
<code>do_fast_path</code>() or <code>do_general_path</code>(), but never both.
For example, shader code might want to evaluate a complex function
iteratively by starting with an approximation of the result and then
refining the approximation.
Some input values may require a small number of iterations to generate an
accurate result (<code>do_fast_path</code>) while others require a larger number
(<code>do_general_path</code>).
In another example, shader code might want to evaluate a complex function
(<code>do_general_path</code>) that can be greatly simplified when assuming a
specific value for one of its inputs (<code>do_fast_path</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_62">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_81">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_69">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_63">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_73">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_9">New Built-In Variables</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_14">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-subgroupvote">SubgroupVoteKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_73">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_70">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-11-28 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_shader_viewport_index_layer">VK_EXT_shader_viewport_index_layer</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_shader_viewport_index_layer</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>163</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_shader_viewport_index_layer:%20&amp;body=@dgkoch%20"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-08</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/EXT/SPV_EXT_shader_viewport_index_layer.html">SPV_EXT_shader_viewport_index_layer</a>
SPIR-V extension.</p>
</li>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_shader_viewport_layer_array.txt">GL_ARB_shader_viewport_layer_array</a>,
<a href="https://www.khronos.org/registry/OpenGL/extensions/AMD/AMD_vertex_shader_layer.txt">GL_AMD_vertex_shader_layer</a>,
<a href="https://www.khronos.org/registry/OpenGL/extensions/AMD/AMD_vertex_shader_viewport_index.txt">GL_AMD_vertex_shader_viewport_index</a>,
or
<a href="https://www.khronos.org/registry/OpenGL/extensions/NV/NV_viewport_array2.txt">GL_NV_viewport_array2</a>
extensions for GLSL source languages.</p>
</li>
<li>
<p>This extension requires the <code>multiViewport</code> feature.</p>
</li>
<li>
<p>This extension interacts with the <code>tessellationShader</code> feature.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jan-Harald Fredriksen, ARM</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Slawomir Grajeswki, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the <code>ShaderViewportIndexLayerEXT</code>
capability from the SPV_EXT_shader_viewport_index_layer extension in
Vulkan.</p>
</div>
<div class="paragraph">
<p>This extension allows variables decorated with the <code>Layer</code> and
<code>ViewportIndex</code> built-ins to be exported from vertex or tessellation
shaders, using the <code>ShaderViewportIndexLayerEXT</code> capability.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shading languages, the <code>gl_ViewportIndex</code>
and <code>gl_Layer</code> built-in variables map to the SPIR-V <code>ViewportIndex</code>
and <code>Layer</code> built-in decorations, respectively.
Behaviour of these variables is extended as described in the
GL_ARB_shader_viewport_layer_array (or the precursor
GL_AMD_vertex_shader_layer, GL_AMD_vertex_shader_viewport_index, and
GL_NV_viewport_array2 extensions).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>ShaderViewportIndexLayerEXT</code> capability is equivalent to the
<code>ShaderViewportIndexLayerNV</code> capability added by
<code><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_63">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_82">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_70">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_64">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_74">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_or_modified_built_in_variables_2">New or Modified Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p>(modified) <a href="chap14.html#interfaces-builtin-variables-layer"><code>Layer</code></a></p>
</li>
<li>
<p>(modified)
<a href="chap14.html#interfaces-builtin-variables-viewportindex"><code>ViewportIndex</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_variable_decoration_2">New Variable Decoration</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_15">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-shader-viewport-index-layer"><code>ShaderViewportIndexLayerEXT</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_74">Issues</h4>
<div class="paragraph">
<p>None yet!</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_71">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-08 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal drafts</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_swapchain_colorspace">VK_EXT_swapchain_colorspace</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_swapchain_colorspace</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>105</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_swapchain_colorspace:%20&amp;body=@courtney-g%20"><span class="icon black"><i class="fa fa-github"></i></span>courtney-g</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-15</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_83">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap32.html#VkColorSpaceKHR">VkColorSpaceKHR</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_COLOR_SPACE_DISPLAY_P3_NONLINEAR_EXT</code> - supports the Display-P3
color space and applies an sRGB-like transfer function.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_EXTENDED_SRGB_LINEAR_EXT</code> - supports the extended
sRGB color space and applies a linear transfer function.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_EXTENDED_SRGB_NONLINEAR_EXT</code> - supports the
extended sRGB color space with an sRGB nonlinear transfer function.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DCI_P3_LINEAR_EXT</code> - supports the DCI-P3 color
space and applies a linear OETF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DCI_P3_NONLINEAR_EXT</code> - supports the DCI-P3 color
space and applies the Gamma 2.6 OETF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT709_LINEAR_EXT</code> - supports the BT709 color space
and applies a linear transfer function.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT709_NONLINEAR_EXT</code> - supports the BT709 color
space and applies the SMPTE 170M OETF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_BT2020_LINEAR_EXT</code> - supports the BT2020 color
space and applies a linear OETF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_HDR10_ST2084_EXT</code> - supports HDR10 (BT2020 color
space and applies the SMPTE ST2084 Perceptual Quantizer (PQ) OETF).</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_DOLBYVISION_EXT</code> - supports Dolby Vision (BT2020
color space, proprietary encoding, and applies the SMPTE ST2084 OETF).</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_HDR10_HLG_EXT</code> - supports HDR10 (BT2020 color space
and applies the Hybrid Log Gamma (HLG) OETF).</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_ADOBERGB_LINEAR_EXT</code> - supports the AdobeRGB color
space and applies a linear OETF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_ADOBERGB_NONLINEAR_EXT</code> - supports the AdobeRGB
color space and applies the Gamma 2.2 OETF.</p>
</li>
<li>
<p><code>VK_COLOR_SPACE_PASS_THROUGH_EXT</code> - color components used “as
is”.
Intended to allow application to supply data for color spaces not
described here.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_75">Issues</h4>
<div class="paragraph">
<p>1) Does the spec need to specify which kinds of image formats support the
color spaces?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Pixel format is independent of color space (though some color
spaces really want / need floating point color components to be useful).
Therefore, do not plan on documenting what formats support which
colorspaces.
An application <strong class="purple">can</strong> call <a href="chap32.html#vkGetPhysicalDeviceSurfaceFormatsKHR">vkGetPhysicalDeviceSurfaceFormatsKHR</a> to query
what a particular implementation supports.</p>
</div>
<div class="paragraph">
<p>2) How does application determine if HW supports appropriate transfer
function for a colorspace?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Extension indicates that implementation <strong class="purple">must</strong> not do the OETF
encoding if it is not sRGB.
That responsibility falls to the application shaders.
Any other native OETF / EOTF functions supported by an implementation can be
described by separate extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_72">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-27 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-01-19 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Add pass through and multiple options for BT2020.</p>
</li>
<li>
<p>Clean up some issues with equations not displaying properly.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2017-06-23 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Add extended sRGB non-linear enum.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_transform_feedback">VK_EXT_transform_feedback</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_transform_feedback</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>29</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_transform_feedback:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Data</strong></dt>
<dd>
<p>2018-10-09</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson, Valve</p>
</li>
<li>
<p>Boris Zanin, Mobica</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Donald Scorgie, Imagination</p>
</li>
<li>
<p>Henri Verbeet, CodeWeavers</p>
</li>
<li>
<p>Jan-Harald Fredriksen, Arm</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Jesse Barker, Unity</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Pierre-Loup Griffais, Valve</p>
</li>
<li>
<p>Philip Rebohle, DXVK</p>
</li>
<li>
<p>Ruihao Zhang, Qualcomm</p>
</li>
<li>
<p>Samuel Pitoiset, Valve</p>
</li>
<li>
<p>Slawomir Grajewski, Intel</p>
</li>
<li>
<p>Stu Smith, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds transform feedback to the Vulkan API by exposing the
SPIR-V <code>TransformFeedback</code> and <code>GeometryStreams</code> capabilities to
capture vertex, tessellation or geometry shader outputs to one or more
buffers.
It adds API functionality to bind transform feedback buffers to capture the
primitives emitted by the graphics pipeline from SPIR-V outputs decorated
for transform feedback.
The transform feedback capture can be paused and resumed by way of storing
and retrieving a byte counter.
The captured data can be drawn again where the vertex count is derived from
the byte counter without CPU intervention.
If the implementation is capable, a vertex stream other than zero can be
rasterized.</p>
</div>
<div class="paragraph">
<p>All these features are designed to match the full capabilities of OpenGL
core transform feedback functionality and beyond.
Many of the features are optional to allow base OpenGL ES GPUs to also
implement this extension.</p>
</div>
<div class="paragraph">
<p>The primary purpose of the functionality exposed by this extension is to
support translation layers from other 3D APIs.
This functionality is not considered forward looking, and is not expected to
be promoted to a KHR extension or to core Vulkan.
Unless this is needed for translation, it is recommended that developers use
alternative techniques of using the GPU to process and capture vertex data.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_64">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_84">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TRANSFORM_FEEDBACK_FEATURES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TRANSFORM_FEEDBACK_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_STREAM_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryType">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_TRANSFORM_FEEDBACK_STREAM_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_TRANSFORM_FEEDBACK_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_BUFFER_USAGE_TRANSFORM_FEEDBACK_COUNTER_BUFFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkAccessFlagBits">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_TRANSFORM_FEEDBACK_WRITE_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_ACCESS_TRANSFORM_FEEDBACK_COUNTER_READ_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_ACCESS_TRANSFORM_FEEDBACK_COUNTER_WRITE_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_TRANSFORM_FEEDBACK_BIT_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_71">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#VkPipelineRasterizationStateStreamCreateFlagsEXT">VkPipelineRasterizationStateStreamCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_65">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap35.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceTransformFeedbackFeaturesEXT">VkPhysicalDeviceTransformFeedbackFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap4.html#VkPhysicalDeviceProperties2">VkPhysicalDeviceProperties2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceTransformFeedbackPropertiesEXT">VkPhysicalDeviceTransformFeedbackPropertiesEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap26.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#VkPipelineRasterizationStateStreamCreateInfoEXT">VkPipelineRasterizationStateStreamCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_75">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#vkCmdBindTransformFeedbackBuffersEXT">vkCmdBindTransformFeedbackBuffersEXT</a></p>
</li>
<li>
<p><a href="chap25.html#vkCmdBeginTransformFeedbackEXT">vkCmdBeginTransformFeedbackEXT</a></p>
</li>
<li>
<p><a href="chap25.html#vkCmdEndTransformFeedbackEXT">vkCmdEndTransformFeedbackEXT</a></p>
</li>
<li>
<p><a href="chap17.html#vkCmdBeginQueryIndexedEXT">vkCmdBeginQueryIndexedEXT</a></p>
</li>
<li>
<p><a href="chap17.html#vkCmdEndQueryIndexedEXT">vkCmdEndQueryIndexedEXT</a></p>
</li>
<li>
<p><a href="chap20.html#vkCmdDrawIndirectByteCountEXT">vkCmdDrawIndirectByteCountEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_76">Issues</h4>
<div class="paragraph">
<p>1) Should we include pause/resume functionality?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this is needed to ease layering other APIs which have this
functionality.
To pause use <code>vkCmdEndTransformFeedbackEXT</code> and provide valid buffer
handles in the <code>pCounterBuffers</code> array and offsets in the
<code>pCounterBufferOffsets</code> array for the implementation to save the resume
points.
Then to resume use <code>vkCmdBeginTransformFeedbackEXT</code> with the previous
<code>pCounterBuffers</code> and <code>pCounterBufferOffsets</code> values.
Between the pause and resume there needs to be a memory barrier for the
counter buffers with a source access of
<code>VK_ACCESS_TRANSFORM_FEEDBACK_COUNTER_WRITE_BIT_EXT</code> at pipeline stage
<code>VK_PIPELINE_STAGE_TRANSFORM_FEEDBACK_BIT_EXT</code> to a destination access
of <code>VK_ACCESS_TRANSFORM_FEEDBACK_COUNTER_READ_BIT_EXT</code> at pipeline stage
<code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code>.</p>
</div>
<div class="paragraph">
<p>2) How does this interact with multiview?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Transform feedback cannot be made active in a render pass with
multiview enabled.</p>
</div>
<div class="paragraph">
<p>3) How should queries be done?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: There is a new query type
<code>VK_QUERY_TYPE_TRANSFORM_FEEDBACK_STREAM_EXT</code>.
A query pool created with this type will capture 2 integers -
numPrimitivesWritten and numPrimitivesNeeded - for the specified vertex
stream output from the last vertex processing stage.
The vertex stream output queried is zero by default, but can be specified
with the new <code>vkCmdBeginQueryIndexedEXT</code> and
<code>vkCmdEndQueryIndexedEXT</code> commands.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_73">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-10-09 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_validation_cache">VK_EXT_validation_cache</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_validation_cache</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>161</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Cort Stratton <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_validation_cache:%20&amp;body=@cdwfs%20"><span class="icon black"><i class="fa fa-github"></i></span>cdwfs</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-29</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Cort Stratton, Google</p>
</li>
<li>
<p>Chris Forbes, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides a mechanism for caching the results of potentially
expensive internal validation operations across multiple runs of a Vulkan
application.
At the core is the <a href="chap8.html#VkValidationCacheEXT">VkValidationCacheEXT</a> object type, which is managed
similarly to the existing <a href="chap9.html#VkPipelineCache">VkPipelineCache</a>.</p>
</div>
<div class="paragraph">
<p>The new struct <a href="chap8.html#VkShaderModuleValidationCacheCreateInfoEXT">VkShaderModuleValidationCacheCreateInfoEXT</a> can be
included in the <code>pNext</code> chain at <a href="chap8.html#vkCreateShaderModule">vkCreateShaderModule</a> time.
It contains a <a href="chap8.html#VkValidationCacheEXT">VkValidationCacheEXT</a> to use when validating the
<a href="chap8.html#VkShaderModule">VkShaderModule</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_65">New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkValidationCacheEXT">VkValidationCacheEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_85">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VALIDATION_CACHE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_SHADER_MODULE_VALIDATION_CACHE_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_72">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkValidationCacheHeaderVersionEXT">VkValidationCacheHeaderVersionEXT</a></p>
</li>
<li>
<p><a href="chap8.html#VkValidationCacheCreateFlagsEXT">VkValidationCacheCreateFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_66">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#VkValidationCacheCreateInfoEXT">VkValidationCacheCreateInfoEXT</a></p>
</li>
<li>
<p><a href="chap8.html#VkShaderModuleValidationCacheCreateInfoEXT">VkShaderModuleValidationCacheCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_76">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#vkCreateValidationCacheEXT">vkCreateValidationCacheEXT</a></p>
</li>
<li>
<p><a href="chap8.html#vkDestroyValidationCacheEXT">vkDestroyValidationCacheEXT</a></p>
</li>
<li>
<p><a href="chap8.html#vkMergeValidationCachesEXT">vkMergeValidationCachesEXT</a></p>
</li>
<li>
<p><a href="chap8.html#vkGetValidationCacheDataEXT">vkGetValidationCacheDataEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_77">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_74">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-29 (Cort Stratton)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_validation_flags">VK_EXT_validation_flags</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_validation_flags</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>62</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobin Ehlis <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_validation_flags:%20&amp;body=@tobine%20"><span class="icon black"><i class="fa fa-github"></i></span>tobine</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-09-06</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobin Ehlis, Google</p>
</li>
<li>
<p>Courtney Goeltzenleuchter, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides the <a href="chap3.html#VkValidationFlagsEXT">VkValidationFlagsEXT</a> struct that can be
included in the <code>pNext</code> chain of the <a href="chap3.html#VkInstanceCreateInfo">VkInstanceCreateInfo</a>
structure passed as the <code>pCreateInfo</code> parameter of
<a href="chap3.html#vkCreateInstance">vkCreateInstance</a>.
The new struct contains an array of <a href="chap3.html#VkValidationCheckEXT">VkValidationCheckEXT</a> values that
will be disabled by the validation layers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_86">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VALIDATION_FLAGS_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_73">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap3.html#VkValidationCheckEXT">VkValidationCheckEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_67">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap3.html#VkValidationFlagsEXT">VkValidationFlagsEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_77">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_78">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_75">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-08-26 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_vertex_attribute_divisor">VK_EXT_vertex_attribute_divisor</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_vertex_attribute_divisor</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>191</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_vertex_attribute_divisor:%20&amp;body=@vkushwaha%20"><span class="icon black"><i class="fa fa-github"></i></span>vkushwaha</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-08-03</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Vikram Kushwaha, NVIDIA</p>
</li>
<li>
<p>Jason Ekstrand, Intel</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows instance-rate vertex attributes to be repeated for
certain number of instances instead of advancing for every instance when
instanced rendering is enabled.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_66">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_87">New Enum Constants</h4>
<div class="paragraph">
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VERTEX_ATTRIBUTE_DIVISOR_PROPERTIES_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_DIVISOR_STATE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VERTEX_ATTRIBUTE_DIVISOR_FEATURES_EXT</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_74">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_68">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap21.html#VkPipelineVertexInputStateCreateInfo">VkPipelineVertexInputStateCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap21.html#VkPipelineVertexInputDivisorStateCreateInfoEXT">VkPipelineVertexInputDivisorStateCreateInfoEXT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceVertexAttributeDivisorPropertiesEXT">VkPhysicalDeviceVertexAttributeDivisorPropertiesEXT</a></p>
</li>
<li>
<p><a href="chap21.html#VkVertexInputBindingDivisorDescriptionEXT">VkVertexInputBindingDivisorDescriptionEXT</a></p>
</li>
<li>
<p>Extending <a href="chap35.html#VkPhysicalDeviceFeatures2">VkPhysicalDeviceFeatures2</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceVertexAttributeDivisorFeaturesEXT">VkPhysicalDeviceVertexAttributeDivisorFeaturesEXT</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_78">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_79">Issues</h4>
<div class="paragraph">
<p>1) What is the effect of a non-zero value for <code>firstInstance</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The Vulkan API should follow the OpenGL convention and offset
attribute fetching by <code>firstInstance</code> while computing vertex attribute
offsets.</p>
</div>
<div class="paragraph">
<p>2) Should zero be an allowed divisor?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
A zero divisor means the vertex attribute is repeated for all instances.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_17">Examples</h4>
<div class="paragraph">
<p>To create a vertex binding such that the first binding uses instanced
rendering and the same attribute is used for every 4 draw instances, an
application could use the following set of structures:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="directive">const</span> VkVertexInputBindingDivisorDescriptionEXT divisorDesc =
    {
        <span class="integer">0</span>,
        <span class="integer">4</span>
    };

    <span class="directive">const</span> VkPipelineVertexInputDivisorStateCreateInfoEXT divisorInfo =
    {
        VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_DIVISOR_STATE_CREATE_INFO_EXT, <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                                             <span class="comment">// pNext</span>
        <span class="integer">1</span>,                                                                <span class="comment">// vertexBindingDivisorCount</span>
        &amp;divisorDesc                                                      <span class="comment">// pVertexBindingDivisors</span>
    }

    <span class="directive">const</span> VkVertexInputBindingDescription binding =
    {
        <span class="integer">0</span>,                                                                <span class="comment">// binding</span>
        <span class="keyword">sizeof</span>(Vertex),                                                   <span class="comment">// stride</span>
        VK_VERTEX_INPUT_RATE_INSTANCE                                     <span class="comment">// inputRate</span>
    };

    <span class="directive">const</span> VkPipelineVertexInputStateCreateInfo viInfo =
    {
        VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_CREATE_INFO,              <span class="comment">// sType</span>
        &amp;divisorInfo,                                                     <span class="comment">// pNext</span>
        ...
    };
    <span class="comment">//...</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_76">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-12-04 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>First Version</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-07-16 (Jason Ekstrand)</p>
<div class="ulist">
<ul>
<li>
<p>Adjust the interaction between <code>divisor</code> and <code>firstInstance</code>
to match the OpenGL convention.</p>
</li>
<li>
<p>Disallow divisors of zero.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2018-08-03 (Vikram Kushwaha)</p>
<div class="ulist">
<ul>
<li>
<p>Allow a zero divisor.</p>
</li>
<li>
<p>Add a physical device features structure to query/enable this feature.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_buffer_marker">VK_AMD_buffer_marker</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_buffer_marker</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>180</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_buffer_marker:%20&amp;body=@drakos-amd%20"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-01-26</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Jaakko Konttinen, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds a new operation to execute pipelined writes of small
marker values into a <code>VkBuffer</code> object.</p>
</div>
<div class="paragraph">
<p>The primary purpose of these markers is to facilitate the development of
debugging tools for tracking which pipelined command contributed to device
loss.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_67">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_88">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_75">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_69">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_79">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap19.html#vkCmdWriteBufferMarkerAMD">vkCmdWriteBufferMarkerAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_examples_18">Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_77">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-01-26 (Jaakko Konttinen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_gcn_shader">VK_AMD_gcn_shader</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_gcn_shader</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>26</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_gcn_shader:%20&amp;body=@dominikwitczakamd%20"><span class="icon black"><i class="fa fa-github"></i></span>dominikwitczakamd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-05-30</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.khronos.org/registry/spir-v/extensions/AMD/SPV_AMD_gcn_shader.html">SPV_AMD_gcn_shader</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_78">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-05-30 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_gpu_shader_half_float">VK_AMD_gpu_shader_half_float</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_gpu_shader_half_float</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>37</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_gpu_shader_half_float:%20&amp;body=@dominikwitczakamd%20"><span class="icon black"><i class="fa fa-github"></i></span>dominikwitczakamd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-09-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Donglin Wei, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.khronos.org/registry/spir-v/extensions/AMD/SPV_AMD_gpu_shader_half_float.html">SPV_AMD_gpu_shader_half_float</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_79">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2019-09-21 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_gpu_shader_int16">VK_AMD_gpu_shader_int16</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_gpu_shader_int16</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>133</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Qun Lin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_gpu_shader_int16:%20&amp;body=@linqun%20"><span class="icon black"><i class="fa fa-github"></i></span>linqun</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-06-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/AMD/SPV_AMD_gpu_shader_int16.html">SPV_AMD_gpu_shader_int16</a>
SPIR-V extension.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
<li>
<p>Timothy Lottes, AMD</p>
</li>
<li>
<p>Zhi Cai, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SPV_AMD_gpu_shader_int16</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_80">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-06-18 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>First version.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_memory_overallocation_behavior">VK_AMD_memory_overallocation_behavior</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_memory_overallocation_behavior</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>190</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Martin Dinkov <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_memory_overallocation_behavior:%20&amp;body=@mdinkov%20"><span class="icon black"><i class="fa fa-github"></i></span>mdinkov</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Martin Dinkov, AMD</p>
</li>
<li>
<p>Matthaeus Chajdas, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Jon Campbell, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows controlling whether explicit overallocation beyond the
device memory heap sizes (reported by
<a href="chap10.html#VkPhysicalDeviceMemoryProperties">VkPhysicalDeviceMemoryProperties</a>) is allowed or not.
Overallocation may lead to performance loss and is not supported for all
platforms.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_68">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_89">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_MEMORY_OVERALLOCATION_CREATE_INFO_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_76">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkMemoryOverallocationBehaviorAMD">VkMemoryOverallocationBehaviorAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_70">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap4.html#VkDeviceMemoryOverallocationCreateInfoAMD">VkDeviceMemoryOverallocationCreateInfoAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_80">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_19">Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_81">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-09-19 (Martin Dinkov)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_mixed_attachment_samples">VK_AMD_mixed_attachment_samples</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_mixed_attachment_samples</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>137</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_mixed_attachment_samples:%20&amp;body=@anteru%20"><span class="icon black"><i class="fa fa-github"></i></span>anteru</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-07-24</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mais Alnasser, AMD</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Maciej Jesionowski, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension enables applications to use multisampled rendering with a
depth/stencil sample count that is larger than the color sample count.
Having a depth/stencil sample count larger than the color sample count
allows maintaining geometry and coverage information at a higher sample rate
than color information.
All samples are depth/stencil tested, but only the first color sample count
number of samples get a corresponding color output.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_69">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_90">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_77">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_71">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_81">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_80">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_82">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-07-24 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_rasterization_order">VK_AMD_rasterization_order</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_rasterization_order</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>19</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_rasterization_order:%20&amp;body=@drakos-amd%20"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-04-25</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Jaakko Konttinen, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension introduces the possibility for the application to control the
order of primitive rasterization.
In unextended Vulkan, the following stages are guaranteed to execute in <em>API
order</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>depth bounds test</p>
</li>
<li>
<p>stencil test, stencil op, and stencil write</p>
</li>
<li>
<p>depth test and depth write</p>
</li>
<li>
<p>occlusion queries</p>
</li>
<li>
<p>blending, logic op, and color write</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension enables applications to opt into a relaxed, implementation
defined primitive rasterization order that may allow better parallel
processing of primitives and thus enabling higher primitive throughput.
It is applicable in cases where the primitive rasterization order is known
to not affect the output of the rendering or any differences caused by a
different rasterization order are not a concern from the point of view of
the application’s purpose.</p>
</div>
<div class="paragraph">
<p>A few examples of cases when using the relaxed primitive rasterization order
would not have an effect on the final rendering:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the primitives rendered are known to not overlap in framebuffer
space.</p>
</li>
<li>
<p>If depth testing is used with a comparison operator of
<code>VK_COMPARE_OP_LESS</code>, <code>VK_COMPARE_OP_LESS_OR_EQUAL</code>,
<code>VK_COMPARE_OP_GREATER</code>, or <code>VK_COMPARE_OP_GREATER_OR_EQUAL</code>,
and the primitives rendered are known to not overlap in clip space.</p>
</li>
<li>
<p>If depth testing is not used and blending is enabled for all attachments
with a commutative blend operator.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_70">New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_91">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_RASTERIZATION_ORDER_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_78">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#VkRasterizationOrderAMD">VkRasterizationOrderAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_72">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#VkPipelineRasterizationStateRasterizationOrderAMD">VkPipelineRasterizationStateRasterizationOrderAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_82">New Functions</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_81">Issues</h4>
<div class="paragraph">
<p>1) How is this extension useful to application developers?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Allows them to increase primitive throughput for cases when
strict API order rasterization is not important due to the nature of the
content, the configuration used, or the requirements towards the output of
the rendering.</p>
</div>
<div class="paragraph">
<p>2) How does this extension interact with content optimizations aiming to
reduce overdraw by appropriately ordering the input primitives?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: While the relaxed rasterization order might somewhat limit the
effectiveness of such content optimizations, most of the benefits of it are
expected to be retained even when the relaxed rasterization order is used,
so applications <strong class="purple">should</strong> still apply these optimizations even if they intend
to use the extension.</p>
</div>
<div class="paragraph">
<p>3) Are there any guarantees about the primitive rasterization order when
using the new relaxed mode?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
In this case the rasterization order is completely implementation dependent,
but in practice it is expected to partially still follow the order of
incoming primitives.</p>
</div>
<div class="paragraph">
<p>4) Does the new relaxed rasterization order have any adverse effect on
repeatability and other invariance rules of the API?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, in the sense that it extends the list of exceptions when
the repeatability requirement does not apply.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_20">Examples</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_82">Issues</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_83">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-04-25 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_shader_ballot">VK_AMD_shader_ballot</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_ballot</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>38</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_shader_ballot:%20&amp;body=@dominikwitczakamd%20"><span class="icon black"><i class="fa fa-github"></i></span>dominikwitczakamd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-09-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Matthäus G. Chajdas, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.khronos.org/registry/spir-v/extensions/AMD/SPV_AMD_shader_ballot.html">SPV_AMD_shader_ballot</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_84">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-09-19 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_shader_core_properties">VK_AMD_shader_core_properties</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_core_properties</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>186</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Martin Dinkov <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_shader_core_properties:%20&amp;body=@mdinkov%20"><span class="icon black"><i class="fa fa-github"></i></span>mdinkov</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-02-15</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Martin Dinkov, AMD</p>
</li>
<li>
<p>Matthaeus Chajdas, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension exposes shader core properties for a target physical device
through the VK_KHR_get_physical_device_properties2 extension.
Please refer to the example below for proper usage.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_71">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_92">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_CORE_PROPERTIES_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_79">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_73">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceShaderCorePropertiesAMD">VkPhysicalDeviceShaderCorePropertiesAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_83">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_21">Examples</h4>
<div class="paragraph">
<p>This example retrieves the shader core properties for a physical device.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">extern</span> VkInstance       instance;

PFN_vkGetPhysicalDeviceProperties2 pfnVkGetPhysicalDeviceProperties2 =
    <span class="keyword">reinterpret_cast</span>&lt;PFN_vkGetPhysicalDeviceProperties2&gt;
    (vkGetInstanceProcAddr(instance, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkGetPhysicalDeviceProperties2</span><span class="delimiter">&quot;</span></span>) );

VkPhysicalDeviceProperties2             general_props;
VkPhysicalDeviceShaderCorePropertiesAMD shader_core_properties;

shader_core_properties.pNext = <span class="predefined-constant">nullptr</span>;
shader_core_properties.sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_CORE_PROPERTIES_AMD;

general_props.pNext = &amp;shader_core_properties;
general_props.sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PROPERTIES_2;

<span class="comment">// After this call, shader_core_properties has been populated</span>
pfnVkGetPhysicalDeviceProperties2(device, &amp;general_props);

printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Number of shader engines: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.shader_engine_count =
    shader_core_properties.shaderEngineCount;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Number of shader arrays: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.shader_arrays_per_engine_count =
    shader_core_properties.shaderArraysPerEngineCount;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Number of CUs per shader array: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.compute_units_per_shader_array =
    shader_core_properties.computeUnitsPerShaderArray;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Number of SIMDs per compute unit: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.simd_per_compute_unit =
    shader_core_properties.simdPerComputeUnit;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Number of wavefront slots in each SIMD: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.wavefronts_per_simd =
    shader_core_properties.wavefrontsPerSimd;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Number of threads per wavefront: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.wavefront_size =
    shader_core_properties.wavefrontSize;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Number of physical SGPRs per SIMD: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.sgprs_per_simd =
    shader_core_properties.sgprsPerSimd;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Minimum number of SGPRs that can be allocated by a wave: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.min_sgpr_allocation =
    shader_core_properties.minSgprAllocation;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Number of available SGPRs: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.max_sgpr_allocation =
    shader_core_properties.maxSgprAllocation;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">SGPRs are allocated in groups of this size: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.sgpr_allocation_granularity =
    shader_core_properties.sgprAllocationGranularity;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Number of physical VGPRs per SIMD: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.vgprs_per_simd =
    shader_core_properties.vgprsPerSimd;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Minimum number of VGPRs that can be allocated by a wave: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.min_vgpr_allocation =
    shader_core_properties.minVgprAllocation;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Number of available VGPRs: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.max_vgpr_allocation =
    shader_core_properties.maxVgprAllocation;
printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">VGPRs are allocated in groups of this size: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>,
    m_shader_core_properties.vgpr_allocation_granularity =
    shader_core_properties.vgprAllocationGranularity;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_85">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-02-15 (Martin Dinkov)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_shader_explicit_vertex_parameter">VK_AMD_shader_explicit_vertex_parameter</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_explicit_vertex_parameter</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>22</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Qun Lin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_shader_explicit_vertex_parameter:%20&amp;body=@linqun%20"><span class="icon black"><i class="fa fa-github"></i></span>linqun</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-05-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.khronos.org/registry/spir-v/extensions/AMD/SPV_AMD_shader_explicit_vertex_parameter.html">SPV_AMD_shader_explicit_vertex_parameter</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_86">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-05-10 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_shader_fragment_mask">VK_AMD_shader_fragment_mask</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_fragment_mask</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>138</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_shader_fragment_mask:%20&amp;body=@AaronHaganAMD%20"><span class="icon black"><i class="fa fa-github"></i></span>AaronHaganAMD</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-16</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/AMD/SPV_AMD_shader_fragment_mask.html">SPV_AMD_shader_fragment_mask</a>
SPIR-V extension.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Aaron Hagan, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Timothy Lottes, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides efficient read access to the fragment mask in
compressed multisampled color surfaces.
The fragment mask is a lookup table that associates color samples with color
fragment values.</p>
</div>
<div class="paragraph">
<p>From a shader, the fragment mask can be fetched with a call to
<code>fragmentMaskFetchAMD</code>, which returns a single <code>uint</code> where each
subsequent four bits specify the color fragment index corresponding to the
color sample, starting from the least significant bit.
For example, when eight color samples are used, the color fragment index for
color sample 0 will be in bits 0-3 of the fragment mask, for color sample 7
the index will be in bits 28-31.</p>
</div>
<div class="paragraph">
<p>The color fragment for a particular color sample may then be fetched with
the corresponding fragment mask value using the <code>fragmentFetchAMD</code> shader
function.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_72">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_93">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_80">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_16">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-fragmentmaskamd"><code>FragmentMaskAMD</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_74">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_84">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_22">Examples</h4>
<div class="paragraph">
<p>This example shows a shader that queries the fragment mask from a
multisampled compressed surface and uses it to query fragment values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="preprocessor">#version</span> <span class="integer">450</span> core

<span class="preprocessor">#extension</span> GL_AMD_shader_fragment_mask: enable

layout(binding = <span class="integer">0</span>) uniform sampler2DMS       s2DMS;
layout(binding = <span class="integer">1</span>) uniform isampler2DMSArray is2DMSArray;

layout(binding = <span class="integer">2</span>, input_attachment_index = <span class="integer">0</span>) uniform usubpassInputMS usubpassMS;

layout(location = <span class="integer">0</span>) out vec4 fragColor;

<span class="directive">void</span> main()
{
    vec4 fragOne = vec4(<span class="float">0</span><span class="float">.0</span>);

    uint fragMask = fragmentMaskFetchAMD(s2DMS, ivec2(<span class="integer">2</span>, <span class="integer">3</span>));
    uint fragIndex = (fragMask &amp; <span class="hex">0xF0</span>) &gt;&gt; <span class="integer">4</span>;
    fragOne += fragmentFetchAMD(s2DMS, ivec2(<span class="integer">2</span>, <span class="integer">3</span>), <span class="integer">1</span>);

    fragMask = fragmentMaskFetchAMD(is2DMSArray, ivec3(<span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">1</span>));
    fragIndex = (fragMask &amp; <span class="hex">0xF0</span>) &gt;&gt; <span class="integer">4</span>;
    fragOne += fragmentFetchAMD(is2DMSArray, ivec3(<span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">1</span>), fragIndex);

    fragMask = fragmentMaskFetchAMD(usubpassMS);
    fragIndex = (fragMask &amp; <span class="hex">0xF0</span>) &gt;&gt; <span class="integer">4</span>;
    fragOne += fragmentFetchAMD(usubpassMS, fragIndex);

    fragColor = fragOne;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_87">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-16 (Aaron Hagan)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_shader_image_load_store_lod">VK_AMD_shader_image_load_store_lod</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_image_load_store_lod</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>47</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_shader_image_load_store_lod:%20&amp;body=@dominikwitczakamd%20"><span class="icon black"><i class="fa fa-github"></i></span>dominikwitczakamd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-08-21</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/AMD/SPV_AMD_shader_image_load_store_lod.html">SPV_AMD_shader_image_load_store_lod</a>
SPIR-V extension.</p>
</li>
<li>
<p>This extension requires
<a href="https://www.khronos.org/registry/OpenGL/extensions/AMD/AMD_shader_image_load_store_lod.txt">GL_AMD_shader_image_load_store_lod</a>
for GLSL-based source languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.khronos.org/registry/spir-v/extensions/AMD/SPV_AMD_shader_image_load_store_lod.html">SPV_AMD_shader_image_load_store_lod</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_88">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-08-21 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_shader_info">VK_AMD_shader_info</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_info</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>43</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jaakko Konttinen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_shader_info:%20&amp;body=@jaakkoamd%20"><span class="icon black"><i class="fa fa-github"></i></span>jaakkoamd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-10-09</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jaakko Konttinen, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds a way to query certain information about a compiled
shader which is part of a pipeline.
This information may include shader disassembly, shader binary and various
statistics about a shader’s resource usage.</p>
</div>
<div class="paragraph">
<p>While this extension provides a mechanism for extracting this information,
the details regarding the contents or format of this information are not
specified by this extension and may be provided by the vendor externally.</p>
</div>
<div class="paragraph">
<p>Furthermore, all information types are optionally supported, and users
should not assume every implementation supports querying every type of
information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_73">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_94">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_81">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#VkShaderInfoTypeAMD">VkShaderInfoTypeAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_75">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#VkShaderStatisticsInfoAMD">VkShaderStatisticsInfoAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_85">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#vkGetShaderInfoAMD">vkGetShaderInfoAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_examples_23">Examples</h4>
<div class="paragraph">
<p>This example extracts the register usage of a fragment shader within a
particular graphics pipeline:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="directive">extern</span> VkDevice device;
<span class="directive">extern</span> VkPipeline gfxPipeline;

PFN_vkGetShaderInfoAMD pfnGetShaderInfoAMD = (PFN_vkGetShaderInfoAMD)vkGetDeviceProcAddr(
    device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkGetShaderInfoAMD</span><span class="delimiter">&quot;</span></span>);

VkShaderStatisticsInfoAMD statistics = {};

size_t dataSize = <span class="keyword">sizeof</span>(statistics);

<span class="keyword">if</span> (pfnGetShaderInfoAMD(device,
    gfxPipeline,
    VK_SHADER_STAGE_FRAGMENT_BIT,
    VK_SHADER_INFO_TYPE_STATISTICS_AMD,
    &amp;dataSize,
    &amp;statistics) == VK_SUCCESS)
{
    printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">VGPR usage: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>, statistics.resourceUsage.numUsedVgprs);
    printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">SGPR usage: %d</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>, statistics.resourceUsage.numUsedSgprs);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example continues the previous example by subsequently
attempting to query and print shader disassembly about the fragment shader:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Query disassembly size (if available)</span>
<span class="keyword">if</span> (pfnGetShaderInfoAMD(device,
    gfxPipeline,
    VK_SHADER_STAGE_FRAGMENT_BIT,
    VK_SHADER_INFO_TYPE_DISASSEMBLY_AMD,
    &amp;dataSize,
    <span class="predefined-constant">nullptr</span>) == VK_SUCCESS)
{
    printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Fragment shader disassembly:</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>);

    <span class="directive">void</span>* disassembly = malloc(dataSize);

    <span class="comment">// Query disassembly and print</span>
    <span class="keyword">if</span> (pfnGetShaderInfoAMD(device,
        gfxPipeline,
        VK_SHADER_STAGE_FRAGMENT_BIT,
        VK_SHADER_INFO_TYPE_DISASSEMBLY_AMD,
        &amp;dataSize,
        disassembly) == VK_SUCCESS)
    {
        printf((<span class="predefined-type">char</span>*)disassembly);
    }

    free(disassembly);
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_89">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-10-09 (Jaakko Konttinen)</p>
<div class="ulist">
<ul>
<li>
<p>Initial revision</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_shader_trinary_minmax">VK_AMD_shader_trinary_minmax</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_shader_trinary_minmax</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>21</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Qun Lin <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_shader_trinary_minmax:%20&amp;body=@linqun%20"><span class="icon black"><i class="fa fa-github"></i></span>linqun</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-05-10</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.khronos.org/registry/spir-v/extensions/AMD/SPV_AMD_shader_trinary_minmax.html">SPV_AMD_shader_trinary_minmax</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_90">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-05-10 (Daniel Rakos)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_texture_gather_bias_lod">VK_AMD_texture_gather_bias_lod</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_texture_gather_bias_lod</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>42</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Rex Xu <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_texture_gather_bias_lod:%20&amp;body=@amdrexu%20"><span class="icon black"><i class="fa fa-github"></i></span>amdrexu</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-03-21</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/AMD/SPV_AMD_texture_gather_bias_lod.html">SPV_AMD_texture_gather_bias_lod</a>
SPIR-V extension.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
<li>
<p>Timothy Lottes, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds two related features.</p>
</div>
<div class="paragraph">
<p>Firstly, support for the following SPIR-V extension in Vulkan is added:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SPV_AMD_texture_gather_bias_lod</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Secondly, the extension allows the application to query which formats can be
used together with the new function prototypes introduced by the SPIR-V
extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_74">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_95">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_TEXTURE_LOD_GATHER_FORMAT_PROPERTIES_AMD</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_82">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_17">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-imagegatherbiaslodamd"><code>ImageGatherBiasLodAMD</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_76">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkTextureLODGatherFormatPropertiesAMD">VkTextureLODGatherFormatPropertiesAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_86">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_24">Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="keyword">struct</span> VkTextureLODGatherFormatPropertiesAMD
{
    VkStructureType sType;
    <span class="directive">const</span> <span class="directive">void</span>*     pNext;
    VkBool32        supportsTextureGatherLODBiasAMD;
};

<span class="comment">// ----------------------------------------------------------------------------------------</span>
<span class="comment">// How to detect if an image format can be used with the new function prototypes.</span>
VkPhysicalDeviceImageFormatInfo2   formatInfo;
VkImageFormatProperties2           formatProps;
VkTextureLODGatherFormatPropertiesAMD textureLODGatherSupport;

textureLODGatherSupport.sType = VK_STRUCTURE_TYPE_TEXTURE_LOD_GATHER_FORMAT_PROPERTIES_AMD;
textureLODGatherSupport.pNext = <span class="predefined-constant">nullptr</span>;

formatInfo.sType  = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2;
formatInfo.pNext  = <span class="predefined-constant">nullptr</span>;
formatInfo.format = ...;
formatInfo.type   = ...;
formatInfo.tiling = ...;
formatInfo.usage  = ...;
formatInfo.flags  = ...;

formatProps.sType = VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2;
formatProps.pNext = &amp;textureLODGatherSupport;

vkGetPhysicalDeviceImageFormatProperties2(physical_device, &amp;formatInfo, &amp;formatProps);

<span class="keyword">if</span> (textureLODGatherSupport.supportsTextureGatherLODBiasAMD == VK_TRUE)
{
    <span class="comment">// physical device supports SPV_AMD_texture_gather_bias_lod for the specified</span>
    <span class="comment">// format configuration.</span>
}
<span class="keyword">else</span>
{
    <span class="comment">// physical device does not support SPV_AMD_texture_gather_bias_lod for the</span>
    <span class="comment">// specified format configuration.</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_91">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-03-21 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_ANDROID_external_memory_android_hardware_buffer">VK_ANDROID_external_memory_android_hardware_buffer</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_ANDROID_external_memory_android_hardware_buffer</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>130</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_sampler_ycbcr_conversion">VK_KHR_sampler_ycbcr_conversion</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_external_memory">VK_KHR_external_memory</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_EXT_queue_family_foreign">VK_EXT_queue_family_foreign</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jesse Hall <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_ANDROID_external_memory_android_hardware_buffer:%20&amp;body=@critsec%20"><span class="icon black"><i class="fa fa-github"></i></span>critsec</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-04</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ray Smith, ARM</p>
</li>
<li>
<p>Chad Versace, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
<li>
<p>Tobias Hector, Imagination</p>
</li>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Tony Zlatinski, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm</p>
</li>
<li>
<p>Andrew Garrard, Samsung</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension enables an application to import Android <code>AHardwareBuffer</code>
objects created outside of the Vulkan device into Vulkan memory objects,
where they <strong class="purple">can</strong> be bound to images and buffers.
It also allows exporting an <code>AHardwareBuffer</code> from a Vulkan memory object
for symmetry with other operating systems.
But since not all <code>AHardwareBuffer</code> usages and formats have Vulkan
equivalents, exporting from Vulkan provides strictly less functionality than
creating the <code>AHardwareBuffer</code> externally and importing it.</p>
</div>
<div class="paragraph">
<p>Some <code>AHardwareBuffer</code> images have implementation-defined <em>external
formats</em> that <strong class="purple">may</strong> not correspond to Vulkan formats.
Sampler Y’C<sub>b</sub>C<sub>r</sub> conversion <strong class="purple">can</strong> be used to sample from these images and
convert them to a known color space.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_75">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_96">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_ANDROID_HARDWARE_BUFFER_USAGE_ANDROID</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ANDROID_HARDWARE_BUFFER_PROPERTIES_ANDROID</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ANDROID_HARDWARE_BUFFER_FORMAT_PROPERTIES_ANDROID</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_ANDROID_HARDWARE_BUFFER_INFO_ANDROID</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_MEMORY_GET_ANDROID_HARDWARE_BUFFER_INFO_ANDROID</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_FORMAT_ANDROID</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap35.html#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_ANDROID_HARDWARE_BUFFER_BIT_ANDROID</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_83">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_16">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkAndroidHardwareBufferUsageANDROID">VkAndroidHardwareBufferUsageANDROID</a></p>
</li>
<li>
<p><a href="chap10.html#VkAndroidHardwareBufferPropertiesANDROID">VkAndroidHardwareBufferPropertiesANDROID</a></p>
</li>
<li>
<p><a href="chap10.html#VkAndroidHardwareBufferFormatPropertiesANDROID">VkAndroidHardwareBufferFormatPropertiesANDROID</a></p>
</li>
<li>
<p><a href="chap10.html#VkImportAndroidHardwareBufferInfoANDROID">VkImportAndroidHardwareBufferInfoANDROID</a></p>
</li>
<li>
<p><a href="chap10.html#VkMemoryGetAndroidHardwareBufferInfoANDROID">VkMemoryGetAndroidHardwareBufferInfoANDROID</a></p>
</li>
<li>
<p><a href="chap11.html#VkExternalFormatANDROID">VkExternalFormatANDROID</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_87">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#vkGetAndroidHardwareBufferPropertiesANDROID">vkGetAndroidHardwareBufferPropertiesANDROID</a></p>
</li>
<li>
<p><a href="chap10.html#vkGetMemoryAndroidHardwareBufferANDROID">vkGetMemoryAndroidHardwareBufferANDROID</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_83">Issues</h4>
<div class="paragraph">
<p>1) Other external memory objects are represented as weakly-typed handles
(e.g. Win32 <code>HANDLE</code> or POSIX file descriptor), and require a handle type
parameter along with handles.
<code>AHardwareBuffer</code> is strongly typed, so naming the handle type is
redundant.
Does symmetry justify adding handle type parameters/fields anyway?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The handle type is already provided in places that treat external memory
objects generically.
In the places we would add it, the application code that would have to
provide the handle type value is already dealing with
<code>AHardwareBuffer</code>-specific commands/structures; the extra symmetry would
not be enough to make that code generic.</p>
</div>
<div class="paragraph">
<p>2) The internal layout and therefore size of a <code>AHardwareBuffer</code> image
may depend on native usage flags that do not have corresponding Vulkan
counterparts.
Do we provide this info to <a href="chap11.html#vkCreateImage">vkCreateImage</a> somehow, or allow the
allocation size reported by <a href="chap11.html#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a> to be
approximate?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Allow the allocation size to be unspecified when allocating the
memory.
It has to work this way for exported image memory anyway, since
<code>AHardwareBuffer</code> allocation happens in <a href="chap10.html#vkAllocateMemory">vkAllocateMemory</a>, and
internally is performed by a separate HAL, not the Vulkan implementation
itself.
There is a similar issue with <a href="chap11.html#vkGetImageSubresourceLayout">vkGetImageSubresourceLayout</a>: the layout
is determined by the allocator HAL, so it is not known until the image is
bound to memory.</p>
</div>
<div class="paragraph">
<p>3) Should the result of sampling an external-format image with the suggested
Y’C<sub>b</sub>C<sub>r</sub> conversion parameters yield the same results as using a
<code>samplerExternalOES</code> in OpenGL ES?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This would be desirable, so that apps converting from OpenGL ES
to Vulkan could get the same output given the same input.
But since sampling and conversion from Y’C<sub>b</sub>C<sub>r</sub> images is so loosely
defined in OpenGL ES, multiple implementations do it in a way that doesn’t
conform to Vulkan’s requirements.
Modifying the OpenGL ES implementation would be difficult, and would change
the output of existing unmodified applications.
Changing the output only for applications that are being modified gives
developers the chance to notice and mitigate any problems.
Implementations are encouraged to minimize differences as much as possible
without causing compatibility problems for existing OpenGL ES applications
or violating Vulkan requirements.</p>
</div>
<div class="paragraph">
<p>4) Should an <code>AHardwareBuffer</code> with <code>AHARDWAREBUFFER_USAGE_CPU_</code>*
usage be mappable in Vulkan? Should it be possible to export an
<code>AHardwareBuffers</code> with such usage?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Optional, and mapping in Vulkan is not the same as
<code>AHardwareBuffer_lock</code>.
The semantics of these are different: mapping in memory is persistent, just
gives a raw view of the memory contents, and does not involve ownership.
<code>AHardwareBuffer_lock</code> gives the host exclusive access to the buffer, is
temporary, and allows for reformatting copy-in/copy-out.
Implementations are not required to support host-visible memory types for
imported Android hardware buffers or resources backed by them.
If a host-visible memory type is supported and used, the memory can be
mapped in Vulkan, but doing so follows Vulkan semantics: it is just a raw
view of the data and does not imply ownership (this means implementations
must not internally call <code>AHardwareBuffer_lock</code> to implement
<a href="chap10.html#vkMapMemory">vkMapMemory</a>, or assume the application has done so).
Implementations are not required to support linear-tiled images backed by
Android hardware buffers, even if the <code>AHardwareBuffer</code> has CPU usage.
There is no reliable way to allocate memory in Vulkan that can be exported
to a <code>AHardwareBuffer</code> with CPU usage.</p>
</div>
<div class="paragraph">
<p>5) Android may add new <code>AHardwareBuffer</code> formats and usage flags over
time.
Can reference to them be added to this extension, or do they need a new
extension?</p>
</div>
<div class="paragraph">
<p>RESOLVED: This extension can document the interaction between the new AHB
formats/usages and existing Vulkan features.
No new Vulkan features or implementation requirements can be added.
The extension version number will be incremented when this additional
documentation is added, but the version number does not indicate that an
implementaiton supports Vulkan memory or resources that map to the new
<code>AHardwareBuffer</code> features: support for that must be queried with
<a href="#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a> or is implied by
successfully allocating a <code>AHardwareBuffer</code> outside of Vulkan that uses
the new feature and has a GPU usage flag.</p>
</div>
<div class="paragraph">
<p>In essence, these are new features added to a new Android API level, rather
than new Vulkan features.
The extension will only document how existing Vulkan features map to that
new Android feature.</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_FUCHSIA_imagepipe_surface">VK_FUCHSIA_imagepipe_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_FUCHSIA_imagepipe_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>215</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Craig Stout <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_FUCHSIA_imagepipe_surface:%20&amp;body=@cdotstout%20"><span class="icon black"><i class="fa fa-github"></i></span>cdotstout</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-27</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Craig Stout, Google</p>
</li>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_FUCHSIA_imagepipe_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a Fuchsia
<code>imagePipeHandle</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_76">New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_97">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMAGEPIPE_SURFACE_CREATE_INFO_FUCHSIA</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_84">New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_77">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkImagePipeSurfaceCreateInfoFUCHSIA">VkImagePipeSurfaceCreateInfoFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_88">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkCreateImagePipeSurfaceFUCHSIA">vkCreateImagePipeSurfaceFUCHSIA</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_84">Issues</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_92">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-27 (Craig Stout)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_GOOGLE_decorate_string">VK_GOOGLE_decorate_string</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_GOOGLE_decorate_string</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>225</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>0</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hai Nguyen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_GOOGLE_decorate_string:%20&amp;body=@chaoticbob%20"><span class="icon black"><i class="fa fa-github"></i></span>chaoticbob</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-09</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires the
<a href="https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/GOOGLE/SPV_GOOGLE_decorate_string.asciidoc">SPV_GOOGLE_decorate_string</a>
SPIR-V extension.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hai Nguyen, Google</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_GOOGLE_decorate_string</code> extension allows use of the
<code>SPV_GOOGLE_decorate_string</code> extension in SPIR-V shader modules.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_98">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_78">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_18">New SPIR-V Capabilities</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_85">Issues</h4>

</div>
<div class="sect3">
<h4 id="_version_history_93">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-09 (Neil Henning)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_GOOGLE_display_timing">VK_GOOGLE_display_timing</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_GOOGLE_display_timing</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>93</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_GOOGLE_display_timing:%20&amp;body=@ianelliottus%20"><span class="icon black"><i class="fa fa-github"></i></span>ianelliottus</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ian Elliott, Google</p>
</li>
<li>
<p>Jesse Hall, Google</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This device extension allows an application that uses the
<code><a href="#VK_KHR_swapchain">VK_KHR_swapchain</a></code> extension to obtain information about the
presentation engine’s display, to obtain timing information about each
present, and to schedule a present to happen no earlier than a desired time.
An application can use this to minimize various visual anomalies (e.g.
stuttering).</p>
</div>
<div class="paragraph">
<p>Traditional game and real-time animation applications need to correctly
position their geometry for when the presentable image will be presented to
the user.
To accomplish this, applications need various timing information about the
presentation engine’s display.
They need to know when presentable images were actually presented, and when
they could have been presented.
Applications also need to tell the presentation engine to display an image
no sooner than a given time.
This allows the application to avoid stuttering, so the animation looks
smooth to the user.</p>
</div>
<div class="paragraph">
<p>This extension treats variable-refresh-rate (VRR) displays as if they are
fixed-refresh-rate (FRR) displays.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_77">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_99">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PRESENT_TIMES_INFO_GOOGLE</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_85">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_79">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkRefreshCycleDurationGOOGLE">VkRefreshCycleDurationGOOGLE</a></p>
</li>
<li>
<p><a href="chap32.html#VkPastPresentationTimingGOOGLE">VkPastPresentationTimingGOOGLE</a></p>
</li>
<li>
<p><a href="chap32.html#VkPresentTimesInfoGOOGLE">VkPresentTimesInfoGOOGLE</a></p>
</li>
<li>
<p><a href="chap32.html#VkPresentTimeGOOGLE">VkPresentTimeGOOGLE</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_89">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkGetRefreshCycleDurationGOOGLE">vkGetRefreshCycleDurationGOOGLE</a></p>
</li>
<li>
<p><a href="chap32.html#vkGetPastPresentationTimingGOOGLE">vkGetPastPresentationTimingGOOGLE</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_86">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_25">Examples</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The example code for the this extension (like the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> and
<code>VK_GOOGLE_display_timing</code> extensions) is contained in the cube demo that is
shipped with the official Khronos SDK, and is being kept up-to-date in that
location (see:
<a href="https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c" class="bare">https://github.com/KhronosGroup/Vulkan-Tools/blob/master/cube/cube.c</a> ).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_94">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-14 (Ian Elliott)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_GOOGLE_hlsl_functionality1">VK_GOOGLE_hlsl_functionality1</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_GOOGLE_hlsl_functionality1</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>224</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>0</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hai Nguyen <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_GOOGLE_hlsl_functionality1:%20&amp;body=@chaoticbob%20"><span class="icon black"><i class="fa fa-github"></i></span>chaoticbob</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-09</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires the
<a href="https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/GOOGLE/SPV_GOOGLE_hlsl_functionality1.asciidoc">SPV_GOOGLE_hlsl_functionality1</a>
SPIR-V extension.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Hai Nguyen, Google</p>
</li>
<li>
<p>Neil Henning, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_GOOGLE_hlsl_functionality1</code> extension allows use of the
<code>SPV_GOOGLE_hlsl_functionality1</code> extension in SPIR-V shader modules.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_100">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_80">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_19">New SPIR-V Capabilities</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_87">Issues</h4>

</div>
<div class="sect3">
<h4 id="_version_history_95">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-09 (Neil Henning)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_IMG_filter_cubic">VK_IMG_filter_cubic</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_IMG_filter_cubic</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>16</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_IMG_filter_cubic:%20&amp;body=@tobski%20"><span class="icon black"><i class="fa fa-github"></i></span>tobski</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-02-23</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Tobias Hector, Imagination Technologies</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code>VK_IMG_filter_cubic</code> adds an additional, high quality cubic filtering mode
to Vulkan, using a Catmull-Rom bicubic filter.
Performing this kind of filtering can be done in a shader by using 16
samples and a number of instructions, but this can be inefficient.
The cubic filter mode exposes an optimized high quality texture sampling
using fixed texture sampling functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_101">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap12.html#VkFilter">VkFilter</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FILTER_CUBIC_IMG</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap35.html#VkFormatFeatureFlagBits">VkFormatFeatureFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_IMG</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_example_3">Example</h4>
<div class="paragraph">
<p>Creating a sampler with the new filter for both magnification and
minification</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    VkSamplerCreateInfo createInfo =
    {
        VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO <span class="comment">// sType</span>
        <span class="comment">// Other members set to application-desired values</span>
    };

    createInfo.magFilter = VK_FILTER_CUBIC_IMG;
    createInfo.minFilter = VK_FILTER_CUBIC_IMG;

    VkSampler sampler;
    VkResult result = vkCreateSampler(
        device,
        &amp;createInfo,
        &amp;sampler);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_96">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-02-23 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Initial version</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_MVK_ios_surface">VK_MVK_ios_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_MVK_ios_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>123</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_MVK_ios_surface:%20&amp;body=@billhollings%20"><span class="icon black"><i class="fa fa-github"></i></span>billhollings</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-24</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings, The Brenwill Workshop Ltd.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_MVK_ios_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to a <code>UIView</code>, the native
surface type of iOS, which is underpinned by a <code>CAMetalLayer</code>, to support
rendering to the surface using Apple’s Metal framework.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_78">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_102">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IOS_SURFACE_CREATE_INFO_MVK</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_86">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_81">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkIOSSurfaceCreateInfoMVK">VkIOSSurfaceCreateInfoMVK</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_90">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkCreateIOSSurfaceMVK">vkCreateIOSSurfaceMVK</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_88">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_97">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-15 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-02-24 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Minor syntax fix to emphasize firm requirement for UIView to be backed
by a CAMetalLayer.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_MVK_macos_surface">VK_MVK_macos_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_MVK_macos_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>124</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_MVK_macos_surface:%20&amp;body=@billhollings%20"><span class="icon black"><i class="fa fa-github"></i></span>billhollings</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-24</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bill Hollings, The Brenwill Workshop Ltd.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_MVK_macos_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) that refers to an <code>NSView</code>, the
native surface type of macOS, which is underpinned by a <code>CAMetalLayer</code>,
to support rendering to the surface using Apple’s Metal framework.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_79">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_103">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_MACOS_SURFACE_CREATE_INFO_MVK</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_87">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_82">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkMacOSSurfaceCreateInfoMVK">VkMacOSSurfaceCreateInfoMVK</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_91">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkCreateMacOSSurfaceMVK">vkCreateMacOSSurfaceMVK</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_89">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_98">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-15 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-02-24 (Bill Hollings)</p>
<div class="ulist">
<ul>
<li>
<p>Minor syntax fix to emphasize firm requirement for NSView to be backed
by a CAMetalLayer.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NN_vi_surface">VK_NN_vi_surface</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NN_vi_surface</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>63</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mathias Heyer <span class="icon red"><i class="fa fa-gitlab"></i></span>mheyer</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Mathias Heyer, NVIDIA</p>
</li>
<li>
<p>Michael Chock, NVIDIA</p>
</li>
<li>
<p>Yasuhiro Yoshioka, Nintendo</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_NN_vi_surface</code> extension is an instance extension.
It provides a mechanism to create a <a href="chap32.html#VkSurfaceKHR">VkSurfaceKHR</a> object (defined by
the <code><a href="#VK_KHR_surface">VK_KHR_surface</a></code> extension) associated with an
<code>nn</code>::<code>vi</code>::<code>Layer</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_80">New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_104">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_VI_SURFACE_CREATE_INFO_NN</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_88">New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_83">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#VkViSurfaceCreateInfoNN">VkViSurfaceCreateInfoNN</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_92">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap32.html#vkCreateViSurfaceNN">vkCreateViSurfaceNN</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_90">Issues</h4>
<div class="paragraph">
<p>1) Does VI need a way to query for compatibility between a particular
physical device (and queue family?) and a specific VI display?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
It is currently always assumed that the device and display will always be
compatible.</p>
</div>
<div class="paragraph">
<p>2) <a href="chap32.html#VkViSurfaceCreateInfoNN">VkViSurfaceCreateInfoNN</a>::<code>pWindow</code> is intended to store an
<code>nn</code>::<code>vi</code>::<code>NativeWindowHandle</code>, but its declared type is a bare
<code>void</code>* to store the window handle.
Why the discrepancy?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: It is for C compatibility.
The definition for the VI native window handle type is defined inside the
<code>nn</code>::<code>vi</code> C++ namespace.
This prevents its use in C source files.
<code>nn</code>::<code>vi</code>::<code>NativeWindowHandle</code> is always defined to be
<code>void</code>*, so this extension uses <code>void</code>* to match.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_99">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-2 (Michael Chock)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NVX_device_generated_commands">VK_NVX_device_generated_commands</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NVX_device_generated_commands</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>87</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NVX_device_generated_commands:%20&amp;body=@pixeljetstream%20"><span class="icon black"><i class="fa fa-github"></i></span>pixeljetstream</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-07-25</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Mathias Schott, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Detlef Roettger, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Chris Hebert, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows the device to generate a number of critical commands
for command buffers.</p>
</div>
<div class="paragraph">
<p>When rendering a large number of objects, the device can be leveraged to
implement a number of critical functions, like updating matrices, or
implementing occlusion culling, frustum culling, front to back sorting, etc.
Implementing those on the device does not require any special extension,
since an application is free to define its own data structure, and just
process them using shaders.</p>
</div>
<div class="paragraph">
<p>However, if the application desires to quickly kick off the rendering of the
final stream of objects, then unextended Vulkan forces the application to
read back the processed stream and issue graphics command from the host.
For very large scenes, the synchronization overhead, and cost to generate
the command buffer can become the bottleneck.
This extension allows an application to generate a device side stream of
state changes and commands, and convert it efficiently into a command buffer
without having to read it back on the host.</p>
</div>
<div class="paragraph">
<p>Furthermore, it allows incremental changes to such command buffers by
manipulating only partial sections of a command stream — for example
pipeline bindings.
Unextended Vulkan requires re-creation of entire command buffers in such
scenario, or updates synchronized on the host.</p>
</div>
<div class="paragraph">
<p>The intended usage for this extension is for the application to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create its objects as in unextended Vulkan</p>
</li>
<li>
<p>create a <a href="chap30.html#VkObjectTableNVX">VkObjectTableNVX</a>, and register the various Vulkan objects
that are needed to evaluate the input parameters.</p>
</li>
<li>
<p>create a <a href="chap30.html#VkIndirectCommandsLayoutNVX">VkIndirectCommandsLayoutNVX</a>, which lists the
<a href="chap30.html#VkIndirectCommandsTokenTypeNVX">VkIndirectCommandsTokenTypeNVX</a> it wants to dynamically change as
atomic command sequence.
This step likely involves some internal device code compilation, since
the intent is for the GPU to generate the command buffer in the
pipeline.</p>
</li>
<li>
<p>fill the input buffers with the data for each of the inputs it needs.
Each input is an array that will be filled with an index in the object
table, instead of using CPU pointers.</p>
</li>
<li>
<p>set up a target secondary command buffer</p>
</li>
<li>
<p>reserve command buffer space via <a href="chap30.html#vkCmdReserveSpaceForCommandsNVX">vkCmdReserveSpaceForCommandsNVX</a>
in a target command buffer at the position you want the generated
commands to be executed.</p>
</li>
<li>
<p>call <a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a> to create the actual device commands
for all sequences based on the array contents into a provided target
command buffer.</p>
</li>
<li>
<p>execute the target command buffer like a regular secondary command
buffer</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For each draw/dispatch, the following can be specified:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a different pipeline state object</p>
</li>
<li>
<p>a number of descriptor sets, with dynamic offsets</p>
</li>
<li>
<p>a number of vertex buffer bindings, with an optional dynamic offset</p>
</li>
<li>
<p>a different index buffer, with an optional dynamic offset</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Applications <strong class="purple">should</strong> register a small number of objects, and use dynamic
offsets whenever possible.</p>
</div>
<div class="paragraph">
<p>While the GPU can be faster than a CPU to generate the commands, it may not
happen asynchronously, therefore the primary use-case is generating “less”
total work (occlusion culling, classification to use specialized shaders,
etc.).</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_81">New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkObjectTableNVX">VkObjectTableNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkIndirectCommandsLayoutNVX">VkIndirectCommandsLayoutNVX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_flag_types">New Flag Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkIndirectCommandsLayoutUsageFlagsNVX">VkIndirectCommandsLayoutUsageFlagsNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkObjectEntryUsageFlagsNVX">VkObjectEntryUsageFlagsNVX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_105">New Enum Constants</h4>
<div class="paragraph">
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_OBJECT_TABLE_CREATE_INFO_NVX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_INDIRECT_COMMANDS_LAYOUT_CREATE_INFO_NVX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_CMD_PROCESS_COMMANDS_INFO_NVX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_CMD_RESERVE_SPACE_FOR_COMMANDS_INFO_NVX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GENERATED_COMMANDS_LIMITS_NVX</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEVICE_GENERATED_COMMANDS_FEATURES_NVX</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Extending <a href="chap6.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_COMMAND_PROCESS_BIT_NVX</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Extending <a href="chap6.html#VkAccessFlagBits">VkAccessFlagBits</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_COMMAND_PROCESS_READ_BIT_NVX</code></p>
</li>
<li>
<p><code>VK_ACCESS_COMMAND_PROCESS_WRITE_BIT_NVX</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_89">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkIndirectCommandsLayoutUsageFlagBitsNVX">VkIndirectCommandsLayoutUsageFlagBitsNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkIndirectCommandsTokenTypeNVX">VkIndirectCommandsTokenTypeNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkObjectEntryUsageFlagBitsNVX">VkObjectEntryUsageFlagBitsNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkObjectEntryTypeNVX">VkObjectEntryTypeNVX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_84">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkDeviceGeneratedCommandsFeaturesNVX">VkDeviceGeneratedCommandsFeaturesNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkDeviceGeneratedCommandsLimitsNVX">VkDeviceGeneratedCommandsLimitsNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkIndirectCommandsTokenNVX">VkIndirectCommandsTokenNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkIndirectCommandsLayoutTokenNVX">VkIndirectCommandsLayoutTokenNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkIndirectCommandsLayoutCreateInfoNVX">VkIndirectCommandsLayoutCreateInfoNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkCmdProcessCommandsInfoNVX">VkCmdProcessCommandsInfoNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkCmdReserveSpaceForCommandsInfoNVX">VkCmdReserveSpaceForCommandsInfoNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkObjectTableCreateInfoNVX">VkObjectTableCreateInfoNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkObjectTableEntryNVX">VkObjectTableEntryNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkObjectTablePipelineEntryNVX">VkObjectTablePipelineEntryNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkObjectTableDescriptorSetEntryNVX">VkObjectTableDescriptorSetEntryNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkObjectTableVertexBufferEntryNVX">VkObjectTableVertexBufferEntryNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkObjectTableIndexBufferEntryNVX">VkObjectTableIndexBufferEntryNVX</a></p>
</li>
<li>
<p><a href="chap30.html#VkObjectTablePushConstantEntryNVX">VkObjectTablePushConstantEntryNVX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_93">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a></p>
</li>
<li>
<p><a href="chap30.html#vkCmdReserveSpaceForCommandsNVX">vkCmdReserveSpaceForCommandsNVX</a></p>
</li>
<li>
<p><a href="chap30.html#vkCreateIndirectCommandsLayoutNVX">vkCreateIndirectCommandsLayoutNVX</a></p>
</li>
<li>
<p><a href="chap30.html#vkDestroyIndirectCommandsLayoutNVX">vkDestroyIndirectCommandsLayoutNVX</a></p>
</li>
<li>
<p><a href="chap30.html#vkCreateObjectTableNVX">vkCreateObjectTableNVX</a></p>
</li>
<li>
<p><a href="chap30.html#vkDestroyObjectTableNVX">vkDestroyObjectTableNVX</a></p>
</li>
<li>
<p><a href="chap30.html#vkRegisterObjectsNVX">vkRegisterObjectsNVX</a></p>
</li>
<li>
<p><a href="chap30.html#vkUnregisterObjectsNVX">vkUnregisterObjectsNVX</a></p>
</li>
<li>
<p><a href="chap30.html#vkGetPhysicalDeviceGeneratedCommandsPropertiesNVX">vkGetPhysicalDeviceGeneratedCommandsPropertiesNVX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_91">Issues</h4>
<div class="paragraph">
<p>1) How to name this extension ?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>VK_NVX_device_generated_commands</code></p>
</div>
<div class="paragraph">
<p>As usual, one of the hardest issues ;)</p>
</div>
<div class="paragraph">
<p>Alternatives: <code>VK_gpu_commands</code>, <code>VK_execute_commands</code>,
<code>VK_device_commands</code>, <code>VK_device_execute_commands</code>, <code>VK_device_execute</code>,
<code>VK_device_created_commands</code>, <code>VK_device_recorded_commands</code>,
<code>VK_device_generated_commands</code></p>
</div>
<div class="paragraph">
<p>2) Should we use serial tokens or redundant sequence description?</p>
</div>
<div class="paragraph">
<p>Similarly to <a href="chap9.html#VkPipeline">VkPipeline</a>, signatures have the most likelihood to be
cross-vendor adoptable.
They also benefit from being processable in parallel.</p>
</div>
<div class="paragraph">
<p>3) How to name sequence description</p>
</div>
<div class="paragraph">
<p><code>ExecuteCommandSignature</code> is a bit long.
Maybe just <code>ExecuteSignature</code>, or actually more following Vulkan
nomenclature: <a href="chap30.html#VkIndirectCommandsLayoutNVX">VkIndirectCommandsLayoutNVX</a>.</p>
</div>
<div class="paragraph">
<p>4) Do we want to provide <code>indirectCommands</code> inputs with layout or at
<code>indirectCommands</code> time?</p>
</div>
<div class="paragraph">
<p>Separate layout from data as Vulkan does.
Provide full flexibilty for <code>indirectCommands</code>.</p>
</div>
<div class="paragraph">
<p>5) Should the input be provided as SoA or AoS?</p>
</div>
<div class="paragraph">
<p>It is desirable for the application to reuse the list of objects and render
them with some kind of an override.
This can be done by just selecting a different input for a push constant or
a descriptor set, if they are defined as independent arrays.
If the data was interleaved, this would not be as easily possible.</p>
</div>
<div class="paragraph">
<p>Allowing input divisors can also reduce the conservative command buffer
allocation.</p>
</div>
<div class="paragraph">
<p>6) How do we know the size of the GPU command buffer generated by
<a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a> ?</p>
</div>
<div class="paragraph">
<p><code>maxSequenceCount</code> can give an upper estimate, even if the actual count
is sourced from the gpu buffer at (buffer, countOffset).
As such <code>maxSequenceCount</code> must always be set correctly.</p>
</div>
<div class="paragraph">
<p>Developers are encouraged to make well use the
<a href="chap30.html#VkIndirectCommandsLayoutNVX">VkIndirectCommandsLayoutNVX</a>’s <code>pTokens</code>[].divisor, as they allow
less conservative storage costs.
Especially pipeline changes on a per-draw basis can be costly memory wise.</p>
</div>
<div class="paragraph">
<p>7) How to deal with dynamic offsets in DescriptorSets?</p>
</div>
<div class="paragraph">
<p>Maybe additional token <code>VK_EXECUTE_DESCRIPTOR_SET_OFFSET_COMMAND_NVX</code>
that works for a “single dynamic buffer” descriptor set and then use (32
bit tableEntry + 32bit offset)</p>
</div>
<div class="paragraph">
<p>added dynamicCount field, variable sized input</p>
</div>
<div class="paragraph">
<p>8) Should we allow updates to the object table, similar to DescriptorSet?</p>
</div>
<div class="paragraph">
<p>Desired yes, people may change “material” shaders and not want to recreate
the entire register table.
However the developer must ensure to not overwrite a registered objectIndex
while it is still being used.</p>
</div>
<div class="paragraph">
<p>9) Should we allow dynamic state changes?</p>
</div>
<div class="paragraph">
<p>Seems a bit excessive for “per-draw” type of scenario, but GPU could
partition work itself with viewport/scissor…​</p>
</div>
<div class="paragraph">
<p>10) How do we allow re-using already “filled” <code>indirectCommands</code>
buffers?</p>
</div>
<div class="paragraph">
<p>just use a <a href="chap5.html#VkCommandBuffer">VkCommandBuffer</a> for the output, and it can be reused
easily.</p>
</div>
<div class="paragraph">
<p>11) How portable should such re-use be?</p>
</div>
<div class="paragraph">
<p>Same as secondary command buffer</p>
</div>
<div class="paragraph">
<p>12) Should sequenceOrdered be part of IndirectCommandsLayout or
<a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a>?</p>
</div>
<div class="paragraph">
<p>Seems better for IndirectCommandsLayout, as that is when most heavy lifting
in terms of internal device code generation is done.</p>
</div>
<div class="paragraph">
<p>13) Under which conditions is <a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a> legal?</p>
</div>
<div class="paragraph">
<p>Options:</p>
</div>
<div class="paragraph">
<p>a) on the host command buffer like a regular draw call</p>
</div>
<div class="paragraph">
<p>b) <a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a> makes use <a href="chap5.html#VkCommandBufferBeginInfo">VkCommandBufferBeginInfo</a>
   and serves as <a href="chap5.html#vkBeginCommandBuffer">vkBeginCommandBuffer</a> / <a href="chap5.html#vkEndCommandBuffer">vkEndCommandBuffer</a>
   implicitly.</p>
</div>
<div class="paragraph">
<p>c) The <code>targetCommandbuffer</code> must be inside the “begin” state already
   at the moment of being passed.
   This very likely suggests a new <a href="chap5.html#VkCommandBufferUsageFlags">VkCommandBufferUsageFlags</a>
   <code>VK_COMMAND_BUFFER_USAGE_DEVICE_GENERATED_BIT</code>.</p>
</div>
<div class="paragraph">
<p>d) The <code>targetCommandbuffer</code> must reserve space via a new function.</p>
</div>
<div class="paragraph">
<p>used a) and d).</p>
</div>
<div class="paragraph">
<p>14) What if different pipelines have different DescriptorSetLayouts at a
certain set unit that mismatches in <code>token</code>.dynamicCount?</p>
</div>
<div class="paragraph">
<p>Considered legal, as long as the maximum dynamic count of all used
DescriptorSetLayouts is provided.</p>
</div>
<div class="paragraph">
<p>15) Should we add “strides” to input arrays, so that “Array of
Structures” type setups can be supported more easily?</p>
</div>
<div class="paragraph">
<p>Maybe provide a usage flag for packed tokens stream (all inputs from same
buffer, implicit stride).</p>
</div>
<div class="paragraph">
<p>No, given performance test was worse.</p>
</div>
<div class="paragraph">
<p>16) Should we allow re-using the target command buffer directly, without
need to reset command buffer?</p>
</div>
<div class="paragraph">
<p>YES: new api <a href="chap30.html#vkCmdReserveSpaceForCommandsNVX">vkCmdReserveSpaceForCommandsNVX</a>.</p>
</div>
<div class="paragraph">
<p>17) Is <a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a> copying the input data or referencing
it ?</p>
</div>
<div class="paragraph">
<p>There are multiple implementations possible:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>one could have some emulation code that parse the inputs, and generates
an output command buffer, therefore copying the inputs.</p>
</li>
<li>
<p>one could just reference the inputs, and have the processing done in
pipe at execution time.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the data is mandated to be copied, then it puts a penalty on
implementation that could process the inputs directly in pipe.
If the data is “referenced”, then it allows both types of implementation</p>
</div>
<div class="paragraph">
<p>The inputs are “referenced”, and should not be modified after the call to
<a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a> and until after the rendering of the target
command buffer is finished.</p>
</div>
<div class="paragraph">
<p>18) Why is this NVX and not NV?</p>
</div>
<div class="paragraph">
<p>To allow early experimentation and feedback.
We expect that a version with a refined design as multi-vendor variant will
follow up.</p>
</div>
<div class="paragraph">
<p>19) Should we make the availability for each token type a device limit?</p>
</div>
<div class="paragraph">
<p>Only distinguish between graphics/compute for now, further splitting up may
lead to too much fractioning.</p>
</div>
<div class="paragraph">
<p>20) When can the <code>objectTable</code> be modified?</p>
</div>
<div class="paragraph">
<p>Similar to the other inputs for <a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a>, only when all
device access via <a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a> or execution of target
command buffer has completed can an object at a given objectIndex be
unregistered or re-registered again.</p>
</div>
<div class="paragraph">
<p>21) Which buffer usage flags are required for the buffers referenced by
<a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a></p>
</div>
<div class="paragraph">
<p>reuse existing <code>VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap30.html#VkCmdProcessCommandsInfoNVX">VkCmdProcessCommandsInfoNVX</a>::<code>sequencesCountBuffer</code></p>
</li>
<li>
<p><a href="chap30.html#VkCmdProcessCommandsInfoNVX">VkCmdProcessCommandsInfoNVX</a>::<code>sequencesIndexBuffer</code></p>
</li>
<li>
<p><a href="chap30.html#VkIndirectCommandsTokenNVX">VkIndirectCommandsTokenNVX</a>::<code>buffer</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>22) In which pipeline stage do the device generated command expansion
happen?</p>
</div>
<div class="paragraph">
<p><a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a> is treated as if it occurs in a separate
logical pipeline from either graphics or compute, and that pipeline only
includes <code>VK_PIPELINE_STAGE_TOP_OF_PIPE_BIT</code>, a new stage
<code>VK_PIPELINE_STAGE_COMMAND_PROCESS_BIT_NVX</code>, and
<code>VK_PIPELINE_STAGE_BOTTOM_OF_PIPE_BIT</code>.
This new stage has two corresponding new access types,
<code>VK_ACCESS_COMMAND_PROCESS_READ_BIT_NVX</code> and
<code>VK_ACCESS_COMMAND_PROCESS_WRITE_BIT_NVX</code>, used to synchronize reading
the buffer inputs and writing the command buffer memory output.
The output written in the target command buffer is considered to be consumed
by the <code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code> pipeline stage.</p>
</div>
<div class="paragraph">
<p>Thus, to synchronize from writing the input buffers to executing
<a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a>, use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dstStageMask</code> = <code>VK_PIPELINE_STAGE_COMMAND_PROCESS_BIT_NVX</code></p>
</li>
<li>
<p><code>dstAccessMask</code> = <code>VK_ACCESS_COMMAND_PROCESS_READ_BIT_NVX</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To synchronize from executing <a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a> to executing the
generated commands, use</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>srcStageMask</code> = <code>VK_PIPELINE_STAGE_COMMAND_PROCESS_BIT_NVX</code></p>
</li>
<li>
<p><code>srcAccessMask</code> = <code>VK_ACCESS_COMMAND_PROCESS_WRITE_BIT_NVX</code></p>
</li>
<li>
<p><code>dstStageMask</code> = <code>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT</code></p>
</li>
<li>
<p><code>dstAccessMask</code> = <code>VK_ACCESS_INDIRECT_COMMAND_READ_BIT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <a href="chap30.html#vkCmdProcessCommandsNVX">vkCmdProcessCommandsNVX</a> is used with a <code>targetCommandBuffer</code>
of <code>NULL</code>, the generated commands are immediately executed and there is
implicit synchronization between generation and execution.</p>
</div>
<div class="paragraph">
<p>23) What if most token data is “static”, but we frequently want to render
a subsection?</p>
</div>
<div class="paragraph">
<p>added “sequencesIndexBuffer”.
This allows to easier sort and filter what should actually be processed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_code">Example Code</h4>
<div class="paragraph">
<p>Open-Source samples illustrating the usage of the extension can be found at
the following locations:</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/nvpro-samples/gl_vk_threaded_cadscene/blob/master/doc/vulkan_nvxdevicegenerated.md" class="bare">https://github.com/nvpro-samples/gl_vk_threaded_cadscene/blob/master/doc/vulkan_nvxdevicegenerated.md</a></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/NVIDIAGameWorks/GraphicsSamples/tree/master/samples/vk10-kepler/BasicDeviceGeneratedCommandsVk" class="bare">https://github.com/NVIDIAGameWorks/GraphicsSamples/tree/master/samples/vk10-kepler/BasicDeviceGeneratedCommandsVk</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">  <span class="comment">// setup secondary command buffer</span>
    vkBeginCommandBuffer(generatedCmdBuffer, &amp;beginInfo);
    ... setup its state as usual

  <span class="comment">// insert the reservation (there can only be one per command buffer)</span>
  <span class="comment">// where the generated calls should be filled into</span>
    VkCmdReserveSpaceForCommandsInfoNVX reserveInfo = { VK_STRUCTURE_TYPE_CMD_RESERVE_SPACE_FOR_COMMANDS_INFO_NVX };
    reserveInfo.objectTable = objectTable;
    reserveInfo.indirectCommandsLayout = deviceGeneratedLayout;
    reserveInfo.maxSequencesCount = myCount;
    vkCmdReserveSpaceForCommandsNVX(generatedCmdBuffer, &amp;reserveInfo);

    vkEndCommandBuffer(generatedCmdBuffer);

  <span class="comment">// trigger the generation at some point in another primary command buffer</span>
    VkCmdProcessCommandsInfoNVX processInfo = { VK_STRUCTURE_TYPE_CMD_PROCESS_COMMANDS_INFO_NVX };
    processInfo.objectTable = objectTable;
    processInfo.indirectCommandsLayout = deviceGeneratedLayout;
    processInfo.maxSequencesCount = myCount;
    <span class="comment">// set the target of the generation (if null we would directly execute with mainCmd)</span>
    processInfo.targetCommandBuffer = generatedCmdBuffer;
    <span class="comment">// provide input data</span>
    processInfo.indirectCommandsTokenCount = <span class="integer">3</span>;
    processInfo.pIndirectCommandsTokens = myTokens;

  <span class="comment">// If you modify the input buffer data referenced by VkCmdProcessCommandsInfoNVX,</span>
  <span class="comment">// ensure you have added the appropriate barriers prior generation process.</span>
  <span class="comment">// When regenerating the content of the same reserved space, ensure prior operations have completed</span>

    VkMemoryBarrier memoryBarrier = { VK_STRUCTURE_TYPE_MEMORY_BARRIER };
    memoryBarrier.srcAccessMask = ...;
    memoryBarrier.dstAccessMask = VK_ACCESS_COMMAND_PROCESS_READ_BIT_NVX;

    vkCmdPipelineBarrier(mainCmd,
                         <span class="comment">/*srcStageMask*/</span>VK_PIPELINE_STAGE_ALL_COMMANDS_BIT,
                         <span class="comment">/*dstStageMask*/</span>VK_PIPELINE_STAGE_COMMAND_PROCESS_BIT_NVX,
                         <span class="comment">/*dependencyFlags*/</span><span class="integer">0</span>,
                         <span class="comment">/*memoryBarrierCount*/</span><span class="integer">1</span>,
                         <span class="comment">/*pMemoryBarriers*/</span>&amp;memoryBarrier,
                         ...);

    vkCmdProcessCommandsNVX(mainCmd, &amp;processInfo);
    ...
  <span class="comment">// execute the secondary command buffer and ensure the processing that modifies command-buffer content</span>
  <span class="comment">// has completed</span>

    memoryBarrier.srcAccessMask = VK_ACCESS_COMMAND_PROCESS_WRITE_BIT_NVX;
    memoryBarrier.dstAccessMask = VK_ACCESS_INDIRECT_COMMAND_READ_BIT;

    vkCmdPipelineBarrier(mainCmd,
                         <span class="comment">/*srcStageMask*/</span>VK_PIPELINE_STAGE_COMMAND_PROCESS_BIT_NVX,
                         <span class="comment">/*dstStageMask*/</span>VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT,
                         <span class="comment">/*dependencyFlags*/</span><span class="integer">0</span>,
                         <span class="comment">/*memoryBarrierCount*/</span><span class="integer">1</span>,
                         <span class="comment">/*pMemoryBarriers*/</span>&amp;memoryBarrier,
                         ...)
    vkCmdExecuteCommands(mainCmd, <span class="integer">1</span>, &amp;generatedCmdBuffer);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_100">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 3, 2017-07-25 (Chris Hebert)</p>
<div class="ulist">
<ul>
<li>
<p>Correction to specification of dynamicCount for push_constant token in
VkIndirectCommandsLayoutNVX.
Stride was incorrectly computed as dynamicCount was not treated as byte
size.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2017-06-01 (Christoph Kubisch)</p>
<div class="ulist">
<ul>
<li>
<p>header compatibility break: add missing _TYPE to
VkIndirectCommandsTokenTypeNVX and VkObjectEntryTypeNVX enums to follow
Vulkan naming convention</p>
</li>
<li>
<p>behavior clarification: only allow a single work provoking token per
sequence when creating a <a href="chap30.html#VkIndirectCommandsLayoutNVX">VkIndirectCommandsLayoutNVX</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2016-10-31 (Christoph Kubisch)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NVX_multiview_per_view_attributes">VK_NVX_multiview_per_view_attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NVX_multiview_per_view_attributes</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>98</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_multiview">VK_KHR_multiview</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NVX_multiview_per_view_attributes:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-01-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/NV/SPV_NVX_multiview_per_view_attributes.html">SPV_NVX_multiview_per_view_attributes</a>
SPIR-V extension.</p>
</li>
<li>
<p>This extension requires the GL_NVX_multiview_per_view_attributes
extension for GLSL source languages.</p>
</li>
<li>
<p>This extension interacts with <code><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></code>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds a new way to write shaders to be used with multiview
subpasses, where the attributes for all views are written out by a single
invocation of the vertex processing stages.
Related SPIR-V and GLSL extensions SPV_NVX_multiview_per_view_attributes
and GL_NVX_multiview_per_view_attributes introduce per-view position and
viewport mask attributes arrays, and this extension defines how those
per-view attribute arrays are interpreted by Vulkan.
Pipelines using per-view attributes <strong class="purple">may</strong> only execute the vertex processing
stages once for all views rather than once per-view, which reduces redundant
shading work.</p>
</div>
<div class="paragraph">
<p>A subpass creation flag controls whether the subpass uses this extension.
A subpass <strong class="purple">must</strong> either exclusively use this extension or not use it at all.</p>
</div>
<div class="paragraph">
<p>Some Vulkan implementations only support the position attribute varying
between views in the X component.
A subpass can declare via a second creation flag whether all pipelines
compiled for this subpass will obey this restriction.</p>
</div>
<div class="paragraph">
<p>Shaders that use the new per-view outputs (e.g. <code>gl_PositionPerViewNV</code>)
<strong class="purple">must</strong> also write the non-per-view output (<code>gl_Position</code>), and the values
written <strong class="purple">must</strong> be such that <code>gl_Position =
gl_PositionPerViewNV[gl_ViewIndex]</code> for all views in the subpass.
Implementations are free to either use the per-view outputs or the
non-per-view outputs, whichever would be more efficient.</p>
</div>
<div class="paragraph">
<p>If <code><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></code> is not also supported and enabled, the
per-view viewport mask <strong class="purple">must</strong> not be used.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_82">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_106">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MULTIVIEW_PER_VIEW_ATTRIBUTES_PROPERTIES_NVX</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap7.html#VkSubpassDescriptionFlagBits">VkSubpassDescriptionFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_PER_VIEW_ATTRIBUTES_BIT_NVX</code></p>
</li>
<li>
<p><code>VK_SUBPASS_DESCRIPTION_PER_VIEW_POSITION_X_ONLY_BIT_NVX</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_90">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_85">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceMultiviewPerViewAttributesPropertiesNVX">VkPhysicalDeviceMultiviewPerViewAttributesPropertiesNVX</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_94">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_10">New Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-positionperview"><code>PositionPerViewNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-viewportmaskperview"><code>ViewportMaskPerViewNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_20">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-perviewattributes"><code>PerViewAttributesNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_92">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_26">Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c"><span class="preprocessor">#version</span> <span class="integer">450</span> core

<span class="preprocessor">#extension</span> GL_KHX_multiview : enable
<span class="preprocessor">#extension</span> GL_NVX_multiview_per_view_attributes : enable

layout(location = <span class="integer">0</span>) in vec4 position;
layout(set = <span class="integer">0</span>, binding = <span class="integer">0</span>) uniform Block { mat4 mvpPerView[<span class="integer">2</span>]; } buf;

<span class="directive">void</span> main()
{
    <span class="comment">// Output both per-view positions and gl_Position as a function</span>
    <span class="comment">// of gl_ViewIndex</span>
    gl_PositionPerViewNV[<span class="integer">0</span>] = buf.mvpPerView[<span class="integer">0</span>] * position;
    gl_PositionPerViewNV[<span class="integer">1</span>] = buf.mvpPerView[<span class="integer">1</span>] * position;
    gl_Position = buf.mvpPerView[gl_ViewIndex] * position;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_101">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-01-13 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_clip_space_w_scaling">VK_NV_clip_space_w_scaling</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_clip_space_w_scaling</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>88</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_clip_space_w_scaling:%20&amp;body=@ewerness-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>ewerness-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-15</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Kedarnath Thangudu, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Virtual Reality (VR) applications often involve a post-processing step to
apply a “barrel” distortion to the rendered image to correct the
“pincushion” distortion introduced by the optics in a VR device.
The barrel distorted image has lower resolution along the edges compared to
the center.
Since the original image is rendered at high resolution, which is uniform
across the complete image, a lot of pixels towards the edges do not make it
to the final post-processed image.</p>
</div>
<div class="paragraph">
<p>This extension provides a mechanism to render VR scenes at a non-uniform
resolution, in particular a resolution that falls linearly from the center
towards the edges.
This is achieved by scaling the <span class="eq">w</span> coordinate of the vertices in the
clip space before perspective divide.
The clip space <span class="eq">w</span> coordinate of the vertices <strong class="purple">can</strong> be offset as of a
function of <span class="eq">x</span> and <span class="eq">y</span> coordinates as follows:</p>
</div>
<div class="paragraph">
<p><span class="eq">w' = w + Ax + By</span></p>
</div>
<div class="paragraph">
<p>In the intended use case for viewport position scaling, an application
should use a set of four viewports, one for each of the four quadrants of a
Cartesian coordinate system.
Each viewport is set to the dimension of the image, but is scissored to the
quadrant it represents.
The application should specify <span class="eq">A</span> and <span class="eq">B</span> coefficients of the
<span class="eq">w</span>-scaling equation above, that have the same value, but different
signs, for each of the viewports.
The signs of <span class="eq">A</span> and <span class="eq">B</span> should match the signs of <span class="eq">x</span> and
<span class="eq">y</span> for the quadrant that they represent such that the value of <span class="eq">w'</span>
will always be greater than or equal to the original <span class="eq">w</span> value for the
entire image.
Since the offset to <span class="eq">w</span>, (<span class="eq">Ax + By</span>), is always positive, and
increases with the absolute values of <span class="eq">x</span> and <span class="eq">y</span>, the effective
resolution will fall off linearly from the center of the image to its edges.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_83">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_107">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_W_SCALING_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkDynamicState">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_91">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_86">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkViewportWScalingNV">VkViewportWScalingNV</a></p>
</li>
<li>
<p><a href="chap25.html#VkPipelineViewportWScalingStateCreateInfoNV">VkPipelineViewportWScalingStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_95">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#vkCmdSetViewportWScalingNV">vkCmdSetViewportWScalingNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_93">Issues</h4>
<div class="paragraph">
<p>1) Is the pipeline struct name too long?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: It fits with the naming convention.</p>
</div>
<div class="paragraph">
<p>2) Separate W scaling section or fold into coordinate transformations?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Leaving it as its own section for now.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_27">Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">VkViewport viewports[<span class="integer">4</span>];
VkRect2D scissors[<span class="integer">4</span>];
VkViewportWScalingNV scalings[<span class="integer">4</span>];

<span class="keyword">for</span> (<span class="predefined-type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">4</span>; i++) {
    <span class="predefined-type">int</span> x = (i &amp; <span class="integer">2</span>) ? <span class="integer">0</span> : currentWindowWidth / <span class="integer">2</span>;
    <span class="predefined-type">int</span> y = (i &amp; <span class="integer">1</span>) ? <span class="integer">0</span> : currentWindowHeight / <span class="integer">2</span>;

    viewports[i].x = <span class="integer">0</span>;
    viewports[i].y = <span class="integer">0</span>;
    viewports[i].width = currentWindowWidth;
    viewports[i].height = currentWindowHeight;
    viewports[i].minDepth = <span class="float">0</span><span class="float">.0f</span>;
    viewports[i].maxDepth = <span class="float">1</span><span class="float">.0f</span>;

    scissors[i].offset.x = x;
    scissors[i].offset.y = y;
    scissors[i].extent.width = currentWindowWidth/<span class="integer">2</span>;
    scissors[i].extent.height = currentWindowHeight/<span class="integer">2</span>;

    <span class="directive">const</span> <span class="predefined-type">float</span> factor = <span class="float">0</span><span class="float">.15</span>;
    scalings[i].xcoeff = ((i &amp; <span class="integer">2</span>) ? -<span class="float">1</span><span class="float">.0</span> : <span class="float">1</span><span class="float">.0</span>) * factor;
    scalings[i].ycoeff = ((i &amp; <span class="integer">1</span>) ? -<span class="float">1</span><span class="float">.0</span> : <span class="float">1</span><span class="float">.0</span>) * factor;
}

VkPipelineViewportWScalingStateCreateInfoNV vpWScalingStateInfo = { VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_W_SCALING_STATE_CREATE_INFO_NV };

vpWScalingStateInfo.viewportWScalingEnable = VK_TRUE;
vpWScalingStateInfo.viewportCount = <span class="integer">4</span>;
vpWScalingStateInfo.pViewportWScalings = &amp;scalings[<span class="integer">0</span>];

VkPipelineViewportStateCreateInfo vpStateInfo = { VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO };
vpStateInfo.viewportCount = <span class="integer">4</span>;
vpStateInfo.pViewports = &amp;viewports[<span class="integer">0</span>];
vpStateInfo.scissorCount = <span class="integer">4</span>;
vpStateInfo.pScissors = &amp;scissors[<span class="integer">0</span>];
vpStateInfo.pNext = &amp;vpWScalingStateInfo;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example shader to read from a w-scaled texture:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Vertex Shader</span>
<span class="comment">// Draw a triangle that covers the whole screen</span>
<span class="directive">const</span> vec4 positions[<span class="integer">3</span>] = vec4[<span class="integer">3</span>](vec4(-<span class="integer">1</span>, -<span class="integer">1</span>, <span class="integer">0</span>, <span class="integer">1</span>),
                                  vec4( <span class="integer">3</span>, -<span class="integer">1</span>, <span class="integer">0</span>, <span class="integer">1</span>),
                                  vec4(-<span class="integer">1</span>,  <span class="integer">3</span>, <span class="integer">0</span>, <span class="integer">1</span>));
out vec2 uv;
<span class="directive">void</span> main()
{
    vec4 pos = positions[ gl_VertexID ];
    gl_Position = pos;
    uv = pos.xy;
}

<span class="comment">// Fragment Shader</span>
uniform sampler2D tex;
uniform <span class="predefined-type">float</span> xcoeff;
uniform <span class="predefined-type">float</span> ycoeff;
out vec4 Color;
in vec2 uv;

<span class="directive">void</span> main()
{
    <span class="comment">// Handle uv as if upper right quadrant</span>
    vec2 uvabs = abs(uv);

    <span class="comment">// unscale: transform w-scaled image into an unscaled image</span>
    <span class="comment">//   scale: transform unscaled image int a w-scaled image</span>
    <span class="predefined-type">float</span> unscale = <span class="float">1</span><span class="float">.0</span> / (<span class="integer">1</span> + xcoeff * uvabs.x + xcoeff * uvabs.y);
    <span class="comment">//float scale = 1.0 / (1 - xcoeff * uvabs.x - xcoeff * uvabs.y);</span>

    vec2 P = vec2(unscale * uvabs.x, unscale * uvabs.y);

    <span class="comment">// Go back to the right quadrant</span>
    P *= sign(uv);

    Color = texture(tex, P * <span class="float">0</span><span class="float">.5</span> + <span class="float">0</span><span class="float">.5</span>);
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_102">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-15 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_compute_shader_derivatives">VK_NV_compute_shader_derivatives</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_compute_shader_derivatives</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>202</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_compute_shader_derivatives:%20&amp;body=@nvpbrown%20"><span class="icon black"><i class="fa fa-github"></i></span>nvpbrown</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds Vulkan support for the
<code>SPV_NV_compute_shader_derivatives</code> SPIR-V extension.</p>
</div>
<div class="paragraph">
<p>The SPIR-V extension provides two new execution modes, both of which allow
compute shaders to use built-ins that evaluate compute derivatives
explicitly or implicitly.
Derivatives will be computed via differencing over a 2x2 group of shader
invocations.
The <code>DerivativeGroupQuadsNV</code> execution mode assembles shader invocations
into 2x2 groups, where each group has x and y coordinates of the local
invocation ID of the form (2m+{0,1}, 2n+{0,1}).
The <code>DerivativeGroupLinearNV</code> execution mode assembles shader invocations
into 2x2 groups, where each group has local invocation index values of the
form 4m+{0,1,2,3}.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_84">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_108">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_COMPUTE_SHADER_DERIVATIVES_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_92">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_87">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceComputeShaderDerivativesFeaturesNV">VkPhysicalDeviceComputeShaderDerivativesFeaturesNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_96">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capability">New SPIR-V Capability</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-computederivatives-quads">ComputeDerivativeGroupQuadsNV</a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-computederivatives-linear">ComputeDerivativeGroupLinearNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_94">Issues</h4>
<div class="paragraph">
<p>(1) Should we specify that the groups of four shader invocations used for
    derivatives in a compute shader are the same groups of four invocations
    that form a “quad” in shader subgroups?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_28">Examples</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_103">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-19 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_corner_sampled_image">VK_NV_corner_sampled_image</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_corner_sampled_image</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>51</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_corner_sampled_image:%20&amp;body=@dgkoch%20"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-08-13</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Chris Lentini, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for a new image organization, which this
extension refers to as “corner-sampled” images.
A corner-sampled image differs from a conventional image in the following
ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Texels are centered on integer coordinates.
See <a href="chap15.html#textures-unnormalized-to-integer">Unnormalized Texel Coordinate
Operations</a></p>
</li>
<li>
<p>Normalized coordinates are scaled using <span class="eq">coord * (dim - 1)</span> rather
than <span class="eq">coord * dim</span>, where dim is the size of one dimension of the
image.
See <a href="chap15.html#textures-normalized-to-unnormalized">normalized texel coordinate
transform</a>.</p>
</li>
<li>
<p>Partial derivatives are scaled using <span class="eq">coord * (dim - 1)</span> rather than
<span class="eq">coord * dim</span>.
See <a href="chap15.html#textures-scale-factor">Scale Factor Operation</a>.</p>
</li>
<li>
<p>Calculation of the next higher lod size goes according to
<span class="eq">⌈dim / 2⌉</span> rather than <span class="eq">⌊dim / 2⌋</span>.
See <a href="chap11.html#resources-image-miplevel-sizing">Image Miplevel Sizing</a>.</p>
</li>
<li>
<p>The minimum level size is 2x2 for 2D images and 2x2x2 for 3D images.
See <a href="chap11.html#resources-image-miplevel-sizing">Image Miplevel Sizing</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This image organization is designed to facilitate a system like Ptex with
separate textures for each face of a subdivision or polygon mesh.
Placing sample locations at pixel corners allows applications to maintain
continuity between adjacent patches by duplicating values along shared
edges.
Additionally, using the modified mipmapping logic along with texture
dimensions of the form <span class="eq">2<sup>n</sup>+1</span> allows continuity across shared edges
even if the adjacent patches use different level-of-detail values.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_85">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_109">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_CORNER_SAMPLED_IMAGE_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_93">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_88">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceCornerSampledImageFeaturesNV">VkPhysicalDeviceCornerSampledImageFeaturesNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_97">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_11">New Built-In Variables</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_21">New SPIR-V Capabilities</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_95">Issues</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What should this extension be named?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>DISCUSSION: While naming this extension, we chose the most distinctive
aspect of the image organization and referred to such images as
“corner-sampled images”.
As a result, we decided to name the extension NV_corner_sampled_image.</p>
</div>
</div>
</div>
</li>
<li>
<p>Do we need a format feature flag so formats can advertise if they support corner-sampling?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>DISCUSSION: Currently NVIDIA supports this for all 2D and 3D formats, but
not for cubemaps or depth-stencil formats.
A format feature might be useful if other vendors would only support this on
some formats.</p>
</div>
</div>
</div>
</li>
<li>
<p>Do integer texel coordinates have a different range for corner-sampled images?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>RESOLVED: No, these are unchanged.</p>
</div>
</div>
</div>
</li>
<li>
<p>Do unnormalized sampler coordinates work with corner-sampled images? Are there any functional differences?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>RESOLVED: Yes they work.
Unnormalized coordinates are treated as already scaled for corner-sample
usage.</p>
</div>
</div>
</div>
</li>
<li>
<p>Should we have a diagram in the “Image Operations” chapter demonstrating different texel sampling locations?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>UNRESOLVED: Probaby, but later.</p>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_104">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-08-14 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_device_diagnostic_checkpoints">VK_NV_device_diagnostic_checkpoints</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_device_diagnostic_checkpoints</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>207</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Nuno Subtil <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_device_diagnostic_checkpoints:%20&amp;body=@nsubtil%20"><span class="icon black"><i class="fa fa-github"></i></span>nsubtil</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-16</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Oleg Kuznetsov, NVIDIA</p>
</li>
<li>
<p>Alex Dunn, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows applications to insert markers in the command stream
and associate them with custom data.</p>
</div>
<div class="paragraph">
<p>If a device lost error occurs, the application <strong class="purple">may</strong> then query the
implementation for the last markers to cross specific implementation-defined
pipeline stages, in order to narrow down which commands were executing at
the time and might have caused the failure.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_86">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_110">New Enum Constants</h4>
<div class="paragraph">
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_CHECKPOINT_DATA_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_QUEUE_FAMILY_CHECKPOINT_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_94">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_89">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkCheckpointDataNV">VkCheckpointDataNV</a></p>
</li>
<li>
<p><a href="chap4.html#VkQueueFamilyCheckpointPropertiesNV">VkQueueFamilyCheckpointPropertiesNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_98">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#vkCmdSetCheckpointNV">vkCmdSetCheckpointNV</a></p>
</li>
<li>
<p><a href="chap36.html#vkGetQueueCheckpointDataNV">vkGetQueueCheckpointDataNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_96">Issues</h4>
<div class="paragraph">
<p>None yet!</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_105">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-16 (Nuno Subtil)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_fill_rectangle">VK_NV_fill_rectangle</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_fill_rectangle</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>154</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_fill_rectangle:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-22</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds a new <a href="chap26.html#VkPolygonMode">VkPolygonMode</a> <code>enum</code> where a triangle is
rasterized by computing and filling its axis-aligned screen-space bounding
box, disregarding the actual triangle edges.
This can be useful for drawing a rectangle without being split into two
triangles with an internal edge.
It is also useful to minimize the number of primitives that need to be
drawn, particularly for a user interface.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_87">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_111">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap26.html#VkPolygonMode">VkPolygonMode</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_POLYGON_MODE_FILL_RECTANGLE_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_95">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_90">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_99">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_97">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_106">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-22 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_fragment_coverage_to_color">VK_NV_fragment_coverage_to_color</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_fragment_coverage_to_color</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>150</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_fragment_coverage_to_color:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-05-21</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows the fragment coverage value, represented as an integer
bitmask, to be substituted for a color output being written to a
single-component color attachment with integer components (e.g.
<code>VK_FORMAT_R8_UINT</code>).
The functionality provided by this extension is different from simply
writing the <code>SampleMask</code> fragment shader output, in that the coverage
value written to the framebuffer is taken after stencil test and depth test,
as well as after fragment operations such as alpha-to-coverage.</p>
</div>
<div class="paragraph">
<p>This functionality may be useful for deferred rendering algorithms, where
the second pass needs to know which samples belong to which original
fragments.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_88">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_112">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_COVERAGE_TO_COLOR_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_96">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#VkPipelineCoverageToColorStateCreateFlagsNV">VkPipelineCoverageToColorStateCreateFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_91">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#VkPipelineCoverageToColorStateCreateInfoNV">VkPipelineCoverageToColorStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_100">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_98">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_107">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-05-21 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_fragment_shader_barycentric">VK_NV_fragment_shader_barycentric</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_fragment_shader_barycentric</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>204</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_fragment_shader_barycentric:%20&amp;body=@nvpbrown%20"><span class="icon black"><i class="fa fa-github"></i></span>nvpbrown</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-08-03</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires the SPV_NV_fragment_shader_barycentric SPIR-V extension.</p>
</li>
<li>
<p>Requires the GL_NV_fragment_shader_barycentric extension for GLSL source
languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SPV_NV_fragment_shader_barycentric</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The extension provides access to three additional fragment shader variable
decorations in SPIR-V:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PerVertexNV</code>, which indicates that a fragment shader input will not
have interpolated values, but instead must be accessed with an extra
array index that identifies one of the vertices of the primitive
producing the fragment</p>
</li>
<li>
<p><code>BaryCoordNV</code>, which indicates that the variable is a three-component
floating-point vector holding barycentric weights for the fragment
produced using perspective interpolation</p>
</li>
<li>
<p><code>BaryCoordNoPerspNV</code>, which indicates that the variable is a
three-component floating-point vector holding barycentric weights for
the fragment produced using linear interpolation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the following variables from
GL_NV_fragment_shader_barycentric maps to these SPIR-V built-in
decorations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in vec3 gl_BaryCoordNV;</code> → <code>BaryCoordNV</code></p>
</li>
<li>
<p><code>in vec3 gl_BaryCoordNoPerspNV;</code> → <code>BaryCoordNoPerspNV</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>GLSL variables declared using the <code>__pervertexNV</code> GLSL qualifier are
expected to be decorated with <code>PerVertexNV</code> in SPIR-V.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_89">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_113">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADER_BARYCENTRIC_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_97">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_92">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_101">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_12">New Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-barycoordnv"><code>BaryCoordNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-barycoordnoperspnv"><code>BaryCoordNoPerspNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_decorations">New SPIR-V Decorations</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap8.html#shaders-interpolation-decorations-pervertexnv"><code>PerVertexNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_22">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-fragment-barycentric"><code>FragmentBarycentricNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_99">Issues</h4>
<div class="paragraph">
<p>(1) The AMD_shader_explicit_vertex_parameter extension provides similar
    functionality.
    Why write a new extension, and how is this extension different?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: For the purposes of Vulkan/SPIR-V, we chose to implement a
separate extension due to several functional differences.</p>
</div>
<div class="paragraph">
<p>First, the hardware supporting this extension can provide a three-component
barycentric weight vector for variables decorated with <code>BaryCoordNV</code>,
while variables decorated with <code>BaryCoordSmoothAMD</code> provide only two
components.
In some cases, it may be more efficient to explicitly interpolate an
attribute via:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>float value = (baryCoordNV.x * v[0].attrib +
               baryCoordNV.y * v[1].attrib +
               baryCoordNV.z * v[2].attrib);</pre>
</div>
</div>
<div class="paragraph">
<p>instead of</p>
</div>
<div class="literalblock">
<div class="content">
<pre>float value = (baryCoordSmoothAMD.x * (v[0].attrib - v[2].attrib) +
               baryCoordSmoothAMD.y * (v[1].attrib - v[2].attrib) +
               v[2].attrib);</pre>
</div>
</div>
<div class="paragraph">
<p>Additionally, the semantics of the decoration <code>BaryCoordPullModelAMD</code> do
not appear to map to anything supported by the initial hardware
implementation of this extension.</p>
</div>
<div class="paragraph">
<p>This extension provides a smaller number of decorations than the AMD
extension, as we expect that shaders could derive variables decorated with
things like <code>BaryCoordNoPerspCentroidAMD</code> with explicit attribute
interpolation instructions.
One other relevant difference is that explicit per-vertex attribute access
using this extension does not require a constant vertex number.</p>
</div>
<div class="paragraph">
<p>(2) Why do the built-in SPIR-V decorations for this extension include two
    separate built-ins <code>BaryCoordNV</code> and <code>BaryCoordNoPerspNV</code> when a
    “no perspective” variable could be decorated with <code>BaryCoordNV</code> and
    <code>NoPerspective</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: The SPIR-V extension for this feature chose to mirror the
behavior of the GLSL extension, which provides two built-in variables.
Additionally, it’s not clear that its a good idea (or even legal) to have
two variables using the “same attribute”, but with different interpolation
modifiers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_108">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-08-03 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_framebuffer_mixed_samples</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>153</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_framebuffer_mixed_samples:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-06-04</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows multisample rendering with a raster and depth/stencil
sample count that is larger than the color sample count.
Rasterization and the results of the depth and stencil tests together
determine the portion of a pixel that is “covered”.
It can be useful to evaluate coverage at a higher frequency than color
samples are stored.
This coverage is then “reduced” to a collection of covered color samples,
each having an opacity value corresponding to the fraction of the color
sample covered.
The opacity can optionally be blended into individual color samples.</p>
</div>
<div class="paragraph">
<p>Rendering with fewer color samples than depth/stencil samples greatly
reduces the amount of memory and bandwidth consumed by the color buffer.
However, converting the coverage values into opacity introduces artifacts
where triangles share edges and <strong class="purple">may</strong> not be suitable for normal triangle
mesh rendering.</p>
</div>
<div class="paragraph">
<p>One expected use case for this functionality is Stencil-then-Cover path
rendering (similar to the OpenGL GL_NV_path_rendering extension).
The stencil step determines the coverage (in the stencil buffer) for an
entire path at the higher sample frequency, and then the cover step draws
the path into the lower frequency color buffer using the coverage
information to antialias path edges.
With this two-step process, internal edges are fully covered when
antialiasing is applied and there is no corruption on these edges.</p>
</div>
<div class="paragraph">
<p>The key features of this extension are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It allows render pass and framebuffer objects to be created where the
number of samples in the depth/stencil attachment in a subpass is a
multiple of the number of samples in the color attachments in the
subpass.</p>
</li>
<li>
<p>A coverage reduction step is added to Fragment Operations which converts
a set of covered raster/depth/stencil samples to a set of color samples
that perform blending and color writes.
The coverage reduction step also includes an optional coverage
modulation step, multiplying color values by a fractional opacity
corresponding to the number of associated raster/depth/stencil samples
covered.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_90">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_114">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_COVERAGE_MODULATION_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_98">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#VkCoverageModulationModeNV">VkCoverageModulationModeNV</a></p>
</li>
<li>
<p><a href="chap27.html#VkPipelineCoverageModulationStateCreateFlagsNV">VkPipelineCoverageModulationStateCreateFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_93">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#VkPipelineCoverageModulationStateCreateInfoNV">VkPipelineCoverageModulationStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_102">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_100">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_109">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-06-04 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_geometry_shader_passthrough">VK_NV_geometry_shader_passthrough</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_geometry_shader_passthrough</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>96</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_geometry_shader_passthrough:%20&amp;body=@dgkoch%20"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-15</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/NV/SPV_NV_geometry_shader_passthrough.html">SPV_NV_geometry_shader_passthrough</a>
SPIR-V extension.</p>
</li>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/OpenGL/extensions/NV/NV_geometry_shader_passthrough.txt">GL_NV_geometry_shader_passthrough</a>
extension for GLSL source languages.</p>
</li>
<li>
<p>This extension requires the <code>geometryShader</code> feature.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SPV_NV_geometry_shader_passthrough</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Geometry shaders provide the ability for applications to process each
primitive sent through the graphics pipeline using a programmable shader.
However, one common use case treats them largely as a “passthrough”.
In this use case, the bulk of the geometry shader code simply copies inputs
from each vertex of the input primitive to corresponding outputs in the
vertices of the output primitive.
Such shaders might also compute values for additional built-in or
user-defined per-primitive attributes (e.g., <code>Layer</code>) to be assigned to
all the vertices of the output primitive.</p>
</div>
<div class="paragraph">
<p>This extension provides access to the <code>PassthroughNV</code> decoration under
the <code>GeometryShaderPassthroughNV</code> capability.
Adding this to a geometry shader input variable specifies that the values of
this input are copied to the corresponding vertex of the output primitive.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shading languages, the <code>passthrough</code> layout
qualifier from GL_NV_geometry_shader_passthrough maps to the
<code>PassthroughNV</code> decoration.
To use the <code>passthrough</code> layout, in GLSL the
GL_NV_geometry_shader_passthrough extension must be enabled.
Behaviour is described in the GL_NV_geometry_shader_passthrough extension
specification.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_91">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_115">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_99">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_94">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_103">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_13">New Built-In Variables</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_variable_decoration_3">New Variable Decoration</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap23.html#geometry-passthrough-passthrough"><code>PassthroughNV</code></a> in
<a href="chap23.html#geometry-passthrough">Geometry Shader Passthrough</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_23">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-geometryshaderpassthrough">GeometryShaderPassthroughNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_101">Issues</h4>
<div class="paragraph">
<p>1) Should we require or allow a passthrough geometry shader to specify the
output layout qualifiers for the output primitive type and maximum vertex
count in the SPIR-V?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes they should be required in the SPIR-V.
Per GL_NV_geometry_shader_passthrough they are not permitted in the GLSL
source shader, but SPIR-V is lower-level.
It is straightforward for the GLSL compiler to infer them from the input
primitive type and to explicitly emit them in the SPIR-V according to the
following table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Input Layout</th>
<th class="tableblock halign-left valign-top">Implied Output Layout</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">points</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layout(points, max_vertices=1)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lines</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layout(line_strip, max_vertices=2)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">triangles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layout(triangle_strip, max_vertices=3)</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>2) How does interface matching work with passthrough geometry shaders?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This is described in <a href="chap23.html#geometry-passthrough-interface">Passthrough Interface Matching</a>.
In GL when using passthough geometry shaders in separable mode, all inputs
must also be explicitly assigned location layout qualifiers.
In Vulkan all SPIR-V shader inputs (except built-ins) must also have
location decorations specified.
Redeclarations of built-in varables that add the passthrough layout
qualifier are exempted from the rule requiring location assignment because
built-in variables do not have locations and are matched by <code>BuiltIn</code>
decoration.</p>
</div>
</div>
<div class="sect3">
<h4 id="_sample_code">Sample Code</h4>
<div class="paragraph">
<p>Consider the following simple geometry shader in unextended GLSL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">layout(triangles) in;
layout(triangle_strip) out;
layout(max_vertices=<span class="integer">3</span>) out;

in Inputs {
    vec2 texcoord;
    vec4 baseColor;
} v_in[];
out Outputs {
    vec2 texcoord;
    vec4 baseColor;
};

<span class="directive">void</span> main()
{
    <span class="predefined-type">int</span> layer = compute_layer();
    <span class="keyword">for</span> (<span class="predefined-type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">3</span>; i++) {
        gl_Position = gl_in[i].gl_Position;
        texcoord = v_in[i].texcoord;
        baseColor = v_in[i].baseColor;
        gl_Layer = layer;
        EmitVertex();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this shader, the inputs <code>gl_Position</code>, <code>Inputs</code>.texcoord, and
<code>Inputs</code>.baseColor are simply copied from the input vertex to the
corresponding output vertex.
The only “interesting” work done by the geometry shader is computing and
emitting a <code>gl_Layer</code> value for the primitive.</p>
</div>
<div class="paragraph">
<p>The following geometry shader, using this extension, is equivalent:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c"><span class="preprocessor">#extension</span> GL_NV_geometry_shader_passthrough : require

layout(triangles) in;
<span class="comment">// No output primitive layout qualifiers required.</span>

<span class="comment">// Redeclare gl_PerVertex to pass through &quot;gl_Position&quot;.</span>
layout(passthrough) in gl_PerVertex {
    vec4 gl_Position;
} gl_in[];

<span class="comment">// Declare &quot;Inputs&quot; with &quot;passthrough&quot; to automatically copy members.</span>
layout(passthrough) in Inputs {
    vec2 texcoord;
    vec4 baseColor;
} v_in[];

<span class="comment">// No output block declaration required.</span>

<span class="directive">void</span> main()
{
    <span class="comment">// The shader simply computes and writes gl_Layer.  We don't</span>
    <span class="comment">// loop over three vertices or call EmitVertex().</span>
    gl_Layer = compute_layer();
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_110">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-15 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_mesh_shader">VK_NV_mesh_shader</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_mesh_shader</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>203</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Christoph Kubisch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_mesh_shader:%20&amp;body=@pixeljetstream%20"><span class="icon black"><i class="fa fa-github"></i></span>pixeljetstream</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-19</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides a new mechanism allowing applications to generate
collections of geometric primitives via programmable mesh shading.
It is an alternative to the existing programmable primitive shading
pipeline, which relied on generating input primitives by a fixed function
assembler as well as fixed function vertex fetch.</p>
</div>
<div class="paragraph">
<p>There are new programmable shader types — the task and mesh shader — to
generate these collections to be processed by fixed-function primitive
assembly and rasterization logic.
When the task and mesh shaders are dispatched, they replace the standard
programmable vertex processing pipeline, including vertex array attribute
fetching, vertex shader processing, tessellation, and the geometry shader
processing.</p>
</div>
<div class="paragraph">
<p>This extension also adds support for the following SPIR-V extension in
Vulkan:
 * SPV_NV_mesh_shader</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_92">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_116">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MESH_SHADER_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_MESH_SHADER_PROPERTIES_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_TASK_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_MESH_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_TASK_SHADER_BIT_NV</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_MESH_SHADER_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_100">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_95">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceMeshShaderFeaturesNV">VkPhysicalDeviceMeshShaderFeaturesNV</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceMeshShaderPropertiesNV">VkPhysicalDeviceMeshShaderPropertiesNV</a></p>
</li>
<li>
<p><a href="chap20.html#VkDrawMeshTasksIndirectCommandNV">VkDrawMeshTasksIndirectCommandNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_104">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap20.html#vkCmdDrawMeshTasksNV">vkCmdDrawMeshTasksNV</a></p>
</li>
<li>
<p><a href="chap20.html#vkCmdDrawMeshTasksIndirectNV">vkCmdDrawMeshTasksIndirectNV</a></p>
</li>
<li>
<p><a href="chap20.html#vkCmdDrawMeshTasksIndirectCountNV">vkCmdDrawMeshTasksIndirectCountNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_or_modified_built_in_variables_3">New or Modified Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-taskcount">TaskCountNV</a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-primitivecount">PrimitiveCountNV</a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-primitiveindices">PrimitiveIndicesNV</a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-clipdistancepv">ClipDistancePerViewNV</a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-culldistancepv">CullDistancePerViewNV</a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-layerpv">LayerPerViewNV</a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-meshviewcount">MeshViewCountNV</a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-meshviewindices">MeshViewIndicesNV</a></p>
</li>
<li>
<p>(modified)<code>Position</code></p>
</li>
<li>
<p>(modified)<code>PointSize</code></p>
</li>
<li>
<p>(modified)<code>ClipDistance</code></p>
</li>
<li>
<p>(modified)<code>CullDistance</code></p>
</li>
<li>
<p>(modified)<code>PrimitiveId</code></p>
</li>
<li>
<p>(modified)<code>Layer</code></p>
</li>
<li>
<p>(modified)<code>ViewportIndex</code></p>
</li>
<li>
<p>(modified)<code>WorkgroupSize</code></p>
</li>
<li>
<p>(modified)<code>WorkgroupId</code></p>
</li>
<li>
<p>(modified)<code>LocalInvocationId</code></p>
</li>
<li>
<p>(modified)<code>GlobalInvocationId</code></p>
</li>
<li>
<p>(modified)<code>LocalInvocationIndex</code></p>
</li>
<li>
<p>(modified)<code>DrawIndex</code></p>
</li>
<li>
<p>(modified)<code>ViewportMaskNV</code></p>
</li>
<li>
<p>(modified)<code>PositionPerViewNV</code></p>
</li>
<li>
<p>(modified)<code>ViewportMaskPerViewNV</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capability_2">New SPIR-V Capability</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-meshshading">MeshShadingNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_102">Issues</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>How to name this extension?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>RESOLVED: VK_NV_mesh_shader</p>
</div>
<div class="paragraph">
<p>Other options considered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>VK_NV_mesh_shading</p>
</li>
<li>
<p>VK_NV_programmable_mesh_shading</p>
</li>
<li>
<p>VK_NV_primitive_group_shading</p>
</li>
<li>
<p>VK_NV_grouped_drawing</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Do we need a new VkPrimitiveTopology?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>RESOLVED: NO, we skip the InputAssembler stage</p>
</div>
</div>
</div>
</li>
<li>
<p>Should we allow Instancing?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>RESOLVED: NO, there is no fixed function input, other than the IDs.
However, allow offsetting with a &quot;first&quot; value.</p>
</div>
</div>
</div>
</li>
<li>
<p>Should we use existing vkCmdDraw or introduce new functions?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>RESOLVED: Introduce new functions.</p>
</div>
<div class="paragraph">
<p>New functions make it easier to separate from &quot;programmable primitive
shading&quot; chapter, less &quot;dual use&quot; language about existing functions having
alternative behavior.
The text around the existing &quot;draws&quot; is heavily based around emitting
vertices.</p>
</div>
</div>
</div>
</li>
<li>
<p>If new functions, how to name?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>RESOLVED: CmdDrawMeshTasks*</p>
</div>
<div class="paragraph">
<p>Other options considered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CmdDrawMeshed</p>
</li>
<li>
<p>CmdDrawTasked</p>
</li>
<li>
<p>CmdDrawGrouped</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Should VK_SHADER_STAGE_ALL_GRAPHICS be updated to include the new stages?</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>RESOLVED: No.
If an application were to be recompiled with headers that include additional
shader stage bits in VK_SHADER_STAGE_ALL_GRAPHICS, then the previously valid
application would no longer be valid on implementations that don’t support
mesh or task shaders.
This means the change would not be backwards compatible.
It’s too bad VkShaderStageFlagBits doesn’t have a dedicated &quot;all supported
graphics stages&quot; bit like VK_PIPELINE_STAGE_ALL_GRAPHICS_BIT, which would
have avoided this problem.</p>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_111">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-19 (Christoph Kubisch, Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_ray_tracing">VK_NV_ray_tracing</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_ray_tracing</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>166</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_memory_requirements2">VK_KHR_get_memory_requirements2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_ray_tracing:%20&amp;body=@ewerness%20"><span class="icon black"><i class="fa fa-github"></i></span>ewerness</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-11-20</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_ray_tracing.html">SPV_NV_ray_tracing</a>
SPIR-V extension.</p>
</li>
<li>
<p>This extension requires the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GLSL_NV_ray_tracing.txt">GL_NV_ray_tracing</a>
extension for GLSL source languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
<li>
<p>Ashwin Lele, NVIDIA</p>
</li>
<li>
<p>Robert Stepinski, NVIDIA</p>
</li>
<li>
<p>Nuno Subtil, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Martin Stich, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Joshua Barczak, Intel</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>Henrik Rydgard, NVIDIA</p>
</li>
<li>
<p>Pascal Gautron, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Rasterization has been the dominant method to produce interactive graphics,
but increasing performance of graphics hardware has made ray tracing a
viable option for interactive rendering.
Being able to integrate ray tracing with traditional rasterization makes it
easier for applications to incrementally add ray traced effects to existing
applications or to do hybrid approaches with rasterization for primary
visibility and ray tracing for secondary queries.</p>
</div>
<div class="paragraph">
<p>To enable ray tracing, this extension adds a few different categories of new
functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Acceleration structure objects and build commands</p>
</li>
<li>
<p>A new pipeline type with new shader domains</p>
</li>
<li>
<p>An indirection table to link shader groups with acceleration structure
items</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SPV_NV_ray_tracing</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_93">New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkAccelerationStructureNV">VkAccelerationStructureNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_117">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_PIPELINE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_GEOMETRY_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_GEOMETRY_TRIANGLES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_GEOMETRY_AABB_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_BIND_ACCELERATION_STRUCTURE_MEMORY_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_ACCELERATION_STRUCTURE_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_MEMORY_REQUIREMENTS_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_RAY_TRACING_PROPERTIES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_ACCELERATION_STRUCTURE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_RAY_TRACING_SHADER_GROUP_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADER_STAGE_RAYGEN_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_ANY_HIT_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CLOSEST_HIT_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_MISS_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_INTERSECTION_BIT_NV</code></p>
</li>
<li>
<p><code>VK_SHADER_STAGE_CALLABLE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_RAY_TRACING_SHADER_BIT_NV</code></p>
</li>
<li>
<p><code>VK_PIPELINE_STAGE_ACCELERATION_STRUCTURE_BUILD_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_BUFFER_USAGE_RAY_TRACING_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkPipelineBindPoint">VkPipelineBindPoint</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_BIND_POINT_RAY_TRACING_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap13.html#VkDescriptorType">VkDescriptorType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkAccessFlagBits">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_ACCELERATION_STRUCTURE_READ_BIT_NV</code></p>
</li>
<li>
<p><code>VK_ACCESS_ACCELERATION_STRUCTURE_WRITE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap17.html#VkQueryType">VkQueryType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_QUERY_TYPE_ACCELERATION_STRUCTURE_COMPACTED_SIZE_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkPipelineCreateFlagBits">VkPipelineCreateFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_CREATE_DEFER_COMPILE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap20.html#VkIndexType">VkIndexType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_INDEX_TYPE_NONE_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_101">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkGeometryFlagBitsNV">VkGeometryFlagBitsNV</a></p>
</li>
<li>
<p><a href="chap33.html#VkGeometryInstanceFlagBitsNV">VkGeometryInstanceFlagBitsNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkBuildAccelerationStructureFlagBitsNV">VkBuildAccelerationStructureFlagBitsNV</a></p>
</li>
<li>
<p><a href="chap33.html#VkCopyAccelerationStructureModeNV">VkCopyAccelerationStructureModeNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkGeometryTypeNV">VkGeometryTypeNV</a></p>
</li>
<li>
<p><a href="chap9.html#VkRayTracingShaderGroupTypeNV">VkRayTracingShaderGroupTypeNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkAccelerationStructureMemoryRequirementsTypeNV">VkAccelerationStructureMemoryRequirementsTypeNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkAccelerationStructureTypeNV">VkAccelerationStructureTypeNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_96">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap9.html#VkRayTracingPipelineCreateInfoNV">VkRayTracingPipelineCreateInfoNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkGeometryTrianglesNV">VkGeometryTrianglesNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkGeometryAABBNV">VkGeometryAABBNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkGeometryDataNV">VkGeometryDataNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkGeometryNV">VkGeometryNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkAccelerationStructureCreateInfoNV">VkAccelerationStructureCreateInfoNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkBindAccelerationStructureMemoryInfoNV">VkBindAccelerationStructureMemoryInfoNV</a></p>
</li>
<li>
<p><a href="chap13.html#VkWriteDescriptorSetAccelerationStructureNV">VkWriteDescriptorSetAccelerationStructureNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkAccelerationStructureMemoryRequirementsInfoNV">VkAccelerationStructureMemoryRequirementsInfoNV</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceRayTracingPropertiesNV">VkPhysicalDeviceRayTracingPropertiesNV</a></p>
</li>
<li>
<p><a href="chap9.html#VkRayTracingShaderGroupCreateInfoNV">VkRayTracingShaderGroupCreateInfoNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkAccelerationStructureInfoNV">VkAccelerationStructureInfoNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_105">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#vkCreateAccelerationStructureNV">vkCreateAccelerationStructureNV</a></p>
</li>
<li>
<p><a href="chap11.html#vkDestroyAccelerationStructureNV">vkDestroyAccelerationStructureNV</a></p>
</li>
<li>
<p><a href="chap11.html#vkGetAccelerationStructureMemoryRequirementsNV">vkGetAccelerationStructureMemoryRequirementsNV</a></p>
</li>
<li>
<p><a href="chap11.html#vkBindAccelerationStructureMemoryNV">vkBindAccelerationStructureMemoryNV</a></p>
</li>
<li>
<p><a href="chap33.html#vkCmdBuildAccelerationStructureNV">vkCmdBuildAccelerationStructureNV</a></p>
</li>
<li>
<p><a href="chap33.html#vkCmdCopyAccelerationStructureNV">vkCmdCopyAccelerationStructureNV</a></p>
</li>
<li>
<p><a href="chap33.html#vkCmdTraceRaysNV">vkCmdTraceRaysNV</a></p>
</li>
<li>
<p><a href="chap9.html#vkCreateRayTracingPipelinesNV">vkCreateRayTracingPipelinesNV</a></p>
</li>
<li>
<p><a href="chap9.html#vkGetRayTracingShaderGroupHandlesNV">vkGetRayTracingShaderGroupHandlesNV</a></p>
</li>
<li>
<p><a href="chap11.html#vkGetAccelerationStructureHandleNV">vkGetAccelerationStructureHandleNV</a></p>
</li>
<li>
<p><a href="chap33.html#vkCmdWriteAccelerationStructuresPropertiesNV">vkCmdWriteAccelerationStructuresPropertiesNV</a></p>
</li>
<li>
<p><a href="chap9.html#vkCompileDeferredNV">vkCompileDeferredNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_or_modified_built_in_variables_4">New or Modified Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-launchid"><code>LaunchIDNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-launchsize"><code>LaunchSizeNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-worldrayorigin"><code>WorldRayOriginNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-worldraydirection"><code>WorldRayDirectionNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-objectrayorigin"><code>ObjectRayOriginNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-objectraydirection"><code>ObjectRayDirectionNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-raytmin"><code>RayTminNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-raytmax"><code>RayTmaxNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-instancecustomindex"><code>InstanceCustomIndexNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-instanceid"><code>InstanceId</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-objecttoworld"><code>ObjectToWorldNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-worldtoobject"><code>WorldToObjectNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-hitt"><code>HitTNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-hitkind"><code>HitKindNV</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-incomingrayflags"><code>IncomingRayFlagsNV</code></a></p>
</li>
<li>
<p>(modified)<code>PrimitiveId</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_24">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-raytracing">RayTracingNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_103">Issues</h4>
<div class="paragraph">
<p>1) Are there issues?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_sample_code_2">Sample Code</h4>
<div class="paragraph">
<p>Example ray generation GLSL shader</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c"><span class="preprocessor">#version</span> <span class="integer">450</span> core
<span class="preprocessor">#extension</span> GL_NV_ray_tracing : require
layout(set = <span class="integer">0</span>, binding = <span class="integer">0</span>, rgba8) uniform image2D image;
layout(set = <span class="integer">0</span>, binding = <span class="integer">1</span>) uniform accelerationStructureNV as;
layout(location = <span class="integer">0</span>) rayPayloadNV <span class="predefined-type">float</span> payload;

<span class="directive">void</span> main()
{
   vec4 col = vec4(<span class="integer">0</span>, <span class="integer">0</span>, <span class="integer">0</span>, <span class="integer">1</span>);

   vec3 origin = vec3(<span class="predefined-type">float</span>(gl_LaunchIDNV.x)/<span class="predefined-type">float</span>(gl_LaunchSizeNV.x), <span class="predefined-type">float</span>(gl_LaunchIDNV.y)/<span class="predefined-type">float</span>(gl_LaunchSizeNV.y), <span class="float">1</span><span class="float">.0</span>);
   vec3 dir = vec3(<span class="float">0</span><span class="float">.0</span>, <span class="float">0</span><span class="float">.0</span>, -<span class="float">1</span><span class="float">.0</span>);

   traceNV(as, <span class="integer">0</span>, <span class="hex">0xff</span>, <span class="integer">0</span>, <span class="integer">1</span>, <span class="integer">0</span>, origin, <span class="float">0</span><span class="float">.0</span>, dir, <span class="integer">100</span><span class="float">0</span><span class="float">.0</span>, <span class="integer">0</span>);

   col.y = payload;

   imageStore(image, ivec2(gl_LaunchIDNV.xy), col);
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_112">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-09-11 (Robert Stepinski, Nuno Subtil, Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2018-10-19 (Eric Werness)</p>
<div class="ulist">
<ul>
<li>
<p>rename to VK_NV_ray_tracing, add support for callables.</p>
</li>
<li>
<p>too many updates to list</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2018-11-20 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>update to use InstanceId instead of InstanceIndex as implemented.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_representative_fragment_test">VK_NV_representative_fragment_test</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_representative_fragment_test</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>167</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kedarnath Thangudu <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_representative_fragment_test:%20&amp;body=@kthangudu%20"><span class="icon black"><i class="fa fa-github"></i></span>kthangudu</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-13</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Kedarnath Thangudu, NVIDIA</p>
</li>
<li>
<p>Christoph Kubisch, NVIDIA</p>
</li>
<li>
<p>Pierre Boudier, NVIDIA</p>
</li>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Eric Werness, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides a new representative fragment test that allows
implementations to reduce the amount of rasterization and fragment
processing work performed for each point, line, or triangle primitive.
For any primitive that produces one or more fragments that pass all other
early fragment tests, the implementation is permitted to choose one or more
“representative” fragments for processing and discard all other fragments.
For draw calls rendering multiple points, lines, or triangles arranged in
lists, strips, or fans, the representative fragment test is performed
independently for each of those primitives.</p>
</div>
<div class="paragraph">
<p>This extension is useful for applications that use an early render pass to
determine the full set of primitives that would be visible in the final
scene.
In this render pass, such applications would set up a fragment shader that
enables early fragment tests and writes to an image or shader storage buffer
to record the ID of the primitive that generated the fragment.
Without this extension, the shader would record the ID separately for each
visible fragment of each primitive.
With this extension, fewer stores will be performed, particularly for large
primitives.</p>
</div>
<div class="paragraph">
<p>The representative fragment test has no effect if early fragment tests are
not enabled via the fragment shader.
The set of fragments discarded by the representative fragment test is
implementation-dependent and may vary from frame to frame.
In some cases, the representative fragment test may not discard any
fragments for a given primitive.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_94">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_118">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_REPRESENTATIVE_FRAGMENT_TEST_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_REPRESENTATIVE_FRAGMENT_TEST_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_102">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_97">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceRepresentativeFragmentTestFeaturesNV">VkPhysicalDeviceRepresentativeFragmentTestFeaturesNV</a></p>
</li>
<li>
<p><a href="chap27.html#VkPipelineRepresentativeFragmentTestStateCreateInfoNV">VkPipelineRepresentativeFragmentTestStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_106">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_104">Issues</h4>
<div class="paragraph">
<p>(1) Is the representative fragment test guaranteed to have any effect?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
As specified, we only guarantee that each primitive with at least one
fragment that passes prior tests will have one fragment passing the
representative fragment tests.
We don’t guarantee that any particular fragment will fail the test.</p>
</div>
<div class="paragraph">
<p>In the initial implementation of this extension, the representative fragment
test is treated as an optimization that may be completely disabled for some
pipeline states.
This feature was designed for a use case where the fragment shader records
information on individual primitives using shader storage buffers or storage
images, with no writes to color or depth buffers.</p>
</div>
<div class="paragraph">
<p>(2) Will the set of fragments that pass the representative fragment test be
    repeatable if you draw the same scene over and over again?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The set of fragments that pass the representative fragment test is
implementation-dependent and may vary due to the timing of operations
performed by the GPU.</p>
</div>
<div class="paragraph">
<p>(3) What happens if you enable the representative fragment test with writes
    to color and/or depth render targets enabled?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: If writes to the color or depth buffer are enabled, they will be
performed for any fragments that survive the relevant tests.
Any fragments that fail the representative fragment test will not update
color buffers.
For the use cases intended for this feature, we don’t expect color or depth
writes to be enabled.</p>
</div>
<div class="paragraph">
<p>(4) How do derivatives and automatic texture level of detail computations
    work with the representative fragment test enabled?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: If a fragment shader uses derivative functions or texture
lookups using automatic level of detail computation, derivatives will be
computed identically whether or not the representative fragment test is
enabled.
For the use cases intended for this feature, we don’t expect the use of
derivatives in the fragment shader.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_113">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2018-09-13 (pbrown)</p>
<div class="ulist">
<ul>
<li>
<p>Add issues.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-08-22 (Kedarnath Thangudu)</p>
<div class="ulist">
<ul>
<li>
<p>Internal Revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_sample_mask_override_coverage">VK_NV_sample_mask_override_coverage</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_sample_mask_override_coverage</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>95</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_sample_mask_override_coverage:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-08</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/NV/SPV_NV_sample_mask_override_coverage.html">SPV_NV_sample_mask_override_coverage</a>
SPIR-V extension.</p>
</li>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/OpenGL/extensions/NV/NV_sample_mask_override_coverage.txt">GL_NV_sample_mask_override_coverage</a>
extension for GLSL source languages.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SPV_NV_sample_mask_override_coverage</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The extension provides access to the <code>OverrideCoverageNV</code> decoration
under the <code>SampleMaskOverrideCoverageNV</code> capability.
Adding this decoration to a variable with the <code>SampleMask</code> builtin
decoration allows the shader to modify the coverage mask and affect which
samples are used to process the fragment.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shader languages, the <code>override_coverage</code>
layout qualifier from GL_NV_sample_mask_override_coverage maps to the
<code>OverrideCoverageNV</code> decoration.
To use the <code>override_coverage</code> layout qualifier in GLSL the
GL_NV_sample_mask_override_coverage extension must be enabled.
Behavior is described in the GL_NV_sample_mask_override_coverage extension
spec.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_95">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_119">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_103">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_98">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_107">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_14">New Built-In Variables</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_variable_decoration_4">New Variable Decoration</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-samplemask">OverrideCoverageNV in
SampleMask</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_25">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-samplemaskoverridecoverage">SampleMaskOverrideCoverageNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_105">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_114">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-08 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_scissor_exclusive">VK_NV_scissor_exclusive</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_scissor_exclusive</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>206</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_scissor_exclusive:%20&amp;body=@nvpbrown%20"><span class="icon black"><i class="fa fa-github"></i></span>nvpbrown</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-07-31</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for an exclusive scissor test to Vulkan.
The exclusive scissor test behaves like the scissor test, except that the
exclusive scissor test fails for pixels inside the corresponding rectangle
and passes for pixels outside the rectangle.
If the same rectangle is used for both the scissor and exclusive scissor
tests, the exclusive scissor test will pass if and only if the scissor test
fails.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_96">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_120">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_EXCLUSIVE_SCISSOR_STATE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXCLUSIVE_SCISSOR_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkDynamicState">VkDynamicState</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_104">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_99">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceExclusiveScissorFeaturesNV">VkPhysicalDeviceExclusiveScissorFeaturesNV</a></p>
</li>
<li>
<p><a href="chap27.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV">VkPipelineViewportExclusiveScissorStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_108">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap27.html#vkCmdSetExclusiveScissorNV">vkCmdSetExclusiveScissorNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_built_in_variables_15">New Built-In Variables</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_26">New SPIR-V Capabilities</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_106">Issues</h4>
<div class="paragraph">
<p>1) For the scissor test, the viewport state must be created with a matching
   number of scissor and viewport rectangles.
   Should we have the same requirement for exclusive scissors?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: For exclusive scissors, we relax this requirement and allow an
exclusive scissor rectangle count that is either zero or equal to the number
of viewport rectangles.
If you pass in an exclusive scissor count of zero, the exclusive scissor
test is treated as disabled.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_115">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-07-31 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_shader_image_footprint">VK_NV_shader_image_footprint</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_shader_image_footprint</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>205</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_shader_image_footprint:%20&amp;body=@nvpbrown%20"><span class="icon black"><i class="fa fa-github"></i></span>nvpbrown</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-13</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Chris Lentini, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds Vulkan support for the <code>SPV_NV_shader_image_footprint</code>
SPIR-V extension.
That SPIR-V extension provides a new instruction
<code>OpImageSampleFootprintNV</code> allowing shaders to determine the set of
texels that would be accessed by an equivalent filtered texture lookup.</p>
</div>
<div class="paragraph">
<p>Instead of returning a filtered texture value, the instruction returns a
structure that can be interpreted by shader code to determine the footprint
of a filtered texture lookup.
This structure includes integer values that identify a small neighborhood of
texels in the image being accessed and a bitfield that indicates which
texels in that neighborhood would be used.
The structure also includes a bitfield where each bit identifies whether any
texel in a small aligned block of texels would be fetched by the texture
lookup.
The size of each block is specified by an access <em>granularity</em> provided by
the shader.
The minimum granularity supported by this extension is 2x2 (for 2D textures)
and 2x2x2 (for 3D textures); the maximum granularity is 256x256 (for 2D
textures) or 64x32x32 (for 3D textures).
Each footprint query returns the footprint from a single texture level.
When using minification filters that combine accesses from multiple mipmap
levels, shaders must perform separate queries for the two levels accessed
(“fine” and “coarse”).
The footprint query also returns a flag indicating if the texture lookup
would access texels from only one mipmap level or from two neighboring
levels.</p>
</div>
<div class="paragraph">
<p>This extension should be useful for multi-pass rendering operations that do
an initial expensive rendering pass to produce a first image that is then
used as a texture for a second pass.
If the second pass ends up accessing only portions of the first image (e.g.,
due to visbility), the work spent rendering the non-accessed portion of the
first image was wasted.
With this feature, an application can limit this waste using an initial pass
over the geometry in the second image that performs a footprint query for
each visible pixel to determine the set of pixels that it needs from the
first image.
This pass would accumulate an aggregate footprint of all visible pixels into
a separate “footprint image” using shader atomics.
Then, when rendering the first image, the application can kill all shading
work for pixels not in this aggregate footprint.</p>
</div>
<div class="paragraph">
<p>This extension has a number of limitations.
The <code>OpImageSampleFootprintNV</code> instruction only supports for two- and
three-dimensional textures.
Footprint evaluation only supports the CLAMP_TO_EDGE wrap mode; results are
undefined for all other wrap modes.
Only a limited set of granularity values and that set does not support
separate coverage information for each texel in the original image.</p>
</div>
<div class="paragraph">
<p>When using SPIR-V generated from the OpenGL Shading Language, the new
instruction will be generated from code using the new
<code>textureFootprint</code>*NV built-in functions from the
<code>GL_NV_shader_texture_footprint</code> shading language extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_97">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_121">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADER_IMAGE_FOOTPRINT_FEATURES_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_105">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_100">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceShaderImageFootprintFeaturesNV">VkPhysicalDeviceShaderImageFootprintFeaturesNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_109">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capability_3">New SPIR-V Capability</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-imagefootprint">ImageFootprintNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_107">Issues</h4>
<div class="paragraph">
<p>(1) The footprint returned by the SPIR-V instruction is a structure that
    includes an anchor, an offset, and a mask that represents a 8x8 or 4x4x4
    neighborhood of texel groups.
    But the bits of the mask are not stored in simple pitch order.
    Why is the footprint built this way?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We expect that applications using this feature will want to use
a fixed granularity and accumulate coverage information from the returned
footprints into an aggregate “footprint image” that tracks the portions of
an image that would be needed by regular texture filtering.
If an application is using a two-dimensional image with 4x4 pixel
granularity, we expect that the footprint image will use 64-bit texels where
each bit in an 8x8 array of bits corresponds to coverage for a 4x4 block in
the original image.
Texel (0,0) in the footprint image would correspond to texels (0,0) through
(31,31) in the original image.</p>
</div>
<div class="paragraph">
<p>In the usual case, the footprint for a single access will fully contained in
a 32x32 aligned region of the original texture, which corresponds to a
single 64-bit texel in the footprint image.
In that case, the implementation will return an anchor coordinate pointing
at the single footprint image texel, an offset vector of (0,0), and a mask
whose bits are aligned with the bits in the footprint texel.
For this case, the shader can simply atomically OR the mask bits into the
contents of the footprint texel to accumulate footprint coverage.</p>
</div>
<div class="paragraph">
<p>In the worst case, the footprint for a single access spans multiple 32x32
aligned regions and may require updates to four separate footprint image
texels.
In this case, the implementation will return an anchor coordinate pointing
at the lower right footprint image texel and an offset will identify how
many “columns” and “rows” of the returned 8x8 mask correspond to
footprint texels to the left and above the anchor texel.
If the anchor is (2,3), the 64 bits of the returned mask are arranged
spatially as follows, where each 4x4 block is assigned a bit number that
matches its bit number in the footprint image texels:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    +-------------------------+-------------------------+
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- 46 47 | 40 41 42 43 44 45 -- -- |
    | -- -- -- -- -- -- 54 55 | 48 49 50 51 52 53 -- -- |
    | -- -- -- -- -- -- 62 63 | 56 57 58 59 60 61 -- -- |
    +-------------------------+-------------------------+
    | -- -- -- -- -- -- 06 07 | 00 01 02 03 04 05 -- -- |
    | -- -- -- -- -- -- 14 15 | 08 09 10 11 12 13 -- -- |
    | -- -- -- -- -- -- 22 23 | 16 17 18 19 20 21 -- -- |
    | -- -- -- -- -- -- 30 31 | 24 25 26 27 28 29 -- -- |
    | -- -- -- -- -- -- 38 39 | 32 33 34 35 36 37 -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    | -- -- -- -- -- -- -- -- | -- -- -- -- -- -- -- -- |
    +-------------------------+-------------------------+</pre>
</div>
</div>
<div class="paragraph">
<p>To accumulate coverage for each of the four footprint image texels, a shader
can AND the returned mask with simple masks derived from the x and y offset
values and then atomically OR the updated mask bits into the contents of the
corresponding footprint texel.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    uint64_t returnedMask = (uint64_t(footprint.mask.x) | (uint64_t(footprint.mask.y) &lt;&lt; <span class="integer">32</span>));
    uint64_t rightMask    = ((<span class="hex">0xFF</span> &gt;&gt; footprint.offset.x) * <span class="hex">0x0101010101010101</span>UL);
    uint64_t bottomMask   = <span class="hex">0xFFFFFFFFFFFFFFFF</span>UL &gt;&gt; (<span class="integer">8</span> * footprint.offset.y);
    uint64_t bottomRight  = returnedMask &amp; bottomMask &amp; rightMask;
    uint64_t bottomLeft   = returnedMask &amp; bottomMask &amp; (~rightMask);
    uint64_t topRight     = returnedMask &amp; (~bottomMask) &amp; rightMask;
    uint64_t topLeft      = returnedMask &amp; (~bottomMask) &amp; (~rightMask);</code></pre>
</div>
</div>
<div class="paragraph">
<p>(2) What should an application do to ensure maximum performance when
    accumulating footprints into an aggregate footprint image?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: We expect that the most common usage of this feature will be to
accumulate aggregate footprint coverage, as described in the previous issue.
Even if you ignore the anisotropic filtering case where the implementation
may return a granularity larger than that requested by the caller, each
shader invocation will need to use atomic functions to update up to four
footprint image texels for each level of detail accessed.
Having each active shader invocation perform multiple atomic operations can
be expensive, particularly when neighboring invocations will want to update
the same footprint image texels.</p>
</div>
<div class="paragraph">
<p>Techniques can be used to reduce the number of atomic operations performed
when accumulating coverage include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Have logic that detects returned footprints where all components of the
returned offset vector are zero.
In that case, the mask returned by the footprint function is guaranteed
to be aligned with the footprint image texels and affects only a single
footprint image texel.</p>
</li>
<li>
<p>Have fragment shaders communicate using built-in functions from the
<code>VK_NV_shader_subgroup_partitioned</code> extension or other shader subgroup
extensions.
If you have multiple invocations in a subgroup that need to update the
same texel (x,y) in the footprint image, compute an aggregate footprint
mask across all invocations in the subgroup updating that texel and have
a single invocation perform an atomic operation using that aggregate
mask.</p>
</li>
<li>
<p>When the returned footprint spans multiple texels in the footprint
image, each invocation need to perform four atomic operations.
In the previous issue, we had an example that computed separate masks
for “topLeft”, “topRight”, “bottomLeft”, and “bottomRight”.
When the invocations in a subgroup have good locality, it might be the
case the “top left” for some invocations might refer to footprint
image texel (10,10), while neighbors might have their “top left”
texels at (11,10), (10,11), and (11,11).
If you compute separate masks for even/odd x and y values instead of
left/right or top/bottom, the “odd/odd” mask for all invocations in
the subgroup hold coverage for footprint image texel (11,11), which can
be updated by a single atomic operation for the entire subgroup.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_examples_29">Examples</h4>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_116">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2018-09-13 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Add issue (2) with performance tips.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-08-12 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_shader_subgroup_partitioned">VK_NV_shader_subgroup_partitioned</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_shader_subgroup_partitioned</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>199</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_shader_subgroup_partitioned:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-03-17</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension enables support for a new class of subgroup operations via
the
<a href="https://github.com/KhronosGroup/GLSL/blob/master/extensions/nv/GL_NV_shader_subgroup_partitioned.txt">GL_NV_shader_subgroup_partitioned</a>
GLSL extension and
<a href="http://htmlpreview.github.io/?https://github.com/KhronosGroup/SPIRV-Registry/blob/master/extensions/NV/SPV_NV_shader_subgroup_partitioned.html">SPV_NV_shader_subgroup_partitioned</a>
SPIR-V extension.
Support for these new operations is advertised via the
<code>VK_SUBGROUP_FEATURE_PARTITIONED_BIT_NV</code> bit.</p>
</div>
<div class="paragraph">
<p>This extension requires Vulkan 1.1, for general subgroup support.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_98">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_122">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="#VkSubgroupFeatureFlagBits">VkSubgroupFeatureFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUBGROUP_FEATURE_PARTITIONED_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_106">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_101">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_110">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_108">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_117">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-03-17 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_shading_rate_image">VK_NV_shading_rate_image</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_shading_rate_image</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>165</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>3</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_KHR_get_physical_device_properties2">VK_KHR_get_physical_device_properties2</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_shading_rate_image:%20&amp;body=@nvpbrown%20"><span class="icon black"><i class="fa fa-github"></i></span>nvpbrown</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-09-13</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pat Brown, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Mathias Schott, NVIDIA</p>
</li>
<li>
<p>Matthew Netsch, Qualcomm Technologies, Inc.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows applications to use a variable shading rate when
processing fragments of rasterized primitives.
By default, Vulkan will spawn one fragment shader for each pixel covered by
a primitive.
In this extension, applications can bind a <em>shading rate image</em> that can be
used to vary the number of fragment shader invocations across the
framebuffer.
Some portions of the screen may be configured to spawn up to 16 fragment
shaders for each pixel, while other portions may use a single fragment
shader invocation for a 4x4 block of pixels.
This can be useful for use cases like eye tracking, where the portion of the
framebuffer that the user is looking at directly can be processed at high
frequency, while distant corners of the image can be processed at lower
frequency.
Each texel in the shading rate image represents a fixed-size rectangle in
the framebuffer, covering 16x16 pixels in the initial implementation of this
extension.
When rasterizing a primitive covering one of these rectangles, the Vulkan
implementation reads a texel in the bound shading rate image and looks up
the fetched value in a palette to determine a base shading rate.</p>
</div>
<div class="paragraph">
<p>In addition to the API support controlling rasterization, this extension
also adds Vulkan support for the SPV_NV_shading_rate extension to SPIR-V.
That extension provides two fragment shader variable decorations that allow
fragment shaders to determine the shading rate used for processing the
fragment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>FragmentSizeNV</code>, which indicates the width and height of the set of
pixels processed by the fragment shader.</p>
</li>
<li>
<p><code>InvocationsPerPixel</code>, which indicates the maximum number of fragment
shader invocations that could be spawned for the pixel(s) covered by the
fragment.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using SPIR-V in conjunction with the OpenGL Shading Language (GLSL),
the fragment shader capabilities are provided by the
GL_NV_shading_rate_image language extension and correspond to the built-in
variables <code>gl_FragmentSizeNV</code> and <code>gl_InvocationsPerPixelNV</code>,
respectively.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_99">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_123">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_SHADING_RATE_IMAGE_STATE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADING_RATE_IMAGE_FEATURES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_SHADING_RATE_IMAGE_PROPERTIES_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_COARSE_SAMPLE_ORDER_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageLayout">VkImageLayout</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_SHADING_RATE_OPTIMAL_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap9.html#VkDynamicState">VkDynamicState</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkAccessFlagBits">VkAccessFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ACCESS_SHADING_RATE_IMAGE_READ_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap11.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_USAGE_SHADING_RATE_IMAGE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap6.html#VkPipelineStageFlagBits">VkPipelineStageFlagBits</a></p>
<div class="ulist">
<ul>
<li>
<p><code>VK_PIPELINE_STAGE_SHADING_RATE_IMAGE_BIT_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_107">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#VkShadingRatePaletteEntryNV">VkShadingRatePaletteEntryNV</a>, containing the following constants:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_NO_INVOCATIONS_NV</code></p>
</li>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_16_INVOCATIONS_PER_PIXEL_NV</code></p>
</li>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_8_INVOCATIONS_PER_PIXEL_NV</code></p>
</li>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_4_INVOCATIONS_PER_PIXEL_NV</code></p>
</li>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_2_INVOCATIONS_PER_PIXEL_NV</code></p>
</li>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_PIXEL_NV</code></p>
</li>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_2X1_PIXELS_NV</code></p>
</li>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_1X2_PIXELS_NV</code></p>
</li>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_2X2_PIXELS_NV</code></p>
</li>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_4X2_PIXELS_NV</code></p>
</li>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_2X4_PIXELS_NV</code></p>
</li>
<li>
<p><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_4X4_PIXELS_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_102">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#VkShadingRatePaletteNV">VkShadingRatePaletteNV</a></p>
</li>
<li>
<p><a href="chap26.html#VkPipelineViewportShadingRateImageStateCreateInfoNV">VkPipelineViewportShadingRateImageStateCreateInfoNV</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceShadingRateImageFeaturesNV">VkPhysicalDeviceShadingRateImageFeaturesNV</a></p>
</li>
<li>
<p><a href="chap35.html#VkPhysicalDeviceShadingRateImagePropertiesNV">VkPhysicalDeviceShadingRateImagePropertiesNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_111">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap26.html#vkCmdBindShadingRateImageNV">vkCmdBindShadingRateImageNV</a></p>
</li>
<li>
<p><a href="chap26.html#vkCmdSetViewportShadingRatePaletteNV">vkCmdSetViewportShadingRatePaletteNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_109">Issues</h4>
<div class="paragraph">
<p>(1) When using shading rates that specify “coarse” fragments covering
    multiple pixels, we will generate a combined coverage mask that combines
    the coverage masks of all pixels covered by the fragment.
    By default, these masks are combined in an implementation-dependent
    order.
    Should we provide a mechanism allowing applications to query or specify
    an exact order?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, this feature is useful for cases where most of the fragment
shader can be evaluated once for an entire coarse fragment, but where some
per-pixel computations are also required.
For example, a per-pixel alpha test may want to kill all the samples for
some pixels in a coarse fragment.
This sort of test can be implemented using an output sample mask, but such a
shader would need to know which bit in the mask corresponds to each sample
in the coarse fragment.
We are including a mechanism to allow aplications to specify the orders of
coverage samples for each shading rate and sample count, either as static
pipeline state or dynamically via a command buffer.
This portion of the extension has its own feature bit.</p>
</div>
<div class="paragraph">
<p>We will not be providing a query to determine the implementation-dependent
default ordering.
The thinking here is that if an application cares enough about the coarse
fragment sample ordering to perform such a query, it could instead just set
its own order, also using custom per-pixel sample locations if required.</p>
</div>
<div class="paragraph">
<p>(2) For the pipeline stage
    <code>VK_PIPELINE_STAGE_SHADING_RATE_IMAGE_BIT_NV</code>, should we specify a
    precise location in the pipeline the shading rate image is accessed
    (after geometry shading, but before the early fragment tests) or leave
    it under-specified in case there are other implementations that access
    the image in a different pipeline location?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> We are specifying the pipeline stage to be between the final
stage used for vertex processing
(<code>VK_PIPELINE_STAGE_GEOMETRY_SHADER_BIT</code>) and before the first stage
used for fragment processing
(<code>VK_PIPELINE_STAGE_EARLY_FRAGMENT_TESTS_BIT</code>), which seems to be the
natural place to access the shading rate image.</p>
</div>
<div class="paragraph">
<p>(3) How do centroid-sampled variables work with fragments larger than one
    pixel?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong> For single-pixel fragments, fragment shader inputs decorated with
<code>Centroid</code> are sampled at an implementation-dependent location in the
intersection of the area of the primitive being rasterized and the area of
the pixel that corresponds to the fragment.
With multi-pixel fragments, we follow a similar pattern, using the
intersection of the primitive and the <strong>set</strong> of pixels corresponding to the
fragment.</p>
</div>
<div class="paragraph">
<p>One important thing to keep in mind when using such “coarse” shading rates
is that fragment attributes are sampled at the center of the fragment by
default, regardless of the set of pixels/samples covered by the fragment.
For fragments with a size of 4x4 pixels, this center location will be more
than two pixels (1.5 * sqrt(2)) away from the center of the pixels at the
corners of the fragment.
When rendering a primitive that covers only a small part of a coarse
fragment, sampling a color outside the primitive can produce overly bright
or dark color values if the color values have a large gradient.
To deal with this, an application can use centroid sampling on attributes
where “extrapolation” artifacts can lead to overly bright or dark pixels.
Note that this same problem also exists for multisampling with single-pixel
fragments, but is less severe because it only affects certain samples of a
pixel and such bright/dark samples may be averaged with other samples that
don’t have a similar problem.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_118">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2018-09-13 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Miscellaneous edits preparing the specification for publication.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2018-08-08 (Pat Brown)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_viewport_array2">VK_NV_viewport_array2</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_viewport_array2</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>97</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_viewport_array2:%20&amp;body=@dgkoch%20"><span class="icon black"><i class="fa fa-github"></i></span>dgkoch</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-02-15</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/spir-v/extensions/NV/SPV_NV_viewport_array2.html">SPV_NV_viewport_array2</a>
SPIR-V extension.</p>
</li>
<li>
<p>This extension requires the
<a href="https://www.khronos.org/registry/OpenGL/extensions/NV/NV_viewport_array2.txt">GL_NV_viewport_array2</a>
extension for GLSL source languages.</p>
</li>
<li>
<p>This extension requires the <code>geometryShader</code> and <code>multiViewport</code>
features.</p>
</li>
<li>
<p>This extension interacts with the <code>tessellationShader</code> feature.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension adds support for the following SPIR-V extension in Vulkan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SPV_NV_viewport_array2</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>which allows a single primitive to be broadcast to multiple viewports and/or
multiple layers.
A new shader built-in output <code>ViewportMaskNV</code> is provided, which allows a
single primitive to be output to multiple viewports simultaneously.
Also, a new SPIR-V decoration is added to control whether the effective
viewport index is added into the variable decorated with the <code>Layer</code>
built-in decoration.
These capabilities allow a single primitive to be output to multiple layers
simultaneously.</p>
</div>
<div class="paragraph">
<p>This extension allows variables decorated with the <code>Layer</code> and
<code>ViewportIndex</code> built-ins to be exported from vertex or tessellation
shaders, using the <code>ShaderViewportIndexLayerNV</code> capability.</p>
</div>
<div class="paragraph">
<p>This extension adds a new <code>ViewportMaskNV</code> built-in decoration that is
available for output variables in vertex, tessellation evaluation, and
geometry shaders, and a new <code>ViewportRelativeNV</code> decoration that can be
added on variables decorated with <code>Layer</code> when using the
<code>ShaderViewportMaskNV</code> capability.</p>
</div>
<div class="paragraph">
<p>When using GLSL source-based shading languages, the <code>gl_ViewportMask</code>[]
built-in output variable and <code>viewport_relative</code> layout qualifier from
GL_NV_viewport_array2 map to the <code>ViewportMaskNV</code> and
<code>ViewportRelativeNV</code> decorations, respectively.
Behaviour is described in the GL_NV_viewport_array2 extension
specificiation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <code>ShaderViewportIndexLayerNV</code> capability is equivalent to the
<code>ShaderViewportIndexLayerEXT</code> capability added by
<code><a href="#VK_EXT_shader_viewport_index_layer">VK_EXT_shader_viewport_index_layer</a></code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_100">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_124">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_108">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_103">New Structures</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_112">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_or_modified_built_in_variables_5">New or Modified Built-In Variables</h4>
<div class="ulist">
<ul>
<li>
<p>(modified) <a href="chap14.html#interfaces-builtin-variables-layer"><code>Layer</code></a></p>
</li>
<li>
<p>(modified)
<a href="chap14.html#interfaces-builtin-variables-viewportindex"><code>ViewportIndex</code></a></p>
</li>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-viewportmask"><code>ViewportMaskNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_variable_decoration_5">New Variable Decoration</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap14.html#interfaces-builtin-variables-layer"><code>ViewportRelativeNV</code> in
<code>Layer</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_27">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-viewportarray2"><code>ShaderViewportIndexLayerNV</code></a></p>
</li>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-viewportarray2"><code>ShaderViewportMaskNV</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_110">Issues</h4>
<div class="paragraph">
<p>None yet!</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_119">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2017-02-15 (Daniel Koch)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_viewport_swizzle">VK_NV_viewport_swizzle</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_viewport_swizzle</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>99</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_viewport_swizzle:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-12-22</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires <code>multiViewport</code> and <code>geometryShader</code>
features to be useful.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Koch, NVIDIA</p>
</li>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension provides a new per-viewport swizzle that can modify the
position of primitives sent to each viewport.
New viewport swizzle state is added for each viewport, and a new position
vector is computed for each vertex by selecting from and optionally negating
any of the four components of the original position vector.</p>
</div>
<div class="paragraph">
<p>This new viewport swizzle is useful for a number of algorithms, including
single-pass cubemap rendering (broadcasting a primitive to multiple faces
and reorienting the vertex position for each face) and voxel rasterization.
The per-viewport component remapping and negation provided by the swizzle
allows application code to re-orient three-dimensional geometry with a view
along any of the <strong>X</strong>, <strong>Y</strong>, or <strong>Z</strong> axes.
If a perspective projection and depth buffering is required, <span class="eq">1/W</span>
buffering should be used, as described in the single-pass cubemap rendering
example in the “Issues” section below.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_101">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_125">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_SWIZZLE_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_109">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkViewportCoordinateSwizzleNV">VkViewportCoordinateSwizzleNV</a></p>
</li>
<li>
<p><a href="chap25.html#VkPipelineViewportSwizzleStateCreateFlagsNV">VkPipelineViewportSwizzleStateCreateFlagsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_104">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap25.html#VkViewportSwizzleNV">VkViewportSwizzleNV</a></p>
</li>
<li>
<p><a href="chap25.html#VkPipelineViewportSwizzleStateCreateInfoNV">VkPipelineViewportSwizzleStateCreateInfoNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_113">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_111">Issues</h4>
<div class="paragraph">
<p>1) Where does viewport swizzling occur in the pipeline?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Despite being associated with the viewport, viewport swizzling
must happen prior to the viewport transform.
In particular, it needs to be performed before clipping and perspective
division.</p>
</div>
<div class="paragraph">
<p>The viewport mask expansion (<code><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></code>) and the viewport
swizzle could potentially be performed before or after transform feedback,
but feeding back several viewports worth of primitives with different
swizzles doesn’t seem particularly useful.
This specification applies the viewport mask and swizzle after transform
feedback, and makes primitive queries only count each primitive once.</p>
</div>
<div class="paragraph">
<p>2) Any interesting examples of how this extension,
<code><a href="#VK_NV_viewport_array2">VK_NV_viewport_array2</a></code>, and <code><a href="#VK_NV_geometry_shader_passthrough">VK_NV_geometry_shader_passthrough</a></code> can
be used together in practice?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: One interesting use case for this extension is for single-pass
rendering to a cubemap.
In this example, the application would attach a cubemap texture to a layered
FBO where the six cube faces are treated as layers.
Vertices are sent through the vertex shader without applying a projection
matrix, where the <code>gl_Position</code> output is <span class="eq">(x,y,z,1)</span> and the center
of the cubemap is at <span class="eq">(0,0,0)</span>.
With unextended Vulkan, one could have a conventional instanced geometry
shader that looks something like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">layout(invocations = <span class="integer">6</span>) in;     <span class="comment">// separate invocation per face</span>
layout(triangles) in;
layout(triangle_strip) out;
layout(max_vertices = <span class="integer">3</span>) out;

in Inputs {
vec2 texcoord;
vec3 normal;
vec4 baseColor;
} v[];

    out Outputs {
    vec2 texcoord;
    vec3 normal;
    vec4 baseColor;
    };

    <span class="directive">void</span> main()
    {
    <span class="predefined-type">int</span> face = gl_InvocationID;  <span class="comment">// which face am I?</span>

    <span class="comment">// Project gl_Position for each vertex onto the cube map face.</span>
    vec4 positions[<span class="integer">3</span>];
    <span class="keyword">for</span> (<span class="predefined-type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">3</span>; i++) {
        positions[i] = rotate(gl_in[i].gl_Position, face);
    }

    <span class="comment">// If the primitive doesn't project onto this face, we're done.</span>
    <span class="keyword">if</span> (shouldCull(positions)) {
        <span class="keyword">return</span>;
    }

    <span class="comment">// Otherwise, emit a copy of the input primitive to the</span>
    <span class="comment">// appropriate face (using gl_Layer).</span>
    <span class="keyword">for</span> (<span class="predefined-type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">3</span>; i++) {
        gl_Layer = face;
        gl_Position = positions[i];
        texcoord = v[i].texcoord;
        normal = v[i].normal;
        baseColor = v[i].baseColor;
        EmitVertex();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With passthrough geometry shaders, this can be done using a much simpler
shader:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c">layout(triangles) in;
layout(passthrough) in Inputs {
    vec2 texcoord;
    vec3 normal;
    vec4 baseColor;
}
layout(passthrough) in gl_PerVertex {
    vec4 gl_Position;
} gl_in[];
layout(viewport_relative) out <span class="predefined-type">int</span> gl_Layer;

<span class="directive">void</span> main()
{
    <span class="comment">// Figure out which faces the primitive projects onto and</span>
    <span class="comment">// generate a corresponding viewport mask.</span>
    uint mask = <span class="integer">0</span>;
    <span class="keyword">for</span> (<span class="predefined-type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">6</span>; i++) {
        <span class="keyword">if</span> (!shouldCull(face)) {
        mask |= <span class="integer">1</span>U &lt;&lt; i;
        }
    }
    gl_ViewportMask = mask;
    gl_Layer = <span class="integer">0</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The application code is set up so that each of the six cube faces has a
separate viewport (numbered 0 to 5).
Each face also has a separate swizzle, programmed via the
<a href="chap25.html#VkPipelineViewportSwizzleStateCreateInfoNV">VkPipelineViewportSwizzleStateCreateInfoNV</a> pipeline state.
The viewport swizzle feature performs the coordinate transformation handled
by the <code>rotate</code>() function in the original shader.
The <code>viewport_relative</code> layout qualifier says that the viewport number (0
to 5) is added to the base <code>gl_Layer</code> value of 0 to determine which layer
(cube face) the primitive should be sent to.</p>
</div>
<div class="paragraph">
<p>Note that the use of the passed through input <code>normal</code> in this example
suggests that the fragment shader in this example would perform an operation
like per-fragment lighting.
The viewport swizzle would transform the position to be face-relative, but
<code>normal</code> would remain in the original coordinate system.
It seems likely that the fragment shader in either version of the example
would want to perform lighting in the original coordinate system.
It would likely do this by reconstructing the position of the fragment in
the original coordinate system using <code>gl_FragCoord</code>, a constant or
uniform holding the size of the cube face, and the input
<code>gl_ViewportIndex</code> (or <code>gl_Layer</code>), which identifies the cube face.
Since the value of <code>normal</code> is in the original coordinate system, it
would not need to be modified as part of this coordinate transformation.</p>
</div>
<div class="paragraph">
<p>Note that while the <code>rotate</code>() operation in the regular geometry shader
above could include an arbitrary post-rotation projection matrix, the
viewport swizzle does not support arbitrary math.
To get proper projection, <span class="eq">1/W</span> buffering should be used.
To do this:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Program the viewport swizzles to move the pre-projection <span class="eq">W</span> eye
coordinate (typically 1.0) into the <span class="eq">Z</span> coordinate of the swizzle
output and the eye coordinate component used for depth into the <span class="eq">W</span>
coordinate.
For example, the viewport corresponding to the <span class="eq">+Z</span> face might use a
swizzle of <span class="eq">(+X, -Y, +W, +Z)</span>.
The <span class="eq">Z</span> normalized device coordinate computed after swizzling would
then be <span class="eq">z'/w' = 1/Z<sub>eye</sub></span>.</p>
</li>
<li>
<p>On NVIDIA implementations supporting floating-point depth buffers with
values outside <span class="eq">[0,1]</span>, prevent unwanted near plane clipping by
enabling <code>depthClampEnable</code>.
Ensure that the depth clamp doesn’t mess up depth testing by programming
the depth range to very large values, such as
<span class="eq"><code>minDepthBounds</code>=-z</span>, <span class="eq"><code>maxDepthBounds</code>=+z</span>, where
<span class="eq">z = 2<sup>127</sup></span>.
It should be possible to use IEEE infinity encodings also (<code>0xFF800000</code>
for <code>-INF</code>, <code>0x7F800000</code> for <code>+INF</code>).
Even when near/far clipping is disabled, primitives extending behind the
eye will still be clipped because one or more vertices will have a
negative <span class="eq">W</span> coordinate and fail <span class="eq">X</span>/<span class="eq">Y</span> clipping tests.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>On other implementations, scale <span class="eq">X</span>, <span class="eq">Y</span>, and <span class="eq">Z</span> eye
coordinates so that vertices on the near plane have a post-swizzle <span class="eq">W</span>
coordinate of 1.0.
For example, if the near plane is at <span class="eq">Z<sub>eye</sub> = 1/256</span>, scale <span class="eq">X</span>,
<span class="eq">Y</span>, and <span class="eq">Z</span> by 256.</p>
</div>
</div>
</div>
</li>
<li>
<p>Adjust depth testing to reflect the fact that <span class="eq">1/W</span> values are large
near the eye and small away from the eye.
Clear the depth buffer to zero (infinitely far away) and use a depth
test of <code>VK_COMPARE_OP_GREATER</code> instead of <code>VK_COMPARE_OP_LESS</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_120">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-12-22 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="provisional-extension-appendices-list">List of Provisional Extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</a></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="VK_KHR_vulkan_memory_model">VK_KHR_vulkan_memory_model</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_KHR_vulkan_memory_model</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>212</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>2</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_KHR_vulkan_memory_model:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2018-02-05</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>This extension requires
<a href="https://www.khronos.org/registry/spir-v/extensions/KHR/SPV_KHR_vulkan_memory_model.html">SPV_KHR_vulkan_memory_model</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
<li>
<p>Alan Baker, Google</p>
</li>
<li>
<p>Tobias Hector, AMD</p>
</li>
<li>
<p>David Neto, Google</p>
</li>
<li>
<p>Robert Simpson, Qualcomm Technologies, Inc.</p>
</li>
<li>
<p>Brian Sumner, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_vulkan_memory_model</code> extension allows use of the
<a href="chap38.html#memory-model">Vulkan Memory Model</a>, which formally defines how to
synchronize memory accesses to the same memory locations performed by
multiple shader invocations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_126">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_VULKAN_MEMORY_MODEL_FEATURES_KHR</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_105">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkPhysicalDeviceVulkanMemoryModelFeaturesKHR">VkPhysicalDeviceVulkanMemoryModelFeaturesKHR</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_spir_v_capabilities_28">New SPIR-V Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap37.html#spirvenv-capabilities-table-memorymodel"><code>VulkanMemoryModelKHR</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_112">Issues</h4>

</div>
<div class="sect3">
<h4 id="_version_history_121">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2018-06-24 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-extension-appendices-list">List of Deprecated Extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#VK_EXT_debug_marker">VK_EXT_debug_marker</a></p>
</li>
<li>
<p><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a></p>
</li>
<li>
<p><a href="#VK_AMD_draw_indirect_count">VK_AMD_draw_indirect_count</a></p>
</li>
<li>
<p><a href="#VK_AMD_negative_viewport_height">VK_AMD_negative_viewport_height</a></p>
</li>
<li>
<p><a href="#VK_NV_dedicated_allocation">VK_NV_dedicated_allocation</a></p>
</li>
<li>
<p><a href="#VK_NV_external_memory">VK_NV_external_memory</a></p>
</li>
<li>
<p><a href="#VK_NV_external_memory_capabilities">VK_NV_external_memory_capabilities</a></p>
</li>
<li>
<p><a href="#VK_NV_external_memory_win32">VK_NV_external_memory_win32</a></p>
</li>
<li>
<p><a href="#VK_NV_glsl_shader">VK_NV_glsl_shader</a></p>
</li>
<li>
<p><a href="#VK_NV_win32_keyed_mutex">VK_NV_win32_keyed_mutex</a></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="VK_EXT_debug_marker">VK_EXT_debug_marker</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_debug_marker</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>23</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_EXT_debug_report">VK_EXT_debug_report</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="#VK_EXT_debug_utils">VK_EXT_debug_utils</a>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_debug_marker:%20&amp;body=@baldurk%20"><span class="icon black"><i class="fa fa-github"></i></span>baldurk</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-01-31</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Baldur Karlsson</p>
</li>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Jon Ashburn, LunarG</p>
</li>
<li>
<p>Kyle Spagnoli, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>VK_EXT_debug_marker</code> extension is a device extension.
It introduces concepts of object naming and tagging, for better tracking of
Vulkan objects, as well as additional commands for recording annotations of
named sections of a workload to aid organization and offline analysis in
external tools.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_102">New Object Types</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_127">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_MARKER_OBJECT_NAME_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_MARKER_OBJECT_TAG_INFO_EXT</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_MARKER_MARKER_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_110">New Enums</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_106">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkDebugMarkerObjectNameInfoEXT">VkDebugMarkerObjectNameInfoEXT</a></p>
</li>
<li>
<p><a href="chap36.html#VkDebugMarkerObjectTagInfoEXT">VkDebugMarkerObjectTagInfoEXT</a></p>
</li>
<li>
<p><a href="chap36.html#VkDebugMarkerMarkerInfoEXT">VkDebugMarkerMarkerInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_114">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#vkDebugMarkerSetObjectTagEXT">vkDebugMarkerSetObjectTagEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkDebugMarkerSetObjectNameEXT">vkDebugMarkerSetObjectNameEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkCmdDebugMarkerBeginEXT">vkCmdDebugMarkerBeginEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkCmdDebugMarkerEndEXT">vkCmdDebugMarkerEndEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkCmdDebugMarkerInsertEXT">vkCmdDebugMarkerInsertEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_examples_30">Examples</h4>
<div class="paragraph">
<p><strong>Example 1</strong></p>
</div>
<div class="paragraph">
<p>Associate a name with an image, for easier debugging in external tools or
with validation layers that can print a friendly name when referring to
objects in error messages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="directive">extern</span> VkDevice device;
    <span class="directive">extern</span> VkImage image;

    <span class="comment">// Must call extension functions through a function pointer:</span>
    PFN_vkDebugMarkerSetObjectNameEXT pfnDebugMarkerSetObjectNameEXT = (PFN_vkDebugMarkerSetObjectNameEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkDebugMarkerSetObjectNameEXT</span><span class="delimiter">&quot;</span></span>);

    <span class="comment">// Set a name on the image</span>
    <span class="directive">const</span> VkDebugMarkerObjectNameInfoEXT imageNameInfo =
    {
        VK_STRUCTURE_TYPE_DEBUG_MARKER_OBJECT_NAME_INFO_EXT, <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                           <span class="comment">// pNext</span>
        VK_DEBUG_REPORT_OBJECT_TYPE_IMAGE_EXT,          <span class="comment">// objectType</span>
        (uint64_t)image,                                <span class="comment">// object</span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Brick Diffuse Texture</span><span class="delimiter">&quot;</span></span>,                        <span class="comment">// pObjectName</span>
    };

    pfnDebugMarkerSetObjectNameEXT(device, &amp;imageNameInfo);

    <span class="comment">// A subsequent error might print:</span>
    <span class="comment">//   Image 'Brick Diffuse Texture' (0xc0dec0dedeadbeef) is used in a</span>
    <span class="comment">//   command buffer with no memory bound to it.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 2</strong></p>
</div>
<div class="paragraph">
<p>Annotating regions of a workload with naming information so that offline
analysis tools can display a more usable visualisation of the commands
submitted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="directive">extern</span> VkDevice device;
    <span class="directive">extern</span> VkCommandBuffer commandBuffer;

    <span class="comment">// Must call extension functions through a function pointer:</span>
    PFN_vkCmdDebugMarkerBeginEXT pfnCmdDebugMarkerBeginEXT = (PFN_vkCmdDebugMarkerBeginEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkCmdDebugMarkerBeginEXT</span><span class="delimiter">&quot;</span></span>);
    PFN_vkCmdDebugMarkerEndEXT pfnCmdDebugMarkerEndEXT = (PFN_vkCmdDebugMarkerEndEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkCmdDebugMarkerEndEXT</span><span class="delimiter">&quot;</span></span>);
    PFN_vkCmdDebugMarkerInsertEXT pfnCmdDebugMarkerInsertEXT = (PFN_vkCmdDebugMarkerInsertEXT)vkGetDeviceProcAddr(device, <span class="string"><span class="delimiter">&quot;</span><span class="content">vkCmdDebugMarkerInsertEXT</span><span class="delimiter">&quot;</span></span>);

    <span class="comment">// Describe the area being rendered</span>
    <span class="directive">const</span> VkDebugMarkerMarkerInfoEXT houseMarker =
    {
        VK_STRUCTURE_TYPE_DEBUG_MARKER_MARKER_INFO_EXT, <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                           <span class="comment">// pNext</span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Brick House</span><span class="delimiter">&quot;</span></span>,                                  <span class="comment">// pMarkerName</span>
        { <span class="float">1</span><span class="float">.0f</span>, <span class="float">0</span><span class="float">.0f</span>, <span class="float">0</span><span class="float">.0f</span>, <span class="float">1</span><span class="float">.0f</span> },                     <span class="comment">// color</span>
    };

    <span class="comment">// Start an annotated group of calls under the 'Brick House' name</span>
    pfnCmdDebugMarkerBeginEXT(commandBuffer, &amp;houseMarker);
    {
        <span class="comment">// A mutable structure for each part being rendered</span>
        VkDebugMarkerMarkerInfoEXT housePartMarker =
        {
            VK_STRUCTURE_TYPE_DEBUG_MARKER_MARKER_INFO_EXT, <span class="comment">// sType</span>
            <span class="predefined-constant">NULL</span>,                                           <span class="comment">// pNext</span>
            <span class="predefined-constant">NULL</span>,                                           <span class="comment">// pMarkerName</span>
            { <span class="float">0</span><span class="float">.0f</span>, <span class="float">0</span><span class="float">.0f</span>, <span class="float">0</span><span class="float">.0f</span>, <span class="float">0</span><span class="float">.0f</span> },                     <span class="comment">// color</span>
        };

        <span class="comment">// Set the name and insert the marker</span>
        housePartMarker.pMarkerName = <span class="string"><span class="delimiter">&quot;</span><span class="content">Walls</span><span class="delimiter">&quot;</span></span>;
        pfnCmdDebugMarkerInsertEXT(commandBuffer, &amp;housePartMarker);

        <span class="comment">// Insert the drawcall for the walls</span>
        vkCmdDrawIndexed(commandBuffer, <span class="integer">1000</span>, <span class="integer">1</span>, <span class="integer">0</span>, <span class="integer">0</span>, <span class="integer">0</span>);

        <span class="comment">// Insert a recursive region for two sets of windows</span>
        housePartMarker.pMarkerName = <span class="string"><span class="delimiter">&quot;</span><span class="content">Windows</span><span class="delimiter">&quot;</span></span>;
        pfnCmdDebugMarkerBeginEXT(commandBuffer, &amp;housePartMarker);
        {
            vkCmdDrawIndexed(commandBuffer, <span class="integer">75</span>, <span class="integer">6</span>, <span class="integer">1000</span>, <span class="integer">0</span>, <span class="integer">0</span>);
            vkCmdDrawIndexed(commandBuffer, <span class="integer">100</span>, <span class="integer">2</span>, <span class="integer">1450</span>, <span class="integer">0</span>, <span class="integer">0</span>);
        }
        pfnCmdDebugMarkerEndEXT(commandBuffer);

        housePartMarker.pMarkerName = <span class="string"><span class="delimiter">&quot;</span><span class="content">Front Door</span><span class="delimiter">&quot;</span></span>;
        pfnCmdDebugMarkerInsertEXT(commandBuffer, &amp;housePartMarker);

        vkCmdDrawIndexed(commandBuffer, <span class="integer">350</span>, <span class="integer">1</span>, <span class="integer">1650</span>, <span class="integer">0</span>, <span class="integer">0</span>);

        housePartMarker.pMarkerName = <span class="string"><span class="delimiter">&quot;</span><span class="content">Roof</span><span class="delimiter">&quot;</span></span>;
        pfnCmdDebugMarkerInsertEXT(commandBuffer, &amp;housePartMarker);

        vkCmdDrawIndexed(commandBuffer, <span class="integer">500</span>, <span class="integer">1</span>, <span class="integer">2000</span>, <span class="integer">0</span>, <span class="integer">0</span>);
    }
    <span class="comment">// End the house annotation started above</span>
    pfnCmdDebugMarkerEndEXT(commandBuffer);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_issues_113">Issues</h4>
<div class="paragraph">
<p>1) Should the tag or name for an object be specified using the <code>pNext</code>
parameter in the object’s <code>Vk*CreateInfo</code> structure?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
While this fits with other Vulkan patterns and would allow more type safety
and future proofing against future objects, it has notable downsides.
In particular passing the name at <code>Vk*CreateInfo</code> time does not allow
renaming, prevents late binding of naming information, and does not allow
naming of implicitly created objects such as queues and swapchain images.</p>
</div>
<div class="paragraph">
<p>2) Should the command annotation functions <a href="chap36.html#vkCmdDebugMarkerBeginEXT">vkCmdDebugMarkerBeginEXT</a>
and <a href="chap36.html#vkCmdDebugMarkerEndEXT">vkCmdDebugMarkerEndEXT</a> support the ability to specify a color?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
The functions have been expanded to take an optional color which can be used
at will by implementations consuming the command buffer annotations in their
visualisation.</p>
</div>
<div class="paragraph">
<p>3) Should the functions added in this extension accept an extensible
structure as their parameter for a more flexible API, as opposed to direct
function parameters? If so, which functions?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes.
All functions have been modified to take a structure type with extensible
<code>pNext</code> pointer, to allow future extensions to add additional annotation
information in the same commands.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_122">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-02-24 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG marker spec</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2016-02-26 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Renamed Dbg to DebugMarker in function names</p>
</li>
<li>
<p>Allow markers in secondary command buffers under certain circumstances</p>
</li>
<li>
<p>Minor language tweaks and edits</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2016-04-23 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Reorganise spec layout to closer match desired organisation</p>
</li>
<li>
<p>Added optional color to markers (both regions and inserted labels)</p>
</li>
<li>
<p>Changed functions to take extensible structs instead of direct function
parameters</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2017-01-31 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Added explicit dependency on VK_EXT_debug_report</p>
</li>
<li>
<p>Moved definition of <a href="chap36.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a> to debug report
chapter.</p>
</li>
<li>
<p>Fixed typo in dates in revision history</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_EXT_debug_report">VK_EXT_debug_report</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_EXT_debug_report</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>12</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>9</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<a href="#VK_EXT_debug_utils">VK_EXT_debug_utils</a>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_EXT_debug_report:%20&amp;body=@courtney-g%20"><span class="icon black"><i class="fa fa-github"></i></span>courtney-g</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2017-09-12</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Courtney Goeltzenleuchter, LunarG</p>
</li>
<li>
<p>Dan Ginsburg, Valve</p>
</li>
<li>
<p>Jon Ashburn, LunarG</p>
</li>
<li>
<p>Mark Lobodzinski, LunarG</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Due to the nature of the Vulkan interface, there is very little error
information available to the developer and application.
By enabling optional validation layers and using the <code>VK_EXT_debug_report</code>
extension, developers <strong class="purple">can</strong> obtain much more detailed feedback on the
application’s use of Vulkan.
This extension defines a way for layers and the implementation to call back
to the application for events of interest to the application.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_103">New Object Types</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkDebugReportCallbackEXT">VkDebugReportCallbackEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_128">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEBUG_REPORT_CALLBACK_CREATE_INFO_EXT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_VALIDATION_FAILED_EXT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_111">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkDebugReportFlagBitsEXT">VkDebugReportFlagBitsEXT</a></p>
</li>
<li>
<p><a href="chap36.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_107">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#VkDebugReportCallbackCreateInfoEXT">VkDebugReportCallbackCreateInfoEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_115">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#vkCreateDebugReportCallbackEXT">vkCreateDebugReportCallbackEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkDestroyDebugReportCallbackEXT">vkDestroyDebugReportCallbackEXT</a></p>
</li>
<li>
<p><a href="chap36.html#vkDebugReportMessageEXT">vkDebugReportMessageEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_function_pointers_2">New Function Pointers</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap36.html#PFN_vkDebugReportCallbackEXT">PFN_vkDebugReportCallbackEXT</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_examples_31">Examples</h4>
<div class="paragraph">
<p><code>VK_EXT_debug_report</code> allows an application to register multiple callbacks
with the validation layers.
Some callbacks may log the information to a file, others may cause a debug
break point or other application defined behavior.
An application <strong class="purple">can</strong> register callbacks even when no validation layers are
enabled, but they will only be called for loader and, if implemented, driver
events.</p>
</div>
<div class="paragraph">
<p>To capture events that occur while creating or destroying an instance an
application <strong class="purple">can</strong> link a <a href="chap36.html#VkDebugReportCallbackCreateInfoEXT">VkDebugReportCallbackCreateInfoEXT</a> structure
to the <code>pNext</code> element of the <a href="chap3.html#VkInstanceCreateInfo">VkInstanceCreateInfo</a> structure given
to <a href="chap3.html#vkCreateInstance">vkCreateInstance</a>.
This callback is only valid for the duration of the <a href="chap3.html#vkCreateInstance">vkCreateInstance</a>
and the <a href="chap3.html#vkDestroyInstance">vkDestroyInstance</a> call.
Use <a href="chap36.html#vkCreateDebugReportCallbackEXT">vkCreateDebugReportCallbackEXT</a> to create persistent callback
objects.</p>
</div>
<div class="paragraph">
<p>Example uses: Create three callback objects.
One will log errors and warnings to the debug console using Windows
<code>OutputDebugString</code>.
The second will cause the debugger to break at that callback when an error
happens and the third will log warnings to stdout.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    VkResult res;
    VkDebugReportCallbackEXT cb1, cb2, cb3;

    VkDebugReportCallbackCreateInfoEXT callback1 = {
            VK_STRUCTURE_TYPE_DEBUG_REPORT_CALLBACK_CREATE_INFO_EXT,    <span class="comment">// sType</span>
            <span class="predefined-constant">NULL</span>,                                                       <span class="comment">// pNext</span>
            VK_DEBUG_REPORT_ERROR_BIT_EXT |                             <span class="comment">// flags</span>
            VK_DEBUG_REPORT_WARNING_BIT_EXT,
            myOutputDebugString,                                        <span class="comment">// pfnCallback</span>
            <span class="predefined-constant">NULL</span>                                                        <span class="comment">// pUserData</span>
    };
    res = vkCreateDebugReportCallbackEXT(instance, &amp;callback1, &amp;cb1);
    <span class="keyword">if</span> (res != VK_SUCCESS)
       <span class="comment">/* Do error handling for VK_ERROR_OUT_OF_MEMORY */</span>

    callback.flags = VK_DEBUG_REPORT_ERROR_BIT_EXT;
    callback.pfnCallback = myDebugBreak;
    callback.pUserData = <span class="predefined-constant">NULL</span>;
    res = vkCreateDebugReportCallbackEXT(instance, &amp;callback, &amp;cb2);
    <span class="keyword">if</span> (res != VK_SUCCESS)
       <span class="comment">/* Do error handling for VK_ERROR_OUT_OF_MEMORY */</span>

    VkDebugReportCallbackCreateInfoEXT callback3 = {
            VK_STRUCTURE_TYPE_DEBUG_REPORT_CALLBACK_CREATE_INFO_EXT,    <span class="comment">// sType</span>
            <span class="predefined-constant">NULL</span>,                                                       <span class="comment">// pNext</span>
            VK_DEBUG_REPORT_WARNING_BIT_EXT,                            <span class="comment">// flags</span>
            mystdOutLogger,                                             <span class="comment">// pfnCallback</span>
            <span class="predefined-constant">NULL</span>                                                        <span class="comment">// pUserData</span>
    };
    res = vkCreateDebugReportCallbackEXT(instance, &amp;callback3, &amp;cb3);
    <span class="keyword">if</span> (res != VK_SUCCESS)
       <span class="comment">/* Do error handling for VK_ERROR_OUT_OF_MEMORY */</span>

    ...

    <span class="comment">/* remove callbacks when cleaning up */</span>
    vkDestroyDebugReportCallbackEXT(instance, cb1);
    vkDestroyDebugReportCallbackEXT(instance, cb2);
    vkDestroyDebugReportCallbackEXT(instance, cb3);</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In the initial release of the <code>VK_EXT_debug_report</code> extension, the token
<code>VK_STRUCTURE_TYPE_DEBUG_REPORT_CREATE_INFO_EXT</code> was used.
Starting in version 2 of the extension branch,
<code>VK_STRUCTURE_TYPE_DEBUG_REPORT_CALLBACK_CREATE_INFO_EXT</code> is used
instead for consistency with Vulkan naming rules.
The older enum is still available for backwards compatibility.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In the initial release of the <code>VK_EXT_debug_report</code> extension, the token
<code>VK_DEBUG_REPORT_OBJECT_TYPE_DEBUG_REPORT_EXT</code> was used.
Starting in version 8 of the extension branch,
<code>VK_DEBUG_REPORT_OBJECT_TYPE_DEBUG_REPORT_CALLBACK_EXT_EXT</code> is used
instead for consistency with Vulkan naming rules.
The older enum is still available for backwards compatibility.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_issues_114">Issues</h4>
<div class="paragraph">
<p>1) What is the hierarchy / seriousness of the message flags? E.g.
<code>ERROR</code> &gt; <code>WARN</code> &gt; <code>PERF_WARN</code> …​</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: There is no specific hierarchy.
Each bit is independent and should be checked via bitwise AND.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="keyword">if</span> (localFlags &amp; VK_DEBUG_REPORT_ERROR_BIT_EXT) {
        process error message
    }
    <span class="keyword">if</span> (localFlags &amp; VK_DEBUG_REPORT_DEBUG_BIT_EXT) {
        process debug message
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The validation layers do use them in a hierarchical way (<code>ERROR</code> &gt;
<code>WARN</code> &gt; <code>PERF</code>, <code>WARN</code> &gt; <code>DEBUG</code> &gt; <code>INFO</code>) and they (at
least at the time of this writing) only set one bit at a time.
But it is not a requirement of this extension.</p>
</div>
<div class="paragraph">
<p>It is possible that a layer may intercept and change, or augment the flags
with extension values the application’s debug report handler may not be
familiar with, so it is important to treat each flag independently.</p>
</div>
<div class="paragraph">
<p>2) Should there be a VU requiring
<a href="chap36.html#VkDebugReportCallbackCreateInfoEXT">VkDebugReportCallbackCreateInfoEXT</a>::<code>flags</code> to be non-zero?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: It may not be very useful, but we do not need VU statement
requiring the <code>VkDebugReportCallbackCreateInfoEXT</code>::<code>msgFlags</code> at
create-time to be non-zero.
One can imagine that apps may prefer it as it allows them to set the mask as
desired - including nothing - at runtime without having to check.</p>
</div>
<div class="paragraph">
<p>3) What is the difference between <code>VK_DEBUG_REPORT_DEBUG_BIT_EXT</code> and
<code>VK_DEBUG_REPORT_INFORMATION_BIT_EXT</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: <code>VK_DEBUG_REPORT_DEBUG_BIT_EXT</code> specifies information that
could be useful debugging the Vulkan implementation itself.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_123">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2015-05-20 (Courtney Goetzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft, based on LunarG KHR spec, other KHR specs</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 2, 2016-02-16 (Courtney Goetzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Update usage, documentation</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 3, 2016-06-14 (Courtney Goetzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Update VK_EXT_DEBUG_REPORT_SPEC_VERSION to indicate added support for
vkCreateInstance and vkDestroyInstance</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 4, 2016-12-08 (Mark Lobodzinski)</p>
<div class="ulist">
<ul>
<li>
<p>Added Display_KHR, DisplayModeKHR extension objects</p>
</li>
<li>
<p>Added ObjectTable_NVX, IndirectCommandsLayout_NVX extension objects</p>
</li>
<li>
<p>Bumped spec revision</p>
</li>
<li>
<p>Retroactively added version history</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 5, 2017-01-31 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Moved definition of <a href="chap36.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a> from debug marker
chapter</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 6, 2017-01-31 (Baldur Karlsson)</p>
<div class="ulist">
<ul>
<li>
<p>Added VK_DEBUG_REPORT_OBJECT_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_KHR_EXT</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 7, 2017-04-20 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Clarify wording and address questions from developers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 8, 2017-04-21 (Courtney Goeltzenleuchter)</p>
<div class="ulist">
<ul>
<li>
<p>Remove unused enum VkDebugReportErrorEXT</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 9, 2017-09-12 (Tobias Hector)</p>
<div class="ulist">
<ul>
<li>
<p>Added interactions with Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_draw_indirect_count">VK_AMD_draw_indirect_count</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_draw_indirect_count</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>34</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="#VK_KHR_draw_indirect_count">VK_KHR_draw_indirect_count</a>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Daniel Rakos <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_draw_indirect_count:%20&amp;body=@drakos-amd%20"><span class="icon black"><i class="fa fa-github"></i></span>drakos-amd</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-23</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Derrick Owens, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Dominik Witczak, AMD</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows an application to source the number of draw calls for
indirect draw calls from a buffer.
This enables applications to generate arbitrary amounts of draw commands and
execute them without host intervention.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_116">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap20.html#vkCmdDrawIndirectCountAMD">vkCmdDrawIndirectCountAMD</a></p>
</li>
<li>
<p><a href="chap20.html#vkCmdDrawIndexedIndirectCountAMD">vkCmdDrawIndexedIndirectCountAMD</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_124">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2016-08-23 (Dominik Witczak)</p>
<div class="ulist">
<ul>
<li>
<p>Minor fixes</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2016-07-21 (Matthaeus Chajdas)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_AMD_negative_viewport_height">VK_AMD_negative_viewport_height</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_AMD_negative_viewport_height</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>36</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Obsoleted</em> by
<a href="#VK_KHR_maintenance1">VK_KHR_maintenance1</a>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_AMD_negative_viewport_height:%20&amp;body=@anteru%20"><span class="icon black"><i class="fa fa-github"></i></span>anteru</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-09-02</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Matthaeus G. Chajdas, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Baldur Karlsson</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Obsoleted by <code>VK_KHR_maintenance1</code></p>
</li>
<li>
<p>Obsoleted by Vulkan 1.1</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows an application to specify a negative viewport height.
The result is that the viewport transformation will flip along the y-axis.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow negative height to be specified in the
<a href="chap25.html#VkViewport">VkViewport</a>::<code>height</code> field to perform y-inversion of the
clip-space to framebuffer-space transform.
This allows apps to avoid having to use <code>gl_Position.y = -gl_Position.y</code>
in shaders also targeting other APIs.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_obsoletion_by_vk_khr_maintenance1_and_vulkan_1_1">Obsoletion by VK_KHR_maintenance1 and Vulkan 1.1</h4>
<div class="paragraph">
<p>Functionality in this extension is included in <code>VK_KHR_maintenance1</code> and
Vulkan 1.1.
Due to some slight behavioral differences, this extension <strong class="purple">must</strong> not be
enabled alongside <code>VK_KHR_maintenance1</code>, or in an instance created with
version 1.1 or later requested in <a href="chap3.html#VkApplicationInfo">VkApplicationInfo</a>::<code>apiVersion</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_125">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-09-02 (Matthaeus Chajdas)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_dedicated_allocation">VK_NV_dedicated_allocation</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_dedicated_allocation</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>27</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_dedicated_allocation:%20&amp;body=@jeffbolznv%20"><span class="icon black"><i class="fa fa-github"></i></span>jeffbolznv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-05-31</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Jeff Bolz, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows device memory to be allocated for a particular buffer
or image resource, which on some devices can significantly improve the
performance of that resource.
Normal device memory allocations must support memory aliasing and sparse
binding, which could interfere with optimizations like framebuffer
compression or efficient page table usage.
This is important for render targets and very large resources, but need not
(and probably should not) be used for smaller resources that can benefit
from suballocation.</p>
</div>
<div class="paragraph">
<p>This extension adds a few small structures to resource creation and memory
allocation: a new structure that flags whether am image/buffer will have a
dedicated allocation, and a structure indicating the image or buffer that an
allocation will be bound to.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_104">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_129">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_IMAGE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_BUFFER_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_MEMORY_ALLOCATE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_112">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_108">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkDedicatedAllocationImageCreateInfoNV">VkDedicatedAllocationImageCreateInfoNV</a></p>
</li>
<li>
<p><a href="chap11.html#VkDedicatedAllocationBufferCreateInfoNV">VkDedicatedAllocationBufferCreateInfoNV</a></p>
</li>
<li>
<p><a href="chap10.html#VkDedicatedAllocationMemoryAllocateInfoNV">VkDedicatedAllocationMemoryAllocateInfoNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_117">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_115">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_32">Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="comment">// Create an image with</span>
    <span class="comment">// VkDedicatedAllocationImageCreateInfoNV::dedicatedAllocation</span>
    <span class="comment">// set to VK_TRUE</span>

    VkDedicatedAllocationImageCreateInfoNV dedicatedImageInfo =
    {
        VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_IMAGE_CREATE_INFO_NV,            <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                                                   <span class="comment">// pNext</span>
        VK_TRUE,                                                                <span class="comment">// dedicatedAllocation</span>
    };

    VkImageCreateInfo imageCreateInfo =
    {
        VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO,    <span class="comment">// sType</span>
        &amp;dedicatedImageInfo                     <span class="comment">// pNext</span>
        <span class="comment">// Other members set as usual</span>
    };

    VkImage image;
    VkResult result = vkCreateImage(
        device,
        &amp;imageCreateInfo,
        <span class="predefined-constant">NULL</span>,                       <span class="comment">// pAllocator</span>
        &amp;image);

    VkMemoryRequirements memoryRequirements;
    vkGetImageMemoryRequirements(
        device,
        image,
        &amp;memoryRequirements);

    <span class="comment">// Allocate memory with VkDedicatedAllocationMemoryAllocateInfoNV::image</span>
    <span class="comment">// pointing to the image we are allocating the memory for</span>

    VkDedicatedAllocationMemoryAllocateInfoNV dedicatedInfo =
    {
        VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_MEMORY_ALLOCATE_INFO_NV,             <span class="comment">// sType</span>
        <span class="predefined-constant">NULL</span>,                                                                       <span class="comment">// pNext</span>
        image,                                                                      <span class="comment">// image</span>
        VK_NULL_HANDLE,                                                             <span class="comment">// buffer</span>
    };

    VkMemoryAllocateInfo memoryAllocateInfo =
    {
        VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO,                 <span class="comment">// sType</span>
        &amp;dedicatedInfo,                                         <span class="comment">// pNext</span>
        memoryRequirements.size,                                <span class="comment">// allocationSize</span>
        FindMemoryTypeIndex(memoryRequirements.memoryTypeBits), <span class="comment">// memoryTypeIndex</span>
    };

    VkDeviceMemory memory;
    vkAllocateMemory(
        device,
        &amp;memoryAllocateInfo,
        <span class="predefined-constant">NULL</span>,                       <span class="comment">// pAllocator</span>
        &amp;memory);

    <span class="comment">// Bind the image to the memory</span>

    vkBindImageMemory(
        device,
        image,
        memory,
        <span class="integer">0</span>);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_126">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-05-31 (Jeff Bolz)</p>
<div class="ulist">
<ul>
<li>
<p>Internal revisions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_external_memory">VK_NV_external_memory</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_external_memory</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>57</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_NV_external_memory_capabilities">VK_NV_external_memory_capabilities</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<a href="#VK_KHR_external_memory">VK_KHR_external_memory</a>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_external_memory:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Applications may wish to export memory to other Vulkan instances or other
APIs, or import memory from other Vulkan instances or other APIs to enable
Vulkan workloads to be split up across application module, process, or API
boundaries.
This extension enables applications to create exportable Vulkan memory
objects such that the underlying resources can be referenced outside the
Vulkan instance that created them.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_105">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_130">New Enum Constants</h4>
<div class="paragraph">
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_IMAGE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_ALLOCATE_INFO_NV</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_113">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_109">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap11.html#VkImageCreateInfo">VkImageCreateInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap11.html#VkExternalMemoryImageCreateInfoNV">VkExternalMemoryImageCreateInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extending <a href="chap10.html#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkExportMemoryAllocateInfoNV">VkExportMemoryAllocateInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_118">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_116">Issues</h4>
<div class="paragraph">
<p>1) If memory objects are shared between processes and APIs, is this
considered aliasing according to the rules outlined in the
<a href="chap11.html#resources-memory-aliasing">Memory Aliasing</a> section?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, but strict exceptions to the rules are added to allow some
forms of aliasing in these cases.
Further, other extensions may build upon these new aliasing rules to define
specific support usage within Vulkan for imported native memory objects, or
memory objects from other APIs.</p>
</div>
<div class="paragraph">
<p>2) Are new image layouts or metadata required to specify image layouts and
layout transitions compatible with non-Vulkan APIs, or with other instances
of the same Vulkan driver?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Separate instances of the same Vulkan driver running on the same GPU should
have identical internal layout semantics, so applictions have the tools they
need to ensure views of images are consistent between the two instances.
Other APIs will fall into two categories: Those that are Vulkan compatible
(a term to be defined by subsequent interopability extensions), or Vulkan
incompatible.
When sharing images with Vulkan incompatible APIs, the Vulkan image must be
transitioned to the <code>VK_IMAGE_LAYOUT_GENERAL</code> layout before handing it
off to the external API.</p>
</div>
<div class="paragraph">
<p>Note this does not attempt to address cross-device transitions, nor
transitions to engines on the same device which are not visible within the
Vulkan API.
Both of these are beyond the scope of this extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_33">Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="comment">// TODO: Write some sample code here.</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_127">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-08-19 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_external_memory_capabilities">VK_NV_external_memory_capabilities</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_external_memory_capabilities</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Instance extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>56</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<a href="#VK_KHR_external_memory_capabilities">VK_KHR_external_memory_capabilities</a>
extension</p>
<div class="ulist">
<ul>
<li>
<p>Which in turn was <em>promoted</em> to
Vulkan 1.1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_external_memory_capabilities:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Interactions and External Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interacts with Vulkan 1.1.</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_KHR_dedicated_allocation">VK_KHR_dedicated_allocation</a></code>.</p>
</li>
<li>
<p>Interacts with <code><a href="#VK_NV_dedicated_allocation">VK_NV_dedicated_allocation</a></code>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Applications may wish to import memory from the Direct 3D API, or export
memory to other Vulkan instances.
This extension provides a set of capability queries that allow applications
determine what types of win32 memory handles an implementation supports for
a given set of use cases.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_106">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_131">New Enum Constants</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_114">New Enums</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkExternalMemoryHandleTypeFlagBitsNV">VkExternalMemoryHandleTypeFlagBitsNV</a></p>
</li>
<li>
<p><a href="chap35.html#VkExternalMemoryFeatureFlagBitsNV">VkExternalMemoryFeatureFlagBitsNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_structs_17">New Structs</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#VkExternalImageFormatPropertiesNV">VkExternalImageFormatPropertiesNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_119">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap35.html#vkGetPhysicalDeviceExternalImageFormatPropertiesNV">vkGetPhysicalDeviceExternalImageFormatPropertiesNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_117">Issues</h4>
<div class="paragraph">
<p>1) Why do so many external memory capabilities need to be queried on a
per-memory-handle-type basis?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: This is because some handle types are based on OS-native objects
that have far more limited capabilities than the very generic Vulkan memory
objects.
Not all memory handle types can name memory objects that support 3D images,
for example.
Some handle types cannot even support the deferred image and memory binding
behavior of Vulkan and require specifying the image when allocating or
importing the memory object.</p>
</div>
<div class="paragraph">
<p>2) Does the <a href="chap35.html#VkExternalImageFormatPropertiesNV">VkExternalImageFormatPropertiesNV</a> struct need to include a
list of memory type bits that support the given handle type?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
The memory types that do not support the handle types will simply be
filtered out of the results returned by <a href="chap11.html#vkGetImageMemoryRequirements">vkGetImageMemoryRequirements</a>
when a set of handle types was specified at image creation time.</p>
</div>
<div class="paragraph">
<p>3) Should the non-opaque handle types be moved to their own extension?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Perhaps.
However, defining the handle type bits does very little and does not require
any platform-specific types on its own, and it is easier to maintain the
bitmask values in a single extension for now.
Presumably more handle types could be added by separate extensions though,
and it would be midly weird to have some platform-specific ones defined in
the core spec and some in extensions</p>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_external_memory_win32">VK_NV_external_memory_win32</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_external_memory_win32</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>58</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_NV_external_memory">VK_NV_external_memory</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> by
<a href="#VK_KHR_external_memory_win32">VK_KHR_external_memory_win32</a>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_external_memory_win32:%20&amp;body=@cubanismo%20"><span class="icon black"><i class="fa fa-github"></i></span>cubanismo</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Applications may wish to export memory to other Vulkan instances or other
APIs, or import memory from other Vulkan instances or other APIs to enable
Vulkan workloads to be split up across application module, process, or API
boundaries.
This extension enables win32 applications to export win32 handles from
Vulkan memory objects such that the underlying resources can be referenced
outside the Vulkan instance that created them, and import win32 handles
created in the Direct3D API to Vulkan memory objects.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_107">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_132">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_IMPORT_MEMORY_WIN32_HANDLE_INFO_NV</code></p>
</li>
<li>
<p><code>VK_STRUCTURE_TYPE_EXPORT_MEMORY_WIN32_HANDLE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_115">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_110">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap10.html#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkImportMemoryWin32HandleInfoNV">VkImportMemoryWin32HandleInfoNV</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Extends <a href="chap10.html#VkMemoryAllocateInfo">VkMemoryAllocateInfo</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#VkExportMemoryWin32HandleInfoNV">VkExportMemoryWin32HandleInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_120">New Functions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="chap10.html#vkGetMemoryWin32HandleNV">vkGetMemoryWin32HandleNV</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_issues_118">Issues</h4>
<div class="paragraph">
<p>1) If memory objects are shared between processes and APIs, is this
considered aliasing according to the rules outlined in the
<a href="chap11.html#resources-memory-aliasing">Memory Aliasing</a> section?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, but strict exceptions to the rules are added to allow some
forms of aliasing in these cases.
Further, other extensions may build upon these new aliasing rules to define
specific support usage within Vulkan for imported native memory objects, or
memory objects from other APIs.</p>
</div>
<div class="paragraph">
<p>2) Are new image layouts or metadata required to specify image layouts and
layout transitions compatible with non-Vulkan APIs, or with other instances
of the same Vulkan driver?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: No.
Separate instances of the same Vulkan driver running on the same GPU should
have identical internal layout semantics, so applictions have the tools they
need to ensure views of images are consistent between the two instances.
Other APIs will fall into two categories: Those that are Vulkan compatible
(a term to be defined by subsequent interopability extensions), or Vulkan
incompatible.
When sharing images with Vulkan incompatible APIs, the Vulkan image must be
transitioned to the <code>VK_IMAGE_LAYOUT_GENERAL</code> layout before handing it
off to the external API.</p>
</div>
<div class="paragraph">
<p>Note this does not attempt to address cross-device transitions, nor
transitions to engines on the same device which are not visible within the
Vulkan API.
Both of these are beyond the scope of this extension.</p>
</div>
<div class="paragraph">
<p>3) Do applications need to call <code>CloseHandle</code>() on the values returned
from <a href="chap10.html#vkGetMemoryWin32HandleNV">vkGetMemoryWin32HandleNV</a> when <code>handleType</code> is
<code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT_NV</code>?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: Yes, unless it is passed back in to another driver instance to
import the object.
A successful get call transfers ownership of the handle to the application,
while an import transfers ownership to the associated driver.
Destroying the memory object will not destroy the handle or the handle’s
reference to the underlying memory resource.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_34">Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="comment">//</span>
    <span class="comment">// Create an exportable memory object and export an external</span>
    <span class="comment">// handle from it.</span>
    <span class="comment">//</span>

    <span class="comment">// Pick an external format and handle type.</span>
    <span class="directive">static</span> <span class="directive">const</span> VkFormat format = VK_FORMAT_R8G8B8A8_UNORM;
    <span class="directive">static</span> <span class="directive">const</span> VkExternalMemoryHandleTypeFlagsNV handleType =
        VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT_NV;

    <span class="directive">extern</span> VkPhysicalDevice physicalDevice;
    <span class="directive">extern</span> VkDevice device;

    VkPhysicalDeviceMemoryProperties memoryProperties;
    VkExternalImageFormatPropertiesNV properties;
    VkExternalMemoryImageCreateInfoNV externalMemoryImageCreateInfo;
    VkDedicatedAllocationImageCreateInfoNV dedicatedImageCreateInfo;
    VkImageCreateInfo imageCreateInfo;
    VkImage image;
    VkMemoryRequirements imageMemoryRequirements;
    uint32_t numMemoryTypes;
    uint32_t memoryType;
    VkExportMemoryAllocateInfoNV exportMemoryAllocateInfo;
    VkDedicatedAllocationMemoryAllocateInfoNV dedicatedAllocationInfo;
    VkMemoryAllocateInfo memoryAllocateInfo;
    VkDeviceMemory memory;
    VkResult result;
    HANDLE memoryHnd;

    <span class="comment">// Figure out how many memory types the device supports</span>
    vkGetPhysicalDeviceMemoryProperties(physicalDevice,
                                        &amp;memoryProperties);
    numMemoryTypes = memoryProperties.memoryTypeCount;

    <span class="comment">// Check the external handle type capabilities for the chosen format</span>
    <span class="comment">// Exportable 2D image support with at least 1 mip level, 1 array</span>
    <span class="comment">// layer, and VK_SAMPLE_COUNT_1_BIT using optimal tiling and supporting</span>
    <span class="comment">// texturing and color rendering is required.</span>
    result = vkGetPhysicalDeviceExternalImageFormatPropertiesNV(
        physicalDevice,
        format,
        VK_IMAGE_TYPE_2D,
        VK_IMAGE_TILING_OPTIMAL,
        VK_IMAGE_USAGE_SAMPLED_BIT |
        VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT,
        <span class="integer">0</span>,
        handleType,
        &amp;properties);

    <span class="keyword">if</span> ((result != VK_SUCCESS) ||
        !(properties.externalMemoryFeatures &amp;
          VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT_NV)) {
        abort();
    }

    <span class="comment">// Set up the external memory image creation info</span>
    memset(&amp;externalMemoryImageCreateInfo,
           <span class="integer">0</span>, <span class="keyword">sizeof</span>(externalMemoryImageCreateInfo));
    externalMemoryImageCreateInfo.sType =
        VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_IMAGE_CREATE_INFO_NV;
    externalMemoryImageCreateInfo.handleTypes = handleType;
    <span class="keyword">if</span> (properties.externalMemoryFeatures &amp;
        VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT_NV) {
        memset(&amp;dedicatedImageCreateInfo, <span class="integer">0</span>, <span class="keyword">sizeof</span>(dedicatedImageCreateInfo));
        dedicatedImageCreateInfo.sType =
            VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_IMAGE_CREATE_INFO_NV;
        dedicatedImageCreateInfo.dedicatedAllocation = VK_TRUE;
        externalMemoryImageCreateInfo.pNext = &amp;dedicatedImageCreateInfo;
    }
    <span class="comment">// Set up the  core image creation info</span>
    memset(&amp;imageCreateInfo, <span class="integer">0</span>, <span class="keyword">sizeof</span>(imageCreateInfo));
    imageCreateInfo.sType = VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO;
    imageCreateInfo.pNext = &amp;externalMemoryImageCreateInfo;
    imageCreateInfo.format = format;
    imageCreateInfo.extent.width = <span class="integer">64</span>;
    imageCreateInfo.extent.height = <span class="integer">64</span>;
    imageCreateInfo.extent.depth = <span class="integer">1</span>;
    imageCreateInfo.mipLevels = <span class="integer">1</span>;
    imageCreateInfo.arrayLayers = <span class="integer">1</span>;
    imageCreateInfo.samples = VK_SAMPLE_COUNT_1_BIT;
    imageCreateInfo.tiling = VK_IMAGE_TILING_OPTIMAL;
    imageCreateInfo.usage = VK_IMAGE_USAGE_SAMPLED_BIT |
        VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT;
    imageCreateInfo.sharingMode = VK_SHARING_MODE_EXCLUSIVE;
    imageCreateInfo.initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;

    vkCreateImage(device, &amp;imageCreateInfo, <span class="predefined-constant">NULL</span>, &amp;image);

    vkGetImageMemoryRequirements(device,
                                 image,
                                 &amp;imageMemoryRequirements);

    <span class="comment">// For simplicity, just pick the first compatible memory type.</span>
    <span class="keyword">for</span> (memoryType = <span class="integer">0</span>; memoryType &lt; numMemoryTypes; memoryType++) {
        <span class="keyword">if</span> ((<span class="integer">1</span> &lt;&lt; memoryType) &amp; imageMemoryRequirements.memoryTypeBits) {
            <span class="keyword">break</span>;
        }
    }

    <span class="comment">// At least one memory type must be supported given the prior external</span>
    <span class="comment">// handle capability check.</span>
    assert(memoryType &lt; numMemoryTypes);

    <span class="comment">// Allocate the external memory object.</span>
    memset(&amp;exportMemoryAllocateInfo, <span class="integer">0</span>, <span class="keyword">sizeof</span>(exportMemoryAllocateInfo));
    exportMemoryAllocateInfo.sType =
        VK_STRUCTURE_TYPE_EXPORT_MEMORY_ALLOCATE_INFO_NV;
    exportMemoryAllocateInfo.handleTypes = handleType;
    <span class="keyword">if</span> (properties.externalMemoryFeatures &amp;
        VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT_NV) {
        memset(&amp;dedicatedAllocationInfo, <span class="integer">0</span>, <span class="keyword">sizeof</span>(dedicatedAllocationInfo));
        dedicatedAllocationInfo.sType =
            VK_STRUCTURE_TYPE_DEDICATED_ALLOCATION_MEMORY_ALLOCATE_INFO_NV;
        dedicatedAllocationInfo.image = image;
        exportMemoryAllocateInfo.pNext = &amp;dedicatedAllocationInfo;
    }
    memset(&amp;memoryAllocateInfo, <span class="integer">0</span>, <span class="keyword">sizeof</span>(memoryAllocateInfo));
    memoryAllocateInfo.sType = VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO;
    memoryAllocateInfo.pNext = &amp;exportMemoryAllocateInfo;
    memoryAllocateInfo.allocationSize = imageMemoryRequirements.size;
    memoryAllocateInfo.memoryTypeIndex = memoryType;

    vkAllocateMemory(device, &amp;memoryAllocateInfo, <span class="predefined-constant">NULL</span>, &amp;memory);

    <span class="keyword">if</span> (!(properties.externalMemoryFeatures &amp;
          VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT_NV)) {
        vkBindImageMemory(device, image, memory, <span class="integer">0</span>);
    }

    <span class="comment">// Get the external memory opaque FD handle</span>
    vkGetMemoryWin32HandleNV(device, memory, &amp;memoryHnd);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_128">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-08-11 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_glsl_shader">VK_NV_glsl_shader</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_glsl_shader</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>13</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Deprecated</em> without replacement</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_glsl_shader:%20&amp;body=@pdaniell-nv%20"><span class="icon black"><i class="fa fa-github"></i></span>pdaniell-nv</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-02-14</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Piers Daniell, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This extension allows GLSL shaders written to the GL_KHR_vulkan_glsl
extension specification to be used instead of SPIR-V.
The implementation will automatically detect whether the shader is SPIR-V or
GLSL, and compile it appropriately.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_108">New Object Types</h4>

</div>
<div class="sect3">
<h4 id="_new_enum_constants_133">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkResult">VkResult</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_INVALID_SHADER_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_116">New Enums</h4>

</div>
<div class="sect3">
<h4 id="_new_structures_111">New Structures</h4>

</div>
<div class="sect3">
<h4 id="_new_functions_121">New Functions</h4>

</div>
<div class="sect3">
<h4 id="_issues_119">Issues</h4>

</div>
<div class="sect3">
<h4 id="_examples_35">Examples</h4>
<div class="paragraph">
<p><strong>Example 1</strong></p>
</div>
<div class="paragraph">
<p>Passing in GLSL code</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="predefined-type">char</span> <span class="directive">const</span> vss[] =
        <span class="string"><span class="delimiter">&quot;</span><span class="content">#version 450 core</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">layout(location = 0) in vec2 aVertex;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">layout(location = 1) in vec4 aColor;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">out vec4 vColor;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">void main()</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">{</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">    vColor = aColor;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">    gl_Position = vec4(aVertex, 0, 1);</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">}</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>
    ;
    VkShaderModuleCreateInfo vertexShaderInfo = { VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO };
    vertexShaderInfo.codeSize = <span class="keyword">sizeof</span> vss;
    vertexShaderInfo.pCode = vss;
    VkShaderModule vertexShader;
    vkCreateShaderModule(device, &amp;vertexShaderInfo, <span class="integer">0</span>, &amp;vertexShader);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_129">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 1, 2016-02-14 (Piers Daniell)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="VK_NV_win32_keyed_mutex">VK_NV_win32_keyed_mutex</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name String</strong></dt>
<dd>
<p><code>VK_NV_win32_keyed_mutex</code></p>
</dd>
<dt class="hdlist1"><strong>Extension Type</strong></dt>
<dd>
<p>Device extension</p>
</dd>
<dt class="hdlist1"><strong>Registered Extension Number</strong></dt>
<dd>
<p>59</p>
</dd>
<dt class="hdlist1"><strong>Revision</strong></dt>
<dd>
<p>1</p>
</dd>
<dt class="hdlist1"><strong>Extension and Version Dependencies</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires Vulkan 1.0</p>
</li>
<li>
<p>Requires <code><a href="#VK_NV_external_memory_win32">VK_NV_external_memory_win32</a></code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Deprecation state</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>Promoted</em> to
<a href="#VK_KHR_win32_keyed_mutex">VK_KHR_win32_keyed_mutex</a>
extension</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Contact</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Carsten Rohde <a href="https://github.com/KhronosGroup/Vulkan-Docs/issues/new?title=VK_NV_win32_keyed_mutex:%20&amp;body=@crohde%20"><span class="icon black"><i class="fa fa-github"></i></span>crohde</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>Last Modified Date</strong></dt>
<dd>
<p>2016-08-19</p>
</dd>
<dt class="hdlist1"><strong>IP Status</strong></dt>
<dd>
<p>No known IP claims.</p>
</dd>
<dt class="hdlist1"><strong>Contributors</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>James Jones, NVIDIA</p>
</li>
<li>
<p>Carsten Rohde, NVIDIA</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Applications that wish to import Direct3D 11 memory objects into the Vulkan
API may wish to use the native keyed mutex mechanism to synchronize access
to the memory between Vulkan and Direct3D.
This extension provides a way for an application to access the keyed mutex
associated with an imported Vulkan memory object when submitting command
buffers to a queue.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_object_types_109">New Object Types</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_enum_constants_134">New Enum Constants</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap2.html#VkStructureType">VkStructureType</a>:</p>
<div class="ulist">
<ul>
<li>
<p><code>VK_STRUCTURE_TYPE_WIN32_KEYED_MUTEX_ACQUIRE_RELEASE_INFO_NV</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_enums_117">New Enums</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_structures_112">New Structures</h4>
<div class="ulist">
<ul>
<li>
<p>Extending <a href="chap5.html#VkSubmitInfo">VkSubmitInfo</a>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="chap5.html#VkWin32KeyedMutexAcquireReleaseInfoNV">VkWin32KeyedMutexAcquireReleaseInfoNV</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_new_functions_122">New Functions</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_issues_120">Issues</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_36">Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++">    <span class="comment">//</span>
    <span class="comment">// Import a memory object from Direct3D 11, and synchronize</span>
    <span class="comment">// access to it in Vulkan using keyed mutex objects.</span>
    <span class="comment">//</span>

    <span class="directive">extern</span> VkPhysicalDevice physicalDevice;
    <span class="directive">extern</span> VkDevice device;
    <span class="directive">extern</span> HANDLE sharedNtHandle;

    <span class="directive">static</span> <span class="directive">const</span> VkFormat format = VK_FORMAT_R8G8B8A8_UNORM;
    <span class="directive">static</span> <span class="directive">const</span> VkExternalMemoryHandleTypeFlagsNV handleType =
        VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_IMAGE_BIT_NV;

    VkPhysicalDeviceMemoryProperties memoryProperties;
    VkExternalImageFormatPropertiesNV properties;
    VkExternalMemoryImageCreateInfoNV externalMemoryImageCreateInfo;
    VkImageCreateInfo imageCreateInfo;
    VkImage image;
    VkMemoryRequirements imageMemoryRequirements;
    uint32_t numMemoryTypes;
    uint32_t memoryType;
    VkImportMemoryWin32HandleInfoNV importMemoryInfo;
    VkMemoryAllocateInfo memoryAllocateInfo;
    VkDeviceMemory mem;
    VkResult result;

    <span class="comment">// Figure out how many memory types the device supports</span>
    vkGetPhysicalDeviceMemoryProperties(physicalDevice,
                                        &amp;memoryProperties);
    numMemoryTypes = memoryProperties.memoryTypeCount;

    <span class="comment">// Check the external handle type capabilities for the chosen format</span>
    <span class="comment">// Importable 2D image support with at least 1 mip level, 1 array</span>
    <span class="comment">// layer, and VK_SAMPLE_COUNT_1_BIT using optimal tiling and supporting</span>
    <span class="comment">// texturing and color rendering is required.</span>
    result = vkGetPhysicalDeviceExternalImageFormatPropertiesNV(
        physicalDevice,
        format,
        VK_IMAGE_TYPE_2D,
        VK_IMAGE_TILING_OPTIMAL,
        VK_IMAGE_USAGE_SAMPLED_BIT |
        VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT,
        <span class="integer">0</span>,
        handleType,
        &amp;properties);

    <span class="keyword">if</span> ((result != VK_SUCCESS) ||
        !(properties.externalMemoryFeatures &amp;
          VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT_NV)) {
        abort();
    }

    <span class="comment">// Set up the external memory image creation info</span>
    memset(&amp;externalMemoryImageCreateInfo,
           <span class="integer">0</span>, <span class="keyword">sizeof</span>(externalMemoryImageCreateInfo));
    externalMemoryImageCreateInfo.sType =
        VK_STRUCTURE_TYPE_EXTERNAL_MEMORY_IMAGE_CREATE_INFO_NV;
    externalMemoryImageCreateInfo.handleTypes = handleType;
    <span class="comment">// Set up the  core image creation info</span>
    memset(&amp;imageCreateInfo, <span class="integer">0</span>, <span class="keyword">sizeof</span>(imageCreateInfo));
    imageCreateInfo.sType = VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO;
    imageCreateInfo.pNext = &amp;externalMemoryImageCreateInfo;
    imageCreateInfo.format = format;
    imageCreateInfo.extent.width = <span class="integer">64</span>;
    imageCreateInfo.extent.height = <span class="integer">64</span>;
    imageCreateInfo.extent.depth = <span class="integer">1</span>;
    imageCreateInfo.mipLevels = <span class="integer">1</span>;
    imageCreateInfo.arrayLayers = <span class="integer">1</span>;
    imageCreateInfo.samples = VK_SAMPLE_COUNT_1_BIT;
    imageCreateInfo.tiling = VK_IMAGE_TILING_OPTIMAL;
    imageCreateInfo.usage = VK_IMAGE_USAGE_SAMPLED_BIT |
        VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT;
    imageCreateInfo.sharingMode = VK_SHARING_MODE_EXCLUSIVE;
    imageCreateInfo.initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;

    vkCreateImage(device, &amp;imageCreateInfo, <span class="predefined-constant">NULL</span>, &amp;image);
    vkGetImageMemoryRequirements(device,
                                 image,
                                 &amp;imageMemoryRequirements);

    <span class="comment">// For simplicity, just pick the first compatible memory type.</span>
    <span class="keyword">for</span> (memoryType = <span class="integer">0</span>; memoryType &lt; numMemoryTypes; memoryType++) {
        <span class="keyword">if</span> ((<span class="integer">1</span> &lt;&lt; memoryType) &amp; imageMemoryRequirements.memoryTypeBits) {
            <span class="keyword">break</span>;
        }
    }

    <span class="comment">// At least one memory type must be supported given the prior external</span>
    <span class="comment">// handle capability check.</span>
    assert(memoryType &lt; numMemoryTypes);

    <span class="comment">// Allocate the external memory object.</span>
    memset(&amp;exportMemoryAllocateInfo, <span class="integer">0</span>, <span class="keyword">sizeof</span>(exportMemoryAllocateInfo));
    exportMemoryAllocateInfo.sType =
        VK_STRUCTURE_TYPE_EXPORT_MEMORY_ALLOCATE_INFO_NV;
    importMemoryInfo.handleTypes = handleType;
    importMemoryInfo.handle = sharedNtHandle;

    memset(&amp;memoryAllocateInfo, <span class="integer">0</span>, <span class="keyword">sizeof</span>(memoryAllocateInfo));
    memoryAllocateInfo.sType = VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO;
    memoryAllocateInfo.pNext = &amp;exportMemoryAllocateInfo;
    memoryAllocateInfo.allocationSize = imageMemoryRequirements.size;
    memoryAllocateInfo.memoryTypeIndex = memoryType;

    vkAllocateMemory(device, &amp;memoryAllocateInfo, <span class="predefined-constant">NULL</span>, &amp;mem);

    vkBindImageMemory(device, image, mem, <span class="integer">0</span>);

    ...

    <span class="directive">const</span> uint64_t acquireKey = <span class="integer">1</span>;
    <span class="directive">const</span> uint32_t timeout = INFINITE;
    <span class="directive">const</span> uint64_t releaseKey = <span class="integer">2</span>;

    VkWin32KeyedMutexAcquireReleaseInfoNV keyedMutex =
        { VK_STRUCTURE_TYPE_WIN32_KEYED_MUTEX_ACQUIRE_RELEASE_INFO_NV };
    keyedMutex.acquireCount = <span class="integer">1</span>;
    keyedMutex.pAcquireSyncs = &amp;mem;
    keyedMutex.pAcquireKeys = &amp;acquireKey;
    keyedMutex.pAcquireTimeoutMilliseconds = &amp;timeout;
    keyedMutex.releaseCount = <span class="integer">1</span>;
    keyedMutex.pReleaseSyncs = &amp;mem;
    keyedMutex.pReleaseKeys = &amp;releaseKey;

    VkSubmitInfo submit_info = { VK_STRUCTURE_TYPE_SUBMIT_INFO, &amp;keyedMutex };
    submit_info.commandBufferCount = <span class="integer">1</span>;
    submit_info.pCommandBuffers = &amp;cmd_buf;
    vkQueueSubmit(queue, <span class="integer">1</span>, &amp;submit_info, VK_NULL_HANDLE);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_history_130">Version History</h4>
<div class="ulist">
<ul>
<li>
<p>Revision 2, 2016-08-11 (James Jones)</p>
<div class="ulist">
<ul>
<li>
<p>Updated sample code based on the NV external memory extensions.</p>
</li>
<li>
<p>Renamed from NVX to NV extension.</p>
</li>
<li>
<p>Added Overview and Description sections.</p>
</li>
<li>
<p>Updated sample code to use the NV external memory extensions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revision 1, 2016-06-14 (Carsten Rohde)</p>
<div class="ulist">
<ul>
<li>
<p>Initial draft.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div></div>
<div id="footer">
<div id="footer-text">
Version 1.0.95<br>
Last updated 2018-11-25 23:27:01 -0800
</div>
</div>


</body>
</html>