<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="The Khronos® Vulkan Working Group">
<title>Vulkan® 1.0.146 - A Specification (with all registered Vulkan extensions)</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: #fff; color: #222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: black; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #0068b0; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #333; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: Noto, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Noto, sans-serif; font-weight: normal; font-style: normal; color: black; text-rendering: optimizeLegibility; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #4d4d4d; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #264357; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; list-style-position: outside; font-family: Noto, sans-serif; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #ddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #ddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #5e93b8; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #5e93b8; }

blockquote, blockquote p { line-height: 1.6; color: #333; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #ddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: #fff; margin-bottom: 1.25em; border: solid 1px #d8d8ce; }
table thead, table tfoot { background: #eee; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #6d6e71; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f8; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 0; background-color: transparent; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; word-wrap: break-word; }
*:not(pre) > code.nobreak { word-wrap: normal; }
*:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.6; color: #264357; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #333333; }

kbd { font-family: Consolas, "Liberation Mono", Courier, monospace; display: inline-block; color: black; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 1.5em; padding-right: 1.5em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #5e93b8; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #333; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #333; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 0 solid #ddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: Noto, sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: black; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #fff; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #ddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #ddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: none; padding: 1.25em; }

#footer-text { color: black; line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 0 solid #ddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: black; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: black; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: initial; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: Noto, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddd; color: #5e93b8; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: black; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px hidden #666; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 1.25em 1.5625em 1.125em 1.5625em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eee; background-color: #264357; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1.25em 1.5625em 1.125em 1.5625em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.6; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 0.75em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #333; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: black; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #5e93b8; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 0.75em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #333; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #5e93b8; }

.quoteblock.abstract { margin: 0 0 0.75em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #d8d8ce; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: #eee; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.375em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.375em -0.75em; }

ul.inline > li { margin-left: 0.75em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 0.75em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist > table tr > td:first-of-type img { max-width: initial; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px #fff; -webkit-box-shadow: 0 0 0 1px #ddd; box-shadow: 0 0 0 1px #ddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #29475c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { border-bottom: 1px solid #ddd; }

.sect1 { padding-bottom: 0; }

#toctitle { color: #00406F; font-weight: normal; margin-top: 1.5em; }

.sidebarblock { border-color: #aaa; }

code { -webkit-border-radius: 4px; border-radius: 4px; }

p.tableblock.header { color: #6d6e71; }

.literalblock pre, .listingblock pre { background: #eee; }

/* From https://github.com/KhronosGroup/Vulkan-Docs/pull/901 */
a code { color: inherit; }

/* From https://github.com/KhronosGroup/Vulkan-Docs/pull/1157 */
/* Make VUID anchor handles*/
li > p > a[id^="VUID-"] { visibility: hidden; position: absolute; z-index: 1001; width: 2.2ex; margin-left: -2.2ex; display: block; text-decoration: none !important; text-align: center; font-weight: normal; }

li > p > a[id^="VUID-"]:before { content: "\00A7"; font-size: 1em; display: block; padding-top: 0em; background: #fff; }

li > p:hover > a[id^="VUID-"], li > p > a[id^="VUID-"]:hover { visibility: visible; }

li > p > a[id^="VUID-"].link { color: black; text-decoration: none; }

/* TODO: not quite sure what these two do */
li > p > a[id^="VUID-"].link:hover { color: black; }

.vuid { color: gray; font-family: monospace; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<style>
    #loading_msg {
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        margin-top: 1ex;
        margin-bottom: 1ex;
        max-width: 62.5em;
        position: relative;
        padding-left: 1.5em;
        padding-right: 1.5em;
    }
    .hidden {display: none;}
</style>
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
</head>
<body class="book toc2 toc-left" style="max-width: 100%;">
<div id="header">
<h1>Vulkan<sup>®</sup> 1.0.146 - A Specification (with all registered Vulkan extensions)</h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan Working Group</span><br>
<span id="revnumber">version 1.0.146,</span>
<span id="revdate">2020-07-04 03:08:39Z</span>
<br><span id="revremark">from git branch: github-master commit: d91f3e239932cd5d418bc83db4ae649101097b5f</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="chap2.html#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">1.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html#fundamentals">2. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">2.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">2.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">2.3. Object Model</a></li>
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<li><a href="chap3.html#fundamentals-abi">2.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">2.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">2.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-errors">2.7. Errors</a></li>
<li><a href="chap3.html#fundamentals-numerics">2.8. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">2.9. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-common-objects">2.10. Common Object Types</a></li>
</ul>
</li>
<li><a href="chap4.html#initialization">3. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">3.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">3.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html#devsandqueues">4. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">4.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">4.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">4.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html#commandbuffers">5. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">5.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">5.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">5.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">5.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">5.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">5.6. Queue Forward Progress</a></li>
<ul class="sectlevel1"><li><a href="chap1.html#preamble">0. Preamble</a></li></ul>
<li><a href="chap6.html#commandbuffers-secondary">5.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap6.html#commandbuffers-devicemask">5.8. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap7.html#synchronization">6. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">6.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">6.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">6.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">6.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">6.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">6.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">6.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">6.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">6.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap7.html#synchronization-device-group">6.10. Synchronization and Multiple Physical Devices</a></li>
<li><a href="chap7.html#calibrated-timestamps">6.11. Calibrated timestamps</a></li>
</ul>
</li>
<li><a href="chap8.html#renderpass">7. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#renderpass-creation">7.1. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">7.2. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">7.3. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-commands">7.4. Render Pass Commands</a></li>
</ul>
</li>
<li><a href="chap9.html#shaders">8. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap9.html#shader-modules">8.1. Shader Modules</a></li>
<li><a href="chap9.html#shaders-execution">8.2. Shader Execution</a></li>
<li><a href="chap9.html#shaders-execution-memory-ordering">8.3. Shader Memory Access Ordering</a></li>
<li><a href="chap9.html#shaders-inputs">8.4. Shader Inputs and Outputs</a></li>
<li><a href="chap9.html#shaders-task">8.5. Task Shaders</a></li>
<li><a href="chap9.html#shaders-mesh">8.6. Mesh Shaders</a></li>
<li><a href="chap9.html#shaders-vertex">8.7. Vertex Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-control">8.8. Tessellation Control Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-evaluation">8.9. Tessellation Evaluation Shaders</a></li>
<li><a href="chap9.html#shaders-geometry">8.10. Geometry Shaders</a></li>
<li><a href="chap9.html#shaders-fragment">8.11. Fragment Shaders</a></li>
<li><a href="chap9.html#shaders-compute">8.12. Compute Shaders</a></li>
<li><a href="chap9.html#shaders-interpolation-decorations">8.13. Interpolation Decorations</a></li>
<li><a href="chap9.html#shaders-ray-generation">8.14. Ray Generation Shaders</a></li>
<li><a href="chap9.html#shaders-intersection">8.15. Intersection Shaders</a></li>
<li><a href="chap9.html#shaders-any-hit">8.16. Any-Hit Shaders</a></li>
<li><a href="chap9.html#shaders-closest-hit">8.17. Closest Hit Shaders</a></li>
<li><a href="chap9.html#shaders-miss">8.18. Miss Shaders</a></li>
<li><a href="chap9.html#shaders-callable">8.19. Callable Shaders</a></li>
<li><a href="chap9.html#shaders-staticuse">8.20. Static Use</a></li>
<li><a href="chap9.html#shaders-scope">8.21. Scope</a></li>
<li><a href="chap9.html#shaders-derivative-operations">8.22. Derivative Operations</a></li>
<li><a href="chap9.html#shaders-helper-invocations">8.23. Helper Invocations</a></li>
<li><a href="chap9.html#_cooperative_matrices">8.24. Cooperative Matrices</a></li>
<li><a href="chap9.html#shaders-validation-cache">8.25. Validation Cache</a></li>
</ul>
</li>
<li><a href="chap10.html#pipelines">9. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-compute">9.1. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">9.2. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">9.3. Pipeline destruction</a></li>
<li><a href="chap10.html#pipelines-multiple">9.4. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">9.5. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">9.6. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">9.7. Specialization Constants</a></li>
<li><a href="chap10.html#pipeline-library">9.8. Pipeline Libraries</a></li>
<li><a href="chap10.html#pipelines-binding">9.9. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">9.10. Dynamic State</a></li>
<li><a href="chap10.html#pipelines-shader-information">9.11. Pipeline Shader Information</a></li>
<li><a href="chap10.html#pipelines-compiler-control">9.12. Pipeline Compiler Control</a></li>
<li><a href="chap10.html#pipelines-ray-tracing">9.13. Ray Tracing Pipeline</a></li>
<li><a href="chap10.html#pipelines-creation-feedback">9.14. Pipeline Creation Feedback</a></li>
</ul>
</li>
<li><a href="chap11.html#memory">10. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">10.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">10.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html#resources">11. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">11.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">11.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">11.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">11.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">11.5. Image Views</a></li>
<li><a href="chap12.html#resources-association">11.6. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">11.7. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">11.8. Memory Aliasing</a></li>
<li><a href="chap12.html#resources-acceleration-structures">11.9. Acceleration Structures</a></li>
</ul>
</li>
<li><a href="chap13.html#samplers">12. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap13.html#samplers-YCbCr-conversion">12.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></li>
</ul>
</li>
<li><a href="chap14.html#descriptorsets">13. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap14.html#descriptorsets-types">13.1. Descriptor Types</a></li>
<li><a href="chap14.html#descriptorsets-sets">13.2. Descriptor Sets</a></li>
<li><a href="chap14.html#_physical_storage_buffer_access">13.3. Physical Storage Buffer Access</a></li>
</ul>
</li>
<li><a href="chap15.html#interfaces">14. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#interfaces-iointerfaces">14.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap15.html#interfaces-vertexinput">14.2. Vertex Input Interface</a></li>
<li><a href="chap15.html#interfaces-fragmentoutput">14.3. Fragment Output Interface</a></li>
<li><a href="chap15.html#interfaces-inputattachment">14.4. Fragment Input Attachment Interface</a></li>
<li><a href="chap15.html#interfaces-resources">14.5. Shader Resource Interface</a></li>
<li><a href="chap15.html#interfaces-builtin-variables">14.6. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html#textures">15. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">15.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">15.2. Conversion Formulas</a></li>
<li><a href="chap16.html#_texel_input_operations">15.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">15.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">15.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">15.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">15.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">15.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-footprint">15.9. Texel Footprint Evaluation</a></li>
<li><a href="chap16.html#textures-instructions">15.10. Image Operation Steps</a></li>
</ul>
</li>
<li><a href="chap17.html#fragmentdensitymapops">16. Fragment Density Map Operations</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_fragment_density_map_operations_overview">16.1. Fragment Density Map Operations Overview</a></li>
<li><a href="chap17.html#fragmentdensitymap-fetch-density-value">16.2. Fetch Density Value</a></li>
<li><a href="chap17.html#fragmentdensitymap-conversion-to-fragment-area">16.3. Fragment Area Conversion</a></li>
</ul>
</li>
<li><a href="chap18.html#queries">17. Queries</a>
<ul class="sectlevel2">
<li><a href="chap18.html#queries-pools">17.1. Query Pools</a></li>
<li><a href="chap18.html#queries-operation">17.2. Query Operation</a></li>
<li><a href="chap18.html#queries-occlusion">17.3. Occlusion Queries</a></li>
<li><a href="chap18.html#queries-pipestats">17.4. Pipeline Statistics Queries</a></li>
<li><a href="chap18.html#queries-timestamps">17.5. Timestamp Queries</a></li>
<li><a href="chap18.html#queries-performance">17.6. Performance Queries</a></li>
<li><a href="chap18.html#queries-transform-feedback">17.7. Transform Feedback Queries</a></li>
<li><a href="chap18.html#queries-performance-intel">17.8. Intel performance queries</a></li>
</ul>
</li>
<li><a href="chap19.html#clears">18. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#clears-outside">18.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-inside">18.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-values">18.3. Clear Values</a></li>
<li><a href="chap19.html#clears-filling-buffers">18.4. Filling Buffers</a></li>
<li><a href="chap19.html#clears-updating-buffers">18.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap20.html#copies">19. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#_common_operation">19.1. Common Operation</a></li>
<li><a href="chap20.html#copies-buffers">19.2. Copying Data Between Buffers</a></li>
<li><a href="chap20.html#copies-images">19.3. Copying Data Between Images</a></li>
<li><a href="chap20.html#copies-buffers-images">19.4. Copying Data Between Buffers and Images</a></li>
<li><a href="chap20.html#copies-imagescaling">19.5. Image Copies with Scaling</a></li>
<li><a href="chap20.html#copies-resolve">19.6. Resolving Multisample Images</a></li>
<li><a href="chap20.html#copies-buffer-markers">19.7. Buffer Markers</a></li>
</ul>
</li>
<li><a href="chap21.html#drawing">20. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap21.html#drawing-primitive-topologies">20.1. Primitive Topologies</a></li>
<li><a href="chap21.html#drawing-primitive-order">20.2. Primitive Order</a></li>
<li><a href="chap21.html#drawing-primitive-shading">20.3. Programmable Primitive Shading</a></li>
<li><a href="chap21.html#drawing-conditional-rendering">20.4. Conditional Rendering</a></li>
<li><a href="chap21.html#drawing-mesh-shading">20.5. Programmable Mesh Shading</a></li>
</ul>
</li>
<li><a href="chap22.html#fxvertex">21. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap22.html#fxvertex-attrib">21.1. Vertex Attributes</a></li>
<li><a href="chap22.html#fxvertex-input">21.2. Vertex Input Description</a></li>
<li><a href="chap22.html#_vertex_attribute_divisor_in_instanced_rendering">21.3. Vertex Attribute Divisor in Instanced Rendering</a></li>
<li><a href="chap22.html#fxvertex-example">21.4. Example</a></li>
</ul>
</li>
<li><a href="chap23.html#tessellation">22. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap23.html#_tessellator">22.1. Tessellator</a></li>
<li><a href="chap23.html#_tessellator_patch_discard">22.2. Tessellator Patch Discard</a></li>
<li><a href="chap23.html#tessellation-tessellator-spacing">22.3. Tessellator Spacing</a></li>
<li><a href="chap23.html#tessellation-primitive-order">22.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap23.html#tessellation-vertex-winding-order">22.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap23.html#tessellation-triangle-tessellation">22.6. Triangle Tessellation</a></li>
<li><a href="chap23.html#tessellation-quad-tessellation">22.7. Quad Tessellation</a></li>
<li><a href="chap23.html#tessellation-isoline-tessellation">22.8. Isoline Tessellation</a></li>
<li><a href="chap23.html#tessellation-point-mode">22.9. Tessellation Point Mode</a></li>
<li><a href="chap23.html#_tessellation_pipeline_state">22.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap24.html#geometry">23. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap24.html#geometry-input">23.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap24.html#geometry-output">23.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap24.html#geometry-invocations">23.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap24.html#geometry-ordering">23.4. Geometry Shader Primitive Ordering</a></li>
<li><a href="chap24.html#geometry-passthrough">23.5. Geometry Shader Passthrough</a></li>
</ul>
</li>
<li><a href="chap25.html#mesh">24. Mesh Shading</a>
<ul class="sectlevel2">
<li><a href="chap25.html#mesh-task-input">24.1. Task Shader Input</a></li>
<li><a href="chap25.html#mesh-task-output">24.2. Task Shader Output</a></li>
<li><a href="chap25.html#mesh-generation">24.3. Mesh Generation</a></li>
<li><a href="chap25.html#mesh-input">24.4. Mesh Shader Input</a></li>
<li><a href="chap25.html#mesh-output">24.5. Mesh Shader Output Primitives</a></li>
<li><a href="chap25.html#mesh-output-perview">24.6. Mesh Shader Per-View Outputs</a></li>
<li><a href="chap25.html#mesh-ordering">24.7. Mesh Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap26.html#vertexpostproc">25. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap26.html#vertexpostproc-transform-feedback">25.1. Transform Feedback</a></li>
<li><a href="chap26.html#vertexpostproc-viewport-swizzle">25.2. Viewport Swizzle</a></li>
<li><a href="chap26.html#vertexpostproc-flatshading">25.3. Flat Shading</a></li>
<li><a href="chap26.html#vertexpostproc-clipping">25.4. Primitive Clipping</a></li>
<li><a href="chap26.html#vertexpostproc-clipping-shader-outputs">25.5. Clipping Shader Outputs</a></li>
<li><a href="chap26.html#vertexpostproc-viewportwscaling">25.6. Controlling Viewport W Scaling</a></li>
<li><a href="chap26.html#vertexpostproc-coord-transform">25.7. Coordinate Transformations</a></li>
<li><a href="chap26.html#vertexpostproc-renderpass-transform">25.8. Render Pass Transform</a></li>
<li><a href="chap26.html#vertexpostproc-viewport">25.9. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap27.html#primsrast">26. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap27.html#primsrast-discard">26.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap27.html#primsrast-stream">26.2. Controlling the Vertex Stream Used for Rasterization</a></li>
<li><a href="chap27.html#primrast-order">26.3. Rasterization Order</a></li>
<li><a href="chap27.html#primsrast-multisampling">26.4. Multisampling</a></li>
<li><a href="chap27.html#primrast-samplelocations">26.5. Custom Sample Locations</a></li>
<li><a href="chap27.html#primsrast-shading-rate-image">26.6. Shading Rate Image</a></li>
<li><a href="chap27.html#primsrast-sampleshading">26.7. Sample Shading</a></li>
<li><a href="chap27.html#primsrast-barycentric">26.8. Barycentric Interpolation</a></li>
<li><a href="chap27.html#primsrast-points">26.9. Points</a></li>
<li><a href="chap27.html#primsrast-lines">26.10. Line Segments</a></li>
<li><a href="chap27.html#primsrast-polygons">26.11. Polygons</a></li>
</ul>
</li>
<li><a href="#fragops">27. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="#fragops-discard-rectangles">27.1. Discard Rectangles Test</a></li>
<li><a href="#fragops-scissor">27.2. Scissor Test</a></li>
<li><a href="#fragops-exclusive-scissor">27.3. Exclusive Scissor Test</a></li>
<li><a href="#fragops-samplemask">27.4. Sample Mask Test</a></li>
<li><a href="#fragops-covg">27.5. Multisample Coverage</a></li>
<li><a href="#fragops-ds-state">27.6. Depth and Stencil Operations</a></li>
<li><a href="#fragops-dbt">27.7. Depth Bounds Test</a></li>
<li><a href="#fragops-stencil">27.8. Stencil Test</a></li>
<li><a href="#fragops-depth">27.9. Depth Test</a></li>
<li><a href="#fragops-rep-frag-test">27.10. Representative Fragment Test</a></li>
<li><a href="#fragops-samplecount">27.11. Sample Counting</a></li>
<li><a href="#fragops-coverage-to-color">27.12. Fragment Coverage To Color</a></li>
<li><a href="#fragops-coverage-reduction">27.13. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap29.html#framebuffer">28. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap29.html#framebuffer-blending">28.1. Blending</a></li>
<li><a href="chap29.html#framebuffer-logicop">28.2. Logical Operations</a></li>
<li><a href="chap29.html#framebuffer-color-write-mask">28.3. Color Write Mask</a></li>
</ul>
</li>
<li><a href="chap30.html#dispatch">29. Dispatching Commands</a></li>
<li><a href="chap31.html#device-generated-commands">30. Device-Generated Commands</a>
<ul class="sectlevel2">
<li><a href="chap31.html#indirectmdslayout">30.1. Indirect Commands Layout</a></li>
<li><a href="chap31.html#_indirect_commands_generation_and_execution">30.2. Indirect Commands Generation And Execution</a></li>
</ul>
</li>
<li><a href="chap32.html#sparsememory">31. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap32.html#sparsememory-sparseresourcefeatures">31.1. Sparse Resource Features</a></li>
<li><a href="chap32.html#sparsememory-fully-resident">31.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap32.html#sparsememory-partially-resident-buffers">31.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap32.html#sparsememory-partially-resident-images">31.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap32.html#sparsememory-sparse-memory-aliasing">31.5. Sparse Memory Aliasing</a></li>
<li><a href="chap32.html#_sparse_resource_implementation_guidelines">31.6. Sparse Resource Implementation Guidelines</a></li>
<li><a href="chap32.html#sparsememory-resourceapi">31.7. Sparse Resource API</a></li>
</ul>
</li>
<li><a href="chap33.html#wsi">32. Window System Integration (WSI)</a>
<ul class="sectlevel2">
<li><a href="chap33.html#_wsi_platform">32.1. WSI Platform</a></li>
<li><a href="chap33.html#_wsi_surface">32.2. WSI Surface</a></li>
<li><a href="chap33.html#display">32.3. Presenting Directly to Display Devices</a></li>
<li><a href="chap33.html#_querying_for_wsi_support">32.4. Querying for WSI Support</a></li>
<li><a href="chap33.html#_surface_queries">32.5. Surface Queries</a></li>
<li><a href="chap33.html#_full_screen_exclusive_control">32.6. Full Screen Exclusive Control</a></li>
<li><a href="chap33.html#_device_group_queries">32.7. Device Group Queries</a></li>
<li><a href="chap33.html#_display_timing_queries">32.8. Display Timing Queries</a></li>
<li><a href="chap33.html#_wsi_swapchain">32.9. WSI Swapchain</a></li>
<li><a href="chap33.html#_hdr_metadata">32.10. Hdr Metadata</a></li>
</ul>
</li>
<li><a href="chap34.html#deferred-host-operations">33. Deferred Host Operations</a>
<ul class="sectlevel2">
<li><a href="chap34.html#_requesting_deferral">33.1. Requesting Deferral</a></li>
<li><a href="chap34.html#_deferred_host_operations_api">33.2. Deferred Host Operations API</a></li>
</ul>
</li>
<li><a href="chap35.html#private-data">34. Private Data</a></li>
<li><a href="chap36.html#ray-traversal">35. Ray Traversal</a>
<ul class="sectlevel2">
<li><a href="chap36.html#ray-intersection-candidate-determination">35.1. Ray Intersection Candidate Determination</a></li>
<li><a href="chap36.html#ray-intersection-culling">35.2. Ray Intersection Culling</a></li>
<li><a href="chap36.html#ray-intersection-confirmation">35.3. Ray Intersection Confirmation</a></li>
<li><a href="chap36.html#ray-closest-hit-determination">35.4. Ray Closest Hit Determination</a></li>
<li><a href="chap36.html#ray-result-determination">35.5. Ray Result Determination</a></li>
</ul>
</li>
<li><a href="chap37.html#ray-tracing">36. Ray Tracing</a>
<ul class="sectlevel2">
<li><a href="chap37.html#ray-tracing-shader-call">36.1. Shader Call Instructions</a></li>
<li><a href="chap37.html#ray-tracing-commands">36.2. Ray Tracing Commands</a></li>
<li><a href="chap37.html#shader-binding-table">36.3. Shader Binding Table</a></li>
<li><a href="chap37.html#acceleration-structure">36.4. Acceleration Structures</a></li>
<li><a href="chap37.html#host-acceleration-structure">36.5. Host Acceleration Structure Operations</a></li>
</ul>
</li>
<li><a href="chap38.html#extendingvulkan">37. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap38.html#extendingvulkan-instanceanddevicefunctionality">37.1. Instance and Device Functionality</a></li>
<li><a href="chap38.html#extendingvulkan-coreversions">37.2. Core Versions</a></li>
<li><a href="chap38.html#extendingvulkan-layers">37.3. Layers</a></li>
<li><a href="chap38.html#extendingvulkan-extensions">37.4. Extensions</a></li>
<li><a href="chap38.html#extendingvulkan-extensions-extensiondependencies">37.5. Extension Dependencies</a></li>
<li><a href="chap38.html#_compatibility_guarantees_informative">37.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap39.html#features">38. Features</a>
<ul class="sectlevel2">
<li><a href="chap39.html#features-requirements">38.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="chap40.html#limits">39. Limits</a>
<ul class="sectlevel2">
<li><a href="chap40.html#limits-minmax">39.1. Limit Requirements</a></li>
<li><a href="chap40.html#limits-multisample">39.2. Additional Multisampling Capabilities</a></li>
</ul>
</li>
<li><a href="chap41.html#formats">40. Formats</a>
<ul class="sectlevel2">
<li><a href="chap41.html#formats-definition">40.1. Format Definition</a></li>
<li><a href="chap41.html#formats-properties">40.2. Format Properties</a></li>
<li><a href="chap41.html#features-required-format-support">40.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap42.html#capabilities">41. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap42.html#capabilities-image">41.1. Additional Image Capabilities</a></li>
<li><a href="chap42.html#capabilities-buffer">41.2. Additional Buffer Capabilities</a></li>
<li><a href="chap42.html#capabilities-semaphore">41.3. Optional Semaphore Capabilities</a></li>
<li><a href="chap42.html#capabilities-fence">41.4. Optional Fence Capabilities</a></li>
<li><a href="chap42.html#features-timestamp-calibration">41.5. Timestamp Calibration Capabilities</a></li>
</ul>
</li>
<li><a href="chap43.html#_debugging">42. Debugging</a>
<ul class="sectlevel2">
<li><a href="chap43.html#debugging-debug-utils">42.1. Debug Utilities</a></li>
<li><a href="chap43.html#debugging-debug-markers">42.2. Debug Markers</a></li>
<li><a href="chap43.html#debugging-debug-report-callbacks">42.3. Debug Report Callbacks</a></li>
<li><a href="chap43.html#_device_loss_debugging">42.4. Device Loss Debugging</a></li>
<li><a href="chap43.html#debugging-tooling-info">42.5. Active Tooling Information</a></li>
</ul>
</li>
<li><a href="chap44.html#spirvenv">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap44.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap44.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap44.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap44.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap44.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap44.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
</ul>
</li>
<li><a href="chap45.html#memory-model">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap45.html#memory-model-agent">Agent</a></li>
<li><a href="chap45.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap45.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap45.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap45.html#memory-model-references">Reference</a></li>
<li><a href="chap45.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap45.html#shader-call-related">Shader Call Related</a></li>
<li><a href="chap45.html#shader-call-order">Shader Call Order</a></li>
<li><a href="chap45.html#memory-model-scope">Scope</a></li>
<li><a href="chap45.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap45.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap45.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap45.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap45.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap45.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap45.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap45.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap45.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap45.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap45.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap45.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap45.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap45.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap45.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap45.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap45.html#memory-model-acyclicity">Acyclicity</a></li>
<li><a href="chap45.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap45.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap45.html#memory-model-informative-descriptions">Informative Descriptions</a></li>
<li><a href="chap45.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
<li><a href="chap45.html#memory-model-cooperative-matrix">Cooperative Matrix Memory Access</a></li>
</ul>
</li>
<li><a href="chap46.html#_compressed_image_formats">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap46.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap46.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap46.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
<li><a href="chap46.html#appendix-compressedtex-pvrtc">PVRTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap47.html#versions">Appendix D: Core Revisions (Informative)</a></li>
<li><a href="chap48.html#extensions">Appendix E: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap48.html#extension-appendices-list">List of Current Extensions</a></li>
<li><a href="chap48.html#provisional-extension-appendices-list">List of Provisional Extensions</a></li>
<li><a href="chap48.html#deprecated-extension-appendices-list">List of Deprecated Extensions</a></li>
</ul>
</li>
<li><a href="chap49.html#boilerplate">Appendix F: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap49.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap49.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap49.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
</ul>
</li>
<li><a href="chap50.html#invariance">Appendix G: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap50.html#_repeatability">Repeatability</a></li>
<li><a href="chap50.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap50.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap50.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap51.html#glossary">Glossary</a></li>
<li><a href="chap52.html#_common_abbreviations">Common Abbreviations</a></li>
<li><a href="chap53.html#_prefixes">Prefixes</a></li>
<li><a href="chap54.html#credits">Appendix H: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap54.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap54.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<div id="content"><div class="sect1">
<h2 id="fragops"><a class="anchor" href="#fragops"></a>27. Fragment Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Fragments produced by rasterization go through a number of operations to
determine whether or how values produced by fragment shading are written to
the framebuffer.</p>
</div>
<div class="paragraph">
<p>The following fragment operations adhere to <a href="chap27.html#primrast-order">rasterization
order</a>, and are typically performed in this order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#fragops-discard-rectangles">Discard rectangles test</a></p>
</li>
<li>
<p><a href="#fragops-scissor">Scissor test</a></p>
</li>
<li>
<p><a href="#fragops-exclusive-scissor">Exclusive scissor test</a></p>
</li>
<li>
<p><a href="#fragops-samplemask">Sample mask test</a></p>
</li>
<li>
<p><a href="chap9.html#shaders-fragment">Fragment shading</a></p>
</li>
<li>
<p><a href="#fragops-covg">Multisample coverage</a></p>
</li>
<li>
<p><a href="#fragops-dbt">Depth bounds test</a></p>
</li>
<li>
<p><a href="#fragops-stencil">Stencil test</a></p>
</li>
<li>
<p><a href="#fragops-depth">Depth test</a></p>
</li>
<li>
<p><a href="#fragops-rep-frag-test">Representative fragment test</a></p>
</li>
<li>
<p><a href="#fragops-samplecount">Sample counting</a></p>
</li>
<li>
<p><a href="#fragops-coverage-to-color">Coverage to color</a></p>
</li>
<li>
<p><a href="#fragops-coverage-reduction">Coverage reduction</a></p>
</li>
<li>
<p><a href="#fragops-coverage-modulation">Coverage modulation</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <a href="chap27.html#primsrast-multisampling-coverage-mask">coverage mask</a> generated by
rasterization describes the initial coverage of each sample covered by the
fragment.
Fragment operations will update the coverage mask to add or subtract
coverage where appropriate.
If a fragment operation results in all bits of the coverage mask being <code>0</code>,
the fragment is discarded, and no further operations are performed.
Fragments can also be programmatically discarded in a fragment shader by
executing
<code>OpDemoteToHelperInvocationEXT</code> or
<code>OpKill</code>.</p>
</div>
<div class="paragraph">
<p>If <a href="chap9.html#shaders-fragment-earlytest-postdepthcoverage">post-depth coverage</a> is
enabled, the <a href="#fragops-samplemask">sample mask test</a> is instead performed
after the <a href="#fragops-depth">depth test</a>.</p>
</div>
<div class="paragraph">
<p>If <a href="chap9.html#shaders-fragment-earlytest">early per-fragment operations</a> are enabled,
<a href="chap9.html#shaders-fragment">fragment shading</a> and <a href="#fragops-covg">multisample
coverage</a> operations are instead performed after <a href="#fragops-samplecount">sample counting</a>.</p>
</div>
<div class="paragraph">
<p>Once all fragment operations have completed, fragment shader outputs for
covered color attachment samples pass through <a href="chap29.html#framebuffer">framebuffer
operations</a>.</p>
</div>
<div class="sect2">
<h3 id="fragops-discard-rectangles"><a class="anchor" href="#fragops-discard-rectangles"></a>27.1. Discard Rectangles Test</h3>
<div class="paragraph">
<p>The discard rectangle test compares the framebuffer coordinates
<span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> of each sample covered by a fragment against a set of
<em>discard rectangles</em>.</p>
</div>
<div class="paragraph">
<p>Each discard rectangle is defined by a <a href="chap3.html#VkRect2D">VkRect2D</a>.
These values are either set by the
<a href="#VkPipelineDiscardRectangleStateCreateInfoEXT">VkPipelineDiscardRectangleStateCreateInfoEXT</a> structure during pipeline
creation, or dynamically by the <a href="#vkCmdSetDiscardRectangleEXT">vkCmdSetDiscardRectangleEXT</a> command.</p>
</div>
<div class="paragraph">
<p>A given sample is considered inside a discard rectangle if the <span class="eq">x<sub>f</sub></span> is
in the range <span class="eq">[<a href="chap3.html#VkRect2D">VkRect2D</a>::offset.x, <a href="chap3.html#VkRect2D">VkRect2D</a>::offset.x + 
<a href="chap3.html#VkRect2D">VkRect2D</a>::extent.x)</span>, and <span class="eq">y<sub>f</sub></span> is in the range
<span class="eq">[<a href="chap3.html#VkRect2D">VkRect2D</a>::offset.y, <a href="chap3.html#VkRect2D">VkRect2D</a>::offset.y + 
<a href="chap3.html#VkRect2D">VkRect2D</a>::extent.y)</span>.
If the test is set to be inclusive, samples that are not inside any of the
discard rectangles will have their coverage set to <code>0</code>.
If the test is set to be exclusive, samples that are inside any of the
discard rectangles will have their coverage set to <code>0</code>.</p>
</div>
<div class="paragraph">
<p>If no discard rectangles are specified, the coverage mask is unmodified by
this operation.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineDiscardRectangleStateCreateInfoEXT</code> structure is defined
as:</p>
</div>
<div id="VkPipelineDiscardRectangleStateCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_discard_rectangles</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineDiscardRectangleStateCreateInfoEXT {
    VkStructureType                                  sType;
    <span class="directive">const</span> <span class="directive">void</span>*                                      pNext;
    VkPipelineDiscardRectangleStateCreateFlagsEXT    flags;
    VkDiscardRectangleModeEXT                        discardRectangleMode;
    uint32_t                                         discardRectangleCount;
    <span class="directive">const</span> VkRect2D*                                  pDiscardRectangles;
} VkPipelineDiscardRectangleStateCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>discardRectangleMode</code> is a <a href="#VkDiscardRectangleModeEXT">VkDiscardRectangleModeEXT</a> value
determining whether the discard rectangle test is inclusive or
exclusive.</p>
</li>
<li>
<p><code>discardRectangleCount</code> is the number of discard rectangles to use.</p>
</li>
<li>
<p><code>pDiscardRectangles</code> is a pointer to an array of <a href="chap3.html#VkRect2D">VkRect2D</a>
structures defining discard rectangles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT</code> dynamic state is enabled
for a pipeline, the <code>pDiscardRectangles</code> member is ignored.</p>
</div>
<div class="paragraph">
<p>When this structure is included in the <code>pNext</code> chain of
<a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>, it defines parameters of the discard
rectangle test.
If this structure is not included in the <code>pNext</code> chain, it is equivalent
to specifying this structure with a <code>discardRectangleCount</code> of <code>0</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDiscardRectangleStateCreateInfoEXT-discardRectangleCount-00582" href="#VUID-VkPipelineDiscardRectangleStateCreateInfoEXT-discardRectangleCount-00582"></a>
<code>discardRectangleCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceDiscardRectanglePropertiesEXT</code>::<code>maxDiscardRectangles</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDiscardRectangleStateCreateInfoEXT-sType-sType" href="#VUID-VkPipelineDiscardRectangleStateCreateInfoEXT-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_DISCARD_RECTANGLE_STATE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDiscardRectangleStateCreateInfoEXT-flags-zerobitmask" href="#VUID-VkPipelineDiscardRectangleStateCreateInfoEXT-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDiscardRectangleStateCreateInfoEXT-discardRectangleMode-parameter" href="#VUID-VkPipelineDiscardRectangleStateCreateInfoEXT-discardRectangleMode-parameter"></a> <code>discardRectangleMode</code> <strong class="purple">must</strong> be a valid <a href="#VkDiscardRectangleModeEXT">VkDiscardRectangleModeEXT</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineDiscardRectangleStateCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_discard_rectangles</span>
<span class="keyword">typedef</span> VkFlags VkPipelineDiscardRectangleStateCreateFlagsEXT;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineDiscardRectangleStateCreateFlagsEXT</code> is a bitmask type for
setting a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VkDiscardRectangleModeEXT</code> values are:</p>
</div>
<div id="VkDiscardRectangleModeEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_discard_rectangles</span>
<span class="keyword">typedef</span> <span class="keyword">enum</span> VkDiscardRectangleModeEXT {
    VK_DISCARD_RECTANGLE_MODE_INCLUSIVE_EXT = <span class="integer">0</span>,
    VK_DISCARD_RECTANGLE_MODE_EXCLUSIVE_EXT = <span class="integer">1</span>,
} VkDiscardRectangleModeEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DISCARD_RECTANGLE_MODE_INCLUSIVE_EXT</code> specifies that the discard
rectangle test is inclusive.</p>
</li>
<li>
<p><code>VK_DISCARD_RECTANGLE_MODE_EXCLUSIVE_EXT</code> specifies that the discard
rectangle test is exclusive.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The discard rectangles <strong class="purple">can</strong> be set dynamically with the command:</p>
</div>
<div id="vkCmdSetDiscardRectangleEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_discard_rectangles</span>
<span class="directive">void</span> vkCmdSetDiscardRectangleEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstDiscardRectangle,
    uint32_t                                    discardRectangleCount,
    <span class="directive">const</span> VkRect2D*                             pDiscardRectangles);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>firstDiscardRectangle</code> is the index of the first discard rectangle
whose state is updated by the command.</p>
</li>
<li>
<p><code>discardRectangleCount</code> is the number of discard rectangles whose
state are updated by the command.</p>
</li>
<li>
<p><code>pDiscardRectangles</code> is a pointer to an array of <a href="chap3.html#VkRect2D">VkRect2D</a>
structures specifying discard rectangles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The discard rectangle taken from element <span class="eq">i</span> of <code>pDiscardRectangles</code>
replace the current state for the discard rectangle at index
<span class="eq"><code>firstDiscardRectangle</code> +  i</span>, for <span class="eq">i</span> in <span class="eq">[0,
<code>discardRectangleCount</code>)</span>.</p>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDiscardRectangleEXT-firstDiscardRectangle-00585" href="#VUID-vkCmdSetDiscardRectangleEXT-firstDiscardRectangle-00585"></a>
The sum of <code>firstDiscardRectangle</code> and <code>discardRectangleCount</code>
<strong class="purple">must</strong> be less than or equal to
<a href="chap40.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT">VkPhysicalDeviceDiscardRectanglePropertiesEXT</a>::<code>maxDiscardRectangles</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDiscardRectangleEXT-x-00587" href="#VUID-vkCmdSetDiscardRectangleEXT-x-00587"></a>
The <code>x</code> and <code>y</code> member of <code>offset</code> in each <a href="chap3.html#VkRect2D">VkRect2D</a>
element of <code>pDiscardRectangles</code> <strong class="purple">must</strong> be greater than or equal to
<code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDiscardRectangleEXT-offset-00588" href="#VUID-vkCmdSetDiscardRectangleEXT-offset-00588"></a>
Evaluation of <span class="eq">(<code>offset.x</code> +  <code>extent.width</code>)</span> in each
<a href="chap3.html#VkRect2D">VkRect2D</a> element of <code>pDiscardRectangles</code> <strong class="purple">must</strong> not cause a
signed integer addition overflow</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDiscardRectangleEXT-offset-00589" href="#VUID-vkCmdSetDiscardRectangleEXT-offset-00589"></a>
Evaluation of <span class="eq">(<code>offset.y</code> +  <code>extent.height</code>)</span> in each
<a href="chap3.html#VkRect2D">VkRect2D</a> element of <code>pDiscardRectangles</code> <strong class="purple">must</strong> not cause a
signed integer addition overflow</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDiscardRectangleEXT-commandBuffer-parameter" href="#VUID-vkCmdSetDiscardRectangleEXT-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDiscardRectangleEXT-pDiscardRectangles-parameter" href="#VUID-vkCmdSetDiscardRectangleEXT-pDiscardRectangles-parameter"></a> <code>pDiscardRectangles</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>discardRectangleCount</code> <a href="chap3.html#VkRect2D">VkRect2D</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDiscardRectangleEXT-commandBuffer-recording" href="#VUID-vkCmdSetDiscardRectangleEXT-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDiscardRectangleEXT-commandBuffer-cmdpool" href="#VUID-vkCmdSetDiscardRectangleEXT-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDiscardRectangleEXT-discardRectangleCount-arraylength" href="#VUID-vkCmdSetDiscardRectangleEXT-discardRectangleCount-arraylength"></a> <code>discardRectangleCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-scissor"><a class="anchor" href="#fragops-scissor"></a>27.2. Scissor Test</h3>
<div class="paragraph">
<p>The scissor test compares the framebuffer coordinates <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> of
each sample covered by a fragment against a <em>scissor rectangle</em> at the index
equal to the fragment’s <a href="chap15.html#interfaces-builtin-variables-viewportindex"><code>ViewportIndex</code></a>.</p>
</div>
<div class="paragraph">
<p>Each scissor rectangle is defined by a <a href="chap3.html#VkRect2D">VkRect2D</a>.
These values are either set by the <a href="chap26.html#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a>
structure during pipeline creation, or dynamically by the
<a href="#vkCmdSetScissor">vkCmdSetScissor</a> command.</p>
</div>
<div class="paragraph">
<p>A given sample is considered inside a scissor rectangle if <span class="eq">x<sub>f</sub></span> is in
the range <span class="eq">[<a href="chap3.html#VkRect2D">VkRect2D</a>::offset.x, <a href="chap3.html#VkRect2D">VkRect2D</a>::offset.x + 
<a href="chap3.html#VkRect2D">VkRect2D</a>::extent.x)</span>, and <span class="eq">y<sub>f</sub></span> is in the range
<span class="eq">[<a href="chap3.html#VkRect2D">VkRect2D</a>::offset.y, <a href="chap3.html#VkRect2D">VkRect2D</a>::offset.y + 
<a href="chap3.html#VkRect2D">VkRect2D</a>::extent.y)</span>.
Samples with coordinates outside the scissor rectangle at the corresponding
<code>ViewportIndex</code> will have their coverage set to <code>0</code>.</p>
</div>
<div class="paragraph">
<p>If a render pass transform is enabled, the (<code>offset.x</code> and
<code>offset.y</code>) and (<code>extent.width</code> and <code>extent.height</code>) values are
transformed as described in <a href="chap26.html#vertexpostproc-renderpass-transform">render
pass transform</a> before participating in the scissor test.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The scissor rectangles <strong class="purple">can</strong> be set dynamically with the command:</p>
</div>
<div id="vkCmdSetScissor" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="directive">void</span> vkCmdSetScissor(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstScissor,
    uint32_t                                    scissorCount,
    <span class="directive">const</span> VkRect2D*                             pScissors);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>firstScissor</code> is the index of the first scissor whose state is
updated by the command.</p>
</li>
<li>
<p><code>scissorCount</code> is the number of scissors whose rectangles are
updated by the command.</p>
</li>
<li>
<p><code>pScissors</code> is a pointer to an array of <a href="chap3.html#VkRect2D">VkRect2D</a> structures
defining scissor rectangles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The scissor rectangles taken from element <span class="eq">i</span> of <code>pScissors</code> replace
the current state for the scissor index <span class="eq"><code>firstScissor</code> +  i</span>,
for <span class="eq">i</span> in <span class="eq">[0, <code>scissorCount</code>)</span>.</p>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_SCISSOR</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetScissor-firstScissor-00591" href="#VUID-vkCmdSetScissor-firstScissor-00591"></a>
<code>firstScissor</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-firstScissor-00592" href="#VUID-vkCmdSetScissor-firstScissor-00592"></a>
The sum of <code>firstScissor</code> and <code>scissorCount</code> <strong class="purple">must</strong> be between
<code>1</code> and <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-firstScissor-00593" href="#VUID-vkCmdSetScissor-firstScissor-00593"></a>
If the <a href="chap39.html#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>firstScissor</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-scissorCount-00594" href="#VUID-vkCmdSetScissor-scissorCount-00594"></a>
If the <a href="chap39.html#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>scissorCount</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-x-00595" href="#VUID-vkCmdSetScissor-x-00595"></a>
The <code>x</code> and <code>y</code> members of <code>offset</code> member of any element of
<code>pScissors</code> <strong class="purple">must</strong> be greater than or equal to <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-offset-00596" href="#VUID-vkCmdSetScissor-offset-00596"></a>
Evaluation of <span class="eq">(<code>offset.x</code> +  <code>extent.width</code>)</span> <strong class="purple">must</strong> not
cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-offset-00597" href="#VUID-vkCmdSetScissor-offset-00597"></a>
Evaluation of <span class="eq">(<code>offset.y</code> +  <code>extent.height</code>)</span> <strong class="purple">must</strong>
not cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetScissor-commandBuffer-parameter" href="#VUID-vkCmdSetScissor-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-pScissors-parameter" href="#VUID-vkCmdSetScissor-pScissors-parameter"></a> <code>pScissors</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>scissorCount</code> <a href="chap3.html#VkRect2D">VkRect2D</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-commandBuffer-recording" href="#VUID-vkCmdSetScissor-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-commandBuffer-cmdpool" href="#VUID-vkCmdSetScissor-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissor-scissorCount-arraylength" href="#VUID-vkCmdSetScissor-scissorCount-arraylength"></a> <code>scissorCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-exclusive-scissor"><a class="anchor" href="#fragops-exclusive-scissor"></a>27.3. Exclusive Scissor Test</h3>
<div class="paragraph">
<p>The exclusive scissor test compares the framebuffer coordinates
<span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> of each sample covered by a fragment against an <em>exclusive
scissor rectangle</em> at the index equal to the fragment’s
<a href="chap15.html#interfaces-builtin-variables-viewportindex"><code>ViewportIndex</code></a>.</p>
</div>
<div class="paragraph">
<p>Each exclusive scissor rectangle is defined by a <a href="chap3.html#VkRect2D">VkRect2D</a>.
These values are either set by the
<a href="#VkPipelineViewportExclusiveScissorStateCreateInfoNV">VkPipelineViewportExclusiveScissorStateCreateInfoNV</a> structure during
pipeline creation, or dynamically by the <a href="#vkCmdSetExclusiveScissorNV">vkCmdSetExclusiveScissorNV</a>
command.</p>
</div>
<div class="paragraph">
<p>A given sample is considered inside an exclusive scissor rectangle if
<span class="eq">x<sub>f</sub></span> is in the range <span class="eq">[<a href="chap3.html#VkRect2D">VkRect2D</a>::offset.x,
<a href="chap3.html#VkRect2D">VkRect2D</a>::offset.x +  <a href="chap3.html#VkRect2D">VkRect2D</a>::extent.x)</span>, and <span class="eq">y<sub>f</sub></span>
is in the range <span class="eq">[<a href="chap3.html#VkRect2D">VkRect2D</a>::offset.y, <a href="chap3.html#VkRect2D">VkRect2D</a>::offset.y
+  <a href="chap3.html#VkRect2D">VkRect2D</a>::extent.y)</span>.
Samples with coordinates inside the exclusive scissor rectangle at the
corresponding <code>ViewportIndex</code> will have their coverage set to <code>0</code>.</p>
</div>
<div class="paragraph">
<p>If no exclusive scissor rectangles are specified, the coverage mask is
unmodified by this operation.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineViewportExclusiveScissorStateCreateInfoNV</code> structure is
defined as:</p>
</div>
<div id="VkPipelineViewportExclusiveScissorStateCreateInfoNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_scissor_exclusive</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineViewportExclusiveScissorStateCreateInfoNV {
    VkStructureType    sType;
    <span class="directive">const</span> <span class="directive">void</span>*        pNext;
    uint32_t           exclusiveScissorCount;
    <span class="directive">const</span> VkRect2D*    pExclusiveScissors;
} VkPipelineViewportExclusiveScissorStateCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>exclusiveScissorCount</code> is the number of exclusive scissor
rectangles.</p>
</li>
<li>
<p><code>pExclusiveScissors</code> is a pointer to an array of <a href="chap3.html#VkRect2D">VkRect2D</a>
structures defining exclusive scissor rectangles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV</code> dynamic state is enabled
for a pipeline, the <code>pExclusiveScissors</code> member is ignored.</p>
</div>
<div class="paragraph">
<p>When this structure is included in the <code>pNext</code> chain of
<a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>, it defines parameters of the exclusive
scissor test.
If this structure is not included in the <code>pNext</code> chain, it is equivalent
to specifying this structure with a <code>exclusiveScissorCount</code> of <code>0</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportExclusiveScissorStateCreateInfoNV-exclusiveScissorCount-02027" href="#VUID-VkPipelineViewportExclusiveScissorStateCreateInfoNV-exclusiveScissorCount-02027"></a>
If the <a href="chap39.html#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>exclusiveScissorCount</code> <strong class="purple">must</strong> be <code>0</code> or <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportExclusiveScissorStateCreateInfoNV-exclusiveScissorCount-02028" href="#VUID-VkPipelineViewportExclusiveScissorStateCreateInfoNV-exclusiveScissorCount-02028"></a>
<code>exclusiveScissorCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportExclusiveScissorStateCreateInfoNV-exclusiveScissorCount-02029" href="#VUID-VkPipelineViewportExclusiveScissorStateCreateInfoNV-exclusiveScissorCount-02029"></a>
<code>exclusiveScissorCount</code> <strong class="purple">must</strong> be <code>0</code> or identical to the
<code>viewportCount</code> member of <a href="chap26.html#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportExclusiveScissorStateCreateInfoNV-sType-sType" href="#VUID-VkPipelineViewportExclusiveScissorStateCreateInfoNV-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_EXCLUSIVE_SCISSOR_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The exclusive scissor rectangles <strong class="purple">can</strong> be set dynamically with the command:</p>
</div>
<div id="vkCmdSetExclusiveScissorNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_scissor_exclusive</span>
<span class="directive">void</span> vkCmdSetExclusiveScissorNV(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstExclusiveScissor,
    uint32_t                                    exclusiveScissorCount,
    <span class="directive">const</span> VkRect2D*                             pExclusiveScissors);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>firstExclusiveScissor</code> is the index of the first exclusive scissor
rectangle whose state is updated by the command.</p>
</li>
<li>
<p><code>exclusiveScissorCount</code> is the number of exclusive scissor
rectangles updated by the command.</p>
</li>
<li>
<p><code>pExclusiveScissors</code> is a pointer to an array of <a href="chap3.html#VkRect2D">VkRect2D</a>
structures defining exclusive scissor rectangles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The scissor rectangles taken from element <span class="eq">i</span> of
<code>pExclusiveScissors</code> replace the current state for the scissor index
<span class="eq"><code>firstExclusiveScissor</code> +  i</span>, for <span class="eq">i</span> in <span class="eq">[0,
<code>exclusiveScissorCount</code>)</span>.</p>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-None-02031" href="#VUID-vkCmdSetExclusiveScissorNV-None-02031"></a>
The <a href="chap39.html#features-exclusiveScissor">exclusive scissor</a> feature <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-firstExclusiveScissor-02033" href="#VUID-vkCmdSetExclusiveScissorNV-firstExclusiveScissor-02033"></a>
<code>firstExclusiveScissor</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-firstExclusiveScissor-02034" href="#VUID-vkCmdSetExclusiveScissorNV-firstExclusiveScissor-02034"></a>
The sum of <code>firstExclusiveScissor</code> and <code>exclusiveScissorCount</code>
<strong class="purple">must</strong> be between <code>1</code> and
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-firstExclusiveScissor-02035" href="#VUID-vkCmdSetExclusiveScissorNV-firstExclusiveScissor-02035"></a>
If the <a href="chap39.html#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>firstExclusiveScissor</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-exclusiveScissorCount-02036" href="#VUID-vkCmdSetExclusiveScissorNV-exclusiveScissorCount-02036"></a>
If the <a href="chap39.html#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>exclusiveScissorCount</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-x-02037" href="#VUID-vkCmdSetExclusiveScissorNV-x-02037"></a>
The <code>x</code> and <code>y</code> members of <code>offset</code> in each member of
<code>pExclusiveScissors</code> <strong class="purple">must</strong> be greater than or equal to <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-offset-02038" href="#VUID-vkCmdSetExclusiveScissorNV-offset-02038"></a>
Evaluation of <span class="eq">(<code>offset.x</code> +  <code>extent.width</code>)</span> for each
member of <code>pExclusiveScissors</code> <strong class="purple">must</strong> not cause a signed integer
addition overflow</p>
</li>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-offset-02039" href="#VUID-vkCmdSetExclusiveScissorNV-offset-02039"></a>
Evaluation of <span class="eq">(<code>offset.y</code> +  <code>extent.height</code>)</span> for each
member of <code>pExclusiveScissors</code> <strong class="purple">must</strong> not cause a signed integer
addition overflow</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-commandBuffer-parameter" href="#VUID-vkCmdSetExclusiveScissorNV-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-pExclusiveScissors-parameter" href="#VUID-vkCmdSetExclusiveScissorNV-pExclusiveScissors-parameter"></a> <code>pExclusiveScissors</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>exclusiveScissorCount</code> <a href="chap3.html#VkRect2D">VkRect2D</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-commandBuffer-recording" href="#VUID-vkCmdSetExclusiveScissorNV-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-commandBuffer-cmdpool" href="#VUID-vkCmdSetExclusiveScissorNV-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetExclusiveScissorNV-exclusiveScissorCount-arraylength" href="#VUID-vkCmdSetExclusiveScissorNV-exclusiveScissorCount-arraylength"></a> <code>exclusiveScissorCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-samplemask"><a class="anchor" href="#fragops-samplemask"></a>27.4. Sample Mask Test</h3>
<div class="paragraph">
<p>The sample mask test compares the <a href="chap27.html#primsrast-multisampling-coverage-mask">coverage mask</a> for a fragment with the <em>sample mask</em> defined by
<a href="chap27.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::pSampleMask.</p>
</div>
<div class="paragraph">
<p>Each bit of the coverage mask is associated with a sample index as described
in the <a href="chap27.html#primsrast-multisampling-coverage-mask">rasterization chapter</a>.
If the bit in <a href="chap27.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::pSampleMask which
is associated with that same sample index is set to <code>0</code>, the coverage mask
bit is set to <code>0</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="fragops-covg"><a class="anchor" href="#fragops-covg"></a>27.5. Multisample Coverage</h3>
<div class="paragraph">
<p>If a fragment shader is active and its entry point’s interface includes a
built-in output variable decorated with <code>SampleMask</code>,
but not <code>OverrideCoverageNV</code>,
the coverage mask is <code>ANDed</code> with the bits of the <code>SampleMask</code>
built-in to generate a new coverage mask.
If the <code>SampleMask</code> built-in is also decorated with
<code>OverrideCoverageNV</code>, the coverage mask is replaced with the mask bits
set in the shader.
If <a href="chap27.html#primsrast-sampleshading">sample shading</a> is enabled, bits written to
<code>SampleMask</code> corresponding to samples that are not being shaded by the
fragment shader invocation are ignored.
If no fragment shader is active, or if the active fragment shader does not
include <code>SampleMask</code> in its interface, the coverage mask is not modified.</p>
</div>
<div class="paragraph">
<p>Next, the fragment alpha value and coverage mask are modified based on the
line coverage factor if the <code>lineRasterizationMode</code> member of the
<a href="chap27.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a> structure is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH_EXT</code>, and the
<code>alphaToCoverageEnable</code> and <code>alphaToOneEnable</code> members of the
<a href="chap27.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a> structure.</p>
</div>
<div class="paragraph">
<p>All alpha values in this section refer only to the alpha component of the
fragment shader output that has a <code>Location</code> and <code>Index</code> decoration of
zero (see the <a href="chap15.html#interfaces-fragmentoutput">Fragment Output Interface</a>
section).
If that shader output has an integer or unsigned integer type, then these
operations are skipped.</p>
</div>
<div class="paragraph">
<p>If the <code>lineRasterizationMode</code> member of the
<a href="chap27.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a> structure is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH_EXT</code> and the fragment
came from a line segment, then the alpha value is replaced by multiplying it
by the coverage factor for the fragment computed during
<a href="chap27.html#primsrast-lines-smooth">smooth line rasterization</a>.</p>
</div>
<div class="paragraph">
<p>If <code>alphaToCoverageEnable</code> is enabled, a temporary coverage mask is
generated where each bit is determined by the fragment’s alpha value, which
is ANDed with the fragment coverage mask.</p>
</div>
<div class="paragraph">
<p>No specific algorithm is specified for converting the alpha value to a
temporary coverage mask.
It is intended that the number of 1’s in this value be proportional to the
alpha value (clamped to <span class="eq">[0,1]</span>), with all 1’s corresponding to a value
of 1.0 and all 0’s corresponding to 0.0.
The algorithm <strong class="purple">may</strong> be different at different framebuffer coordinates.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Using different algorithms at different framebuffer coordinates <strong class="purple">may</strong> help to
avoid artifacts caused by regular coverage sample locations.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Next, if <code>alphaToOneEnable</code> is enabled, each alpha value is replaced by
the maximum representable alpha value for fixed-point color buffers, or by
1.0 for floating-point buffers.
Otherwise, the alpha values are not changed.</p>
</div>
</div>
<div class="sect2">
<h3 id="fragops-ds-state"><a class="anchor" href="#fragops-ds-state"></a>27.6. Depth and Stencil Operations</h3>
<div class="paragraph">
<p>Pipeline state controlling the <a href="#fragops-dbt">depth bounds tests</a>,
<a href="#fragops-stencil">stencil test</a>, and <a href="#fragops-depth">depth test</a> is
specified through the members of the
<code>VkPipelineDepthStencilStateCreateInfo</code> structure.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineDepthStencilStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineDepthStencilStateCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineDepthStencilStateCreateInfo {
    VkStructureType                           sType;
    <span class="directive">const</span> <span class="directive">void</span>*                               pNext;
    VkPipelineDepthStencilStateCreateFlags    flags;
    VkBool32                                  depthTestEnable;
    VkBool32                                  depthWriteEnable;
    VkCompareOp                               depthCompareOp;
    VkBool32                                  depthBoundsTestEnable;
    VkBool32                                  stencilTestEnable;
    VkStencilOpState                          front;
    VkStencilOpState                          back;
    <span class="predefined-type">float</span>                                     minDepthBounds;
    <span class="predefined-type">float</span>                                     maxDepthBounds;
} VkPipelineDepthStencilStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>depthTestEnable</code> controls whether <a href="#fragops-depth">depth testing</a>
is enabled.</p>
</li>
<li>
<p><code>depthWriteEnable</code> controls whether <a href="#fragops-depth-write">depth
writes</a> are enabled when <code>depthTestEnable</code> is <code>VK_TRUE</code>.
Depth writes are always disabled when <code>depthTestEnable</code> is
<code>VK_FALSE</code>.</p>
</li>
<li>
<p><code>depthCompareOp</code> is the comparison operator used in the
<a href="#fragops-depth">depth test</a>.</p>
</li>
<li>
<p><code>depthBoundsTestEnable</code> controls whether <a href="#fragops-dbt">depth bounds
testing</a> is enabled.</p>
</li>
<li>
<p><code>stencilTestEnable</code> controls whether <a href="#fragops-stencil">stencil
testing</a> is enabled.</p>
</li>
<li>
<p><code>front</code> and <code>back</code> control the parameters of the
<a href="#fragops-stencil">stencil test</a>.</p>
</li>
<li>
<p><code>minDepthBounds</code> is the minimum depth bound used in the
<a href="#fragops-dbt">depth bounds test</a>.</p>
</li>
<li>
<p><code>maxDepthBounds</code> is the maximum depth bound used in the
<a href="#fragops-dbt">depth bounds test</a>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-depthBoundsTestEnable-00598" href="#VUID-VkPipelineDepthStencilStateCreateInfo-depthBoundsTestEnable-00598"></a>
If the <a href="chap39.html#features-depthBounds">depth bounds testing</a> feature is not
enabled, <code>depthBoundsTestEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-sType-sType" href="#VUID-VkPipelineDepthStencilStateCreateInfo-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-pNext-pNext" href="#VUID-VkPipelineDepthStencilStateCreateInfo-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-flags-zerobitmask" href="#VUID-VkPipelineDepthStencilStateCreateInfo-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-depthCompareOp-parameter" href="#VUID-VkPipelineDepthStencilStateCreateInfo-depthCompareOp-parameter"></a> <code>depthCompareOp</code> <strong class="purple">must</strong> be a valid <a href="#VkCompareOp">VkCompareOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-front-parameter" href="#VUID-VkPipelineDepthStencilStateCreateInfo-front-parameter"></a> <code>front</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOpState">VkStencilOpState</a> structure</p>
</li>
<li>
<p><a id="VUID-VkPipelineDepthStencilStateCreateInfo-back-parameter" href="#VUID-VkPipelineDepthStencilStateCreateInfo-back-parameter"></a> <code>back</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOpState">VkStencilOpState</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineDepthStencilStateCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="keyword">typedef</span> VkFlags VkPipelineDepthStencilStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineDepthStencilStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-dbt"><a class="anchor" href="#fragops-dbt"></a>27.7. Depth Bounds Test</h3>
<div class="paragraph">
<p>The depth bounds test compares the depth value <span class="eq">z<sub>a</sub></span> in the
depth/stencil attachment at each sample’s framebuffer coordinates
<span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> and <a href="chap27.html#primsrast-multisampling-coverage-mask">sample
index</a> <span class="eq">i</span> against a set of <em>depth bounds</em>.</p>
</div>
<div class="paragraph">
<p>The depth bounds are determined by two floating point values defining a
minimum (<code>minDepthBounds</code>) and maximum (<code>maxDepthBounds</code>) depth
value.
These values are either set by the
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a> structure during pipeline
creation, or dynamically by
<a href="#vkCmdSetDepthBoundsTestEnableEXT">vkCmdSetDepthBoundsTestEnableEXT</a> and
<a href="#vkCmdSetDepthBounds">vkCmdSetDepthBounds</a>.</p>
</div>
<div class="paragraph">
<p>A given sample is considered within the depth bounds if <span class="eq">z<sub>a</sub></span> is in the
range <span class="eq">[<code>minDepthBounds</code>,<code>maxDepthBounds</code>]</span>.
Samples with depth attachment values outside of the depth bounds will have
their coverage set to <code>0</code>.</p>
</div>
<div class="paragraph">
<p>If the depth bounds test is disabled, or if there is no depth attachment,
the coverage mask is unmodified by this operation.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To dynamically enable or disable the depth bounds test:</p>
</div>
<div id="vkCmdSetDepthBoundsTestEnableEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_extended_dynamic_state</span>
<span class="directive">void</span> vkCmdSetDepthBoundsTestEnableEXT(
    VkCommandBuffer                             commandBuffer,
    VkBool32                                    depthBoundsTestEnable);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>depthBoundsTestEnable</code> specifies if the depth bounds test is
enabled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBoundsTestEnableEXT-None-03349" href="#VUID-vkCmdSetDepthBoundsTestEnableEXT-None-03349"></a>
The <a href="chap39.html#features-extendedDynamicState">extendedDynamicState</a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBoundsTestEnableEXT-commandBuffer-parameter" href="#VUID-vkCmdSetDepthBoundsTestEnableEXT-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBoundsTestEnableEXT-commandBuffer-recording" href="#VUID-vkCmdSetDepthBoundsTestEnableEXT-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBoundsTestEnableEXT-commandBuffer-cmdpool" href="#VUID-vkCmdSetDepthBoundsTestEnableEXT-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To dynamically set the depth bounds range values call:</p>
</div>
<div id="vkCmdSetDepthBounds" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="directive">void</span> vkCmdSetDepthBounds(
    VkCommandBuffer                             commandBuffer,
    <span class="predefined-type">float</span>                                       minDepthBounds,
    <span class="predefined-type">float</span>                                       maxDepthBounds);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>minDepthBounds</code> is the minimum depth bound.</p>
</li>
<li>
<p><code>maxDepthBounds</code> is the maximum depth bound.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_DEPTH_BOUNDS</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBounds-minDepthBounds-00600" href="#VUID-vkCmdSetDepthBounds-minDepthBounds-00600"></a>
Unless the <code><a href="chap48.html#VK_EXT_depth_range_unrestricted">VK_EXT_depth_range_unrestricted</a></code> extension is enabled
<code>minDepthBounds</code> <strong class="purple">must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBounds-maxDepthBounds-00601" href="#VUID-vkCmdSetDepthBounds-maxDepthBounds-00601"></a>
Unless the <code><a href="chap48.html#VK_EXT_depth_range_unrestricted">VK_EXT_depth_range_unrestricted</a></code> extension is enabled
<code>maxDepthBounds</code> <strong class="purple">must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBounds-commandBuffer-parameter" href="#VUID-vkCmdSetDepthBounds-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBounds-commandBuffer-recording" href="#VUID-vkCmdSetDepthBounds-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBounds-commandBuffer-cmdpool" href="#VUID-vkCmdSetDepthBounds-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-stencil"><a class="anchor" href="#fragops-stencil"></a>27.8. Stencil Test</h3>
<div class="paragraph">
<p>The stencil test compares the stencil attachment value <span class="eq">s<sub>a</sub></span> in the
depth/stencil attachment at each sample’s framebuffer coordinates
<span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> and <a href="chap27.html#primsrast-multisampling-coverage-mask">sample
index</a> <span class="eq">i</span> against a <em>stencil reference value</em>.</p>
</div>
<div class="paragraph">
<p>If the render pass has a fragment density map attachment and the fragment
covers multiple pixels, there is an implementation-dependent association of
coverage samples to stencil attachment samples within the fragment.
However, if all samples in the fragment are covered, and the stencil
attachment value is updated as a result of this test, all stencil attachment
samples will be updated.</p>
</div>
<div class="paragraph">
<p>If the stencil test is not enabled, as specified by
<a href="#vkCmdSetStencilTestEnableEXT">vkCmdSetStencilTestEnableEXT</a> or
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>::<code>stencilTestEnable</code>, or if
there is no stencil attachment, the coverage mask is unmodified by this
operation.</p>
</div>
<div class="paragraph">
<p>The stencil test is controlled by one of two sets of stencil-related state,
the front stencil state and the back stencil state.
Stencil tests and writes use the back stencil state when processing
fragments generated by <a href="chap27.html#primsrast-polygons-basic">back-facing</a>
<a href="chap27.html#primsrast-polygons">polygons</a>, and the front stencil state when processing
fragments generated by <a href="chap27.html#primsrast-polygons-basic">front-facing polygons</a> or
any other primitives.</p>
</div>
<div class="paragraph">
<p>The comparison performed is based on the <a href="#VkCompareOp">VkCompareOp</a>, compare mask
<span class="eq">s<sub>c</sub></span> , and stencil reference value <span class="eq">s<sub>r</sub></span> of the relevant state
set.
The compare mask and stencil reference value are set by either the
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a> structure during pipeline
creation, or by the <a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a> and
<a href="#vkCmdSetStencilReference">vkCmdSetStencilReference</a> commands respectively.
The compare operation is set by <a href="#VkStencilOpState">VkStencilOpState</a>::<code>compareOp</code>
during pipeline creation.</p>
</div>
<div class="paragraph">
<p>The stencil reference and attachment values <span class="eq">s<sub>r</sub></span> and <span class="eq">s<sub>a</sub></span> are
each independently combined with the compare mask <span class="eq">s<sub>c</sub></span> using a logical
<code>AND</code> operation to create masked reference and attachment values
<span class="eq">s'<sub>r</sub></span> and <span class="eq">s'<sub>a</sub></span>.
<span class="eq">s'<sub>r</sub></span> and <span class="eq">s'<sub>a</sub></span> are used as <span class="eq">A</span> and <span class="eq">B</span>, respectively,
in the operation specified by <a href="#VkCompareOp">VkCompareOp</a>.</p>
</div>
<div class="paragraph">
<p>If the comparison evaluates to false, the coverage for the sample is set to
<code>0</code>.</p>
</div>
<div class="paragraph">
<p>A new stencil value <span class="eq">s<sub>g</sub></span> is generated according to a stencil operation
defined by <a href="#VkStencilOp">VkStencilOp</a> parameters set by
<a href="#vkCmdSetStencilOpEXT">vkCmdSetStencilOpEXT</a> or
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>.
If the stencil test fails, <code>failOp</code> defines the stencil operation used.
If the stencil test passes however, the stencil op used is based on the
<a href="#fragops-depth">depth test</a> - if it passes,
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>::<code>passOp</code> is used, otherwise
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>::<code>depthFailOp</code> is used.</p>
</div>
<div class="paragraph">
<p>The stencil attachment value <span class="eq">s<sub>a</sub></span> is then updated with the generated
stencil value <span class="eq">s<sub>g</sub></span> according to the write mask <span class="eq">s<sub>w</sub></span> defined by
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>::<code>writeMask</code> as:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">s<sub>a</sub> = (s<sub>a</sub> &amp; ¬s<sub>w</sub>) | (s<sub>g</sub> &amp; s<sub>w</sub>)</span></p>
</dd>
</dl>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To dynamically enable or disable the stencil test, call:</p>
</div>
<div id="vkCmdSetStencilTestEnableEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_extended_dynamic_state</span>
<span class="directive">void</span> vkCmdSetStencilTestEnableEXT(
    VkCommandBuffer                             commandBuffer,
    VkBool32                                    stencilTestEnable);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>stencilTestEnable</code> specifies if the stencil test is enabled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetStencilTestEnableEXT-None-03350" href="#VUID-vkCmdSetStencilTestEnableEXT-None-03350"></a>
The <a href="chap39.html#features-extendedDynamicState">extendedDynamicState</a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetStencilTestEnableEXT-commandBuffer-parameter" href="#VUID-vkCmdSetStencilTestEnableEXT-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilTestEnableEXT-commandBuffer-recording" href="#VUID-vkCmdSetStencilTestEnableEXT-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilTestEnableEXT-commandBuffer-cmdpool" href="#VUID-vkCmdSetStencilTestEnableEXT-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To dynamically set the stencil operations, call:</p>
</div>
<div id="vkCmdSetStencilOpEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_extended_dynamic_state</span>
<span class="directive">void</span> vkCmdSetStencilOpEXT(
    VkCommandBuffer                             commandBuffer,
    VkStencilFaceFlags                          faceMask,
    VkStencilOp                                 failOp,
    VkStencilOp                                 passOp,
    VkStencilOp                                 depthFailOp,
    VkCompareOp                                 compareOp);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>faceMask</code> is a bitmask of VkStencilFaceFlagBits specifying the set
of stencil state for which to update the stencil operation.</p>
</li>
<li>
<p><code>failOp</code> is a <a href="#VkStencilOp">VkStencilOp</a> value specifying the action
performed on samples that fail the stencil test.</p>
</li>
<li>
<p><code>passOp</code> is a <a href="#VkStencilOp">VkStencilOp</a> value specifying the action
performed on samples that pass both the depth and stencil tests.</p>
</li>
<li>
<p><code>depthFailOp</code> is a <a href="#VkStencilOp">VkStencilOp</a> value specifying the action
performed on samples that pass the stencil test and fail the depth test.</p>
</li>
<li>
<p><code>compareOp</code> is a <a href="#VkCompareOp">VkCompareOp</a> value specifying the comparison
operator used in the stencil test.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_STENCIL_OP_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetStencilOpEXT-None-03351" href="#VUID-vkCmdSetStencilOpEXT-None-03351"></a>
The <a href="chap39.html#features-extendedDynamicState">extendedDynamicState</a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetStencilOpEXT-commandBuffer-parameter" href="#VUID-vkCmdSetStencilOpEXT-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilOpEXT-faceMask-parameter" href="#VUID-vkCmdSetStencilOpEXT-faceMask-parameter"></a> <code>faceMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilOpEXT-faceMask-requiredbitmask" href="#VUID-vkCmdSetStencilOpEXT-faceMask-requiredbitmask"></a> <code>faceMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilOpEXT-failOp-parameter" href="#VUID-vkCmdSetStencilOpEXT-failOp-parameter"></a> <code>failOp</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOp">VkStencilOp</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilOpEXT-passOp-parameter" href="#VUID-vkCmdSetStencilOpEXT-passOp-parameter"></a> <code>passOp</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOp">VkStencilOp</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilOpEXT-depthFailOp-parameter" href="#VUID-vkCmdSetStencilOpEXT-depthFailOp-parameter"></a> <code>depthFailOp</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOp">VkStencilOp</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilOpEXT-compareOp-parameter" href="#VUID-vkCmdSetStencilOpEXT-compareOp-parameter"></a> <code>compareOp</code> <strong class="purple">must</strong> be a valid <a href="#VkCompareOp">VkCompareOp</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilOpEXT-commandBuffer-recording" href="#VUID-vkCmdSetStencilOpEXT-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilOpEXT-commandBuffer-cmdpool" href="#VUID-vkCmdSetStencilOpEXT-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkStencilOpState</code> structure is defined as:</p>
</div>
<div id="VkStencilOpState" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkStencilOpState {
    VkStencilOp    failOp;
    VkStencilOp    passOp;
    VkStencilOp    depthFailOp;
    VkCompareOp    compareOp;
    uint32_t       compareMask;
    uint32_t       writeMask;
    uint32_t       reference;
} VkStencilOpState;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>failOp</code> is a <a href="#VkStencilOp">VkStencilOp</a> value specifying the action
performed on samples that fail the stencil test.</p>
</li>
<li>
<p><code>passOp</code> is a <a href="#VkStencilOp">VkStencilOp</a> value specifying the action
performed on samples that pass both the depth and stencil tests.</p>
</li>
<li>
<p><code>depthFailOp</code> is a <a href="#VkStencilOp">VkStencilOp</a> value specifying the action
performed on samples that pass the stencil test and fail the depth test.</p>
</li>
<li>
<p><code>compareOp</code> is a <a href="#VkCompareOp">VkCompareOp</a> value specifying the comparison
operator used in the stencil test.</p>
</li>
<li>
<p><code>compareMask</code> selects the bits of the unsigned integer stencil
values participating in the stencil test.</p>
</li>
<li>
<p><code>writeMask</code> selects the bits of the unsigned integer stencil values
updated by the stencil test in the stencil framebuffer attachment.</p>
</li>
<li>
<p><code>reference</code> is an integer reference value that is used in the
unsigned stencil comparison.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkStencilOpState-failOp-parameter" href="#VUID-VkStencilOpState-failOp-parameter"></a> <code>failOp</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOp">VkStencilOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkStencilOpState-passOp-parameter" href="#VUID-VkStencilOpState-passOp-parameter"></a> <code>passOp</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOp">VkStencilOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkStencilOpState-depthFailOp-parameter" href="#VUID-VkStencilOpState-depthFailOp-parameter"></a> <code>depthFailOp</code> <strong class="purple">must</strong> be a valid <a href="#VkStencilOp">VkStencilOp</a> value</p>
</li>
<li>
<p><a id="VUID-VkStencilOpState-compareOp-parameter" href="#VUID-VkStencilOpState-compareOp-parameter"></a> <code>compareOp</code> <strong class="purple">must</strong> be a valid <a href="#VkCompareOp">VkCompareOp</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To dynamically set the stencil compare mask call:</p>
</div>
<div id="vkCmdSetStencilCompareMask" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="directive">void</span> vkCmdSetStencilCompareMask(
    VkCommandBuffer                             commandBuffer,
    VkStencilFaceFlags                          faceMask,
    uint32_t                                    compareMask);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>faceMask</code> is a bitmask of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> specifying
the set of stencil state for which to update the compare mask.</p>
</li>
<li>
<p><code>compareMask</code> is the new value to use as the stencil compare mask.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetStencilCompareMask-commandBuffer-parameter" href="#VUID-vkCmdSetStencilCompareMask-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilCompareMask-faceMask-parameter" href="#VUID-vkCmdSetStencilCompareMask-faceMask-parameter"></a> <code>faceMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilCompareMask-faceMask-requiredbitmask" href="#VUID-vkCmdSetStencilCompareMask-faceMask-requiredbitmask"></a> <code>faceMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilCompareMask-commandBuffer-recording" href="#VUID-vkCmdSetStencilCompareMask-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilCompareMask-commandBuffer-cmdpool" href="#VUID-vkCmdSetStencilCompareMask-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>VkStencilFaceFlagBits</code> values are:</p>
</div>
<div id="VkStencilFaceFlagBits" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="keyword">typedef</span> <span class="keyword">enum</span> VkStencilFaceFlagBits {
    VK_STENCIL_FACE_FRONT_BIT = <span class="hex">0x00000001</span>,
    VK_STENCIL_FACE_BACK_BIT = <span class="hex">0x00000002</span>,
    VK_STENCIL_FACE_FRONT_AND_BACK = <span class="hex">0x00000003</span>,
    VK_STENCIL_FRONT_AND_BACK = VK_STENCIL_FACE_FRONT_AND_BACK,
} VkStencilFaceFlagBits;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STENCIL_FACE_FRONT_BIT</code> specifies that only the front set of
stencil state is updated.</p>
</li>
<li>
<p><code>VK_STENCIL_FACE_BACK_BIT</code> specifies that only the back set of
stencil state is updated.</p>
</li>
<li>
<p><code>VK_STENCIL_FACE_FRONT_AND_BACK</code> is the combination of
<code>VK_STENCIL_FACE_FRONT_BIT</code> and <code>VK_STENCIL_FACE_BACK_BIT</code>, and
specifies that both sets of stencil state are updated.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkStencilFaceFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="keyword">typedef</span> VkFlags VkStencilFaceFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkStencilFaceFlags</code> is a bitmask type for setting a mask of zero or
more <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To dynamically set the stencil write mask call:</p>
</div>
<div id="vkCmdSetStencilWriteMask" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="directive">void</span> vkCmdSetStencilWriteMask(
    VkCommandBuffer                             commandBuffer,
    VkStencilFaceFlags                          faceMask,
    uint32_t                                    writeMask);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>faceMask</code> is a bitmask of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> specifying
the set of stencil state for which to update the write mask, as
described above for <a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a>.</p>
</li>
<li>
<p><code>writeMask</code> is the new value to use as the stencil write mask.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_STENCIL_WRITE_MASK</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetStencilWriteMask-commandBuffer-parameter" href="#VUID-vkCmdSetStencilWriteMask-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilWriteMask-faceMask-parameter" href="#VUID-vkCmdSetStencilWriteMask-faceMask-parameter"></a> <code>faceMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilWriteMask-faceMask-requiredbitmask" href="#VUID-vkCmdSetStencilWriteMask-faceMask-requiredbitmask"></a> <code>faceMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilWriteMask-commandBuffer-recording" href="#VUID-vkCmdSetStencilWriteMask-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilWriteMask-commandBuffer-cmdpool" href="#VUID-vkCmdSetStencilWriteMask-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To dynamically set the stencil reference value call:</p>
</div>
<div id="vkCmdSetStencilReference" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="directive">void</span> vkCmdSetStencilReference(
    VkCommandBuffer                             commandBuffer,
    VkStencilFaceFlags                          faceMask,
    uint32_t                                    reference);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>faceMask</code> is a bitmask of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> specifying
the set of stencil state for which to update the reference value, as
described above for <a href="#vkCmdSetStencilCompareMask">vkCmdSetStencilCompareMask</a>.</p>
</li>
<li>
<p><code>reference</code> is the new value to use as the stencil reference value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_STENCIL_REFERENCE</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetStencilReference-commandBuffer-parameter" href="#VUID-vkCmdSetStencilReference-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilReference-faceMask-parameter" href="#VUID-vkCmdSetStencilReference-faceMask-parameter"></a> <code>faceMask</code> <strong class="purple">must</strong> be a valid combination of <a href="#VkStencilFaceFlagBits">VkStencilFaceFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilReference-faceMask-requiredbitmask" href="#VUID-vkCmdSetStencilReference-faceMask-requiredbitmask"></a> <code>faceMask</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilReference-commandBuffer-recording" href="#VUID-vkCmdSetStencilReference-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetStencilReference-commandBuffer-cmdpool" href="#VUID-vkCmdSetStencilReference-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of <a href="#VkStencilOpState">VkStencilOpState</a>::<code>compareOp</code>, specifying the
stencil comparison function, are:</p>
</div>
<div id="VkCompareOp" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="keyword">typedef</span> <span class="keyword">enum</span> VkCompareOp {
    VK_COMPARE_OP_NEVER = <span class="integer">0</span>,
    VK_COMPARE_OP_LESS = <span class="integer">1</span>,
    VK_COMPARE_OP_EQUAL = <span class="integer">2</span>,
    VK_COMPARE_OP_LESS_OR_EQUAL = <span class="integer">3</span>,
    VK_COMPARE_OP_GREATER = <span class="integer">4</span>,
    VK_COMPARE_OP_NOT_EQUAL = <span class="integer">5</span>,
    VK_COMPARE_OP_GREATER_OR_EQUAL = <span class="integer">6</span>,
    VK_COMPARE_OP_ALWAYS = <span class="integer">7</span>,
} VkCompareOp;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COMPARE_OP_NEVER</code> specifies that the test evaluates to false.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_LESS</code> specifies that the test evaluates <span class="eq">A &lt; B</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_EQUAL</code> specifies that the test evaluates <span class="eq">A = B</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_LESS_OR_EQUAL</code> specifies that the test evaluates
<span class="eq">A ≤ B</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_GREATER</code> specifies that the test evaluates <span class="eq">A &gt;
B</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_NOT_EQUAL</code> specifies that the test evaluates <span class="eq">A
≠ B</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_GREATER_OR_EQUAL</code> specifies that the test evaluates
<span class="eq">A ≥ B</span>.</p>
</li>
<li>
<p><code>VK_COMPARE_OP_ALWAYS</code> specifies that the test evaluates to true.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <code>failOp</code>, <code>passOp</code>, and <code>depthFailOp</code>
members of <a href="#VkStencilOpState">VkStencilOpState</a>, specifying what happens to the stored
stencil value if this or certain subsequent tests fail or pass, are:</p>
</div>
<div id="VkStencilOp" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="keyword">typedef</span> <span class="keyword">enum</span> VkStencilOp {
    VK_STENCIL_OP_KEEP = <span class="integer">0</span>,
    VK_STENCIL_OP_ZERO = <span class="integer">1</span>,
    VK_STENCIL_OP_REPLACE = <span class="integer">2</span>,
    VK_STENCIL_OP_INCREMENT_AND_CLAMP = <span class="integer">3</span>,
    VK_STENCIL_OP_DECREMENT_AND_CLAMP = <span class="integer">4</span>,
    VK_STENCIL_OP_INVERT = <span class="integer">5</span>,
    VK_STENCIL_OP_INCREMENT_AND_WRAP = <span class="integer">6</span>,
    VK_STENCIL_OP_DECREMENT_AND_WRAP = <span class="integer">7</span>,
} VkStencilOp;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_STENCIL_OP_KEEP</code> keeps the current value.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_ZERO</code> sets the value to 0.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_REPLACE</code> sets the value to <code>reference</code>.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_INCREMENT_AND_CLAMP</code> increments the current value and
clamps to the maximum representable unsigned value.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_DECREMENT_AND_CLAMP</code> decrements the current value and
clamps to 0.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_INVERT</code> bitwise-inverts the current value.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_INCREMENT_AND_WRAP</code> increments the current value and
wraps to 0 when the maximum value would have been exceeded.</p>
</li>
<li>
<p><code>VK_STENCIL_OP_DECREMENT_AND_WRAP</code> decrements the current value and
wraps to the maximum possible value when the value would go below 0.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For purposes of increment and decrement, the stencil bits are considered as
an unsigned integer.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-depth"><a class="anchor" href="#fragops-depth"></a>27.9. Depth Test</h3>
<div class="paragraph">
<p>The depth test compares the depth value <span class="eq">z<sub>a</sub></span> in the depth/stencil
attachment at each sample’s framebuffer coordinates <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> and
<a href="chap27.html#primsrast-multisampling-coverage-mask">sample index</a> <span class="eq">i</span> against the
sample’s depth value <span class="eq">z<sub>f</sub></span>.</p>
</div>
<div class="paragraph">
<p>If the render pass has a fragment density map attachment and the fragment
covers multiple pixels, there is an implementation-dependent association of
rasterization samples to depth attachment samples within the fragment.
However, if all samples in the fragment are covered, and the depth
attachment value is updated as a result of this test, all depth attachment
samples will be updated.</p>
</div>
<div class="paragraph">
<p>If the depth test is not enabled, as specified by
<a href="#vkCmdSetDepthTestEnableEXT">vkCmdSetDepthTestEnableEXT</a> or
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>::<code>depthTestEnable</code>, or if
there is no depth attachment, the coverage mask is unmodified by this
operation.</p>
</div>
<div class="paragraph">
<p>The comparison performed is based on the <a href="#VkCompareOp">VkCompareOp</a>, set by
<a href="#vkCmdSetDepthCompareOpEXT">vkCmdSetDepthCompareOpEXT</a> or
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>::<code>depthCompareOp</code> during
pipeline creation.
<span class="eq">z<sub>f</sub></span> and <span class="eq">z<sub>a</sub></span> are used as <span class="eq">A</span> and <span class="eq">B</span>, respectively, in
the operation specified by the <a href="#VkCompareOp">VkCompareOp</a>.</p>
</div>
<div class="paragraph">
<p>If <a href="chap27.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>depthClampEnable</code> is
enabled, before the sample’s <span class="eq"><code>z</code><sub>f</sub></span> is compared to
<span class="eq"><code>z</code><sub>a</sub></span>, <span class="eq"><code>z</code><sub>f</sub></span> is clamped to <span class="eq">[min(n,f),max(n,f)]</span>,
where <span class="eq">n</span> and <span class="eq">f</span> are the <code>minDepth</code> and <code>maxDepth</code> depth
range values of the viewport used by this fragment, respectively.</p>
</div>
<div class="paragraph">
<p>If the comparison evaluates to false, the coverage for the sample is set to
<code>0</code>.</p>
</div>
<div id="fragops-depth-write" class="paragraph">
<p>If depth writes are enabled, as specified by
<a href="#vkCmdSetDepthWriteEnableEXT">vkCmdSetDepthWriteEnableEXT</a> or
<a href="#VkPipelineDepthStencilStateCreateInfo">VkPipelineDepthStencilStateCreateInfo</a>::<code>depthWriteEnable</code>, and the
comparison evaluated to true, the depth attachment value <span class="eq">z<sub>a</sub></span> is set
to the sample’s depth value <span class="eq">z<sub>f</sub></span>.</p>
</div>
<div class="paragraph">
<p>If the depth attachment has a fixed-point format and <span class="eq">z<sub>f</sub></span> is outside
of the range <span class="eq">[0.0,1.0]</span>, it is clamped to that range before writing.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To dynamically enable or disable the depth test, call:</p>
</div>
<div id="vkCmdSetDepthTestEnableEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_extended_dynamic_state</span>
<span class="directive">void</span> vkCmdSetDepthTestEnableEXT(
    VkCommandBuffer                             commandBuffer,
    VkBool32                                    depthTestEnable);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>depthTestEnable</code> specifies if the depth test is enabled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthTestEnableEXT-None-03352" href="#VUID-vkCmdSetDepthTestEnableEXT-None-03352"></a>
The <a href="chap39.html#features-extendedDynamicState">extendedDynamicState</a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthTestEnableEXT-commandBuffer-parameter" href="#VUID-vkCmdSetDepthTestEnableEXT-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthTestEnableEXT-commandBuffer-recording" href="#VUID-vkCmdSetDepthTestEnableEXT-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthTestEnableEXT-commandBuffer-cmdpool" href="#VUID-vkCmdSetDepthTestEnableEXT-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To dynamically set the depth compare operations, call:</p>
</div>
<div id="vkCmdSetDepthCompareOpEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_extended_dynamic_state</span>
<span class="directive">void</span> vkCmdSetDepthCompareOpEXT(
    VkCommandBuffer                             commandBuffer,
    VkCompareOp                                 depthCompareOp);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>depthCompareOp</code> specifies the depth comparison operator.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_DEPTH_COMPARE_OP_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthCompareOpEXT-None-03353" href="#VUID-vkCmdSetDepthCompareOpEXT-None-03353"></a>
The <a href="chap39.html#features-extendedDynamicState">extendedDynamicState</a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthCompareOpEXT-commandBuffer-parameter" href="#VUID-vkCmdSetDepthCompareOpEXT-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthCompareOpEXT-depthCompareOp-parameter" href="#VUID-vkCmdSetDepthCompareOpEXT-depthCompareOp-parameter"></a> <code>depthCompareOp</code> <strong class="purple">must</strong> be a valid <a href="#VkCompareOp">VkCompareOp</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthCompareOpEXT-commandBuffer-recording" href="#VUID-vkCmdSetDepthCompareOpEXT-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthCompareOpEXT-commandBuffer-cmdpool" href="#VUID-vkCmdSetDepthCompareOpEXT-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To dynamically enable or disable depth writes, call:</p>
</div>
<div id="vkCmdSetDepthWriteEnableEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_extended_dynamic_state</span>
<span class="directive">void</span> vkCmdSetDepthWriteEnableEXT(
    VkCommandBuffer                             commandBuffer,
    VkBool32                                    depthWriteEnable);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>depthWriteEnable</code> specifies if depth writes are enabled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the state for a given draw when the graphics pipeline is
created with <code>VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthWriteEnableEXT-None-03354" href="#VUID-vkCmdSetDepthWriteEnableEXT-None-03354"></a>
The <a href="chap39.html#features-extendedDynamicState">extendedDynamicState</a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthWriteEnableEXT-commandBuffer-parameter" href="#VUID-vkCmdSetDepthWriteEnableEXT-commandBuffer-parameter"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthWriteEnableEXT-commandBuffer-recording" href="#VUID-vkCmdSetDepthWriteEnableEXT-commandBuffer-recording"></a> <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthWriteEnableEXT-commandBuffer-cmdpool" href="#VUID-vkCmdSetDepthWriteEnableEXT-commandBuffer-cmdpool"></a> The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="#synchronization-pipeline-stages-types">Pipeline Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-rep-frag-test"><a class="anchor" href="#fragops-rep-frag-test"></a>27.10. Representative Fragment Test</h3>
<div class="paragraph">
<p>The representative fragment test allows implementations to reduce the amount
of rasterization and fragment processing work performed for each point,
line, or triangle primitive.
For any primitive that produces one or more fragments that pass all prior
early fragment tests, the implementation <strong class="purple">may</strong> choose one or more
“representative” fragments for processing and discard all other fragments.
For draw calls rendering multiple points, lines, or triangles arranged in
lists, strips, or fans, the representative fragment test is performed
independently for each of those primitives.
The set of fragments discarded by the representative fragment test is
implementation-dependent.
In some cases, the representative fragment test may not discard any
fragments for a given primitive.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> includes a
<code>VkPipelineRepresentativeFragmentTestStateCreateInfoNV</code> structure, then
that structure includes parameters that control the representative fragment
test.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineRepresentativeFragmentTestStateCreateInfoNV</code> structure is
defined as:</p>
</div>
<div id="VkPipelineRepresentativeFragmentTestStateCreateInfoNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_representative_fragment_test</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineRepresentativeFragmentTestStateCreateInfoNV {
    VkStructureType    sType;
    <span class="directive">const</span> <span class="directive">void</span>*        pNext;
    VkBool32           representativeFragmentTestEnable;
} VkPipelineRepresentativeFragmentTestStateCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>representativeFragmentTestEnable</code> controls whether the
representative fragment test is enabled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this structure is not present, <code>representativeFragmentTestEnable</code> is
considered to be <code>VK_FALSE</code>, and the representative fragment test is
disabled.</p>
</div>
<div class="paragraph">
<p>If <a href="chap9.html#shaders-fragment-earlytest">early fragment tests</a> are not enabled in
the active fragment shader, the representative fragment shader test has no
effect, even if enabled.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRepresentativeFragmentTestStateCreateInfoNV-sType-sType" href="#VUID-VkPipelineRepresentativeFragmentTestStateCreateInfoNV-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_REPRESENTATIVE_FRAGMENT_TEST_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-samplecount"><a class="anchor" href="#fragops-samplecount"></a>27.11. Sample Counting</h3>
<div class="paragraph">
<p>Occlusion queries use query pool entries to track the number of samples that
pass all the per-fragment tests.
The mechanism of collecting an occlusion query value is described in
<a href="chap18.html#queries-occlusion">Occlusion Queries</a>.</p>
</div>
<div class="paragraph">
<p>The occlusion query sample counter increments by one for each sample with a
coverage value of 1 in each fragment that survives all the per-fragment
tests, including scissor,
exclusive scissor,
sample mask, alpha to coverage, stencil, and depth tests.</p>
</div>
</div>
<div class="sect2">
<h3 id="fragops-coverage-to-color"><a class="anchor" href="#fragops-coverage-to-color"></a>27.12. Fragment Coverage To Color</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap27.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>
includes a <code>VkPipelineCoverageToColorStateCreateInfoNV</code> structure, then
that structure controls whether the fragment coverage is substituted for a
fragment color output and, if so, which output is replaced.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineCoverageToColorStateCreateInfoNV</code> structure is defined
as:</p>
</div>
<div id="VkPipelineCoverageToColorStateCreateInfoNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_fragment_coverage_to_color</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineCoverageToColorStateCreateInfoNV {
    VkStructureType                                sType;
    <span class="directive">const</span> <span class="directive">void</span>*                                    pNext;
    VkPipelineCoverageToColorStateCreateFlagsNV    flags;
    VkBool32                                       coverageToColorEnable;
    uint32_t                                       coverageToColorLocation;
} VkPipelineCoverageToColorStateCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>coverageToColorEnable</code> controls whether the fragment coverage value
replaces a fragment color output.</p>
</li>
<li>
<p><code>coverageToColorLocation</code> controls which fragment shader color
output value is replaced.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>coverageToColorEnable</code> is <code>VK_TRUE</code>, the
<a href="chap27.html#primsrast-multisampling-coverage-mask">coverage mask</a> replaces the first
component of the color value corresponding to the fragment shader output
location with <code>Location</code> equal to <code>coverageToColorLocation</code> and
<code>Index</code> equal to zero.
If the color attachment format has fewer bits than the coverage mask, the
low bits of the sample coverage mask are taken without any clamping.
If the color attachment format has more bits than the coverage mask, the
high bits of the sample coverage mask are filled with zeros.</p>
</div>
<div class="paragraph">
<p>If <code>coverageToColorEnable</code> is <code>VK_FALSE</code>, these operations are
skipped.
If this structure is not present, it is as if <code>coverageToColorEnable</code> is
<code>VK_FALSE</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCoverageToColorStateCreateInfoNV-coverageToColorEnable-01404" href="#VUID-VkPipelineCoverageToColorStateCreateInfoNV-coverageToColorEnable-01404"></a>
If <code>coverageToColorEnable</code> is <code>VK_TRUE</code>, then the render pass
subpass indicated by
<a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>renderPass</code> and
<a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>::<code>subpass</code> <strong class="purple">must</strong> have a color
attachment at the location selected by <code>coverageToColorLocation</code>,
with a <a href="chap41.html#VkFormat">VkFormat</a> of <code>VK_FORMAT_R8_UINT</code>,
<code>VK_FORMAT_R8_SINT</code>, <code>VK_FORMAT_R16_UINT</code>,
<code>VK_FORMAT_R16_SINT</code>, <code>VK_FORMAT_R32_UINT</code>, or
<code>VK_FORMAT_R32_SINT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCoverageToColorStateCreateInfoNV-sType-sType" href="#VUID-VkPipelineCoverageToColorStateCreateInfoNV-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_COVERAGE_TO_COLOR_STATE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCoverageToColorStateCreateInfoNV-flags-zerobitmask" href="#VUID-VkPipelineCoverageToColorStateCreateInfoNV-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCoverageToColorStateCreateFlagsNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_fragment_coverage_to_color</span>
<span class="keyword">typedef</span> VkFlags VkPipelineCoverageToColorStateCreateFlagsNV;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCoverageToColorStateCreateFlagsNV</code> is a bitmask type for
setting a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fragops-coverage-reduction"><a class="anchor" href="#fragops-coverage-reduction"></a>27.13. Coverage Reduction</h3>
<div class="paragraph">
<p>Coverage reduction generates a <em>color sample mask</em> from the coverage mask,
with one bit for each sample in the color attachment(s) for the subpass.
If a bit in the color sample mask is 0, then blending and writing to the
framebuffer are not performed for that sample.</p>
</div>
<div class="paragraph">
<p>If the fragment covers a single pixel with a number of samples equal to the
number of samples in each color attachment, each color sample is associated
with a unique rasterization sample, and the value of the coverage mask is
assigned to the color sample mask.</p>
</div>
<div class="paragraph">
<p>If the render pass has a fragment density map attachment and the fragment
covers multiple pixels, there is an implementation-dependent association of
rasterization samples to color attachment samples within the fragment.
However, if all samples in the fragment are covered, all color attachment
samples will be covered.
Each color sample’s mask bit is assigned the union of the coverage bits of
its associated coverage samples.</p>
</div>
<div class="paragraph">
<p>If a <a href="chap27.html#primsrast-shading-rate-image">shading rate image</a> is used, and the
fragment covers multiple pixels, each color sample is associated with a
unique rasterization sample; the range of bits corresponding to a particular
pixel are assigned to the color sample mask for that pixel.</p>
</div>
<div class="paragraph">
<p>If the <code>VK_AMD_mixed_attachment_samples</code> extension is enabled, bits in the
coverage mask that correspond to samples greater than the number of samples
in the color attachments are set to <code>0</code>.
If all bits in the combined sample mask are <code>0</code>, the entire fragment is
discarded, and fragment shading <strong class="purple">may</strong> be skipped.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the pipeline’s
<a href="chap27.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::<code>rasterizationSamples</code> is
greater than the <a href="chap8.html#VkAttachmentDescription">VkAttachmentDescription</a>::<code>samples</code> of the color
attachments in the subpass, then the fragment’s coverage is reduced from
<code>rasterizationSamples</code> bits to a color sample mask with
<a href="chap8.html#VkAttachmentDescription">VkAttachmentDescription</a>::<code>samples</code> bits.</p>
</div>
<div class="paragraph">
<p>When the <code>VK_NV_coverage_reduction_mode</code> extension is enabled, the pipeline
state controlling coverage reduction is specified through the members of the
<code>VkPipelineCoverageReductionStateCreateInfoNV</code> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineCoverageReductionStateCreateInfoNV</code> structure is defined
as:</p>
</div>
<div id="VkPipelineCoverageReductionStateCreateInfoNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_coverage_reduction_mode</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineCoverageReductionStateCreateInfoNV {
    VkStructureType                                  sType;
    <span class="directive">const</span> <span class="directive">void</span>*                                      pNext;
    VkPipelineCoverageReductionStateCreateFlagsNV    flags;
    VkCoverageReductionModeNV                        coverageReductionMode;
} VkPipelineCoverageReductionStateCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>coverageReductionMode</code> is a <a href="#VkCoverageReductionModeNV">VkCoverageReductionModeNV</a> value
controlling how the <em>color sample mask</em> is generated from the coverage
mask.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this structure is not present, the default coverage reduction mode is
inferred as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the <code>VK_NV_framebuffer_mixed_samples</code> extension is enabled, then it
is as if the <code>coverageReductionMode</code> is
<code>VK_COVERAGE_REDUCTION_MODE_MERGE_NV</code>.</p>
</li>
<li>
<p>If the <code>VK_AMD_mixed_attachment_samples</code> extension is enabled, then it
is as if the <code>coverageReductionMode</code> is
<code>VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV</code>.</p>
</li>
<li>
<p>If both <code>VK_NV_framebuffer_mixed_samples</code> and
<code>VK_AMD_mixed_attachment_samples</code> are enabled, then the default coverage
reduction mode is implementation-dependent.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCoverageReductionStateCreateInfoNV-sType-sType" href="#VUID-VkPipelineCoverageReductionStateCreateInfoNV-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_COVERAGE_REDUCTION_STATE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCoverageReductionStateCreateInfoNV-flags-zerobitmask" href="#VUID-VkPipelineCoverageReductionStateCreateInfoNV-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCoverageReductionStateCreateInfoNV-coverageReductionMode-parameter" href="#VUID-VkPipelineCoverageReductionStateCreateInfoNV-coverageReductionMode-parameter"></a> <code>coverageReductionMode</code> <strong class="purple">must</strong> be a valid <a href="#VkCoverageReductionModeNV">VkCoverageReductionModeNV</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCoverageReductionStateCreateFlagsNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_coverage_reduction_mode</span>
<span class="keyword">typedef</span> VkFlags VkPipelineCoverageReductionStateCreateFlagsNV;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCoverageReductionStateCreateFlagsNV</code> is a bitmask type for
setting a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="#VkPipelineCoverageReductionStateCreateInfoNV">VkPipelineCoverageReductionStateCreateInfoNV</a>::<code>coverageReductionMode</code>,
specifying how the coverage mask is reduced to <em>color sample mask</em>, are:</p>
</div>
<div id="VkCoverageReductionModeNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_coverage_reduction_mode</span>
<span class="keyword">typedef</span> <span class="keyword">enum</span> VkCoverageReductionModeNV {
    VK_COVERAGE_REDUCTION_MODE_MERGE_NV = <span class="integer">0</span>,
    VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV = <span class="integer">1</span>,
} VkCoverageReductionModeNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COVERAGE_REDUCTION_MODE_MERGE_NV</code>: In this mode, there is an
implementation-dependent association of each coverage sample to a color
sample.
The reduced color sample mask is computed such that the bit for each
color sample is 1 if any of the associated bits in the fragment’s
coverage is on, and 0 otherwise.</p>
</li>
<li>
<p><code>VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV</code>: In this mode, only the
first <span class="eq">M</span> coverage samples are associated with the color samples
such that <a href="chap27.html#primsrast-multisampling-coverage-mask">sample index</a>
<span class="eq">i</span> maps to color sample index <span class="eq">i</span>, where <span class="eq">M</span> is the number
of color samples.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>If the <code>VK_NV_coverage_reduction_mode</code> extension is not enabled, there is an
implementation-dependent association of coverage samples to color samples.
The reduced color sample mask is computed such that the bit for each color
sample is 1 if any of the associated bits in the fragment’s coverage is on,
and 0 otherwise.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the set of mixed sample combinations of coverage reduction mode,
rasterization samples and color, depth, stencil attachment sample counts
that are supported by a physical device, call:</p>
</div>
<div id="vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_coverage_reduction_mode</span>
VkResult vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV(
    VkPhysicalDevice                            physicalDevice,
    uint32_t*                                   pCombinationCount,
    VkFramebufferMixedSamplesCombinationNV*     pCombinations);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the set
of combinations.</p>
</li>
<li>
<p><code>pCombinationCount</code> is a pointer to an integer related to the number
of combinations available or queried, as described below.</p>
</li>
<li>
<p><code>pCombinations</code> is either <code>NULL</code> or a pointer to an array of
<a href="#VkFramebufferMixedSamplesCombinationNV">VkFramebufferMixedSamplesCombinationNV</a> values, indicating the
supported combinations of coverage reduction mode, rasterization
samples, and color, depth, stencil attachment sample counts.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pCombinations</code> is <code>NULL</code>, then the number of supported combinations
for the given <code>physicalDevice</code> is returned in <code>pCombinationCount</code>.
Otherwise, <code>pCombinationCount</code> <strong class="purple">must</strong> point to a variable set by the user
to the number of elements in the <code>pCombinations</code> array, and on return
the variable is overwritten with the number of values actually written to
<code>pCombinations</code>.
If the value of <code>pCombinationCount</code> is less than the number of
combinations supported for the given <code>physicalDevice</code>, at most
<code>pCombinationCount</code> values will be written <code>pCombinations</code> and
<code>VK_INCOMPLETE</code> will be returned instead of <code>VK_SUCCESS</code> to indicate
that not all the supported values were returned.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV-physicalDevice-parameter" href="#VUID-vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV-physicalDevice-parameter"></a> <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV-pCombinationCount-parameter" href="#VUID-vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV-pCombinationCount-parameter"></a> <code>pCombinationCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV-pCombinations-parameter" href="#VUID-vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV-pCombinations-parameter"></a> If the value referenced by <code>pCombinationCount</code> is not <code>0</code>, and <code>pCombinations</code> is not <code>NULL</code>, <code>pCombinations</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pCombinationCount</code> <a href="#VkFramebufferMixedSamplesCombinationNV">VkFramebufferMixedSamplesCombinationNV</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkFramebufferMixedSamplesCombinationNV</code> structure is defined as:</p>
</div>
<div id="VkFramebufferMixedSamplesCombinationNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_coverage_reduction_mode</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkFramebufferMixedSamplesCombinationNV {
    VkStructureType              sType;
    <span class="directive">void</span>*                        pNext;
    VkCoverageReductionModeNV    coverageReductionMode;
    VkSampleCountFlagBits        rasterizationSamples;
    VkSampleCountFlags           depthStencilSamples;
    VkSampleCountFlags           colorSamples;
} VkFramebufferMixedSamplesCombinationNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>coverageReductionMode</code> is a <a href="#VkCoverageReductionModeNV">VkCoverageReductionModeNV</a> value
specifying the coverage reduction mode.</p>
</li>
<li>
<p><code>rasterizationSamples</code> specifies the number of rasterization samples
in the supported combination.</p>
</li>
<li>
<p><code>depthStencilSamples</code> specifies the number of samples in the depth
stencil attachment in the supported combination.
A value of 0 indicates the combination does not have a depth stencil
attachment.</p>
</li>
<li>
<p><code>colorSamples</code> specifies the number of color samples in a color
attachment in the supported combination.
A value of 0 indicates the combination does not have a color attachment.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkFramebufferMixedSamplesCombinationNV-sType-sType" href="#VUID-VkFramebufferMixedSamplesCombinationNV-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_FRAMEBUFFER_MIXED_SAMPLES_COMBINATION_NV</code></p>
</li>
<li>
<p><a id="VUID-VkFramebufferMixedSamplesCombinationNV-pNext-pNext" href="#VUID-VkFramebufferMixedSamplesCombinationNV-pNext-pNext"></a> <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fragops-coverage-modulation"><a class="anchor" href="#fragops-coverage-modulation"></a>27.13.1. Coverage Modulation</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>As part of coverage reduction, fragment color values <strong class="purple">can</strong> also be modulated
(multiplied) by a value that is a function of fraction of covered
rasterization samples associated with that color sample.</p>
</div>
<div class="paragraph">
<p>Pipeline state controlling coverage modulation is specified through the
members of the <code>VkPipelineCoverageModulationStateCreateInfoNV</code>
structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineCoverageModulationStateCreateInfoNV</code> structure is defined
as:</p>
</div>
<div id="VkPipelineCoverageModulationStateCreateInfoNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_framebuffer_mixed_samples</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineCoverageModulationStateCreateInfoNV {
    VkStructureType                                   sType;
    <span class="directive">const</span> <span class="directive">void</span>*                                       pNext;
    VkPipelineCoverageModulationStateCreateFlagsNV    flags;
    VkCoverageModulationModeNV                        coverageModulationMode;
    VkBool32                                          coverageModulationTableEnable;
    uint32_t                                          coverageModulationTableCount;
    <span class="directive">const</span> <span class="predefined-type">float</span>*                                      pCoverageModulationTable;
} VkPipelineCoverageModulationStateCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>coverageModulationMode</code> is a <a href="#VkCoverageModulationModeNV">VkCoverageModulationModeNV</a> value
controlling which color components are modulated.</p>
</li>
<li>
<p><code>coverageModulationTableEnable</code> controls whether the modulation
factor is looked up from a table in <code>pCoverageModulationTable</code>.</p>
</li>
<li>
<p><code>coverageModulationTableCount</code> is the number of elements in
<code>pCoverageModulationTable</code>.</p>
</li>
<li>
<p><code>pCoverageModulationTable</code> is a table of modulation factors
containing a value for each number of covered samples.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>coverageModulationTableEnable</code> is <code>VK_FALSE</code>, then for each
color sample the associated bits of the fragment’s coverage are counted and
divided by the number of associated bits to produce a modulation factor
<span class="eq">R</span> in the range <span class="eq">(0,1]</span> (a value of zero would have been killed due
to a color coverage of 0).
Specifically:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">N</span> = value of <code>rasterizationSamples</code></p>
</li>
<li>
<p><span class="eq">M</span> = value of <a href="chap8.html#VkAttachmentDescription">VkAttachmentDescription</a>::<code>samples</code> for any
color attachments</p>
</li>
<li>
<p><span class="eq">R = popcount(associated coverage bits) / (N / M)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>coverageModulationTableEnable</code> is <code>VK_TRUE</code>, the value <span class="eq">R</span>
is computed using a programmable lookup table.
The lookup table has <span class="eq">N / M</span> elements, and the element of the table is
selected by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq">R = <code>pCoverageModulationTable</code>[popcount(associated coverage
bits)-1]</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that the table does not have an entry for <span class="eq">popcount(associated
coverage bits) = 0</span>, because such samples would have been killed.</p>
</div>
<div class="paragraph">
<p>The values of <code>pCoverageModulationTable</code> <strong class="purple">may</strong> be rounded to an
implementation-dependent precision, which is at least as fine as <span class="eq">1 /
N</span>, and clamped to <span class="eq">[0,1]</span>.</p>
</div>
<div class="paragraph">
<p>For each color attachment with a floating point or normalized color format,
each fragment output color value is replicated to <span class="eq">M</span> values which <strong class="purple">can</strong>
each be modulated (multiplied) by that color sample’s associated value of
<span class="eq">R</span>.
Which components are modulated is controlled by
<code>coverageModulationMode</code>.</p>
</div>
<div class="paragraph">
<p>If this structure is not present, it is as if <code>coverageModulationMode</code>
is <code>VK_COVERAGE_MODULATION_MODE_NONE_NV</code>.</p>
</div>
<div class="paragraph">
<p>If the <a href="#fragops-coverage-reduction">coverage reduction mode</a> is
<code>VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV</code>, each color sample is
associated with only a single coverage sample.
In this case, it is as if <code>coverageModulationMode</code> is
<code>VK_COVERAGE_MODULATION_MODE_NONE_NV</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCoverageModulationStateCreateInfoNV-coverageModulationTableEnable-01405" href="#VUID-VkPipelineCoverageModulationStateCreateInfoNV-coverageModulationTableEnable-01405"></a>
If <code>coverageModulationTableEnable</code> is <code>VK_TRUE</code>,
<code>coverageModulationTableCount</code> <strong class="purple">must</strong> be equal to the number of
rasterization samples divided by the number of color samples in the
subpass</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineCoverageModulationStateCreateInfoNV-sType-sType" href="#VUID-VkPipelineCoverageModulationStateCreateInfoNV-sType-sType"></a> <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_COVERAGE_MODULATION_STATE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCoverageModulationStateCreateInfoNV-flags-zerobitmask" href="#VUID-VkPipelineCoverageModulationStateCreateInfoNV-flags-zerobitmask"></a> <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineCoverageModulationStateCreateInfoNV-coverageModulationMode-parameter" href="#VUID-VkPipelineCoverageModulationStateCreateInfoNV-coverageModulationMode-parameter"></a> <code>coverageModulationMode</code> <strong class="purple">must</strong> be a valid <a href="#VkCoverageModulationModeNV">VkCoverageModulationModeNV</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineCoverageModulationStateCreateFlagsNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_framebuffer_mixed_samples</span>
<span class="keyword">typedef</span> VkFlags VkPipelineCoverageModulationStateCreateFlagsNV;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineCoverageModulationStateCreateFlagsNV</code> is a bitmask type for
setting a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="#VkPipelineCoverageModulationStateCreateInfoNV">VkPipelineCoverageModulationStateCreateInfoNV</a>::<code>coverageModulationMode</code>,
specifying which color components are modulated, are:</p>
</div>
<div id="VkCoverageModulationModeNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_framebuffer_mixed_samples</span>
<span class="keyword">typedef</span> <span class="keyword">enum</span> VkCoverageModulationModeNV {
    VK_COVERAGE_MODULATION_MODE_NONE_NV = <span class="integer">0</span>,
    VK_COVERAGE_MODULATION_MODE_RGB_NV = <span class="integer">1</span>,
    VK_COVERAGE_MODULATION_MODE_ALPHA_NV = <span class="integer">2</span>,
    VK_COVERAGE_MODULATION_MODE_RGBA_NV = <span class="integer">3</span>,
} VkCoverageModulationModeNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COVERAGE_MODULATION_MODE_NONE_NV</code> specifies that no components
are multiplied by the modulation factor.</p>
</li>
<li>
<p><code>VK_COVERAGE_MODULATION_MODE_RGB_NV</code> specifies that the red, green,
and blue components are multiplied by the modulation factor.</p>
</li>
<li>
<p><code>VK_COVERAGE_MODULATION_MODE_ALPHA_NV</code> specifies that the alpha
component is multiplied by the modulation factor.</p>
</li>
<li>
<p><code>VK_COVERAGE_MODULATION_MODE_RGBA_NV</code> specifies that all components
are multiplied by the modulation factor.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>
<div id="footer">
<div id="footer-text">
Version 1.0.146<br>
Last updated 2020-07-03 03:58:33 -0700
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>


</body>
</html>