<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="The Khronos® Vulkan  Working Group">
<title>Vulkan® 1.3.273 - A Specification (with all ratified extensions)</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="style2.css" type="text/css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<link rel="stylesheet" href="style3.css" type="text/css">
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div style="text-align: center;">
    <span class="image"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgdmlld0JveD0iMCAwIDExNTAgMzI2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTsiPgogICAgPGcgaWQ9IkFydGJvYXJkMSIgdHJhbnNmb3JtPSJtYXRyaXgoMC45NTUxNSwwLDAsMC44ODgyODMsLTQwLjExNjMsLTMwLjIwMTYpIj4KICAgICAgICA8cmVjdCB4PSI0MiIgeT0iMzQiIHdpZHRoPSIxMjA0IiBoZWlnaHQ9IjM2NyIgc3R5bGU9ImZpbGw6bm9uZTsiLz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLjA0Njk2LDAsMCwxLjEyNTc3LC00Ni45OTEzLC01MC40MzI1KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik03MjQuMSwzODUuMDZMNjgzLjUzLDM4NS4wNkM2ODMuNTMsMzg1LjA2IDY4My41MywyODYuMDkgNjgzLjUzLDI1NS40QzY5Ni40OSwyNjIuNjIgNzEzLjYyLDI3NS45NCA3MjQuMSwyODguNzJMNzI0LjEsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxnPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM4MS43NSwzODUuMDZMMzMxLjE3LDM4NS4wNkwyNjUuMTYsMTgxLjAzTDMxMS4xNywxODEuMDNMMzU2LjYxLDMyNC40OEwzNTcuMTgsMzI0LjQ4TDQwMy4xOCwxODEuMDNMNDQ5LjQ3LDE4MS4wM0wzODEuNzUsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTg1LjUxLDM4NS4wNkw1NDYuOTMsMzg1LjA2TDU0Ni45MywzNjQuNDlMNTQ2LjA4LDM2NC40OUM1NDAuOTMsMzczLjA3IDUzNC4yNywzNzkuMjYgNTI2LjA3LDM4My4wN0M1MTcuODgsMzg2Ljg4IDUwOS41LDM4OC43OCA1MDAuOTIsMzg4Ljc4QzQ5MC4wNiwzODguNzggNDgxLjE2LDM4Ny4zNSA0NzQuMiwzODQuNUM0NjcuMjUsMzgxLjY1IDQ2MS43NywzNzcuNTkgNDU3Ljc3LDM3Mi4zNkM0NTMuNzYsMzY3LjEyIDQ1MC45NSwzNjAuNzQgNDQ5LjMzLDM1My4yMUM0NDcuNzIsMzQ1LjY5IDQ0Ni45MSwzMzcuMzUgNDQ2LjkxLDMyOC4yMUw0NDYuOTEsMjM3LjMzTDQ4Ny40OSwyMzcuMzNMNDg3LjQ5LDMyMC43N0M0ODcuNDksMzMyLjk2IDQ4OS40LDM0Mi4wNiA0OTMuMjEsMzQ4LjA2QzQ5Ny4wMiwzNTQuMDcgNTAzLjc4LDM1Ny4wNiA1MTMuNSwzNTcuMDZDNTI0LjU1LDM1Ny4wNiA1MzIuNTUsMzUzLjc4IDUzNy41LDM0Ny4yQzU0Mi40NiwzNDAuNjIgNTQ0LjkzLDMyOS44MSA1NDQuOTMsMzE0Ljc2TDU0NC45MywyMzcuMzJMNTg1LjUyLDIzNy4zMkw1ODUuNTIsMzg1LjA2TDU4NS41MSwzODUuMDZaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNNzMwLjg0LDI5Ni4xOUw3MzAuNzQsMjkwLjQ3TDc4MS44OSwyMzcuMzNMODI5LjkxLDIzNy4zM0w3NzQuMTgsMjkxLjYyTDgzNi4xOSwzODUuMDZMNzg3LjA0LDM4NS4wNkw3MzAuODQsMjk2LjE5WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04NDMuNjIsMjgyLjc2Qzg0NC4xOSwyNzMuMjQgODQ2LjU4LDI2NS4zMyA4NTAuNzcsMjU5LjA0Qzg1NC45NiwyNTIuNzUgODYwLjI5LDI0Ny43MSA4NjYuNzcsMjQzLjlDODczLjI1LDI0MC4wOSA4ODAuNTQsMjM3LjM3IDg4OC42NCwyMzUuNzZDODk2LjczLDIzNC4xNCA5MDQuODgsMjMzLjMzIDkxMy4wNywyMzMuMzNDOTIwLjUsMjMzLjMzIDkyOC4wMiwyMzMuODUgOTM1LjY0LDIzNC45Qzk0My4yNywyMzUuOTUgOTUwLjIxLDIzOCA5NTYuNSwyNDEuMDVDOTYyLjc4LDI0NC4xIDk2Ny45MywyNDguMzQgOTcxLjk0LDI1My43NkM5NzUuOTQsMjU5LjE5IDk3Ny45NCwyNjYuMzggOTc3Ljk0LDI3NS4zNEw5NzcuOTQsMzUyLjIxQzk3Ny45NCwzNTguODggOTc4LjMyLDM2NS4yNyA5NzkuMDgsMzcxLjM2Qzk3OS44NCwzNzcuNDYgOTgxLjE4LDM4Mi4wMyA5ODMuMDksMzg1LjA4TDk0MS45NCwzODUuMDhDOTQxLjE4LDM4Mi44IDk0MC41NiwzODAuNDYgOTQwLjA4LDM3OC4wOEM5MzkuNjEsMzc1LjcgOTM5LjI3LDM3My4yOCA5MzkuMDgsMzcwLjc5QzkzMi42LDM3Ny40NyA5MjQuOTcsMzgyLjEzIDkxNi4yMSwzODQuOEM5MDcuNDUsMzg3LjQ2IDg5OC40OSwzODguOCA4ODkuMzUsMzg4LjhDODgyLjMsMzg4LjggODc1LjcyLDM4Ny45NCA4NjkuNjQsMzg2LjIzQzg2My41NCwzODQuNTIgODU4LjIsMzgxLjg1IDg1My42NCwzNzguMjNDODQ5LjA2LDM3NC42MSA4NDUuNDgsMzcwLjA0IDg0Mi45MiwzNjQuNTFDODQwLjM1LDM1OC45OSA4MzkuMDYsMzUyLjQyIDgzOS4wNiwzNDQuOEM4MzkuMDYsMzM2LjQyIDg0MC41NCwzMjkuNTEgODQzLjQ5LDMyNC4wOEM4NDYuNDUsMzE4LjY1IDg1MC4yNSwzMTQuMzIgODU0LjkzLDMxMS4wOEM4NTkuNiwzMDcuODQgODY0LjkzLDMwNS40MSA4NzAuOTMsMzAzLjc5Qzg3Ni45MywzMDIuMTcgODgyLjk4LDMwMC44OCA4ODkuMDcsMjk5LjkzQzg5NS4xNywyOTguOTkgOTAxLjE3LDI5OC4yMiA5MDcuMDgsMjk3LjY1QzkxMi45OSwyOTcuMDggOTE4LjIyLDI5Ni4yMiA5MjIuNzksMjk1LjA4QzkyNy4zNywyOTMuOTMgOTMwLjk4LDI5Mi4yNyA5MzMuNjUsMjkwLjA3QzkzNi4zMiwyODcuODggOTM3LjU2LDI4NC42OSA5MzcuMzcsMjgwLjVDOTM3LjM3LDI3Ni4xMiA5MzYuNjUsMjcyLjY0IDkzNS4yMiwyNzAuMDdDOTMzLjc5LDI2Ny41IDkzMS44OSwyNjUuNSA5MjkuNTEsMjY0LjA3QzkyNy4xMywyNjIuNjQgOTI0LjM3LDI2MS42OSA5MjEuMjIsMjYxLjIxQzkxOC4wNywyNjAuNzMgOTE0LjcsMjYwLjQ5IDkxMS4wOCwyNjAuNDlDOTAzLjA4LDI2MC40OSA4OTYuNzksMjYyLjIgODkyLjIyLDI2NS42NEM4ODcuNjUsMjY5LjA3IDg4NC45OCwyNzQuNzggODg0LjIyLDI4Mi43OUw4NDMuNjIsMjgyLjc5TDg0My42MiwyODIuNzZaTTkzNy4zNSwzMTIuNzdDOTM1LjYzLDMxNC4zIDkzMy40OSwzMTUuNDggOTMwLjkyLDMxNi4zNEM5MjguMzUsMzE3LjIxIDkyNS41OSwzMTcuOTIgOTIyLjYzLDMxOC40OUM5MTkuNjgsMzE5LjA2IDkxNi41OCwzMTkuNTQgOTEzLjM1LDMxOS45MkM5MTAuMTEsMzIwLjMgOTA2Ljg3LDMyMC43NyA5MDMuNjMsMzIxLjM1QzkwMC41OCwzMjEuOTIgODk3LjU4LDMyMi42OSA4OTQuNjMsMzIzLjYzQzg5MS42OCwzMjQuNTkgODg5LjEsMzI1Ljg3IDg4Ni45MSwzMjcuNDlDODg0LjcyLDMyOS4xMSA4ODIuOTYsMzMxLjE2IDg4MS42MiwzMzMuNjNDODgwLjI5LDMzNi4xMSA4NzkuNjIsMzM5LjI1IDg3OS42MiwzNDMuMDZDODc5LjYyLDM0Ni42OCA4ODAuMjksMzQ5LjczIDg4MS42MiwzNTIuMkM4ODIuOTYsMzU0LjY4IDg4NC43NywzNTYuNjMgODg3LjA1LDM1OC4wNkM4ODkuMzQsMzU5LjQ5IDg5MiwzNjAuNDkgODk1LjA1LDM2MS4wNkM4OTguMSwzNjEuNjMgOTAxLjI0LDM2MS45MSA5MDQuNDgsMzYxLjkxQzkxMi40OCwzNjEuOTEgOTE4LjY4LDM2MC41OCA5MjMuMDYsMzU3LjkyQzkyNy40NCwzNTUuMjUgOTMwLjY5LDM1Mi4wNiA5MzIuNzcsMzQ4LjM0QzkzNC44NiwzNDQuNjMgOTM2LjE2LDM0MC44NyA5MzYuNjIsMzM3LjA2QzkzNy4xLDMzMy4yNSA5MzcuMzMsMzMwLjIgOTM3LjM0LDMyNy45Mkw5MzcuMzQsMzEyLjc3TDkzNy4zNSwzMTIuNzdaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTEwMDQuMjEsMjM3LjMzTDEwNDIuOCwyMzcuMzNMMTA0Mi44LDI1Ny45TDEwNDMuNjUsMjU3LjlDMTA0OC43OSwyNDkuMzMgMTA1NS40NiwyNDMuMDkgMTA2My42NSwyMzkuMTlDMTA3MS44NCwyMzUuMjggMTA4MC4yMywyMzMuMzMgMTA4OC43OSwyMzMuMzNDMTA5OS42NiwyMzMuMzMgMTEwOC41NiwyMzQuODEgMTExNS41MiwyMzcuNzZDMTEyMi40NywyNDAuNzIgMTEyNy45NCwyNDQuODEgMTEzMS45NSwyNTAuMDVDMTEzNS45NSwyNTUuMjkgMTEzOC43NiwyNjEuNjcgMTE0MC4zOCwyNjkuMTlDMTE0MiwyNzYuNzIgMTE0Mi44MSwyODUuMDUgMTE0Mi44MSwyOTQuMkwxMTQyLjgxLDM4NS4wN0wxMTAyLjI0LDM4NS4wN0wxMTAyLjI0LDMwMS42M0MxMTAyLjI0LDI4OS40MyAxMTAwLjMzLDI4MC4zNCAxMDk2LjUzLDI3NC4zNEMxMDkyLjcxLDI2OC4zNCAxMDg1Ljk1LDI2NS4zNCAxMDc2LjIzLDI2NS4zNEMxMDY1LjE4LDI2NS4zNCAxMDU3LjE5LDI2OC42MyAxMDUyLjIzLDI3NS4yQzEwNDcuMjcsMjgxLjc2IDEwNDQuOCwyOTIuNTggMTA0NC44LDMwNy42M0wxMDQ0LjgsMzg1LjA3TDEwMDQuMjIsMzg1LjA3TDEwMDQuMjIsMjM3LjMzTDEwMDQuMjEsMjM3LjMzWiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik02MTIuMzcsMjExLjg0TDYxMi4zNywzODUuMDdMNjUyLjk1LDM4NS4wN0w2NTIuOTUsMjM0LjIxQzYzOS45MywyMjYuMjMgNjI2LjM2LDIxOC43NCA2MTIuMzcsMjExLjg0WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOTguNDMsMjE5LjIxQzIyMS45NSwxNTAuMzIgMzYyLjU4LDEyNS4wNSA1MTIuNTgsMTYyLjc4QzYwMi41NSwxODUuNCA2NzYuMDcsMjI5LjI4IDcyNC4wOSwyNzIuNjdDNzAyLjMsMjE1LjEyIDU5Ni42NSwxMzMuMDggNDUxLjE4LDEwNC45NkMyODYuNyw3My4xNiAxMjQuNDcsMTAxLjExIDEwNC4zOSwxNzQuMUM4OS44OSwyMjYuODMgMTUzLjU3LDI4OC42IDI1Mi4wNSwzMzAuODRDMjA3LjgxLDI5NS4wMiAxODYuMjksMjU0Ljc4IDE5OC40MywyMTkuMjFaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTcyNC4xNiwyNDcuNjJMNzI0LjE2LDE4MS4wM0w2ODMuNTcsMTgxLjAzTDY4My41NywyMDEuMjVDNzAwLjg4LDIxNi43MSA3MTQuNjEsMjMyLjQ1IDcyNC4xNiwyNDcuNjJaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNDY5NiwwLDAsMS4xMjU3NywtNDYuOTkxMywtNTAuNDMyNSkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTIxNC45OCwzNjMuNDNDMTIxNC45OCwzNzUuNjkgMTIwNS4zNSwzODUuMzIgMTE5Mi44MywzODUuMzJDMTE4MC40MywzODUuMzIgMTE3MC41NCwzNzUuNjkgMTE3MC41NCwzNjMuNDNDMTE3MC41NCwzNTEuNDMgMTE4MC40MywzNDEuOCAxMTkyLjgzLDM0MS44QzEyMDUuMzUsMzQxLjggMTIxNC45OCwzNTEuNDMgMTIxNC45OCwzNjMuNDNaTTExNzYuMDgsMzYzLjQzQzExNzYuMDgsMzczLjA2IDExODMuMiwzODAuNyAxMTkyLjk2LDM4MC43QzEyMDIuNDUsMzgwLjcgMTIwOS40NCwzNzMuMDUgMTIwOS40NCwzNjMuNTZDMTIwOS40NCwzNTMuOTMgMTIwMi40NSwzNDYuMTUgMTE5Mi44MiwzNDYuMTVDMTE4My4yLDM0Ni4xNiAxMTc2LjA4LDM1My45NCAxMTc2LjA4LDM2My40M1pNMTE4OS4zOSwzNzQuNzdMMTE4NC4zOCwzNzQuNzdMMTE4NC4zOCwzNTMuMTRDMTE4Ni4zNiwzNTIuNzQgMTE4OS4xMywzNTIuNDggMTE5Mi42OSwzNTIuNDhDMTE5Ni43OCwzNTIuNDggMTE5OC42MiwzNTMuMTQgMTIwMC4yMSwzNTQuMDZDMTIwMS40LDM1NC45OCAxMjAyLjMyLDM1Ni43IDEyMDIuMzIsMzU4LjgxQzEyMDIuMzIsMzYxLjE4IDEyMDAuNDcsMzYzLjAzIDExOTcuODQsMzYzLjgyTDExOTcuODQsMzY0LjA4QzExOTkuOTUsMzY0Ljg3IDEyMDEuMTQsMzY2LjQ1IDEyMDEuOCwzNjkuMzVDMTIwMi40NiwzNzIuNjUgMTIwMi44NSwzNzMuOTcgMTIwMy4zOCwzNzQuNzZMMTE5Ny45NywzNzQuNzZDMTE5Ny4zMSwzNzMuOTcgMTE5Ni45MiwzNzEuOTkgMTE5Ni4yNiwzNjkuNDlDMTE5NS44NiwzNjcuMTIgMTE5NC41NSwzNjYuMDYgMTE5MS43OCwzNjYuMDZMMTE4OS40MSwzNjYuMDZMMTE4OS40MSwzNzQuNzdMMTE4OS4zOSwzNzQuNzdaTTExODkuNTMsMzYyLjUxTDExOTEuOSwzNjIuNTFDMTE5NC42NywzNjIuNTEgMTE5Ni45MSwzNjEuNTkgMTE5Ni45MSwzNTkuMzRDMTE5Ni45MSwzNTcuMzYgMTE5NS40NiwzNTYuMDQgMTE5Mi4yOSwzNTYuMDRDMTE5MC45NywzNTYuMDQgMTE5MC4wNSwzNTYuMTcgMTE4OS41MiwzNTYuM0wxMTg5LjUyLDM2Mi41MUwxMTg5LjUzLDM2Mi41MVoiIHN0eWxlPSJmaWxsOnJnYigxNzIsMjIsNDQpO2ZpbGwtcnVsZTpub256ZXJvOyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg==" alt="Vulkan Logo" width="50%">
    </span>
</div>
<div id="header">
<h1>Vulkan<sup>®</sup> 1.3.273 - A Specification (with all ratified extensions)</h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan  Working Group</span><br>
<span id="revnumber">version 1.3.273,</span>
<span id="revdate">2023-12-08 13:54:48Z</span>
<br><span id="revremark">from git branch: github-main commit: f8d76125ca22ec65dfcaedc7177e204f11ad7c7b</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="chap1.html">1. Preamble</a></li>
<li><a href="chap2.html">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">2.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">3.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">3.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">3.3. Object Model</a></li>
<li><a href="chap3.html#fundamentals-abi">3.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">3.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">3.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-validusage">3.7. Valid Usage</a></li>
<li><a href="chap3.html#fundamentals-returncodes">3.8. <code>VkResult</code> Return Codes</a></li>
<li><a href="chap3.html#fundamentals-numerics">3.9. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">3.10. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-common-objects">3.11. Common Object Types</a></li>
<li><a href="chap3.html#fundamentals-api-name-aliases">3.12. API Name Aliases</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">4.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">4.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">5.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">5.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">5.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">6.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">6.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">6.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">6.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">6.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">6.6. Queue Forward Progress</a></li>
<li><a href="chap6.html#commandbuffers-secondary">6.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap6.html#commandbuffers-nested">6.8. Nested Command Buffers</a></li>
<li><a href="chap6.html#commandbuffers-devicemask">6.9. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">7.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">7.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">7.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">7.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">7.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">7.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">7.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">7.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">7.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap7.html#synchronization-device-group">7.10. Synchronization and Multiple Physical Devices</a></li>
<li><a href="chap7.html#calibrated-timestamps">7.11. Calibrated Timestamps</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#_render_pass_objects">8.1. Render Pass Objects</a></li>
<li><a href="chap8.html#renderpass-creation">8.2. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">8.3. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">8.4. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-load-operations">8.5. Render Pass Load Operations</a></li>
<li><a href="chap8.html#renderpass-store-operations">8.6. Render Pass Store Operations</a></li>
<li><a href="chap8.html#renderpass-resolve-operations">8.7. Render Pass Multisample Resolve Operations</a></li>
<li><a href="chap8.html#renderpass-commands">8.8. Render Pass Commands</a></li>
<li><a href="chap8.html#_common_render_pass_data_races_informative">8.9. Common Render Pass Data Races (Informative)</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap9.html#shaders-objects">9.1. Shader Objects</a></li>
<li><a href="chap9.html#shader-modules">9.2. Shader Modules</a></li>
<li><a href="chap9.html#shaders-binding">9.3. Binding Shaders</a></li>
<li><a href="chap9.html#shaders-execution">9.4. Shader Execution</a></li>
<li><a href="chap9.html#shaders-execution-memory-ordering">9.5. Shader Memory Access Ordering</a></li>
<li><a href="chap9.html#shaders-inputs">9.6. Shader Inputs and Outputs</a></li>
<li><a href="chap9.html#shaders-vertex">9.7. Vertex Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-control">9.8. Tessellation Control Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-evaluation">9.9. Tessellation Evaluation Shaders</a></li>
<li><a href="chap9.html#shaders-geometry">9.10. Geometry Shaders</a></li>
<li><a href="chap9.html#shaders-fragment">9.11. Fragment Shaders</a></li>
<li><a href="chap9.html#shaders-compute">9.12. Compute Shaders</a></li>
<li><a href="chap9.html#shaders-ray-generation">9.13. Ray Generation Shaders</a></li>
<li><a href="chap9.html#shaders-intersection">9.14. Intersection Shaders</a></li>
<li><a href="chap9.html#shaders-any-hit">9.15. Any-Hit Shaders</a></li>
<li><a href="chap9.html#shaders-closest-hit">9.16. Closest Hit Shaders</a></li>
<li><a href="chap9.html#shaders-miss">9.17. Miss Shaders</a></li>
<li><a href="chap9.html#shaders-callable">9.18. Callable Shaders</a></li>
<li><a href="chap9.html#shaders-interpolation-decorations">9.19. Interpolation Decorations</a></li>
<li><a href="chap9.html#shaders-staticuse">9.20. Static Use</a></li>
<li><a href="chap9.html#shaders-scope">9.21. Scope</a></li>
<li><a href="chap9.html#shaders-group-operations">9.22. Group Operations</a></li>
<li><a href="chap9.html#shaders-quad-operations">9.23. Quad Group Operations</a></li>
<li><a href="chap9.html#shaders-derivative-operations">9.24. Derivative Operations</a></li>
<li><a href="chap9.html#shaders-helper-invocations">9.25. Helper Invocations</a></li>
<li><a href="chap9.html#_cooperative_matrices">9.26. Cooperative Matrices</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-multiple">10.1. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-compute">10.2. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">10.3. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-ray-tracing">10.4. Ray Tracing Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">10.5. Pipeline Destruction</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">10.6. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">10.7. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">10.8. Specialization Constants</a></li>
<li><a href="chap10.html#pipelines-library">10.9. Pipeline Libraries</a></li>
<li><a href="chap10.html#pipelines-binding">10.10. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">10.11. Dynamic State</a></li>
<li><a href="chap10.html#pipelines-shader-information">10.12. Pipeline Properties and Shader Information</a></li>
<li><a href="chap10.html#pipelines-creation-feedback">10.13. Pipeline Creation Feedback</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">11.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">11.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">12.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">12.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">12.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">12.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">12.5. Image Views</a></li>
<li><a href="chap12.html#resources-acceleration-structures">12.6. Acceleration Structures</a></li>
<li><a href="chap12.html#resources-micromaps">12.7. Micromaps</a></li>
<li><a href="chap12.html#resources-association">12.8. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">12.9. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">12.10. Memory Aliasing</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap13.html#samplers-YCbCr-conversion">13.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> Conversion</a></li>
</ul>
</li>
<li class="current"><a href="chap14.html">14. Resource Descriptors</a>
<ul class="sectlevel2">
<li class="current"><a href="chap14.html#descriptorsets-types">14.1. Descriptor Types</a></li>
<li class="current"><a href="chap14.html#descriptorsets-sets">14.2. Descriptor Sets</a></li>
<li class="current"><a href="chap14.html#descriptorsets-physical-storage-buffer">14.3. Physical Storage Buffer Access</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#interfaces-iointerfaces">15.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap15.html#interfaces-vertexinput">15.2. Vertex Input Interface</a></li>
<li><a href="chap15.html#interfaces-fragmentoutput">15.3. Fragment Output Interface</a></li>
<li><a href="chap15.html#interfaces-fragmenttileimage">15.4. Fragment Tile Image Interface</a></li>
<li><a href="chap15.html#interfaces-inputattachment">15.5. Fragment Input Attachment Interface</a></li>
<li><a href="chap15.html#interfaces-raypipeline">15.6. Ray Tracing Pipeline Interface</a></li>
<li><a href="chap15.html#interfaces-resources">15.7. Shader Resource Interface</a></li>
<li><a href="chap15.html#interfaces-builtin-variables">15.8. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">16.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">16.2. Conversion Formulas</a></li>
<li><a href="chap16.html#_texel_input_operations">16.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">16.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">16.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">16.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">16.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">16.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-instructions">16.9. Image Operation Steps</a></li>
<li><a href="chap16.html#textures-queries">16.10. Image Query Instructions</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Queries</a>
<ul class="sectlevel2">
<li><a href="chap17.html#queries-pools">17.1. Query Pools</a></li>
<li><a href="chap17.html#queries-operation">17.2. Query Operation</a></li>
<li><a href="chap17.html#queries-occlusion">17.3. Occlusion Queries</a></li>
<li><a href="chap17.html#queries-pipestats">17.4. Pipeline Statistics Queries</a></li>
<li><a href="chap17.html#queries-timestamps">17.5. Timestamp Queries</a></li>
<li><a href="chap17.html#queries-performance">17.6. Performance Queries</a></li>
<li><a href="chap17.html#queries-result-status-only">17.7. Result Status Queries</a></li>
<li><a href="chap17.html#queries-video-encode-feedback">17.8. Video Encode Feedback Queries</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap18.html#clears-outside">18.1. Clearing Images Outside a Render Pass Instance</a></li>
<li><a href="chap18.html#clears-inside">18.2. Clearing Images Inside a Render Pass Instance</a></li>
<li><a href="chap18.html#clears-values">18.3. Clear Values</a></li>
<li><a href="chap18.html#clears-filling-buffers">18.4. Filling Buffers</a></li>
<li><a href="chap18.html#clears-updating-buffers">18.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#copies-buffers">19.1. Copying Data Between Buffers</a></li>
<li><a href="chap19.html#copies-images">19.2. Copying Data Between Images</a></li>
<li><a href="chap19.html#copies-buffers-images">19.3. Copying Data Between Buffers and Images</a></li>
<li><a href="chap19.html#copies-imagescaling">19.4. Image Copies With Scaling</a></li>
<li><a href="chap19.html#copies-resolve">19.5. Resolving Multisample Images</a></li>
</ul>
</li>
<li><a href="chap20.html">20. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#drawing-primitive-topologies">20.1. Primitive Topologies</a></li>
<li><a href="chap20.html#drawing-primitive-order">20.2. Primitive Order</a></li>
<li><a href="chap20.html#drawing-primitive-shading">20.3. Programmable Primitive Shading</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap21.html#fxvertex-attrib">21.1. Vertex Attributes</a></li>
<li><a href="chap21.html#fxvertex-input">21.2. Vertex Input Description</a></li>
<li><a href="chap21.html#fxvertex-attribute_divisor">21.3. Vertex Attribute Divisor in Instanced Rendering</a></li>
<li><a href="chap21.html#fxvertex-input-address-calculation">21.4. Vertex Input Address Calculation</a></li>
</ul>
</li>
<li><a href="chap22.html">22. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap22.html#_tessellator">22.1. Tessellator</a></li>
<li><a href="chap22.html#_tessellator_patch_discard">22.2. Tessellator Patch Discard</a></li>
<li><a href="chap22.html#tessellation-tessellator-spacing">22.3. Tessellator Spacing</a></li>
<li><a href="chap22.html#tessellation-primitive-order">22.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap22.html#tessellation-vertex-winding-order">22.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap22.html#tessellation-triangle-tessellation">22.6. Triangle Tessellation</a></li>
<li><a href="chap22.html#tessellation-quad-tessellation">22.7. Quad Tessellation</a></li>
<li><a href="chap22.html#tessellation-isoline-tessellation">22.8. Isoline Tessellation</a></li>
<li><a href="chap22.html#tessellation-point-mode">22.9. Tessellation Point Mode</a></li>
<li><a href="chap22.html#_tessellation_pipeline_state">22.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap23.html">23. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap23.html#geometry-input">23.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap23.html#geometry-output">23.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap23.html#geometry-invocations">23.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap23.html#geometry-ordering">23.4. Geometry Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap24.html">24. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap24.html#vertexpostproc-flatshading">24.1. Flat Shading</a></li>
<li><a href="chap24.html#vertexpostproc-clipping">24.2. Primitive Clipping</a></li>
<li><a href="chap24.html#vertexpostproc-clipping-shader-outputs">24.3. Clipping Shader Outputs</a></li>
<li><a href="chap24.html#vertexpostproc-coord-transform">24.4. Coordinate Transformations</a></li>
<li><a href="chap24.html#vertexpostproc-viewport">24.5. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap25.html">25. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap25.html#primsrast-discard">25.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap25.html#primsrast-order">25.2. Rasterization Order</a></li>
<li><a href="chap25.html#primsrast-multisampling">25.3. Multisampling</a></li>
<li><a href="chap25.html#primsrast-fragment-shading-rate">25.4. Fragment Shading Rates</a></li>
<li><a href="chap25.html#primsrast-sampleshading">25.5. Sample Shading</a></li>
<li><a href="chap25.html#primsrast-barycentric">25.6. Barycentric Interpolation</a></li>
<li><a href="chap25.html#primsrast-points">25.7. Points</a></li>
<li><a href="chap25.html#primsrast-lines">25.8. Line Segments</a></li>
<li><a href="chap25.html#primsrast-polygons">25.9. Polygons</a></li>
</ul>
</li>
<li><a href="chap26.html">26. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap26.html#fragops-discard-rectangles">26.1. Discard Rectangles Test</a></li>
<li><a href="chap26.html#fragops-scissor">26.2. Scissor Test</a></li>
<li><a href="chap26.html#fragops-samplemask">26.3. Sample Mask Test</a></li>
<li><a href="chap26.html#fragops-shader">26.4. Fragment Shading</a></li>
<li><a href="chap26.html#fragops-covg">26.5. Multisample Coverage</a></li>
<li><a href="chap26.html#fragops-ds-state">26.6. Depth and Stencil Operations</a></li>
<li><a href="chap26.html#fragops-dbt">26.7. Depth Bounds Test</a></li>
<li><a href="chap26.html#fragops-stencil">26.8. Stencil Test</a></li>
<li><a href="chap26.html#fragops-depth">26.9. Depth Test</a></li>
<li><a href="chap26.html#fragops-samplecount">26.10. Sample Counting</a></li>
<li><a href="chap26.html#fragops-coverage-reduction">26.11. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap27.html">27. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap27.html#framebuffer-blending">27.1. Blending</a></li>
<li><a href="chap27.html#framebuffer-logicop">27.2. Logical Operations</a></li>
<li><a href="chap27.html#framebuffer-color-write-mask">27.3. Color Write Mask</a></li>
</ul>
</li>
<li><a href="chap28.html">28. Dispatching Commands</a></li>
<li><a href="chap29.html">29. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap29.html#sparsememory-sparseresourcefeatures">29.1. Sparse Resource Features</a></li>
<li><a href="chap29.html#sparsememory-fully-resident">29.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap29.html#sparsememory-partially-resident-buffers">29.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap29.html#sparsememory-partially-resident-images">29.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap29.html#sparsememory-sparse-memory-aliasing">29.5. Sparse Memory Aliasing</a></li>
<li><a href="chap29.html#_sparse_resource_implementation_guidelines_informative">29.6. Sparse Resource Implementation Guidelines (Informative)</a></li>
<li><a href="chap29.html#sparsememory-resourceapi">29.7. Sparse Resource API</a></li>
</ul>
</li>
<li><a href="chap30.html">30. Window System Integration (WSI)</a>
<ul class="sectlevel2">
<li><a href="chap30.html#_wsi_platform">30.1. WSI Platform</a></li>
<li><a href="chap30.html#_wsi_surface">30.2. WSI Surface</a></li>
<li><a href="chap30.html#display">30.3. Presenting Directly to Display Devices</a></li>
<li><a href="chap30.html#_querying_for_wsi_support">30.4. Querying for WSI Support</a></li>
<li><a href="chap30.html#_surface_queries">30.5. Surface Queries</a></li>
<li><a href="chap30.html#_device_group_queries">30.6. Device Group Queries</a></li>
<li><a href="chap30.html#present-wait">30.7. Present Wait</a></li>
<li><a href="chap30.html#_wsi_swapchain">30.8. WSI Swapchain</a></li>
</ul>
</li>
<li><a href="chap31.html">31. Deferred Host Operations</a>
<ul class="sectlevel2">
<li><a href="chap31.html#deferred-host-operations-requesting">31.1. Requesting Deferral</a></li>
<li><a href="chap31.html#_deferred_host_operations_api">31.2. Deferred Host Operations API</a></li>
</ul>
</li>
<li><a href="chap32.html">32. Private Data</a></li>
<li><a href="chap33.html">33. Acceleration Structures</a>
<ul class="sectlevel2">
<li><a href="chap33.html#acceleration-structure-def">33.1. Acceleration Structures</a></li>
<li><a href="chap33.html#host-acceleration-structure">33.2. Host Acceleration Structure Operations</a></li>
</ul>
</li>
<li><a href="chap34.html">34. Micromap</a>
<ul class="sectlevel2">
<li><a href="chap34.html#micromap-def">34.1. Micromaps</a></li>
<li><a href="chap34.html#host-micromap">34.2. Host Micromap Operations</a></li>
</ul>
</li>
<li><a href="chap35.html">35. Ray Traversal</a>
<ul class="sectlevel2">
<li><a href="chap35.html#ray-intersection-candidate-determination">35.1. Ray Intersection Candidate Determination</a></li>
<li><a href="chap35.html#ray-intersection-culling">35.2. Ray Intersection Culling</a></li>
<li><a href="chap35.html#ray-intersection-confirmation">35.3. Ray Intersection Confirmation</a></li>
<li><a href="chap35.html#ray-closest-hit-determination">35.4. Ray Closest Hit Determination</a></li>
<li><a href="chap35.html#ray-result-determination">35.5. Ray Result Determination</a></li>
</ul>
</li>
<li><a href="chap36.html">36. Ray Tracing</a>
<ul class="sectlevel2">
<li><a href="chap36.html#ray-tracing-shader-call">36.1. Shader Call Instructions</a></li>
<li><a href="chap36.html#ray-tracing-commands">36.2. Ray Tracing Commands</a></li>
<li><a href="chap36.html#shader-binding-table">36.3. Shader Binding Table</a></li>
<li><a href="chap36.html#ray-tracing-pipeline-stack">36.4. Ray Tracing Pipeline Stack</a></li>
<li><a href="chap36.html#ray-tracing-capture-replay">36.5. Ray Tracing Capture Replay</a></li>
</ul>
</li>
<li><a href="chap37.html">37. Video Coding</a>
<ul class="sectlevel2">
<li><a href="chap37.html#video-picture-resources">37.1. Video Picture Resources</a></li>
<li><a href="chap37.html#dpb">37.2. Decoded Picture Buffer</a></li>
<li><a href="chap37.html#video-profiles">37.3. Video Profiles</a></li>
<li><a href="chap37.html#video-capabilities">37.4. Video Capabilities</a></li>
<li><a href="chap37.html#video-session">37.5. Video Sessions</a></li>
<li><a href="chap37.html#video-profile-compatibility">37.6. Video Profile Compatibility</a></li>
<li><a href="chap37.html#video-session-parameters">37.7. Video Session Parameters</a></li>
<li><a href="chap37.html#video-coding-scope">37.8. Video Coding Scope</a></li>
<li><a href="chap37.html#video-coding-control">37.9. Video Coding Control</a></li>
<li><a href="chap37.html#video-decode-operations">37.10. Video Decode Operations</a></li>
<li><a href="chap37.html#decode-h264">37.11. H.264 Decode Operations</a></li>
<li><a href="chap37.html#decode-h265">37.12. H.265 Decode Operations</a></li>
<li><a href="chap37.html#video-encode-operations">37.13. Video Encode Operations</a></li>
</ul>
</li>
<li><a href="chap38.html">38. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap38.html#extendingvulkan-instanceanddevicefunctionality">38.1. Instance and Device Functionality</a></li>
<li><a href="chap38.html#extendingvulkan-coreversions">38.2. Core Versions</a></li>
<li><a href="chap38.html#extendingvulkan-layers">38.3. Layers</a></li>
<li><a href="chap38.html#extendingvulkan-extensions">38.4. Extensions</a></li>
<li><a href="chap38.html#extendingvulkan-extensions-extensiondependencies">38.5. Extension Dependencies</a></li>
<li><a href="chap38.html#_compatibility_guarantees_informative">38.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap39.html">39. Features</a>
<ul class="sectlevel2">
<li><a href="chap39.html#features-requirements">39.1. Feature Requirements</a></li>
<li><a href="chap39.html#profile-features">39.2. Profile Features</a></li>
</ul>
</li>
<li><a href="chap40.html">40. Limits</a>
<ul class="sectlevel2">
<li><a href="chap40.html#limits-minmax">40.1. Limit Requirements</a></li>
<li><a href="chap40.html#profile-limits">40.2. Profile Limits</a></li>
</ul>
</li>
<li><a href="chap41.html">41. Formats</a>
<ul class="sectlevel2">
<li><a href="chap41.html#formats-definition">41.1. Format Definition</a></li>
<li><a href="chap41.html#formats-properties">41.2. Format Properties</a></li>
<li><a href="chap41.html#features-required-format-support">41.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap42.html">42. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap42.html#capabilities-image">42.1. Additional Image Capabilities</a></li>
<li><a href="chap42.html#capabilities-buffer">42.2. Additional Buffer Capabilities</a></li>
<li><a href="chap42.html#capabilities-semaphore">42.3. Optional Semaphore Capabilities</a></li>
<li><a href="chap42.html#capabilities-fence">42.4. Optional Fence Capabilities</a></li>
<li><a href="chap42.html#features-timestamp-calibration">42.5. Timestamp Calibration Capabilities</a></li>
</ul>
</li>
<li><a href="chap43.html">43. Debugging</a>
<ul class="sectlevel2">
<li><a href="chap43.html#debugging-tooling-info">43.1. Active Tooling Information</a></li>
<li><a href="chap43.html#_frame_boundary">43.2. Frame Boundary</a></li>
</ul>
</li>
<li><a href="chap44.html">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap44.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap44.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap44.html#spirvenv-module-validation">Validation Rules Within a Module</a></li>
<li><a href="chap44.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap44.html#spirvenv-image-signedness">Signedness of SPIR-V Image Accesses</a></li>
<li><a href="chap44.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap44.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats and Vulkan Formats</a></li>
<li><a href="chap44.html#spirenv-ray-query-precision-operation">Ray Query Precision and Operation</a></li>
</ul>
</li>
<li><a href="chap45.html">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap45.html#memory-model-agent">Agent</a></li>
<li><a href="chap45.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap45.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap45.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap45.html#memory-model-references">Reference</a></li>
<li><a href="chap45.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap45.html#shader-call-related">Shader Call Related</a></li>
<li><a href="chap45.html#shader-call-order">Shader Call Order</a></li>
<li><a href="chap45.html#memory-model-scope">Scope</a></li>
<li><a href="chap45.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap45.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap45.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap45.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap45.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap45.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap45.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap45.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap45.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap45.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap45.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap45.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap45.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap45.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap45.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap45.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap45.html#memory-model-acyclicity">Acyclicity</a></li>
<li><a href="chap45.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap45.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap45.html#memory-model-informative-descriptions">Descriptions (Informative)</a></li>
<li><a href="chap45.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
</ul>
</li>
<li><a href="chap46.html">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap46.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap46.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap46.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap47.html">Appendix D: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap47.html#versions-1.3">Version 1.3</a></li>
<li><a href="chap47.html#versions-1.2">Version 1.2</a></li>
<li><a href="chap47.html#versions-1.1">Version 1.1</a></li>
<li><a href="chap47.html#versions-1.0">Version 1.0</a></li>
</ul>
</li>
<li><a href="chap48.html">Appendix E: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap48.html#_extension_dependencies">Extension Dependencies</a></li>
<li><a href="chap48.html#_extension_interactions">Extension Interactions</a></li>
<li><a href="chap48.html#extension-appendices-list">List of Current Extensions</a></li>
<li><a href="chap48.html#provisional-extension-appendices-list">List of Provisional Extensions</a></li>
<li><a href="chap48.html#deprecated-extension-appendices-list">List of Deprecated Extensions</a></li>
</ul>
</li>
<li><a href="chap49.html">Appendix F: Vulkan Roadmap Milestones</a>
<ul class="sectlevel2">
<li><a href="chap49.html#roadmap-2022">Roadmap 2022</a></li>
</ul>
</li>
<li><a href="chap50.html">Appendix G: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap50.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap50.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap50.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
<li><a href="chap50.html#boilerplate-video-std-headers">Video Std Headers</a></li>
</ul>
</li>
<li><a href="chap51.html">Appendix H: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap51.html#_repeatability">Repeatability</a></li>
<li><a href="chap51.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap51.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap51.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap52.html">Appendix I: Lexicon</a>
<ul class="sectlevel2">
<li><a href="chap52.html#glossary">Glossary</a></li>
<li><a href="chap52.html#lexicon-common-abbreviations">Common Abbreviations</a></li>
<li><a href="chap52.html#lexicon-video-abbreviations">Video-Specific Abbreviations</a></li>
<li><a href="chap52.html#lexicon-prefixes">Prefixes</a></li>
</ul>
</li>
<li><a href="chap53.html">Appendix J: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap53.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap53.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
<div id="content" class="loadable"><div class="sect1">
<h2 id="descriptorsets"><a class="anchor" href="chap14.html"></a>14. Resource Descriptors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <em>descriptor</em> is an opaque data structure representing a shader resource
such as a buffer, buffer view, image view, sampler, or combined image
sampler.
Descriptors are organized into <em>descriptor sets</em>, which are bound during
command recording for use in subsequent drawing commands.
The arrangement of content in each descriptor set is determined by a
<em>descriptor set layout</em>, which determines what descriptors can be stored
within it.
The sequence of descriptor set layouts that <strong class="purple">can</strong> be used by a pipeline is
specified in a <em>pipeline layout</em>.
Each pipeline object <strong class="purple">can</strong> use up to <code>maxBoundDescriptorSets</code> (see
<a href="chap40.html">Limits</a>) descriptor sets.</p>
</div>
<div class="paragraph">
<p>Shaders access resources via variables decorated with a descriptor set and
binding number that link them to a descriptor in a descriptor set.
The shader interface mapping to bound descriptor sets is described in the
<a href="chap15.html#interfaces-resources">Shader Resource Interface</a> section.</p>
</div>
<div class="paragraph">
<p>Shaders <strong class="purple">can</strong> also access buffers without going through descriptors by using
<a href="chap14.html#descriptorsets-physical-storage-buffer">Physical Storage Buffer Access</a> to
access them through 64-bit addresses.</p>
</div>
<div class="sect2">
<h3 id="descriptorsets-types"><a class="anchor" href="chap14.html#descriptorsets-types"></a>14.1. Descriptor Types</h3>
<div class="paragraph">
<p>There are a number of different types of descriptor supported by Vulkan,
corresponding to different resources or usage.
The following sections describe the API definitions of each descriptor type.
The mapping of each type to SPIR-V is listed in the
<a href="chap15.html#interfaces-resources-correspondence">Shader Resource and Descriptor Type
Correspondence</a> and <a href="chap15.html#interfaces-resources-storage-class-correspondence">Shader Resource and Storage Class Correspondence</a> tables in the
<a href="chap15.html">Shader Interfaces</a> chapter.</p>
</div>
<div class="sect3">
<h4 id="descriptorsets-storageimage"><a class="anchor" href="chap14.html#descriptorsets-storageimage"></a>14.1.1. Storage Image</h4>
<div class="paragraph">
<p>A <em>storage image</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>) is a descriptor
type associated with an <a href="chap12.html#resources-images">image resource</a> via an
<a href="chap12.html#resources-image-views">image view</a> that load, store, and atomic
operations <strong class="purple">can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Storage image loads are supported in all shader stages for image views whose
<a href="chap12.html#resources-image-view-format-features">format features</a> contain
<a href="chap41.html#formats-properties"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>Stores to storage images are supported in
compute shaders for image views whose
<a href="chap12.html#resources-image-view-format-features">format features</a> contain
<a href="chap41.html#formats-properties"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>Atomic operations on storage images are supported in
compute shaders for image views whose
<a href="chap12.html#resources-image-view-format-features">format features</a> contain
<a href="chap41.html#formats-properties"><code>VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>When the <a href="chap39.html#features-fragmentStoresAndAtomics"><code>fragmentStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported for storage images in fragment shaders with
the same set of image formats as supported in compute shaders.
When the <a href="chap39.html#features-vertexPipelineStoresAndAtomics"><code>vertexPipelineStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported in vertex, tessellation, and geometry shaders
with the same set of image formats as supported in compute shaders.</p>
</div>
<div class="paragraph">
<p>The image subresources for a storage image <strong class="purple">must</strong> be in the
<code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code> or
<code>VK_IMAGE_LAYOUT_GENERAL</code> layout in order to access its data in a
shader.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-sampler"><a class="anchor" href="chap14.html#descriptorsets-sampler"></a>14.1.2. Sampler</h4>
<div class="paragraph">
<p>A <em>sampler descriptor</em> (<code>VK_DESCRIPTOR_TYPE_SAMPLER</code>) is a descriptor
type associated with a <a href="chap13.html">sampler</a> object, used to control the
behavior of <a href="chap16.html">sampling operations</a> performed on a
<a href="chap14.html#descriptorsets-sampledimage">sampled image</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-sampledimage"><a class="anchor" href="chap14.html#descriptorsets-sampledimage"></a>14.1.3. Sampled Image</h4>
<div class="paragraph">
<p>A <em>sampled image</em> (<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>) is a descriptor
type associated with an <a href="chap12.html#resources-images">image resource</a> via an
<a href="chap12.html#resources-image-views">image view</a> that <a href="chap16.html">sampling operations</a>
<strong class="purple">can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Shaders combine a sampled image variable and a sampler variable to perform
sampling operations.</p>
</div>
<div class="paragraph">
<p>Sampled images are supported in all shader stages for image views whose
<a href="chap12.html#resources-image-view-format-features">format features</a> contain
<a href="chap41.html#formats-properties"><code>VK_FORMAT_FEATURE_SAMPLED_IMAGE_BIT</code></a>.</p>
</div>
<div class="paragraph">
<p>An image subresources for a sampled image <strong class="purple">must</strong> be in one of the following
layouts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-combinedimagesampler"><a class="anchor" href="chap14.html#descriptorsets-combinedimagesampler"></a>14.1.4. Combined Image Sampler</h4>
<div class="paragraph">
<p>A <em>combined image sampler</em> (<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>)
is a single descriptor type associated with both a <a href="chap13.html">sampler</a> and
an <a href="chap12.html#resources-images">image resource</a>, combining both a
<a href="chap14.html#descriptorsets-sampler">sampler</a> and <a href="chap14.html#descriptorsets-sampledimage">sampled image</a> descriptor into a single descriptor.</p>
</div>
<div class="paragraph">
<p>If the descriptor refers to a sampler that performs
<a href="chap13.html#samplers-YCbCr-conversion">Y′C<sub>B</sub>C<sub>R</sub> conversion</a>,
the sampler <strong class="purple">must</strong> only be used to sample the image in the same descriptor.
Otherwise, the
sampler and image in this type of descriptor <strong class="purple">can</strong> be used freely with any
other samplers and images.</p>
</div>
<div class="paragraph">
<p>An image subresources for a combined image sampler <strong class="purple">must</strong> be in one of the
following layouts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>On some implementations, it <strong class="purple">may</strong> be more efficient to sample from an image
using a combination of sampler and sampled image that are stored together in
the descriptor set in a combined descriptor.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-uniformtexelbuffer"><a class="anchor" href="chap14.html#descriptorsets-uniformtexelbuffer"></a>14.1.5. Uniform Texel Buffer</h4>
<div class="paragraph">
<p>A <em>uniform texel buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>) is
a descriptor type associated with a <a href="chap12.html#resources-buffers">buffer resource</a>
via a <a href="chap12.html#resources-buffer-views">buffer view</a> that <a href="chap16.html">image sampling
operations</a> <strong class="purple">can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Uniform texel buffers define a tightly-packed 1-dimensional linear array of
texels, with texels going through format conversion when read in a shader in
the same way as they are for an image.</p>
</div>
<div class="paragraph">
<p>Load operations from uniform texel buffers are supported in all shader
stages for buffer view formats which report
<a href="chap12.html#resources-buffer-view-format-features">format features</a> support for
<code>VK_FORMAT_FEATURE_UNIFORM_TEXEL_BUFFER_BIT</code></p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-storagetexelbuffer"><a class="anchor" href="chap14.html#descriptorsets-storagetexelbuffer"></a>14.1.6. Storage Texel Buffer</h4>
<div class="paragraph">
<p>A <em>storage texel buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>) is
a descriptor type associated with a <a href="chap12.html#resources-buffers">buffer resource</a>
via a <a href="chap12.html#resources-buffer-views">buffer view</a> that <a href="chap16.html">image load,
store, and atomic operations</a> <strong class="purple">can</strong> be performed on.</p>
</div>
<div class="paragraph">
<p>Storage texel buffers define a tightly-packed 1-dimensional linear array of
texels, with texels going through format conversion when read in a shader in
the same way as they are for an image.
Unlike <a href="chap14.html#descriptorsets-uniformtexelbuffer">uniform texel buffers</a>, these
buffers can also be written to in the same way as for
<a href="chap14.html#descriptorsets-storageimage">storage images</a>.</p>
</div>
<div class="paragraph">
<p>Storage texel buffer loads are supported in all shader stages for texel
buffer view formats which report
<a href="chap12.html#resources-buffer-view-format-features">format features</a> support for
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p>
</div>
<div class="paragraph">
<p>Stores to storage texel buffers are supported in
compute shaders for texel buffer formats which report
<a href="chap12.html#resources-buffer-view-format-features">format features</a> support for
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_BIT</code></p>
</div>
<div class="paragraph">
<p>Atomic operations on storage texel buffers are supported in
compute shaders for texel buffer formats which report
<a href="chap12.html#resources-buffer-view-format-features">format features</a> support for
<code>VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT</code></p>
</div>
<div class="paragraph">
<p>When the <a href="chap39.html#features-fragmentStoresAndAtomics"><code>fragmentStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported for storage texel buffers in fragment shaders
with the same set of texel buffer formats as supported in compute shaders.
When the <a href="chap39.html#features-vertexPipelineStoresAndAtomics"><code>vertexPipelineStoresAndAtomics</code></a> feature is enabled, stores and atomic
operations are also supported in vertex, tessellation, and geometry shaders
with the same set of texel buffer formats as supported in compute shaders.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-storagebuffer"><a class="anchor" href="chap14.html#descriptorsets-storagebuffer"></a>14.1.7. Storage Buffer</h4>
<div class="paragraph">
<p>A <em>storage buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>) is a descriptor
type associated with a <a href="chap12.html#resources-buffers">buffer resource</a> directly,
described in a shader as a structure with various members that load, store,
and atomic operations <strong class="purple">can</strong> be performed on.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Atomic operations <strong class="purple">can</strong> only be performed on members of certain types as
defined in the <a href="chap44.html">SPIR-V environment appendix</a>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-uniformbuffer"><a class="anchor" href="chap14.html#descriptorsets-uniformbuffer"></a>14.1.8. Uniform Buffer</h4>
<div class="paragraph">
<p>A <em>uniform buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>) is a descriptor
type associated with a <a href="chap12.html#resources-buffers">buffer resource</a> directly,
described in a shader as a structure with various members that load
operations <strong class="purple">can</strong> be performed on.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-uniformbufferdynamic"><a class="anchor" href="chap14.html#descriptorsets-uniformbufferdynamic"></a>14.1.9. Dynamic Uniform Buffer</h4>
<div class="paragraph">
<p>A <em>dynamic uniform buffer</em> (<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>)
is almost identical to a <a href="chap14.html#descriptorsets-uniformbuffer">uniform buffer</a>,
and differs only in how the offset into the buffer is specified.
The base offset calculated by the <a href="chap14.html#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> when
initially <a href="chap14.html#descriptorsets-updates">updating the descriptor set</a> is added
to a <a href="chap14.html#descriptorsets-binding-dynamicoffsets">dynamic offset</a> when binding
the descriptor set.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-storagebufferdynamic"><a class="anchor" href="chap14.html#descriptorsets-storagebufferdynamic"></a>14.1.10. Dynamic Storage Buffer</h4>
<div class="paragraph">
<p>A <em>dynamic storage buffer</em> (<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>)
is almost identical to a <a href="chap14.html#descriptorsets-storagebuffer">storage buffer</a>,
and differs only in how the offset into the buffer is specified.
The base offset calculated by the <a href="chap14.html#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> when
initially <a href="chap14.html#descriptorsets-updates">updating the descriptor set</a> is added
to a <a href="chap14.html#descriptorsets-binding-dynamicoffsets">dynamic offset</a> when binding
the descriptor set.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-inlineuniformblock"><a class="anchor" href="chap14.html#descriptorsets-inlineuniformblock"></a>14.1.11. Inline Uniform Block</h4>
<div class="paragraph">
<p>An <em>inline uniform block</em> (<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>) is
almost identical to a <a href="chap14.html#descriptorsets-uniformbuffer">uniform buffer</a>, and
differs only in taking its storage directly from the encompassing descriptor
set instead of being backed by buffer memory.
It is typically used to access a small set of constant data that does not
require the additional flexibility provided by the indirection enabled when
using a uniform buffer where the descriptor and the referenced buffer memory
are decoupled.
Compared to push constants, they allow reusing the same set of constant data
across multiple disjoint sets of drawing and dispatching commands.</p>
</div>
<div class="paragraph">
<p>Inline uniform block descriptors <strong class="purple">cannot</strong> be aggregated into arrays.
Instead, the array size specified for an inline uniform block descriptor
binding specifies the binding’s capacity in bytes.</p>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-inputattachment"><a class="anchor" href="chap14.html#descriptorsets-inputattachment"></a>14.1.12. Input Attachment</h4>
<div class="paragraph">
<p>An <em>input attachment</em> (<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>) is a
descriptor type associated with an <a href="chap12.html#resources-images">image resource</a> via
an <a href="chap12.html#resources-image-views">image view</a> that <strong class="purple">can</strong> be used for
<a href="chap7.html#synchronization-framebuffer-regions">framebuffer local</a> load operations in
fragment shaders.</p>
</div>
<div class="paragraph">
<p>All image formats that are supported for color attachments
(<code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code>
) or depth/stencil attachments
(<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code>) for a given image
tiling mode are also supported for input attachments.</p>
</div>
<div class="paragraph">
<p>An image view used as an input attachment <strong class="purple">must</strong> be in one of the following
layouts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR</code></p>
</li>
<li>
<p><code>VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-accelerationstructure"><a class="anchor" href="chap14.html#descriptorsets-accelerationstructure"></a>14.1.13. Acceleration Structure</h4>
<div class="paragraph">
<p>An <em>acceleration structure</em> (
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>
) is a descriptor type that is used to retrieve scene geometry from within
shaders that are used for ray traversal.
Shaders have read-only access to the memory.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-sets"><a class="anchor" href="chap14.html#descriptorsets-sets"></a>14.2. Descriptor Sets</h3>
<div class="paragraph">
<p>Descriptors are grouped together into descriptor set objects.
A descriptor set object is an opaque object containing storage for a set of
descriptors, where the types and number of descriptors is defined by a
descriptor set layout.
The layout object <strong class="purple">may</strong> be used to define the association of each descriptor
binding with memory or other implementation resources.
The layout is used both for determining the resources that need to be
associated with the descriptor set, and determining the interface between
shader stages and shader resources.</p>
</div>
<div class="sect3">
<h4 id="descriptorsets-setlayout"><a class="anchor" href="chap14.html#descriptorsets-setlayout"></a>14.2.1. Descriptor Set Layout</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A descriptor set layout object is defined by an array of zero or more
descriptor bindings.
Each individual descriptor binding is specified by a descriptor type, a
count (array size) of the number of descriptors in the binding, a set of
shader stages that <strong class="purple">can</strong> access the binding, and (if using immutable
samplers) an array of sampler descriptors.</p>
</div>
<div class="paragraph">
<p>Descriptor set layout objects are represented by <code>VkDescriptorSetLayout</code>
handles:</p>
</div>
<div id="VkDescriptorSetLayout" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkDescriptorSetLayout</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create descriptor set layout objects, call:</p>
</div>
<div id="vkCreateDescriptorSetLayout" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VkResult</span> <span class="nf">vkCreateDescriptorSetLayout</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDescriptorSetLayoutCreateInfo</span><span class="o">*</span>      <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkDescriptorSetLayout</span><span class="o">*</span>                      <span class="n">pSetLayout</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the descriptor set
layout.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure specifying the state of
the descriptor set layout object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pSetLayout</code> is a pointer to a <a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handle in
which the resulting descriptor set layout object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-device-parameter" href="chap14.html#VUID-vkCreateDescriptorSetLayout-device-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorSetLayout-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-pCreateInfo-parameter" href="chap14.html#VUID-vkCreateDescriptorSetLayout-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorSetLayout-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-pAllocator-parameter" href="chap14.html#VUID-vkCreateDescriptorSetLayout-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorSetLayout-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorSetLayout-pSetLayout-parameter" href="chap14.html#VUID-vkCreateDescriptorSetLayout-pSetLayout-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorSetLayout-pSetLayout-parameter</span><br>
 <code>pSetLayout</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about the descriptor set layout is passed in a
<code>VkDescriptorSetLayoutCreateInfo</code> structure:</p>
</div>
<div id="VkDescriptorSetLayoutCreateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorSetLayoutCreateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                        <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                            <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDescriptorSetLayoutCreateFlags</span>       <span class="n">flags</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                               <span class="n">bindingCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkDescriptorSetLayoutBinding</span><span class="o">*</span>    <span class="n">pBindings</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorSetLayoutCreateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask
of <a href="chap14.html#VkDescriptorSetLayoutCreateFlagBits">VkDescriptorSetLayoutCreateFlagBits</a>
specifying options for descriptor set layout creation.</p>
</li>
<li>
<p><code>bindingCount</code> is the number of elements in <code>pBindings</code>.</p>
</li>
<li>
<p><code>pBindings</code> is a pointer to an array of
<a href="chap14.html#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> structures.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-binding-00279" href="chap14.html#VUID-VkDescriptorSetLayoutCreateInfo-binding-00279"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-binding-00279</span><br>

The <a href="chap14.html#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a>::<code>binding</code> members of the
elements of the <code>pBindings</code> array <strong class="purple">must</strong> each have different values</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-00280" href="chap14.html#VUID-VkDescriptorSetLayoutCreateInfo-flags-00280"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-00280</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code>, then all
elements of <code>pBindings</code> <strong class="purple">must</strong> not have a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-02208" href="chap14.html#VUID-VkDescriptorSetLayoutCreateInfo-flags-02208"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-02208</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code>, then all
elements of <code>pBindings</code> <strong class="purple">must</strong> not have a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-00281" href="chap14.html#VUID-VkDescriptorSetLayoutCreateInfo-flags-00281"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-00281</span><br>

If <code>flags</code> contains
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code>, then the
total number of elements of all bindings <strong class="purple">must</strong> be less than or equal to
<a href="chap40.html#VkPhysicalDevicePushDescriptorPropertiesKHR">VkPhysicalDevicePushDescriptorPropertiesKHR</a>::<code>maxPushDescriptors</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-03000" href="chap14.html#VUID-VkDescriptorSetLayoutCreateInfo-flags-03000"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-03000</span><br>

If any binding has the <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code>
bit set, <code>flags</code> <strong class="purple">must</strong> include
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-descriptorType-03001" href="chap14.html#VUID-VkDescriptorSetLayoutCreateInfo-descriptorType-03001"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-descriptorType-03001</span><br>

If any binding has the <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code>
bit set, then all bindings <strong class="purple">must</strong> not have <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-sType-sType" href="chap14.html#VUID-VkDescriptorSetLayoutCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-pNext-pNext" href="chap14.html#VUID-VkDescriptorSetLayoutCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="chap14.html#VkDescriptorSetLayoutBindingFlagsCreateInfo">VkDescriptorSetLayoutBindingFlagsCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-sType-unique" href="chap14.html#VUID-VkDescriptorSetLayoutCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-flags-parameter" href="chap14.html#VUID-VkDescriptorSetLayoutCreateInfo-flags-parameter"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-flags-parameter</span><br>
 <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="chap14.html#VkDescriptorSetLayoutCreateFlagBits">VkDescriptorSetLayoutCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutCreateInfo-pBindings-parameter" href="chap14.html#VUID-VkDescriptorSetLayoutCreateInfo-pBindings-parameter"></a> <span class="vuid">VUID-VkDescriptorSetLayoutCreateInfo-pBindings-parameter</span><br>
 If <code>bindingCount</code> is not <code>0</code>, <code>pBindings</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bindingCount</code> valid <a href="chap14.html#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in
<a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>flags</code>, specifying options for
descriptor set layout, are:</p>
</div>
<div id="VkDescriptorSetLayoutCreateFlagBits" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkDescriptorSetLayoutCreateFlagBits</span> <span class="p">{</span>
  <span class="c1">// Provided by VK_VERSION_1_2</span>
    <span class="n">VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
  <span class="c1">// Provided by VK_KHR_push_descriptor</span>
    <span class="n">VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkDescriptorSetLayoutCreateFlagBits</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code> specifies
that descriptor sets <strong class="purple">must</strong> not be allocated using this layout, and
descriptors are instead pushed by <a href="chap14.html#vkCmdPushDescriptorSetKHR">vkCmdPushDescriptorSetKHR</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code>
specifies that descriptor sets using this layout <strong class="purple">must</strong> be allocated from
a descriptor pool created with the
<code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> bit set.
Descriptor set layouts created with this bit set have alternate limits
for the maximum number of descriptors per-stage and per-pipeline layout.
The non-UpdateAfterBind limits only count descriptors in sets created
without this flag.
The UpdateAfterBind limits count all descriptors, but the limits <strong class="purple">may</strong> be
higher than the non-UpdateAfterBind limits.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorSetLayoutCreateFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkDescriptorSetLayoutCreateFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorSetLayoutCreateFlags</code> is a bitmask type for setting a mask
of zero or more <a href="chap14.html#VkDescriptorSetLayoutCreateFlagBits">VkDescriptorSetLayoutCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorSetLayoutBinding</code> structure is defined as:</p>
</div>
<div id="VkDescriptorSetLayoutBinding" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorSetLayoutBinding</span> <span class="p">{</span>
    <span class="kt">uint32_t</span>              <span class="n">binding</span><span class="p">;</span>
    <span class="n">VkDescriptorType</span>      <span class="n">descriptorType</span><span class="p">;</span>
    <span class="kt">uint32_t</span>              <span class="n">descriptorCount</span><span class="p">;</span>
    <span class="n">VkShaderStageFlags</span>    <span class="n">stageFlags</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkSampler</span><span class="o">*</span>      <span class="n">pImmutableSamplers</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorSetLayoutBinding</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>binding</code> is the binding number of this entry and corresponds to a
resource of the same binding number in the shader stages.</p>
</li>
<li>
<p><code>descriptorType</code> is a <a href="chap14.html#VkDescriptorType">VkDescriptorType</a> specifying which type
of resource descriptors are used for this binding.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors contained in the
binding, accessed in a shader as an
array, except if <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> in which case
<code>descriptorCount</code> is the size in bytes of the inline uniform block.
If <code>descriptorCount</code> is zero this binding entry is reserved and the
resource <strong class="purple">must</strong> not be accessed from any stage via this binding within
any pipeline using the set layout.</p>
</li>
<li>
<p><code>stageFlags</code> member is a bitmask of <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a>
specifying which pipeline shader stages <strong class="purple">can</strong> access a resource for this
binding.
<code>VK_SHADER_STAGE_ALL</code> is a shorthand specifying that all defined
shader stages, including any additional stages defined by extensions,
<strong class="purple">can</strong> access the resource.</p>
<div class="paragraph">
<p>If a shader stage is not included in <code>stageFlags</code>, then a resource <strong class="purple">must</strong>
not be accessed from that stage via this binding within any pipeline using
the set layout.
Other than input attachments which are limited to the fragment shader, there
are no limitations on what combinations of stages <strong class="purple">can</strong> use a descriptor
binding, and in particular a binding <strong class="purple">can</strong> be used by both graphics stages
and the compute stage.</p>
</div>
</li>
<li>
<p><code>pImmutableSamplers</code> affects initialization of samplers.
If <code>descriptorType</code> specifies a <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> type descriptor, then
<code>pImmutableSamplers</code> <strong class="purple">can</strong> be used to initialize a set of <em>immutable
samplers</em>.
Immutable samplers are permanently bound into the set layout and <strong class="purple">must</strong>
not be changed; updating a <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> descriptor
with immutable samplers is not allowed and updates to a
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> descriptor with
immutable samplers does not modify the samplers (the image views are
updated, but the sampler updates are ignored).
If <code>pImmutableSamplers</code> is not <code>NULL</code>, then it is a pointer to an
array of sampler handles that will be copied into the set layout and
used for the corresponding binding.
Only the sampler handles are copied; the sampler objects <strong class="purple">must</strong> not be
destroyed before the final use of the set layout and any descriptor
pools and sets created using it.
If <code>pImmutableSamplers</code> is <code>NULL</code>, then the sampler slots are
dynamic and sampler handles <strong class="purple">must</strong> be bound into descriptor sets using
this layout.
If <code>descriptorType</code> is not one of these descriptor types, then
<code>pImmutableSamplers</code> is ignored.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above layout definition allows the descriptor bindings to be specified
sparsely such that not all binding numbers between 0 and the maximum binding
number need to be specified in the <code>pBindings</code> array.
Bindings that are not specified have a <code>descriptorCount</code> and
<code>stageFlags</code> of zero, and the value of <code>descriptorType</code> is
undefined.
However, all binding numbers between 0 and the maximum binding number in the
<a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>pBindings</code> array <strong class="purple">may</strong> consume
memory in the descriptor set layout even if not all descriptor bindings are
used, though it <strong class="purple">should</strong> not consume additional memory from the descriptor
pool.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The maximum binding number specified <strong class="purple">should</strong> be as compact as possible to
avoid wasted memory.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-00282" href="chap14.html#VUID-VkDescriptorSetLayoutBinding-descriptorType-00282"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-00282</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
<code>descriptorCount</code> is not <code>0</code> and <code>pImmutableSamplers</code> is not
<code>NULL</code>, <code>pImmutableSamplers</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>descriptorCount</code> valid <code>VkSampler</code> handles</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-04604" href="chap14.html#VUID-VkDescriptorSetLayoutBinding-descriptorType-04604"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-04604</span><br>

If the <a href="chap39.html#features-inlineUniformBlock"><code>inlineUniformBlock</code></a> feature
is not enabled, <code>descriptorType</code> <strong class="purple">must</strong> not be
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-02209" href="chap14.html#VUID-VkDescriptorSetLayoutBinding-descriptorType-02209"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-02209</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>
then <code>descriptorCount</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-08004" href="chap14.html#VUID-VkDescriptorSetLayoutBinding-descriptorType-08004"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-08004</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>
then <code>descriptorCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceInlineUniformBlockProperties</code>::<code>maxInlineUniformBlockSize</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorCount-00283" href="chap14.html#VUID-VkDescriptorSetLayoutBinding-descriptorCount-00283"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorCount-00283</span><br>

If <code>descriptorCount</code> is not <code>0</code>, <code>stageFlags</code> <strong class="purple">must</strong> be a valid
combination of <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-01510" href="chap14.html#VUID-VkDescriptorSetLayoutBinding-descriptorType-01510"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-01510</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> and
<code>descriptorCount</code> is not <code>0</code>, then <code>stageFlags</code> <strong class="purple">must</strong> be <code>0</code> or
<code>VK_SHADER_STAGE_FRAGMENT_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBinding-descriptorType-parameter" href="chap14.html#VUID-VkDescriptorSetLayoutBinding-descriptorType-parameter"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBinding-descriptorType-parameter</span><br>
 <code>descriptorType</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of a <a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>
structure includes a <a href="chap14.html#VkDescriptorSetLayoutBindingFlagsCreateInfo">VkDescriptorSetLayoutBindingFlagsCreateInfo</a>
structure, then that structure includes an array of flags, one for each
descriptor set layout binding.</p>
</div>
<div class="paragraph">
<p>The <a href="chap14.html#VkDescriptorSetLayoutBindingFlagsCreateInfo">VkDescriptorSetLayoutBindingFlagsCreateInfo</a> structure is defined
as:</p>
</div>
<div id="VkDescriptorSetLayoutBindingFlagsCreateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorSetLayoutBindingFlagsCreateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                        <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                           <span class="n">bindingCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkDescriptorBindingFlags</span><span class="o">*</span>    <span class="n">pBindingFlags</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorSetLayoutBindingFlagsCreateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>bindingCount</code> is zero or the number of elements in
<code>pBindingFlags</code>.</p>
</li>
<li>
<p><code>pBindingFlags</code> is a pointer to an array of
<a href="chap14.html#VkDescriptorBindingFlags">VkDescriptorBindingFlags</a> bitfields, one for each descriptor set
layout binding.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>bindingCount</code> is zero or if this structure is not included in the
<code>pNext</code> chain, the <a href="chap14.html#VkDescriptorBindingFlags">VkDescriptorBindingFlags</a> for each descriptor
set layout binding is considered to be zero.
Otherwise, the descriptor set layout binding at
<a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>pBindings</code>[i] uses the flags in
<code>pBindingFlags</code>[i].</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-bindingCount-03002" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-bindingCount-03002"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-bindingCount-03002</span><br>

If <code>bindingCount</code> is not zero, <code>bindingCount</code> <strong class="purple">must</strong> equal
<a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>bindingCount</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-flags-03003" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-flags-03003"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-flags-03003</span><br>

If <a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>flags</code> includes
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code>, then all
elements of <code>pBindingFlags</code> <strong class="purple">must</strong> not include
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code>,
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code>, or
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03004" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03004"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03004</span><br>

If an element of <code>pBindingFlags</code> includes
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code>, then all
other elements of <a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a>::<code>pBindings</code>
<strong class="purple">must</strong> have a smaller value of <code>binding</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-09379" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-09379"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-09379</span><br>

If an element of <code>pBindingFlags</code> includes
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code>, then it <strong class="purple">must</strong>
be the element with the the highest <code>binding</code> number</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformBufferUpdateAfterBind-03005" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformBufferUpdateAfterBind-03005"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformBufferUpdateAfterBind-03005</span><br>

If
<a href="chap39.html#VkPhysicalDeviceDescriptorIndexingFeatures">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingUniformBufferUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> <strong class="purple">must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingSampledImageUpdateAfterBind-03006" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingSampledImageUpdateAfterBind-03006"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingSampledImageUpdateAfterBind-03006</span><br>

If
<a href="chap39.html#VkPhysicalDeviceDescriptorIndexingFeatures">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingSampledImageUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, or
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> <strong class="purple">must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageImageUpdateAfterBind-03007" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageImageUpdateAfterBind-03007"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageImageUpdateAfterBind-03007</span><br>

If
<a href="chap39.html#VkPhysicalDeviceDescriptorIndexingFeatures">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingStorageImageUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> <strong class="purple">must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageBufferUpdateAfterBind-03008" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageBufferUpdateAfterBind-03008"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageBufferUpdateAfterBind-03008</span><br>

If
<a href="chap39.html#VkPhysicalDeviceDescriptorIndexingFeatures">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingStorageBufferUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> <strong class="purple">must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformTexelBufferUpdateAfterBind-03009" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformTexelBufferUpdateAfterBind-03009"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUniformTexelBufferUpdateAfterBind-03009</span><br>

If
<a href="chap39.html#VkPhysicalDeviceDescriptorIndexingFeatures">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingUniformTexelBufferUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> <strong class="purple">must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageTexelBufferUpdateAfterBind-03010" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageTexelBufferUpdateAfterBind-03010"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingStorageTexelBufferUpdateAfterBind-03010</span><br>

If
<a href="chap39.html#VkPhysicalDeviceDescriptorIndexingFeatures">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingStorageTexelBufferUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> <strong class="purple">must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingInlineUniformBlockUpdateAfterBind-02211" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingInlineUniformBlockUpdateAfterBind-02211"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingInlineUniformBlockUpdateAfterBind-02211</span><br>

If
<a href="chap39.html#VkPhysicalDeviceInlineUniformBlockFeatures">VkPhysicalDeviceInlineUniformBlockFeatures</a>::<code>descriptorBindingInlineUniformBlockUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> <strong class="purple">must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingAccelerationStructureUpdateAfterBind-03570" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingAccelerationStructureUpdateAfterBind-03570"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingAccelerationStructureUpdateAfterBind-03570</span><br>

If
<a href="chap39.html#VkPhysicalDeviceAccelerationStructureFeaturesKHR">VkPhysicalDeviceAccelerationStructureFeaturesKHR</a>::<code>descriptorBindingAccelerationStructureUpdateAfterBind</code>
is not enabled, all bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code> or
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code> <strong class="purple">must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-None-03011" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-None-03011"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-None-03011</span><br>

All bindings with descriptor type
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> <strong class="purple">must</strong> not use
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUpdateUnusedWhilePending-03012" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUpdateUnusedWhilePending-03012"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingUpdateUnusedWhilePending-03012</span><br>

If
<a href="chap39.html#VkPhysicalDeviceDescriptorIndexingFeatures">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingUpdateUnusedWhilePending</code>
is not enabled, all elements of <code>pBindingFlags</code> <strong class="purple">must</strong> not include
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingPartiallyBound-03013" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingPartiallyBound-03013"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingPartiallyBound-03013</span><br>

If
<a href="chap39.html#VkPhysicalDeviceDescriptorIndexingFeatures">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingPartiallyBound</code>
is not enabled, all elements of <code>pBindingFlags</code> <strong class="purple">must</strong> not include
<code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingVariableDescriptorCount-03014" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingVariableDescriptorCount-03014"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-descriptorBindingVariableDescriptorCount-03014</span><br>

If
<a href="chap39.html#VkPhysicalDeviceDescriptorIndexingFeatures">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingVariableDescriptorCount</code>
is not enabled, all elements of <code>pBindingFlags</code> <strong class="purple">must</strong> not include
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03015" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03015"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-03015</span><br>

If an element of <code>pBindingFlags</code> includes
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code>, that
element’s <code>descriptorType</code> <strong class="purple">must</strong> not be
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-sType-sType" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_BINDING_FLAGS_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-parameter" href="chap14.html#VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-parameter"></a> <span class="vuid">VUID-VkDescriptorSetLayoutBindingFlagsCreateInfo-pBindingFlags-parameter</span><br>
 If <code>bindingCount</code> is not <code>0</code>, <code>pBindingFlags</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bindingCount</code> valid combinations of <a href="chap14.html#VkDescriptorBindingFlagBits">VkDescriptorBindingFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in each element of
<a href="chap14.html#VkDescriptorSetLayoutBindingFlagsCreateInfo">VkDescriptorSetLayoutBindingFlagsCreateInfo</a>::<code>pBindingFlags</code>,
specifying options for the corresponding descriptor set layout binding, are:</p>
</div>
<div id="VkDescriptorBindingFlagBits" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_2</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkDescriptorBindingFlagBits</span> <span class="p">{</span>
    <span class="n">VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkDescriptorBindingFlagBits</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> indicates that if
descriptors in this binding are updated between when the descriptor set
is bound in a command buffer and when that command buffer is submitted
to a queue, then the submission will use the most recently set
descriptors for this binding and the updates do not invalidate the
command buffer.
Descriptor bindings created with this flag are also partially exempt
from the external synchronization requirement in
<a href="chap14.html#vkUpdateDescriptorSetWithTemplateKHR">vkUpdateDescriptorSetWithTemplateKHR</a> and
<a href="chap14.html#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a>.
Multiple descriptors with this flag set <strong class="purple">can</strong> be updated concurrently in
different threads, though the same descriptor <strong class="purple">must</strong> not be updated
concurrently by two threads.
Descriptors with this flag set <strong class="purple">can</strong> be updated concurrently with the set
being bound to a command buffer in another thread, but not concurrently
with the set being reset or freed.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code> indicates that
descriptors in this binding that are not <em>dynamically used</em> need not
contain valid descriptors at the time the descriptors are consumed.
A descriptor is dynamically used if any shader invocation executes an
instruction that performs any memory access using the descriptor.
If a descriptor is not dynamically used, any resource referenced by the
descriptor is not considered to be referenced during command execution.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code> indicates
that descriptors in this binding <strong class="purple">can</strong> be updated after a command buffer
has bound this descriptor set, or while a command buffer that uses this
descriptor set is pending execution, as long as the descriptors that are
updated are not used by those command buffers.
Descriptor bindings created with this flag are also partially exempt
from the external synchronization requirement in
<a href="chap14.html#vkUpdateDescriptorSetWithTemplateKHR">vkUpdateDescriptorSetWithTemplateKHR</a> and
<a href="chap14.html#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a> in the same way as for
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code>.
If <code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code> is also set, then
descriptors <strong class="purple">can</strong> be updated as long as they are not dynamically used by
any shader invocations.
If <code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code> is not set, then
descriptors <strong class="purple">can</strong> be updated as long as they are not statically used by
any shader invocations.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code> indicates that
    this is a <em>variable-sized descriptor binding</em> whose size will be
    specified when a descriptor set is allocated using this layout.
    The value of <code>descriptorCount</code> is treated as an upper bound on the
    size of the binding.
    This <strong class="purple">must</strong> only be used for the last binding in the descriptor set
    layout (i.e. the binding with the largest value of <code>binding</code>).
    For the purposes of counting against limits such as
    <code>maxDescriptorSet</code>* and <code>maxPerStageDescriptor</code>*, the full value
    of <code>descriptorCount</code> is
    counted, except for descriptor bindings with a descriptor type of
    <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>.
    In this case, <code>descriptorCount</code> specifies the upper bound on the
    byte size of the binding; thus it counts against the
<a href="chap5.html#limits-maxInlineUniformTotalSize"><code>maxInlineUniformTotalSize</code></a> limit
instead.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Note that while <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> and
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code> both involve
updates to descriptor sets after they are bound,
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code> is a weaker
requirement since it is only about descriptors that are not used, whereas
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> requires the
implementation to observe updates to descriptors that are used.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorBindingFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_2</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkDescriptorBindingFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorBindingFlags</code> is a bitmask type for setting a mask of zero
or more <a href="chap14.html#VkDescriptorBindingFlagBits">VkDescriptorBindingFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query information about whether a descriptor set layout <strong class="purple">can</strong> be created,
call:</p>
</div>
<div id="vkGetDescriptorSetLayoutSupport" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="kt">void</span> <span class="nf">vkGetDescriptorSetLayoutSupport</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDescriptorSetLayoutCreateInfo</span><span class="o">*</span>      <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="n">VkDescriptorSetLayoutSupport</span><span class="o">*</span>               <span class="n">pSupport</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetDescriptorSetLayoutSupportKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_maintenance3</span>
<span class="kt">void</span> <span class="nf">vkGetDescriptorSetLayoutSupportKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDescriptorSetLayoutCreateInfo</span><span class="o">*</span>      <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="n">VkDescriptorSetLayoutSupport</span><span class="o">*</span>               <span class="n">pSupport</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that would create the descriptor set
layout.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure specifying the state of
the descriptor set layout object.</p>
</li>
<li>
<p><code>pSupport</code> is a pointer to a <a href="chap14.html#VkDescriptorSetLayoutSupport">VkDescriptorSetLayoutSupport</a>
structure, in which information about support for the descriptor set
layout object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some implementations have limitations on what fits in a descriptor set which
are not easily expressible in terms of existing limits like
<code>maxDescriptorSet</code>*, for example if all descriptor types share a limited
space in memory but each descriptor is a different size or alignment.
This command returns information about whether a descriptor set satisfies
this limit.
If the descriptor set layout satisfies the
<a href="chap40.html#VkPhysicalDeviceMaintenance3Properties">VkPhysicalDeviceMaintenance3Properties</a>::<code>maxPerSetDescriptors</code>
limit, this command is guaranteed to return <code>VK_TRUE</code> in
<a href="chap14.html#VkDescriptorSetLayoutSupport">VkDescriptorSetLayoutSupport</a>::<code>supported</code>.
If the descriptor set layout exceeds the
<a href="chap40.html#VkPhysicalDeviceMaintenance3Properties">VkPhysicalDeviceMaintenance3Properties</a>::<code>maxPerSetDescriptors</code>
limit, whether the descriptor set layout is supported is
implementation-dependent and <strong class="purple">may</strong> depend on whether the descriptor sizes and
alignments cause the layout to exceed an internal limit.</p>
</div>
<div class="paragraph">
<p>This command does not consider other limits such as
<code>maxPerStageDescriptor</code>*, and so a descriptor set layout that is
supported according to this command <strong class="purple">must</strong> still satisfy the pipeline layout
limits such as <code>maxPerStageDescriptor</code>* in order to be used in a
pipeline layout.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This is a <code>VkDevice</code> query rather than <code>VkPhysicalDevice</code> because
the answer <strong class="purple">may</strong> depend on enabled features.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSupport-device-parameter" href="chap14.html#VUID-vkGetDescriptorSetLayoutSupport-device-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSupport-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSupport-pCreateInfo-parameter" href="chap14.html#VUID-vkGetDescriptorSetLayoutSupport-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSupport-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetDescriptorSetLayoutSupport-pSupport-parameter" href="chap14.html#VUID-vkGetDescriptorSetLayoutSupport-pSupport-parameter"></a> <span class="vuid">VUID-vkGetDescriptorSetLayoutSupport-pSupport-parameter</span><br>
 <code>pSupport</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap14.html#VkDescriptorSetLayoutSupport">VkDescriptorSetLayoutSupport</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Information about support for the descriptor set layout is returned in a
<code>VkDescriptorSetLayoutSupport</code> structure:</p>
</div>
<div id="VkDescriptorSetLayoutSupport" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorSetLayoutSupport</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkBool32</span>           <span class="n">supported</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorSetLayoutSupport</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorSetLayoutSupportKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_maintenance3</span>
<span class="k">typedef</span> <span class="n">VkDescriptorSetLayoutSupport</span> <span class="n">VkDescriptorSetLayoutSupportKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>supported</code> specifies whether the descriptor set layout <strong class="purple">can</strong> be
created.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>supported</code> is set to <code>VK_TRUE</code> if the descriptor set <strong class="purple">can</strong> be
created, or else is set to <code>VK_FALSE</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetLayoutSupport-sType-sType" href="chap14.html#VUID-VkDescriptorSetLayoutSupport-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetLayoutSupport-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_SUPPORT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutSupport-pNext-pNext" href="chap14.html#VUID-VkDescriptorSetLayoutSupport-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorSetLayoutSupport-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="chap14.html#VkDescriptorSetVariableDescriptorCountLayoutSupport">VkDescriptorSetVariableDescriptorCountLayoutSupport</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetLayoutSupport-sType-unique" href="chap14.html#VUID-VkDescriptorSetLayoutSupport-sType-unique"></a> <span class="vuid">VUID-VkDescriptorSetLayoutSupport-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of a <a href="chap14.html#VkDescriptorSetLayoutSupport">VkDescriptorSetLayoutSupport</a> structure
includes a <code>VkDescriptorSetVariableDescriptorCountLayoutSupport</code>
structure, then that structure returns additional information about whether
the descriptor set layout is supported.</p>
</div>
<div id="VkDescriptorSetVariableDescriptorCountLayoutSupport" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorSetVariableDescriptorCountLayoutSupport</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">maxVariableDescriptorCount</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorSetVariableDescriptorCountLayoutSupport</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>maxVariableDescriptorCount</code> indicates the maximum number of
descriptors supported in the highest numbered binding of the layout, if
that binding is variable-sized.
If the highest numbered binding of the layout has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>maxVariableDescriptorCount</code> indicates the maximum byte size
supported for the binding, if that binding is variable-sized.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure specified in
<a href="chap14.html#vkGetDescriptorSetLayoutSupport">vkGetDescriptorSetLayoutSupport</a>::<code>pCreateInfo</code> includes a
variable-sized descriptor, then <code>supported</code> is determined assuming the
requested size of the variable-sized descriptor, and
<code>maxVariableDescriptorCount</code> is set to the maximum size of that
descriptor that <strong class="purple">can</strong> be successfully created (which is greater than or equal
to the requested size passed in).
If the <a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> structure does not include a
variable-sized descriptor, or if the
<a href="chap39.html#VkPhysicalDeviceDescriptorIndexingFeatures">VkPhysicalDeviceDescriptorIndexingFeatures</a>::<code>descriptorBindingVariableDescriptorCount</code>
feature is not enabled, then <code>maxVariableDescriptorCount</code> is set to
zero.
For the purposes of this command, a variable-sized descriptor binding with a
<code>descriptorCount</code> of zero is treated as having a <code>descriptorCount</code>
of
four if <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, or one otherwise,
and thus the binding is not ignored and the maximum descriptor count will be
returned.
If the layout is not supported, then the value written to
<code>maxVariableDescriptorCount</code> is undefined.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetVariableDescriptorCountLayoutSupport-sType-sType" href="chap14.html#VUID-VkDescriptorSetVariableDescriptorCountLayoutSupport-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetVariableDescriptorCountLayoutSupport-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_VARIABLE_DESCRIPTOR_COUNT_LAYOUT_SUPPORT</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The following examples show a shader snippet using two descriptor sets, and
application code that creates corresponding descriptor set layouts.</p>
</div>
<div class="listingblock">
<div class="title">GLSL example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="glsl"><span class="c1">//</span>
<span class="c1">// binding to a single sampled image descriptor in set 0</span>
<span class="c1">//</span>
<span class="k">layout</span> <span class="p">(</span><span class="n">set</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">binding</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="k">uniform</span> <span class="n">texture2D</span> <span class="n">mySampledImage</span><span class="p">;</span>

<span class="c1">//</span>
<span class="c1">// binding to an array of sampled image descriptors in set 0</span>
<span class="c1">//</span>
<span class="k">layout</span> <span class="p">(</span><span class="n">set</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">binding</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="k">uniform</span> <span class="n">texture2D</span> <span class="n">myArrayOfSampledImages</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>

<span class="c1">//</span>
<span class="c1">// binding to a single uniform buffer descriptor in set 1</span>
<span class="c1">//</span>
<span class="k">layout</span> <span class="p">(</span><span class="n">set</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">binding</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="k">uniform</span> <span class="n">myUniformBuffer</span>
<span class="p">{</span>
    <span class="kt">vec4</span> <span class="n">myElement</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">};</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">SPIR-V example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="spirv">               ...
          %1 = OpExtInstImport "GLSL.std.450"
               ...
               OpName %9 "mySampledImage"
               OpName %14 "myArrayOfSampledImages"
               OpName %18 "myUniformBuffer"
               OpMemberName %18 0 "myElement"
               OpName %20 ""
               OpDecorate %9 DescriptorSet 0
               OpDecorate %9 Binding 0
               OpDecorate %14 DescriptorSet 0
               OpDecorate %14 Binding 1
               OpDecorate %17 ArrayStride 16
               OpMemberDecorate %18 0 Offset 0
               OpDecorate %18 Block
               OpDecorate %20 DescriptorSet 1
               OpDecorate %20 Binding 0
          %2 = OpTypeVoid
          %3 = OpTypeFunction %2
          %6 = OpTypeFloat 32
          %7 = OpTypeImage %6 2D 0 0 0 1 Unknown
          %8 = OpTypePointer UniformConstant %7
          %9 = OpVariable %8 UniformConstant
         %10 = OpTypeInt 32 0
         %11 = OpConstant %10 12
         %12 = OpTypeArray %7 %11
         %13 = OpTypePointer UniformConstant %12
         %14 = OpVariable %13 UniformConstant
         %15 = OpTypeVector %6 4
         %16 = OpConstant %10 32
         %17 = OpTypeArray %15 %16
         %18 = OpTypeStruct %17
         %19 = OpTypePointer Uniform %18
         %20 = OpVariable %19 Uniform
               ...</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="n">VkResult</span> <span class="n">myResult</span><span class="p">;</span>

<span class="k">const</span> <span class="n">VkDescriptorSetLayoutBinding</span> <span class="n">myDescriptorSetLayoutBinding</span><span class="p">[]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="c1">// binding to a single image descriptor</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">binding</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorType</span> <span class="o">=</span> <span class="n">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">stageFlags</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pImmutableSamplers</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">},</span>

    <span class="c1">// binding to an array of image descriptors</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">binding</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorType</span> <span class="o">=</span> <span class="n">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorCount</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
        <span class="p">.</span><span class="n">stageFlags</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pImmutableSamplers</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">},</span>

    <span class="c1">// binding to a single uniform buffer descriptor</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">binding</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorType</span> <span class="o">=</span> <span class="n">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">stageFlags</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pImmutableSamplers</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="k">const</span> <span class="n">VkDescriptorSetLayoutCreateInfo</span> <span class="n">myDescriptorSetLayoutCreateInfo</span><span class="p">[]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="c1">// Information for first descriptor set with two descriptor bindings</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">bindingCount</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pBindings</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">myDescriptorSetLayoutBinding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="c1">// Information for second descriptor set with one descriptor binding</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">bindingCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">pBindings</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">myDescriptorSetLayoutBinding</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="n">VkDescriptorSetLayout</span> <span class="n">myDescriptorSetLayout</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

<span class="c1">//</span>
<span class="c1">// Create first descriptor set layout</span>
<span class="c1">//</span>
<span class="n">myResult</span> <span class="o">=</span> <span class="n">vkCreateDescriptorSetLayout</span><span class="p">(</span>
    <span class="n">myDevice</span><span class="p">,</span>
    <span class="o">&amp;</span><span class="n">myDescriptorSetLayoutCreateInfo</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="nb">NULL</span><span class="p">,</span>
    <span class="o">&amp;</span><span class="n">myDescriptorSetLayout</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

<span class="c1">//</span>
<span class="c1">// Create second descriptor set layout</span>
<span class="c1">//</span>
<span class="n">myResult</span> <span class="o">=</span> <span class="n">vkCreateDescriptorSetLayout</span><span class="p">(</span>
    <span class="n">myDevice</span><span class="p">,</span>
    <span class="o">&amp;</span><span class="n">myDescriptorSetLayoutCreateInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="nb">NULL</span><span class="p">,</span>
    <span class="o">&amp;</span><span class="n">myDescriptorSetLayout</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span></code></pre>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a descriptor set layout, call:</p>
</div>
<div id="vkDestroyDescriptorSetLayout" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="kt">void</span> <span class="nf">vkDestroyDescriptorSetLayout</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkDescriptorSetLayout</span>                       <span class="n">descriptorSetLayout</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the descriptor set
layout.</p>
</li>
<li>
<p><code>descriptorSetLayout</code> is the descriptor set layout to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00284" href="chap14.html#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00284"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00284</span><br>

If <code>VkAllocationCallbacks</code> were provided when
<code>descriptorSetLayout</code> was created, a compatible set of callbacks
<strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00285" href="chap14.html#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00285"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-00285</span><br>

If no <code>VkAllocationCallbacks</code> were provided when
<code>descriptorSetLayout</code> was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-device-parameter" href="chap14.html#VUID-vkDestroyDescriptorSetLayout-device-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parameter" href="chap14.html#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parameter</span><br>
 If <code>descriptorSetLayout</code> is not <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>descriptorSetLayout</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-pAllocator-parameter" href="chap14.html#VUID-vkDestroyDescriptorSetLayout-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parent" href="chap14.html#VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parent"></a> <span class="vuid">VUID-vkDestroyDescriptorSetLayout-descriptorSetLayout-parent</span><br>
 If <code>descriptorSetLayout</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorSetLayout</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-pipelinelayout"><a class="anchor" href="chap14.html#descriptorsets-pipelinelayout"></a>14.2.2. Pipeline Layouts</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Access to descriptor sets from a pipeline is accomplished through a
<em>pipeline layout</em>.
Zero or more descriptor set layouts and zero or more push constant ranges
are combined to form a pipeline layout object describing the complete set of
resources that <strong class="purple">can</strong> be accessed by a pipeline.
The pipeline layout represents a sequence of descriptor sets with each
having a specific layout.
This sequence of layouts is used to determine the interface between shader
stages and shader resources.
Each pipeline is created using a pipeline layout.</p>
</div>
<div class="paragraph">
<p>Pipeline layout objects are represented by <code>VkPipelineLayout</code> handles:</p>
</div>
<div id="VkPipelineLayout" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkPipelineLayout</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a pipeline layout, call:</p>
</div>
<div id="vkCreatePipelineLayout" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VkResult</span> <span class="nf">vkCreatePipelineLayout</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkPipelineLayoutCreateInfo</span><span class="o">*</span>           <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkPipelineLayout</span><span class="o">*</span>                           <span class="n">pPipelineLayout</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the pipeline layout.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap14.html#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>
structure specifying the state of the pipeline layout object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pPipelineLayout</code> is a pointer to a <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> handle in
which the resulting pipeline layout object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreatePipelineLayout-device-parameter" href="chap14.html#VUID-vkCreatePipelineLayout-device-parameter"></a> <span class="vuid">VUID-vkCreatePipelineLayout-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineLayout-pCreateInfo-parameter" href="chap14.html#VUID-vkCreatePipelineLayout-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreatePipelineLayout-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap14.html#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineLayout-pAllocator-parameter" href="chap14.html#VUID-vkCreatePipelineLayout-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreatePipelineLayout-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreatePipelineLayout-pPipelineLayout-parameter" href="chap14.html#VUID-vkCreatePipelineLayout-pPipelineLayout-parameter"></a> <span class="vuid">VUID-vkCreatePipelineLayout-pPipelineLayout-parameter</span><br>
 <code>pPipelineLayout</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="chap14.html#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a> structure is defined as:</p>
</div>
<div id="VkPipelineLayoutCreateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineLayoutCreateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                 <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                     <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkPipelineLayoutCreateFlags</span>     <span class="n">flags</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                        <span class="n">setLayoutCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkDescriptorSetLayout</span><span class="o">*</span>    <span class="n">pSetLayouts</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                        <span class="n">pushConstantRangeCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkPushConstantRange</span><span class="o">*</span>      <span class="n">pPushConstantRanges</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPipelineLayoutCreateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="chap14.html#VkPipelineLayoutCreateFlagBits">VkPipelineLayoutCreateFlagBits</a>
specifying options for pipeline layout creation.</p>
</li>
<li>
<p><code>setLayoutCount</code> is the number of descriptor sets included in the
pipeline layout.</p>
</li>
<li>
<p><code>pSetLayouts</code> is a pointer to an array of
<code>VkDescriptorSetLayout</code> objects.</p>
</li>
<li>
<p><code>pushConstantRangeCount</code> is the number of push constant ranges
included in the pipeline layout.</p>
</li>
<li>
<p><code>pPushConstantRanges</code> is a pointer to an array of
<code>VkPushConstantRange</code> structures defining a set of push constant
ranges for use in a single pipeline layout.
In addition to descriptor set layouts, a pipeline layout also describes
how many push constants <strong class="purple">can</strong> be accessed by each stage of the pipeline.</p>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Push constants represent a high speed path to modify constant data in
pipelines that is expected to outperform memory-backed resource updates.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-setLayoutCount-00286" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-setLayoutCount-00286"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-setLayoutCount-00286</span><br>

<code>setLayoutCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxBoundDescriptorSets</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03016" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03016"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03016</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorSamplers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03017" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03017"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03017</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>
and <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible to any
given shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorUniformBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03018" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03018"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03018</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>
and <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible to any
given shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorStorageBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-06939" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-06939"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-06939</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
and <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>, accessible to any
given shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorSampledImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03020" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03020"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03020</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
and <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible to any
given shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be
less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorStorageImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03021" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03021"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03021</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>
accessible to any given shader stage across all elements of
<code>pSetLayouts</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPerStageDescriptorInputAttachments</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-02214" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-02214"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-02214</span><br>

The total number of bindings in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
and
with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code>, <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceInlineUniformBlockProperties</code>::<code>maxPerStageDescriptorInlineUniformBlocks</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03022" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03022"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03022</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindSamplers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03023" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03023"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03023</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> and
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindUniformBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03024" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03024"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03024</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> and
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindStorageBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03025" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03025"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03025</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindSampledImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03026" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03026"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03026</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindStorageImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03027" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03027"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03027</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> accessible to any given shader
stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than or
equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindInputAttachments</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-02215" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-02215"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-02215</span><br>

The total number of bindings with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> accessible to any given
shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceInlineUniformBlockProperties</code>::<code>maxPerStageDescriptorUpdateAfterBindInlineUniformBlocks</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03028" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03028"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03028</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetSamplers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03029" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03029"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03029</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>
accessible across all shader stages and across all elements of
<code>pSetLayouts</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetUniformBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03030" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03030"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03030</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetUniformBuffersDynamic</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03031" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03031"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03031</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>
accessible across all shader stages and across all elements of
<code>pSetLayouts</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetStorageBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03032" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03032"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03032</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetStorageBuffersDynamic</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03033" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03033"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03033</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetSampledImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03034" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03034"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03034</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
and <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetStorageImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03035" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03035"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03035</span><br>

The total number of descriptors in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>
accessible across all shader stages and across all elements of
<code>pSetLayouts</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxDescriptorSetInputAttachments</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-02216" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-02216"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-02216</span><br>

The total number of bindings in descriptor set layouts
created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit set
with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceInlineUniformBlockProperties</code>::<code>maxDescriptorSetInlineUniformBlocks</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03036" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03036"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03036</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindSamplers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03037" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03037"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03037</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> accessible across all shader
stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindUniformBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03038" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03038"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03038</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindUniformBuffersDynamic</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03039" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03039"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03039</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> accessible across all shader
stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindStorageBuffers</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03040" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03040"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03040</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindStorageBuffersDynamic</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03041" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03041"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03041</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindSampledImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03042" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03042"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03042</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindStorageImages</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03043" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03043"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-03043</span><br>

The total number of descriptors of the type
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> accessible across all shader
stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceDescriptorIndexingProperties</code>::<code>maxDescriptorSetUpdateAfterBindInputAttachments</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-02217" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-02217"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-02217</span><br>

The total number of bindings with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceInlineUniformBlockProperties</code>::<code>maxDescriptorSetUpdateAfterBindInlineUniformBlocks</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-06531" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-06531"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-06531</span><br>

The total number of descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> accessible across all
shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be less
than or equal to
<code>VkPhysicalDeviceVulkan13Properties</code>::<code>maxInlineUniformTotalSize</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-00292" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-00292"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-00292</span><br>

Any two elements of <code>pPushConstantRanges</code> <strong class="purple">must</strong> not include the same
stage in <code>stageFlags</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00293" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00293"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-00293</span><br>

<code>pSetLayouts</code> <strong class="purple">must</strong> not contain more than one descriptor set layout
that was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code> set</p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03571" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03571"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03571</span><br>

The total number of bindings in descriptor set layouts created without
the <code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit
set with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code> accessible to any
given shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be
less than or equal to
<a href="chap40.html#VkPhysicalDeviceAccelerationStructurePropertiesKHR">VkPhysicalDeviceAccelerationStructurePropertiesKHR</a>::<code>maxPerStageDescriptorAccelerationStructures</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03572" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03572"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03572</span><br>

The total number of bindings with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code> accessible to any
given shader stage across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be
less than or equal to
<a href="chap40.html#VkPhysicalDeviceAccelerationStructurePropertiesKHR">VkPhysicalDeviceAccelerationStructurePropertiesKHR</a>::<code>maxPerStageDescriptorUpdateAfterBindAccelerationStructures</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03573" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03573"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03573</span><br>

The total number of bindings in descriptor set layouts created without
the <code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit
set with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code> accessible across
all shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be
less than or equal to
<a href="chap40.html#VkPhysicalDeviceAccelerationStructurePropertiesKHR">VkPhysicalDeviceAccelerationStructurePropertiesKHR</a>::<code>maxDescriptorSetAccelerationStructures</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-descriptorType-03574" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-descriptorType-03574"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-descriptorType-03574</span><br>

The total number of bindings with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code> accessible across
all shader stages and across all elements of <code>pSetLayouts</code> <strong class="purple">must</strong> be
less than or equal to
<a href="chap40.html#VkPhysicalDeviceAccelerationStructurePropertiesKHR">VkPhysicalDeviceAccelerationStructurePropertiesKHR</a>::<code>maxDescriptorSetUpdateAfterBindAccelerationStructures</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-graphicsPipelineLibrary-06753" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-graphicsPipelineLibrary-06753"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-graphicsPipelineLibrary-06753</span><br>

Elements
    of <code>pSetLayouts</code> <strong class="purple">must</strong> be valid <a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> objects</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-sType-sType" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pNext-pNext" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-flags-zerobitmask" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-flags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pSetLayouts-parameter" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pSetLayouts-parameter"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pSetLayouts-parameter</span><br>
 If <code>setLayoutCount</code> is not <code>0</code>, <code>pSetLayouts</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>setLayoutCount</code> valid or <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> <a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handles</p>
</li>
<li>
<p><a id="VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-parameter" href="chap14.html#VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-parameter"></a> <span class="vuid">VUID-VkPipelineLayoutCreateInfo-pPushConstantRanges-parameter</span><br>
 If <code>pushConstantRangeCount</code> is not <code>0</code>, <code>pPushConstantRanges</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pushConstantRangeCount</code> valid <a href="chap14.html#VkPushConstantRange">VkPushConstantRange</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineLayoutCreateFlagBits" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkPipelineLayoutCreateFlagBits</span> <span class="p">{</span>
<span class="p">}</span> <span class="n">VkPipelineLayoutCreateFlagBits</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>All values for this enum are defined by extensions.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineLayoutCreateFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkPipelineLayoutCreateFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineLayoutCreateFlags</code> is a bitmask type for setting a mask of
<a href="chap14.html#VkPipelineLayoutCreateFlagBits">VkPipelineLayoutCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPushConstantRange</code> structure is defined as:</p>
</div>
<div id="VkPushConstantRange" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPushConstantRange</span> <span class="p">{</span>
    <span class="n">VkShaderStageFlags</span>    <span class="n">stageFlags</span><span class="p">;</span>
    <span class="kt">uint32_t</span>              <span class="n">offset</span><span class="p">;</span>
    <span class="kt">uint32_t</span>              <span class="n">size</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPushConstantRange</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>stageFlags</code> is a set of stage flags describing the shader stages
that will access a range of push constants.
If a particular stage is not included in the range, then accessing
members of that range of push constants from the corresponding shader
stage will return undefined values.</p>
</li>
<li>
<p><code>offset</code> and <code>size</code> are the start offset and size, respectively,
consumed by the range.
Both <code>offset</code> and <code>size</code> are in units of bytes and <strong class="purple">must</strong> be a
multiple of 4.
The layout of the push constant variables is specified in the shader.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPushConstantRange-offset-00294" href="chap14.html#VUID-VkPushConstantRange-offset-00294"></a> <span class="vuid">VUID-VkPushConstantRange-offset-00294</span><br>

<code>offset</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-offset-00295" href="chap14.html#VUID-VkPushConstantRange-offset-00295"></a> <span class="vuid">VUID-VkPushConstantRange-offset-00295</span><br>

<code>offset</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-size-00296" href="chap14.html#VUID-VkPushConstantRange-size-00296"></a> <span class="vuid">VUID-VkPushConstantRange-size-00296</span><br>

<code>size</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-size-00297" href="chap14.html#VUID-VkPushConstantRange-size-00297"></a> <span class="vuid">VUID-VkPushConstantRange-size-00297</span><br>

<code>size</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-size-00298" href="chap14.html#VUID-VkPushConstantRange-size-00298"></a> <span class="vuid">VUID-VkPushConstantRange-size-00298</span><br>

<code>size</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code> minus
<code>offset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPushConstantRange-stageFlags-parameter" href="chap14.html#VUID-VkPushConstantRange-stageFlags-parameter"></a> <span class="vuid">VUID-VkPushConstantRange-stageFlags-parameter</span><br>
 <code>stageFlags</code> <strong class="purple">must</strong> be a valid combination of <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPushConstantRange-stageFlags-requiredbitmask" href="chap14.html#VUID-VkPushConstantRange-stageFlags-requiredbitmask"></a> <span class="vuid">VUID-VkPushConstantRange-stageFlags-requiredbitmask</span><br>
 <code>stageFlags</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Once created, pipeline layouts are used as part of pipeline creation (see
<a href="chap10.html">Pipelines</a>), as part of binding descriptor sets (see
<a href="chap14.html#descriptorsets-binding">Descriptor Set Binding</a>), and as part of setting
push constants (see <a href="chap14.html#descriptorsets-push-constants">Push Constant
Updates</a>).
Pipeline creation accepts a pipeline layout as input, and the layout <strong class="purple">may</strong> be
used to map (set, binding, arrayElement) tuples to implementation resources
or memory locations within a descriptor set.
The assignment of implementation resources depends only on the bindings
defined in the descriptor sets that comprise the pipeline layout, and not on
any shader source.</p>
</div>
<div id="descriptorsets-pipelinelayout-consistency" class="paragraph">
<p>All resource variables <a href="chap9.html#shaders-staticuse">statically used</a> in all shaders
in a pipeline <strong class="purple">must</strong> be declared with a (set, binding, arrayElement) that
exists in the corresponding descriptor set layout and is of an appropriate
descriptor type and includes the set of shader stages it is used by in
<code>stageFlags</code>.
The pipeline layout <strong class="purple">can</strong> include entries that are not used by a particular
pipeline.
The pipeline layout allows the application to provide a consistent set of
bindings across multiple pipeline compiles, which enables those pipelines to
be compiled in a way that the implementation <strong class="purple">may</strong> cheaply switch pipelines
without reprogramming the bindings.</p>
</div>
<div class="paragraph">
<p>Similarly, the push constant block declared in each shader (if present)
<strong class="purple">must</strong> only place variables at offsets that are each included in a push
constant range with <code>stageFlags</code> including the bit corresponding to the
shader stage that uses it.
The pipeline layout <strong class="purple">can</strong> include ranges or portions of ranges that are not
used by a particular pipeline.</p>
</div>
<div class="paragraph">
<p>There is a limit on the total number of resources of each type that <strong class="purple">can</strong> be
included in bindings in all descriptor set layouts in a pipeline layout as
shown in <a href="chap14.html#descriptorsets-pipelinelayout-limits">Pipeline Layout Resource
Limits</a>.
The “Total Resources Available” column gives the limit on the number of
each type of resource that <strong class="purple">can</strong> be included in bindings in all descriptor
sets in the pipeline layout.
Some resource types count against multiple limits.
Additionally, there are limits on the total number of each type of resource
that <strong class="purple">can</strong> be used in any pipeline stage as described in
<a href="chap15.html#interfaces-resources-limits">Shader Resource Limits</a>.</p>
</div>
<table id="descriptorsets-pipelinelayout-limits" class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 13. Pipeline Layout Resource Limits</caption>
<colgroup>
<col style="width: 62.7118%;">
<col style="width: 37.2882%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Total Resources Available</th>
<th class="tableblock halign-left valign-top">Resource Types</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetSamplers</code>
or <code>maxDescriptorSetUpdateAfterBindSamplers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock"><code>maxDescriptorSetSampledImages</code>
or <code>maxDescriptorSetUpdateAfterBindSampledImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetStorageImages</code>
or <code>maxDescriptorSetUpdateAfterBindStorageImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetUniformBuffers</code>
or <code>maxDescriptorSetUpdateAfterBindUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetUniformBuffersDynamic</code>
or <code>maxDescriptorSetUpdateAfterBindUniformBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxDescriptorSetStorageBuffers</code>
or <code>maxDescriptorSetUpdateAfterBindStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetStorageBuffersDynamic</code>
or <code>maxDescriptorSetUpdateAfterBindStorageBuffersDynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetInputAttachments</code>
or <code>maxDescriptorSetUpdateAfterBindInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetInlineUniformBlocks</code>
or <code>maxDescriptorSetUpdateAfterBindInlineUniformBlocks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inline uniform block</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxDescriptorSetAccelerationStructures</code>
or <code>maxDescriptorSetUpdateAfterBindAccelerationStructures</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">acceleration structure</p></td>
</tr>
</tbody>
</table>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a pipeline layout, call:</p>
</div>
<div id="vkDestroyPipelineLayout" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="kt">void</span> <span class="nf">vkDestroyPipelineLayout</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkPipelineLayout</span>                            <span class="n">pipelineLayout</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the pipeline layout.</p>
</li>
<li>
<p><code>pipelineLayout</code> is the pipeline layout to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-00299" href="chap14.html#VUID-vkDestroyPipelineLayout-pipelineLayout-00299"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pipelineLayout-00299</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>pipelineLayout</code>
was created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-00300" href="chap14.html#VUID-vkDestroyPipelineLayout-pipelineLayout-00300"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pipelineLayout-00300</span><br>

If no <code>VkAllocationCallbacks</code> were provided when
<code>pipelineLayout</code> was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-02004" href="chap14.html#VUID-vkDestroyPipelineLayout-pipelineLayout-02004"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pipelineLayout-02004</span><br>

<code>pipelineLayout</code> <strong class="purple">must</strong> not have been passed to any <code>vkCmd*</code>
command for any command buffers that are still in the
<a href="chap6.html#commandbuffers-lifecycle">recording state</a> when
<code>vkDestroyPipelineLayout</code> is called</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-device-parameter" href="chap14.html#VUID-vkDestroyPipelineLayout-device-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-parameter" href="chap14.html#VUID-vkDestroyPipelineLayout-pipelineLayout-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pipelineLayout-parameter</span><br>
 If <code>pipelineLayout</code> is not <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>pipelineLayout</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pAllocator-parameter" href="chap14.html#VUID-vkDestroyPipelineLayout-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyPipelineLayout-pipelineLayout-parent" href="chap14.html#VUID-vkDestroyPipelineLayout-pipelineLayout-parent"></a> <span class="vuid">VUID-vkDestroyPipelineLayout-pipelineLayout-parent</span><br>
 If <code>pipelineLayout</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pipelineLayout</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="descriptorsets-compatibility"><a class="anchor" href="chap14.html#descriptorsets-compatibility"></a>Pipeline Layout Compatibility</h5>
<div class="paragraph">
<p>Two pipeline layouts are defined to be “compatible for
<a href="chap14.html#descriptorsets-push-constants">push constants</a>” if they were created
with identical push constant ranges.
Two pipeline layouts are defined to be “compatible for set N” if they were
created with <em>identically defined</em> descriptor set layouts for sets zero
through N,
and if they were created with identical push constant ranges.</p>
</div>
<div class="paragraph">
<p>When binding a descriptor set (see <a href="chap14.html#descriptorsets-binding">Descriptor Set
Binding</a>) to set number N, a previously bound descriptor set bound with
lower index M than N is disturbed if the pipeline layouts for set M and N
are not compatible for set M. Otherwise, the bound descriptor set in M is
not disturbed.</p>
</div>
<div class="paragraph">
<p>If, additionally, the previously bound descriptor set for set N was bound
using a pipeline layout not compatible for set N, then all bindings in sets
numbered greater than N are disturbed.</p>
</div>
<div class="paragraph">
<p>When binding a pipeline, the pipeline <strong class="purple">can</strong> correctly access any previously
bound descriptor set N if it was bound with compatible pipeline layout for
set N, and it was not disturbed.</p>
</div>
<div class="paragraph">
<p>Layout compatibility means that descriptor sets <strong class="purple">can</strong> be bound to a command
buffer for use by any pipeline created with a compatible pipeline layout,
and without having bound a particular pipeline first.
It also means that descriptor sets <strong class="purple">can</strong> remain valid across a pipeline
change, and the same resources will be accessible to the newly bound
pipeline.</p>
</div>
<div class="paragraph">
<p>When a descriptor set is disturbed by binding descriptor sets, the disturbed
set is considered to contain undefined descriptors bound with the same
pipeline layout as the disturbing descriptor set.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Implementor’s Note</div>
<div class="paragraph">
<p>A consequence of layout compatibility is that when the implementation
compiles a pipeline layout and maps pipeline resources to implementation
resources, the mechanism for set N <strong class="purple">should</strong> only be a function of sets
[0..N].</p>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Place the least frequently changing descriptor sets near the start of the
pipeline layout, and place the descriptor sets representing the most
frequently changing resources near the end.
When pipelines are switched, only the descriptor set bindings that have been
invalidated will need to be updated and the remainder of the descriptor set
bindings will remain in place.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The maximum number of descriptor sets that <strong class="purple">can</strong> be bound to a pipeline
layout is queried from physical device properties (see
<code>maxBoundDescriptorSets</code> in <a href="chap40.html">Limits</a>).</p>
</div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="k">const</span> <span class="n">VkDescriptorSetLayout</span> <span class="n">layouts</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="n">layout1</span><span class="p">,</span> <span class="n">layout2</span> <span class="p">};</span>

<span class="k">const</span> <span class="n">VkPushConstantRange</span> <span class="n">ranges</span><span class="p">[]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">stageFlags</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_VERTEX_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">stageFlags</span> <span class="o">=</span> <span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
        <span class="p">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
        <span class="p">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="p">},</span>
<span class="p">};</span>

<span class="k">const</span> <span class="n">VkPipelineLayoutCreateInfo</span> <span class="n">createInfo</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</span><span class="p">,</span>
    <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
    <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">.</span><span class="n">setLayoutCount</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="p">.</span><span class="n">pSetLayouts</span> <span class="o">=</span> <span class="n">layouts</span><span class="p">,</span>
    <span class="p">.</span><span class="n">pushConstantRangeCount</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="p">.</span><span class="n">pPushConstantRanges</span> <span class="o">=</span> <span class="n">ranges</span>
<span class="p">};</span>

<span class="n">VkPipelineLayout</span> <span class="n">myPipelineLayout</span><span class="p">;</span>
<span class="n">myResult</span> <span class="o">=</span> <span class="n">vkCreatePipelineLayout</span><span class="p">(</span>
    <span class="n">myDevice</span><span class="p">,</span>
    <span class="o">&amp;</span><span class="n">createInfo</span><span class="p">,</span>
    <span class="nb">NULL</span><span class="p">,</span>
    <span class="o">&amp;</span><span class="n">myPipelineLayout</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-allocation"><a class="anchor" href="chap14.html#descriptorsets-allocation"></a>14.2.3. Allocation of Descriptor Sets</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A <em>descriptor pool</em> maintains a pool of descriptors, from which descriptor
sets are allocated.
Descriptor pools are externally synchronized, meaning that the application
<strong class="purple">must</strong> not allocate and/or free descriptor sets from the same pool in
multiple threads simultaneously.</p>
</div>
<div class="paragraph">
<p>Descriptor pools are represented by <code>VkDescriptorPool</code> handles:</p>
</div>
<div id="VkDescriptorPool" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkDescriptorPool</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To create a descriptor pool object, call:</p>
</div>
<div id="vkCreateDescriptorPool" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VkResult</span> <span class="nf">vkCreateDescriptorPool</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDescriptorPoolCreateInfo</span><span class="o">*</span>           <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkDescriptorPool</span><span class="o">*</span>                           <span class="n">pDescriptorPool</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the descriptor pool.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a <a href="chap14.html#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>
structure specifying the state of the descriptor pool object.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pDescriptorPool</code> is a pointer to a <a href="chap14.html#VkDescriptorPool">VkDescriptorPool</a> handle in
which the resulting descriptor pool object is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The created descriptor pool is returned in <code>pDescriptorPool</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDescriptorPool-device-parameter" href="chap14.html#VUID-vkCreateDescriptorPool-device-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorPool-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorPool-pCreateInfo-parameter" href="chap14.html#VUID-vkCreateDescriptorPool-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorPool-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap14.html#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorPool-pAllocator-parameter" href="chap14.html#VUID-vkCreateDescriptorPool-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorPool-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorPool-pDescriptorPool-parameter" href="chap14.html#VUID-vkCreateDescriptorPool-pDescriptorPool-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorPool-pDescriptorPool-parameter</span><br>
 <code>pDescriptorPool</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap14.html#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Additional information about the pool is passed in a
<code>VkDescriptorPoolCreateInfo</code> structure:</p>
</div>
<div id="VkDescriptorPoolCreateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorPoolCreateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                    <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDescriptorPoolCreateFlags</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                       <span class="n">maxSets</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                       <span class="n">poolSizeCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkDescriptorPoolSize</span><span class="o">*</span>    <span class="n">pPoolSizes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorPoolCreateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="chap14.html#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a>
specifying certain supported operations on the pool.</p>
</li>
<li>
<p><code>maxSets</code> is the maximum number of descriptor sets that <strong class="purple">can</strong> be
allocated from the pool.</p>
</li>
<li>
<p><code>poolSizeCount</code> is the number of elements in <code>pPoolSizes</code>.</p>
</li>
<li>
<p><code>pPoolSizes</code> is a pointer to an array of <a href="chap14.html#VkDescriptorPoolSize">VkDescriptorPoolSize</a>
structures, each containing a descriptor type and number of descriptors
of that type to be allocated in the pool.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If multiple <code>VkDescriptorPoolSize</code> structures containing the same
descriptor type appear in the <code>pPoolSizes</code> array then the pool will be
created with enough storage for the total number of descriptors of each
type.</p>
</div>
<div class="paragraph">
<p>Fragmentation of a descriptor pool is possible and <strong class="purple">may</strong> lead to descriptor
set allocation failures.
A failure due to fragmentation is defined as failing a descriptor set
allocation despite the sum of all outstanding descriptor set allocations
from the pool plus the requested allocation requiring no more than the total
number of descriptors requested at pool creation.
Implementations provide certain guarantees of when fragmentation <strong class="purple">must</strong> not
cause allocation failure, as described below.</p>
</div>
<div class="paragraph">
<p>If a descriptor pool has not had any descriptor sets freed since it was
created or most recently reset then fragmentation <strong class="purple">must</strong> not cause an
allocation failure (note that this is always the case for a pool created
without the <code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> bit
set).
Additionally, if all sets allocated from the pool since it was created or
most recently reset use the same number of descriptors (of each type) and
the requested allocation also uses that same number of descriptors (of each
type), then fragmentation <strong class="purple">must</strong> not cause an allocation failure.</p>
</div>
<div class="paragraph">
<p>If an allocation failure occurs due to fragmentation, an application <strong class="purple">can</strong>
create an additional descriptor pool to perform further descriptor set
allocations.</p>
</div>
<div class="paragraph">
<p>If <code>flags</code> has the <code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code>
bit set, descriptor pool creation <strong class="purple">may</strong> fail with the error
<code>VK_ERROR_FRAGMENTATION</code> if the total number of descriptors across all
pools (including this one) created with this bit set exceeds
<code>maxUpdateAfterBindDescriptorsInAllPools</code>, or if fragmentation of the
underlying hardware resources occurs.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-descriptorPoolOverallocation-09227" href="chap14.html#VUID-VkDescriptorPoolCreateInfo-descriptorPoolOverallocation-09227"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-descriptorPoolOverallocation-09227</span><br>

<code>maxSets</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-pPoolSizes-09424" href="chap14.html#VUID-VkDescriptorPoolCreateInfo-pPoolSizes-09424"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-pPoolSizes-09424</span><br>

If <code>pPoolSizes</code> contains a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, the <code>pNext</code> chain
<strong class="purple">must</strong> include a <a href="chap14.html#VkDescriptorPoolInlineUniformBlockCreateInfo">VkDescriptorPoolInlineUniformBlockCreateInfo</a>
structure whose <code>maxInlineUniformBlockBindings</code> member is not zero</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-sType-sType" href="chap14.html#VUID-VkDescriptorPoolCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-pNext-pNext" href="chap14.html#VUID-VkDescriptorPoolCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="chap14.html#VkDescriptorPoolInlineUniformBlockCreateInfo">VkDescriptorPoolInlineUniformBlockCreateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-sType-unique" href="chap14.html#VUID-VkDescriptorPoolCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-flags-parameter" href="chap14.html#VUID-VkDescriptorPoolCreateInfo-flags-parameter"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-flags-parameter</span><br>
 <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="chap14.html#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolCreateInfo-pPoolSizes-parameter" href="chap14.html#VUID-VkDescriptorPoolCreateInfo-pPoolSizes-parameter"></a> <span class="vuid">VUID-VkDescriptorPoolCreateInfo-pPoolSizes-parameter</span><br>
 If <code>poolSizeCount</code> is not <code>0</code>, <code>pPoolSizes</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>poolSizeCount</code> valid <a href="chap14.html#VkDescriptorPoolSize">VkDescriptorPoolSize</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In order to be able to allocate descriptor sets having
<a href="chap14.html#descriptorsets-inlineuniformblock">inline uniform block</a> bindings the
descriptor pool <strong class="purple">must</strong> be created with specifying the inline uniform block
binding capacity of the descriptor pool, in addition to the total inline
uniform data capacity in bytes which is specified through a
<a href="chap14.html#VkDescriptorPoolSize">VkDescriptorPoolSize</a> structure with a <code>descriptorType</code> value of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>.
This <strong class="purple">can</strong> be done by adding a
<code>VkDescriptorPoolInlineUniformBlockCreateInfo</code> structure to the
<code>pNext</code> chain of <a href="chap14.html#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>.</p>
</div>
<div class="paragraph">
<p>The <code>VkDescriptorPoolInlineUniformBlockCreateInfo</code> structure is defined
as:</p>
</div>
<div id="VkDescriptorPoolInlineUniformBlockCreateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_3</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorPoolInlineUniformBlockCreateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">maxInlineUniformBlockBindings</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorPoolInlineUniformBlockCreateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>maxInlineUniformBlockBindings</code> is the number of inline uniform
block bindings to allocate.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolInlineUniformBlockCreateInfo-sType-sType" href="chap14.html#VUID-VkDescriptorPoolInlineUniformBlockCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorPoolInlineUniformBlockCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_INLINE_UNIFORM_BLOCK_CREATE_INFO</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">can</strong> be set in <a href="chap14.html#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>::<code>flags</code>,
enabling operations on a descriptor pool, are:</p>
</div>
<div id="VkDescriptorPoolCreateFlagBits" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkDescriptorPoolCreateFlagBits</span> <span class="p">{</span>
    <span class="n">VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
  <span class="c1">// Provided by VK_VERSION_1_2</span>
    <span class="n">VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkDescriptorPoolCreateFlagBits</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> specifies that
descriptor sets <strong class="purple">can</strong> return their individual allocations to the pool,
i.e. all of <a href="chap14.html#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a>, <a href="chap14.html#vkFreeDescriptorSets">vkFreeDescriptorSets</a>,
and <a href="chap14.html#vkResetDescriptorPool">vkResetDescriptorPool</a> are allowed.
Otherwise, descriptor sets allocated from the pool <strong class="purple">must</strong> not be
individually freed back to the pool, i.e. only
<a href="chap14.html#vkAllocateDescriptorSets">vkAllocateDescriptorSets</a> and <a href="chap14.html#vkResetDescriptorPool">vkResetDescriptorPool</a> are
allowed.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> specifies that
descriptor sets allocated from this pool <strong class="purple">can</strong> include bindings with the
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> bit set.
It is valid to allocate descriptor sets that have bindings that do not
set the <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> bit from a
pool that has <code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> set.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorPoolCreateFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkDescriptorPoolCreateFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorPoolCreateFlags</code> is a bitmask type for setting a mask of
zero or more <a href="chap14.html#VkDescriptorPoolCreateFlagBits">VkDescriptorPoolCreateFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorPoolSize</code> structure is defined as:</p>
</div>
<div id="VkDescriptorPoolSize" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorPoolSize</span> <span class="p">{</span>
    <span class="n">VkDescriptorType</span>    <span class="n">type</span><span class="p">;</span>
    <span class="kt">uint32_t</span>            <span class="n">descriptorCount</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorPoolSize</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>type</code> is the type of descriptor.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors of that type to
allocate.
If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>descriptorCount</code> is the number of bytes to allocate for descriptors
of this type.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When creating a descriptor pool that will contain descriptors for combined
image samplers of multi-planar formats, an application needs to account for
non-trivial descriptor consumption when choosing the <code>descriptorCount</code>
value, as indicated by
<a href="chap42.html#VkSamplerYcbcrConversionImageFormatProperties">VkSamplerYcbcrConversionImageFormatProperties</a>::<code>combinedImageSamplerDescriptorCount</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolSize-descriptorCount-00302" href="chap14.html#VUID-VkDescriptorPoolSize-descriptorCount-00302"></a> <span class="vuid">VUID-VkDescriptorPoolSize-descriptorCount-00302</span><br>

<code>descriptorCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorPoolSize-type-02218" href="chap14.html#VUID-VkDescriptorPoolSize-type-02218"></a> <span class="vuid">VUID-VkDescriptorPoolSize-type-02218</span><br>

If <code>type</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>descriptorCount</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorPoolSize-type-parameter" href="chap14.html#VUID-VkDescriptorPoolSize-type-parameter"></a> <span class="vuid">VUID-VkDescriptorPoolSize-type-parameter</span><br>
 <code>type</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a descriptor pool, call:</p>
</div>
<div id="vkDestroyDescriptorPool" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="kt">void</span> <span class="nf">vkDestroyDescriptorPool</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkDescriptorPool</span>                            <span class="n">descriptorPool</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that destroys the descriptor pool.</p>
</li>
<li>
<p><code>descriptorPool</code> is the descriptor pool to destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a pool is destroyed, all descriptor sets allocated from the pool are
implicitly freed and become invalid.
Descriptor sets allocated from a given pool do not need to be freed before
destroying that descriptor pool.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-00303" href="chap14.html#VUID-vkDestroyDescriptorPool-descriptorPool-00303"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-descriptorPool-00303</span><br>

All submitted commands that refer to <code>descriptorPool</code> (via any
allocated descriptor sets) <strong class="purple">must</strong> have completed execution</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-00304" href="chap14.html#VUID-vkDestroyDescriptorPool-descriptorPool-00304"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-descriptorPool-00304</span><br>

If <code>VkAllocationCallbacks</code> were provided when <code>descriptorPool</code>
was created, a compatible set of callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-00305" href="chap14.html#VUID-vkDestroyDescriptorPool-descriptorPool-00305"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-descriptorPool-00305</span><br>

If no <code>VkAllocationCallbacks</code> were provided when
<code>descriptorPool</code> was created, <code>pAllocator</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-device-parameter" href="chap14.html#VUID-vkDestroyDescriptorPool-device-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-parameter" href="chap14.html#VUID-vkDestroyDescriptorPool-descriptorPool-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-descriptorPool-parameter</span><br>
 If <code>descriptorPool</code> is not <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>descriptorPool</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-pAllocator-parameter" href="chap14.html#VUID-vkDestroyDescriptorPool-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorPool-descriptorPool-parent" href="chap14.html#VUID-vkDestroyDescriptorPool-descriptorPool-parent"></a> <span class="vuid">VUID-vkDestroyDescriptorPool-descriptorPool-parent</span><br>
 If <code>descriptorPool</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Descriptor sets are allocated from descriptor pool objects, and are
represented by <code>VkDescriptorSet</code> handles:</p>
</div>
<div id="VkDescriptorSet" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkDescriptorSet</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To allocate descriptor sets from a descriptor pool, call:</p>
</div>
<div id="vkAllocateDescriptorSets" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VkResult</span> <span class="nf">vkAllocateDescriptorSets</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDescriptorSetAllocateInfo</span><span class="o">*</span>          <span class="n">pAllocateInfo</span><span class="p">,</span>
    <span class="n">VkDescriptorSet</span><span class="o">*</span>                            <span class="n">pDescriptorSets</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the descriptor pool.</p>
</li>
<li>
<p><code>pAllocateInfo</code> is a pointer to a <a href="chap14.html#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a>
structure describing parameters of the allocation.</p>
</li>
<li>
<p><code>pDescriptorSets</code> is a pointer to an array of <a href="chap14.html#VkDescriptorSet">VkDescriptorSet</a>
handles in which the resulting descriptor set objects are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The allocated descriptor sets are returned in <code>pDescriptorSets</code>.</p>
</div>
<div id="descriptor-set-initial-state" class="paragraph">
<p>When a descriptor set is allocated, the initial state is largely
uninitialized and all descriptors are undefined, with the exception that
samplers with a non-null <code>pImmutableSamplers</code> are initialized on
allocation.
Descriptors also become undefined if the underlying resource or view object
is destroyed.
Descriptor sets containing undefined descriptors <strong class="purple">can</strong> still be bound and
used, subject to the following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For descriptor set bindings created with the
<code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code> bit set, all descriptors
in that binding that are dynamically used <strong class="purple">must</strong> have been populated
before the descriptor set is <a href="chap14.html#descriptorsets-binding">consumed</a>.</p>
</li>
<li>
<p>For descriptor set bindings created without the
<code>VK_DESCRIPTOR_BINDING_PARTIALLY_BOUND_BIT</code> bit set, all descriptors
in that binding that are statically used <strong class="purple">must</strong> have been populated
before the descriptor set is <a href="chap14.html#descriptorsets-binding">consumed</a>.</p>
</li>
<li>
<p>Descriptor bindings with descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> <strong class="purple">can</strong> be undefined when
the descriptor set is <a href="chap14.html#descriptorsets-binding">consumed</a>; though values
in that block will be undefined.</p>
</li>
<li>
<p>Entries that are not used by a pipeline <strong class="purple">can</strong> have undefined
descriptors.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a call to <code>vkAllocateDescriptorSets</code> would cause the total number of
descriptor sets allocated from the pool to exceed the value of
<a href="chap14.html#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>::<code>maxSets</code> used to create
<code>pAllocateInfo-&gt;descriptorPool</code>, then the allocation <strong class="purple">may</strong> fail due to
lack of space in the descriptor pool.
Similarly, the allocation <strong class="purple">may</strong> fail due to lack of space if the call to
<code>vkAllocateDescriptorSets</code> would cause the number of any given
descriptor type to exceed the sum of all the <code>descriptorCount</code> members
of each element of <a href="chap14.html#VkDescriptorPoolCreateInfo">VkDescriptorPoolCreateInfo</a>::<code>pPoolSizes</code> with a
<code>type</code> equal to that type.</p>
</div>
<div class="paragraph">
<p>Additionally, the allocation <strong class="purple">may</strong> also fail if a call to
<code>vkAllocateDescriptorSets</code> would cause the total number of inline
uniform block bindings allocated from the pool to exceed the value of
<a href="chap14.html#VkDescriptorPoolInlineUniformBlockCreateInfo">VkDescriptorPoolInlineUniformBlockCreateInfo</a>::<code>maxInlineUniformBlockBindings</code>
used to create the descriptor pool.</p>
</div>
<div class="paragraph">
<p>If the allocation fails due to no more space in the descriptor pool, and not
because of system or device memory exhaustion, then
<code>VK_ERROR_OUT_OF_POOL_MEMORY</code> <strong class="purple">must</strong> be returned.</p>
</div>
<div class="paragraph">
<p><code>vkAllocateDescriptorSets</code> <strong class="purple">can</strong> be used to create multiple descriptor
sets.
If the creation of any of those descriptor sets fails, then the
implementation <strong class="purple">must</strong> destroy all successfully created descriptor set objects
from this command, set all entries of the <code>pDescriptorSets</code> array to
<a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> and return the error.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-device-parameter" href="chap14.html#VUID-vkAllocateDescriptorSets-device-parameter"></a> <span class="vuid">VUID-vkAllocateDescriptorSets-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-pAllocateInfo-parameter" href="chap14.html#VUID-vkAllocateDescriptorSets-pAllocateInfo-parameter"></a> <span class="vuid">VUID-vkAllocateDescriptorSets-pAllocateInfo-parameter</span><br>
 <code>pAllocateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap14.html#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-pDescriptorSets-parameter" href="chap14.html#VUID-vkAllocateDescriptorSets-pDescriptorSets-parameter"></a> <span class="vuid">VUID-vkAllocateDescriptorSets-pDescriptorSets-parameter</span><br>
 <code>pDescriptorSets</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pAllocateInfo-&gt;descriptorSetCount</code> <a href="chap14.html#VkDescriptorSet">VkDescriptorSet</a> handles</p>
</li>
<li>
<p><a id="VUID-vkAllocateDescriptorSets-pAllocateInfo::descriptorSetCount-arraylength" href="chap14.html#VUID-vkAllocateDescriptorSets-pAllocateInfo::descriptorSetCount-arraylength"></a> <span class="vuid">VUID-vkAllocateDescriptorSets-pAllocateInfo::descriptorSetCount-arraylength</span><br>
 <code>pAllocateInfo-&gt;descriptorSetCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>pAllocateInfo-&gt;descriptorPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FRAGMENTED_POOL</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_POOL_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorSetAllocateInfo</code> structure is defined as:</p>
</div>
<div id="VkDescriptorSetAllocateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorSetAllocateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                 <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                     <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDescriptorPool</span>                <span class="n">descriptorPool</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                        <span class="n">descriptorSetCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkDescriptorSetLayout</span><span class="o">*</span>    <span class="n">pSetLayouts</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorSetAllocateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>descriptorPool</code> is the pool which the sets will be allocated from.</p>
</li>
<li>
<p><code>descriptorSetCount</code> determines the number of descriptor sets to be
allocated from the pool.</p>
</li>
<li>
<p><code>pSetLayouts</code> is a pointer to an array of descriptor set layouts,
with each member specifying how the corresponding descriptor set is
allocated.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-apiVersion-07895" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-apiVersion-07895"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-apiVersion-07895</span><br>

If the <a href="chap48.html#VK_KHR_maintenance1">VK_KHR_maintenance1</a> extension is not enabled and
<a href="chap5.html#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>apiVersion</code> is less than Vulkan
1.1,
<code>descriptorSetCount</code> <strong class="purple">must</strong> not be greater than the number of sets
that are currently available for allocation in <code>descriptorPool</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-apiVersion-07896" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-apiVersion-07896"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-apiVersion-07896</span><br>

If the <a href="chap48.html#VK_KHR_maintenance1">VK_KHR_maintenance1</a> extension is not enabled and
<a href="chap5.html#VkPhysicalDeviceProperties">VkPhysicalDeviceProperties</a>::<code>apiVersion</code> is less than Vulkan
1.1,
<code>descriptorPool</code> <strong class="purple">must</strong> have enough free descriptor capacity
remaining to allocate the descriptor sets of the specified layouts</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pSetLayouts-00308" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-pSetLayouts-00308"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-pSetLayouts-00308</span><br>

Each element of <code>pSetLayouts</code> <strong class="purple">must</strong> not have been created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code> set</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pSetLayouts-03044" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-pSetLayouts-03044"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-pSetLayouts-03044</span><br>

If any element of <code>pSetLayouts</code> was created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> bit
set, <code>descriptorPool</code> <strong class="purple">must</strong> have been created with the
<code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pSetLayouts-09380" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-pSetLayouts-09380"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-pSetLayouts-09380</span><br>

If <code>pSetLayouts</code>[i] was created with an element of
<code>pBindingFlags</code> that includes
<code>VK_DESCRIPTOR_BINDING_VARIABLE_DESCRIPTOR_COUNT_BIT</code>, and
<a href="chap14.html#VkDescriptorSetVariableDescriptorCountAllocateInfo">VkDescriptorSetVariableDescriptorCountAllocateInfo</a> is included in
the <code>pNext</code> chain, and
<code>VkDescriptorSetVariableDescriptorCountAllocateInfo</code>::<code>descriptorSetCount</code>
is not zero, then
<a href="chap14.html#VkDescriptorSetVariableDescriptorCountAllocateInfo">VkDescriptorSetVariableDescriptorCountAllocateInfo</a>::pDescriptorCounts[i]
<strong class="purple">must</strong> be less than or equal to
<a href="chap14.html#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a>::descriptorCount for the
corresponding binding used to create <code>pSetLayouts</code>[i]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-sType-sType" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_ALLOCATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pNext-pNext" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="chap14.html#VkDescriptorSetVariableDescriptorCountAllocateInfo">VkDescriptorSetVariableDescriptorCountAllocateInfo</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-sType-unique" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-sType-unique"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-descriptorPool-parameter" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-descriptorPool-parameter"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-descriptorPool-parameter</span><br>
 <code>descriptorPool</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-pSetLayouts-parameter" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-pSetLayouts-parameter"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-pSetLayouts-parameter</span><br>
 <code>pSetLayouts</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorSetCount</code> valid <a href="chap14.html#VkDescriptorSetLayout">VkDescriptorSetLayout</a> handles</p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-descriptorSetCount-arraylength" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-descriptorSetCount-arraylength"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-descriptorSetCount-arraylength</span><br>
 <code>descriptorSetCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetAllocateInfo-commonparent" href="chap14.html#VUID-VkDescriptorSetAllocateInfo-commonparent"></a> <span class="vuid">VUID-VkDescriptorSetAllocateInfo-commonparent</span><br>
 Both of <code>descriptorPool</code>, and the elements of <code>pSetLayouts</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of a <a href="chap14.html#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a> structure
includes a <code>VkDescriptorSetVariableDescriptorCountAllocateInfo</code>
structure, then that structure includes an array of descriptor counts for
variable-sized descriptor bindings, one for each descriptor set being
allocated.</p>
</div>
<div class="paragraph">
<p>The <code>VkDescriptorSetVariableDescriptorCountAllocateInfo</code> structure is
defined as:</p>
</div>
<div id="VkDescriptorSetVariableDescriptorCountAllocateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorSetVariableDescriptorCountAllocateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">descriptorSetCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">uint32_t</span><span class="o">*</span>    <span class="n">pDescriptorCounts</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorSetVariableDescriptorCountAllocateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>descriptorSetCount</code> is zero or the number of elements in
<code>pDescriptorCounts</code>.</p>
</li>
<li>
<p><code>pDescriptorCounts</code> is a pointer to an array of descriptor counts,
with each member specifying the number of descriptors in a
variable-sized descriptor binding in the corresponding descriptor set
being allocated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>descriptorSetCount</code> is zero or this structure is not included in the
<code>pNext</code> chain, then the variable lengths are considered to be zero.
Otherwise, <code>pDescriptorCounts</code>[i] is the number of descriptors in the
variable-sized descriptor binding in the corresponding descriptor set
layout.
If the variable-sized descriptor binding in the corresponding descriptor set
layout has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>pDescriptorCounts</code>[i] specifies the binding’s capacity in bytes.
If <a href="chap14.html#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a>::<code>pSetLayouts</code>[i] does not include
a variable-sized descriptor binding, then <code>pDescriptorCounts</code>[i] is
ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-descriptorSetCount-03045" href="chap14.html#VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-descriptorSetCount-03045"></a> <span class="vuid">VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-descriptorSetCount-03045</span><br>

If <code>descriptorSetCount</code> is not zero, <code>descriptorSetCount</code> <strong class="purple">must</strong>
equal <a href="chap14.html#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a>::<code>descriptorSetCount</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pSetLayouts-03046" href="chap14.html#VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pSetLayouts-03046"></a> <span class="vuid">VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pSetLayouts-03046</span><br>

If <a href="chap14.html#VkDescriptorSetAllocateInfo">VkDescriptorSetAllocateInfo</a>::<code>pSetLayouts</code>[i] has a
variable-sized descriptor binding, then <code>pDescriptorCounts</code>[i] <strong class="purple">must</strong>
be less than or equal to the descriptor count specified for that binding
when the descriptor set layout was created</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-sType-sType" href="chap14.html#VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_SET_VARIABLE_DESCRIPTOR_COUNT_ALLOCATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pDescriptorCounts-parameter" href="chap14.html#VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pDescriptorCounts-parameter"></a> <span class="vuid">VUID-VkDescriptorSetVariableDescriptorCountAllocateInfo-pDescriptorCounts-parameter</span><br>
 If <code>descriptorSetCount</code> is not <code>0</code>, <code>pDescriptorCounts</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorSetCount</code> <code>uint32_t</code> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To free allocated descriptor sets, call:</p>
</div>
<div id="vkFreeDescriptorSets" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VkResult</span> <span class="nf">vkFreeDescriptorSets</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkDescriptorPool</span>                            <span class="n">descriptorPool</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">descriptorSetCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDescriptorSet</span><span class="o">*</span>                      <span class="n">pDescriptorSets</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the descriptor pool.</p>
</li>
<li>
<p><code>descriptorPool</code> is the descriptor pool from which the descriptor
sets were allocated.</p>
</li>
<li>
<p><code>descriptorSetCount</code> is the number of elements in the
<code>pDescriptorSets</code> array.</p>
</li>
<li>
<p><code>pDescriptorSets</code> is a pointer to an array of handles to
<a href="chap14.html#VkDescriptorSet">VkDescriptorSet</a> objects.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After calling <code>vkFreeDescriptorSets</code>, all descriptor sets in
<code>pDescriptorSets</code> are invalid.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkFreeDescriptorSets-pDescriptorSets-00309" href="chap14.html#VUID-vkFreeDescriptorSets-pDescriptorSets-00309"></a> <span class="vuid">VUID-vkFreeDescriptorSets-pDescriptorSets-00309</span><br>

All submitted commands that refer to any element of
<code>pDescriptorSets</code> <strong class="purple">must</strong> have completed execution</p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-pDescriptorSets-00310" href="chap14.html#VUID-vkFreeDescriptorSets-pDescriptorSets-00310"></a> <span class="vuid">VUID-vkFreeDescriptorSets-pDescriptorSets-00310</span><br>

<code>pDescriptorSets</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>descriptorSetCount</code> <code>VkDescriptorSet</code> handles, each element of
which <strong class="purple">must</strong> either be a valid handle or <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorPool-00312" href="chap14.html#VUID-vkFreeDescriptorSets-descriptorPool-00312"></a> <span class="vuid">VUID-vkFreeDescriptorSets-descriptorPool-00312</span><br>

<code>descriptorPool</code> <strong class="purple">must</strong> have been created with the
<code>VK_DESCRIPTOR_POOL_CREATE_FREE_DESCRIPTOR_SET_BIT</code> flag</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkFreeDescriptorSets-device-parameter" href="chap14.html#VUID-vkFreeDescriptorSets-device-parameter"></a> <span class="vuid">VUID-vkFreeDescriptorSets-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorPool-parameter" href="chap14.html#VUID-vkFreeDescriptorSets-descriptorPool-parameter"></a> <span class="vuid">VUID-vkFreeDescriptorSets-descriptorPool-parameter</span><br>
 <code>descriptorPool</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorSetCount-arraylength" href="chap14.html#VUID-vkFreeDescriptorSets-descriptorSetCount-arraylength"></a> <span class="vuid">VUID-vkFreeDescriptorSets-descriptorSetCount-arraylength</span><br>
 <code>descriptorSetCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-descriptorPool-parent" href="chap14.html#VUID-vkFreeDescriptorSets-descriptorPool-parent"></a> <span class="vuid">VUID-vkFreeDescriptorSets-descriptorPool-parent</span><br>
 <code>descriptorPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkFreeDescriptorSets-pDescriptorSets-parent" href="chap14.html#VUID-vkFreeDescriptorSets-pDescriptorSets-parent"></a> <span class="vuid">VUID-vkFreeDescriptorSets-pDescriptorSets-parent</span><br>
 Each element of <code>pDescriptorSets</code> that is a valid handle <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>descriptorPool</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to each member of <code>pDescriptorSets</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To return all descriptor sets allocated from a given pool to the pool,
rather than freeing individual descriptor sets, call:</p>
</div>
<div id="vkResetDescriptorPool" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VkResult</span> <span class="nf">vkResetDescriptorPool</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkDescriptorPool</span>                            <span class="n">descriptorPool</span><span class="p">,</span>
    <span class="n">VkDescriptorPoolResetFlags</span>                  <span class="n">flags</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that owns the descriptor pool.</p>
</li>
<li>
<p><code>descriptorPool</code> is the descriptor pool to be reset.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Resetting a descriptor pool recycles all of the resources from all of the
descriptor sets allocated from the descriptor pool back to the descriptor
pool, and the descriptor sets are implicitly freed.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetDescriptorPool-descriptorPool-00313" href="chap14.html#VUID-vkResetDescriptorPool-descriptorPool-00313"></a> <span class="vuid">VUID-vkResetDescriptorPool-descriptorPool-00313</span><br>

All uses of <code>descriptorPool</code> (via any allocated descriptor sets)
<strong class="purple">must</strong> have completed execution</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkResetDescriptorPool-device-parameter" href="chap14.html#VUID-vkResetDescriptorPool-device-parameter"></a> <span class="vuid">VUID-vkResetDescriptorPool-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetDescriptorPool-descriptorPool-parameter" href="chap14.html#VUID-vkResetDescriptorPool-descriptorPool-parameter"></a> <span class="vuid">VUID-vkResetDescriptorPool-descriptorPool-parameter</span><br>
 <code>descriptorPool</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorPool">VkDescriptorPool</a> handle</p>
</li>
<li>
<p><a id="VUID-vkResetDescriptorPool-flags-zerobitmask" href="chap14.html#VUID-vkResetDescriptorPool-flags-zerobitmask"></a> <span class="vuid">VUID-vkResetDescriptorPool-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkResetDescriptorPool-descriptorPool-parent" href="chap14.html#VUID-vkResetDescriptorPool-descriptorPool-parent"></a> <span class="vuid">VUID-vkResetDescriptorPool-descriptorPool-parent</span><br>
 <code>descriptorPool</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to any <code>VkDescriptorSet</code> objects allocated from <code>descriptorPool</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorPoolResetFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkDescriptorPoolResetFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorPoolResetFlags</code> is a bitmask type for setting a mask, but
is currently reserved for future use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-updates"><a class="anchor" href="chap14.html#descriptorsets-updates"></a>14.2.4. Descriptor Set Updates</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once allocated, descriptor sets <strong class="purple">can</strong> be updated with a combination of write
and copy operations.
To update descriptor sets, call:</p>
</div>
<div id="vkUpdateDescriptorSets" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="kt">void</span> <span class="nf">vkUpdateDescriptorSets</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">descriptorWriteCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkWriteDescriptorSet</span><span class="o">*</span>                 <span class="n">pDescriptorWrites</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">descriptorCopyCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkCopyDescriptorSet</span><span class="o">*</span>                  <span class="n">pDescriptorCopies</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that updates the descriptor sets.</p>
</li>
<li>
<p><code>descriptorWriteCount</code> is the number of elements in the
<code>pDescriptorWrites</code> array.</p>
</li>
<li>
<p><code>pDescriptorWrites</code> is a pointer to an array of
<a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structures describing the descriptor sets to
write to.</p>
</li>
<li>
<p><code>descriptorCopyCount</code> is the number of elements in the
<code>pDescriptorCopies</code> array.</p>
</li>
<li>
<p><code>pDescriptorCopies</code> is a pointer to an array of
<a href="chap14.html#VkCopyDescriptorSet">VkCopyDescriptorSet</a> structures describing the descriptor sets to
copy between.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The operations described by <code>pDescriptorWrites</code> are performed first,
followed by the operations described by <code>pDescriptorCopies</code>.
Within each array, the operations are performed in the order they appear in
the array.</p>
</div>
<div class="paragraph">
<p>Each element in the <code>pDescriptorWrites</code> array describes an operation
updating the descriptor set using descriptors for resources specified in the
structure.</p>
</div>
<div class="paragraph">
<p>Each element in the <code>pDescriptorCopies</code> array is a
<a href="chap14.html#VkCopyDescriptorSet">VkCopyDescriptorSet</a> structure describing an operation copying
descriptors between sets.</p>
</div>
<div class="paragraph">
<p>If the <code>dstSet</code> member of any element of <code>pDescriptorWrites</code> or
<code>pDescriptorCopies</code> is bound, accessed, or modified by any command that
was recorded to a command buffer which is currently in the
<a href="chap6.html#commandbuffers-lifecycle">recording or executable state</a>,
and any of the descriptor bindings that are updated were not created with
the <code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> or
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code> bits set,
that command buffer becomes <a href="chap6.html#commandbuffers-lifecycle">invalid</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06236" href="chap14.html#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06236"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06236</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, elements of the
<code>pTexelBufferView</code> member of <code>pDescriptorWrites</code>[i] <strong class="purple">must</strong> have
been created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06237" href="chap14.html#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06237"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06237</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>buffer</code> member
of any element of the <code>pBufferInfo</code> member of
<code>pDescriptorWrites</code>[i] <strong class="purple">must</strong> have been created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06238" href="chap14.html#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06238"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06238</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and <code>dstSet</code> was
not allocated with a layout that included immutable samplers for
<code>dstBinding</code> with <code>descriptorType</code>, the <code>sampler</code> member of
any element of the <code>pImageInfo</code> member of <code>pDescriptorWrites</code>[i]
<strong class="purple">must</strong> have been created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06239" href="chap14.html#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06239"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06239</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> the <code>imageView</code>
member of any element of <code>pDescriptorWrites</code>[i] <strong class="purple">must</strong> have been
created on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06240" href="chap14.html#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06240"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06240</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>, elements of the
<code>pAccelerationStructures</code> member of a
<a href="chap14.html#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a> structure in the
<code>pNext</code> chain of <code>pDescriptorWrites</code>[i] <strong class="purple">must</strong> have been created
on <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06493" href="chap14.html#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06493"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06493</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
<code>pDescriptorWrites</code>[i].<code>pImageInfo</code> <strong class="purple">must</strong> be a valid pointer to
an array of <code>pDescriptorWrites</code>[i].<code>descriptorCount</code> valid
<code>VkDescriptorImageInfo</code> structures</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-None-03047" href="chap14.html#VUID-vkUpdateDescriptorSets-None-03047"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-None-03047</span><br>

The <code>dstSet</code> member of each element of <code>pDescriptorWrites</code> or
<code>pDescriptorCopies</code>
for bindings which were created without the
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> or
<code>VK_DESCRIPTOR_BINDING_UPDATE_UNUSED_WHILE_PENDING_BIT</code> bits set
<strong class="purple">must</strong> not be used by any command that was recorded to a command buffer
which is in the <a href="chap6.html#commandbuffers-lifecycle">pending state</a></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-06993" href="chap14.html#VUID-vkUpdateDescriptorSets-pDescriptorWrites-06993"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-06993</span><br>

Host access to <code>pDescriptorWrites</code>[i].<code>dstSet</code> and
<code>pDescriptorCopies</code>[i].<code>dstSet</code> <strong class="purple">must</strong> be
<a href="chap3.html#fundamentals-threadingbehavior">externally synchronized</a>
unless explicitly denoted otherwise for specific flags</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-device-parameter" href="chap14.html#VUID-vkUpdateDescriptorSets-device-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorWrites-parameter" href="chap14.html#VUID-vkUpdateDescriptorSets-pDescriptorWrites-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorWrites-parameter</span><br>
 If <code>descriptorWriteCount</code> is not <code>0</code>, <code>pDescriptorWrites</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorWriteCount</code> valid <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structures</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSets-pDescriptorCopies-parameter" href="chap14.html#VUID-vkUpdateDescriptorSets-pDescriptorCopies-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSets-pDescriptorCopies-parameter</span><br>
 If <code>descriptorCopyCount</code> is not <code>0</code>, <code>pDescriptorCopies</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorCopyCount</code> valid <a href="chap14.html#VkCopyDescriptorSet">VkCopyDescriptorSet</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWriteDescriptorSet</code> structure is defined as:</p>
</div>
<div id="VkWriteDescriptorSet" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkWriteDescriptorSet</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                  <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                      <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDescriptorSet</span>                  <span class="n">dstSet</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">dstBinding</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">dstArrayElement</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">descriptorCount</span><span class="p">;</span>
    <span class="n">VkDescriptorType</span>                 <span class="n">descriptorType</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkDescriptorImageInfo</span><span class="o">*</span>     <span class="n">pImageInfo</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkDescriptorBufferInfo</span><span class="o">*</span>    <span class="n">pBufferInfo</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkBufferView</span><span class="o">*</span>              <span class="n">pTexelBufferView</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkWriteDescriptorSet</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>dstSet</code> is the destination descriptor set to update.</p>
</li>
<li>
<p><code>dstBinding</code> is the descriptor binding within that set.</p>
</li>
<li>
<p><code>dstArrayElement</code> is the starting element in that array.
If the descriptor binding identified by <code>dstSet</code> and
<code>dstBinding</code> has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then <code>dstArrayElement</code>
specifies the starting byte offset within the binding.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors to update.
If the descriptor binding identified by <code>dstSet</code> and
<code>dstBinding</code> has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, then
<code>descriptorCount</code> specifies the number of bytes to update.
Otherwise,
<code>descriptorCount</code> is one of</p>
<div class="ulist">
<ul>
<li>
<p>the number of elements in <code>pImageInfo</code></p>
</li>
<li>
<p>the number of elements in <code>pBufferInfo</code></p>
</li>
<li>
<p>the number of elements in <code>pTexelBufferView</code></p>
</li>
<li>
<p>a value matching the <code>dataSize</code> member of a
<a href="chap14.html#VkWriteDescriptorSetInlineUniformBlock">VkWriteDescriptorSetInlineUniformBlock</a> structure in the
<code>pNext</code> chain</p>
</li>
<li>
<p>a value matching the <code>accelerationStructureCount</code> of a
<a href="chap14.html#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a> structure in the
<code>pNext</code> chain</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>descriptorType</code> is a <a href="chap14.html#VkDescriptorType">VkDescriptorType</a> specifying the type of
each descriptor in <code>pImageInfo</code>, <code>pBufferInfo</code>, or
<code>pTexelBufferView</code>, as described below.
It <strong class="purple">must</strong>
be the same type as the <code>descriptorType</code> specified in
<code>VkDescriptorSetLayoutBinding</code> for <code>dstSet</code> at <code>dstBinding</code>.
The type of the descriptor also controls which array the descriptors are
taken from.</p>
</li>
<li>
<p><code>pImageInfo</code> is a pointer to an array of <a href="chap14.html#VkDescriptorImageInfo">VkDescriptorImageInfo</a>
structures or is ignored, as described below.</p>
</li>
<li>
<p><code>pBufferInfo</code> is a pointer to an array of
<a href="chap14.html#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> structures or is ignored, as described
below.</p>
</li>
<li>
<p><code>pTexelBufferView</code> is a pointer to an array of <a href="chap12.html#VkBufferView">VkBufferView</a>
handles as described in the <a href="chap12.html#resources-buffer-views">Buffer Views</a>
section or is ignored, as described below.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only one of <code>pImageInfo</code>, <code>pBufferInfo</code>, or <code>pTexelBufferView</code>
members is used according to the descriptor type specified in the
<code>descriptorType</code> member of the containing <code>VkWriteDescriptorSet</code>
structure,
or none of them in case <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, in which case the source data
for the descriptor writes is taken from the
<a href="chap14.html#VkWriteDescriptorSetInlineUniformBlock">VkWriteDescriptorSetInlineUniformBlock</a> structure included in the
<code>pNext</code> chain of <code>VkWriteDescriptorSet</code>,
or if <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>, in which case the
source data for the descriptor writes is taken from the
<a href="chap14.html#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a> structure in the
<code>pNext</code> chain of <code>VkWriteDescriptorSet</code>,
as specified below.</p>
</div>
<div id="descriptorsets-updates-consecutive" class="paragraph">
<p>If the <code>dstBinding</code> has fewer than <code>descriptorCount</code> array elements
remaining starting from <code>dstArrayElement</code>, then the remainder will be
used to update the subsequent binding - <span class="eq"><code>dstBinding</code>+1</span> starting at
array element zero.
If a binding has a <code>descriptorCount</code> of zero, it is skipped.
This behavior applies recursively, with the update affecting consecutive
bindings as needed to update all <code>descriptorCount</code> descriptors.
Consecutive bindings <strong class="purple">must</strong> have identical <a href="chap14.html#VkDescriptorType">VkDescriptorType</a>,
<a href="chap10.html#VkShaderStageFlags">VkShaderStageFlags</a>,
<a href="chap14.html#VkDescriptorBindingFlagBits">VkDescriptorBindingFlagBits</a>,
and immutable samplers references.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The same behavior applies to bindings with a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> where <code>descriptorCount</code>
specifies the number of bytes to update while <code>dstArrayElement</code>
specifies the starting byte offset, thus in this case if the
<code>dstBinding</code> has a smaller byte size than the sum of
<code>dstArrayElement</code> and <code>descriptorCount</code>, then the remainder will be
used to update the subsequent binding - <span class="eq"><code>dstBinding</code>+1</span> starting at
offset zero.
This falls out as a special case of the above rule.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstBinding-00315" href="chap14.html#VUID-VkWriteDescriptorSet-dstBinding-00315"></a> <span class="vuid">VUID-VkWriteDescriptorSet-dstBinding-00315</span><br>

<code>dstBinding</code> <strong class="purple">must</strong> be less than or equal to the maximum value of
<code>binding</code> of all <a href="chap14.html#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> structures
specified when <code>dstSet</code>’s descriptor set layout was created</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstBinding-00316" href="chap14.html#VUID-VkWriteDescriptorSet-dstBinding-00316"></a> <span class="vuid">VUID-VkWriteDescriptorSet-dstBinding-00316</span><br>

<code>dstBinding</code> <strong class="purple">must</strong> be a binding with a non-zero
<code>descriptorCount</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorCount-00317" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorCount-00317"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorCount-00317</span><br>

All consecutive bindings updated via a single <code>VkWriteDescriptorSet</code>
structure, except those with a <code>descriptorCount</code> of zero, <strong class="purple">must</strong> have
identical <code>descriptorType</code> and <code>stageFlags</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorCount-00318" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorCount-00318"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorCount-00318</span><br>

All consecutive bindings updated via a single <code>VkWriteDescriptorSet</code>
structure, except those with a <code>descriptorCount</code> of zero, <strong class="purple">must</strong> all
either use immutable samplers or <strong class="purple">must</strong> all not use immutable samplers</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00319" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00319"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00319</span><br>

<code>descriptorType</code> <strong class="purple">must</strong> match the type of <code>dstBinding</code> within
<code>dstSet</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstSet-00320" href="chap14.html#VUID-VkWriteDescriptorSet-dstSet-00320"></a> <span class="vuid">VUID-VkWriteDescriptorSet-dstSet-00320</span><br>

<code>dstSet</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorSet">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-dstArrayElement-00321" href="chap14.html#VUID-VkWriteDescriptorSet-dstArrayElement-00321"></a> <span class="vuid">VUID-VkWriteDescriptorSet-dstArrayElement-00321</span><br>

The sum of <code>dstArrayElement</code> and <code>descriptorCount</code> <strong class="purple">must</strong> be less
than or equal to the number of array elements in the descriptor set
binding specified by <code>dstBinding</code>, and all applicable consecutive
bindings, as described by <a href="chap14.html#descriptorsets-updates-consecutive">consecutive binding updates</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02219" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-02219"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02219</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, <code>dstArrayElement</code>
<strong class="purple">must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02220" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-02220"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02220</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, <code>descriptorCount</code>
<strong class="purple">must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02994" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-02994"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02994</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>
or <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, each element of
<code>pTexelBufferView</code> <strong class="purple">must</strong> be either a valid <code>VkBufferView</code> handle
or <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02995" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-02995"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02995</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>
or <code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> and the
<a href="chap39.html#features-nullDescriptor"><code>nullDescriptor</code></a> feature is not
enabled, each element of <code>pTexelBufferView</code> <strong class="purple">must</strong> not be
<a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00324" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00324"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00324</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, <code>pBufferInfo</code> <strong class="purple">must</strong>
be a valid pointer to an array of <code>descriptorCount</code> valid
<code>VkDescriptorBufferInfo</code> structures</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00325" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00325"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00325</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and <code>dstSet</code> was
not allocated with a layout that included immutable samplers for
<code>dstBinding</code> with <code>descriptorType</code>, the <code>sampler</code> member of
each element of <code>pImageInfo</code> <strong class="purple">must</strong> be a valid <code>VkSampler</code> object</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02996" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-02996"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02996</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, the <code>imageView</code> member of
each element of <code>pImageInfo</code> <strong class="purple">must</strong> be either a valid
<code>VkImageView</code> handle or <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02997" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-02997"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02997</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, and the
<a href="chap39.html#features-nullDescriptor"><code>nullDescriptor</code></a> feature is not
enabled, the <code>imageView</code> member of each element of <code>pImageInfo</code>
<strong class="purple">must</strong> not be <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-07683" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-07683"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-07683</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
the <code>imageView</code> member of each element of <code>pImageInfo</code> <strong class="purple">must</strong> not
be <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02221" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-02221"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02221</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, the <code>pNext</code> chain
<strong class="purple">must</strong> include a <a href="chap14.html#VkWriteDescriptorSetInlineUniformBlock">VkWriteDescriptorSetInlineUniformBlock</a> structure
whose <code>dataSize</code> member equals <code>descriptorCount</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02382" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-02382"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02382</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>, the <code>pNext</code>
chain <strong class="purple">must</strong> include a <a href="chap14.html#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a>
structure whose <code>accelerationStructureCount</code> member equals
<code>descriptorCount</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-01946" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-01946"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-01946</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>, then
the <code>imageView</code> member of each <code>pImageInfo</code> element <strong class="purple">must</strong> have
been created without a <code>VkSamplerYcbcrConversionInfo</code> structure in
its <code>pNext</code> chain</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02738" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-02738"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02738</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and if any element of
<code>pImageInfo</code> has a <code>imageView</code> member that was created with a
<code>VkSamplerYcbcrConversionInfo</code> structure in its <code>pNext</code> chain,
then <code>dstSet</code> <strong class="purple">must</strong> have been allocated with a layout that included
immutable samplers for <code>dstBinding</code>, and the corresponding immutable
sampler <strong class="purple">must</strong> have been created with an <em>identically defined</em>
<code>VkSamplerYcbcrConversionInfo</code> object</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-01948" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-01948"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-01948</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and <code>dstSet</code> was
allocated with a layout that included immutable samplers for
<code>dstBinding</code>, then the <code>imageView</code> member of each element of
<code>pImageInfo</code> which corresponds to an immutable sampler that enables
<a href="chap13.html#samplers-YCbCr-conversion">sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a> <strong class="purple">must</strong> have been
created with a <code>VkSamplerYcbcrConversionInfo</code> structure in its
<code>pNext</code> chain with an <em>identically defined</em>
<code>VkSamplerYcbcrConversionInfo</code> to the corresponding immutable
sampler</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00327" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00327"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00327</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>offset</code> member
of each element of <code>pBufferInfo</code> <strong class="purple">must</strong> be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minUniformBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00328" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00328"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00328</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>offset</code> member
of each element of <code>pBufferInfo</code> <strong class="purple">must</strong> be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minStorageBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00329" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00329"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00329</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, and the <code>buffer</code>
member of any element of <code>pBufferInfo</code> is the handle of a non-sparse
buffer, then that buffer <strong class="purple">must</strong> be bound completely and contiguously to a
single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00330" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00330"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00330</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>buffer</code> member
of each element of <code>pBufferInfo</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00331" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00331"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00331</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>buffer</code> member
of each element of <code>pBufferInfo</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_STORAGE_BUFFER_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00332" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00332"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00332</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, the <code>range</code> member
of each element of <code>pBufferInfo</code>, or the
<a href="chap14.html#buffer-info-effective-range">effective range</a> if <code>range</code> is
<code>VK_WHOLE_SIZE</code>, <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxUniformBufferRange</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00333" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00333"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00333</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, the <code>range</code> member
of each element of <code>pBufferInfo</code>, or the
<a href="chap14.html#buffer-info-effective-range">effective range</a> if <code>range</code> is
<code>VK_WHOLE_SIZE</code>, <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxStorageBufferRange</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-08765" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-08765"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-08765</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code>, the
<code>pTexelBufferView</code> <a href="chap12.html#resources-buffer-views-usage">buffer view
usage</a> <strong class="purple">must</strong> include <code>VK_BUFFER_USAGE_UNIFORM_TEXEL_BUFFER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-08766" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-08766"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-08766</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, the
<code>pTexelBufferView</code> <a href="chap12.html#resources-buffer-views-usage">buffer view
usage</a> <strong class="purple">must</strong> include <code>VK_BUFFER_USAGE_STORAGE_TEXEL_BUFFER_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00336" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00336"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00336</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, the <code>imageView</code> member of
each element of <code>pImageInfo</code> <strong class="purple">must</strong> have been created with the
identity swizzle</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00337" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00337"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00337</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, the <code>imageView</code>
member of each element of <code>pImageInfo</code> <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_USAGE_SAMPLED_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-04149" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-04149"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-04149</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> the
<code>imageLayout</code> member of each element of <code>pImageInfo</code> <strong class="purple">must</strong> be a
member of the list given in <a href="chap14.html#descriptorsets-sampledimage">Sampled
Image</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-04150" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-04150"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-04150</span><br>

If <code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> the <code>imageLayout</code>
member of each element of <code>pImageInfo</code> <strong class="purple">must</strong> be a member of the list
given in <a href="chap14.html#descriptorsets-combinedimagesampler">Combined Image Sampler</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-04151" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-04151"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-04151</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> the
<code>imageLayout</code> member of each element of <code>pImageInfo</code> <strong class="purple">must</strong> be a
member of the list given in <a href="chap14.html#descriptorsets-inputattachment">Input
Attachment</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-04152" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-04152"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-04152</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> the
<code>imageLayout</code> member of each element of <code>pImageInfo</code> <strong class="purple">must</strong> be a
member of the list given in <a href="chap14.html#descriptorsets-storageimage">Storage
Image</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00338" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00338"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00338</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
the <code>imageView</code> member of each element of <code>pImageInfo</code> <strong class="purple">must</strong>
have been created with <code>VK_IMAGE_USAGE_INPUT_ATTACHMENT_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-00339" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-00339"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-00339</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, the
<code>imageView</code> member of each element of <code>pImageInfo</code> <strong class="purple">must</strong> have
been created with <code>VK_IMAGE_USAGE_STORAGE_BIT</code> set</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-02752" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-02752"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-02752</span><br>

If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, then
<code>dstSet</code> <strong class="purple">must</strong> not have been allocated with a layout that included
immutable samplers for <code>dstBinding</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSet-sType-sType" href="chap14.html#VUID-VkWriteDescriptorSet-sType-sType"></a> <span class="vuid">VUID-VkWriteDescriptorSet-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-pNext-pNext" href="chap14.html#VUID-VkWriteDescriptorSet-pNext-pNext"></a> <span class="vuid">VUID-VkWriteDescriptorSet-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong class="purple">must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="chap14.html#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a> or <a href="chap14.html#VkWriteDescriptorSetInlineUniformBlock">VkWriteDescriptorSetInlineUniformBlock</a></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-sType-unique" href="chap14.html#VUID-VkWriteDescriptorSet-sType-unique"></a> <span class="vuid">VUID-VkWriteDescriptorSet-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorType-parameter" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorType-parameter"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorType-parameter</span><br>
 <code>descriptorType</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-descriptorCount-arraylength" href="chap14.html#VUID-VkWriteDescriptorSet-descriptorCount-arraylength"></a> <span class="vuid">VUID-VkWriteDescriptorSet-descriptorCount-arraylength</span><br>
 <code>descriptorCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSet-commonparent" href="chap14.html#VUID-VkWriteDescriptorSet-commonparent"></a> <span class="vuid">VUID-VkWriteDescriptorSet-commonparent</span><br>
 Both of <code>dstSet</code>, and the elements of <code>pTexelBufferView</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The type of descriptors in a descriptor set is specified by
<a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>descriptorType</code>, which <strong class="purple">must</strong> be one of the
values:</p>
</div>
<div id="VkDescriptorType" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkDescriptorType</span> <span class="p">{</span>
    <span class="n">VK_DESCRIPTOR_TYPE_SAMPLER</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
    <span class="n">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
  <span class="c1">// Provided by VK_VERSION_1_3</span>
    <span class="n">VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</span> <span class="o">=</span> <span class="mi">1000138000</span><span class="p">,</span>
  <span class="c1">// Provided by VK_KHR_acceleration_structure</span>
    <span class="n">VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</span> <span class="o">=</span> <span class="mi">1000150000</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkDescriptorType</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_TYPE_SAMPLER</code> specifies a <a href="chap14.html#descriptorsets-sampler">sampler descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> specifies a
<a href="chap14.html#descriptorsets-combinedimagesampler">combined image sampler
descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> specifies a
<a href="chap14.html#descriptorsets-sampledimage">sampled image descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code> specifies a
<a href="chap14.html#descriptorsets-storageimage">storage image descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> specifies a
<a href="chap14.html#descriptorsets-uniformtexelbuffer">uniform texel buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code> specifies a
<a href="chap14.html#descriptorsets-storagetexelbuffer">storage texel buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> specifies a
<a href="chap14.html#descriptorsets-uniformbuffer">uniform buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> specifies a
<a href="chap14.html#descriptorsets-storagebuffer">storage buffer descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> specifies a
<a href="chap14.html#descriptorsets-uniformbufferdynamic">dynamic uniform buffer
descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> specifies a
<a href="chap14.html#descriptorsets-storagebufferdynamic">dynamic storage buffer
descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code> specifies an
<a href="chap14.html#descriptorsets-inputattachment">input attachment descriptor</a>.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> specifies an
<a href="chap14.html#descriptorsets-inlineuniformblock">inline uniform block</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a descriptor set is updated via elements of <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a>,
members of <code>pImageInfo</code>, <code>pBufferInfo</code> and <code>pTexelBufferView</code>
are only accessed by the implementation when they correspond to descriptor
type being defined - otherwise they are ignored.
The members accessed are as follows for each descriptor type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, only the <code>sampler</code> member of
each element of <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pImageInfo</code> is
accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>, only the <code>imageView</code> and
<code>imageLayout</code> members of each element of
<a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pImageInfo</code> are accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, all members of each
element of <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pImageInfo</code> are accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code>,
<code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code>, or
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code>, all members of each
element of <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pBufferInfo</code> are accessed.</p>
</li>
<li>
<p>For <code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code> or
<code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code>, each element of
<a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a>::<code>pTexelBufferView</code> is accessed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When updating descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, none of the <code>pImageInfo</code>,
<code>pBufferInfo</code>, or <code>pTexelBufferView</code> members are accessed, instead
the source data of the descriptor update operation is taken from the
<a href="chap14.html#VkWriteDescriptorSetInlineUniformBlock">VkWriteDescriptorSetInlineUniformBlock</a> structure in the <code>pNext</code>
chain of <code>VkWriteDescriptorSet</code>.
When updating descriptors with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>, none of the
<code>pImageInfo</code>, <code>pBufferInfo</code>, or <code>pTexelBufferView</code> members are
accessed, instead the source data of the descriptor update operation is
taken from the <a href="chap14.html#VkWriteDescriptorSetAccelerationStructureKHR">VkWriteDescriptorSetAccelerationStructureKHR</a> structure
in the <code>pNext</code> chain of <code>VkWriteDescriptorSet</code>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorBufferInfo</code> structure is defined as:</p>
</div>
<div id="VkDescriptorBufferInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorBufferInfo</span> <span class="p">{</span>
    <span class="n">VkBuffer</span>        <span class="n">buffer</span><span class="p">;</span>
    <span class="n">VkDeviceSize</span>    <span class="n">offset</span><span class="p">;</span>
    <span class="n">VkDeviceSize</span>    <span class="n">range</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorBufferInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>buffer</code> is
the buffer resource.</p>
</li>
<li>
<p><code>offset</code> is the offset in bytes from the start of <code>buffer</code>.
Access to buffer memory via this descriptor uses addressing that is
relative to this starting offset.</p>
</li>
<li>
<p><code>range</code> is the size in bytes that is used for this descriptor
update, or <code>VK_WHOLE_SIZE</code> to use the range from <code>offset</code> to the
end of the buffer.</p>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When setting <code>range</code> to <code>VK_WHOLE_SIZE</code>, the
<a href="chap14.html#buffer-info-effective-range">effective range</a> <strong class="purple">must</strong> not be larger than
the maximum range for the descriptor type (<a href="chap40.html#limits-maxUniformBufferRange"><code>maxUniformBufferRange</code></a> or <a href="chap40.html#limits-maxStorageBufferRange"><code>maxStorageBufferRange</code></a>).
This means that <code>VK_WHOLE_SIZE</code> is not typically useful in the common
case where uniform buffer descriptors are suballocated from a buffer that is
much larger than <code>maxUniformBufferRange</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> and
<code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> descriptor types,
<code>offset</code> is the base offset from which the dynamic offset is applied and
<code>range</code> is the static size used for all dynamic offsets.</p>
</div>
<div id="buffer-info-effective-range" class="paragraph">
<p>When <code>range</code> is <code>VK_WHOLE_SIZE</code> the effective range is calculated at
<a href="chap14.html#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a> is by taking the size of <code>buffer</code> minus the
<code>offset</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-offset-00340" href="chap14.html#VUID-VkDescriptorBufferInfo-offset-00340"></a> <span class="vuid">VUID-VkDescriptorBufferInfo-offset-00340</span><br>

<code>offset</code> <strong class="purple">must</strong> be less than the size of <code>buffer</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-range-00341" href="chap14.html#VUID-VkDescriptorBufferInfo-range-00341"></a> <span class="vuid">VUID-VkDescriptorBufferInfo-range-00341</span><br>

If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <strong class="purple">must</strong> be
greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-range-00342" href="chap14.html#VUID-VkDescriptorBufferInfo-range-00342"></a> <span class="vuid">VUID-VkDescriptorBufferInfo-range-00342</span><br>

If <code>range</code> is not equal to <code>VK_WHOLE_SIZE</code>, <code>range</code> <strong class="purple">must</strong> be
less than or equal to the size of <code>buffer</code> minus <code>offset</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-buffer-02998" href="chap14.html#VUID-VkDescriptorBufferInfo-buffer-02998"></a> <span class="vuid">VUID-VkDescriptorBufferInfo-buffer-02998</span><br>

If the <a href="chap39.html#features-nullDescriptor"><code>nullDescriptor</code></a> feature is not
enabled, <code>buffer</code> <strong class="purple">must</strong> not be <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorBufferInfo-buffer-parameter" href="chap14.html#VUID-VkDescriptorBufferInfo-buffer-parameter"></a> <span class="vuid">VUID-VkDescriptorBufferInfo-buffer-parameter</span><br>
 If <code>buffer</code> is not <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="chap12.html#VkBuffer">VkBuffer</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorImageInfo</code> structure is defined as:</p>
</div>
<div id="VkDescriptorImageInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorImageInfo</span> <span class="p">{</span>
    <span class="n">VkSampler</span>        <span class="n">sampler</span><span class="p">;</span>
    <span class="n">VkImageView</span>      <span class="n">imageView</span><span class="p">;</span>
    <span class="n">VkImageLayout</span>    <span class="n">imageLayout</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorImageInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sampler</code> is a sampler handle, and is used in descriptor updates for
types <code>VK_DESCRIPTOR_TYPE_SAMPLER</code> and
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> if the binding being
updated does not use immutable samplers.</p>
</li>
<li>
<p><code>imageView</code> is
an image view handle, and is used in descriptor updates for types
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>.</p>
</li>
<li>
<p><code>imageLayout</code> is the layout that the image subresources accessible
from <code>imageView</code> will be in at the time this descriptor is accessed.
<code>imageLayout</code> is used in descriptor updates for types
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>, and
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Members of <code>VkDescriptorImageInfo</code> that are not used in an update (as
described above) are ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageView-06712" href="chap14.html#VUID-VkDescriptorImageInfo-imageView-06712"></a> <span class="vuid">VUID-VkDescriptorImageInfo-imageView-06712</span><br>

<code>imageView</code> <strong class="purple">must</strong> not be a 2D array image view created from a 3D
image</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-descriptorType-06713" href="chap14.html#VUID-VkDescriptorImageInfo-descriptorType-06713"></a> <span class="vuid">VUID-VkDescriptorImageInfo-descriptorType-06713</span><br>

<code>imageView</code> <strong class="purple">must</strong> not be a 2D view created from a 3D image</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-descriptorType-06714" href="chap14.html#VUID-VkDescriptorImageInfo-descriptorType-06714"></a> <span class="vuid">VUID-VkDescriptorImageInfo-descriptorType-06714</span><br>

<code>imageView</code> <strong class="purple">must</strong> not be a 2D view created from a 3D image</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageView-01976" href="chap14.html#VUID-VkDescriptorImageInfo-imageView-01976"></a> <span class="vuid">VUID-VkDescriptorImageInfo-imageView-01976</span><br>

If <code>imageView</code> is created from a depth/stencil image, the
<code>aspectMask</code> used to create the <code>imageView</code> <strong class="purple">must</strong> include either
<code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or <code>VK_IMAGE_ASPECT_STENCIL_BIT</code> but
not both</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageLayout-09425" href="chap14.html#VUID-VkDescriptorImageInfo-imageLayout-09425"></a> <span class="vuid">VUID-VkDescriptorImageInfo-imageLayout-09425</span><br>

If <code>imageLayout</code> is <code>VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</code>,
then the <code>aspectMask</code> used to create <code>imageView</code> <strong class="purple">must</strong> not
include either <code>VK_IMAGE_ASPECT_DEPTH_BIT</code> or
<code>VK_IMAGE_ASPECT_STENCIL_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageLayout-09426" href="chap14.html#VUID-VkDescriptorImageInfo-imageLayout-09426"></a> <span class="vuid">VUID-VkDescriptorImageInfo-imageLayout-09426</span><br>

If <code>imageLayout</code> is
<code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_STENCIL_ATTACHMENT_OPTIMAL</code>,
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL</code> or
<code>VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL</code>, then the
<code>aspectMask</code> used to create <code>imageView</code> <strong class="purple">must</strong> not include
<code>VK_IMAGE_ASPECT_COLOR_BIT</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-imageLayout-00344" href="chap14.html#VUID-VkDescriptorImageInfo-imageLayout-00344"></a> <span class="vuid">VUID-VkDescriptorImageInfo-imageLayout-00344</span><br>

<code>imageLayout</code> <strong class="purple">must</strong> match the actual <a href="chap12.html#VkImageLayout">VkImageLayout</a> of each
subresource accessible from <code>imageView</code> at the time this descriptor
is accessed as defined by the <a href="chap12.html#resources-image-layouts-matching-rule">image layout matching rules</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-sampler-01564" href="chap14.html#VUID-VkDescriptorImageInfo-sampler-01564"></a> <span class="vuid">VUID-VkDescriptorImageInfo-sampler-01564</span><br>

If <code>sampler</code> is used and the <a href="chap41.html#VkFormat">VkFormat</a> of the image is a
<a href="chap41.html#formats-requiring-sampler-ycbcr-conversion">multi-planar format</a>, the
image <strong class="purple">must</strong> have been created with
<code>VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT</code>, and the <code>aspectMask</code> of
the <code>imageView</code> <strong class="purple">must</strong> be a valid
<a href="chap41.html#formats-planes-image-aspect">multi-planar aspect mask</a> bit</p>
</li>
<li>
<p><a id="VUID-VkDescriptorImageInfo-mutableComparisonSamplers-04450" href="chap14.html#VUID-VkDescriptorImageInfo-mutableComparisonSamplers-04450"></a> <span class="vuid">VUID-VkDescriptorImageInfo-mutableComparisonSamplers-04450</span><br>

If the <code><a href="chap48.html#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code> extension is enabled, and
<a href="chap39.html#VkPhysicalDevicePortabilitySubsetFeaturesKHR">VkPhysicalDevicePortabilitySubsetFeaturesKHR</a>::<code>mutableComparisonSamplers</code>
is <code>VK_FALSE</code>, then <code>sampler</code> <strong class="purple">must</strong> have been created with
<a href="chap13.html#VkSamplerCreateInfo">VkSamplerCreateInfo</a>::<code>compareEnable</code> set to <code>VK_FALSE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorImageInfo-commonparent" href="chap14.html#VUID-VkDescriptorImageInfo-commonparent"></a> <span class="vuid">VUID-VkDescriptorImageInfo-commonparent</span><br>
 Both of <code>imageView</code>, and <code>sampler</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>descriptorType</code> member of <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then the data to write to the
descriptor set is specified through a
<code>VkWriteDescriptorSetInlineUniformBlock</code> structure included in the
<code>pNext</code> chain of <code>VkWriteDescriptorSet</code>.</p>
</div>
<div class="paragraph">
<p>The <code>VkWriteDescriptorSetInlineUniformBlock</code> structure is defined as:</p>
</div>
<div id="VkWriteDescriptorSetInlineUniformBlock" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_3</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkWriteDescriptorSetInlineUniformBlock</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">dataSize</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pData</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkWriteDescriptorSetInlineUniformBlock</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>dataSize</code> is the number of bytes of inline uniform block data
pointed to by <code>pData</code>.</p>
</li>
<li>
<p><code>pData</code> is a pointer to <code>dataSize</code> number of bytes of data to
write to the inline uniform block.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-02222" href="chap14.html#VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-02222"></a> <span class="vuid">VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-02222</span><br>

<code>dataSize</code> <strong class="purple">must</strong> be an integer multiple of <code>4</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSetInlineUniformBlock-sType-sType" href="chap14.html#VUID-VkWriteDescriptorSetInlineUniformBlock-sType-sType"></a> <span class="vuid">VUID-VkWriteDescriptorSetInlineUniformBlock-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_INLINE_UNIFORM_BLOCK</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetInlineUniformBlock-pData-parameter" href="chap14.html#VUID-VkWriteDescriptorSetInlineUniformBlock-pData-parameter"></a> <span class="vuid">VUID-VkWriteDescriptorSetInlineUniformBlock-pData-parameter</span><br>
 <code>pData</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>dataSize</code> bytes</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-arraylength" href="chap14.html#VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-arraylength"></a> <span class="vuid">VUID-VkWriteDescriptorSetInlineUniformBlock-dataSize-arraylength</span><br>
 <code>dataSize</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkWriteDescriptorSetAccelerationStructureKHR</code> structure is defined
as:</p>
</div>
<div id="VkWriteDescriptorSetAccelerationStructureKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_acceleration_structure</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkWriteDescriptorSetAccelerationStructureKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                      <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                          <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                             <span class="n">accelerationStructureCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkAccelerationStructureKHR</span><span class="o">*</span>    <span class="n">pAccelerationStructures</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkWriteDescriptorSetAccelerationStructureKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>accelerationStructureCount</code> is the number of elements in
<code>pAccelerationStructures</code>.</p>
</li>
<li>
<p><code>pAccelerationStructures</code> is a pointer to an array of
<a href="chap12.html#VkAccelerationStructureKHR">VkAccelerationStructureKHR</a> structures specifying the acceleration
structures to update.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-02236" href="chap14.html#VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-02236"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-02236</span><br>

<code>accelerationStructureCount</code> <strong class="purple">must</strong> be equal to <code>descriptorCount</code>
in the extended structure</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03579" href="chap14.html#VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03579"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03579</span><br>

Each acceleration structure in <code>pAccelerationStructures</code> <strong class="purple">must</strong> have
been created with a <code>type</code> of
<code>VK_ACCELERATION_STRUCTURE_TYPE_TOP_LEVEL_KHR</code> or
<code>VK_ACCELERATION_STRUCTURE_TYPE_GENERIC_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03580" href="chap14.html#VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03580"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-03580</span><br>

If the <a href="chap39.html#features-nullDescriptor"><code>nullDescriptor</code></a> feature is not
enabled, each element of <code>pAccelerationStructures</code> <strong class="purple">must</strong> not be
<a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-sType-sType" href="chap14.html#VUID-VkWriteDescriptorSetAccelerationStructureKHR-sType-sType"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET_ACCELERATION_STRUCTURE_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-parameter" href="chap14.html#VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-parameter"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-pAccelerationStructures-parameter</span><br>
 <code>pAccelerationStructures</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>accelerationStructureCount</code> valid or <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> <a href="chap12.html#VkAccelerationStructureKHR">VkAccelerationStructureKHR</a> handles</p>
</li>
<li>
<p><a id="VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-arraylength" href="chap14.html#VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-arraylength"></a> <span class="vuid">VUID-VkWriteDescriptorSetAccelerationStructureKHR-accelerationStructureCount-arraylength</span><br>
 <code>accelerationStructureCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkCopyDescriptorSet</code> structure is defined as:</p>
</div>
<div id="VkCopyDescriptorSet" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkCopyDescriptorSet</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDescriptorSet</span>    <span class="n">srcSet</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">srcBinding</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">srcArrayElement</span><span class="p">;</span>
    <span class="n">VkDescriptorSet</span>    <span class="n">dstSet</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">dstBinding</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">dstArrayElement</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">descriptorCount</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkCopyDescriptorSet</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>srcSet</code>, <code>srcBinding</code>, and <code>srcArrayElement</code> are the source
set, binding, and array element, respectively.
If the descriptor binding identified by <code>srcSet</code> and
<code>srcBinding</code> has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then <code>srcArrayElement</code>
specifies the starting byte offset within the binding to copy from.</p>
</li>
<li>
<p><code>dstSet</code>, <code>dstBinding</code>, and <code>dstArrayElement</code> are the
destination set, binding, and array element, respectively.
If the descriptor binding identified by <code>dstSet</code> and
<code>dstBinding</code> has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then <code>dstArrayElement</code>
specifies the starting byte offset within the binding to copy to.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors to copy from the
source to destination.
If <code>descriptorCount</code> is greater than the number of remaining array
elements in the source or destination binding, those affect consecutive
bindings in a manner similar to <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a> above.
If the descriptor binding identified by <code>srcSet</code> and
<code>srcBinding</code> has a descriptor type of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then <code>descriptorCount</code>
specifies the number of bytes to copy and the remaining array elements
in the source or destination binding refer to the remaining number of
bytes in those.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcBinding-00345" href="chap14.html#VUID-VkCopyDescriptorSet-srcBinding-00345"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcBinding-00345</span><br>

<code>srcBinding</code> <strong class="purple">must</strong> be a valid binding within <code>srcSet</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcArrayElement-00346" href="chap14.html#VUID-VkCopyDescriptorSet-srcArrayElement-00346"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcArrayElement-00346</span><br>

The sum of <code>srcArrayElement</code> and <code>descriptorCount</code> <strong class="purple">must</strong> be less
than or equal to the number of array elements in the descriptor set
binding specified by <code>srcBinding</code>, and all applicable consecutive
bindings, as described by <a href="chap14.html#descriptorsets-updates-consecutive">consecutive binding updates</a></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstBinding-00347" href="chap14.html#VUID-VkCopyDescriptorSet-dstBinding-00347"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstBinding-00347</span><br>

<code>dstBinding</code> <strong class="purple">must</strong> be a valid binding within <code>dstSet</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstArrayElement-00348" href="chap14.html#VUID-VkCopyDescriptorSet-dstArrayElement-00348"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstArrayElement-00348</span><br>

The sum of <code>dstArrayElement</code> and <code>descriptorCount</code> <strong class="purple">must</strong> be less
than or equal to the number of array elements in the descriptor set
binding specified by <code>dstBinding</code>, and all applicable consecutive
bindings, as described by <a href="chap14.html#descriptorsets-updates-consecutive">consecutive binding updates</a></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstBinding-02632" href="chap14.html#VUID-VkCopyDescriptorSet-dstBinding-02632"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstBinding-02632</span><br>

The type of <code>dstBinding</code> within <code>dstSet</code> <strong class="purple">must</strong> be equal to the
type of <code>srcBinding</code> within <code>srcSet</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-00349" href="chap14.html#VUID-VkCopyDescriptorSet-srcSet-00349"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-00349</span><br>

If <code>srcSet</code> is equal to <code>dstSet</code>, then the source and
destination ranges of descriptors <strong class="purple">must</strong> not overlap, where the ranges
<strong class="purple">may</strong> include array elements from consecutive bindings as described by
<a href="chap14.html#descriptorsets-updates-consecutive">consecutive binding updates</a></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcBinding-02223" href="chap14.html#VUID-VkCopyDescriptorSet-srcBinding-02223"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcBinding-02223</span><br>

If the descriptor type of the descriptor set binding specified by
<code>srcBinding</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>,
<code>srcArrayElement</code> <strong class="purple">must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstBinding-02224" href="chap14.html#VUID-VkCopyDescriptorSet-dstBinding-02224"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstBinding-02224</span><br>

If the descriptor type of the descriptor set binding specified by
<code>dstBinding</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>,
<code>dstArrayElement</code> <strong class="purple">must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcBinding-02225" href="chap14.html#VUID-VkCopyDescriptorSet-srcBinding-02225"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcBinding-02225</span><br>

If the descriptor type of the descriptor set binding specified by either
<code>srcBinding</code> or <code>dstBinding</code> is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, <code>descriptorCount</code>
<strong class="purple">must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-01918" href="chap14.html#VUID-VkCopyDescriptorSet-srcSet-01918"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-01918</span><br>

If <code>srcSet</code>’s layout was created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> flag
set, then <code>dstSet</code>’s layout <strong class="purple">must</strong> also have been created with the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> flag
set</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-04885" href="chap14.html#VUID-VkCopyDescriptorSet-srcSet-04885"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-04885</span><br>

If <code>srcSet</code>’s layout was created without
the <code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code>
flag set, then <code>dstSet</code>’s layout <strong class="purple">must</strong> have been created without the
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT</code> flag
set</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-01920" href="chap14.html#VUID-VkCopyDescriptorSet-srcSet-01920"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-01920</span><br>

If the descriptor pool from which <code>srcSet</code> was allocated was created
with the <code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> flag set,
then the descriptor pool from which <code>dstSet</code> was allocated <strong class="purple">must</strong>
also have been created with the
<code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-04887" href="chap14.html#VUID-VkCopyDescriptorSet-srcSet-04887"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-04887</span><br>

If the descriptor pool from which <code>srcSet</code> was allocated was created
without
the <code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> flag set, then
the descriptor pool from which <code>dstSet</code> was allocated <strong class="purple">must</strong> have
been created without the
<code>VK_DESCRIPTOR_POOL_CREATE_UPDATE_AFTER_BIND_BIT</code> flag set</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstBinding-02753" href="chap14.html#VUID-VkCopyDescriptorSet-dstBinding-02753"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstBinding-02753</span><br>

If the descriptor type of the descriptor set binding specified by
<code>dstBinding</code> is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, then <code>dstSet</code>
<strong class="purple">must</strong> not have been allocated with a layout that included immutable
samplers for <code>dstBinding</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCopyDescriptorSet-sType-sType" href="chap14.html#VUID-VkCopyDescriptorSet-sType-sType"></a> <span class="vuid">VUID-VkCopyDescriptorSet-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_COPY_DESCRIPTOR_SET</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-pNext-pNext" href="chap14.html#VUID-VkCopyDescriptorSet-pNext-pNext"></a> <span class="vuid">VUID-VkCopyDescriptorSet-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-srcSet-parameter" href="chap14.html#VUID-VkCopyDescriptorSet-srcSet-parameter"></a> <span class="vuid">VUID-VkCopyDescriptorSet-srcSet-parameter</span><br>
 <code>srcSet</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorSet">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-dstSet-parameter" href="chap14.html#VUID-VkCopyDescriptorSet-dstSet-parameter"></a> <span class="vuid">VUID-VkCopyDescriptorSet-dstSet-parameter</span><br>
 <code>dstSet</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorSet">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-VkCopyDescriptorSet-commonparent" href="chap14.html#VUID-VkCopyDescriptorSet-commonparent"></a> <span class="vuid">VUID-VkCopyDescriptorSet-commonparent</span><br>
 Both of <code>dstSet</code>, and <code>srcSet</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-updates-with-template"><a class="anchor" href="chap14.html#descriptorsets-updates-with-template"></a>14.2.5. Descriptor Update Templates</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A descriptor update template specifies a mapping from descriptor update
information in host memory to descriptors in a descriptor set.
It is designed to avoid passing redundant information to the driver when
frequently updating the same set of descriptors in descriptor sets.</p>
</div>
<div class="paragraph">
<p>Descriptor update template objects are represented by
<code>VkDescriptorUpdateTemplate</code> handles:</p>
</div>
<div id="VkDescriptorUpdateTemplate" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="n">VK_DEFINE_NON_DISPATCHABLE_HANDLE</span><span class="p">(</span><span class="n">VkDescriptorUpdateTemplate</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorUpdateTemplateKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_descriptor_update_template</span>
<span class="k">typedef</span> <span class="n">VkDescriptorUpdateTemplate</span> <span class="n">VkDescriptorUpdateTemplateKHR</span><span class="p">;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_descriptor_set_updates_with_templates"><a class="anchor" href="chap14.html#_descriptor_set_updates_with_templates"></a>14.2.6. Descriptor Set Updates With Templates</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Updating a large <code>VkDescriptorSet</code> array <strong class="purple">can</strong> be an expensive operation
since an application <strong class="purple">must</strong> specify one <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structure
for each descriptor or descriptor array to update, each of which
re-specifies the same state when updating the same descriptor in multiple
descriptor sets.
For cases when an application wishes to update the same set of descriptors
in multiple descriptor sets allocated using the same
<code>VkDescriptorSetLayout</code>, <a href="chap14.html#vkUpdateDescriptorSetWithTemplate">vkUpdateDescriptorSetWithTemplate</a> <strong class="purple">can</strong> be
used as a replacement for <a href="chap14.html#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a>.</p>
</div>
<div class="paragraph">
<p><code>VkDescriptorUpdateTemplate</code> allows implementations to convert a set of
descriptor update operations on a single descriptor set to an internal
format that, in conjunction with <a href="chap14.html#vkUpdateDescriptorSetWithTemplate">vkUpdateDescriptorSetWithTemplate</a>
or <a href="chap14.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a>
, <strong class="purple">can</strong> be more efficient compared to calling <a href="chap14.html#vkUpdateDescriptorSets">vkUpdateDescriptorSets</a>
or <a href="chap14.html#vkCmdPushDescriptorSetKHR">vkCmdPushDescriptorSetKHR</a>
.
The descriptors themselves are not specified in the
<code>VkDescriptorUpdateTemplate</code>, rather, offsets into an application
provided pointer to host memory are specified, which are combined with a
pointer passed to <a href="chap14.html#vkUpdateDescriptorSetWithTemplate">vkUpdateDescriptorSetWithTemplate</a>
or <a href="chap14.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a>
.
This allows large batches of updates to be executed without having to
convert application data structures into a strictly-defined Vulkan data
structure.</p>
</div>
<div class="paragraph">
<p>To create a descriptor update template, call:</p>
</div>
<div id="vkCreateDescriptorUpdateTemplate" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="n">VkResult</span> <span class="nf">vkCreateDescriptorUpdateTemplate</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDescriptorUpdateTemplateCreateInfo</span><span class="o">*</span> <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkDescriptorUpdateTemplate</span><span class="o">*</span>                 <span class="n">pDescriptorUpdateTemplate</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkCreateDescriptorUpdateTemplateKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_descriptor_update_template</span>
<span class="n">VkResult</span> <span class="nf">vkCreateDescriptorUpdateTemplateKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDescriptorUpdateTemplateCreateInfo</span><span class="o">*</span> <span class="n">pCreateInfo</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">,</span>
    <span class="n">VkDescriptorUpdateTemplate</span><span class="o">*</span>                 <span class="n">pDescriptorUpdateTemplate</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that creates the descriptor update
template.</p>
</li>
<li>
<p><code>pCreateInfo</code> is a pointer to a
<a href="chap14.html#VkDescriptorUpdateTemplateCreateInfo">VkDescriptorUpdateTemplateCreateInfo</a> structure specifying the set
of descriptors to update with a single call to
<a href="chap14.html#vkCmdPushDescriptorSetWithTemplateKHR">vkCmdPushDescriptorSetWithTemplateKHR</a> or
<a href="chap14.html#vkUpdateDescriptorSetWithTemplate">vkUpdateDescriptorSetWithTemplate</a>.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
<li>
<p><code>pDescriptorUpdateTemplate</code> is a pointer to a
<code>VkDescriptorUpdateTemplate</code> handle in which the resulting
descriptor update template object is returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCreateDescriptorUpdateTemplate-device-parameter" href="chap14.html#VUID-vkCreateDescriptorUpdateTemplate-device-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorUpdateTemplate-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorUpdateTemplate-pCreateInfo-parameter" href="chap14.html#VUID-vkCreateDescriptorUpdateTemplate-pCreateInfo-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorUpdateTemplate-pCreateInfo-parameter</span><br>
 <code>pCreateInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap14.html#VkDescriptorUpdateTemplateCreateInfo">VkDescriptorUpdateTemplateCreateInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorUpdateTemplate-pAllocator-parameter" href="chap14.html#VUID-vkCreateDescriptorUpdateTemplate-pAllocator-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorUpdateTemplate-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCreateDescriptorUpdateTemplate-pDescriptorUpdateTemplate-parameter" href="chap14.html#VUID-vkCreateDescriptorUpdateTemplate-pDescriptorUpdateTemplate-parameter"></a> <span class="vuid">VUID-vkCreateDescriptorUpdateTemplate-pDescriptorUpdateTemplate-parameter</span><br>
 <code>pDescriptorUpdateTemplate</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap14.html#VkDescriptorUpdateTemplate">VkDescriptorUpdateTemplate</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="chap14.html#VkDescriptorUpdateTemplateCreateInfo">VkDescriptorUpdateTemplateCreateInfo</a> structure is defined as:</p>
</div>
<div id="VkDescriptorUpdateTemplateCreateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorUpdateTemplateCreateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                           <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                               <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDescriptorUpdateTemplateCreateFlags</span>     <span class="n">flags</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                  <span class="n">descriptorUpdateEntryCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkDescriptorUpdateTemplateEntry</span><span class="o">*</span>    <span class="n">pDescriptorUpdateEntries</span><span class="p">;</span>
    <span class="n">VkDescriptorUpdateTemplateType</span>            <span class="n">templateType</span><span class="p">;</span>
    <span class="n">VkDescriptorSetLayout</span>                     <span class="n">descriptorSetLayout</span><span class="p">;</span>
    <span class="n">VkPipelineBindPoint</span>                       <span class="n">pipelineBindPoint</span><span class="p">;</span>
    <span class="n">VkPipelineLayout</span>                          <span class="n">pipelineLayout</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                  <span class="n">set</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorUpdateTemplateCreateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorUpdateTemplateCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_descriptor_update_template</span>
<span class="k">typedef</span> <span class="n">VkDescriptorUpdateTemplateCreateInfo</span> <span class="n">VkDescriptorUpdateTemplateCreateInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>descriptorUpdateEntryCount</code> is the number of elements in the
<code>pDescriptorUpdateEntries</code> array.</p>
</li>
<li>
<p><code>pDescriptorUpdateEntries</code> is a pointer to an array of
<a href="chap14.html#VkDescriptorUpdateTemplateEntry">VkDescriptorUpdateTemplateEntry</a> structures describing the
descriptors to be updated by the descriptor update template.</p>
</li>
<li>
<p><code>templateType</code> Specifies the type of the descriptor update template.
If set to <code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</code> it
<strong class="purple">can</strong> only be used to update descriptor sets with a fixed
<code>descriptorSetLayout</code>.
If set to <code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code>
it <strong class="purple">can</strong> only be used to push descriptor sets using the provided
<code>pipelineBindPoint</code>, <code>pipelineLayout</code>, and <code>set</code> number.</p>
</li>
<li>
<p><code>descriptorSetLayout</code> is the descriptor set layout used to build the
descriptor update template.
All descriptor sets which are going to be updated through the newly
created descriptor update template <strong class="purple">must</strong> be created with a layout that
matches (is the same as, or defined identically to) this layout.
This parameter is ignored if <code>templateType</code> is not
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</code>.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="chap10.html#VkPipelineBindPoint">VkPipelineBindPoint</a> indicating the
type of the pipeline that will use the descriptors.
This parameter is ignored if <code>templateType</code> is not
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
<li>
<p><code>pipelineLayout</code> is a <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> object used to program
the bindings.
This parameter is ignored if <code>templateType</code> is not
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
<li>
<p><code>set</code> is the set number of the descriptor set in the pipeline layout
that will be updated.
This parameter is ignored if <code>templateType</code> is not
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00350" href="chap14.html#VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00350"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00350</span><br>

If <code>templateType</code> is
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</code>,
<code>descriptorSetLayout</code> <strong class="purple">must</strong> be a valid <code>VkDescriptorSetLayout</code>
handle</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00351" href="chap14.html#VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00351"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00351</span><br>

If <code>templateType</code> is
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code>,
<code>pipelineBindPoint</code> <strong class="purple">must</strong> be a valid <a href="chap10.html#VkPipelineBindPoint">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00352" href="chap14.html#VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00352"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00352</span><br>

If <code>templateType</code> is
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code>,
<code>pipelineLayout</code> <strong class="purple">must</strong> be a valid <code>VkPipelineLayout</code> handle</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00353" href="chap14.html#VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00353"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-00353</span><br>

If <code>templateType</code> is
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code>, <code>set</code>
<strong class="purple">must</strong> be the unique set number in the pipeline layout that uses a
descriptor set layout that was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-sType-sType" href="chap14.html#VUID-VkDescriptorUpdateTemplateCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-pNext-pNext" href="chap14.html#VUID-VkDescriptorUpdateTemplateCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-flags-zerobitmask" href="chap14.html#VUID-VkDescriptorUpdateTemplateCreateInfo-flags-zerobitmask"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-pDescriptorUpdateEntries-parameter" href="chap14.html#VUID-VkDescriptorUpdateTemplateCreateInfo-pDescriptorUpdateEntries-parameter"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-pDescriptorUpdateEntries-parameter</span><br>
 <code>pDescriptorUpdateEntries</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorUpdateEntryCount</code> valid <a href="chap14.html#VkDescriptorUpdateTemplateEntry">VkDescriptorUpdateTemplateEntry</a> structures</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-parameter" href="chap14.html#VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-parameter"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-templateType-parameter</span><br>
 <code>templateType</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorUpdateTemplateType">VkDescriptorUpdateTemplateType</a> value</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-descriptorUpdateEntryCount-arraylength" href="chap14.html#VUID-VkDescriptorUpdateTemplateCreateInfo-descriptorUpdateEntryCount-arraylength"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-descriptorUpdateEntryCount-arraylength</span><br>
 <code>descriptorUpdateEntryCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateCreateInfo-commonparent" href="chap14.html#VUID-VkDescriptorUpdateTemplateCreateInfo-commonparent"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateCreateInfo-commonparent</span><br>
 Both of <code>descriptorSetLayout</code>, and <code>pipelineLayout</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkDescriptorUpdateTemplateCreateFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkDescriptorUpdateTemplateCreateFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorUpdateTemplateCreateFlagsKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_descriptor_update_template</span>
<span class="k">typedef</span> <span class="n">VkDescriptorUpdateTemplateCreateFlags</span> <span class="n">VkDescriptorUpdateTemplateCreateFlagsKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkDescriptorUpdateTemplateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The descriptor update template type is determined by the
<a href="chap14.html#VkDescriptorUpdateTemplateCreateInfo">VkDescriptorUpdateTemplateCreateInfo</a>::<code>templateType</code> property,
which takes the following values:</p>
</div>
<div id="VkDescriptorUpdateTemplateType" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkDescriptorUpdateTemplateType</span> <span class="p">{</span>
    <span class="n">VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
  <span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_push_descriptor, VK_KHR_descriptor_update_template with VK_KHR_push_descriptor</span>
    <span class="n">VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="c1">// Provided by VK_KHR_descriptor_update_template</span>
    <span class="n">VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET_KHR</span> <span class="o">=</span> <span class="n">VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkDescriptorUpdateTemplateType</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorUpdateTemplateTypeKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_descriptor_update_template</span>
<span class="k">typedef</span> <span class="n">VkDescriptorUpdateTemplateType</span> <span class="n">VkDescriptorUpdateTemplateTypeKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</code> specifies that
the descriptor update template will be used for descriptor set updates
only.</p>
</li>
<li>
<p><code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code> specifies
that the descriptor update template will be used for push descriptor
updates only.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDescriptorUpdateTemplateEntry</code> structure is defined as:</p>
</div>
<div id="VkDescriptorUpdateTemplateEntry" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDescriptorUpdateTemplateEntry</span> <span class="p">{</span>
    <span class="kt">uint32_t</span>            <span class="n">dstBinding</span><span class="p">;</span>
    <span class="kt">uint32_t</span>            <span class="n">dstArrayElement</span><span class="p">;</span>
    <span class="kt">uint32_t</span>            <span class="n">descriptorCount</span><span class="p">;</span>
    <span class="n">VkDescriptorType</span>    <span class="n">descriptorType</span><span class="p">;</span>
    <span class="kt">size_t</span>              <span class="n">offset</span><span class="p">;</span>
    <span class="kt">size_t</span>              <span class="n">stride</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDescriptorUpdateTemplateEntry</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkDescriptorUpdateTemplateEntryKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_descriptor_update_template</span>
<span class="k">typedef</span> <span class="n">VkDescriptorUpdateTemplateEntry</span> <span class="n">VkDescriptorUpdateTemplateEntryKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dstBinding</code> is the descriptor binding to update when using this
descriptor update template.</p>
</li>
<li>
<p><code>dstArrayElement</code> is the starting element in the array belonging to
<code>dstBinding</code>.
If the descriptor binding identified by <code>dstBinding</code> has a
descriptor type of <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>dstArrayElement</code> specifies the starting byte offset to update.</p>
</li>
<li>
<p><code>descriptorCount</code> is the number of descriptors to update.
If <code>descriptorCount</code> is greater than the number of remaining array
elements in the destination binding, those affect consecutive bindings
in a manner similar to <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a> above.
If the descriptor binding identified by <code>dstBinding</code> has a
descriptor type of <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code> then
<code>descriptorCount</code> specifies the number of bytes to update and the
remaining array elements in the destination binding refer to the
remaining number of bytes in it.</p>
</li>
<li>
<p><code>descriptorType</code> is a <a href="chap14.html#VkDescriptorType">VkDescriptorType</a> specifying the type of
the descriptor.</p>
</li>
<li>
<p><code>offset</code> is the offset in bytes of the first binding in the raw data
structure.</p>
</li>
<li>
<p><code>stride</code> is the stride in bytes between two consecutive array
elements of the descriptor update information in the raw data structure.
The actual pointer ptr for each array element j of update entry i is
computed using the following formula:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++">    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">ptr</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="n">pData</span> <span class="o">+</span> <span class="n">pDescriptorUpdateEntries</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">offset</span> <span class="o">+</span> <span class="n">j</span> <span class="o">*</span> <span class="n">pDescriptorUpdateEntries</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">stride</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The stride is useful in case the bindings are stored in structs along with
other data.
If <code>descriptorType</code> is <code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>
then the value of <code>stride</code> is ignored and the stride is assumed to be
<code>1</code>, i.e. the descriptor update information for them is always specified as
a contiguous range.</p>
</div>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateEntry-dstBinding-00354" href="chap14.html#VUID-VkDescriptorUpdateTemplateEntry-dstBinding-00354"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateEntry-dstBinding-00354</span><br>

<code>dstBinding</code> <strong class="purple">must</strong> be a valid binding in the descriptor set layout
implicitly specified when using a descriptor update template to update
descriptors</p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateEntry-dstArrayElement-00355" href="chap14.html#VUID-VkDescriptorUpdateTemplateEntry-dstArrayElement-00355"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateEntry-dstArrayElement-00355</span><br>

<code>dstArrayElement</code> and <code>descriptorCount</code> <strong class="purple">must</strong> be less than or
equal to the number of array elements in the descriptor set binding
implicitly specified when using a descriptor update template to update
descriptors, and all applicable consecutive bindings, as described by
<a href="chap14.html#descriptorsets-updates-consecutive">consecutive binding updates</a></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateEntry-descriptor-02226" href="chap14.html#VUID-VkDescriptorUpdateTemplateEntry-descriptor-02226"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateEntry-descriptor-02226</span><br>

If <code>descriptor</code> type is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, <code>dstArrayElement</code>
<strong class="purple">must</strong> be an integer multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateEntry-descriptor-02227" href="chap14.html#VUID-VkDescriptorUpdateTemplateEntry-descriptor-02227"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateEntry-descriptor-02227</span><br>

If <code>descriptor</code> type is
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>, <code>descriptorCount</code>
<strong class="purple">must</strong> be an integer multiple of <code>4</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDescriptorUpdateTemplateEntry-descriptorType-parameter" href="chap14.html#VUID-VkDescriptorUpdateTemplateEntry-descriptorType-parameter"></a> <span class="vuid">VUID-VkDescriptorUpdateTemplateEntry-descriptorType-parameter</span><br>
 <code>descriptorType</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorType">VkDescriptorType</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To destroy a descriptor update template, call:</p>
</div>
<div id="vkDestroyDescriptorUpdateTemplate" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="kt">void</span> <span class="nf">vkDestroyDescriptorUpdateTemplate</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkDescriptorUpdateTemplate</span>                  <span class="n">descriptorUpdateTemplate</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkDestroyDescriptorUpdateTemplateKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_descriptor_update_template</span>
<span class="kt">void</span> <span class="nf">vkDestroyDescriptorUpdateTemplateKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkDescriptorUpdateTemplate</span>                  <span class="n">descriptorUpdateTemplate</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkAllocationCallbacks</span><span class="o">*</span>                <span class="n">pAllocator</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that has been used to create the
descriptor update template</p>
</li>
<li>
<p><code>descriptorUpdateTemplate</code> is the descriptor update template to
destroy.</p>
</li>
<li>
<p><code>pAllocator</code> controls host memory allocation as described in the
<a href="chap11.html#memory-allocation">Memory Allocation</a> chapter.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00356" href="chap14.html#VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00356"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00356</span><br>

If <code>VkAllocationCallbacks</code> were provided when
<code>descriptorUpdateTemplate</code> was created, a compatible set of
callbacks <strong class="purple">must</strong> be provided here</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00357" href="chap14.html#VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00357"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-descriptorSetLayout-00357</span><br>

If no <code>VkAllocationCallbacks</code> were provided when
<code>descriptorUpdateTemplate</code> was created, <code>pAllocator</code> <strong class="purple">must</strong> be
<code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-device-parameter" href="chap14.html#VUID-vkDestroyDescriptorUpdateTemplate-device-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parameter" href="chap14.html#VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parameter</span><br>
 If <code>descriptorUpdateTemplate</code> is not <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>descriptorUpdateTemplate</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorUpdateTemplate">VkDescriptorUpdateTemplate</a> handle</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-pAllocator-parameter" href="chap14.html#VUID-vkDestroyDescriptorUpdateTemplate-pAllocator-parameter"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-pAllocator-parameter</span><br>
 If <code>pAllocator</code> is not <code>NULL</code>, <code>pAllocator</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap11.html#VkAllocationCallbacks">VkAllocationCallbacks</a> structure</p>
</li>
<li>
<p><a id="VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parent" href="chap14.html#VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parent"></a> <span class="vuid">VUID-vkDestroyDescriptorUpdateTemplate-descriptorUpdateTemplate-parent</span><br>
 If <code>descriptorUpdateTemplate</code> is a valid handle, it <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>descriptorUpdateTemplate</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once a <code>VkDescriptorUpdateTemplate</code> has been created, descriptor sets
<strong class="purple">can</strong> be updated by calling:</p>
</div>
<div id="vkUpdateDescriptorSetWithTemplate" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="kt">void</span> <span class="nf">vkUpdateDescriptorSetWithTemplate</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkDescriptorSet</span>                             <span class="n">descriptorSet</span><span class="p">,</span>
    <span class="n">VkDescriptorUpdateTemplate</span>                  <span class="n">descriptorUpdateTemplate</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                 <span class="n">pData</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkUpdateDescriptorSetWithTemplateKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_descriptor_update_template</span>
<span class="kt">void</span> <span class="nf">vkUpdateDescriptorSetWithTemplateKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="n">VkDescriptorSet</span>                             <span class="n">descriptorSet</span><span class="p">,</span>
    <span class="n">VkDescriptorUpdateTemplate</span>                  <span class="n">descriptorUpdateTemplate</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                 <span class="n">pData</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that updates the descriptor set.</p>
</li>
<li>
<p><code>descriptorSet</code> is the descriptor set to update</p>
</li>
<li>
<p><code>descriptorUpdateTemplate</code> is a <a href="chap14.html#VkDescriptorUpdateTemplate">VkDescriptorUpdateTemplate</a>
object specifying the update mapping between <code>pData</code> and the
descriptor set to update.</p>
</li>
<li>
<p><code>pData</code> is a pointer to memory containing one or more
    <a href="chap14.html#VkDescriptorImageInfo">VkDescriptorImageInfo</a>, <a href="chap14.html#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a>, or
    <a href="chap12.html#VkBufferView">VkBufferView</a> structures
or <a href="chap12.html#VkAccelerationStructureKHR">VkAccelerationStructureKHR</a>
handles
    used to write the descriptors.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-pData-01685" href="chap14.html#VUID-vkUpdateDescriptorSetWithTemplate-pData-01685"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-pData-01685</span><br>

<code>pData</code> <strong class="purple">must</strong> be a valid pointer to a memory containing one or more
valid instances of <a href="chap14.html#VkDescriptorImageInfo">VkDescriptorImageInfo</a>,
<a href="chap14.html#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a>, or <a href="chap12.html#VkBufferView">VkBufferView</a> in a layout defined
by <code>descriptorUpdateTemplate</code> when it was created with
<a href="chap14.html#vkCreateDescriptorUpdateTemplate">vkCreateDescriptorUpdateTemplate</a></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-06995" href="chap14.html#VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-06995"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-06995</span><br>

Host access to <code>descriptorSet</code> <strong class="purple">must</strong> be
<a href="chap3.html#fundamentals-threadingbehavior">externally synchronized</a>
unless explicitly denoted otherwise for specific flags</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-device-parameter" href="chap14.html#VUID-vkUpdateDescriptorSetWithTemplate-device-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parameter" href="chap14.html#VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parameter</span><br>
 <code>descriptorSet</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorSet">VkDescriptorSet</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parameter" href="chap14.html#VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parameter"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parameter</span><br>
 <code>descriptorUpdateTemplate</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorUpdateTemplate">VkDescriptorUpdateTemplate</a> handle</p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parent" href="chap14.html#VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parent"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-descriptorSet-parent</span><br>
 <code>descriptorSet</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
<li>
<p><a id="VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parent" href="chap14.html#VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parent"></a> <span class="vuid">VUID-vkUpdateDescriptorSetWithTemplate-descriptorUpdateTemplate-parent</span><br>
 <code>descriptorUpdateTemplate</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from <code>device</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="k">struct</span> <span class="nc">AppBufferView</span> <span class="p">{</span>
    <span class="n">VkBufferView</span> <span class="n">bufferView</span><span class="p">;</span>
    <span class="kt">uint32_t</span>     <span class="n">applicationRelatedInformation</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="nc">AppDataStructure</span>
<span class="p">{</span>
    <span class="n">VkDescriptorImageInfo</span>  <span class="n">imageInfo</span><span class="p">;</span>          <span class="c1">// a single image info</span>
    <span class="n">VkDescriptorBufferInfo</span> <span class="n">bufferInfoArray</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span> <span class="c1">// 3 buffer infos in an array</span>
    <span class="n">AppBufferView</span>          <span class="n">bufferView</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>      <span class="c1">// An application defined structure containing a bufferView</span>
    <span class="c1">// ... some more application related data</span>
<span class="p">};</span>

<span class="k">const</span> <span class="n">VkDescriptorUpdateTemplateEntry</span> <span class="n">descriptorUpdateTemplateEntries</span><span class="p">[]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="c1">// binding to a single image descriptor</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">binding</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">dstArrayElement</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorType</span> <span class="o">=</span> <span class="n">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</span><span class="p">,</span>
        <span class="p">.</span><span class="n">offset</span> <span class="o">=</span> <span class="n">offsetof</span><span class="p">(</span><span class="n">AppDataStructure</span><span class="p">,</span> <span class="n">imageInfo</span><span class="p">),</span>
        <span class="p">.</span><span class="n">stride</span> <span class="o">=</span> <span class="mi">0</span>         <span class="c1">// stride not required if descriptorCount is 1</span>
    <span class="p">},</span>

    <span class="c1">// binding to an array of buffer descriptors</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">binding</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">dstArrayElement</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorCount</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorType</span> <span class="o">=</span> <span class="n">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</span><span class="p">,</span>
        <span class="p">.</span><span class="n">offset</span> <span class="o">=</span> <span class="n">offsetof</span><span class="p">(</span><span class="n">AppDataStructure</span><span class="p">,</span> <span class="n">bufferInfoArray</span><span class="p">),</span>
        <span class="p">.</span><span class="n">stride</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">VkDescriptorBufferInfo</span><span class="p">)</span>    <span class="c1">// descriptor buffer infos are compact</span>
    <span class="p">},</span>

    <span class="c1">// binding to an array of buffer views</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">binding</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
        <span class="p">.</span><span class="n">dstArrayElement</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorCount</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorType</span> <span class="o">=</span> <span class="n">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</span><span class="p">,</span>
        <span class="p">.</span><span class="n">offset</span> <span class="o">=</span> <span class="n">offsetof</span><span class="p">(</span><span class="n">AppDataStructure</span><span class="p">,</span> <span class="n">bufferView</span><span class="p">)</span> <span class="o">+</span>
                  <span class="n">offsetof</span><span class="p">(</span><span class="n">AppBufferView</span><span class="p">,</span> <span class="n">bufferView</span><span class="p">),</span>
        <span class="p">.</span><span class="n">stride</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">AppBufferView</span><span class="p">)</span>             <span class="c1">// bufferViews do not have to be compact</span>
    <span class="p">},</span>
<span class="p">};</span>

<span class="c1">// create a descriptor update template for descriptor set updates</span>
<span class="k">const</span> <span class="n">VkDescriptorUpdateTemplateCreateInfo</span> <span class="n">createInfo</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_CREATE_INFO</span><span class="p">,</span>
    <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
    <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">.</span><span class="n">descriptorUpdateEntryCount</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="p">.</span><span class="n">pDescriptorUpdateEntries</span> <span class="o">=</span> <span class="n">descriptorUpdateTemplateEntries</span><span class="p">,</span>
    <span class="p">.</span><span class="n">templateType</span> <span class="o">=</span> <span class="n">VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_DESCRIPTOR_SET</span><span class="p">,</span>
    <span class="p">.</span><span class="n">descriptorSetLayout</span> <span class="o">=</span> <span class="n">myLayout</span><span class="p">,</span>
    <span class="p">.</span><span class="n">pipelineBindPoint</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>     <span class="c1">// ignored by given templateType</span>
    <span class="p">.</span><span class="n">pipelineLayout</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>        <span class="c1">// ignored by given templateType</span>
    <span class="p">.</span><span class="n">set</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>                   <span class="c1">// ignored by given templateType</span>
<span class="p">};</span>

<span class="n">VkDescriptorUpdateTemplate</span> <span class="n">myDescriptorUpdateTemplate</span><span class="p">;</span>
<span class="n">myResult</span> <span class="o">=</span> <span class="n">vkCreateDescriptorUpdateTemplate</span><span class="p">(</span>
    <span class="n">myDevice</span><span class="p">,</span>
    <span class="o">&amp;</span><span class="n">createInfo</span><span class="p">,</span>
    <span class="nb">NULL</span><span class="p">,</span>
    <span class="o">&amp;</span><span class="n">myDescriptorUpdateTemplate</span><span class="p">);</span>

<span class="n">AppDataStructure</span> <span class="n">appData</span><span class="p">;</span>

<span class="c1">// fill appData here or cache it in your engine</span>
<span class="n">vkUpdateDescriptorSetWithTemplate</span><span class="p">(</span><span class="n">myDevice</span><span class="p">,</span> <span class="n">myDescriptorSet</span><span class="p">,</span> <span class="n">myDescriptorUpdateTemplate</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">appData</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-binding"><a class="anchor" href="chap14.html#descriptorsets-binding"></a>14.2.7. Descriptor Set Binding</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To bind one or more descriptor sets to a command buffer, call:</p>
</div>
<div id="vkCmdBindDescriptorSets" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="kt">void</span> <span class="nf">vkCmdBindDescriptorSets</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkPipelineBindPoint</span>                         <span class="n">pipelineBindPoint</span><span class="p">,</span>
    <span class="n">VkPipelineLayout</span>                            <span class="n">layout</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">firstSet</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">descriptorSetCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDescriptorSet</span><span class="o">*</span>                      <span class="n">pDescriptorSets</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">dynamicOffsetCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">uint32_t</span><span class="o">*</span>                             <span class="n">pDynamicOffsets</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the descriptor sets will
be bound to.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="chap10.html#VkPipelineBindPoint">VkPipelineBindPoint</a> indicating the
type of the pipeline that will use the descriptors.
There is a separate set of bind points for each pipeline type, so
binding one does not disturb the others.</p>
</li>
<li>
<p><code>layout</code> is a <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> object used to program the
bindings.</p>
</li>
<li>
<p><code>firstSet</code> is the set number of the first descriptor set to be
bound.</p>
</li>
<li>
<p><code>descriptorSetCount</code> is the number of elements in the
<code>pDescriptorSets</code> array.</p>
</li>
<li>
<p><code>pDescriptorSets</code> is a pointer to an array of handles to
<a href="chap14.html#VkDescriptorSet">VkDescriptorSet</a> objects describing the descriptor sets to bind to.</p>
</li>
<li>
<p><code>dynamicOffsetCount</code> is the number of dynamic offsets in the
<code>pDynamicOffsets</code> array.</p>
</li>
<li>
<p><code>pDynamicOffsets</code> is a pointer to an array of <code>uint32_t</code> values
specifying dynamic offsets.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkCmdBindDescriptorSets</code> binds descriptor sets
<code>pDescriptorSets</code>[0..<code>descriptorSetCount</code>-1] to set numbers
[<code>firstSet</code>..<code>firstSet</code>+<code>descriptorSetCount</code>-1] for subsequent
<a href="chap10.html#pipelines-bindpoint-commands">bound pipeline commands</a> set by
<code>pipelineBindPoint</code>.
Any bindings that were previously applied via these sets
are no longer valid.</p>
</div>
<div class="paragraph">
<p>Once bound, a descriptor set affects rendering of subsequent commands that
interact with the given pipeline type in the command buffer until either a
different set is bound to the same set number, or the set is disturbed as
described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout
Compatibility</a>.</p>
</div>
<div class="paragraph">
<p>A compatible descriptor set <strong class="purple">must</strong> be bound for all set numbers that any
shaders in a pipeline access, at the time that a drawing or dispatching
command is recorded to execute using that pipeline.
However, if none of the shaders in a pipeline statically use any bindings
with a particular set number, then no descriptor set need be bound for that
set number, even if the pipeline layout includes a non-trivial descriptor
set layout for that set number.</p>
</div>
<div id="descriptor-validity" class="paragraph">
<p>When consuming a descriptor, a descriptor is considered valid if the
descriptor is not undefined as described by
<a href="chap14.html#descriptor-set-initial-state">descriptor set allocation</a>.
A descriptor that was disturbed by <a href="chap14.html#descriptorsets-compatibility">Pipeline
Layout Compatibility</a>, or was never bound by <code>vkCmdBindDescriptorSets</code>
is not considered valid.
If a pipeline accesses a descriptor either statically or dynamically
depending on the <a href="chap14.html#VkDescriptorBindingFlagBits">VkDescriptorBindingFlagBits</a>, the consuming descriptor
type in the pipeline <strong class="purple">must</strong> match the <a href="chap14.html#VkDescriptorType">VkDescriptorType</a> in
<a href="chap14.html#VkDescriptorSetLayoutCreateInfo">VkDescriptorSetLayoutCreateInfo</a> for the descriptor to be considered
valid.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Further validation may be carried out beyond validation for descriptor
types, e.g. <a href="chap16.html#textures-input-validation">Texel Input Validation</a>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div id="descriptorsets-binding-dynamicoffsets" class="paragraph">
<p>If any of the sets being bound include dynamic uniform or storage buffers,
then <code>pDynamicOffsets</code> includes one element for each array element in
each dynamic descriptor type binding in each set.
Values are taken from <code>pDynamicOffsets</code> in an order such that all
entries for set N come before set N+1; within a set, entries are ordered by
the binding numbers in the descriptor set layouts; and within a binding
array, elements are in order.
<code>dynamicOffsetCount</code> <strong class="purple">must</strong> equal the total number of dynamic descriptors
in the sets being bound.</p>
</div>
<div id="dynamic-effective-offset" class="paragraph">
<p>The effective offset used for dynamic uniform and storage buffer bindings is
the sum of the relative offset taken from <code>pDynamicOffsets</code>, and the
base address of the buffer plus base offset in the descriptor set.
The range of the dynamic uniform and storage buffer bindings is the buffer
range as specified in the descriptor set.</p>
</div>
<div class="paragraph">
<p>Each of the <code>pDescriptorSets</code> <strong class="purple">must</strong> be compatible with the pipeline
layout specified by <code>layout</code>.
The layout used to program the bindings <strong class="purple">must</strong> also be compatible with the
pipeline used in subsequent <a href="chap10.html#pipelines-bindpoint-commands">bound pipeline
commands</a> with that pipeline type, as defined in the
<a href="chap14.html#descriptorsets-compatibility">Pipeline Layout Compatibility</a> section.</p>
</div>
<div class="paragraph">
<p>The descriptor set contents bound by a call to <code>vkCmdBindDescriptorSets</code>
<strong class="purple">may</strong> be consumed at the following times:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For descriptor bindings created with the
<code>VK_DESCRIPTOR_BINDING_UPDATE_AFTER_BIND_BIT</code> bit set, the contents
<strong class="purple">may</strong> be consumed when the command buffer is submitted to a queue, or
during shader execution of the resulting draws and dispatches, or any
time in between.
Otherwise,</p>
</li>
<li>
<p>during host execution of the command, or during shader execution of the
resulting draws and dispatches, or any time in between.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Thus, the contents of a descriptor set binding <strong class="purple">must</strong> not be altered
(overwritten by an update command, or freed) between the first point in time
that it <strong class="purple">may</strong> be consumed, and when the command completes executing on the
queue.</p>
</div>
<div class="paragraph">
<p>The contents of <code>pDynamicOffsets</code> are consumed immediately during
execution of <code>vkCmdBindDescriptorSets</code>.
Once all pending uses have completed, it is legal to update and reuse a
descriptor set.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-00358" href="chap14.html#VUID-vkCmdBindDescriptorSets-pDescriptorSets-00358"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDescriptorSets-00358</span><br>

Each element of <code>pDescriptorSets</code> <strong class="purple">must</strong> have been allocated with a
<code>VkDescriptorSetLayout</code> that matches (is the same as, or identically
defined as) the <code>VkDescriptorSetLayout</code> at set <em>n</em> in <code>layout</code>,
where <em>n</em> is the sum of <code>firstSet</code> and the index into
<code>pDescriptorSets</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-dynamicOffsetCount-00359" href="chap14.html#VUID-vkCmdBindDescriptorSets-dynamicOffsetCount-00359"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-dynamicOffsetCount-00359</span><br>

<code>dynamicOffsetCount</code> <strong class="purple">must</strong> be equal to the total number of dynamic
descriptors in <code>pDescriptorSets</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-firstSet-00360" href="chap14.html#VUID-vkCmdBindDescriptorSets-firstSet-00360"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-firstSet-00360</span><br>

The sum of <code>firstSet</code> and <code>descriptorSetCount</code> <strong class="purple">must</strong> be less
than or equal to <a href="chap14.html#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>::<code>setLayoutCount</code>
provided when <code>layout</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pipelineBindPoint-00361" href="chap14.html#VUID-vkCmdBindDescriptorSets-pipelineBindPoint-00361"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pipelineBindPoint-00361</span><br>

<code>pipelineBindPoint</code> <strong class="purple">must</strong> be supported by the <code>commandBuffer</code>’s
parent <code>VkCommandPool</code>’s queue family</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01971" href="chap14.html#VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01971"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01971</span><br>

Each element of <code>pDynamicOffsets</code> which corresponds to a descriptor
binding with type <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code> <strong class="purple">must</strong>
be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minUniformBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01972" href="chap14.html#VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01972"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDynamicOffsets-01972</span><br>

Each element of <code>pDynamicOffsets</code> which corresponds to a descriptor
binding with type <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code> <strong class="purple">must</strong>
be a multiple of
<code>VkPhysicalDeviceLimits</code>::<code>minStorageBufferOffsetAlignment</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-01979" href="chap14.html#VUID-vkCmdBindDescriptorSets-pDescriptorSets-01979"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDescriptorSets-01979</span><br>

For each dynamic uniform or storage buffer binding in
<code>pDescriptorSets</code>, the sum of the <a href="chap14.html#dynamic-effective-offset">effective offset</a> and the range of the binding <strong class="purple">must</strong> be less than or
equal to the size of the buffer</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-06715" href="chap14.html#VUID-vkCmdBindDescriptorSets-pDescriptorSets-06715"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDescriptorSets-06715</span><br>

For each dynamic uniform or storage buffer binding in
<code>pDescriptorSets</code>, if the range was set with <code>VK_WHOLE_SIZE</code>
then <code>pDynamicOffsets</code> which corresponds to the descriptor binding
<strong class="purple">must</strong> be 0</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-graphicsPipelineLibrary-06754" href="chap14.html#VUID-vkCmdBindDescriptorSets-graphicsPipelineLibrary-06754"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-graphicsPipelineLibrary-06754</span><br>

Each
    element of <code>pDescriptorSets</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorSet">VkDescriptorSet</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commandBuffer-parameter" href="chap14.html#VUID-vkCmdBindDescriptorSets-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pipelineBindPoint-parameter" href="chap14.html#VUID-vkCmdBindDescriptorSets-pipelineBindPoint-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pipelineBindPoint-parameter</span><br>
 <code>pipelineBindPoint</code> <strong class="purple">must</strong> be a valid <a href="chap10.html#VkPipelineBindPoint">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-layout-parameter" href="chap14.html#VUID-vkCmdBindDescriptorSets-layout-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-layout-parameter</span><br>
 <code>layout</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDescriptorSets-parameter" href="chap14.html#VUID-vkCmdBindDescriptorSets-pDescriptorSets-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDescriptorSets-parameter</span><br>
 <code>pDescriptorSets</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorSetCount</code> valid or <a href="chap50.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> <a href="chap14.html#VkDescriptorSet">VkDescriptorSet</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-pDynamicOffsets-parameter" href="chap14.html#VUID-vkCmdBindDescriptorSets-pDynamicOffsets-parameter"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-pDynamicOffsets-parameter</span><br>
 If <code>dynamicOffsetCount</code> is not <code>0</code>, <code>pDynamicOffsets</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>dynamicOffsetCount</code> <code>uint32_t</code> values</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commandBuffer-recording" href="chap14.html#VUID-vkCmdBindDescriptorSets-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commandBuffer-cmdpool" href="chap14.html#VUID-vkCmdBindDescriptorSets-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-videocoding" href="chap14.html#VUID-vkCmdBindDescriptorSets-videocoding"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-descriptorSetCount-arraylength" href="chap14.html#VUID-vkCmdBindDescriptorSets-descriptorSetCount-arraylength"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-descriptorSetCount-arraylength</span><br>
 <code>descriptorSetCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindDescriptorSets-commonparent" href="chap14.html#VUID-vkCmdBindDescriptorSets-commonparent"></a> <span class="vuid">VUID-vkCmdBindDescriptorSets-commonparent</span><br>
 Each of <code>commandBuffer</code>, <code>layout</code>, and the elements of <code>pDescriptorSets</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap37.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-push-descriptors"><a class="anchor" href="chap14.html#descriptorsets-push-descriptors"></a>14.2.8. Push Descriptor Updates</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>In addition to allocating descriptor sets and binding them to a command
buffer, an application <strong class="purple">can</strong> record descriptor updates into the command
buffer.</p>
</div>
<div class="paragraph">
<p>To push descriptor updates into a command buffer, call:</p>
</div>
<div id="vkCmdPushDescriptorSetKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_push_descriptor</span>
<span class="kt">void</span> <span class="nf">vkCmdPushDescriptorSetKHR</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkPipelineBindPoint</span>                         <span class="n">pipelineBindPoint</span><span class="p">,</span>
    <span class="n">VkPipelineLayout</span>                            <span class="n">layout</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">set</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">descriptorWriteCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkWriteDescriptorSet</span><span class="o">*</span>                 <span class="n">pDescriptorWrites</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the descriptors will be
recorded in.</p>
</li>
<li>
<p><code>pipelineBindPoint</code> is a <a href="chap10.html#VkPipelineBindPoint">VkPipelineBindPoint</a> indicating the
type of the pipeline that will use the descriptors.
There is a separate set of push descriptor bindings for each pipeline
type, so binding one does not disturb the others.</p>
</li>
<li>
<p><code>layout</code> is a <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> object used to program the
bindings.</p>
</li>
<li>
<p><code>set</code> is the set number of the descriptor set in the pipeline layout
that will be updated.</p>
</li>
<li>
<p><code>descriptorWriteCount</code> is the number of elements in the
<code>pDescriptorWrites</code> array.</p>
</li>
<li>
<p><code>pDescriptorWrites</code> is a pointer to an array of
<a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structures describing the descriptors to be
updated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Push descriptors</em> are a small bank of descriptors whose storage is
internally managed by the command buffer rather than being written into a
descriptor set and later bound to a command buffer.
Push descriptors allow for incremental updates of descriptors without
managing the lifetime of descriptor sets.</p>
</div>
<div class="paragraph">
<p>When a command buffer begins recording, all push descriptors are undefined.
Push descriptors <strong class="purple">can</strong> be updated incrementally and cause shaders to use the
updated descriptors for subsequent <a href="chap10.html#pipelines-bindpoint-commands">bound
pipeline commands</a> with the pipeline type set by <code>pipelineBindPoint</code>
until the descriptor is overwritten, or else until the set is disturbed as
described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout
Compatibility</a>.
When the set is disturbed or push descriptors with a different descriptor
set layout are set, all push descriptors are undefined.</p>
</div>
<div class="paragraph">
<p>Push descriptors that are <a href="chap9.html#shaders-staticuse">statically used</a> by a
pipeline <strong class="purple">must</strong> not be undefined at the time that a drawing or dispatching
command is recorded to execute using that pipeline.
This includes immutable sampler descriptors, which <strong class="purple">must</strong> be pushed before
they are accessed by a pipeline (the immutable samplers are pushed, rather
than the samplers in <code>pDescriptorWrites</code>).
Push descriptors that are not statically used <strong class="purple">can</strong> remain undefined.</p>
</div>
<div class="paragraph">
<p>Push descriptors do not use dynamic offsets.
Instead, the corresponding non-dynamic descriptor types <strong class="purple">can</strong> be used and the
<code>offset</code> member of <a href="chap14.html#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a> <strong class="purple">can</strong> be changed each
time the descriptor is written.</p>
</div>
<div class="paragraph">
<p>Each element of <code>pDescriptorWrites</code> is interpreted as in
<a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a>, except the <code>dstSet</code> member is ignored.</p>
</div>
<div class="paragraph">
<p>To push an immutable sampler, use a <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a> with
<code>dstBinding</code> and <code>dstArrayElement</code> selecting the immutable sampler’s
binding.
If the descriptor type is <code>VK_DESCRIPTOR_TYPE_SAMPLER</code>, the
<code>pImageInfo</code> parameter is ignored and the immutable sampler is taken
from the push descriptor set layout in the pipeline layout.
If the descriptor type is <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code>,
the <code>sampler</code> member of the <code>pImageInfo</code> parameter is ignored and
the immutable sampler is taken from the push descriptor set layout in the
pipeline layout.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-00363" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-00363"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-00363</span><br>

<code>pipelineBindPoint</code> <strong class="purple">must</strong> be supported by the <code>commandBuffer</code>’s
parent <code>VkCommandPool</code>’s queue family</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-set-00364" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-set-00364"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-set-00364</span><br>

<code>set</code> <strong class="purple">must</strong> be less than
<a href="chap14.html#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>::<code>setLayoutCount</code> provided when
<code>layout</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-set-00365" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-set-00365"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-set-00365</span><br>

<code>set</code> <strong class="purple">must</strong> be the unique set number in the pipeline layout that
uses a descriptor set layout that was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-06494" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-06494"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-06494</span><br>

For each element <span class="eq">i</span> where
<code>pDescriptorWrites</code>[i].<code>descriptorType</code> is
<code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code>,
<code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code>, or
<code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code>,
<code>pDescriptorWrites</code>[i].<code>pImageInfo</code> <strong class="purple">must</strong> be a valid pointer to
an array of <code>pDescriptorWrites</code>[i].<code>descriptorCount</code> valid
<code>VkDescriptorImageInfo</code> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-commandBuffer-parameter" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-parameter" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-pipelineBindPoint-parameter</span><br>
 <code>pipelineBindPoint</code> <strong class="purple">must</strong> be a valid <a href="chap10.html#VkPipelineBindPoint">VkPipelineBindPoint</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-layout-parameter" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-layout-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-layout-parameter</span><br>
 <code>layout</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-parameter" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-pDescriptorWrites-parameter</span><br>
 <code>pDescriptorWrites</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>descriptorWriteCount</code> valid <a href="chap14.html#VkWriteDescriptorSet">VkWriteDescriptorSet</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-commandBuffer-recording" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-commandBuffer-cmdpool" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-videocoding" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-videocoding"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-descriptorWriteCount-arraylength" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-descriptorWriteCount-arraylength"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-descriptorWriteCount-arraylength</span><br>
 <code>descriptorWriteCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetKHR-commonparent" href="chap14.html#VUID-vkCmdPushDescriptorSetKHR-commonparent"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetKHR-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>layout</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap37.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_push_descriptor_updates_with_descriptor_update_templates"><a class="anchor" href="chap14.html#_push_descriptor_updates_with_descriptor_update_templates"></a>14.2.9. Push Descriptor Updates With Descriptor Update Templates</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>It is also possible to use a descriptor update template to specify the push
descriptors to update.
To do so, call:</p>
</div>
<div id="vkCmdPushDescriptorSetWithTemplateKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1 with VK_KHR_push_descriptor, VK_KHR_descriptor_update_template with VK_KHR_push_descriptor</span>
<span class="kt">void</span> <span class="nf">vkCmdPushDescriptorSetWithTemplateKHR</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkDescriptorUpdateTemplate</span>                  <span class="n">descriptorUpdateTemplate</span><span class="p">,</span>
    <span class="n">VkPipelineLayout</span>                            <span class="n">layout</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">set</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                 <span class="n">pData</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer that the descriptors will be
recorded in.</p>
</li>
<li>
<p><code>descriptorUpdateTemplate</code> is a descriptor update template defining
how to interpret the descriptor information in <code>pData</code>.</p>
</li>
<li>
<p><code>layout</code> is a <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> object used to program the
bindings.
It <strong class="purple">must</strong> be compatible with the layout used to create the
<code>descriptorUpdateTemplate</code> handle.</p>
</li>
<li>
<p><code>set</code> is the set number of the descriptor set in the pipeline layout
that will be updated.
This <strong class="purple">must</strong> be the same number used to create the
<code>descriptorUpdateTemplate</code> handle.</p>
</li>
<li>
<p><code>pData</code> is a pointer to memory containing descriptors for the
templated update.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-00366" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-00366"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-00366</span><br>

The <code>pipelineBindPoint</code> specified during the creation of the
descriptor update template <strong class="purple">must</strong> be supported by the
<code>commandBuffer</code>’s parent <code>VkCommandPool</code>’s queue family</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-pData-01686" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-pData-01686"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-pData-01686</span><br>

<code>pData</code> <strong class="purple">must</strong> be a valid pointer to a memory containing one or more
valid instances of <a href="chap14.html#VkDescriptorImageInfo">VkDescriptorImageInfo</a>,
<a href="chap14.html#VkDescriptorBufferInfo">VkDescriptorBufferInfo</a>, or <a href="chap12.html#VkBufferView">VkBufferView</a> in a layout defined
by <code>descriptorUpdateTemplate</code> when it was created with
<a href="chap14.html#vkCreateDescriptorUpdateTemplate">vkCreateDescriptorUpdateTemplate</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-07993" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-07993"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-07993</span><br>

<code>layout</code> <strong class="purple">must</strong> be compatible with the layout used to create
<code>descriptorUpdateTemplate</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-07994" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-07994"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-07994</span><br>

<code>descriptorUpdateTemplate</code> <strong class="purple">must</strong> have been created with a
<code>templateType</code> of
<code>VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07995" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07995"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07995</span><br>

<code>set</code> <strong class="purple">must</strong> be the same value used to create
<code>descriptorUpdateTemplate</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07304" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07304"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07304</span><br>

<code>set</code> <strong class="purple">must</strong> be less than
<a href="chap14.html#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>::<code>setLayoutCount</code> provided when
<code>layout</code> was created</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07305" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07305"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-set-07305</span><br>

<code>set</code> <strong class="purple">must</strong> be the unique set number in the pipeline layout that
uses a descriptor set layout that was created with
<code>VK_DESCRIPTOR_SET_LAYOUT_CREATE_PUSH_DESCRIPTOR_BIT_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-parameter" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-parameter" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-descriptorUpdateTemplate-parameter</span><br>
 <code>descriptorUpdateTemplate</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkDescriptorUpdateTemplate">VkDescriptorUpdateTemplate</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-parameter" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-parameter"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-layout-parameter</span><br>
 <code>layout</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-recording" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-cmdpool" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-videocoding" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-videocoding"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdPushDescriptorSetWithTemplateKHR-commonparent" href="chap14.html#VUID-vkCmdPushDescriptorSetWithTemplateKHR-commonparent"></a> <span class="vuid">VUID-vkCmdPushDescriptorSetWithTemplateKHR-commonparent</span><br>
 Each of <code>commandBuffer</code>, <code>descriptorUpdateTemplate</code>, and <code>layout</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap37.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="listingblock">
<div class="title">API example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="k">struct</span> <span class="nc">AppDataStructure</span>
<span class="p">{</span>
    <span class="n">VkDescriptorImageInfo</span>  <span class="n">imageInfo</span><span class="p">;</span>          <span class="c1">// a single image info</span>
    <span class="c1">// ... some more application related data</span>
<span class="p">};</span>

<span class="k">const</span> <span class="n">VkDescriptorUpdateTemplateEntry</span> <span class="n">descriptorUpdateTemplateEntries</span><span class="p">[]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="c1">// binding to a single image descriptor</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">binding</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">dstArrayElement</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">.</span><span class="n">descriptorType</span> <span class="o">=</span> <span class="n">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</span><span class="p">,</span>
        <span class="p">.</span><span class="n">offset</span> <span class="o">=</span> <span class="n">offsetof</span><span class="p">(</span><span class="n">AppDataStructure</span><span class="p">,</span> <span class="n">imageInfo</span><span class="p">),</span>
        <span class="p">.</span><span class="n">stride</span> <span class="o">=</span> <span class="mi">0</span>     <span class="c1">// not required if descriptorCount is 1</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// create a descriptor update template for push descriptor set updates</span>
<span class="k">const</span> <span class="n">VkDescriptorUpdateTemplateCreateInfo</span> <span class="n">createInfo</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="p">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_UPDATE_TEMPLATE_CREATE_INFO</span><span class="p">,</span>
    <span class="p">.</span><span class="n">pNext</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
    <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">.</span><span class="n">descriptorUpdateEntryCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">.</span><span class="n">pDescriptorUpdateEntries</span> <span class="o">=</span> <span class="n">descriptorUpdateTemplateEntries</span><span class="p">,</span>
    <span class="p">.</span><span class="n">templateType</span> <span class="o">=</span> <span class="n">VK_DESCRIPTOR_UPDATE_TEMPLATE_TYPE_PUSH_DESCRIPTORS_KHR</span><span class="p">,</span>
    <span class="p">.</span><span class="n">descriptorSetLayout</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>   <span class="c1">// ignored by given templateType</span>
    <span class="p">.</span><span class="n">pipelineBindPoint</span> <span class="o">=</span> <span class="n">VK_PIPELINE_BIND_POINT_GRAPHICS</span><span class="p">,</span>
    <span class="p">.</span><span class="n">pipelineLayout</span> <span class="o">=</span> <span class="n">myPipelineLayout</span><span class="p">,</span>
    <span class="p">.</span><span class="n">set</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="n">VkDescriptorUpdateTemplate</span> <span class="n">myDescriptorUpdateTemplate</span><span class="p">;</span>
<span class="n">myResult</span> <span class="o">=</span> <span class="n">vkCreateDescriptorUpdateTemplate</span><span class="p">(</span>
    <span class="n">myDevice</span><span class="p">,</span>
    <span class="o">&amp;</span><span class="n">createInfo</span><span class="p">,</span>
    <span class="nb">NULL</span><span class="p">,</span>
    <span class="o">&amp;</span><span class="n">myDescriptorUpdateTemplate</span><span class="p">);</span>

<span class="n">AppDataStructure</span> <span class="n">appData</span><span class="p">;</span>
<span class="c1">// fill appData here or cache it in your engine</span>
<span class="n">vkCmdPushDescriptorSetWithTemplateKHR</span><span class="p">(</span><span class="n">myCmdBuffer</span><span class="p">,</span> <span class="n">myDescriptorUpdateTemplate</span><span class="p">,</span> <span class="n">myPipelineLayout</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="o">&amp;</span><span class="n">appData</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="descriptorsets-push-constants"><a class="anchor" href="chap14.html#descriptorsets-push-constants"></a>14.2.10. Push Constant Updates</h4>
<div class="paragraph">
<p>As described above in section <a href="chap14.html#descriptorsets-pipelinelayout">Pipeline
Layouts</a>, the pipeline layout defines shader push constants which are
updated via Vulkan commands rather than via writes to memory or copy
commands.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Push constants represent a high speed path to modify constant data in
pipelines that is expected to outperform memory-backed resource updates.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To update push constants, call:</p>
</div>
<div id="vkCmdPushConstants" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="kt">void</span> <span class="nf">vkCmdPushConstants</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkPipelineLayout</span>                            <span class="n">layout</span><span class="p">,</span>
    <span class="n">VkShaderStageFlags</span>                          <span class="n">stageFlags</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">offset</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">size</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                 <span class="n">pValues</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer in which the push constant
update will be recorded.</p>
</li>
<li>
<p><code>layout</code> is the pipeline layout used to program the push constant
updates.</p>
</li>
<li>
<p><code>stageFlags</code> is a bitmask of <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> specifying
the shader stages that will use the push constants in the updated range.</p>
</li>
<li>
<p><code>offset</code> is the start offset of the push constant range to update,
in units of bytes.</p>
</li>
<li>
<p><code>size</code> is the size of the push constant range to update, in units of
bytes.</p>
</li>
<li>
<p><code>pValues</code> is a pointer to an array of <code>size</code> bytes containing
the new push constant values.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a command buffer begins recording, all push constant values are
undefined.
Reads of undefined push constant values by the executing shader return
undefined values.</p>
</div>
<div class="paragraph">
<p>Push constant values <strong class="purple">can</strong> be updated incrementally, causing shader stages in
<code>stageFlags</code> to read the new data from <code>pValues</code> for push constants
modified by this command, while still reading the previous data for push
constants not modified by this command.
When a <a href="chap10.html#pipelines-bindpoint-commands">bound pipeline command</a> is issued,
the bound pipeline’s layout <strong class="purple">must</strong> be compatible with the layouts used to set
the values of all push constants in the pipeline layout’s push constant
ranges, as described in <a href="chap14.html#descriptorsets-compatibility">Pipeline Layout
Compatibility</a>.
Binding a pipeline with a layout that is not compatible with the push
constant layout does not disturb the push constant values.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>As <code>stageFlags</code> needs to include all flags the relevant push constant
ranges were created with, any flags that are not supported by the queue
family that the <a href="chap6.html#VkCommandPool">VkCommandPool</a> used to allocate <code>commandBuffer</code> was
created on are ignored.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-01795" href="chap14.html#VUID-vkCmdPushConstants-offset-01795"></a> <span class="vuid">VUID-vkCmdPushConstants-offset-01795</span><br>

For each byte in the range specified by <code>offset</code> and <code>size</code> and
for each shader stage in <code>stageFlags</code>, there <strong class="purple">must</strong> be a push
constant range in <code>layout</code> that includes that byte and that stage</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-01796" href="chap14.html#VUID-vkCmdPushConstants-offset-01796"></a> <span class="vuid">VUID-vkCmdPushConstants-offset-01796</span><br>

For each byte in the range specified by <code>offset</code> and <code>size</code> and
for each push constant range that overlaps that byte, <code>stageFlags</code>
<strong class="purple">must</strong> include all stages in that push constant range’s
<a href="chap14.html#VkPushConstantRange">VkPushConstantRange</a>::<code>stageFlags</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-00368" href="chap14.html#VUID-vkCmdPushConstants-offset-00368"></a> <span class="vuid">VUID-vkCmdPushConstants-offset-00368</span><br>

<code>offset</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-size-00369" href="chap14.html#VUID-vkCmdPushConstants-size-00369"></a> <span class="vuid">VUID-vkCmdPushConstants-size-00369</span><br>

<code>size</code> <strong class="purple">must</strong> be a multiple of <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-offset-00370" href="chap14.html#VUID-vkCmdPushConstants-offset-00370"></a> <span class="vuid">VUID-vkCmdPushConstants-offset-00370</span><br>

<code>offset</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-size-00371" href="chap14.html#VUID-vkCmdPushConstants-size-00371"></a> <span class="vuid">VUID-vkCmdPushConstants-size-00371</span><br>

<code>size</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxPushConstantsSize</code> minus
<code>offset</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdPushConstants-commandBuffer-parameter" href="chap14.html#VUID-vkCmdPushConstants-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdPushConstants-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-layout-parameter" href="chap14.html#VUID-vkCmdPushConstants-layout-parameter"></a> <span class="vuid">VUID-vkCmdPushConstants-layout-parameter</span><br>
 <code>layout</code> <strong class="purple">must</strong> be a valid <a href="chap14.html#VkPipelineLayout">VkPipelineLayout</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-stageFlags-parameter" href="chap14.html#VUID-vkCmdPushConstants-stageFlags-parameter"></a> <span class="vuid">VUID-vkCmdPushConstants-stageFlags-parameter</span><br>
 <code>stageFlags</code> <strong class="purple">must</strong> be a valid combination of <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-stageFlags-requiredbitmask" href="chap14.html#VUID-vkCmdPushConstants-stageFlags-requiredbitmask"></a> <span class="vuid">VUID-vkCmdPushConstants-stageFlags-requiredbitmask</span><br>
 <code>stageFlags</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-pValues-parameter" href="chap14.html#VUID-vkCmdPushConstants-pValues-parameter"></a> <span class="vuid">VUID-vkCmdPushConstants-pValues-parameter</span><br>
 <code>pValues</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>size</code> bytes</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-commandBuffer-recording" href="chap14.html#VUID-vkCmdPushConstants-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdPushConstants-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-commandBuffer-cmdpool" href="chap14.html#VUID-vkCmdPushConstants-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdPushConstants-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics, or compute operations</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-videocoding" href="chap14.html#VUID-vkCmdPushConstants-videocoding"></a> <span class="vuid">VUID-vkCmdPushConstants-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-size-arraylength" href="chap14.html#VUID-vkCmdPushConstants-size-arraylength"></a> <span class="vuid">VUID-vkCmdPushConstants-size-arraylength</span><br>
 <code>size</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdPushConstants-commonparent" href="chap14.html#VUID-vkCmdPushConstants-commonparent"></a> <span class="vuid">VUID-vkCmdPushConstants-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>layout</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap37.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics<br>
Compute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="descriptorsets-physical-storage-buffer"><a class="anchor" href="chap14.html#descriptorsets-physical-storage-buffer"></a>14.3. Physical Storage Buffer Access</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query a 64-bit buffer device address value through which buffer memory
<strong class="purple">can</strong> be accessed in a shader, call:</p>
</div>
<div id="vkGetBufferDeviceAddress" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_2</span>
<span class="n">VkDeviceAddress</span> <span class="nf">vkGetBufferDeviceAddress</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkBufferDeviceAddressInfo</span><span class="o">*</span>            <span class="n">pInfo</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetBufferDeviceAddressKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_buffer_device_address</span>
<span class="n">VkDeviceAddress</span> <span class="nf">vkGetBufferDeviceAddressKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkBufferDeviceAddressInfo</span><span class="o">*</span>            <span class="n">pInfo</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that the buffer was created on.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a <a href="chap14.html#VkBufferDeviceAddressInfo">VkBufferDeviceAddressInfo</a> structure
specifying the buffer to retrieve an address for.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The 64-bit return value is an address of the start of <code>pInfo-&gt;buffer</code>.
The address range starting at this value and whose size is the size of the
buffer <strong class="purple">can</strong> be used in a shader to access the memory bound to that buffer,
using the
<code>SPV_KHR_physical_storage_buffer</code> extension
and the <code>PhysicalStorageBuffer</code> storage class.
For example, this value <strong class="purple">can</strong> be stored in a uniform buffer, and the shader
<strong class="purple">can</strong> read the value from the uniform buffer and use it to do a dependent
read/write to this buffer.
A value of zero is reserved as a “null” pointer and <strong class="purple">must</strong> not be returned
as a valid buffer device address.
All loads, stores, and atomics in a shader through
<code>PhysicalStorageBuffer</code> pointers <strong class="purple">must</strong> access addresses in the address
range of some buffer.</p>
</div>
<div class="paragraph">
<p>If the buffer was created with a non-zero value of
<a href="chap12.html#VkBufferOpaqueCaptureAddressCreateInfo">VkBufferOpaqueCaptureAddressCreateInfo</a>::<code>opaqueCaptureAddress</code>,
the return value will be the same address that was returned at capture time.</p>
</div>
<div class="paragraph">
<p>The returned address <strong class="purple">must</strong> satisfy the alignment requirement specified by
<a href="chap12.html#VkMemoryRequirements">VkMemoryRequirements</a>::<code>alignment</code> for the buffer in
<a href="chap14.html#VkBufferDeviceAddressInfo">VkBufferDeviceAddressInfo</a>::<code>buffer</code>.</p>
</div>
<div class="paragraph">
<p>If multiple <a href="chap12.html#VkBuffer">VkBuffer</a> objects are bound to overlapping ranges of
<a href="chap11.html#VkDeviceMemory">VkDeviceMemory</a>, implementations <strong class="purple">may</strong> return address ranges which
overlap.
In this case, it is ambiguous which <a href="chap12.html#VkBuffer">VkBuffer</a> is associated with any
given device address.
For purposes of valid usage, if multiple <a href="chap12.html#VkBuffer">VkBuffer</a> objects <strong class="purple">can</strong> be
attributed to a device address, a <a href="chap12.html#VkBuffer">VkBuffer</a> is selected such that valid
usage passes, if it exists.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferDeviceAddress-bufferDeviceAddress-03324" href="chap14.html#VUID-vkGetBufferDeviceAddress-bufferDeviceAddress-03324"></a> <span class="vuid">VUID-vkGetBufferDeviceAddress-bufferDeviceAddress-03324</span><br>

The <a href="chap39.html#features-bufferDeviceAddress"><code>bufferDeviceAddress</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetBufferDeviceAddress-device-03325" href="chap14.html#VUID-vkGetBufferDeviceAddress-device-03325"></a> <span class="vuid">VUID-vkGetBufferDeviceAddress-device-03325</span><br>

If <code>device</code> was created with multiple physical devices, then the
<a href="chap39.html#features-bufferDeviceAddressMultiDevice"><code>bufferDeviceAddressMultiDevice</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferDeviceAddress-device-parameter" href="chap14.html#VUID-vkGetBufferDeviceAddress-device-parameter"></a> <span class="vuid">VUID-vkGetBufferDeviceAddress-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetBufferDeviceAddress-pInfo-parameter" href="chap14.html#VUID-vkGetBufferDeviceAddress-pInfo-parameter"></a> <span class="vuid">VUID-vkGetBufferDeviceAddress-pInfo-parameter</span><br>
 <code>pInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap14.html#VkBufferDeviceAddressInfo">VkBufferDeviceAddressInfo</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkBufferDeviceAddressInfo</code> structure is defined as:</p>
</div>
<div id="VkBufferDeviceAddressInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_2</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkBufferDeviceAddressInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkBuffer</span>           <span class="n">buffer</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkBufferDeviceAddressInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkBufferDeviceAddressInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_buffer_device_address</span>
<span class="k">typedef</span> <span class="n">VkBufferDeviceAddressInfo</span> <span class="n">VkBufferDeviceAddressInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>buffer</code> specifies the buffer whose address is being queried.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferDeviceAddressInfo-buffer-02600" href="chap14.html#VUID-VkBufferDeviceAddressInfo-buffer-02600"></a> <span class="vuid">VUID-VkBufferDeviceAddressInfo-buffer-02600</span><br>

If <code>buffer</code> is non-sparse and was not created with the
<code>VK_BUFFER_CREATE_DEVICE_ADDRESS_CAPTURE_REPLAY_BIT</code> flag, then it
<strong class="purple">must</strong> be bound completely and contiguously to a single
<code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-VkBufferDeviceAddressInfo-buffer-02601" href="chap14.html#VUID-VkBufferDeviceAddressInfo-buffer-02601"></a> <span class="vuid">VUID-VkBufferDeviceAddressInfo-buffer-02601</span><br>

<code>buffer</code> <strong class="purple">must</strong> have been created with
<code>VK_BUFFER_USAGE_SHADER_DEVICE_ADDRESS_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkBufferDeviceAddressInfo-sType-sType" href="chap14.html#VUID-VkBufferDeviceAddressInfo-sType-sType"></a> <span class="vuid">VUID-VkBufferDeviceAddressInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_BUFFER_DEVICE_ADDRESS_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkBufferDeviceAddressInfo-pNext-pNext" href="chap14.html#VUID-VkBufferDeviceAddressInfo-pNext-pNext"></a> <span class="vuid">VUID-VkBufferDeviceAddressInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkBufferDeviceAddressInfo-buffer-parameter" href="chap14.html#VUID-VkBufferDeviceAddressInfo-buffer-parameter"></a> <span class="vuid">VUID-VkBufferDeviceAddressInfo-buffer-parameter</span><br>
 <code>buffer</code> <strong class="purple">must</strong> be a valid <a href="chap12.html#VkBuffer">VkBuffer</a> handle</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query a 64-bit buffer opaque capture address, call:</p>
</div>
<div id="vkGetBufferOpaqueCaptureAddress" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_2</span>
<span class="kt">uint64_t</span> <span class="nf">vkGetBufferOpaqueCaptureAddress</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkBufferDeviceAddressInfo</span><span class="o">*</span>            <span class="n">pInfo</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent command</p>
</div>
<div id="vkGetBufferOpaqueCaptureAddressKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_buffer_device_address</span>
<span class="kt">uint64_t</span> <span class="nf">vkGetBufferOpaqueCaptureAddressKHR</span><span class="p">(</span>
    <span class="n">VkDevice</span>                                    <span class="n">device</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkBufferDeviceAddressInfo</span><span class="o">*</span>            <span class="n">pInfo</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>device</code> is the logical device that the buffer was created on.</p>
</li>
<li>
<p><code>pInfo</code> is a pointer to a <a href="chap14.html#VkBufferDeviceAddressInfo">VkBufferDeviceAddressInfo</a> structure
specifying the buffer to retrieve an address for.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The 64-bit return value is an opaque capture address of the start of
<code>pInfo-&gt;buffer</code>.</p>
</div>
<div class="paragraph">
<p>If the buffer was created with a non-zero value of
<a href="chap12.html#VkBufferOpaqueCaptureAddressCreateInfo">VkBufferOpaqueCaptureAddressCreateInfo</a>::<code>opaqueCaptureAddress</code> the
return value <strong class="purple">must</strong> be the same address.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureAddress-None-03326" href="chap14.html#VUID-vkGetBufferOpaqueCaptureAddress-None-03326"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureAddress-None-03326</span><br>

The <a href="chap39.html#features-bufferDeviceAddress"><code>bufferDeviceAddress</code></a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureAddress-device-03327" href="chap14.html#VUID-vkGetBufferOpaqueCaptureAddress-device-03327"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureAddress-device-03327</span><br>

If <code>device</code> was created with multiple physical devices, then the
<a href="chap39.html#features-bufferDeviceAddressMultiDevice"><code>bufferDeviceAddressMultiDevice</code></a> feature <strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureAddress-device-parameter" href="chap14.html#VUID-vkGetBufferOpaqueCaptureAddress-device-parameter"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureAddress-device-parameter</span><br>
 <code>device</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkDevice">VkDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetBufferOpaqueCaptureAddress-pInfo-parameter" href="chap14.html#VUID-vkGetBufferOpaqueCaptureAddress-pInfo-parameter"></a> <span class="vuid">VUID-vkGetBufferOpaqueCaptureAddress-pInfo-parameter</span><br>
 <code>pInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap14.html#VkBufferDeviceAddressInfo">VkBufferDeviceAddressInfo</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap13.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap15.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer">
<div id="footer-text">
Version 1.3.273<br>
Last updated 2023-12-08 05:23:44 -0800
</div>
</div>



</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>