<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="The Khronos® Vulkan Working Group">
<title>Vulkan® 1.2.224 - A Specification (with all registered Vulkan extensions)</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="style2.css" type="text/css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<link rel="stylesheet" href="style3.css" type="text/css">
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Vulkan<sup>®</sup> 1.2.224 - A Specification (with all registered Vulkan extensions)</h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan Working Group</span><br>
<span id="revnumber">version 1.2.224,</span>
<span id="revdate">2022-08-04 08:37:22Z</span>
<br><span id="revremark">from git branch: github-main commit: 5ca346bf39db36ff06e24686f0a815754c5f7c16</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="chap1.html">1. Preamble</a></li>
<li><a href="chap2.html">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">2.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">3.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">3.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">3.3. Object Model</a></li>
<li><a href="chap3.html#fundamentals-abi">3.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">3.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">3.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-validusage">3.7. Valid Usage</a></li>
<li><a href="chap3.html#fundamentals-returncodes">3.8. <code>VkResult</code> Return Codes</a></li>
<li><a href="chap3.html#fundamentals-numerics">3.9. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">3.10. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-common-objects">3.11. Common Object Types</a></li>
<li><a href="chap3.html#fundamentals-api-name-aliases">3.12. API Name Aliases</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">4.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">4.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">5.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">5.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">5.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">6.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">6.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">6.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">6.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">6.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">6.6. Queue Forward Progress</a></li>
<li><a href="chap6.html#commandbuffers-secondary">6.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap6.html#commandbuffers-devicemask">6.8. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">7.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">7.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">7.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">7.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">7.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">7.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">7.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">7.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">7.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap7.html#synchronization-device-group">7.10. Synchronization and Multiple Physical Devices</a></li>
<li><a href="chap7.html#calibrated-timestamps">7.11. Calibrated timestamps</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#renderpass-creation">8.1. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">8.2. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">8.3. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-commands">8.4. Render Pass Commands</a></li>
<li><a href="chap8.html#renderpass-creation-feedback">8.5. Render Pass Creation Feedback</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap9.html#shader-modules">9.1. Shader Modules</a></li>
<li><a href="chap9.html#shaders-identifiers">9.2. Shader Module Identifiers</a></li>
<li><a href="chap9.html#shaders-execution">9.3. Shader Execution</a></li>
<li><a href="chap9.html#shaders-execution-memory-ordering">9.4. Shader Memory Access Ordering</a></li>
<li><a href="chap9.html#shaders-inputs">9.5. Shader Inputs and Outputs</a></li>
<li><a href="chap9.html#shaders-task">9.6. Task Shaders</a></li>
<li><a href="chap9.html#shaders-mesh">9.7. Mesh Shaders</a></li>
<li><a href="chap9.html#shaders-vertex">9.8. Vertex Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-control">9.9. Tessellation Control Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-evaluation">9.10. Tessellation Evaluation Shaders</a></li>
<li><a href="chap9.html#shaders-geometry">9.11. Geometry Shaders</a></li>
<li><a href="chap9.html#shaders-fragment">9.12. Fragment Shaders</a></li>
<li><a href="chap9.html#shaders-compute">9.13. Compute Shaders</a></li>
<li><a href="chap9.html#shaders-ray-generation">9.14. Ray Generation Shaders</a></li>
<li><a href="chap9.html#shaders-intersection">9.15. Intersection Shaders</a></li>
<li><a href="chap9.html#shaders-any-hit">9.16. Any-Hit Shaders</a></li>
<li><a href="chap9.html#shaders-closest-hit">9.17. Closest Hit Shaders</a></li>
<li><a href="chap9.html#shaders-miss">9.18. Miss Shaders</a></li>
<li><a href="chap9.html#shaders-callable">9.19. Callable Shaders</a></li>
<li><a href="chap9.html#shaders-interpolation-decorations">9.20. Interpolation decorations</a></li>
<li><a href="chap9.html#shaders-staticuse">9.21. Static Use</a></li>
<li><a href="chap9.html#shaders-scope">9.22. Scope</a></li>
<li><a href="chap9.html#shaders-group-operations">9.23. Group Operations</a></li>
<li><a href="chap9.html#shaders-quad-operations">9.24. Quad Group Operations</a></li>
<li><a href="chap9.html#shaders-derivative-operations">9.25. Derivative Operations</a></li>
<li><a href="chap9.html#shaders-helper-invocations">9.26. Helper Invocations</a></li>
<li><a href="chap9.html#_cooperative_matrices">9.27. Cooperative Matrices</a></li>
<li><a href="chap9.html#shaders-validation-cache">9.28. Validation Cache</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-compute">10.1. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">10.2. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-ray-tracing">10.3. Ray Tracing Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">10.4. Pipeline Destruction</a></li>
<li><a href="chap10.html#pipelines-multiple">10.5. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">10.6. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">10.7. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">10.8. Specialization Constants</a></li>
<li><a href="chap10.html#pipeline-library">10.9. Pipeline Libraries</a></li>
<li><a href="chap10.html#pipelines-binding">10.10. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">10.11. Dynamic State</a></li>
<li><a href="chap10.html#pipelines-shader-information">10.12. Pipeline Properties and Shader Information</a></li>
<li><a href="chap10.html#pipelines-compiler-control">10.13. Pipeline Compiler Control</a></li>
<li><a href="chap10.html#pipelines-creation-feedback">10.14. Pipeline Creation Feedback</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">11.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">11.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">12.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">12.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">12.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">12.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">12.5. Image Views</a></li>
<li><a href="chap12.html#resources-acceleration-structures">12.6. Acceleration Structures</a></li>
<li><a href="chap12.html#resources-association">12.7. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">12.8. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">12.9. Memory Aliasing</a></li>
<li><a href="chap12.html#resources-buffer-collection-fuchsia">12.10. Buffer Collections</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap13.html#samplers-YCbCr-conversion">13.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap14.html#descriptorsets-types">14.1. Descriptor Types</a></li>
<li><a href="chap14.html#descriptorsets-sets">14.2. Descriptor Sets</a></li>
<li><a href="chap14.html#descriptorsets-physical-storage-buffer">14.3. Physical Storage Buffer Access</a></li>
</ul>
</li>
<li class="current"><a href="chap15.html">15. Shader Interfaces</a>
<ul class="sectlevel2">
<li class="current"><a href="chap15.html#interfaces-iointerfaces">15.1. Shader Input and Output Interfaces</a></li>
<li class="current"><a href="chap15.html#interfaces-vertexinput">15.2. Vertex Input Interface</a></li>
<li class="current"><a href="chap15.html#interfaces-fragmentoutput">15.3. Fragment Output Interface</a></li>
<li class="current"><a href="chap15.html#interfaces-inputattachment">15.4. Fragment Input Attachment Interface</a></li>
<li class="current"><a href="chap15.html#interfaces-raypipeline">15.5. Ray Tracing Pipeline Interface</a></li>
<li class="current"><a href="chap15.html#interfaces-resources">15.6. Shader Resource Interface</a></li>
<li class="current"><a href="chap15.html#interfaces-builtin-variables">15.7. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">16.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">16.2. Conversion Formulas</a></li>
<li><a href="chap16.html#_texel_input_operations">16.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">16.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">16.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">16.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">16.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">16.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-footprint">16.9. Texel Footprint Evaluation</a></li>
<li><a href="chap16.html#textures-weightimage">16.10. Weight Image Sampling</a></li>
<li><a href="chap16.html#textures-blockmatch">16.11. Block Matching</a></li>
<li><a href="chap16.html#textures-boxfilter">16.12. Box Filter Sampling</a></li>
<li><a href="chap16.html#textures-instructions">16.13. Image Operation Steps</a></li>
<li><a href="chap16.html#textures-queries">16.14. Image Query Instructions</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Fragment Density Map Operations</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_fragment_density_map_operations_overview">17.1. Fragment Density Map Operations Overview</a></li>
<li><a href="chap17.html#fragmentdensitymap-fetch-density-value">17.2. Fetch Density Value</a></li>
<li><a href="chap17.html#fragmentdensitymap-conversion-to-fragment-area">17.3. Fragment Area Conversion</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Queries</a>
<ul class="sectlevel2">
<li><a href="chap18.html#queries-pools">18.1. Query Pools</a></li>
<li><a href="chap18.html#queries-operation">18.2. Query Operation</a></li>
<li><a href="chap18.html#queries-occlusion">18.3. Occlusion Queries</a></li>
<li><a href="chap18.html#queries-pipestats">18.4. Pipeline Statistics Queries</a></li>
<li><a href="chap18.html#queries-timestamps">18.5. Timestamp Queries</a></li>
<li><a href="chap18.html#queries-performance">18.6. Performance Queries</a></li>
<li><a href="chap18.html#queries-transform-feedback">18.7. Transform Feedback Queries</a></li>
<li><a href="chap18.html#queries-primitives-generated">18.8. Primitives Generated Queries</a></li>
<li><a href="chap18.html#queries-performance-intel">18.9. Intel performance queries</a></li>
<li><a href="chap18.html#queries-result-status-only">18.10. Result Status Queries</a></li>
<li><a href="chap18.html#queries-video-encode-bitstream-buffer-range">18.11. Video Encode Bitstream Buffer Range</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#clears-outside">19.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-inside">19.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-values">19.3. Clear Values</a></li>
<li><a href="chap19.html#clears-filling-buffers">19.4. Filling Buffers</a></li>
<li><a href="chap19.html#clears-updating-buffers">19.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap20.html">20. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#copies-buffers">20.1. Copying Data Between Buffers</a></li>
<li><a href="chap20.html#copies-images">20.2. Copying Data Between Images</a></li>
<li><a href="chap20.html#copies-buffers-images">20.3. Copying Data Between Buffers and Images</a></li>
<li><a href="chap20.html#copies-imagescaling">20.4. Image Copies with Scaling</a></li>
<li><a href="chap20.html#copies-resolve">20.5. Resolving Multisample Images</a></li>
<li><a href="chap20.html#copies-buffer-markers">20.6. Buffer Markers</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap21.html#drawing-primitive-topologies">21.1. Primitive Topologies</a></li>
<li><a href="chap21.html#drawing-primitive-order">21.2. Primitive Order</a></li>
<li><a href="chap21.html#drawing-primitive-shading">21.3. Programmable Primitive Shading</a></li>
<li><a href="chap21.html#drawing-conditional-rendering">21.4. Conditional Rendering</a></li>
<li><a href="chap21.html#drawing-mesh-shading">21.5. Programmable Mesh Shading</a></li>
</ul>
</li>
<li><a href="chap22.html">22. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap22.html#fxvertex-attrib">22.1. Vertex Attributes</a></li>
<li><a href="chap22.html#fxvertex-input">22.2. Vertex Input Description</a></li>
<li><a href="chap22.html#fxvertex-attribute_divisor">22.3. Vertex Attribute Divisor in Instanced Rendering</a></li>
<li><a href="chap22.html#fxvertex-input-address-calculation">22.4. Vertex Input Address Calculation</a></li>
</ul>
</li>
<li><a href="chap23.html">23. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap23.html#_tessellator">23.1. Tessellator</a></li>
<li><a href="chap23.html#_tessellator_patch_discard">23.2. Tessellator Patch Discard</a></li>
<li><a href="chap23.html#tessellation-tessellator-spacing">23.3. Tessellator Spacing</a></li>
<li><a href="chap23.html#tessellation-primitive-order">23.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap23.html#tessellation-vertex-winding-order">23.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap23.html#tessellation-triangle-tessellation">23.6. Triangle Tessellation</a></li>
<li><a href="chap23.html#tessellation-quad-tessellation">23.7. Quad Tessellation</a></li>
<li><a href="chap23.html#tessellation-isoline-tessellation">23.8. Isoline Tessellation</a></li>
<li><a href="chap23.html#tessellation-point-mode">23.9. Tessellation Point Mode</a></li>
<li><a href="chap23.html#_tessellation_pipeline_state">23.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap24.html">24. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap24.html#geometry-input">24.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap24.html#geometry-output">24.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap24.html#geometry-invocations">24.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap24.html#geometry-ordering">24.4. Geometry Shader Primitive Ordering</a></li>
<li><a href="chap24.html#geometry-passthrough">24.5. Geometry Shader Passthrough</a></li>
</ul>
</li>
<li><a href="chap25.html">25. Mesh Shading</a>
<ul class="sectlevel2">
<li><a href="chap25.html#mesh-task-input">25.1. Task Shader Input</a></li>
<li><a href="chap25.html#mesh-task-output">25.2. Task Shader Output</a></li>
<li><a href="chap25.html#mesh-generation">25.3. Mesh Generation</a></li>
<li><a href="chap25.html#mesh-input">25.4. Mesh Shader Input</a></li>
<li><a href="chap25.html#mesh-output">25.5. Mesh Shader Output Primitives</a></li>
<li><a href="chap25.html#mesh-output-perview">25.6. Mesh Shader Per-View Outputs</a></li>
<li><a href="chap25.html#mesh-ordering">25.7. Mesh Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap26.html">26. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap26.html#vertexpostproc-transform-feedback">26.1. Transform Feedback</a></li>
<li><a href="chap26.html#vertexpostproc-viewport-swizzle">26.2. Viewport Swizzle</a></li>
<li><a href="chap26.html#vertexpostproc-flatshading">26.3. Flat Shading</a></li>
<li><a href="chap26.html#vertexpostproc-clipping">26.4. Primitive Clipping</a></li>
<li><a href="chap26.html#vertexpostproc-clipping-shader-outputs">26.5. Clipping Shader Outputs</a></li>
<li><a href="chap26.html#vertexpostproc-viewportwscaling">26.6. Controlling Viewport W Scaling</a></li>
<li><a href="chap26.html#vertexpostproc-coord-transform">26.7. Coordinate Transformations</a></li>
<li><a href="chap26.html#vertexpostproc-renderpass-transform">26.8. Render Pass Transform</a></li>
<li><a href="chap26.html#vertexpostproc-viewport">26.9. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap27.html">27. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap27.html#primsrast-discard">27.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap27.html#primsrast-stream">27.2. Controlling the Vertex Stream Used for Rasterization</a></li>
<li><a href="chap27.html#primsrast-order">27.3. Rasterization Order</a></li>
<li><a href="chap27.html#primsrast-multisampling">27.4. Multisampling</a></li>
<li><a href="chap27.html#primsrast-samplelocations">27.5. Custom Sample Locations</a></li>
<li><a href="chap27.html#primsrast-fragment-shading-rate">27.6. Fragment Shading Rates</a></li>
<li><a href="chap27.html#primsrast-shading-rate-image">27.7. Shading Rate Image</a></li>
<li><a href="chap27.html#primsrast-sampleshading">27.8. Sample Shading</a></li>
<li><a href="chap27.html#primsrast-barycentric">27.9. Barycentric Interpolation</a></li>
<li><a href="chap27.html#primsrast-points">27.10. Points</a></li>
<li><a href="chap27.html#primsrast-lines">27.11. Line Segments</a></li>
<li><a href="chap27.html#primsrast-polygons">27.12. Polygons</a></li>
</ul>
</li>
<li><a href="chap28.html">28. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap28.html#fragops-discard-rectangles">28.1. Discard Rectangles Test</a></li>
<li><a href="chap28.html#fragops-scissor">28.2. Scissor Test</a></li>
<li><a href="chap28.html#fragops-exclusive-scissor">28.3. Exclusive Scissor Test</a></li>
<li><a href="chap28.html#fragops-samplemask">28.4. Sample Mask Test</a></li>
<li><a href="chap28.html#fragops-shader">28.5. Fragment Shading</a></li>
<li><a href="chap28.html#fragops-covg">28.6. Multisample Coverage</a></li>
<li><a href="chap28.html#fragops-ds-state">28.7. Depth and Stencil Operations</a></li>
<li><a href="chap28.html#fragops-dbt">28.8. Depth Bounds Test</a></li>
<li><a href="chap28.html#fragops-stencil">28.9. Stencil Test</a></li>
<li><a href="chap28.html#fragops-depth">28.10. Depth Test</a></li>
<li><a href="chap28.html#fragops-rep-frag-test">28.11. Representative Fragment Test</a></li>
<li><a href="chap28.html#fragops-samplecount">28.12. Sample Counting</a></li>
<li><a href="chap28.html#fragops-coverage-to-color">28.13. Fragment Coverage To Color</a></li>
<li><a href="chap28.html#fragops-coverage-reduction">28.14. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap29.html">29. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap29.html#framebuffer-blending">29.1. Blending</a></li>
<li><a href="chap29.html#framebuffer-logicop">29.2. Logical Operations</a></li>
<li><a href="chap29.html#framebuffer-color-write-mask">29.3. Color Write Mask</a></li>
<li><a href="chap29.html#framebuffer-color-write-enable">29.4. Color Write Enable</a></li>
<li><a href="chap29.html#framebuffer-queries">29.5. Framebuffer Query Instructions</a></li>
</ul>
</li>
<li><a href="chap30.html">30. Dispatching Commands</a></li>
<li><a href="chap31.html">31. Device-Generated Commands</a>
<ul class="sectlevel2">
<li><a href="chap31.html#indirectmdslayout">31.1. Indirect Commands Layout</a></li>
<li><a href="chap31.html#_indirect_commands_generation_and_execution">31.2. Indirect Commands Generation And Execution</a></li>
</ul>
</li>
<li><a href="chap32.html">32. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap32.html#sparsememory-sparseresourcefeatures">32.1. Sparse Resource Features</a></li>
<li><a href="chap32.html#sparsememory-fully-resident">32.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap32.html#sparsememory-partially-resident-buffers">32.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap32.html#sparsememory-partially-resident-images">32.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap32.html#sparsememory-sparse-memory-aliasing">32.5. Sparse Memory Aliasing</a></li>
<li><a href="chap32.html#_sparse_resource_implementation_guidelines_informative">32.6. Sparse Resource Implementation Guidelines (Informative)</a></li>
<li><a href="chap32.html#sparsememory-resourceapi">32.7. Sparse Resource API</a></li>
</ul>
</li>
<li><a href="chap33.html">33. Window System Integration (WSI)</a>
<ul class="sectlevel2">
<li><a href="chap33.html#_wsi_platform">33.1. WSI Platform</a></li>
<li><a href="chap33.html#_wsi_surface">33.2. WSI Surface</a></li>
<li><a href="chap33.html#display">33.3. Presenting Directly to Display Devices</a></li>
<li><a href="chap33.html#_querying_for_wsi_support">33.4. Querying for WSI Support</a></li>
<li><a href="chap33.html#_surface_queries">33.5. Surface Queries</a></li>
<li><a href="chap33.html#_full_screen_exclusive_control">33.6. Full Screen Exclusive Control</a></li>
<li><a href="chap33.html#_device_group_queries">33.7. Device Group Queries</a></li>
<li><a href="chap33.html#_display_timing_queries">33.8. Display Timing Queries</a></li>
<li><a href="chap33.html#present-wait">33.9. Present Wait</a></li>
<li><a href="chap33.html#_wsi_swapchain">33.10. WSI Swapchain</a></li>
<li><a href="chap33.html#_hdr_metadata">33.11. Hdr Metadata</a></li>
</ul>
</li>
<li><a href="chap34.html">34. Deferred Host Operations</a>
<ul class="sectlevel2">
<li><a href="chap34.html#deferred-host-operations-requesting">34.1. Requesting Deferral</a></li>
<li><a href="chap34.html#_deferred_host_operations_api">34.2. Deferred Host Operations API</a></li>
</ul>
</li>
<li><a href="chap35.html">35. Private Data</a></li>
<li><a href="chap36.html">36. Acceleration Structures</a>
<ul class="sectlevel2">
<li><a href="chap36.html#acceleration-structure-def">36.1. Acceleration Structures</a></li>
<li><a href="chap36.html#host-acceleration-structure">36.2. Host Acceleration Structure Operations</a></li>
</ul>
</li>
<li><a href="chap37.html">37. Ray Traversal</a>
<ul class="sectlevel2">
<li><a href="chap37.html#ray-intersection-candidate-determination">37.1. Ray Intersection Candidate Determination</a></li>
<li><a href="chap37.html#ray-intersection-culling">37.2. Ray Intersection Culling</a></li>
<li><a href="chap37.html#ray-intersection-confirmation">37.3. Ray Intersection Confirmation</a></li>
<li><a href="chap37.html#ray-closest-hit-determination">37.4. Ray Closest Hit Determination</a></li>
<li><a href="chap37.html#ray-result-determination">37.5. Ray Result Determination</a></li>
</ul>
</li>
<li><a href="chap38.html">38. Ray Tracing</a>
<ul class="sectlevel2">
<li><a href="chap38.html#ray-tracing-shader-call">38.1. Shader Call Instructions</a></li>
<li><a href="chap38.html#ray-tracing-commands">38.2. Ray Tracing Commands</a></li>
<li><a href="chap38.html#shader-binding-table">38.3. Shader Binding Table</a></li>
<li><a href="chap38.html#ray-tracing-pipeline-stack">38.4. Ray Tracing Pipeline Stack</a></li>
</ul>
</li>
<li><a href="chap39.html">39. Video Decode and Encode Operations</a>
<ul class="sectlevel2">
<li><a href="chap39.html#_technical_terminology_and_semantics">39.1. Technical Terminology and Semantics</a></li>
<li><a href="chap39.html#_introduction">39.2. Introduction</a></li>
<li><a href="chap39.html#video-physical-device-capabilities">39.3. Video Physical Device Capabilities</a></li>
<li><a href="chap39.html#video-session-objects">39.4. Video Session Objects</a></li>
<li><a href="chap39.html#video-decode-operations">39.5. Video Decode Operations</a></li>
<li><a href="chap39.html#decode-h264">39.6. Video Decode of AVC (ITU-T H.264)</a></li>
<li><a href="chap39.html#decode-h265">39.7. Video Decode of HEVC (ITU-T H.265)</a></li>
<li><a href="chap39.html#video-encode-operations">39.8. Video Encode Operations</a></li>
<li><a href="chap39.html#encode-h264">39.9. Encode H.264</a></li>
<li><a href="chap39.html#encode-h265">39.10. Encode H.265</a></li>
</ul>
</li>
<li><a href="chap40.html">40. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap40.html#extendingvulkan-instanceanddevicefunctionality">40.1. Instance and Device Functionality</a></li>
<li><a href="chap40.html#extendingvulkan-coreversions">40.2. Core Versions</a></li>
<li><a href="chap40.html#extendingvulkan-layers">40.3. Layers</a></li>
<li><a href="chap40.html#extendingvulkan-extensions">40.4. Extensions</a></li>
<li><a href="chap40.html#extendingvulkan-extensions-extensiondependencies">40.5. Extension Dependencies</a></li>
<li><a href="chap40.html#_compatibility_guarantees_informative">40.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap41.html">41. Features</a>
<ul class="sectlevel2">
<li><a href="chap41.html#features-requirements">41.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="chap42.html">42. Limits</a>
<ul class="sectlevel2">
<li><a href="chap42.html#limits-minmax">42.1. Limit Requirements</a></li>
<li><a href="chap42.html#limits-multisample">42.2. Additional Multisampling Capabilities</a></li>
</ul>
</li>
<li><a href="chap43.html">43. Formats</a>
<ul class="sectlevel2">
<li><a href="chap43.html#formats-definition">43.1. Format Definition</a></li>
<li><a href="chap43.html#formats-properties">43.2. Format Properties</a></li>
<li><a href="chap43.html#features-required-format-support">43.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap44.html">44. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap44.html#capabilities-image">44.1. Additional Image Capabilities</a></li>
<li><a href="chap44.html#capabilities-buffer">44.2. Additional Buffer Capabilities</a></li>
<li><a href="chap44.html#capabilities-semaphore">44.3. Optional Semaphore Capabilities</a></li>
<li><a href="chap44.html#capabilities-fence">44.4. Optional Fence Capabilities</a></li>
<li><a href="chap44.html#features-timestamp-calibration">44.5. Timestamp Calibration Capabilities</a></li>
</ul>
</li>
<li><a href="chap45.html">45. Debugging</a>
<ul class="sectlevel2">
<li><a href="chap45.html#debugging-debug-utils">45.1. Debug Utilities</a></li>
<li><a href="chap45.html#debugging-debug-markers">45.2. Debug Markers</a></li>
<li><a href="chap45.html#debugging-debug-report-callbacks">45.3. Debug Report Callbacks</a></li>
<li><a href="chap45.html#_device_loss_debugging">45.4. Device Loss Debugging</a></li>
<li><a href="chap45.html#debugging-tooling-info">45.5. Active Tooling Information</a></li>
</ul>
</li>
<li><a href="chap46.html">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap46.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap46.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap46.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap46.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap46.html#spirvenv-image-signedness">Signedness of SPIR-V Image Accesses</a></li>
<li><a href="chap46.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap46.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
</ul>
</li>
<li><a href="chap47.html">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap47.html#memory-model-agent">Agent</a></li>
<li><a href="chap47.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap47.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap47.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap47.html#memory-model-references">Reference</a></li>
<li><a href="chap47.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap47.html#shader-call-related">Shader Call Related</a></li>
<li><a href="chap47.html#shader-call-order">Shader Call Order</a></li>
<li><a href="chap47.html#memory-model-scope">Scope</a></li>
<li><a href="chap47.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap47.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap47.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap47.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap47.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap47.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap47.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap47.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap47.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap47.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap47.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap47.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap47.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap47.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap47.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap47.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap47.html#memory-model-acyclicity">Acyclicity</a></li>
<li><a href="chap47.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap47.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap47.html#memory-model-informative-descriptions">Descriptions (Informative)</a></li>
<li><a href="chap47.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
<li><a href="chap47.html#memory-model-cooperative-matrix">Cooperative Matrix Memory Access</a></li>
</ul>
</li>
<li><a href="chap48.html">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap48.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap48.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap48.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
<li><a href="chap48.html#appendix-compressedtex-pvrtc">PVRTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap49.html">Appendix D: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap49.html#versions-1.2">Version 1.2</a></li>
<li><a href="chap49.html#versions-1.1">Version 1.1</a></li>
<li><a href="chap49.html#versions-1.0">Version 1.0</a></li>
</ul>
</li>
<li><a href="chap50.html">Appendix E: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap50.html#extension-appendices-list">List of Current Extensions</a></li>
<li><a href="chap50.html#provisional-extension-appendices-list">List of Provisional Extensions</a></li>
<li><a href="chap50.html#deprecated-extension-appendices-list">List of Deprecated Extensions</a></li>
</ul>
</li>
<li><a href="chap51.html">Appendix F: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap51.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap51.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap51.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
</ul>
</li>
<li><a href="chap52.html">Appendix G: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap52.html#_repeatability">Repeatability</a></li>
<li><a href="chap52.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap52.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap52.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap53.html">Appendix H: Lexicon</a>
<ul class="sectlevel2">
<li><a href="chap53.html#glossary">Glossary</a></li>
<li><a href="chap53.html#lexicon-common-abbreviations">Common Abbreviations</a></li>
<li><a href="chap53.html#lexicon-prefixes">Prefixes</a></li>
</ul>
</li>
<li><a href="chap54.html">Appendix I: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap54.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap54.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
<div id="content" class="loadable"><div class="sect1">
<h2 id="interfaces"><a class="anchor" href="chap15.html"></a>15. Shader Interfaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When a pipeline is created, the set of shaders specified in the
corresponding <code>Vk*PipelineCreateInfo</code> structure are implicitly linked at
a number of different interfaces.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap15.html#interfaces-iointerfaces">Shader Input and Output Interface</a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-vertexinput">Vertex Input Interface</a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-fragmentoutput">Fragment Output Interface</a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-inputattachment">Fragment Input Attachment Interface</a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-raypipeline">Ray Tracing Pipeline Interface</a></p>
</li>
<li>
<p><a href="chap15.html#interfaces-resources">Shader Resource Interface</a></p>
</li>
<li>
<p><a href="chap24.html#geometry-passthrough-passthrough">Geometry Shader Passthrough</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This chapter describes valid uses for a set of SPIR-V decorations.
Any other use of one of these decorations is invalid, with the exception
that, when using SPIR-V versions 1.4 and earlier: <code>Block</code>,
<code>BufferBlock</code>, <code>Offset</code>, <code>ArrayStride</code>, and <code>MatrixStride</code> can
also decorate types and type members used by variables in the <code>Private</code>
and <code>Function</code> storage classes.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In this chapter, there are references to SPIR-V terms such as the
<code>MeshNV</code> execution model.
These terms will appear even in a build of the specification which does not
support any extensions.
This is as intended, since these terms appear in the unified SPIR-V
specification without such qualifiers.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="interfaces-iointerfaces"><a class="anchor" href="chap15.html#interfaces-iointerfaces"></a>15.1. Shader Input and Output Interfaces</h3>
<div class="paragraph">
<p>When multiple stages are present in a pipeline, the outputs of one stage
form an interface with the inputs of the next stage.
When such an interface involves a shader, shader outputs are matched against
the inputs of the next stage, and shader inputs are matched against the
outputs of the previous stage.</p>
</div>
<div class="paragraph">
<p>All the variables forming the shader input and output <em>interfaces</em> are
listed as operands to the <code>OpEntryPoint</code> instruction and are declared
with the <code>Input</code> or <code>Output</code> storage classes, respectively, in the
SPIR-V module.
These generally form the interfaces between consecutive shader stages,
regardless of any non-shader stages between the consecutive shader stages.</p>
</div>
<div class="paragraph">
<p>There are two classes of variables that <strong class="purple">can</strong> be matched between shader
stages, built-in variables and user-defined variables.
Each class has a different set of matching criteria.</p>
</div>
<div class="paragraph">
<p><code>Output</code> variables of a shader stage have undefined values until the
shader writes to them or uses the <code>Initializer</code> operand when declaring
the variable.</p>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-builtin"><a class="anchor" href="chap15.html#interfaces-iointerfaces-builtin"></a>15.1.1. Built-in Interface Block</h4>
<div class="paragraph">
<p>Shader <a href="chap15.html#interfaces-builtin-variables">built-in</a> variables meeting the
following requirements define the <em>built-in interface block</em>.
They <strong class="purple">must</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>be explicitly declared (there are no implicit built-ins),</p>
</li>
<li>
<p>be identified with a <code>BuiltIn</code> decoration,</p>
</li>
<li>
<p>form object types as described in the
<a href="chap15.html#interfaces-builtin-variables">Built-in Variables</a> section, and</p>
</li>
<li>
<p>be declared in a block whose top-level members are the built-ins.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There <strong class="purple">must</strong> be no more than one built-in interface block per shader per
interface.</p>
</div>
<div class="paragraph">
<p>Built-ins <strong class="purple">must</strong> not have any <code>Location</code> or <code>Component</code> decorations.</p>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-user"><a class="anchor" href="chap15.html#interfaces-iointerfaces-user"></a>15.1.2. User-defined Variable Interface</h4>
<div class="paragraph">
<p>The non-built-in variables listed by <code>OpEntryPoint</code> with the <code>Input</code>
or <code>Output</code> storage class form the <em>user-defined variable interface</em>.
These <strong class="purple">must</strong> have SPIR-V numerical types or, recursively, composite types of
such types.
By default, the components of such types have a width of 32 or 64 bits.
If an implementation supports <a href="chap41.html#features-storageInputOutput16"><code>storageInputOutput16</code></a>, components <strong class="purple">can</strong> also have a width of 16 bits.
These variables <strong class="purple">must</strong> be identified with a <code>Location</code> decoration and <strong class="purple">can</strong>
also be identified with a <code>Component</code> decoration.</p>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-matching"><a class="anchor" href="chap15.html#interfaces-iointerfaces-matching"></a>15.1.3. Interface Matching</h4>
<div class="paragraph">
<p>An output variable, block, or structure member in a given shader stage has
an interface match with an input variable, block, or structure member in a
subsequent shader stage if they both adhere to the following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>They have equivalent decorations, other than:</p>
<div class="ulist">
<ul>
<li>
<p><code>XfbBuffer</code>, <code>XfbStride</code>, <code>Offset</code>, and <code>Stream</code></p>
</li>
<li>
<p>one is not decorated with <code>Component</code> and the other is declared with
a <code>Component</code> of <code>0</code></p>
</li>
<li>
<p><a href="chap9.html#shaders-interpolation-decorations">Interpolation decorations</a></p>
</li>
<li>
<p><code>RelaxedPrecision</code> if one is an input variable and the other an
output variable</p>
</li>
</ul>
</div>
</li>
<li>
<p>Their types match as follows:</p>
<div class="ulist">
<ul>
<li>
<p>if the input is declared in a tessellation control or geometry shader
as an <code>OpTypeArray</code> with an <code>Element</code> <code>Type</code> equivalent to the
<code>OpType*</code> declaration of the output, and neither is a structure
member; or</p>
</li>
<li>
<p>if the <a href="chap41.html#features-maintenance4"><code>maintenance4</code></a> feature is
enabled, they are declared as <code>OpTypeVector</code> variables, and the
output has a <code>Component</code> <code>Count</code> value higher than that of the
input but the same <code>Component</code> <code>Type</code>; or</p>
</li>
<li>
<p>if the output is declared in a mesh shader as an <code>OpTypeArray</code> with
an <code>Element</code> <code>Type</code> equivalent to the <code>OpType*</code> declaration of
the input, and neither is a structure member; or</p>
</li>
<li>
<p>if the input is decorated with <code>PerVertexKHR</code>, and is declared in a
fragment shader as an <code>OpTypeArray</code> with an <code>Element</code> <code>Type</code>
equivalent to the <code>OpType*</code> declaration of the output, and neither
the input nor the output is a structure member; or</p>
</li>
<li>
<p>if in any other case they are declared with an equivalent <code>OpType*</code>
declaration.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If both are structures and every member has an interface match.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The word “structure” above refers to both variables that have an
<code>OpTypeStruct</code> type and interface blocks (which are also declared as
<code>OpTypeStruct</code>).</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If the pipeline is compiled as separate graphics pipeline libraries and the
<a href="chap42.html#limits-graphicsPipelineLibraryIndependentInterpolationDecoration"><code>graphicsPipelineLibraryIndependentInterpolationDecoration</code></a> limit is
not supported, matches are not found if the
<a href="chap9.html#shaders-interpolation-decorations">interpolation decorations</a> differ
between the last <a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader stage</a> and the fragment shader stage.</p>
</div>
<div class="paragraph">
<p>All input variables and blocks <strong class="purple">must</strong> have an interface match in the
preceding shader stage, except for built-in variables in fragment shaders.
Shaders <strong class="purple">can</strong> declare and write to output variables that are not declared or
read by the subsequent stage.</p>
</div>
<div class="paragraph">
<p>Matching rules for <em>passthrough geometry shaders</em> are slightly different and
are described in the <a href="chap24.html#geometry-passthrough-interface">Passthrough Interface
Matching</a> section.</p>
</div>
<div class="paragraph">
<p>The value of an input variable is undefined if the preceding stage does not
write to a matching output variable, as described above.</p>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-locations"><a class="anchor" href="chap15.html#interfaces-iointerfaces-locations"></a>15.1.4. Location Assignment</h4>
<div class="paragraph">
<p>This section describes location assignments for user-defined variables and
how many locations are consumed by a given user-variable type.
<a href="chap15.html#interfaces-iointerfaces-matching">As mentioned above</a>, some inputs and
outputs have an additional level of arrayness relative to other shader
inputs and outputs.
This outer array level is removed from the type before considering how many
locations the type consumes.</p>
</div>
<div class="paragraph">
<p>The <code>Location</code> value specifies an interface slot comprised of a 32-bit
four-component vector conveyed between stages.
The <code>Component</code> specifies
<a href="chap15.html#interfaces-iointerfaces-components">components</a> within these vector
locations.
Only types with widths of
16,
32 or 64 are supported in shader interfaces.</p>
</div>
<div class="paragraph">
<p>Inputs and outputs of the following types consume a single interface
location:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>16-bit scalar and vector types, and</p>
</li>
<li>
<p>32-bit scalar and vector types, and</p>
</li>
<li>
<p>64-bit scalar and 2-component vector types.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>64-bit three- and four-component vectors consume two consecutive locations.</p>
</div>
<div class="paragraph">
<p>If a declared input or output is an array of size <em>n</em> and each element takes
<em>m</em> locations, it will be assigned <em>m</em> × <em>n</em> consecutive locations
starting with the location specified.</p>
</div>
<div class="paragraph">
<p>If the declared input or output is an <em>n</em> × <em>m</em>
16-,
32- or 64-bit matrix, it will be assigned multiple locations starting with
the location specified.
The number of locations assigned for each matrix will be the same as for an
<em>n</em>-element array of <em>m</em>-component vectors.</p>
</div>
<div class="paragraph">
<p>An <code>OpVariable</code> with a structure type that is not a block <strong class="purple">must</strong> be
decorated with a <code>Location</code>.</p>
</div>
<div class="paragraph">
<p>When an <code>OpVariable</code> with a structure type (either block or non-block) is
decorated with a <code>Location</code>, the members in the structure type <strong class="purple">must</strong> not
be decorated with a <code>Location</code>.
The <code>OpVariable</code>’s members are assigned consecutive locations in
declaration order, starting from the first member, which is assigned the
location decoration from the <code>OpVariable</code>.</p>
</div>
<div class="paragraph">
<p>When a block-type <code>OpVariable</code> is declared without a <code>Location</code>
decoration, each member in its structure type <strong class="purple">must</strong> be decorated with a
<code>Location</code>.
Types nested deeper than the top-level members <strong class="purple">must</strong> not have <code>Location</code>
decorations.</p>
</div>
<div class="paragraph">
<p>The locations consumed by block and structure members are determined by
applying the rules above in a depth-first traversal of the instantiated
members as though the structure or block member were declared as an input or
output variable of the same type.</p>
</div>
<div class="paragraph">
<p>Any two inputs listed as operands on the same <code>OpEntryPoint</code> <strong class="purple">must</strong> not be
assigned the same location, either explicitly or implicitly.
Any two outputs listed as operands on the same <code>OpEntryPoint</code> <strong class="purple">must</strong> not
be assigned the same location, either explicitly or implicitly.</p>
</div>
<div class="paragraph">
<p>The number of input and output locations available for a shader input or
output interface are limited, and dependent on the shader stage as described
in <a href="chap15.html#interfaces-iointerfaces-limits">Shader Input and Output Locations</a>.
All variables in both the <a href="chap15.html#interfaces-builtin-variables">built-in interface
block</a> and the <a href="chap15.html#interfaces-iointerfaces-user">user-defined variable
interface</a> count against these limits.
Each effective <code>Location</code> <strong class="purple">must</strong> have a value less than the number of
locations available for the given interface, as specified in the “Locations
Available” column in <a href="chap15.html#interfaces-iointerfaces-limits">Shader Input and Output Locations</a>.</p>
</div>
<table id="interfaces-iointerfaces-limits" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 18. Shader Input and Output Locations</caption>
<colgroup>
<col style="width: 31.5789%;">
<col style="width: 68.4211%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Shader Interface</th>
<th class="tableblock halign-left valign-top">Locations Available</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vertex input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexInputAttributes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vertex output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxVertexOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation control input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerVertexInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation control output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationControlPerVertexOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation evaluation input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationEvaluationInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tessellation evaluation output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxTessellationEvaluationOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxGeometryOutputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragment input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentInputComponents</code> / 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragment output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentOutputAttachments</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mesh output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxFragmentInputComponents</code> / 4</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="interfaces-iointerfaces-components"><a class="anchor" href="chap15.html#interfaces-iointerfaces-components"></a>15.1.5. Component Assignment</h4>
<div class="paragraph">
<p>The <code>Component</code> decoration allows the <code>Location</code> to be more finely
specified for scalars and vectors, down to the individual components within
a location that are consumed.
The components within a location are 0, 1, 2, and 3.
A variable or block member starting at component N will consume components
N, N+1, N+2, …​
up through its size.
For 16-, and 32-bit types,
it is invalid if this sequence of components gets larger than 3.
A scalar 64-bit type will consume two of these components in sequence, and a
two-component 64-bit vector type will consume all four components available
within a location.
A three- or four-component 64-bit vector type <strong class="purple">must</strong> not specify a
<code>Component</code> decoration.
A three-component 64-bit vector type will consume all four components of the
first location and components 0 and 1 of the second location.
This leaves components 2 and 3 available for other component-qualified
declarations.</p>
</div>
<div class="paragraph">
<p>A scalar or two-component 64-bit data type <strong class="purple">must</strong> not specify a
<code>Component</code> decoration of 1 or 3.
A <code>Component</code> decoration <strong class="purple">must</strong> not be specified for any type that is not
a scalar or vector.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-vertexinput"><a class="anchor" href="chap15.html#interfaces-vertexinput"></a>15.2. Vertex Input Interface</h3>
<div class="paragraph">
<p>When the vertex stage is present in a pipeline, the vertex shader input
variables form an interface with the vertex input attributes.
The vertex shader input variables are matched by the <code>Location</code> and
<code>Component</code> decorations to the vertex input attributes specified in the
<code>pVertexInputState</code> member of the <a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a>
structure.</p>
</div>
<div class="paragraph">
<p>The vertex shader input variables listed by <code>OpEntryPoint</code> with the
<code>Input</code> storage class form the <em>vertex input interface</em>.
These variables <strong class="purple">must</strong> be identified with a <code>Location</code> decoration and <strong class="purple">can</strong>
also be identified with a <code>Component</code> decoration.</p>
</div>
<div class="paragraph">
<p>For the purposes of interface matching: variables declared without a
<code>Component</code> decoration are considered to have a <code>Component</code> decoration
of zero.
The number of available vertex input locations is given by the
<code>maxVertexInputAttributes</code> member of the <code>VkPhysicalDeviceLimits</code>
structure.</p>
</div>
<div class="paragraph">
<p>See <a href="chap22.html#fxvertex-attrib-location">Attribute Location and Component Assignment</a> for details.</p>
</div>
<div class="paragraph">
<p>All vertex shader inputs declared as above <strong class="purple">must</strong> have a corresponding
attribute and binding in the pipeline.</p>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-fragmentoutput"><a class="anchor" href="chap15.html#interfaces-fragmentoutput"></a>15.3. Fragment Output Interface</h3>
<div class="paragraph">
<p>When the fragment stage is present in a pipeline, the fragment shader
outputs form an interface with the output attachments defined by a
<a href="chap8.html">render pass instance</a>.
The fragment shader output variables are matched by the <code>Location</code> and
<code>Component</code> decorations to specified color attachments.</p>
</div>
<div class="paragraph">
<p>The fragment shader output variables listed by <code>OpEntryPoint</code> with the
<code>Output</code> storage class form the <em>fragment output interface</em>.
These variables <strong class="purple">must</strong> be identified with a <code>Location</code> decoration.
They <strong class="purple">can</strong> also be identified with a <code>Component</code> decoration and/or an
<code>Index</code> decoration.
For the purposes of interface matching: variables declared without a
<code>Component</code> decoration are considered to have a <code>Component</code> decoration
of zero, and variables declared without an <code>Index</code> decoration are
considered to have an <code>Index</code> decoration of zero.</p>
</div>
<div class="paragraph">
<p>A fragment shader output variable identified with a <code>Location</code> decoration
of <em>i</em> is associated with
the element of <a href="chap8.html#VkRenderingInfo">VkRenderingInfo</a>::<code>pColorAttachments</code> with a
<code>location</code> equal to <em>i</em>.
When using render pass objects, it is associated with
the color attachment indicated by <code>pColorAttachments</code>[<em>i</em>].
Values are written to those attachments after passing through the blending
unit as described in <a href="chap29.html#framebuffer-blending">Blending</a>, if enabled.
Locations are consumed as described in
<a href="chap15.html#interfaces-iointerfaces-locations">Location Assignment</a>.
The number of available fragment output locations is given by the
<code>maxFragmentOutputAttachments</code> member of the
<code>VkPhysicalDeviceLimits</code> structure.</p>
</div>
<div class="paragraph">
<p>Components of the output variables are assigned as described in
<a href="chap15.html#interfaces-iointerfaces-components">Component Assignment</a>.
Output components identified as 0, 1, 2, and 3 will be directed to the R, G,
B, and A inputs to the blending unit, respectively, or to the output
attachment if blending is disabled.
If two variables are placed within the same location, they <strong class="purple">must</strong> have the
same underlying type (floating-point or integer).
The input values to blending or color attachment writes are undefined for
components which do not correspond to a fragment shader output.</p>
</div>
<div class="paragraph">
<p>Fragment outputs identified with an <code>Index</code> of zero are directed to the
first input of the blending unit associated with the corresponding
<code>Location</code>.
Outputs identified with an <code>Index</code> of one are directed to the second
input of the corresponding blending unit.</p>
</div>
<div class="paragraph">
<p>No <em>component aliasing</em> of output variables is allowed, that is there <strong class="purple">must</strong>
not be two output variables which have the same location, component, and
index, either explicitly declared or implied.</p>
</div>
<div class="paragraph">
<p>Output values written by a fragment shader <strong class="purple">must</strong> be declared with either
<code>OpTypeFloat</code> or <code>OpTypeInt</code>, and a <code>Width</code> of 32.
If <code>storageInputOutput16</code> is supported, output values written by a
fragment shader <strong class="purple">can</strong> be also declared with either <code>OpTypeFloat</code> or
<code>OpTypeInt</code> and a <code>Width</code> of 16.
Composites of these types are also permitted.
If the color attachment has a signed or unsigned normalized fixed-point
format, color values are assumed to be floating-point and are converted to
fixed-point as described in <a href="chap3.html#fundamentals-fpfixedconv">Conversion from Floating-Point to Normalized Fixed-Point</a>; If the color
attachment has an integer format, color values are assumed to be integers
and converted to the bit-depth of the target.
Any value that cannot be represented in the attachment’s format is
undefined.
For any other attachment format no conversion is performed.
If the type of the values written by the fragment shader do not match the
format of the corresponding color attachment, the resulting values are
undefined for those components.</p>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-inputattachment"><a class="anchor" href="chap15.html#interfaces-inputattachment"></a>15.4. Fragment Input Attachment Interface</h3>
<div class="paragraph">
<p>When a fragment stage is present in a pipeline, the fragment shader subpass
inputs form an interface with the input attachments of the current subpass.
The fragment shader subpass input variables are matched by
<code>InputAttachmentIndex</code> decorations to the input attachments specified in
the <code>pInputAttachments</code> array of the <a href="chap8.html#VkSubpassDescription">VkSubpassDescription</a>
structure describing the subpass that the fragment shader is executed in.</p>
</div>
<div class="paragraph">
<p>The fragment shader subpass input variables with the <code>UniformConstant</code>
storage class and a decoration of <code>InputAttachmentIndex</code> that are
statically used by <code>OpEntryPoint</code> form the <em>fragment input attachment
interface</em>.
These variables <strong class="purple">must</strong> be declared with a type of <code>OpTypeImage</code>, a
<code>Dim</code> operand of <code>SubpassData</code>, an <code>Arrayed</code> operand of 0, and a
<code>Sampled</code> operand of 2.
The <code>MS</code> operand of the <code>OpTypeImage</code> <strong class="purple">must</strong> be 0 if the <code>samples</code>
field of the corresponding <a href="chap8.html#VkAttachmentDescription">VkAttachmentDescription</a> is
<code>VK_SAMPLE_COUNT_1_BIT</code> and 1 otherwise.</p>
</div>
<div class="paragraph">
<p>A subpass input variable identified with an <code>InputAttachmentIndex</code>
decoration of <em>i</em> reads from the input attachment indicated by
<code>pInputAttachments</code>[<em>i</em>] member of <code>VkSubpassDescription</code>.
If the subpass input variable is declared as an array of size N, it consumes
N consecutive input attachments, starting with the index specified.
There <strong class="purple">must</strong> not be more than one input variable with the same
<code>InputAttachmentIndex</code> whether explicitly declared or implied by an array
declaration.
The number of available input attachment indices is given by the
<code>maxPerStageDescriptorInputAttachments</code> member of the
<code>VkPhysicalDeviceLimits</code> structure.</p>
</div>
<div class="paragraph">
<p>Variables identified with the <code>InputAttachmentIndex</code> <strong class="purple">must</strong> only be used
by a fragment stage.
The basic data type (floating-point, integer, unsigned integer) of the
subpass input <strong class="purple">must</strong> match the basic format of the corresponding input
attachment, or the values of subpass loads from these variables are
undefined.</p>
</div>
<div class="paragraph">
<p>See <a href="chap14.html#descriptorsets-inputattachment">Input Attachment</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-raypipeline"><a class="anchor" href="chap15.html#interfaces-raypipeline"></a>15.5. Ray Tracing Pipeline Interface</h3>
<div class="paragraph">
<p>Ray tracing pipelines <strong class="purple">may</strong> have more stages than other pipelines with
multiple instances of each stage and more dynamic interactions between the
stages, but still have interface structures that obey the same general rules
as interfaces between shader stages in other pipelines.
The three types of inter-stage interface variables for ray tracing pipelines
are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ray payloads containing data tracked for the entire lifetime of the ray.</p>
</li>
<li>
<p>Hit attributes containing data about a specific hit for the duration of
its processing.</p>
</li>
<li>
<p>Callable data for passing data into and out of a callable shader.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ray payloads and callable data are used in explicit shader call
instructions, so they have an incoming variant to distinguish the parameter
passed to the invocation from any other payloads or data being used by
subsequent shader call instructions.</p>
</div>
<div class="paragraph">
<p>An interface structure used between stages <strong class="purple">must</strong> match between the stages
using it.
Specifically:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The hit attribute structure read in an any-hit or closest hit shader
<strong class="purple">must</strong> be the same structure as the hit attribute structure written in
the corresponding intersection shader in the same hit group.</p>
</li>
<li>
<p>The incoming callable data for a callable shader <strong class="purple">must</strong> be the same
structure as the callable data referenced by the execute callable
instruction in the calling shader.</p>
</li>
<li>
<p>The ray payload for a shader invoked by a ray tracing command <strong class="purple">must</strong> be
the same structure for all shader stages using the payload for that ray.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any shader with an incoming ray payload, incoming callable data, or hit
attribute <strong class="purple">must</strong> only declare one variable of that type.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 19. Ray Pipeline Shader Interface</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Shader Stage</th>
<th class="tableblock halign-left valign-top">Ray Payload</th>
<th class="tableblock halign-left valign-top">Incoming Ray Payload</th>
<th class="tableblock halign-left valign-top">Hit Attribute</th>
<th class="tableblock halign-left valign-top">Callable Data</th>
<th class="tableblock halign-left valign-top">Incoming Callable Data</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ray Generation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intersection</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any-Hit</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Closest Hit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Miss</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Callable</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r/w</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="interfaces-resources"><a class="anchor" href="chap15.html#interfaces-resources"></a>15.6. Shader Resource Interface</h3>
<div class="paragraph">
<p>When a shader stage accesses buffer or image resources, as described in the
<a href="chap14.html">Resource Descriptors</a> section, the shader resource
variables <strong class="purple">must</strong> be matched with the <a href="chap14.html#descriptorsets-pipelinelayout">pipeline
layout</a> that is provided at pipeline creation time.</p>
</div>
<div class="paragraph">
<p>The set of shader variables that form the <em>shader resource interface</em> for a
stage are the variables statically used by that stage’s <code>OpEntryPoint</code>
with a storage class of <code>Uniform</code>, <code>UniformConstant</code>,
<code>StorageBuffer</code>,
or <code>PushConstant</code>.
For the fragment shader, this includes the <a href="chap15.html#interfaces-inputattachment">fragment input attachment interface</a>.</p>
</div>
<div class="paragraph">
<p>The shader resource interface consists of two sub-interfaces: the push
constant interface and the descriptor set interface.</p>
</div>
<div class="sect3">
<h4 id="interfaces-resources-pushconst"><a class="anchor" href="chap15.html#interfaces-resources-pushconst"></a>15.6.1. Push Constant Interface</h4>
<div class="paragraph">
<p>The shader variables defined with a storage class of <code>PushConstant</code> that
are statically used by the shader entry points for the pipeline define the
<em>push constant interface</em>.
They <strong class="purple">must</strong> be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>typed as <code>OpTypeStruct</code>,</p>
</li>
<li>
<p>identified with a <code>Block</code> decoration, and</p>
</li>
<li>
<p>laid out explicitly using the <code>Offset</code>, <code>ArrayStride</code>, and
<code>MatrixStride</code> decorations as specified in
<a href="chap15.html#interfaces-resources-layout">Offset and Stride Assignment</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There <strong class="purple">must</strong> be no more than one push constant block statically used per
shader entry point.</p>
</div>
<div class="paragraph">
<p>Each statically used member of a push constant block <strong class="purple">must</strong> be placed at an
<code>Offset</code> such that the entire member is entirely contained within the
<a href="chap14.html#VkPushConstantRange">VkPushConstantRange</a> for each <code>OpEntryPoint</code> that uses it, and the
<code>stageFlags</code> for that range <strong class="purple">must</strong> specify the appropriate
<a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a> for that stage.
The <code>Offset</code> decoration for any member of a push constant block <strong class="purple">must</strong> not
cause the space required for that member to extend outside the range
<span class="eq">[0, <code>maxPushConstantsSize</code>)</span>.</p>
</div>
<div class="paragraph">
<p>Any member of a push constant block that is declared as an array <strong class="purple">must</strong> only
be accessed with <em>dynamically uniform</em> indices.</p>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-resources-descset"><a class="anchor" href="chap15.html#interfaces-resources-descset"></a>15.6.2. Descriptor Set Interface</h4>
<div class="paragraph">
<p>The <em>descriptor set interface</em> is comprised of the shader variables with the
storage class of
<code>StorageBuffer</code>,
<code>Uniform</code> or <code>UniformConstant</code> (including the variables in the
<a href="chap15.html#interfaces-inputattachment">fragment input attachment interface</a>) that are
statically used by the shader entry points for the pipeline.</p>
</div>
<div class="paragraph">
<p>These variables <strong class="purple">must</strong> have <code>DescriptorSet</code> and <code>Binding</code> decorations
specified, which are assigned and matched with the
<code>VkDescriptorSetLayout</code> objects in the pipeline layout as described in
<a href="chap15.html#interfaces-resources-setandbinding">DescriptorSet and Binding Assignment</a>.</p>
</div>
<div class="paragraph">
<p>The <code>Image</code> <code>Format</code> of an <code>OpTypeImage</code> declaration <strong class="purple">must</strong> not be
<strong>Unknown</strong>, for variables which are used for <code>OpImageRead</code>,
<code>OpImageSparseRead</code>, or <code>OpImageWrite</code> operations, except under the
following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For <code>OpImageWrite</code>, if the image format is listed in the
<a href="chap43.html#formats-without-shader-storage-format">storage without format</a> list
and if the <code>shaderStorageImageWriteWithoutFormat</code> feature is enabled
and the shader module declares the <code>StorageImageWriteWithoutFormat</code>
capability.</p>
</li>
<li>
<p>For <code>OpImageWrite</code>, if the image format supports
<code>VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT</code> and the
shader module declares the <code>StorageImageWriteWithoutFormat</code>
capability.</p>
</li>
<li>
<p>For <code>OpImageRead</code> or <code>OpImageSparseRead</code>, if the image format is
listed in the <a href="chap43.html#formats-without-shader-storage-format">storage without
format</a> list and if the <code>shaderStorageImageReadWithoutFormat</code>
feature is enabled and the shader module declares the
<code>StorageImageReadWithoutFormat</code> capability.</p>
</li>
<li>
<p>For <code>OpImageRead</code> or <code>OpImageSparseRead</code>, if the image format
supports <code>VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT</code> and
the shader module declares the <code>StorageImageReadWithoutFormat</code>
capability.</p>
</li>
<li>
<p>For <code>OpImageRead</code>, if <code>Dim</code> is <code>SubpassData</code> (indicating a read
from an input attachment).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Image</code> <code>Format</code> of an <code>OpTypeImage</code> declaration <strong class="purple">must</strong> not be
<strong>Unknown</strong>, for variables which are used for <code>OpAtomic*</code> operations.</p>
</div>
<div class="paragraph">
<p>Variables identified with the <code>Uniform</code> storage class are used to access
transparent buffer backed resources.
Such variables <strong class="purple">must</strong> be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>typed as <code>OpTypeStruct</code>, or an array of this type,</p>
</li>
<li>
<p>identified with a <code>Block</code> or <code>BufferBlock</code> decoration, and</p>
</li>
<li>
<p>laid out explicitly using the <code>Offset</code>, <code>ArrayStride</code>, and
<code>MatrixStride</code> decorations as specified in
<a href="chap15.html#interfaces-resources-layout">Offset and Stride Assignment</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Variables identified with the <code>StorageBuffer</code> storage class are used to
access transparent buffer backed resources.
Such variables <strong class="purple">must</strong> be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>typed as <code>OpTypeStruct</code>, or an array of this type,</p>
</li>
<li>
<p>identified with a <code>Block</code> decoration, and</p>
</li>
<li>
<p>laid out explicitly using the <code>Offset</code>, <code>ArrayStride</code>, and
<code>MatrixStride</code> decorations as specified in
<a href="chap15.html#interfaces-resources-layout">Offset and Stride Assignment</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Offset</code> decoration for any member of a <code>Block</code>-decorated variable
in the <code>Uniform</code> storage class <strong class="purple">must</strong> not cause the space required for
that variable to extend outside the range <span class="eq">[0,
<code>maxUniformBufferRange</code>)</span>.
The <code>Offset</code> decoration for any member of a <code>Block</code>-decorated variable
in the <code>StorageBuffer</code> storage class <strong class="purple">must</strong> not cause the space required
for that variable to extend outside the range <span class="eq">[0,
<code>maxStorageBufferRange</code>)</span>.</p>
</div>
<div class="paragraph">
<p>Variables identified with the <code>Uniform</code> storage class <strong class="purple">can</strong> also be used
to access transparent descriptor set backed resources when the variable is
assigned to a descriptor set layout binding with a <code>descriptorType</code> of
<code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code>.
In this case the variable <strong class="purple">must</strong> be typed as <code>OpTypeStruct</code> and <strong class="purple">cannot</strong> be
aggregated into arrays of that type.
Further, the <code>Offset</code> decoration for any member of such a variable <strong class="purple">must</strong>
not cause the space required for that variable to extend outside the range
<span class="eq">[0,<code>maxInlineUniformBlockSize</code>)</span>.</p>
</div>
<div class="paragraph">
<p>Variables identified with a storage class of <code>UniformConstant</code> and a
decoration of <code>InputAttachmentIndex</code> <strong class="purple">must</strong> be declared as described in
<a href="chap15.html#interfaces-inputattachment">Fragment Input Attachment Interface</a>.</p>
</div>
<div class="paragraph">
<p>SPIR-V variables decorated with a descriptor set and binding that identify a
<a href="chap14.html#descriptorsets-combinedimagesampler">combined image sampler descriptor</a>
<strong class="purple">can</strong> have a type of <code>OpTypeImage</code>, <code>OpTypeSampler</code> (<code>Sampled</code>=1),
or <code>OpTypeSampledImage</code>.</p>
</div>
<div class="paragraph">
<p>Arrays of any of these types <strong class="purple">can</strong> be indexed with <em>constant integral
expressions</em>.
The following features <strong class="purple">must</strong> be enabled and capabilities <strong class="purple">must</strong> be declared
in order to index such arrays with dynamically uniform or non-uniform
indices:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Storage images (except storage texel buffers and input attachments):</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderStorageImageArrayDynamicIndexing</code> and
<code>StorageImageArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderStorageImageArrayNonUniformIndexing</code> and
<code>StorageImageArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Storage texel buffers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderStorageTexelBufferArrayDynamicIndexing</code>
and <code>StorageTexelBufferArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderStorageTexelBufferArrayNonUniformIndexing</code> and
<code>StorageTexelBufferArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Input attachments:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderInputAttachmentArrayDynamicIndexing</code>
and <code>InputAttachmentArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderInputAttachmentArrayNonUniformIndexing</code> and
<code>InputAttachmentArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Sampled images (except uniform texel buffers), samplers and combined
image samplers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderSampledImageArrayDynamicIndexing</code> and
<code>SampledImageArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderSampledImageArrayNonUniformIndexing</code> and
<code>SampledImageArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Uniform texel buffers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderUniformTexelBufferArrayDynamicIndexing</code>
and <code>UniformTexelBufferArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderUniformTexelBufferArrayNonUniformIndexing</code> and
<code>UniformTexelBufferArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Uniform buffers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderUniformBufferArrayDynamicIndexing</code> and
<code>UniformBufferArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderUniformBufferArrayNonUniformIndexing</code> and
<code>UniformBufferArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Storage buffers:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: <code>shaderStorageBufferArrayDynamicIndexing</code> and
<code>StorageBufferArrayDynamicIndexing</code></p>
</li>
<li>
<p>Non-uniform: <code>shaderStorageBufferArrayNonUniformIndexing</code> and
<code>StorageBufferArrayNonUniformIndexing</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Acceleration structures:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: Always supported.</p>
</li>
<li>
<p>Non-uniform: Always supported.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="chap14.html#descriptorsets-weightimage">weight image</a>:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: Always supported.</p>
</li>
<li>
<p>Non-uniform: Never supported.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="chap14.html#descriptorsets-blockmatch">Block matching image</a>:</p>
<div class="ulist">
<ul>
<li>
<p>Dynamically uniform: Always supported.</p>
</li>
<li>
<p>Non-uniform: Never supported.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If an instruction loads from or stores to a resource (including atomics and
image instructions) and the resource descriptor being accessed is not
dynamically uniform, then the corresponding non-uniform indexing feature
<strong class="purple">must</strong> be enabled and the capability <strong class="purple">must</strong> be declared.
If an instruction loads from or stores to a resource (including atomics and
image instructions) and the resource descriptor being accessed is loaded
from an array element with a non-constant index, then the corresponding
dynamic
or non-uniform
indexing feature <strong class="purple">must</strong> be enabled and the capability <strong class="purple">must</strong> be declared.</p>
</div>
<div class="paragraph">
<p>If the combined image sampler enables sampler Y′C<sub>B</sub>C<sub>R</sub>
conversion or samples a <a href="chap13.html#samplers-subsamplesampler">subsampled image</a>,
it <strong class="purple">must</strong> be indexed only by constant integral expressions when aggregated
into arrays in shader code, irrespective of the
<code>shaderSampledImageArrayDynamicIndexing</code> feature.</p>
</div>
<table id="interfaces-resources-correspondence" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 20. Shader Resource and Descriptor Type Correspondence</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Descriptor Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_SAMPLER</code> or
                           <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</code> or
                           <code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</code> or
                           <code>VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</code> or
                           <code>VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inline uniform block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_INLINE_UNIFORM_BLOCK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">acceleration structure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_KHR</code>
or
<code>VK_DESCRIPTOR_TYPE_ACCELERATION_STRUCTURE_NV</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">weight image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">block matching image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM</code></p></td>
</tr>
</tbody>
</table>
<table id="interfaces-resources-storage-class-correspondence" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 21. Shader Resource and Storage Class Correspondence</caption>
<colgroup>
<col style="width: 21%;">
<col style="width: 22%;">
<col style="width: 27%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Storage Class</th>
<th class="tableblock halign-left valign-top">Type<sup>1</sup></th>
<th class="tableblock halign-left valign-top">Decoration(s)<sup>2</sup></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeSampler</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Sampled</code>=1)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeSampledImage</code><br>
                                 <code>OpTypeImage</code> (<code>Sampled</code>=1)<br>
                                 <code>OpTypeSampler</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>Buffer</code>, <code>Sampled</code>=1)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>Buffer</code>, <code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Uniform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeStruct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Block</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">storage buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Uniform</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>OpTypeStruct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BufferBlock</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StorageBuffer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Block</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Dim</code>=<code>SubpassData</code>, <code>Sampled</code>=2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InputAttachmentIndex</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inline uniform block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Uniform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeStruct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Block</code>, <code>Offset</code>, (<code>ArrayStride</code>), (<code>MatrixStride</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">acceleration structure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeAccelerationStructureKHR</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sample weight image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Depth</code>=0, <code>Dim</code>=<code>2D</code>,<br>
                                 <code>Arrayed</code>=1, <code>MS</code>=0, <code>Sampled</code>=1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WeightTextureQCOM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">block matching image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UniformConstant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OpTypeImage</code> (<code>Depth</code>=0, <code>Dim</code>=<code>2D</code>,<br>
                                 <code>Arrayed</code>=0, <code>MS</code>=0, <code>Sampled</code>=1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BlockMatchTextureQCOM</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">1</dt>
<dd>
<p>Where <code>OpTypeImage</code> is referenced, the <code>Dim</code> values <code>Buffer</code>
and <code>Subpassdata</code> are only accepted where they are specifically
referenced.
They do not correspond to resource types where a generic
<code>OpTypeImage</code> is specified.</p>
</dd>
<dt class="hdlist1">2</dt>
<dd>
<p>In addition to <code>DescriptorSet</code> and <code>Binding</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-resources-setandbinding"><a class="anchor" href="chap15.html#interfaces-resources-setandbinding"></a>15.6.3. DescriptorSet and Binding Assignment</h4>
<div class="paragraph">
<p>A variable decorated with a <code>DescriptorSet</code> decoration of <span class="eq">s</span> and a
<code>Binding</code> decoration of <span class="eq">b</span> indicates that this variable is
associated with the <a href="chap14.html#VkDescriptorSetLayoutBinding">VkDescriptorSetLayoutBinding</a> that has a
<code>binding</code> equal to <span class="eq">b</span> in <code>pSetLayouts</code>[<em>s</em>] that was specified
in <a href="chap14.html#VkPipelineLayoutCreateInfo">VkPipelineLayoutCreateInfo</a>.</p>
</div>
<div class="paragraph">
<p><code>DescriptorSet</code> decoration values <strong class="purple">must</strong> be between zero and
<code>maxBoundDescriptorSets</code> minus one, inclusive.
<code>Binding</code> decoration values <strong class="purple">can</strong> be any 32-bit unsigned integer value, as
described in <a href="chap14.html#descriptorsets-setlayout">Descriptor Set Layout</a>.
Each descriptor set has its own binding name space.</p>
</div>
<div class="paragraph">
<p>If the <code>Binding</code> decoration is used with an array, the entire array is
assigned that binding value.
The array <strong class="purple">must</strong> be a single-dimensional array and size of the array <strong class="purple">must</strong> be
no larger than the number of descriptors in the binding.
If the array is runtime-sized, then array elements greater than or equal to
the size of that binding in the bound descriptor set <strong class="purple">must</strong> not be used.
If the array is runtime-sized, the <code>runtimeDescriptorArray</code> feature
<strong class="purple">must</strong> be enabled and the <code>RuntimeDescriptorArray</code> capability <strong class="purple">must</strong> be
declared.
The index of each element of the array is referred to as the <em>arrayElement</em>.
For the purposes of interface matching and descriptor set
<a href="chap14.html#descriptorsets-updates">operations</a>, if a resource variable is not an
array, it is treated as if it has an arrayElement of zero.</p>
</div>
<div class="paragraph">
<p>There is a limit on the number of resources of each type that <strong class="purple">can</strong> be
accessed by a pipeline stage as shown in
<a href="chap15.html#interfaces-resources-limits">Shader Resource Limits</a>.
The “Resources Per Stage” column gives the limit on the number each type
of resource that <strong class="purple">can</strong> be statically used for an entry point in any given
stage in a pipeline.
The “Resource Types” column lists which resource types are counted against
the limit.
Some resource types count against multiple limits.
The <code>VK_DESCRIPTOR_TYPE_MUTABLE_VALVE</code> descriptor type counts as one
individual resource and one for every unique resource limit per descriptor
set type that is present in the associated binding’s
<a href="chap14.html#VkMutableDescriptorTypeListVALVE">VkMutableDescriptorTypeListVALVE</a>.
If multiple descriptor types in <a href="chap14.html#VkMutableDescriptorTypeListVALVE">VkMutableDescriptorTypeListVALVE</a> map
to the same resource limit, only one descriptor is consumed for purposes of
computing resource limits.</p>
</div>
<div class="paragraph">
<p>The pipeline layout <strong class="purple">may</strong> include descriptor sets and bindings which are not
referenced by any variables statically used by the entry points for the
shader stages in the binding’s <code>stageFlags</code>.</p>
</div>
<div class="paragraph">
<p>However, if a variable assigned to a given <code>DescriptorSet</code> and
<code>Binding</code> is statically used by the entry point for a shader stage, the
pipeline layout <strong class="purple">must</strong> contain a descriptor set layout binding in that
descriptor set layout and for that binding number, and that binding’s
<code>stageFlags</code> <strong class="purple">must</strong> include the appropriate <a href="chap10.html#VkShaderStageFlagBits">VkShaderStageFlagBits</a>
for that stage.
The variable <strong class="purple">must</strong> be of a valid resource type determined by its SPIR-V type
and storage class, as defined in
<a href="chap15.html#interfaces-resources-storage-class-correspondence">Shader Resource and
Storage Class Correspondence</a>.
The descriptor set layout binding <strong class="purple">must</strong> be of a corresponding descriptor
type, as defined in <a href="chap15.html#interfaces-resources-correspondence">Shader Resource
and Descriptor Type Correspondence</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There are no limits on the number of shader variables that can have
overlapping set and binding values in a shader; but which resources are
<a href="chap9.html#shaders-staticuse">statically used</a> has an impact.
If any shader variable identifying a resource is
<a href="chap9.html#shaders-staticuse">statically used</a> in a shader, then the underlying
descriptor bound at the declared set and binding must
<a href="chap15.html#interfaces-resources-correspondence">support the declared type in the
shader</a> when the shader executes.</p>
</div>
<div class="paragraph">
<p>If multiple shader variables are declared with the same set and binding
values, and with the same underlying descriptor type, they can all be
statically used within the same shader.
However, accesses are not automatically synchronized, and <code>Aliased</code>
decorations should be used to avoid data hazards (see
<a href="https://www.khronos.org/registry/spir-v/specs/unified1/SPIRV.html#_a_id_aliasingsection_a_aliasing">section
2.18.2 Aliasing in the SPIR-V specification</a>).</p>
</div>
<div class="paragraph">
<p>If multiple shader variables with the same set and binding values are
declared in a single shader, but with different declared types, where any of
those are not supported by the relevant bound descriptor, that shader can
only be executed if the variables with the unsupported type are not
statically used.</p>
</div>
<div class="paragraph">
<p>A noteworthy example of using multiple statically-used shader variables
sharing the same descriptor set and binding values is a descriptor of type
<code>VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</code> that has multiple
corresponding shader variables in the <code>UniformConstant</code> storage class,
where some could be <code>OpTypeImage</code> (<code>Sampled</code>=1), some could be
<code>OpTypeSampler</code>, and some could be <code>OpTypeSampledImage</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<table id="interfaces-resources-limits" class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 22. Shader Resource Limits</caption>
<colgroup>
<col style="width: 60.3448%;">
<col style="width: 39.6552%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resources per Stage</th>
<th class="tableblock halign-left valign-top">Resource Types</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorSamplers</code>
or <code>maxPerStageDescriptorUpdateAfterBindSamplers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="5"><p class="tableblock"><code>maxPerStageDescriptorSampledImages</code>
or <code>maxPerStageDescriptorUpdateAfterBindSampledImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampled image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">combined image sampler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform texel buffer<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sample weight image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">block matching image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorStorageImages</code>
or <code>maxPerStageDescriptorUpdateAfterBindStorageImages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage texel buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorUniformBuffers</code>
or <code>maxPerStageDescriptorUpdateAfterBindUniformBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uniform buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>maxPerStageDescriptorStorageBuffers</code>
or <code>maxPerStageDescriptorUpdateAfterBindStorageBuffers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage buffer dynamic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorInputAttachments</code>
or <code>maxPerStageDescriptorUpdateAfterBindInputAttachments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">input attachment<sup>1</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxPerStageDescriptorInlineUniformBlocks</code>
or <code>maxPerStageDescriptorUpdateAfterBindInlineUniformBlocks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inline uniform block</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceRayTracingPropertiesNV</code> ::<code>maxDescriptorSetAccelerationStructures</code>
or
<code>maxPerStageDescriptorAccelerationStructures</code> or
<code>maxPerStageDescriptorUpdateAfterBindAccelerationStructures</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">acceleration structure</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">1</dt>
<dd>
<p>Input attachments <strong class="purple">can</strong> only be used in the fragment shader stage</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="interfaces-resources-layout"><a class="anchor" href="chap15.html#interfaces-resources-layout"></a>15.6.4. Offset and Stride Assignment</h4>
<div class="paragraph">
<p>Certain objects <strong class="purple">must</strong> be explicitly laid out using the <code>Offset</code>,
<code>ArrayStride</code>, and <code>MatrixStride</code>, as described in
<a href="https://www.khronos.org/registry/spir-v/specs/unified1/SPIRV.html#ShaderValidation">SPIR-V
explicit layout validation rules</a>.
All such layouts also <strong class="purple">must</strong> conform to the following requirements.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The numeric order of <code>Offset</code> decorations does not need to follow member
declaration order.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div id="interfaces-alignment-requirements" class="paragraph">
<p><strong>Alignment Requirements</strong></p>
</div>
<div class="paragraph">
<p>There are different alignment requirements depending on the specific
resources and on the features enabled on the device.</p>
</div>
<div class="paragraph">
<p>Matrix types are defined in terms of arrays as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A column-major matrix with <span class="eq">C</span> columns and <span class="eq">R</span> rows is
equivalent to a <span class="eq">C</span> element array of vectors with <span class="eq">R</span>
components.</p>
</li>
<li>
<p>A row-major matrix with <span class="eq">C</span> columns and <span class="eq">R</span> rows is equivalent
to an <span class="eq">R</span> element array of vectors with <span class="eq">C</span> components.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>scalar alignment</em> of the type of an <code>OpTypeStruct</code> member is defined
recursively as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A scalar of size <span class="eq">N</span> has a scalar alignment of <span class="eq">N</span>.</p>
</li>
<li>
<p>A vector type has a scalar alignment equal to that of its component
type.</p>
</li>
<li>
<p>An array type has a scalar alignment equal to that of its element type.</p>
</li>
<li>
<p>A structure has a scalar alignment equal to the largest scalar alignment
of any of its members.</p>
</li>
<li>
<p>A matrix type inherits <em>scalar alignment</em> from the equivalent array
declaration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>base alignment</em> of the type of an <code>OpTypeStruct</code> member is defined
recursively as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A scalar has a base alignment equal to its scalar alignment.</p>
</li>
<li>
<p>A two-component vector has a base alignment equal to twice its scalar
alignment.</p>
</li>
<li>
<p>A three- or four-component vector has a base alignment equal to four
times its scalar alignment.</p>
</li>
<li>
<p>An array has a base alignment equal to the base alignment of its element
type.</p>
</li>
<li>
<p>A structure has a base alignment equal to the largest base alignment of
any of its members.
An empty structure has a base alignment equal to the size of the
smallest scalar type permitted by the capabilities declared in the
SPIR-V module.
(e.g., for a 1 byte aligned empty struct in the <code>StorageBuffer</code>
storage class, <code>StorageBuffer8BitAccess</code> or
<code>UniformAndStorageBuffer8BitAccess</code> <strong class="purple">must</strong> be declared in the SPIR-V
module.)</p>
</li>
<li>
<p>A matrix type inherits <em>base alignment</em> from the equivalent array
declaration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>extended alignment</em> of the type of an <code>OpTypeStruct</code> member is
similarly defined as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A scalar or vector type has an extended alignment equal to its base
alignment.</p>
</li>
<li>
<p>An array or structure type has an extended alignment equal to the
largest extended alignment of any of its members, rounded up to a
multiple of 16.</p>
</li>
<li>
<p>A matrix type inherits extended alignment from the equivalent array
declaration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A member is defined to <em>improperly straddle</em> if either of the following are
true:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It is a vector with total size less than or equal to 16 bytes, and has
<code>Offset</code> decorations placing its first byte at <span class="eq">F</span> and its last
byte at <span class="eq">L</span>, where <span class="eq">floor(F / 16) != floor(L / 16)</span>.</p>
</li>
<li>
<p>It is a vector with total size greater than 16 bytes and has its
<code>Offset</code> decorations placing its first byte at a non-integer multiple
of 16.</p>
</li>
</ul>
</div>
<div id="interfaces-resources-standard-layout" class="paragraph">
<p><strong>Standard Buffer Layout</strong></p>
</div>
<div class="paragraph">
<p>Every member of an <code>OpTypeStruct</code> that is required to be explicitly laid
out <strong class="purple">must</strong> be aligned according to the first matching rule as follows.
If the struct is contained in pointer types of multiple storage classes, it
<strong class="purple">must</strong> satisfy the requirements for every storage class used to reference it.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If the <code>scalarBlockLayout</code> feature is enabled on the device and the
storage class is <code>Uniform</code>, <code>StorageBuffer</code>,
<code>PhysicalStorageBuffer</code>,
<code>ShaderRecordBufferKHR</code>,
or <code>PushConstant</code> then every member <strong class="purple">must</strong> be aligned according to its
scalar alignment.</p>
</li>
<li>
<p>If the <code>workgroupMemoryExplicitLayoutScalarBlockLayout</code> feature is
enabled on the device and the storage class is <code>Workgroup</code> then every
member <strong class="purple">must</strong> be aligned according to its scalar alignment.</p>
</li>
<li>
<p>All vectors <strong class="purple">must</strong> be aligned according to their scalar alignment.</p>
</li>
<li>
<p>If the <code>uniformBufferStandardLayout</code> feature is not enabled on the
device, then any
member of an <code>OpTypeStruct</code> with a storage class of <code>Uniform</code> and a
decoration of <code>Block</code> <strong class="purple">must</strong> be aligned according to its extended
alignment.</p>
</li>
<li>
<p>Every other member <strong class="purple">must</strong> be aligned according to its base alignment.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Even if scalar alignment is supported, it is generally more performant to
use the <em>base alignment</em>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The memory layout <strong class="purple">must</strong> obey the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>Offset</code> decoration of any member <strong class="purple">must</strong> be a multiple of its
alignment.</p>
</li>
<li>
<p>Any <code>ArrayStride</code> or <code>MatrixStride</code> decoration <strong class="purple">must</strong> be a multiple
of the alignment of the array or matrix as defined above.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If one of the conditions below applies</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The storage class is <code>Uniform</code>, <code>StorageBuffer</code>,
  <code>PhysicalStorageBuffer</code>,
<code>ShaderRecordBufferKHR</code>,
  or <code>PushConstant</code>, and the <code>scalarBlockLayout</code> feature is not
  enabled on the device.</p>
</li>
<li>
<p>The storage class is <code>Workgroup</code>, and either the struct member is not
part of a <code>Block</code> or the
<code>workgroupMemoryExplicitLayoutScalarBlockLayout</code> feature is not
enabled on the device.</p>
</li>
<li>
<p>The storage class is any other storage class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>the memory layout <strong class="purple">must</strong> also obey the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Vectors <strong class="purple">must</strong> not improperly straddle, as defined above.</p>
</li>
<li>
<p>The <code>Offset</code> decoration of a member <strong class="purple">must</strong> not place it between the
end of a structure, an array or a matrix and the next multiple of the
alignment of that structure, array or matrix.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <strong>std430 layout</strong> in GLSL satisfies these rules for types using the base
alignment.
The <strong>std140 layout</strong> satisfies the rules for types using the extended
alignment.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="interfaces-builtin-variables"><a class="anchor" href="chap15.html#interfaces-builtin-variables"></a>15.7. Built-In Variables</h3>
<div class="paragraph">
<p>Built-in variables are accessed in shaders by declaring a variable decorated
with a <code>BuiltIn</code> SPIR-V decoration.
The meaning of each <code>BuiltIn</code> decoration is as follows.
In the remainder of this section, the name of a built-in is used
interchangeably with a term equivalent to a variable decorated with that
particular built-in.
Built-ins that represent integer values <strong class="purple">can</strong> be declared as either signed or
unsigned 32-bit integers.</p>
</div>
<div class="paragraph">
<p><a href="chap15.html#interfaces-iointerfaces-matching">As mentioned above</a>, some inputs and
outputs have an additional level of arrayness relative to other shader
inputs and outputs.
This level of arrayness is not included in the type descriptions below, but
must be included when declaring the built-in.</p>
</div>
<div id="interfaces-builtin-variables-barycoordkhr" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaryCoordKHR</code></dt>
<dd>
<p>The <code>BaryCoordKHR</code> decoration <strong class="purple">can</strong> be used to decorate a fragment shader
input variable.
This variable will contain a three-component floating-point vector with
barycentric weights that indicate the location of the fragment relative to
the screen-space locations of vertices of its primitive, obtained using
perspective interpolation.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaryCoordKHR-BaryCoordKHR-04154" href="chap15.html#VUID-BaryCoordKHR-BaryCoordKHR-04154"></a> <span class="vuid">VUID-BaryCoordKHR-BaryCoordKHR-04154</span><br>

The <code>BaryCoordKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordKHR-BaryCoordKHR-04155" href="chap15.html#VUID-BaryCoordKHR-BaryCoordKHR-04155"></a> <span class="vuid">VUID-BaryCoordKHR-BaryCoordKHR-04155</span><br>

The variable decorated with <code>BaryCoordKHR</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordKHR-BaryCoordKHR-04156" href="chap15.html#VUID-BaryCoordKHR-BaryCoordKHR-04156"></a> <span class="vuid">VUID-BaryCoordKHR-BaryCoordKHR-04156</span><br>

The variable decorated with <code>BaryCoordKHR</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaryCoordNoPerspAMD</code></dt>
<dd>
<p>The <code>BaryCoordNoPerspAMD</code> decoration <strong class="purple">can</strong> be used to decorate a fragment
shader input variable.
This variable will contain the (I,J) pair of the barycentric coordinates
corresponding to the fragment evaluated using linear interpolation at the
fragment’s center.
The K coordinate of the barycentric coordinates <strong class="purple">can</strong> be derived given the
identity I +  J +  K = 1.0.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaryCoordNoPerspAMD-BaryCoordNoPerspAMD-04157" href="chap15.html#VUID-BaryCoordNoPerspAMD-BaryCoordNoPerspAMD-04157"></a> <span class="vuid">VUID-BaryCoordNoPerspAMD-BaryCoordNoPerspAMD-04157</span><br>

The <code>BaryCoordNoPerspAMD</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordNoPerspAMD-BaryCoordNoPerspAMD-04158" href="chap15.html#VUID-BaryCoordNoPerspAMD-BaryCoordNoPerspAMD-04158"></a> <span class="vuid">VUID-BaryCoordNoPerspAMD-BaryCoordNoPerspAMD-04158</span><br>

The variable decorated with <code>BaryCoordNoPerspAMD</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordNoPerspAMD-BaryCoordNoPerspAMD-04159" href="chap15.html#VUID-BaryCoordNoPerspAMD-BaryCoordNoPerspAMD-04159"></a> <span class="vuid">VUID-BaryCoordNoPerspAMD-BaryCoordNoPerspAMD-04159</span><br>

The variable decorated with <code>BaryCoordNoPerspAMD</code> <strong class="purple">must</strong> be declared
as a two-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-barycoordnoperspkhr" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaryCoordNoPerspKHR</code></dt>
<dd>
<p>The <code>BaryCoordNoPerspKHR</code> decoration <strong class="purple">can</strong> be used to decorate a fragment
shader input variable.
This variable will contain a three-component floating-point vector with
barycentric weights that indicate the location of the fragment relative to
the screen-space locations of vertices of its primitive, obtained using
linear interpolation.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaryCoordNoPerspKHR-BaryCoordNoPerspKHR-04160" href="chap15.html#VUID-BaryCoordNoPerspKHR-BaryCoordNoPerspKHR-04160"></a> <span class="vuid">VUID-BaryCoordNoPerspKHR-BaryCoordNoPerspKHR-04160</span><br>

The <code>BaryCoordNoPerspKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordNoPerspKHR-BaryCoordNoPerspKHR-04161" href="chap15.html#VUID-BaryCoordNoPerspKHR-BaryCoordNoPerspKHR-04161"></a> <span class="vuid">VUID-BaryCoordNoPerspKHR-BaryCoordNoPerspKHR-04161</span><br>

The variable decorated with <code>BaryCoordNoPerspKHR</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordNoPerspKHR-BaryCoordNoPerspKHR-04162" href="chap15.html#VUID-BaryCoordNoPerspKHR-BaryCoordNoPerspKHR-04162"></a> <span class="vuid">VUID-BaryCoordNoPerspKHR-BaryCoordNoPerspKHR-04162</span><br>

The variable decorated with <code>BaryCoordNoPerspKHR</code> <strong class="purple">must</strong> be declared
as a three-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaryCoordNoPerspCentroidAMD</code></dt>
<dd>
<p>The <code>BaryCoordNoPerspCentroidAMD</code> decoration <strong class="purple">can</strong> be used to decorate a
fragment shader input variable.
This variable will contain the (I,J) pair of the barycentric coordinates
corresponding to the fragment evaluated using linear interpolation at the
centroid.
The K coordinate of the barycentric coordinates <strong class="purple">can</strong> be derived given the
identity I +  J +  K = 1.0.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaryCoordNoPerspCentroidAMD-BaryCoordNoPerspCentroidAMD-04163" href="chap15.html#VUID-BaryCoordNoPerspCentroidAMD-BaryCoordNoPerspCentroidAMD-04163"></a> <span class="vuid">VUID-BaryCoordNoPerspCentroidAMD-BaryCoordNoPerspCentroidAMD-04163</span><br>

The <code>BaryCoordNoPerspCentroidAMD</code> decoration <strong class="purple">must</strong> be used only
within the <code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordNoPerspCentroidAMD-BaryCoordNoPerspCentroidAMD-04164" href="chap15.html#VUID-BaryCoordNoPerspCentroidAMD-BaryCoordNoPerspCentroidAMD-04164"></a> <span class="vuid">VUID-BaryCoordNoPerspCentroidAMD-BaryCoordNoPerspCentroidAMD-04164</span><br>

The variable decorated with <code>BaryCoordNoPerspCentroidAMD</code> <strong class="purple">must</strong> be
declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordNoPerspCentroidAMD-BaryCoordNoPerspCentroidAMD-04165" href="chap15.html#VUID-BaryCoordNoPerspCentroidAMD-BaryCoordNoPerspCentroidAMD-04165"></a> <span class="vuid">VUID-BaryCoordNoPerspCentroidAMD-BaryCoordNoPerspCentroidAMD-04165</span><br>

The variable decorated with <code>BaryCoordNoPerspCentroidAMD</code> <strong class="purple">must</strong> be
declared as a three-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaryCoordNoPerspSampleAMD</code></dt>
<dd>
<p>The <code>BaryCoordNoPerspSampleAMD</code> decoration <strong class="purple">can</strong> be used to decorate a
fragment shader input variable.
This variable will contain the (I,J) pair of the barycentric coordinates
corresponding to the fragment evaluated using linear interpolation at each
covered sample.
The K coordinate of the barycentric coordinates <strong class="purple">can</strong> be derived given the
identity I +  J +  K = 1.0.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaryCoordNoPerspSampleAMD-BaryCoordNoPerspSampleAMD-04166" href="chap15.html#VUID-BaryCoordNoPerspSampleAMD-BaryCoordNoPerspSampleAMD-04166"></a> <span class="vuid">VUID-BaryCoordNoPerspSampleAMD-BaryCoordNoPerspSampleAMD-04166</span><br>

The <code>BaryCoordNoPerspSampleAMD</code> decoration <strong class="purple">must</strong> be used only within
the <code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordNoPerspSampleAMD-BaryCoordNoPerspSampleAMD-04167" href="chap15.html#VUID-BaryCoordNoPerspSampleAMD-BaryCoordNoPerspSampleAMD-04167"></a> <span class="vuid">VUID-BaryCoordNoPerspSampleAMD-BaryCoordNoPerspSampleAMD-04167</span><br>

The variable decorated with <code>BaryCoordNoPerspSampleAMD</code> <strong class="purple">must</strong> be
declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordNoPerspSampleAMD-BaryCoordNoPerspSampleAMD-04168" href="chap15.html#VUID-BaryCoordNoPerspSampleAMD-BaryCoordNoPerspSampleAMD-04168"></a> <span class="vuid">VUID-BaryCoordNoPerspSampleAMD-BaryCoordNoPerspSampleAMD-04168</span><br>

The variable decorated with <code>BaryCoordNoPerspSampleAMD</code> <strong class="purple">must</strong> be
declared as a two-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaryCoordPullModelAMD</code></dt>
<dd>
<p>The <code>BaryCoordPullModelAMD</code> decoration <strong class="purple">can</strong> be used to decorate a
fragment shader input variable.
This variable will contain (1/W, 1/I, 1/J) evaluated at the fragment center
and <strong class="purple">can</strong> be used to calculate gradients and then interpolate I, J, and W at
any desired sample location.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaryCoordPullModelAMD-BaryCoordPullModelAMD-04169" href="chap15.html#VUID-BaryCoordPullModelAMD-BaryCoordPullModelAMD-04169"></a> <span class="vuid">VUID-BaryCoordPullModelAMD-BaryCoordPullModelAMD-04169</span><br>

The <code>BaryCoordPullModelAMD</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordPullModelAMD-BaryCoordPullModelAMD-04170" href="chap15.html#VUID-BaryCoordPullModelAMD-BaryCoordPullModelAMD-04170"></a> <span class="vuid">VUID-BaryCoordPullModelAMD-BaryCoordPullModelAMD-04170</span><br>

The variable decorated with <code>BaryCoordPullModelAMD</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordPullModelAMD-BaryCoordPullModelAMD-04171" href="chap15.html#VUID-BaryCoordPullModelAMD-BaryCoordPullModelAMD-04171"></a> <span class="vuid">VUID-BaryCoordPullModelAMD-BaryCoordPullModelAMD-04171</span><br>

The variable decorated with <code>BaryCoordPullModelAMD</code> <strong class="purple">must</strong> be declared
as a three-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaryCoordSmoothAMD</code></dt>
<dd>
<p>The <code>BaryCoordSmoothAMD</code> decoration <strong class="purple">can</strong> be used to decorate a fragment
shader input variable.
This variable will contain the (I,J) pair of the barycentric coordinates
corresponding to the fragment evaluated using perspective interpolation at
the fragment’s center.
The K coordinate of the barycentric coordinates <strong class="purple">can</strong> be derived given the
identity I +  J +  K = 1.0.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaryCoordSmoothAMD-BaryCoordSmoothAMD-04172" href="chap15.html#VUID-BaryCoordSmoothAMD-BaryCoordSmoothAMD-04172"></a> <span class="vuid">VUID-BaryCoordSmoothAMD-BaryCoordSmoothAMD-04172</span><br>

The <code>BaryCoordSmoothAMD</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordSmoothAMD-BaryCoordSmoothAMD-04173" href="chap15.html#VUID-BaryCoordSmoothAMD-BaryCoordSmoothAMD-04173"></a> <span class="vuid">VUID-BaryCoordSmoothAMD-BaryCoordSmoothAMD-04173</span><br>

The variable decorated with <code>BaryCoordSmoothAMD</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordSmoothAMD-BaryCoordSmoothAMD-04174" href="chap15.html#VUID-BaryCoordSmoothAMD-BaryCoordSmoothAMD-04174"></a> <span class="vuid">VUID-BaryCoordSmoothAMD-BaryCoordSmoothAMD-04174</span><br>

The variable decorated with <code>BaryCoordSmoothAMD</code> <strong class="purple">must</strong> be declared as
a two-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaryCoordSmoothCentroidAMD</code></dt>
<dd>
<p>The <code>BaryCoordSmoothCentroidAMD</code> decoration <strong class="purple">can</strong> be used to decorate a
fragment shader input variable.
This variable will contain the (I,J) pair of the barycentric coordinates
corresponding to the fragment evaluated using perspective interpolation at
the centroid.
The K coordinate of the barycentric coordinates <strong class="purple">can</strong> be derived given the
identity I +  J +  K = 1.0.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaryCoordSmoothCentroidAMD-BaryCoordSmoothCentroidAMD-04175" href="chap15.html#VUID-BaryCoordSmoothCentroidAMD-BaryCoordSmoothCentroidAMD-04175"></a> <span class="vuid">VUID-BaryCoordSmoothCentroidAMD-BaryCoordSmoothCentroidAMD-04175</span><br>

The <code>BaryCoordSmoothCentroidAMD</code> decoration <strong class="purple">must</strong> be used only within
the <code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordSmoothCentroidAMD-BaryCoordSmoothCentroidAMD-04176" href="chap15.html#VUID-BaryCoordSmoothCentroidAMD-BaryCoordSmoothCentroidAMD-04176"></a> <span class="vuid">VUID-BaryCoordSmoothCentroidAMD-BaryCoordSmoothCentroidAMD-04176</span><br>

The variable decorated with <code>BaryCoordSmoothCentroidAMD</code> <strong class="purple">must</strong> be
declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordSmoothCentroidAMD-BaryCoordSmoothCentroidAMD-04177" href="chap15.html#VUID-BaryCoordSmoothCentroidAMD-BaryCoordSmoothCentroidAMD-04177"></a> <span class="vuid">VUID-BaryCoordSmoothCentroidAMD-BaryCoordSmoothCentroidAMD-04177</span><br>

The variable decorated with <code>BaryCoordSmoothCentroidAMD</code> <strong class="purple">must</strong> be
declared as a two-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaryCoordSmoothSampleAMD</code></dt>
<dd>
<p>The <code>BaryCoordSmoothSampleAMD</code> decoration <strong class="purple">can</strong> be used to decorate a
fragment shader input variable.
This variable will contain the (I,J) pair of the barycentric coordinates
corresponding to the fragment evaluated using perspective interpolation at
each covered sample.
The K coordinate of the barycentric coordinates <strong class="purple">can</strong> be derived given the
identity I +  J +  K = 1.0.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaryCoordSmoothSampleAMD-BaryCoordSmoothSampleAMD-04178" href="chap15.html#VUID-BaryCoordSmoothSampleAMD-BaryCoordSmoothSampleAMD-04178"></a> <span class="vuid">VUID-BaryCoordSmoothSampleAMD-BaryCoordSmoothSampleAMD-04178</span><br>

The <code>BaryCoordSmoothSampleAMD</code> decoration <strong class="purple">must</strong> be used only within
the <code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordSmoothSampleAMD-BaryCoordSmoothSampleAMD-04179" href="chap15.html#VUID-BaryCoordSmoothSampleAMD-BaryCoordSmoothSampleAMD-04179"></a> <span class="vuid">VUID-BaryCoordSmoothSampleAMD-BaryCoordSmoothSampleAMD-04179</span><br>

The variable decorated with <code>BaryCoordSmoothSampleAMD</code> <strong class="purple">must</strong> be
declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaryCoordSmoothSampleAMD-BaryCoordSmoothSampleAMD-04180" href="chap15.html#VUID-BaryCoordSmoothSampleAMD-BaryCoordSmoothSampleAMD-04180"></a> <span class="vuid">VUID-BaryCoordSmoothSampleAMD-BaryCoordSmoothSampleAMD-04180</span><br>

The variable decorated with <code>BaryCoordSmoothSampleAMD</code> <strong class="purple">must</strong> be
declared as a two-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-baseinstance" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaseInstance</code></dt>
<dd>
<p>Decorating a variable with the <code>BaseInstance</code> built-in will make that
variable contain the integer value corresponding to the first instance that
was passed to the command that invoked the current vertex shader invocation.
<code>BaseInstance</code> is the <code>firstInstance</code> parameter to a <em>direct drawing
command</em> or the <code>firstInstance</code> member of a structure consumed by an
<em>indirect drawing command</em>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaseInstance-BaseInstance-04181" href="chap15.html#VUID-BaseInstance-BaseInstance-04181"></a> <span class="vuid">VUID-BaseInstance-BaseInstance-04181</span><br>

The <code>BaseInstance</code> decoration <strong class="purple">must</strong> be used only within the
<code>Vertex</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaseInstance-BaseInstance-04182" href="chap15.html#VUID-BaseInstance-BaseInstance-04182"></a> <span class="vuid">VUID-BaseInstance-BaseInstance-04182</span><br>

The variable decorated with <code>BaseInstance</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaseInstance-BaseInstance-04183" href="chap15.html#VUID-BaseInstance-BaseInstance-04183"></a> <span class="vuid">VUID-BaseInstance-BaseInstance-04183</span><br>

The variable decorated with <code>BaseInstance</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-basevertex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>BaseVertex</code></dt>
<dd>
<p>Decorating a variable with the <code>BaseVertex</code> built-in will make that
variable contain the integer value corresponding to the first vertex or
vertex offset that was passed to the command that invoked the current vertex
shader invocation.
For <em>non-indexed drawing commands</em>, this variable is the <code>firstVertex</code>
parameter to a <em>direct drawing command</em> or the <code>firstVertex</code> member of
the structure consumed by an <em>indirect drawing command</em>.
For <em>indexed drawing commands</em>, this variable is the <code>vertexOffset</code>
parameter to a <em>direct drawing command</em> or the <code>vertexOffset</code> member of
the structure consumed by an <em>indirect drawing command</em>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-BaseVertex-BaseVertex-04184" href="chap15.html#VUID-BaseVertex-BaseVertex-04184"></a> <span class="vuid">VUID-BaseVertex-BaseVertex-04184</span><br>

The <code>BaseVertex</code> decoration <strong class="purple">must</strong> be used only within the <code>Vertex</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-BaseVertex-BaseVertex-04185" href="chap15.html#VUID-BaseVertex-BaseVertex-04185"></a> <span class="vuid">VUID-BaseVertex-BaseVertex-04185</span><br>

The variable decorated with <code>BaseVertex</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-BaseVertex-BaseVertex-04186" href="chap15.html#VUID-BaseVertex-BaseVertex-04186"></a> <span class="vuid">VUID-BaseVertex-BaseVertex-04186</span><br>

The variable decorated with <code>BaseVertex</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ClipDistance</code></dt>
<dd>
<p>Decorating a variable with the <code>ClipDistance</code> built-in decoration will
make that variable contain the mechanism for controlling user clipping.
<code>ClipDistance</code> is an array such that the i<sup>th</sup> element of the array
specifies the clip distance for plane i.
A clip distance of 0 means the vertex is on the plane, a positive distance
means the vertex is inside the clip half-space, and a negative distance
means the vertex is outside the clip half-space.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The array variable decorated with <code>ClipDistance</code> is explicitly sized by
the shader.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In the last <a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization
shader stage</a>, these values will be linearly interpolated across the
primitive and the portion of the primitive with interpolated distances less
than 0 will be considered outside the clip volume.
If <code>ClipDistance</code> is then used by a fragment shader, <code>ClipDistance</code>
contains these linearly interpolated values.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ClipDistance-ClipDistance-04187" href="chap15.html#VUID-ClipDistance-ClipDistance-04187"></a> <span class="vuid">VUID-ClipDistance-ClipDistance-04187</span><br>

The <code>ClipDistance</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code>, <code>Vertex</code>, <code>Fragment</code>, <code>TessellationControl</code>,
<code>TessellationEvaluation</code>, or <code>Geometry</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ClipDistance-ClipDistance-04188" href="chap15.html#VUID-ClipDistance-ClipDistance-04188"></a> <span class="vuid">VUID-ClipDistance-ClipDistance-04188</span><br>

The variable decorated with <code>ClipDistance</code> within the <code>MeshNV</code> or
<code>Vertex</code> <code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Output</code>
<code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ClipDistance-ClipDistance-04189" href="chap15.html#VUID-ClipDistance-ClipDistance-04189"></a> <span class="vuid">VUID-ClipDistance-ClipDistance-04189</span><br>

The variable decorated with <code>ClipDistance</code> within the <code>Fragment</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ClipDistance-ClipDistance-04190" href="chap15.html#VUID-ClipDistance-ClipDistance-04190"></a> <span class="vuid">VUID-ClipDistance-ClipDistance-04190</span><br>

The variable decorated with <code>ClipDistance</code> within the
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> not be declared in a <code>Storage</code> <code>Class</code> other than
<code>Input</code> or <code>Output</code></p>
</li>
<li>
<p><a id="VUID-ClipDistance-ClipDistance-04191" href="chap15.html#VUID-ClipDistance-ClipDistance-04191"></a> <span class="vuid">VUID-ClipDistance-ClipDistance-04191</span><br>

The variable decorated with <code>ClipDistance</code> <strong class="purple">must</strong> be declared as an
array of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-clipdistancepv" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ClipDistancePerViewNV</code></dt>
<dd>
<p>Decorating a variable with the <code>ClipDistancePerViewNV</code> built-in
decoration will make that variable contain the per-view clip distances.
The per-view clip distances have the same semantics as <code>ClipDistance</code>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04192" href="chap15.html#VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04192"></a> <span class="vuid">VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04192</span><br>

The <code>ClipDistancePerViewNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04193" href="chap15.html#VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04193"></a> <span class="vuid">VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04193</span><br>

The variable decorated with <code>ClipDistancePerViewNV</code> <strong class="purple">must</strong> be declared
using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04194" href="chap15.html#VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04194"></a> <span class="vuid">VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04194</span><br>

The variable decorated with <code>ClipDistancePerViewNV</code> <strong class="purple">must</strong> also be
decorated with the <code>PerViewNV</code> decoration</p>
</li>
<li>
<p><a id="VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04195" href="chap15.html#VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04195"></a> <span class="vuid">VUID-ClipDistancePerViewNV-ClipDistancePerViewNV-04195</span><br>

The variable decorated with <code>ClipDistancePerViewNV</code> <strong class="purple">must</strong> be declared
as a two-dimensional array of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>CullDistance</code></dt>
<dd>
<p>Decorating a variable with the <code>CullDistance</code> built-in decoration will
make that variable contain the mechanism for controlling user culling.
If any member of this array is assigned a negative value for all vertices
belonging to a primitive, then the primitive is discarded before
rasterization.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>In fragment shaders, the values of the <code>CullDistance</code> array are linearly
interpolated across each primitive.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If <code>CullDistance</code> decorates an input variable, that variable will contain
the corresponding value from the <code>CullDistance</code> decorated output variable
from the previous shader stage.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-CullDistance-CullDistance-04196" href="chap15.html#VUID-CullDistance-CullDistance-04196"></a> <span class="vuid">VUID-CullDistance-CullDistance-04196</span><br>

The <code>CullDistance</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code>, <code>Vertex</code>, <code>Fragment</code>, <code>TessellationControl</code>,
<code>TessellationEvaluation</code>, or <code>Geometry</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-CullDistance-CullDistance-04197" href="chap15.html#VUID-CullDistance-CullDistance-04197"></a> <span class="vuid">VUID-CullDistance-CullDistance-04197</span><br>

The variable decorated with <code>CullDistance</code> within the <code>MeshNV</code> or
<code>Vertex</code> <code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Output</code>
<code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-CullDistance-CullDistance-04198" href="chap15.html#VUID-CullDistance-CullDistance-04198"></a> <span class="vuid">VUID-CullDistance-CullDistance-04198</span><br>

The variable decorated with <code>CullDistance</code> within the <code>Fragment</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-CullDistance-CullDistance-04199" href="chap15.html#VUID-CullDistance-CullDistance-04199"></a> <span class="vuid">VUID-CullDistance-CullDistance-04199</span><br>

The variable decorated with <code>CullDistance</code> within the
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> not be declared using a <code>Storage</code> <code>Class</code> other than
<code>Input</code> or <code>Output</code></p>
</li>
<li>
<p><a id="VUID-CullDistance-CullDistance-04200" href="chap15.html#VUID-CullDistance-CullDistance-04200"></a> <span class="vuid">VUID-CullDistance-CullDistance-04200</span><br>

The variable decorated with <code>CullDistance</code> <strong class="purple">must</strong> be declared as an
array of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-culldistancepv" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>CullDistancePerViewNV</code></dt>
<dd>
<p>Decorating a variable with the <code>CullDistancePerViewNV</code> built-in
decoration will make that variable contain the per-view cull distances.
The per-view cull distances have the same semantics as <code>CullDistance</code>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-CullDistancePerViewNV-CullDistancePerViewNV-04201" href="chap15.html#VUID-CullDistancePerViewNV-CullDistancePerViewNV-04201"></a> <span class="vuid">VUID-CullDistancePerViewNV-CullDistancePerViewNV-04201</span><br>

The <code>CullDistancePerViewNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-CullDistancePerViewNV-CullDistancePerViewNV-04202" href="chap15.html#VUID-CullDistancePerViewNV-CullDistancePerViewNV-04202"></a> <span class="vuid">VUID-CullDistancePerViewNV-CullDistancePerViewNV-04202</span><br>

The variable decorated with <code>CullDistancePerViewNV</code> <strong class="purple">must</strong> be declared
using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-CullDistancePerViewNV-CullDistancePerViewNV-04203" href="chap15.html#VUID-CullDistancePerViewNV-CullDistancePerViewNV-04203"></a> <span class="vuid">VUID-CullDistancePerViewNV-CullDistancePerViewNV-04203</span><br>

The variable decorated with <code>CullDistancePerViewNV</code> <strong class="purple">must</strong> also be
decorated with the <code>PerViewNV</code> decoration</p>
</li>
<li>
<p><a id="VUID-CullDistancePerViewNV-CullDistancePerViewNV-04204" href="chap15.html#VUID-CullDistancePerViewNV-CullDistancePerViewNV-04204"></a> <span class="vuid">VUID-CullDistancePerViewNV-CullDistancePerViewNV-04204</span><br>

The variable decorated with <code>CullDistancePerViewNV</code> <strong class="purple">must</strong> be declared
as a two-dimensional array of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-cullmask" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>CullMaskKHR</code></dt>
<dd>
<p>A variable decorated with the <code>CullMaskKHR</code> decoration will specify the
cull mask of the ray being processed.
The value is given by the <code>Cull Mask</code> parameter passed into one of the
<code>OpTrace*</code> instructions.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-CullMaskKHR-CullMaskKHR-06735" href="chap15.html#VUID-CullMaskKHR-CullMaskKHR-06735"></a> <span class="vuid">VUID-CullMaskKHR-CullMaskKHR-06735</span><br>

The <code>CullMaskKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, <code>ClosestHitKHR</code>, or
<code>MissKHR</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-CullMaskKHR-CullMaskKHR-06736" href="chap15.html#VUID-CullMaskKHR-CullMaskKHR-06736"></a> <span class="vuid">VUID-CullMaskKHR-CullMaskKHR-06736</span><br>

The variable decorated with <code>CullMaskKHR</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-CullMaskKHR-CullMaskKHR-06737" href="chap15.html#VUID-CullMaskKHR-CullMaskKHR-06737"></a> <span class="vuid">VUID-CullMaskKHR-CullMaskKHR-06737</span><br>

The variable decorated with <code>CullMaskKHR</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-currentraytime" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>CurrentRayTimeNV</code></dt>
<dd>
<p>A variable decorated with the <code>CurrentRayTimeNV</code> decoration contains the
time value passed in to <code>OpTraceRayMotionNV</code> which called this shader.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-CurrentRayTimeNV-CurrentRayTimeNV-04942" href="chap15.html#VUID-CurrentRayTimeNV-CurrentRayTimeNV-04942"></a> <span class="vuid">VUID-CurrentRayTimeNV-CurrentRayTimeNV-04942</span><br>

The <code>CurrentRayTimeNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, <code>ClosestHitKHR</code>, or
<code>MissKHR</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-CurrentRayTimeNV-CurrentRayTimeNV-04943" href="chap15.html#VUID-CurrentRayTimeNV-CurrentRayTimeNV-04943"></a> <span class="vuid">VUID-CurrentRayTimeNV-CurrentRayTimeNV-04943</span><br>

The variable decorated with <code>CurrentRayTimeNV</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-CurrentRayTimeNV-CurrentRayTimeNV-04944" href="chap15.html#VUID-CurrentRayTimeNV-CurrentRayTimeNV-04944"></a> <span class="vuid">VUID-CurrentRayTimeNV-CurrentRayTimeNV-04944</span><br>

The variable decorated with <code>CurrentRayTimeNV</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit floating-point value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-deviceindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>DeviceIndex</code></dt>
<dd>
<p>The <code>DeviceIndex</code> decoration <strong class="purple">can</strong> be applied to a shader input which will
be filled with the device index of the physical device that is executing the
current shader invocation.
This value will be in the range <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault">h</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>,
where physicalDeviceCount is the <code>physicalDeviceCount</code> member of
<a href="chap5.html#VkDeviceGroupDeviceCreateInfo">VkDeviceGroupDeviceCreateInfo</a>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-DeviceIndex-DeviceIndex-04205" href="chap15.html#VUID-DeviceIndex-DeviceIndex-04205"></a> <span class="vuid">VUID-DeviceIndex-DeviceIndex-04205</span><br>

The variable decorated with <code>DeviceIndex</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-DeviceIndex-DeviceIndex-04206" href="chap15.html#VUID-DeviceIndex-DeviceIndex-04206"></a> <span class="vuid">VUID-DeviceIndex-DeviceIndex-04206</span><br>

The variable decorated with <code>DeviceIndex</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-drawindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>DrawIndex</code></dt>
<dd>
<p>Decorating a variable with the <code>DrawIndex</code> built-in will make that
variable contain the integer value corresponding to the zero-based index of
the drawing command that invoked the current
task, mesh, or
vertex shader invocation.
For <em>indirect drawing commands</em>, <code>DrawIndex</code> begins at zero and
increments by one for each drawing command executed.
The number of drawing commands is given by the <code>drawCount</code> parameter.
For <em>direct drawing commands</em>,
if <a href="chap21.html#vkCmdDrawMultiEXT">vkCmdDrawMultiEXT</a> or <a href="chap21.html#vkCmdDrawMultiIndexedEXT">vkCmdDrawMultiIndexedEXT</a> is used, this
variable contains the integer value corresponding to the zero-based index of
the draw command.
Otherwise
<code>DrawIndex</code> is always zero.
<code>DrawIndex</code> is dynamically uniform.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>When task or mesh shaders are used, only the first active stage will have
proper access to the variable.
The value read by other stages is undefined.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-DrawIndex-DrawIndex-04207" href="chap15.html#VUID-DrawIndex-DrawIndex-04207"></a> <span class="vuid">VUID-DrawIndex-DrawIndex-04207</span><br>

The <code>DrawIndex</code> decoration <strong class="purple">must</strong> be used only within the <code>Vertex</code>,
<code>MeshNV</code>, or <code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-DrawIndex-DrawIndex-04208" href="chap15.html#VUID-DrawIndex-DrawIndex-04208"></a> <span class="vuid">VUID-DrawIndex-DrawIndex-04208</span><br>

The variable decorated with <code>DrawIndex</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-DrawIndex-DrawIndex-04209" href="chap15.html#VUID-DrawIndex-DrawIndex-04209"></a> <span class="vuid">VUID-DrawIndex-DrawIndex-04209</span><br>

The variable decorated with <code>DrawIndex</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FragCoord</code></dt>
<dd>
<p>Decorating a variable with the <code>FragCoord</code> built-in decoration will make
that variable contain the framebuffer coordinate
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span> of the fragment being processed.
The <span class="eq">(x,y)</span> coordinate <span class="eq">(0,0)</span> is the upper left corner of the upper
left pixel in the framebuffer.</p>
<div class="paragraph">
<p>When <a href="chap27.html#primsrast-sampleshading">Sample Shading</a> is enabled, the <span class="eq">x</span> and
<span class="eq">y</span> components of <code>FragCoord</code> reflect the location of one of the
samples corresponding to the shader invocation.</p>
</div>
<div class="paragraph">
<p>Otherwise, the <span class="eq">x</span> and <span class="eq">y</span> components of <code>FragCoord</code> reflect the
location of the center of the fragment.</p>
</div>
<div class="paragraph">
<p>The <span class="eq">z</span> component of <code>FragCoord</code> is the interpolated depth value of
the primitive.</p>
</div>
<div class="paragraph">
<p>The <span class="eq">w</span> component is the interpolated <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>.</p>
</div>
<div class="paragraph">
<p>The <code>Centroid</code> interpolation decoration is ignored, but allowed, on
<code>FragCoord</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-FragCoord-FragCoord-04210" href="chap15.html#VUID-FragCoord-FragCoord-04210"></a> <span class="vuid">VUID-FragCoord-FragCoord-04210</span><br>

The <code>FragCoord</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-FragCoord-FragCoord-04211" href="chap15.html#VUID-FragCoord-FragCoord-04211"></a> <span class="vuid">VUID-FragCoord-FragCoord-04211</span><br>

The variable decorated with <code>FragCoord</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-FragCoord-FragCoord-04212" href="chap15.html#VUID-FragCoord-FragCoord-04212"></a> <span class="vuid">VUID-FragCoord-FragCoord-04212</span><br>

The variable decorated with <code>FragCoord</code> <strong class="purple">must</strong> be declared as a
four-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-fragdepth" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FragDepth</code></dt>
<dd>
<p>To have a shader supply a fragment-depth value, the shader <strong class="purple">must</strong> declare the
<code>DepthReplacing</code> execution mode.
Such a shader’s fragment-depth value will come from the variable decorated
with the <code>FragDepth</code> built-in decoration.</p>
<div class="paragraph">
<p>This value will be used for any subsequent depth testing performed by the
implementation or writes to the depth attachment.
See <a href="chap28.html#fragops-shader-depthreplacement">fragment shader depth replacement</a>
for details.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-FragDepth-FragDepth-04213" href="chap15.html#VUID-FragDepth-FragDepth-04213"></a> <span class="vuid">VUID-FragDepth-FragDepth-04213</span><br>

The <code>FragDepth</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-FragDepth-FragDepth-04214" href="chap15.html#VUID-FragDepth-FragDepth-04214"></a> <span class="vuid">VUID-FragDepth-FragDepth-04214</span><br>

The variable decorated with <code>FragDepth</code> <strong class="purple">must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-FragDepth-FragDepth-04215" href="chap15.html#VUID-FragDepth-FragDepth-04215"></a> <span class="vuid">VUID-FragDepth-FragDepth-04215</span><br>

The variable decorated with <code>FragDepth</code> <strong class="purple">must</strong> be declared as a scalar
32-bit floating-point value</p>
</li>
<li>
<p><a id="VUID-FragDepth-FragDepth-04216" href="chap15.html#VUID-FragDepth-FragDepth-04216"></a> <span class="vuid">VUID-FragDepth-FragDepth-04216</span><br>

If the shader dynamically writes to the variable decorated with
<code>FragDepth</code>, the <code>DepthReplacing</code> <code>Execution</code> <code>Mode</code> <strong class="purple">must</strong> be
declared</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-fraginvocationcount" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FragInvocationCountEXT</code></dt>
<dd>
<p>Decorating a variable with the <code>FragInvocationCountEXT</code> built-in
decoration will make that variable contain the maximum number of fragment
shader invocations for the fragment, as determined by
<code>minSampleShading</code>.</p>
<div class="paragraph">
<p>If <a href="chap27.html#primsrast-sampleshading">Sample Shading</a> is not enabled,
<code>FragInvocationCountEXT</code> will be filled with a value of 1.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-FragInvocationCountEXT-FragInvocationCountEXT-04217" href="chap15.html#VUID-FragInvocationCountEXT-FragInvocationCountEXT-04217"></a> <span class="vuid">VUID-FragInvocationCountEXT-FragInvocationCountEXT-04217</span><br>

The <code>FragInvocationCountEXT</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-FragInvocationCountEXT-FragInvocationCountEXT-04218" href="chap15.html#VUID-FragInvocationCountEXT-FragInvocationCountEXT-04218"></a> <span class="vuid">VUID-FragInvocationCountEXT-FragInvocationCountEXT-04218</span><br>

The variable decorated with <code>FragInvocationCountEXT</code> <strong class="purple">must</strong> be
declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-FragInvocationCountEXT-FragInvocationCountEXT-04219" href="chap15.html#VUID-FragInvocationCountEXT-FragInvocationCountEXT-04219"></a> <span class="vuid">VUID-FragInvocationCountEXT-FragInvocationCountEXT-04219</span><br>

The variable decorated with <code>FragInvocationCountEXT</code> <strong class="purple">must</strong> be
declared as a scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-fragsize" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FragSizeEXT</code></dt>
<dd>
<p>Decorating a variable with the <code>FragSizeEXT</code> built-in decoration will
make that variable contain the dimensions in pixels of the
<a href="chap53.html#glossary-fragment-area">area</a> that the fragment covers for that
invocation.</p>
<div class="paragraph">
<p>If fragment density map is not enabled, <code>FragSizeEXT</code> will be filled with
a value of <span class="eq">(1,1)</span>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-FragSizeEXT-FragSizeEXT-04220" href="chap15.html#VUID-FragSizeEXT-FragSizeEXT-04220"></a> <span class="vuid">VUID-FragSizeEXT-FragSizeEXT-04220</span><br>

The <code>FragSizeEXT</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-FragSizeEXT-FragSizeEXT-04221" href="chap15.html#VUID-FragSizeEXT-FragSizeEXT-04221"></a> <span class="vuid">VUID-FragSizeEXT-FragSizeEXT-04221</span><br>

The variable decorated with <code>FragSizeEXT</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-FragSizeEXT-FragSizeEXT-04222" href="chap15.html#VUID-FragSizeEXT-FragSizeEXT-04222"></a> <span class="vuid">VUID-FragSizeEXT-FragSizeEXT-04222</span><br>

The variable decorated with <code>FragSizeEXT</code> <strong class="purple">must</strong> be declared as a
two-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-fragstencilref" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FragStencilRefEXT</code></dt>
<dd>
<p>Decorating a variable with the <code>FragStencilRefEXT</code> built-in decoration
will make that variable contain the new stencil reference value for all
samples covered by the fragment.
This value will be used as the stencil reference value used in stencil
testing.</p>
<div class="paragraph">
<p>To write to <code>FragStencilRefEXT</code>, a shader <strong class="purple">must</strong> declare the
<code>StencilRefReplacingEXT</code> execution mode.
If a shader declares the <code>StencilRefReplacingEXT</code> execution mode and
there is an execution path through the shader that does not set
<code>FragStencilRefEXT</code>, then the fragment’s stencil reference value is
undefined for executions of the shader that take that path.</p>
</div>
<div class="paragraph">
<p>Only the least significant <strong>s</strong> bits of the integer value of the variable
decorated with <code>FragStencilRefEXT</code> are considered for stencil testing,
where <strong>s</strong> is the number of bits in the stencil framebuffer attachment, and
higher order bits are discarded.</p>
</div>
<div class="paragraph">
<p>See <a href="chap28.html#fragops-shader-stencilrefreplacement">fragment shader stencil
reference replacement</a> for more details.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-FragStencilRefEXT-FragStencilRefEXT-04223" href="chap15.html#VUID-FragStencilRefEXT-FragStencilRefEXT-04223"></a> <span class="vuid">VUID-FragStencilRefEXT-FragStencilRefEXT-04223</span><br>

The <code>FragStencilRefEXT</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-FragStencilRefEXT-FragStencilRefEXT-04224" href="chap15.html#VUID-FragStencilRefEXT-FragStencilRefEXT-04224"></a> <span class="vuid">VUID-FragStencilRefEXT-FragStencilRefEXT-04224</span><br>

The variable decorated with <code>FragStencilRefEXT</code> <strong class="purple">must</strong> be declared
using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-FragStencilRefEXT-FragStencilRefEXT-04225" href="chap15.html#VUID-FragStencilRefEXT-FragStencilRefEXT-04225"></a> <span class="vuid">VUID-FragStencilRefEXT-FragStencilRefEXT-04225</span><br>

The variable decorated with <code>FragStencilRefEXT</code> <strong class="purple">must</strong> be declared as
a scalar integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FragmentSizeNV</code></dt>
<dd>
<p>Decorating a variable with the <code>FragmentSizeNV</code> built-in decoration will
make that variable contain the width and height of the fragment.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-FragmentSizeNV-FragmentSizeNV-04226" href="chap15.html#VUID-FragmentSizeNV-FragmentSizeNV-04226"></a> <span class="vuid">VUID-FragmentSizeNV-FragmentSizeNV-04226</span><br>

The <code>FragmentSizeNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-FragmentSizeNV-FragmentSizeNV-04227" href="chap15.html#VUID-FragmentSizeNV-FragmentSizeNV-04227"></a> <span class="vuid">VUID-FragmentSizeNV-FragmentSizeNV-04227</span><br>

The variable decorated with <code>FragmentSizeNV</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-FragmentSizeNV-FragmentSizeNV-04228" href="chap15.html#VUID-FragmentSizeNV-FragmentSizeNV-04228"></a> <span class="vuid">VUID-FragmentSizeNV-FragmentSizeNV-04228</span><br>

The variable decorated with <code>FragmentSizeNV</code> <strong class="purple">must</strong> be declared as a
two-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FrontFacing</code></dt>
<dd>
<p>Decorating a variable with the <code>FrontFacing</code> built-in decoration will
make that variable contain whether the fragment is front or back facing.
This variable is non-zero if the current fragment is considered to be part
of a <a href="chap27.html#primsrast-polygons-basic">front-facing</a> polygon primitive or of a
non-polygon primitive and is zero if the fragment is considered to be part
of a back-facing polygon primitive.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-FrontFacing-FrontFacing-04229" href="chap15.html#VUID-FrontFacing-FrontFacing-04229"></a> <span class="vuid">VUID-FrontFacing-FrontFacing-04229</span><br>

The <code>FrontFacing</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-FrontFacing-FrontFacing-04230" href="chap15.html#VUID-FrontFacing-FrontFacing-04230"></a> <span class="vuid">VUID-FrontFacing-FrontFacing-04230</span><br>

The variable decorated with <code>FrontFacing</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-FrontFacing-FrontFacing-04231" href="chap15.html#VUID-FrontFacing-FrontFacing-04231"></a> <span class="vuid">VUID-FrontFacing-FrontFacing-04231</span><br>

The variable decorated with <code>FrontFacing</code> <strong class="purple">must</strong> be declared as a
boolean value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FullyCoveredEXT</code></dt>
<dd>
<p>Decorating a variable with the <code>FullyCoveredEXT</code> built-in decoration will
make that variable indicate whether the <a href="chap53.html#glossary-fragment-area">fragment
area</a> is fully covered by the generating primitive.
This variable is non-zero if conservative rasterization is enabled and the
current fragment area is fully covered by the generating primitive, and is
zero if the fragment is not covered or partially covered, or conservative
rasterization is disabled.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-FullyCoveredEXT-FullyCoveredEXT-04232" href="chap15.html#VUID-FullyCoveredEXT-FullyCoveredEXT-04232"></a> <span class="vuid">VUID-FullyCoveredEXT-FullyCoveredEXT-04232</span><br>

The <code>FullyCoveredEXT</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-FullyCoveredEXT-FullyCoveredEXT-04233" href="chap15.html#VUID-FullyCoveredEXT-FullyCoveredEXT-04233"></a> <span class="vuid">VUID-FullyCoveredEXT-FullyCoveredEXT-04233</span><br>

The variable decorated with <code>FullyCoveredEXT</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-FullyCoveredEXT-FullyCoveredEXT-04234" href="chap15.html#VUID-FullyCoveredEXT-FullyCoveredEXT-04234"></a> <span class="vuid">VUID-FullyCoveredEXT-FullyCoveredEXT-04234</span><br>

The variable decorated with <code>FullyCoveredEXT</code> <strong class="purple">must</strong> be declared as a
boolean value</p>
</li>
<li>
<p><a id="VUID-FullyCoveredEXT-conservativeRasterizationPostDepthCoverage-04235" href="chap15.html#VUID-FullyCoveredEXT-conservativeRasterizationPostDepthCoverage-04235"></a> <span class="vuid">VUID-FullyCoveredEXT-conservativeRasterizationPostDepthCoverage-04235</span><br>

If
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>conservativeRasterizationPostDepthCoverage</code>
is not supported the <code>PostDepthCoverage</code> <code>Execution</code> <code>Mode</code> <strong class="purple">must</strong> not be
declared, when a variable with the <code>FullyCoveredEXT</code> decoration is
declared</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>GlobalInvocationId</code></dt>
<dd>
<p>Decorating a variable with the <code>GlobalInvocationId</code> built-in decoration
will make that variable contain the location of the current invocation
within the global workgroup.
Each component is equal to the index of the local workgroup multiplied by
the size of the local workgroup plus <code>LocalInvocationId</code>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-GlobalInvocationId-GlobalInvocationId-04236" href="chap15.html#VUID-GlobalInvocationId-GlobalInvocationId-04236"></a> <span class="vuid">VUID-GlobalInvocationId-GlobalInvocationId-04236</span><br>

The <code>GlobalInvocationId</code> decoration <strong class="purple">must</strong> be used only within the
<code>GLCompute</code>, <code>MeshNV</code>, or <code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-GlobalInvocationId-GlobalInvocationId-04237" href="chap15.html#VUID-GlobalInvocationId-GlobalInvocationId-04237"></a> <span class="vuid">VUID-GlobalInvocationId-GlobalInvocationId-04237</span><br>

The variable decorated with <code>GlobalInvocationId</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-GlobalInvocationId-GlobalInvocationId-04238" href="chap15.html#VUID-GlobalInvocationId-GlobalInvocationId-04238"></a> <span class="vuid">VUID-GlobalInvocationId-GlobalInvocationId-04238</span><br>

The variable decorated with <code>GlobalInvocationId</code> <strong class="purple">must</strong> be declared as
a three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>HelperInvocation</code></dt>
<dd>
<p>Decorating a variable with the <code>HelperInvocation</code> built-in decoration
will make that variable contain whether the current invocation is a helper
invocation.
This variable is non-zero if the current fragment being shaded is a helper
invocation and zero otherwise.
A helper invocation is an invocation of the shader that is produced to
satisfy internal requirements such as the generation of derivatives.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>It is very likely that a helper invocation will have a value of
<code>SampleMask</code> fragment shader input value that is zero.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-HelperInvocation-HelperInvocation-04239" href="chap15.html#VUID-HelperInvocation-HelperInvocation-04239"></a> <span class="vuid">VUID-HelperInvocation-HelperInvocation-04239</span><br>

The <code>HelperInvocation</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-HelperInvocation-HelperInvocation-04240" href="chap15.html#VUID-HelperInvocation-HelperInvocation-04240"></a> <span class="vuid">VUID-HelperInvocation-HelperInvocation-04240</span><br>

The variable decorated with <code>HelperInvocation</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-HelperInvocation-HelperInvocation-04241" href="chap15.html#VUID-HelperInvocation-HelperInvocation-04241"></a> <span class="vuid">VUID-HelperInvocation-HelperInvocation-04241</span><br>

The variable decorated with <code>HelperInvocation</code> <strong class="purple">must</strong> be declared as a
boolean value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-hitkind" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>HitKindKHR</code></dt>
<dd>
<p>A variable decorated with the <code>HitKindKHR</code> decoration will describe the
intersection that triggered the execution of the current shader.
The values are determined by the intersection shader.
For user-defined intersection shaders this is the value that was passed to
the “Hit Kind” operand of <code>OpReportIntersectionKHR</code>.
For triangle intersection candidates, this will be one of
<code>HitKindFrontFacingTriangleKHR</code> or <code>HitKindBackFacingTriangleKHR</code>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-HitKindKHR-HitKindKHR-04242" href="chap15.html#VUID-HitKindKHR-HitKindKHR-04242"></a> <span class="vuid">VUID-HitKindKHR-HitKindKHR-04242</span><br>

The <code>HitKindKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>AnyHitKHR</code> or <code>ClosestHitKHR</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-HitKindKHR-HitKindKHR-04243" href="chap15.html#VUID-HitKindKHR-HitKindKHR-04243"></a> <span class="vuid">VUID-HitKindKHR-HitKindKHR-04243</span><br>

The variable decorated with <code>HitKindKHR</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-HitKindKHR-HitKindKHR-04244" href="chap15.html#VUID-HitKindKHR-HitKindKHR-04244"></a> <span class="vuid">VUID-HitKindKHR-HitKindKHR-04244</span><br>

The variable decorated with <code>HitKindKHR</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-hitt" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>HitTNV</code></dt>
<dd>
<p>A variable decorated with the <code>HitTNV</code> decoration is equivalent to a
variable decorated with the <code>RayTmaxKHR</code> decoration.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-HitTNV-HitTNV-04245" href="chap15.html#VUID-HitTNV-HitTNV-04245"></a> <span class="vuid">VUID-HitTNV-HitTNV-04245</span><br>

The <code>HitTNV</code> decoration <strong class="purple">must</strong> be used only within the <code>AnyHitNV</code>
or <code>ClosestHitNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-HitTNV-HitTNV-04246" href="chap15.html#VUID-HitTNV-HitTNV-04246"></a> <span class="vuid">VUID-HitTNV-HitTNV-04246</span><br>

The variable decorated with <code>HitTNV</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-HitTNV-HitTNV-04247" href="chap15.html#VUID-HitTNV-HitTNV-04247"></a> <span class="vuid">VUID-HitTNV-HitTNV-04247</span><br>

The variable decorated with <code>HitTNV</code> <strong class="purple">must</strong> be declared as a scalar
32-bit floating-point value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-incomingrayflags" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>IncomingRayFlagsKHR</code></dt>
<dd>
<p>A variable with the <code>IncomingRayFlagsKHR</code> decoration will contain the ray
flags passed in to the trace call that invoked this particular shader.
Setting pipeline flags on the raytracing pipeline <strong class="purple">must</strong> not cause any
corresponding flags to be set in variables with this decoration.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-IncomingRayFlagsKHR-IncomingRayFlagsKHR-04248" href="chap15.html#VUID-IncomingRayFlagsKHR-IncomingRayFlagsKHR-04248"></a> <span class="vuid">VUID-IncomingRayFlagsKHR-IncomingRayFlagsKHR-04248</span><br>

The <code>IncomingRayFlagsKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, <code>ClosestHitKHR</code>, or
<code>MissKHR</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-IncomingRayFlagsKHR-IncomingRayFlagsKHR-04249" href="chap15.html#VUID-IncomingRayFlagsKHR-IncomingRayFlagsKHR-04249"></a> <span class="vuid">VUID-IncomingRayFlagsKHR-IncomingRayFlagsKHR-04249</span><br>

The variable decorated with <code>IncomingRayFlagsKHR</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-IncomingRayFlagsKHR-IncomingRayFlagsKHR-04250" href="chap15.html#VUID-IncomingRayFlagsKHR-IncomingRayFlagsKHR-04250"></a> <span class="vuid">VUID-IncomingRayFlagsKHR-IncomingRayFlagsKHR-04250</span><br>

The variable decorated with <code>IncomingRayFlagsKHR</code> <strong class="purple">must</strong> be declared
as a scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-instancecustomindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>InstanceCustomIndexKHR</code></dt>
<dd>
<p>A variable decorated with the <code>InstanceCustomIndexKHR</code> decoration will
contain the application-defined value of the instance that intersects the
current ray.
This variable contains the value that was specified in
<a href="chap36.html#VkAccelerationStructureInstanceKHR">VkAccelerationStructureInstanceKHR</a>::<code>instanceCustomIndex</code> for the
current acceleration structure instance in the lower 24 bits and the upper 8
bits will be zero.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-InstanceCustomIndexKHR-InstanceCustomIndexKHR-04251" href="chap15.html#VUID-InstanceCustomIndexKHR-InstanceCustomIndexKHR-04251"></a> <span class="vuid">VUID-InstanceCustomIndexKHR-InstanceCustomIndexKHR-04251</span><br>

The <code>InstanceCustomIndexKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, or <code>ClosestHitKHR</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-InstanceCustomIndexKHR-InstanceCustomIndexKHR-04252" href="chap15.html#VUID-InstanceCustomIndexKHR-InstanceCustomIndexKHR-04252"></a> <span class="vuid">VUID-InstanceCustomIndexKHR-InstanceCustomIndexKHR-04252</span><br>

The variable decorated with <code>InstanceCustomIndexKHR</code> <strong class="purple">must</strong> be
declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-InstanceCustomIndexKHR-InstanceCustomIndexKHR-04253" href="chap15.html#VUID-InstanceCustomIndexKHR-InstanceCustomIndexKHR-04253"></a> <span class="vuid">VUID-InstanceCustomIndexKHR-InstanceCustomIndexKHR-04253</span><br>

The variable decorated with <code>InstanceCustomIndexKHR</code> <strong class="purple">must</strong> be
declared as a scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-instanceid" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>InstanceId</code></dt>
<dd>
<p>Decorating a variable in an intersection, any-hit, or closest hit shader
with the <code>InstanceId</code> decoration will make that variable contain the
index of the instance that intersects the current ray.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-InstanceId-InstanceId-04254" href="chap15.html#VUID-InstanceId-InstanceId-04254"></a> <span class="vuid">VUID-InstanceId-InstanceId-04254</span><br>

The <code>InstanceId</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, or <code>ClosestHitKHR</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-InstanceId-InstanceId-04255" href="chap15.html#VUID-InstanceId-InstanceId-04255"></a> <span class="vuid">VUID-InstanceId-InstanceId-04255</span><br>

The variable decorated with <code>InstanceId</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-InstanceId-InstanceId-04256" href="chap15.html#VUID-InstanceId-InstanceId-04256"></a> <span class="vuid">VUID-InstanceId-InstanceId-04256</span><br>

The variable decorated with <code>InstanceId</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>InvocationId</code></dt>
<dd>
<p>Decorating a variable with the <code>InvocationId</code> built-in decoration will
make that variable contain the index of the current shader invocation in a
geometry shader, or the index of the output patch vertex in a tessellation
control shader.</p>
<div class="paragraph">
<p>In a geometry shader, the index of the current shader invocation ranges from
zero to the number of <a href="chap24.html#geometry-invocations">instances</a> declared in the
shader minus one.
If the instance count of the geometry shader is one or is not specified,
then <code>InvocationId</code> will be zero.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-InvocationId-InvocationId-04257" href="chap15.html#VUID-InvocationId-InvocationId-04257"></a> <span class="vuid">VUID-InvocationId-InvocationId-04257</span><br>

The <code>InvocationId</code> decoration <strong class="purple">must</strong> be used only within the
<code>TessellationControl</code> or <code>Geometry</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-InvocationId-InvocationId-04258" href="chap15.html#VUID-InvocationId-InvocationId-04258"></a> <span class="vuid">VUID-InvocationId-InvocationId-04258</span><br>

The variable decorated with <code>InvocationId</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-InvocationId-InvocationId-04259" href="chap15.html#VUID-InvocationId-InvocationId-04259"></a> <span class="vuid">VUID-InvocationId-InvocationId-04259</span><br>

The variable decorated with <code>InvocationId</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>InvocationsPerPixelNV</code></dt>
<dd>
<p>Decorating a variable with the <code>InvocationsPerPixelNV</code> built-in
decoration will make that variable contain the maximum number of fragment
shader invocations per pixel, as derived from the effective shading rate for
the fragment.
If a primitive does not fully cover a pixel, the number of fragment shader
invocations for that pixel <strong class="purple">may</strong> be less than the value of
<code>InvocationsPerPixelNV</code>.
If the shading rate indicates a fragment covering multiple pixels, then
<code>InvocationsPerPixelNV</code> will be one.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-InvocationsPerPixelNV-InvocationsPerPixelNV-04260" href="chap15.html#VUID-InvocationsPerPixelNV-InvocationsPerPixelNV-04260"></a> <span class="vuid">VUID-InvocationsPerPixelNV-InvocationsPerPixelNV-04260</span><br>

The <code>InvocationsPerPixelNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-InvocationsPerPixelNV-InvocationsPerPixelNV-04261" href="chap15.html#VUID-InvocationsPerPixelNV-InvocationsPerPixelNV-04261"></a> <span class="vuid">VUID-InvocationsPerPixelNV-InvocationsPerPixelNV-04261</span><br>

The variable decorated with <code>InvocationsPerPixelNV</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-InvocationsPerPixelNV-InvocationsPerPixelNV-04262" href="chap15.html#VUID-InvocationsPerPixelNV-InvocationsPerPixelNV-04262"></a> <span class="vuid">VUID-InvocationsPerPixelNV-InvocationsPerPixelNV-04262</span><br>

The variable decorated with <code>InvocationsPerPixelNV</code> <strong class="purple">must</strong> be declared
as a scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>InstanceIndex</code></dt>
<dd>
<p>Decorating a variable in a vertex shader with the <code>InstanceIndex</code>
built-in decoration will make that variable contain the index of the
instance that is being processed by the current vertex shader invocation.
<code>InstanceIndex</code> begins at the <code>firstInstance</code> parameter to
<a href="chap21.html#vkCmdDraw">vkCmdDraw</a> or <a href="chap21.html#vkCmdDrawIndexed">vkCmdDrawIndexed</a> or at the <code>firstInstance</code>
member of a structure consumed by <a href="chap21.html#vkCmdDrawIndirect">vkCmdDrawIndirect</a> or
<a href="chap21.html#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-InstanceIndex-InstanceIndex-04263" href="chap15.html#VUID-InstanceIndex-InstanceIndex-04263"></a> <span class="vuid">VUID-InstanceIndex-InstanceIndex-04263</span><br>

The <code>InstanceIndex</code> decoration <strong class="purple">must</strong> be used only within the
<code>Vertex</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-InstanceIndex-InstanceIndex-04264" href="chap15.html#VUID-InstanceIndex-InstanceIndex-04264"></a> <span class="vuid">VUID-InstanceIndex-InstanceIndex-04264</span><br>

The variable decorated with <code>InstanceIndex</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-InstanceIndex-InstanceIndex-04265" href="chap15.html#VUID-InstanceIndex-InstanceIndex-04265"></a> <span class="vuid">VUID-InstanceIndex-InstanceIndex-04265</span><br>

The variable decorated with <code>InstanceIndex</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-launchid" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>LaunchIdKHR</code></dt>
<dd>
<p>A variable decorated with the <code>LaunchIdKHR</code> decoration will specify the
index of the work item being processed.
One work item is generated for each of the <code>width</code> × <code>height</code>
× <code>depth</code> items dispatched by a <a href="chap38.html#vkCmdTraceRaysKHR">vkCmdTraceRaysKHR</a> command.
All shader invocations inherit the same value for variables decorated with
<code>LaunchIdKHR</code>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-LaunchIdKHR-LaunchIdKHR-04266" href="chap15.html#VUID-LaunchIdKHR-LaunchIdKHR-04266"></a> <span class="vuid">VUID-LaunchIdKHR-LaunchIdKHR-04266</span><br>

The <code>LaunchIdKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>RayGenerationKHR</code>, <code>IntersectionKHR</code>, <code>AnyHitKHR</code>,
<code>ClosestHitKHR</code>, <code>MissKHR</code>, or <code>CallableKHR</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-LaunchIdKHR-LaunchIdKHR-04267" href="chap15.html#VUID-LaunchIdKHR-LaunchIdKHR-04267"></a> <span class="vuid">VUID-LaunchIdKHR-LaunchIdKHR-04267</span><br>

The variable decorated with <code>LaunchIdKHR</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-LaunchIdKHR-LaunchIdKHR-04268" href="chap15.html#VUID-LaunchIdKHR-LaunchIdKHR-04268"></a> <span class="vuid">VUID-LaunchIdKHR-LaunchIdKHR-04268</span><br>

The variable decorated with <code>LaunchIdKHR</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-launchsize" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>LaunchSizeKHR</code></dt>
<dd>
<p>A variable decorated with the <code>LaunchSizeKHR</code> decoration will contain the
<code>width</code>, <code>height</code>, and <code>depth</code> dimensions passed to the
<a href="chap38.html#vkCmdTraceRaysKHR">vkCmdTraceRaysKHR</a> command that initiated this shader execution.
The <code>width</code> is in the first component, the <code>height</code> is in the second
component, and the <code>depth</code> is in the third component.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-LaunchSizeKHR-LaunchSizeKHR-04269" href="chap15.html#VUID-LaunchSizeKHR-LaunchSizeKHR-04269"></a> <span class="vuid">VUID-LaunchSizeKHR-LaunchSizeKHR-04269</span><br>

The <code>LaunchSizeKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>RayGenerationKHR</code>, <code>IntersectionKHR</code>, <code>AnyHitKHR</code>,
<code>ClosestHitKHR</code>, <code>MissKHR</code>, or <code>CallableKHR</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-LaunchSizeKHR-LaunchSizeKHR-04270" href="chap15.html#VUID-LaunchSizeKHR-LaunchSizeKHR-04270"></a> <span class="vuid">VUID-LaunchSizeKHR-LaunchSizeKHR-04270</span><br>

The variable decorated with <code>LaunchSizeKHR</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-LaunchSizeKHR-LaunchSizeKHR-04271" href="chap15.html#VUID-LaunchSizeKHR-LaunchSizeKHR-04271"></a> <span class="vuid">VUID-LaunchSizeKHR-LaunchSizeKHR-04271</span><br>

The variable decorated with <code>LaunchSizeKHR</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-layer" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>Layer</code></dt>
<dd>
<p>Decorating a variable with the <code>Layer</code> built-in decoration will make that
variable contain the select layer of a multi-layer framebuffer attachment.</p>
<div class="paragraph">
<p>In a
mesh,
vertex, tessellation evaluation, or
geometry shader, any variable decorated with <code>Layer</code> can be written with
the framebuffer layer index to which the primitive produced by that shader
will be directed.</p>
</div>
<div class="paragraph">
<p>The last active
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> (in pipeline order) controls the <code>Layer</code> that is used.
Outputs in previous shader stages are not used, even if the last stage fails
to write the <code>Layer</code>.</p>
</div>
<div class="paragraph">
<p>If the last active
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> shader entry point’s interface does not include a variable decorated
with <code>Layer</code>, then the first layer is used.
If a <a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> shader entry point’s interface includes a variable decorated with
<code>Layer</code>, it <strong class="purple">must</strong> write the same value to <code>Layer</code> for all output
vertices of a given primitive.
If the <code>Layer</code> value is less than 0 or greater than or equal to the
number of layers in the framebuffer, then primitives <strong class="purple">may</strong> still be
rasterized, fragment shaders <strong class="purple">may</strong> be executed, and the framebuffer values
for all layers are undefined.</p>
</div>
<div class="paragraph">
<p>If a variable with the <code>Layer</code> decoration is also decorated with
<code>ViewportRelativeNV</code>, then the <code>ViewportIndex</code> is added to the layer
that is used for rendering and that is made available in the fragment
shader.
If the shader writes to a variable decorated <code>ViewportMaskNV</code>, then the
layer selected has a different value for each viewport a primitive is
rendered to.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, a variable decorated with <code>Layer</code> contains the
layer index of the primitive that the fragment invocation belongs to.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-Layer-Layer-04272" href="chap15.html#VUID-Layer-Layer-04272"></a> <span class="vuid">VUID-Layer-Layer-04272</span><br>

The <code>Layer</code> decoration <strong class="purple">must</strong> be used only within the <code>MeshNV</code>,
<code>Vertex</code>, <code>TessellationEvaluation</code>, <code>Geometry</code>, or
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-Layer-Layer-04273" href="chap15.html#VUID-Layer-Layer-04273"></a> <span class="vuid">VUID-Layer-Layer-04273</span><br>

If the <a href="chap41.html#features-shaderOutputLayer"><code>shaderOutputLayer</code></a> feature
is not enabled then the <code>Layer</code> decoration <strong class="purple">must</strong> be used only within
the <code>Geometry</code> or <code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-Layer-Layer-04274" href="chap15.html#VUID-Layer-Layer-04274"></a> <span class="vuid">VUID-Layer-Layer-04274</span><br>

The variable decorated with <code>Layer</code> within the <code>MeshNV</code>,
<code>Vertex</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-Layer-Layer-04275" href="chap15.html#VUID-Layer-Layer-04275"></a> <span class="vuid">VUID-Layer-Layer-04275</span><br>

The variable decorated with <code>Layer</code> within the <code>Fragment</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-Layer-Layer-04276" href="chap15.html#VUID-Layer-Layer-04276"></a> <span class="vuid">VUID-Layer-Layer-04276</span><br>

The variable decorated with <code>Layer</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-layerpv" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>LayerPerViewNV</code></dt>
<dd>
<p>Decorating a variable with the <code>LayerPerViewNV</code> built-in decoration will
make that variable contain the per-view layer information.
The per-view layer has the same semantics as <code>Layer</code>, for each view.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-LayerPerViewNV-LayerPerViewNV-04277" href="chap15.html#VUID-LayerPerViewNV-LayerPerViewNV-04277"></a> <span class="vuid">VUID-LayerPerViewNV-LayerPerViewNV-04277</span><br>

The <code>LayerPerViewNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-LayerPerViewNV-LayerPerViewNV-04278" href="chap15.html#VUID-LayerPerViewNV-LayerPerViewNV-04278"></a> <span class="vuid">VUID-LayerPerViewNV-LayerPerViewNV-04278</span><br>

The variable decorated with <code>LayerPerViewNV</code> <strong class="purple">must</strong> be declared using
the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-LayerPerViewNV-LayerPerViewNV-04279" href="chap15.html#VUID-LayerPerViewNV-LayerPerViewNV-04279"></a> <span class="vuid">VUID-LayerPerViewNV-LayerPerViewNV-04279</span><br>

The variable decorated with <code>LayerPerViewNV</code> <strong class="purple">must</strong> also be decorated
with the <code>PerViewNV</code> decoration</p>
</li>
<li>
<p><a id="VUID-LayerPerViewNV-LayerPerViewNV-04280" href="chap15.html#VUID-LayerPerViewNV-LayerPerViewNV-04280"></a> <span class="vuid">VUID-LayerPerViewNV-LayerPerViewNV-04280</span><br>

The variable decorated with <code>LayerPerViewNV</code> <strong class="purple">must</strong> be declared as an
array of scalar 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>LocalInvocationId</code></dt>
<dd>
<p>Decorating a variable with the <code>LocalInvocationId</code> built-in decoration
will make that variable contain the location of the current
task, mesh, or
compute shader invocation within the local workgroup.
Each component ranges from zero through to the size of the workgroup in that
dimension minus one.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If the size of the workgroup in a particular dimension is one, then the
<code>LocalInvocationId</code> in that dimension will be zero.
If the workgroup is effectively two-dimensional, then
<code>LocalInvocationId.z</code> will be zero.
If the workgroup is effectively one-dimensional, then both
<code>LocalInvocationId.y</code> and <code>LocalInvocationId.z</code> will be zero.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-LocalInvocationId-LocalInvocationId-04281" href="chap15.html#VUID-LocalInvocationId-LocalInvocationId-04281"></a> <span class="vuid">VUID-LocalInvocationId-LocalInvocationId-04281</span><br>

The <code>LocalInvocationId</code> decoration <strong class="purple">must</strong> be used only within the
<code>GLCompute</code>, <code>MeshNV</code>, or <code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-LocalInvocationId-LocalInvocationId-04282" href="chap15.html#VUID-LocalInvocationId-LocalInvocationId-04282"></a> <span class="vuid">VUID-LocalInvocationId-LocalInvocationId-04282</span><br>

The variable decorated with <code>LocalInvocationId</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-LocalInvocationId-LocalInvocationId-04283" href="chap15.html#VUID-LocalInvocationId-LocalInvocationId-04283"></a> <span class="vuid">VUID-LocalInvocationId-LocalInvocationId-04283</span><br>

The variable decorated with <code>LocalInvocationId</code> <strong class="purple">must</strong> be declared as
a three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>LocalInvocationIndex</code></dt>
<dd>
<p>Decorating a variable with the <code>LocalInvocationIndex</code> built-in decoration
will make that variable contain a one-dimensional representation of
<code>LocalInvocationId</code>.
This is computed as:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="n">LocalInvocationIndex</span> <span class="o">=</span>
    <span class="n">LocalInvocationId</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="n">WorkgroupSize</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">WorkgroupSize</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span>
    <span class="n">LocalInvocationId</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">WorkgroupSize</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span>
    <span class="n">LocalInvocationId</span><span class="p">.</span><span class="n">x</span><span class="p">;</span></code></pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-LocalInvocationIndex-LocalInvocationIndex-04284" href="chap15.html#VUID-LocalInvocationIndex-LocalInvocationIndex-04284"></a> <span class="vuid">VUID-LocalInvocationIndex-LocalInvocationIndex-04284</span><br>

The <code>LocalInvocationIndex</code> decoration <strong class="purple">must</strong> be used only within the
<code>GLCompute</code>, <code>MeshNV</code>, or <code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-LocalInvocationIndex-LocalInvocationIndex-04285" href="chap15.html#VUID-LocalInvocationIndex-LocalInvocationIndex-04285"></a> <span class="vuid">VUID-LocalInvocationIndex-LocalInvocationIndex-04285</span><br>

The variable decorated with <code>LocalInvocationIndex</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-LocalInvocationIndex-LocalInvocationIndex-04286" href="chap15.html#VUID-LocalInvocationIndex-LocalInvocationIndex-04286"></a> <span class="vuid">VUID-LocalInvocationIndex-LocalInvocationIndex-04286</span><br>

The variable decorated with <code>LocalInvocationIndex</code> <strong class="purple">must</strong> be declared
as a scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-meshviewcount" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>MeshViewCountNV</code></dt>
<dd>
<p>Decorating a variable with the <code>MeshViewCountNV</code> built-in decoration will
make that variable contain the number of views processed by the current mesh
or task shader invocations.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-MeshViewCountNV-MeshViewCountNV-04287" href="chap15.html#VUID-MeshViewCountNV-MeshViewCountNV-04287"></a> <span class="vuid">VUID-MeshViewCountNV-MeshViewCountNV-04287</span><br>

The <code>MeshViewCountNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code> or <code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-MeshViewCountNV-MeshViewCountNV-04288" href="chap15.html#VUID-MeshViewCountNV-MeshViewCountNV-04288"></a> <span class="vuid">VUID-MeshViewCountNV-MeshViewCountNV-04288</span><br>

The variable decorated with <code>MeshViewCountNV</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-MeshViewCountNV-MeshViewCountNV-04289" href="chap15.html#VUID-MeshViewCountNV-MeshViewCountNV-04289"></a> <span class="vuid">VUID-MeshViewCountNV-MeshViewCountNV-04289</span><br>

The variable decorated with <code>MeshViewCountNV</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-meshviewindices" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>MeshViewIndicesNV</code></dt>
<dd>
<p>Decorating a variable with the <code>MeshViewIndicesNV</code> built-in decoration
will make that variable contain the mesh view indices.
The mesh view indices is an array of values where each element holds the
view number of one of the views being processed by the current mesh or task
shader invocations.
The values of array elements with indices greater than or equal to
<code>MeshViewCountNV</code> are undefined.
If the value of <code>MeshViewIndicesNV</code>[i] is <span class="eq">j</span>, then any outputs
decorated with <code>PerViewNV</code> will take on the value of array element
<span class="eq">i</span> when processing primitives for view index <span class="eq">j</span>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-MeshViewIndicesNV-MeshViewIndicesNV-04290" href="chap15.html#VUID-MeshViewIndicesNV-MeshViewIndicesNV-04290"></a> <span class="vuid">VUID-MeshViewIndicesNV-MeshViewIndicesNV-04290</span><br>

The <code>MeshViewIndicesNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code> or <code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-MeshViewIndicesNV-MeshViewIndicesNV-04291" href="chap15.html#VUID-MeshViewIndicesNV-MeshViewIndicesNV-04291"></a> <span class="vuid">VUID-MeshViewIndicesNV-MeshViewIndicesNV-04291</span><br>

The variable decorated with <code>MeshViewIndicesNV</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-MeshViewIndicesNV-MeshViewIndicesNV-04292" href="chap15.html#VUID-MeshViewIndicesNV-MeshViewIndicesNV-04292"></a> <span class="vuid">VUID-MeshViewIndicesNV-MeshViewIndicesNV-04292</span><br>

The variable decorated with <code>MeshViewIndicesNV</code> <strong class="purple">must</strong> be declared as
an array of scalar 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>NumSubgroups</code></dt>
<dd>
<p>Decorating a variable with the <code>NumSubgroups</code> built-in decoration will
make that variable contain the number of subgroups in the local workgroup.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-NumSubgroups-NumSubgroups-04293" href="chap15.html#VUID-NumSubgroups-NumSubgroups-04293"></a> <span class="vuid">VUID-NumSubgroups-NumSubgroups-04293</span><br>

The <code>NumSubgroups</code> decoration <strong class="purple">must</strong> be used only within the
<code>GLCompute</code>, <code>MeshNV</code>, or <code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-NumSubgroups-NumSubgroups-04294" href="chap15.html#VUID-NumSubgroups-NumSubgroups-04294"></a> <span class="vuid">VUID-NumSubgroups-NumSubgroups-04294</span><br>

The variable decorated with <code>NumSubgroups</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-NumSubgroups-NumSubgroups-04295" href="chap15.html#VUID-NumSubgroups-NumSubgroups-04295"></a> <span class="vuid">VUID-NumSubgroups-NumSubgroups-04295</span><br>

The variable decorated with <code>NumSubgroups</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>NumWorkgroups</code></dt>
<dd>
<p>Decorating a variable with the <code>NumWorkgroups</code> built-in decoration will
make that variable contain the number of local workgroups that are part of
the dispatch that the invocation belongs to.
Each component is equal to the values of the workgroup count parameters
passed into the dispatching commands.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-NumWorkgroups-NumWorkgroups-04296" href="chap15.html#VUID-NumWorkgroups-NumWorkgroups-04296"></a> <span class="vuid">VUID-NumWorkgroups-NumWorkgroups-04296</span><br>

The <code>NumWorkgroups</code> decoration <strong class="purple">must</strong> be used only within the
<code>GLCompute</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-NumWorkgroups-NumWorkgroups-04297" href="chap15.html#VUID-NumWorkgroups-NumWorkgroups-04297"></a> <span class="vuid">VUID-NumWorkgroups-NumWorkgroups-04297</span><br>

The variable decorated with <code>NumWorkgroups</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-NumWorkgroups-NumWorkgroups-04298" href="chap15.html#VUID-NumWorkgroups-NumWorkgroups-04298"></a> <span class="vuid">VUID-NumWorkgroups-NumWorkgroups-04298</span><br>

The variable decorated with <code>NumWorkgroups</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-objectraydirection" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ObjectRayDirectionKHR</code></dt>
<dd>
<p>A variable decorated with the <code>ObjectRayDirectionKHR</code> decoration will
specify the direction of the ray being processed, in object space.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ObjectRayDirectionKHR-ObjectRayDirectionKHR-04299" href="chap15.html#VUID-ObjectRayDirectionKHR-ObjectRayDirectionKHR-04299"></a> <span class="vuid">VUID-ObjectRayDirectionKHR-ObjectRayDirectionKHR-04299</span><br>

The <code>ObjectRayDirectionKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, or <code>ClosestHitKHR</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ObjectRayDirectionKHR-ObjectRayDirectionKHR-04300" href="chap15.html#VUID-ObjectRayDirectionKHR-ObjectRayDirectionKHR-04300"></a> <span class="vuid">VUID-ObjectRayDirectionKHR-ObjectRayDirectionKHR-04300</span><br>

The variable decorated with <code>ObjectRayDirectionKHR</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ObjectRayDirectionKHR-ObjectRayDirectionKHR-04301" href="chap15.html#VUID-ObjectRayDirectionKHR-ObjectRayDirectionKHR-04301"></a> <span class="vuid">VUID-ObjectRayDirectionKHR-ObjectRayDirectionKHR-04301</span><br>

The variable decorated with <code>ObjectRayDirectionKHR</code> <strong class="purple">must</strong> be declared
as a three-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-objectrayorigin" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ObjectRayOriginKHR</code></dt>
<dd>
<p>A variable decorated with the <code>ObjectRayOriginKHR</code> decoration will
specify the origin of the ray being processed, in object space.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ObjectRayOriginKHR-ObjectRayOriginKHR-04302" href="chap15.html#VUID-ObjectRayOriginKHR-ObjectRayOriginKHR-04302"></a> <span class="vuid">VUID-ObjectRayOriginKHR-ObjectRayOriginKHR-04302</span><br>

The <code>ObjectRayOriginKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, or <code>ClosestHitKHR</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ObjectRayOriginKHR-ObjectRayOriginKHR-04303" href="chap15.html#VUID-ObjectRayOriginKHR-ObjectRayOriginKHR-04303"></a> <span class="vuid">VUID-ObjectRayOriginKHR-ObjectRayOriginKHR-04303</span><br>

The variable decorated with <code>ObjectRayOriginKHR</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ObjectRayOriginKHR-ObjectRayOriginKHR-04304" href="chap15.html#VUID-ObjectRayOriginKHR-ObjectRayOriginKHR-04304"></a> <span class="vuid">VUID-ObjectRayOriginKHR-ObjectRayOriginKHR-04304</span><br>

The variable decorated with <code>ObjectRayOriginKHR</code> <strong class="purple">must</strong> be declared as
a three-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-objecttoworld" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ObjectToWorldKHR</code></dt>
<dd>
<p>A variable decorated with the <code>ObjectToWorldKHR</code> decoration will contain
the current object-to-world transformation matrix, which is determined by
the instance of the current intersection.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ObjectToWorldKHR-ObjectToWorldKHR-04305" href="chap15.html#VUID-ObjectToWorldKHR-ObjectToWorldKHR-04305"></a> <span class="vuid">VUID-ObjectToWorldKHR-ObjectToWorldKHR-04305</span><br>

The <code>ObjectToWorldKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, or <code>ClosestHitKHR</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ObjectToWorldKHR-ObjectToWorldKHR-04306" href="chap15.html#VUID-ObjectToWorldKHR-ObjectToWorldKHR-04306"></a> <span class="vuid">VUID-ObjectToWorldKHR-ObjectToWorldKHR-04306</span><br>

The variable decorated with <code>ObjectToWorldKHR</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ObjectToWorldKHR-ObjectToWorldKHR-04307" href="chap15.html#VUID-ObjectToWorldKHR-ObjectToWorldKHR-04307"></a> <span class="vuid">VUID-ObjectToWorldKHR-ObjectToWorldKHR-04307</span><br>

The variable decorated with <code>ObjectToWorldKHR</code> <strong class="purple">must</strong> be declared as a
matrix with four columns of three-component vectors of 32-bit
floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PatchVertices</code></dt>
<dd>
<p>Decorating a variable with the <code>PatchVertices</code> built-in decoration will
make that variable contain the number of vertices in the input patch being
processed by the shader.
In a Tessellation Control Shader, this is the same as the
name:patchControlPoints member of
<a href="chap23.html#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a>.
In a Tessellation Evaluation Shader, <code>PatchVertices</code> is equal to the
tessellation control output patch size.
When the same shader is used in different pipelines where the patch sizes
are configured differently, the value of the <code>PatchVertices</code> variable
will also differ.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PatchVertices-PatchVertices-04308" href="chap15.html#VUID-PatchVertices-PatchVertices-04308"></a> <span class="vuid">VUID-PatchVertices-PatchVertices-04308</span><br>

The <code>PatchVertices</code> decoration <strong class="purple">must</strong> be used only within the
<code>TessellationControl</code> or <code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PatchVertices-PatchVertices-04309" href="chap15.html#VUID-PatchVertices-PatchVertices-04309"></a> <span class="vuid">VUID-PatchVertices-PatchVertices-04309</span><br>

The variable decorated with <code>PatchVertices</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PatchVertices-PatchVertices-04310" href="chap15.html#VUID-PatchVertices-PatchVertices-04310"></a> <span class="vuid">VUID-PatchVertices-PatchVertices-04310</span><br>

The variable decorated with <code>PatchVertices</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PointCoord</code></dt>
<dd>
<p>Decorating a variable with the <code>PointCoord</code> built-in decoration will make
that variable contain the coordinate of the current fragment within the
point being rasterized, normalized to the size of the point with origin in
the upper left corner of the point, as described in
<a href="chap27.html#primsrast-points-basic">Basic Point Rasterization</a>.
If the primitive the fragment shader invocation belongs to is not a point,
then the variable decorated with <code>PointCoord</code> contains an undefined
value.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Depending on how the point is rasterized, <code>PointCoord</code> <strong class="purple">may</strong> never reach
<span class="eq">(0,0)</span> or <span class="eq">(1,1)</span>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PointCoord-PointCoord-04311" href="chap15.html#VUID-PointCoord-PointCoord-04311"></a> <span class="vuid">VUID-PointCoord-PointCoord-04311</span><br>

The <code>PointCoord</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PointCoord-PointCoord-04312" href="chap15.html#VUID-PointCoord-PointCoord-04312"></a> <span class="vuid">VUID-PointCoord-PointCoord-04312</span><br>

The variable decorated with <code>PointCoord</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PointCoord-PointCoord-04313" href="chap15.html#VUID-PointCoord-PointCoord-04313"></a> <span class="vuid">VUID-PointCoord-PointCoord-04313</span><br>

The variable decorated with <code>PointCoord</code> <strong class="purple">must</strong> be declared as a
two-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PointSize</code></dt>
<dd>
<p>Decorating a variable with the <code>PointSize</code> built-in decoration will make
that variable contain the size of point primitives.
The value written to the variable decorated with <code>PointSize</code> by the last
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> in the pipeline is used as the framebuffer-space size of points
produced by rasterization.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When <code>PointSize</code> decorates a variable in the <code>Input</code> <code>Storage</code> <code>Class</code>,
it contains the data written to the output variable decorated with
<code>PointSize</code> from the previous shader stage.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PointSize-PointSize-04314" href="chap15.html#VUID-PointSize-PointSize-04314"></a> <span class="vuid">VUID-PointSize-PointSize-04314</span><br>

The <code>PointSize</code> decoration <strong class="purple">must</strong> be used only within the <code>MeshNV</code>,
<code>Vertex</code>, <code>TessellationControl</code>, <code>TessellationEvaluation</code>, or
<code>Geometry</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PointSize-PointSize-04315" href="chap15.html#VUID-PointSize-PointSize-04315"></a> <span class="vuid">VUID-PointSize-PointSize-04315</span><br>

The variable decorated with <code>PointSize</code> within the <code>MeshNV</code> or
<code>Vertex</code> <code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Output</code>
<code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PointSize-PointSize-04316" href="chap15.html#VUID-PointSize-PointSize-04316"></a> <span class="vuid">VUID-PointSize-PointSize-04316</span><br>

The variable decorated with <code>PointSize</code> within the
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> not be declared using a <code>Storage</code> <code>Class</code> other than
<code>Input</code> or <code>Output</code></p>
</li>
<li>
<p><a id="VUID-PointSize-PointSize-04317" href="chap15.html#VUID-PointSize-PointSize-04317"></a> <span class="vuid">VUID-PointSize-PointSize-04317</span><br>

The variable decorated with <code>PointSize</code> <strong class="purple">must</strong> be declared as a scalar
32-bit floating-point value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>Position</code></dt>
<dd>
<p>Decorating a variable with the <code>Position</code> built-in decoration will make
that variable contain the position of the current vertex.
In the last <a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization
shader stage</a>, the value of the variable decorated with <code>Position</code> is
used in subsequent primitive assembly, clipping, and rasterization
operations.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When <code>Position</code> decorates a variable in the <code>Input</code> <code>Storage</code> <code>Class</code>, it
contains the data written to the output variable decorated with
<code>Position</code> from the previous shader stage.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-Position-Position-04318" href="chap15.html#VUID-Position-Position-04318"></a> <span class="vuid">VUID-Position-Position-04318</span><br>

The <code>Position</code> decoration <strong class="purple">must</strong> be used only within the <code>MeshNV</code>,
<code>Vertex</code>, <code>TessellationControl</code>, <code>TessellationEvaluation</code>, or
<code>Geometry</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-Position-Position-04319" href="chap15.html#VUID-Position-Position-04319"></a> <span class="vuid">VUID-Position-Position-04319</span><br>

The variable decorated with <code>Position</code> within <code>MeshNV</code> or
<code>Vertex</code> <code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Output</code>
<code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-Position-Position-04320" href="chap15.html#VUID-Position-Position-04320"></a> <span class="vuid">VUID-Position-Position-04320</span><br>

The variable decorated with <code>Position</code> within
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> not be declared using a <code>Storage</code> <code>Class</code> other than
<code>Input</code> or <code>Output</code></p>
</li>
<li>
<p><a id="VUID-Position-Position-04321" href="chap15.html#VUID-Position-Position-04321"></a> <span class="vuid">VUID-Position-Position-04321</span><br>

The variable decorated with <code>Position</code> <strong class="purple">must</strong> be declared as a
four-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-positionperview" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PositionPerViewNV</code></dt>
<dd>
<p>Decorating a variable with the <code>PositionPerViewNV</code> built-in decoration
will make that variable contain the position of the current vertex, for each
view.</p>
<div class="paragraph">
<p>Elements of the array correspond to views in a multiview subpass, and those
elements corresponding to views in the view mask of the subpass the shader
is compiled against will be used as the position value for those views.
For the final
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> in the pipeline, values written to an output variable decorated with
<code>PositionPerViewNV</code> are used in subsequent primitive assembly, clipping,
and rasterization operations, as with <code>Position</code>.
<code>PositionPerViewNV</code> output in an earlier
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> is available as an input in the subsequent
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a>.</p>
</div>
<div class="paragraph">
<p>If a shader is compiled against a subpass that has the
<code>VK_SUBPASS_DESCRIPTION_PER_VIEW_POSITION_X_ONLY_BIT_NVX</code> bit set, then
the position values for each view <strong class="purple">must</strong> not differ in any component other
than the X component.
If the values do differ, one will be chosen in an implementation-dependent
manner.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PositionPerViewNV-PositionPerViewNV-04322" href="chap15.html#VUID-PositionPerViewNV-PositionPerViewNV-04322"></a> <span class="vuid">VUID-PositionPerViewNV-PositionPerViewNV-04322</span><br>

The <code>PositionPerViewNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code>, <code>Vertex</code>, <code>TessellationControl</code>,
<code>TessellationEvaluation</code>, or <code>Geometry</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PositionPerViewNV-PositionPerViewNV-04323" href="chap15.html#VUID-PositionPerViewNV-PositionPerViewNV-04323"></a> <span class="vuid">VUID-PositionPerViewNV-PositionPerViewNV-04323</span><br>

The variable decorated with <code>PositionPerViewNV</code> within the
<code>Vertex</code>, or <code>MeshNV</code> <code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PositionPerViewNV-PositionPerViewNV-04324" href="chap15.html#VUID-PositionPerViewNV-PositionPerViewNV-04324"></a> <span class="vuid">VUID-PositionPerViewNV-PositionPerViewNV-04324</span><br>

The variable decorated with <code>PositionPerViewNV</code> within the
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> not be declared using a <code>Storage</code> <code>Class</code> other than
<code>Input</code> or <code>Output</code></p>
</li>
<li>
<p><a id="VUID-PositionPerViewNV-PositionPerViewNV-04325" href="chap15.html#VUID-PositionPerViewNV-PositionPerViewNV-04325"></a> <span class="vuid">VUID-PositionPerViewNV-PositionPerViewNV-04325</span><br>

The variable decorated with <code>PositionPerViewNV</code> <strong class="purple">must</strong> be declared as
an array of four-component vector of 32-bit floating-point values with
at least as many elements as the maximum view in the subpass’s view mask
plus one</p>
</li>
<li>
<p><a id="VUID-PositionPerViewNV-PositionPerViewNV-04326" href="chap15.html#VUID-PositionPerViewNV-PositionPerViewNV-04326"></a> <span class="vuid">VUID-PositionPerViewNV-PositionPerViewNV-04326</span><br>

The array variable decorated with <code>PositionPerViewNV</code> <strong class="purple">must</strong> only be
indexed by a constant or specialization constant</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-primitivecount" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PrimitiveCountNV</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>PrimitiveCountNV</code> decoration will make
that variable contain the primitive count.
The primitive count specifies the number of primitives in the output mesh
produced by the mesh shader that will be processed by subsequent pipeline
stages.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PrimitiveCountNV-PrimitiveCountNV-04327" href="chap15.html#VUID-PrimitiveCountNV-PrimitiveCountNV-04327"></a> <span class="vuid">VUID-PrimitiveCountNV-PrimitiveCountNV-04327</span><br>

The <code>PrimitiveCountNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveCountNV-PrimitiveCountNV-04328" href="chap15.html#VUID-PrimitiveCountNV-PrimitiveCountNV-04328"></a> <span class="vuid">VUID-PrimitiveCountNV-PrimitiveCountNV-04328</span><br>

The variable decorated with <code>PrimitiveCountNV</code> <strong class="purple">must</strong> be declared
using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveCountNV-PrimitiveCountNV-04329" href="chap15.html#VUID-PrimitiveCountNV-PrimitiveCountNV-04329"></a> <span class="vuid">VUID-PrimitiveCountNV-PrimitiveCountNV-04329</span><br>

The variable decorated with <code>PrimitiveCountNV</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PrimitiveId</code></dt>
<dd>
<p>Decorating a variable with the <code>PrimitiveId</code> built-in decoration will
make that variable contain the index of the current primitive.</p>
<div class="paragraph">
<p>The index of the first primitive generated by a drawing command is zero, and
the index is incremented after every individual point, line, or triangle
primitive is processed.</p>
</div>
<div class="paragraph">
<p>For triangles drawn as points or line segments (see <a href="chap27.html#primsrast-polygonmode">Polygon Mode</a>), the primitive index is incremented only once, even if
multiple points or lines are eventually drawn.</p>
</div>
<div class="paragraph">
<p>Variables decorated with <code>PrimitiveId</code> are reset to zero between each
instance drawn.</p>
</div>
<div class="paragraph">
<p>Restarting a primitive topology using primitive restart has no effect on the
value of variables decorated with <code>PrimitiveId</code>.</p>
</div>
<div class="paragraph">
<p>In tessellation control and tessellation evaluation shaders, it will contain
the index of the patch within the current set of rendering primitives that
corresponds to the shader invocation.</p>
</div>
<div class="paragraph">
<p>In a geometry shader, it will contain the number of primitives presented as
input to the shader since the current set of rendering primitives was
started.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, it will contain the primitive index written by the
mesh shader if a mesh shader is present, or the primitive index written by
the
geometry shader if a geometry shader is present, or with the value that
would have been presented as input to the geometry shader had it been
present.</p>
</div>
<div class="paragraph">
<p>In an intersection, any-hit, or closest hit shader, it will contain the
index within the geometry of the triangle or bounding box being processed.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>When the <code>PrimitiveId</code> decoration is applied to an output variable in the
mesh shader or
geometry shader, the resulting value is seen through the <code>PrimitiveId</code>
decorated input variable in the fragment shader.</p>
</div>
<div class="paragraph">
<p>The fragment shader using <code>PrimitiveId</code> will need to declare either the
<code>MeshShadingNV</code>,
<code>Geometry</code> or <code>Tessellation</code> capability to satisfy the requirement
SPIR-V has to use <code>PrimitiveId</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PrimitiveId-PrimitiveId-04330" href="chap15.html#VUID-PrimitiveId-PrimitiveId-04330"></a> <span class="vuid">VUID-PrimitiveId-PrimitiveId-04330</span><br>

The <code>PrimitiveId</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code>, <code>IntersectionKHR</code>, <code>AnyHitKHR</code>, <code>ClosestHitKHR</code>,
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, <code>Geometry</code>, or
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveId-Fragment-04331" href="chap15.html#VUID-PrimitiveId-Fragment-04331"></a> <span class="vuid">VUID-PrimitiveId-Fragment-04331</span><br>

If pipeline contains both the <code>Fragment</code> and <code>Geometry</code>
<code>Execution</code> <code>Model</code> and a variable decorated with <code>PrimitiveId</code> is read
from <code>Fragment</code> shader, then the <code>Geometry</code> shader <strong class="purple">must</strong> write to
the output variables decorated with <code>PrimitiveId</code> in all execution
paths</p>
</li>
<li>
<p><a id="VUID-PrimitiveId-Fragment-04332" href="chap15.html#VUID-PrimitiveId-Fragment-04332"></a> <span class="vuid">VUID-PrimitiveId-Fragment-04332</span><br>

If pipeline contains both the <code>Fragment</code> and <code>MeshNV</code>
<code>Execution</code> <code>Model</code> and a variable decorated with <code>PrimitiveId</code> is read
from <code>Fragment</code> shader, then the <code>MeshNV</code> shader <strong class="purple">must</strong> write to
the output variables decorated with <code>PrimitiveId</code> in all execution
paths</p>
</li>
<li>
<p><a id="VUID-PrimitiveId-Fragment-04333" href="chap15.html#VUID-PrimitiveId-Fragment-04333"></a> <span class="vuid">VUID-PrimitiveId-Fragment-04333</span><br>

If <code>Fragment</code> <code>Execution</code> <code>Model</code> contains a variable decorated with
<code>PrimitiveId</code>, then either the <code>MeshShadingNV</code>, <code>Geometry</code> or
<code>Tessellation</code> capability <strong class="purple">must</strong> also be declared</p>
</li>
<li>
<p><a id="VUID-PrimitiveId-PrimitiveId-04334" href="chap15.html#VUID-PrimitiveId-PrimitiveId-04334"></a> <span class="vuid">VUID-PrimitiveId-PrimitiveId-04334</span><br>

The variable decorated with <code>PrimitiveId</code> within the
<code>TessellationControl</code>, <code>TessellationEvaluation</code>, <code>Fragment</code>,
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, or <code>ClosestHitKHR</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveId-PrimitiveId-04335" href="chap15.html#VUID-PrimitiveId-PrimitiveId-04335"></a> <span class="vuid">VUID-PrimitiveId-PrimitiveId-04335</span><br>

The variable decorated with <code>PrimitiveId</code> within the <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Input</code> or <code>Output</code>
<code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveId-PrimitiveId-04336" href="chap15.html#VUID-PrimitiveId-PrimitiveId-04336"></a> <span class="vuid">VUID-PrimitiveId-PrimitiveId-04336</span><br>

The variable decorated with <code>PrimitiveId</code> within the <code>MeshNV</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveId-PrimitiveId-04337" href="chap15.html#VUID-PrimitiveId-PrimitiveId-04337"></a> <span class="vuid">VUID-PrimitiveId-PrimitiveId-04337</span><br>

The variable decorated with <code>PrimitiveId</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-primitiveindices" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PrimitiveIndicesNV</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>PrimitiveIndicesNV</code> decoration will make
that variable contain the output array of vertex index values.
Depending on the output primitive type declared using the execution mode,
the indices are split into groups of one (<code>OutputPoints</code>), two
(<code>OutputLinesNV</code>), or three (<code>OutputTriangles</code>) indices and each group
generates a primitive.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04338" href="chap15.html#VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04338"></a> <span class="vuid">VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04338</span><br>

The <code>PrimitiveIndicesNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04339" href="chap15.html#VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04339"></a> <span class="vuid">VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04339</span><br>

The variable decorated with <code>PrimitiveIndicesNV</code> <strong class="purple">must</strong> be declared
using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04340" href="chap15.html#VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04340"></a> <span class="vuid">VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04340</span><br>

The variable decorated with <code>PrimitiveIndicesNV</code> <strong class="purple">must</strong> be declared as
an array of scalar 32-bit integer values</p>
</li>
<li>
<p><a id="VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04341" href="chap15.html#VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04341"></a> <span class="vuid">VUID-PrimitiveIndicesNV-PrimitiveIndicesNV-04341</span><br>

All index values of the array decorated with <code>PrimitiveIndicesNV</code>
<strong class="purple">must</strong> be in the range <span class="eq">[0, N-1]</span>, where <span class="eq">N</span> is the value
specified by the <code>OutputVertices</code> <code>Execution</code> <code>Mode</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveIndicesNV-OutputPoints-04342" href="chap15.html#VUID-PrimitiveIndicesNV-OutputPoints-04342"></a> <span class="vuid">VUID-PrimitiveIndicesNV-OutputPoints-04342</span><br>

If the <code>Execution</code> <code>Mode</code> is <code>OutputPoints</code>, then the array decorated
with <code>PrimitiveIndicesNV</code> must be the size of the value specified by
<code>OutputPrimitivesNV</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveIndicesNV-OutputLinesNV-04343" href="chap15.html#VUID-PrimitiveIndicesNV-OutputLinesNV-04343"></a> <span class="vuid">VUID-PrimitiveIndicesNV-OutputLinesNV-04343</span><br>

If the <code>Execution</code> <code>Mode</code> is <code>OutputLinesNV</code>, then the array decorated
with <code>PrimitiveIndicesNV</code> must be the size of two times the value
specified by <code>OutputPrimitivesNV</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveIndicesNV-OutputTrianglesNV-04344" href="chap15.html#VUID-PrimitiveIndicesNV-OutputTrianglesNV-04344"></a> <span class="vuid">VUID-PrimitiveIndicesNV-OutputTrianglesNV-04344</span><br>

If the <code>Execution</code> <code>Mode</code> is <code>OutputTrianglesNV</code>, then the array
decorated with <code>PrimitiveIndicesNV</code> must be the size of three times
the value specified by <code>OutputPrimitivesNV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-primitiveshadingrate" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PrimitiveShadingRateKHR</code></dt>
<dd>
<p>Decorating a variable with the <code>PrimitiveShadingRateKHR</code> built-in
decoration will make that variable contain the
<a href="chap27.html#primsrast-fragment-shading-rate-primitive">primitive fragment shading
rate</a>.</p>
<div class="paragraph">
<p>The value written to the variable decorated with
<code>PrimitiveShadingRateKHR</code> by the last
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> in the pipeline is used as the
<a href="chap27.html#primsrast-fragment-shading-rate-primitive">primitive fragment shading
rate</a>.
Outputs in previous shader stages are ignored.</p>
</div>
<div class="paragraph">
<p>If the last active
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> shader entry point’s interface does not include a variable decorated
with <code>PrimitiveShadingRateKHR</code>, then it is as if the shader specified a
fragment shading rate value of 0, indicating a horizontal and vertical rate
of 1 pixel.</p>
</div>
<div class="paragraph">
<p>If a shader has <code>PrimitiveShadingRateKHR</code> in the output interface and
there is an execution path through the shader that does not write to it, its
value is undefined for executions of the shader that take that path.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04484" href="chap15.html#VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04484"></a> <span class="vuid">VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04484</span><br>

The <code>PrimitiveShadingRateKHR</code> decoration <strong class="purple">must</strong> be used only within
the <code>MeshNV</code>, <code>Vertex</code>, or <code>Geometry</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04485" href="chap15.html#VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04485"></a> <span class="vuid">VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04485</span><br>

The variable decorated with <code>PrimitiveShadingRateKHR</code> <strong class="purple">must</strong> be
declared using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04486" href="chap15.html#VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04486"></a> <span class="vuid">VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04486</span><br>

The variable decorated with <code>PrimitiveShadingRateKHR</code> <strong class="purple">must</strong> be
declared as a scalar 32-bit integer value</p>
</li>
<li>
<p><a id="VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04487" href="chap15.html#VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04487"></a> <span class="vuid">VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04487</span><br>

The value written to <code>PrimitiveShadingRateKHR</code> <strong class="purple">must</strong> include no more
than one of <code>Vertical2Pixels</code> and <code>Vertical4Pixels</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04488" href="chap15.html#VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04488"></a> <span class="vuid">VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04488</span><br>

The value written to <code>PrimitiveShadingRateKHR</code> <strong class="purple">must</strong> include no more
than one of <code>Horizontal2Pixels</code> and <code>Horizontal4Pixels</code></p>
</li>
<li>
<p><a id="VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04489" href="chap15.html#VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04489"></a> <span class="vuid">VUID-PrimitiveShadingRateKHR-PrimitiveShadingRateKHR-04489</span><br>

The value written to <code>PrimitiveShadingRateKHR</code> <strong class="purple">must</strong> not have any
bits set other than those defined by <strong>Fragment Shading Rate Flags</strong>
enumerants in the SPIR-V specification</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-raygeometryindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>RayGeometryIndexKHR</code></dt>
<dd>
<p>A variable decorated with the <code>RayGeometryIndexKHR</code> decoration will
contain the <a href="chap36.html#acceleration-structure-geometry-index">geometry index</a> for
the acceleration structure geometry currently being shaded.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-RayGeometryIndexKHR-RayGeometryIndexKHR-04345" href="chap15.html#VUID-RayGeometryIndexKHR-RayGeometryIndexKHR-04345"></a> <span class="vuid">VUID-RayGeometryIndexKHR-RayGeometryIndexKHR-04345</span><br>

The <code>RayGeometryIndexKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, or <code>ClosestHitKHR</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-RayGeometryIndexKHR-RayGeometryIndexKHR-04346" href="chap15.html#VUID-RayGeometryIndexKHR-RayGeometryIndexKHR-04346"></a> <span class="vuid">VUID-RayGeometryIndexKHR-RayGeometryIndexKHR-04346</span><br>

The variable decorated with <code>RayGeometryIndexKHR</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-RayGeometryIndexKHR-RayGeometryIndexKHR-04347" href="chap15.html#VUID-RayGeometryIndexKHR-RayGeometryIndexKHR-04347"></a> <span class="vuid">VUID-RayGeometryIndexKHR-RayGeometryIndexKHR-04347</span><br>

The variable decorated with <code>RayGeometryIndexKHR</code> <strong class="purple">must</strong> be declared
as a scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-raytmax" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>RayTmaxKHR</code></dt>
<dd>
<p>A variable decorated with the <code>RayTmaxKHR</code> decoration will contain the
parametric <span class="eq">t<sub>max</sub></span> value of the ray being processed.
The value is independent of the space in which the ray origin and direction
exist.
The value is initialized to the parameter passed into <code>OpTraceRayKHR</code>.</p>
<div class="paragraph">
<p>The <span class="eq">t<sub>max</sub></span> value changes throughout the lifetime of the ray that
produced the intersection.
In the closest hit shader, the value reflects the closest distance to the
intersected primitive.
In the any-hit shader, it reflects the distance to the primitive currently
being intersected.
In the intersection shader, it reflects the distance to the closest
primitive intersected so far or the initial value.
The value can change in the intersection shader after calling
<code>OpReportIntersectionKHR</code> if the corresponding any-hit shader does not
ignore the intersection.
In a miss shader, the value is identical to the parameter passed into
<code>OpTraceRayKHR</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-RayTmaxKHR-RayTmaxKHR-04348" href="chap15.html#VUID-RayTmaxKHR-RayTmaxKHR-04348"></a> <span class="vuid">VUID-RayTmaxKHR-RayTmaxKHR-04348</span><br>

The <code>RayTmaxKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, <code>ClosestHitKHR</code>, or
<code>MissKHR</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-RayTmaxKHR-RayTmaxKHR-04349" href="chap15.html#VUID-RayTmaxKHR-RayTmaxKHR-04349"></a> <span class="vuid">VUID-RayTmaxKHR-RayTmaxKHR-04349</span><br>

The variable decorated with <code>RayTmaxKHR</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-RayTmaxKHR-RayTmaxKHR-04350" href="chap15.html#VUID-RayTmaxKHR-RayTmaxKHR-04350"></a> <span class="vuid">VUID-RayTmaxKHR-RayTmaxKHR-04350</span><br>

The variable decorated with <code>RayTmaxKHR</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit floating-point value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-raytmin" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>RayTminKHR</code></dt>
<dd>
<p>A variable decorated with the <code>RayTminKHR</code> decoration will contain the
parametric <span class="eq">t<sub>min</sub></span> value of the ray being processed.
The value is independent of the space in which the ray origin and direction
exist.
The value is the parameter passed into <code>OpTraceRayKHR</code>.</p>
<div class="paragraph">
<p>The <span class="eq">t<sub>min</sub></span> value remains constant for the duration of the ray query.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-RayTminKHR-RayTminKHR-04351" href="chap15.html#VUID-RayTminKHR-RayTminKHR-04351"></a> <span class="vuid">VUID-RayTminKHR-RayTminKHR-04351</span><br>

The <code>RayTminKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, <code>ClosestHitKHR</code>, or
<code>MissKHR</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-RayTminKHR-RayTminKHR-04352" href="chap15.html#VUID-RayTminKHR-RayTminKHR-04352"></a> <span class="vuid">VUID-RayTminKHR-RayTminKHR-04352</span><br>

The variable decorated with <code>RayTminKHR</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-RayTminKHR-RayTminKHR-04353" href="chap15.html#VUID-RayTminKHR-RayTminKHR-04353"></a> <span class="vuid">VUID-RayTminKHR-RayTminKHR-04353</span><br>

The variable decorated with <code>RayTminKHR</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit floating-point value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SampleId</code></dt>
<dd>
<p>Decorating a variable with the <code>SampleId</code> built-in decoration will make
that variable contain the <a href="chap27.html#primsrast-multisampling-coverage-mask">coverage
index</a> for the current fragment shader invocation.
<code>SampleId</code> ranges from zero to the number of samples in the framebuffer
minus one.
If a fragment shader entry point’s interface includes an input variable
decorated with <code>SampleId</code>, <a href="chap27.html#primsrast-sampleshading">Sample Shading</a> is
considered enabled with a <code>minSampleShading</code> value of 1.0.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SampleId-SampleId-04354" href="chap15.html#VUID-SampleId-SampleId-04354"></a> <span class="vuid">VUID-SampleId-SampleId-04354</span><br>

The <code>SampleId</code> decoration <strong class="purple">must</strong> be used only within the <code>Fragment</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-SampleId-SampleId-04355" href="chap15.html#VUID-SampleId-SampleId-04355"></a> <span class="vuid">VUID-SampleId-SampleId-04355</span><br>

The variable decorated with <code>SampleId</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SampleId-SampleId-04356" href="chap15.html#VUID-SampleId-SampleId-04356"></a> <span class="vuid">VUID-SampleId-SampleId-04356</span><br>

The variable decorated with <code>SampleId</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-samplemask" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SampleMask</code></dt>
<dd>
<p>Decorating a variable with the <code>SampleMask</code> built-in decoration will make
any variable contain the <a href="chap28.html#fragops-shader-samplemask">sample mask</a> for the
current fragment shader invocation.</p>
<div class="paragraph">
<p>A variable in the <code>Input</code> storage class decorated with <code>SampleMask</code>
will contain a bitmask of the set of samples covered by the primitive
generating the fragment during rasterization.
It has a sample bit set if and only if the sample is considered covered for
this fragment shader invocation.
<code>SampleMask</code>[] is an array of integers.
Bits are mapped to samples in a manner where bit B of mask M
(<code>SampleMask[M]</code>) corresponds to sample <span class="eq">32 × M +  B</span>.</p>
</div>
<div class="paragraph">
<p>A variable in the <code>Output</code> storage class decorated with <code>SampleMask</code>
is an array of integers forming a bit array in a manner similar to an input
variable decorated with <code>SampleMask</code>, but where each bit represents
coverage as computed by the shader.
This computed <code>SampleMask</code> is combined with the generated coverage mask
in the <a href="chap28.html#fragops-covg">multisample coverage</a> operation.</p>
</div>
<div class="paragraph">
<p>Variables decorated with <code>SampleMask</code> <strong class="purple">must</strong> be either an unsized array,
or explicitly sized to be no larger than the implementation-dependent
maximum sample-mask (as an array of 32-bit elements), determined by the
maximum number of samples.</p>
</div>
<div class="paragraph">
<p>If a fragment shader entry point’s interface includes an output variable
decorated with <code>SampleMask</code>, the sample mask will be undefined for any
array elements of any fragment shader invocations that fail to assign a
value.
If a fragment shader entry point’s interface does not include an output
variable decorated with <code>SampleMask</code>, the sample mask has no effect on
the processing of a fragment.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SampleMask-SampleMask-04357" href="chap15.html#VUID-SampleMask-SampleMask-04357"></a> <span class="vuid">VUID-SampleMask-SampleMask-04357</span><br>

The <code>SampleMask</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-SampleMask-SampleMask-04358" href="chap15.html#VUID-SampleMask-SampleMask-04358"></a> <span class="vuid">VUID-SampleMask-SampleMask-04358</span><br>

The variable decorated with <code>SampleMask</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> or <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SampleMask-SampleMask-04359" href="chap15.html#VUID-SampleMask-SampleMask-04359"></a> <span class="vuid">VUID-SampleMask-SampleMask-04359</span><br>

The variable decorated with <code>SampleMask</code> <strong class="purple">must</strong> be declared as an
array of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SamplePosition</code></dt>
<dd>
<p>Decorating a variable with the <code>SamplePosition</code> built-in decoration will
make that variable contain the sub-pixel position of the sample being
shaded.
The top left of the pixel is considered to be at coordinate <span class="eq">(0,0)</span> and
the bottom right of the pixel is considered to be at coordinate <span class="eq">(1,1)</span>.</p>
<div class="paragraph">
<p>If the render pass has a fragment density map attachment, the variable will
instead contain the sub-fragment position of the sample being shaded.
The top left of the fragment is considered to be at coordinate <span class="eq">(0,0)</span>
and the bottom right of the fragment is considered to be at coordinate
<span class="eq">(1,1)</span> for any fragment area.</p>
</div>
<div class="paragraph">
<p>If a fragment shader entry point’s interface includes an input variable
decorated with <code>SamplePosition</code>, <a href="chap27.html#primsrast-sampleshading">Sample
Shading</a> is considered enabled with a <code>minSampleShading</code> value of 1.0.</p>
</div>
<div class="paragraph">
<p>If the current pipeline uses <a href="chap27.html#primsrast-samplelocations">custom sample
locations</a> the value of any variable decorated with the <code>SamplePosition</code>
built-in decoration is undefined.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SamplePosition-SamplePosition-04360" href="chap15.html#VUID-SamplePosition-SamplePosition-04360"></a> <span class="vuid">VUID-SamplePosition-SamplePosition-04360</span><br>

The <code>SamplePosition</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-SamplePosition-SamplePosition-04361" href="chap15.html#VUID-SamplePosition-SamplePosition-04361"></a> <span class="vuid">VUID-SamplePosition-SamplePosition-04361</span><br>

The variable decorated with <code>SamplePosition</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SamplePosition-SamplePosition-04362" href="chap15.html#VUID-SamplePosition-SamplePosition-04362"></a> <span class="vuid">VUID-SamplePosition-SamplePosition-04362</span><br>

The variable decorated with <code>SamplePosition</code> <strong class="purple">must</strong> be declared as a
two-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ShadingRateKHR</code></dt>
<dd>
<p>Decorating a variable with the <code>ShadingRateKHR</code> built-in decoration will
make that variable contain the <a href="chap27.html#primsrast-fragment-shading-rate">fragment
shading rate</a> for the current fragment invocation.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ShadingRateKHR-ShadingRateKHR-04490" href="chap15.html#VUID-ShadingRateKHR-ShadingRateKHR-04490"></a> <span class="vuid">VUID-ShadingRateKHR-ShadingRateKHR-04490</span><br>

The <code>ShadingRateKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ShadingRateKHR-ShadingRateKHR-04491" href="chap15.html#VUID-ShadingRateKHR-ShadingRateKHR-04491"></a> <span class="vuid">VUID-ShadingRateKHR-ShadingRateKHR-04491</span><br>

The variable decorated with <code>ShadingRateKHR</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ShadingRateKHR-ShadingRateKHR-04492" href="chap15.html#VUID-ShadingRateKHR-ShadingRateKHR-04492"></a> <span class="vuid">VUID-ShadingRateKHR-ShadingRateKHR-04492</span><br>

The variable decorated with <code>ShadingRateKHR</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-smcountnv" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SMCountNV</code></dt>
<dd>
<p>Decorating a variable with the <code>SMCountNV</code> built-in decoration will make
that variable contain the number of SMs on the device.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SMCountNV-SMCountNV-04363" href="chap15.html#VUID-SMCountNV-SMCountNV-04363"></a> <span class="vuid">VUID-SMCountNV-SMCountNV-04363</span><br>

The variable decorated with <code>SMCountNV</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SMCountNV-SMCountNV-04364" href="chap15.html#VUID-SMCountNV-SMCountNV-04364"></a> <span class="vuid">VUID-SMCountNV-SMCountNV-04364</span><br>

The variable decorated with <code>SMCountNV</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-smidnv" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SMIDNV</code></dt>
<dd>
<p>Decorating a variable with the <code>SMIDNV</code> built-in decoration will make
that variable contain the ID of the SM on which the current shader
invocation is running.
This variable is in the range <span class="eq">[0, <code>SMCountNV</code>-1]</span>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SMIDNV-SMIDNV-04365" href="chap15.html#VUID-SMIDNV-SMIDNV-04365"></a> <span class="vuid">VUID-SMIDNV-SMIDNV-04365</span><br>

The variable decorated with <code>SMIDNV</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SMIDNV-SMIDNV-04366" href="chap15.html#VUID-SMIDNV-SMIDNV-04366"></a> <span class="vuid">VUID-SMIDNV-SMIDNV-04366</span><br>

The variable decorated with <code>SMIDNV</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupId</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupId</code> built-in decoration will make
that variable contain the index of the subgroup within the local workgroup.
This variable is in range [0, <code>NumSubgroups</code>-1].</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupId-SubgroupId-04367" href="chap15.html#VUID-SubgroupId-SubgroupId-04367"></a> <span class="vuid">VUID-SubgroupId-SubgroupId-04367</span><br>

The <code>SubgroupId</code> decoration <strong class="purple">must</strong> be used only within the
<code>GLCompute</code>, <code>MeshNV</code>, or <code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-SubgroupId-SubgroupId-04368" href="chap15.html#VUID-SubgroupId-SubgroupId-04368"></a> <span class="vuid">VUID-SubgroupId-SubgroupId-04368</span><br>

The variable decorated with <code>SubgroupId</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupId-SubgroupId-04369" href="chap15.html#VUID-SubgroupId-SubgroupId-04369"></a> <span class="vuid">VUID-SubgroupId-SubgroupId-04369</span><br>

The variable decorated with <code>SubgroupId</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sgeq" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupEqMask</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupEqMask</code> builtin decoration will
make that variable contain the <em>subgroup mask</em> of the current subgroup
invocation.
The bit corresponding to the <code>SubgroupLocalInvocationId</code> is set in the
variable decorated with <code>SubgroupEqMask</code>.
All other bits are set to zero.</p>
</div>
<div class="paragraph">
<p><code>SubgroupEqMaskKHR</code> is an alias of <code>SubgroupEqMask</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupEqMask-SubgroupEqMask-04370" href="chap15.html#VUID-SubgroupEqMask-SubgroupEqMask-04370"></a> <span class="vuid">VUID-SubgroupEqMask-SubgroupEqMask-04370</span><br>

The variable decorated with <code>SubgroupEqMask</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupEqMask-SubgroupEqMask-04371" href="chap15.html#VUID-SubgroupEqMask-SubgroupEqMask-04371"></a> <span class="vuid">VUID-SubgroupEqMask-SubgroupEqMask-04371</span><br>

The variable decorated with <code>SubgroupEqMask</code> <strong class="purple">must</strong> be declared as a
four-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sgge" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupGeMask</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupGeMask</code> builtin decoration will
make that variable contain the <em>subgroup mask</em> of the current subgroup
invocation.
The bits corresponding to the invocations greater than or equal to
<code>SubgroupLocalInvocationId</code> through <code>SubgroupSize</code>-1 are set in the
variable decorated with <code>SubgroupGeMask</code>.
All other bits are set to zero.</p>
</div>
<div class="paragraph">
<p><code>SubgroupGeMaskKHR</code> is an alias of <code>SubgroupGeMask</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupGeMask-SubgroupGeMask-04372" href="chap15.html#VUID-SubgroupGeMask-SubgroupGeMask-04372"></a> <span class="vuid">VUID-SubgroupGeMask-SubgroupGeMask-04372</span><br>

The variable decorated with <code>SubgroupGeMask</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupGeMask-SubgroupGeMask-04373" href="chap15.html#VUID-SubgroupGeMask-SubgroupGeMask-04373"></a> <span class="vuid">VUID-SubgroupGeMask-SubgroupGeMask-04373</span><br>

The variable decorated with <code>SubgroupGeMask</code> <strong class="purple">must</strong> be declared as a
four-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sggt" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupGtMask</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupGtMask</code> builtin decoration will
make that variable contain the <em>subgroup mask</em> of the current subgroup
invocation.
The bits corresponding to the invocations greater than
<code>SubgroupLocalInvocationId</code> through <code>SubgroupSize</code>-1 are set in the
variable decorated with <code>SubgroupGtMask</code>.
All other bits are set to zero.</p>
</div>
<div class="paragraph">
<p><code>SubgroupGtMaskKHR</code> is an alias of <code>SubgroupGtMask</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupGtMask-SubgroupGtMask-04374" href="chap15.html#VUID-SubgroupGtMask-SubgroupGtMask-04374"></a> <span class="vuid">VUID-SubgroupGtMask-SubgroupGtMask-04374</span><br>

The variable decorated with <code>SubgroupGtMask</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupGtMask-SubgroupGtMask-04375" href="chap15.html#VUID-SubgroupGtMask-SubgroupGtMask-04375"></a> <span class="vuid">VUID-SubgroupGtMask-SubgroupGtMask-04375</span><br>

The variable decorated with <code>SubgroupGtMask</code> <strong class="purple">must</strong> be declared as a
four-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sgle" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupLeMask</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupLeMask</code> builtin decoration will
make that variable contain the <em>subgroup mask</em> of the current subgroup
invocation.
The bits corresponding to the invocations less than or equal to
<code>SubgroupLocalInvocationId</code> are set in the variable decorated with
<code>SubgroupLeMask</code>.
All other bits are set to zero.</p>
</div>
<div class="paragraph">
<p><code>SubgroupLeMaskKHR</code> is an alias of <code>SubgroupLeMask</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupLeMask-SubgroupLeMask-04376" href="chap15.html#VUID-SubgroupLeMask-SubgroupLeMask-04376"></a> <span class="vuid">VUID-SubgroupLeMask-SubgroupLeMask-04376</span><br>

The variable decorated with <code>SubgroupLeMask</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupLeMask-SubgroupLeMask-04377" href="chap15.html#VUID-SubgroupLeMask-SubgroupLeMask-04377"></a> <span class="vuid">VUID-SubgroupLeMask-SubgroupLeMask-04377</span><br>

The variable decorated with <code>SubgroupLeMask</code> <strong class="purple">must</strong> be declared as a
four-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sglt" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupLtMask</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupLtMask</code> builtin decoration will
make that variable contain the <em>subgroup mask</em> of the current subgroup
invocation.
The bits corresponding to the invocations less than
<code>SubgroupLocalInvocationId</code> are set in the variable decorated with
<code>SubgroupLtMask</code>.
All other bits are set to zero.</p>
</div>
<div class="paragraph">
<p><code>SubgroupLtMaskKHR</code> is an alias of <code>SubgroupLtMask</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupLtMask-SubgroupLtMask-04378" href="chap15.html#VUID-SubgroupLtMask-SubgroupLtMask-04378"></a> <span class="vuid">VUID-SubgroupLtMask-SubgroupLtMask-04378</span><br>

The variable decorated with <code>SubgroupLtMask</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupLtMask-SubgroupLtMask-04379" href="chap15.html#VUID-SubgroupLtMask-SubgroupLtMask-04379"></a> <span class="vuid">VUID-SubgroupLtMask-SubgroupLtMask-04379</span><br>

The variable decorated with <code>SubgroupLtMask</code> <strong class="purple">must</strong> be declared as a
four-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sgli" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupLocalInvocationId</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupLocalInvocationId</code> builtin
decoration will make that variable contain the index of the invocation
within the subgroup.
This variable is in range [0,<code>SubgroupSize</code>-1].</p>
</div>
<div class="paragraph">
<p>If <code>VK_PIPELINE_SHADER_STAGE_CREATE_REQUIRE_FULL_SUBGROUPS_BIT</code> is
specified,
full subgroups are enabled for that pipeline stage.
When full subgroups are enabled, subgroups <strong class="purple">must</strong> be launched with all
invocations active, i.e., there is an active invocation with
<code>SubgroupLocalInvocationId</code> for each value in range
[0,<code>SubgroupSize</code>-1].</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There is no direct relationship between <code>SubgroupLocalInvocationId</code> and
<code>LocalInvocationId</code> or <code>LocalInvocationIndex</code>.
If the pipeline was created with full subgroups applications can compute
their own local invocation index to serve the same purpose:</p>
</div>
<div class="paragraph">
<p><span class="eq">index = <code>SubgroupLocalInvocationId</code> + <code>SubgroupId</code> ×
<code>SubgroupSize</code></span></p>
</div>
<div class="paragraph">
<p>If full subgroups are not enabled, some subgroups may be dispatched with
inactive invocations that do not correspond to a local workgroup invocation,
making the value of <span class="eq">index</span> unreliable.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04380" href="chap15.html#VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04380"></a> <span class="vuid">VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04380</span><br>

The variable decorated with <code>SubgroupLocalInvocationId</code> <strong class="purple">must</strong> be
declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04381" href="chap15.html#VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04381"></a> <span class="vuid">VUID-SubgroupLocalInvocationId-SubgroupLocalInvocationId-04381</span><br>

The variable decorated with <code>SubgroupLocalInvocationId</code> <strong class="purple">must</strong> be
declared as a scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-sgs" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SubgroupSize</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>SubgroupSize</code> builtin decoration will
make that variable contain the implementation-dependent
<a href="chap5.html#limits-subgroup-size">number of invocations in a subgroup</a>.
This value <strong class="purple">must</strong> be a power-of-two integer.</p>
</div>
<div class="paragraph">
<p>If the pipeline was created with the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code> flag
set,
the <code>SubgroupSize</code> decorated variable will contain the subgroup size for
each subgroup that gets dispatched.
This value <strong class="purple">must</strong> be between <a href="chap42.html#limits-minSubgroupSize"><code>minSubgroupSize</code></a> and <a href="chap42.html#limits-maxSubgroupSize"><code>maxSubgroupSize</code></a> and <strong class="purple">must</strong> be uniform with <a href="chap9.html#shaders-scope-subgroup">subgroup scope</a>.
The value <strong class="purple">may</strong> vary across a single draw call, and for fragment shaders <strong class="purple">may</strong>
vary across a single primitive.
In compute dispatches, <code>SubgroupSize</code> <strong class="purple">must</strong> be uniform with
<a href="chap9.html#shaders-scope-command">command scope</a>.</p>
</div>
<div class="paragraph">
<p>If the pipeline was created with a chained
<a href="chap10.html#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a> structure, the
<code>SubgroupSize</code> decorated variable will match
<a href="chap10.html#pipelines-required-subgroup-size"><code>requiredSubgroupSize</code></a>.</p>
</div>
<div class="paragraph">
<p>If the pipeline stage
was not created with the
<code>VK_PIPELINE_SHADER_STAGE_CREATE_ALLOW_VARYING_SUBGROUP_SIZE_BIT</code> flag
set and no <a href="chap10.html#VkPipelineShaderStageRequiredSubgroupSizeCreateInfo">VkPipelineShaderStageRequiredSubgroupSizeCreateInfo</a>
structure was chained, the
variable decorated with <code>SubgroupSize</code> will match <a href="chap5.html#limits-subgroup-size"><code>subgroupSize</code></a>.</p>
</div>
<div class="paragraph">
<p>The maximum number of invocations that an implementation can support per
subgroup is 128.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-SubgroupSize-SubgroupSize-04382" href="chap15.html#VUID-SubgroupSize-SubgroupSize-04382"></a> <span class="vuid">VUID-SubgroupSize-SubgroupSize-04382</span><br>

The variable decorated with <code>SubgroupSize</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-SubgroupSize-SubgroupSize-04383" href="chap15.html#VUID-SubgroupSize-SubgroupSize-04383"></a> <span class="vuid">VUID-SubgroupSize-SubgroupSize-04383</span><br>

The variable decorated with <code>SubgroupSize</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-taskcount" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>TaskCountNV</code></dt>
<dd>
<div class="paragraph">
<p>Decorating a variable with the <code>TaskCountNV</code> decoration will make that
variable contain the task count.
The task count specifies the number of subsequent mesh shader workgroups
that get generated upon completion of the task shader.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-TaskCountNV-TaskCountNV-04384" href="chap15.html#VUID-TaskCountNV-TaskCountNV-04384"></a> <span class="vuid">VUID-TaskCountNV-TaskCountNV-04384</span><br>

The <code>TaskCountNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-TaskCountNV-TaskCountNV-04385" href="chap15.html#VUID-TaskCountNV-TaskCountNV-04385"></a> <span class="vuid">VUID-TaskCountNV-TaskCountNV-04385</span><br>

The variable decorated with <code>TaskCountNV</code> <strong class="purple">must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-TaskCountNV-TaskCountNV-04386" href="chap15.html#VUID-TaskCountNV-TaskCountNV-04386"></a> <span class="vuid">VUID-TaskCountNV-TaskCountNV-04386</span><br>

The variable decorated with <code>TaskCountNV</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>TessCoord</code></dt>
<dd>
<p>Decorating a variable with the <code>TessCoord</code> built-in decoration will make
that variable contain the three-dimensional <span class="eq">(u,v,w)</span> barycentric
coordinate of the tessellated vertex within the patch.
<span class="eq">u</span>, <span class="eq">v</span>, and <span class="eq">w</span> are in the range <span class="eq">[0,1]</span> and vary linearly
across the primitive being subdivided.
For the tessellation modes of <code>Quads</code> or <code>IsoLines</code>, the third
component is always zero.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-TessCoord-TessCoord-04387" href="chap15.html#VUID-TessCoord-TessCoord-04387"></a> <span class="vuid">VUID-TessCoord-TessCoord-04387</span><br>

The <code>TessCoord</code> decoration <strong class="purple">must</strong> be used only within the
<code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-TessCoord-TessCoord-04388" href="chap15.html#VUID-TessCoord-TessCoord-04388"></a> <span class="vuid">VUID-TessCoord-TessCoord-04388</span><br>

The variable decorated with <code>TessCoord</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-TessCoord-TessCoord-04389" href="chap15.html#VUID-TessCoord-TessCoord-04389"></a> <span class="vuid">VUID-TessCoord-TessCoord-04389</span><br>

The variable decorated with <code>TessCoord</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>TessLevelOuter</code></dt>
<dd>
<p>Decorating a variable with the <code>TessLevelOuter</code> built-in decoration will
make that variable contain the outer tessellation levels for the current
patch.</p>
<div class="paragraph">
<p>In tessellation control shaders, the variable decorated with
<code>TessLevelOuter</code> <strong class="purple">can</strong> be written to, controlling the tessellation factors
for the resulting patch.
These values are used by the tessellator to control primitive tessellation
and <strong class="purple">can</strong> be read by tessellation evaluation shaders.</p>
</div>
<div class="paragraph">
<p>In tessellation evaluation shaders, the variable decorated with
<code>TessLevelOuter</code> <strong class="purple">can</strong> read the values written by the tessellation control
shader.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-TessLevelOuter-TessLevelOuter-04390" href="chap15.html#VUID-TessLevelOuter-TessLevelOuter-04390"></a> <span class="vuid">VUID-TessLevelOuter-TessLevelOuter-04390</span><br>

The <code>TessLevelOuter</code> decoration <strong class="purple">must</strong> be used only within the
<code>TessellationControl</code> or <code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-TessLevelOuter-TessLevelOuter-04391" href="chap15.html#VUID-TessLevelOuter-TessLevelOuter-04391"></a> <span class="vuid">VUID-TessLevelOuter-TessLevelOuter-04391</span><br>

The variable decorated with <code>TessLevelOuter</code> within the
<code>TessellationControl</code> <code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-TessLevelOuter-TessLevelOuter-04392" href="chap15.html#VUID-TessLevelOuter-TessLevelOuter-04392"></a> <span class="vuid">VUID-TessLevelOuter-TessLevelOuter-04392</span><br>

The variable decorated with <code>TessLevelOuter</code> within the
<code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-TessLevelOuter-TessLevelOuter-04393" href="chap15.html#VUID-TessLevelOuter-TessLevelOuter-04393"></a> <span class="vuid">VUID-TessLevelOuter-TessLevelOuter-04393</span><br>

The variable decorated with <code>TessLevelOuter</code> <strong class="purple">must</strong> be declared as an
array of size four, containing 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>TessLevelInner</code></dt>
<dd>
<p>Decorating a variable with the <code>TessLevelInner</code> built-in decoration will
make that variable contain the inner tessellation levels for the current
patch.</p>
<div class="paragraph">
<p>In tessellation control shaders, the variable decorated with
<code>TessLevelInner</code> <strong class="purple">can</strong> be written to, controlling the tessellation factors
for the resulting patch.
These values are used by the tessellator to control primitive tessellation
and <strong class="purple">can</strong> be read by tessellation evaluation shaders.</p>
</div>
<div class="paragraph">
<p>In tessellation evaluation shaders, the variable decorated with
<code>TessLevelInner</code> <strong class="purple">can</strong> read the values written by the tessellation control
shader.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-TessLevelInner-TessLevelInner-04394" href="chap15.html#VUID-TessLevelInner-TessLevelInner-04394"></a> <span class="vuid">VUID-TessLevelInner-TessLevelInner-04394</span><br>

The <code>TessLevelInner</code> decoration <strong class="purple">must</strong> be used only within the
<code>TessellationControl</code> or <code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-TessLevelInner-TessLevelInner-04395" href="chap15.html#VUID-TessLevelInner-TessLevelInner-04395"></a> <span class="vuid">VUID-TessLevelInner-TessLevelInner-04395</span><br>

The variable decorated with <code>TessLevelInner</code> within the
<code>TessellationControl</code> <code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the
<code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-TessLevelInner-TessLevelInner-04396" href="chap15.html#VUID-TessLevelInner-TessLevelInner-04396"></a> <span class="vuid">VUID-TessLevelInner-TessLevelInner-04396</span><br>

The variable decorated with <code>TessLevelInner</code> within the
<code>TessellationEvaluation</code> <code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-TessLevelInner-TessLevelInner-04397" href="chap15.html#VUID-TessLevelInner-TessLevelInner-04397"></a> <span class="vuid">VUID-TessLevelInner-TessLevelInner-04397</span><br>

The variable decorated with <code>TessLevelInner</code> <strong class="purple">must</strong> be declared as an
array of size two, containing 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>VertexIndex</code></dt>
<dd>
<p>Decorating a variable with the <code>VertexIndex</code> built-in decoration will
make that variable contain the index of the vertex that is being processed
by the current vertex shader invocation.
For non-indexed draws, this variable begins at the <code>firstVertex</code>
parameter to <a href="chap21.html#vkCmdDraw">vkCmdDraw</a> or the <code>firstVertex</code> member of a structure
consumed by <a href="chap21.html#vkCmdDrawIndirect">vkCmdDrawIndirect</a> and increments by one for each vertex in
the draw.
For indexed draws, its value is the content of the index buffer for the
vertex plus the <code>vertexOffset</code> parameter to <a href="chap21.html#vkCmdDrawIndexed">vkCmdDrawIndexed</a> or
the <code>vertexOffset</code> member of the structure consumed by
<a href="chap21.html#vkCmdDrawIndexedIndirect">vkCmdDrawIndexedIndirect</a>.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>VertexIndex</code> starts at the same starting value for each instance.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VertexIndex-VertexIndex-04398" href="chap15.html#VUID-VertexIndex-VertexIndex-04398"></a> <span class="vuid">VUID-VertexIndex-VertexIndex-04398</span><br>

The <code>VertexIndex</code> decoration <strong class="purple">must</strong> be used only within the
<code>Vertex</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-VertexIndex-VertexIndex-04399" href="chap15.html#VUID-VertexIndex-VertexIndex-04399"></a> <span class="vuid">VUID-VertexIndex-VertexIndex-04399</span><br>

The variable decorated with <code>VertexIndex</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-VertexIndex-VertexIndex-04400" href="chap15.html#VUID-VertexIndex-VertexIndex-04400"></a> <span class="vuid">VUID-VertexIndex-VertexIndex-04400</span><br>

The variable decorated with <code>VertexIndex</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-viewindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ViewIndex</code></dt>
<dd>
<p>The <code>ViewIndex</code> decoration <strong class="purple">can</strong> be applied to a shader input which will
be filled with the index of the view that is being processed by the current
shader invocation.</p>
<div class="paragraph">
<p>If multiview is enabled in the render pass, this value will be one of the
bits set in the view mask of the subpass the pipeline is compiled against.
If multiview is not enabled in the render pass, this value will be zero.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ViewIndex-ViewIndex-04401" href="chap15.html#VUID-ViewIndex-ViewIndex-04401"></a> <span class="vuid">VUID-ViewIndex-ViewIndex-04401</span><br>

The <code>ViewIndex</code> decoration <strong class="purple">must</strong> not be used within the
<code>GLCompute</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ViewIndex-ViewIndex-04402" href="chap15.html#VUID-ViewIndex-ViewIndex-04402"></a> <span class="vuid">VUID-ViewIndex-ViewIndex-04402</span><br>

The variable decorated with <code>ViewIndex</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ViewIndex-ViewIndex-04403" href="chap15.html#VUID-ViewIndex-ViewIndex-04403"></a> <span class="vuid">VUID-ViewIndex-ViewIndex-04403</span><br>

The variable decorated with <code>ViewIndex</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-viewportindex" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ViewportIndex</code></dt>
<dd>
<p>Decorating a variable with the <code>ViewportIndex</code> built-in decoration will
make that variable contain the index of the viewport.</p>
<div class="paragraph">
<p>In a
mesh,
vertex, tessellation evaluation, or
geometry shader, the variable decorated with <code>ViewportIndex</code> can be
written to with the viewport index to which the primitive produced by that
shader will be directed.</p>
</div>
<div class="paragraph">
<p>The selected viewport index is used to select the
viewport transform, scissor rectangle, and exclusive
scissor rectangle.</p>
</div>
<div class="paragraph">
<p>The last active
<em><a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a></em> (in pipeline order) controls the <code>ViewportIndex</code> that is used.
Outputs in previous shader stages are not used, even if the last stage fails
to write the <code>ViewportIndex</code>.</p>
</div>
<div class="paragraph">
<p>If the last active
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> shader entry point’s interface does not include a variable decorated
with <code>ViewportIndex</code>, then the first viewport is used.
If a <a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> shader entry point’s interface includes a variable decorated with
<code>ViewportIndex</code>, it <strong class="purple">must</strong> write the same value to <code>ViewportIndex</code> for
all output vertices of a given primitive.</p>
</div>
<div class="paragraph">
<p>In a fragment shader, the variable decorated with <code>ViewportIndex</code>
contains the viewport index of the primitive that the fragment invocation
belongs to.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ViewportIndex-ViewportIndex-04404" href="chap15.html#VUID-ViewportIndex-ViewportIndex-04404"></a> <span class="vuid">VUID-ViewportIndex-ViewportIndex-04404</span><br>

The <code>ViewportIndex</code> decoration <strong class="purple">must</strong> be used only within the
<code>MeshNV</code>, <code>Vertex</code>, <code>TessellationEvaluation</code>, <code>Geometry</code>, or
<code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ViewportIndex-ViewportIndex-04405" href="chap15.html#VUID-ViewportIndex-ViewportIndex-04405"></a> <span class="vuid">VUID-ViewportIndex-ViewportIndex-04405</span><br>

If the <a href="chap41.html#features-shaderOutputViewportIndex"><code>shaderOutputViewportIndex</code></a> feature is not enabled then the
<code>ViewportIndex</code> decoration <strong class="purple">must</strong> be used only within the
<code>Geometry</code> or <code>Fragment</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ViewportIndex-ViewportIndex-04406" href="chap15.html#VUID-ViewportIndex-ViewportIndex-04406"></a> <span class="vuid">VUID-ViewportIndex-ViewportIndex-04406</span><br>

The variable decorated with <code>ViewportIndex</code> within the <code>MeshNV</code>,
<code>Vertex</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ViewportIndex-ViewportIndex-04407" href="chap15.html#VUID-ViewportIndex-ViewportIndex-04407"></a> <span class="vuid">VUID-ViewportIndex-ViewportIndex-04407</span><br>

The variable decorated with <code>ViewportIndex</code> within the <code>Fragment</code>
<code>Execution</code> <code>Model</code> <strong class="purple">must</strong> be declared using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ViewportIndex-ViewportIndex-04408" href="chap15.html#VUID-ViewportIndex-ViewportIndex-04408"></a> <span class="vuid">VUID-ViewportIndex-ViewportIndex-04408</span><br>

The variable decorated with <code>ViewportIndex</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-viewportmask" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ViewportMaskNV</code></dt>
<dd>
<p>Decorating a variable with the <code>ViewportMaskNV</code> built-in decoration will
make that variable contain the viewport mask.</p>
<div class="paragraph">
<p>In a
mesh,
vertex, tessellation evaluation, or geometry shader, the variable decorated
with <code>ViewportMaskNV</code> can be written to with the mask of which viewports
the primitive produced by that shader will directed.</p>
</div>
<div class="paragraph">
<p>The <code>ViewportMaskNV</code> variable <strong class="purple">must</strong> be an array that has
<span class="eq">⌈(<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code> / 32)⌉</span>
elements.
When a shader writes to this variable, bit B of element M controls whether a
primitive is emitted to viewport <span class="eq">32 × M +  B</span>.
The viewports indicated by the mask are used to select the
viewport transform, scissor rectangle, and exclusive
scissor rectangle that a primitive will be transformed by.</p>
</div>
<div class="paragraph">
<p>The last active
<em><a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a></em> (in pipeline order) controls the <code>ViewportMaskNV</code> that is used.
Outputs in previous shader stages are not used, even if the last stage fails
to write the <code>ViewportMaskNV</code>.
When <code>ViewportMaskNV</code> is written by the final
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a>, any variable decorated with <code>ViewportIndex</code> in the fragment
shader will have the index of the viewport that was used in generating that
fragment.</p>
</div>
<div class="paragraph">
<p>If a <a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> shader entry point’s interface includes a variable decorated with
<code>ViewportMaskNV</code>, it <strong class="purple">must</strong> write the same value to <code>ViewportMaskNV</code>
for all output vertices of a given primitive.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ViewportMaskNV-ViewportMaskNV-04409" href="chap15.html#VUID-ViewportMaskNV-ViewportMaskNV-04409"></a> <span class="vuid">VUID-ViewportMaskNV-ViewportMaskNV-04409</span><br>

The <code>ViewportMaskNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>Vertex</code>, <code>MeshNV</code>, <code>TessellationEvaluation</code>, or <code>Geometry</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ViewportMaskNV-ViewportMaskNV-04410" href="chap15.html#VUID-ViewportMaskNV-ViewportMaskNV-04410"></a> <span class="vuid">VUID-ViewportMaskNV-ViewportMaskNV-04410</span><br>

The variable decorated with <code>ViewportMaskNV</code> <strong class="purple">must</strong> be declared using
the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ViewportMaskNV-ViewportMaskNV-04411" href="chap15.html#VUID-ViewportMaskNV-ViewportMaskNV-04411"></a> <span class="vuid">VUID-ViewportMaskNV-ViewportMaskNV-04411</span><br>

The variable decorated with <code>ViewportMaskNV</code> <strong class="purple">must</strong> be declared as an
array of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-viewportmaskperview" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ViewportMaskPerViewNV</code></dt>
<dd>
<p>Decorating a variable with the <code>ViewportMaskPerViewNV</code> built-in
decoration will make that variable contain the mask of viewports primitives
are broadcast to, for each view.</p>
<div class="paragraph">
<p>The value written to an element of <code>ViewportMaskPerViewNV</code> in the last
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> is a bitmask indicating which viewports the primitive will be
directed to.
The primitive will be broadcast to the viewport corresponding to each
non-zero bit of the bitmask, and that viewport index is used to select the
viewport transform, scissor rectangle, and exclusive
scissor rectangle, for each view.
The same values <strong class="purple">must</strong> be written to all vertices in a given primitive, or
else the set of viewports used for that primitive is undefined.</p>
</div>
<div class="paragraph">
<p>Elements of the array correspond to views in a multiview subpass, and those
elements corresponding to views in the view mask of the subpass the shader
is compiled against will be used as the viewport mask value for those views.
<code>ViewportMaskPerViewNV</code> output in an earlier
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> is not available as an input in the subsequent
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a>.</p>
</div>
<div class="paragraph">
<p>Although <code>ViewportMaskNV</code> is an array, <code>ViewportMaskPerViewNV</code> is not
a two-dimensional array.
Instead, <code>ViewportMaskPerViewNV</code> is limited to 32 viewports.</p>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04412" href="chap15.html#VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04412"></a> <span class="vuid">VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04412</span><br>

The <code>ViewportMaskPerViewNV</code> decoration <strong class="purple">must</strong> be used only within the
<code>Vertex</code>, <code>MeshNV</code>, <code>TessellationControl</code>,
<code>TessellationEvaluation</code>, or <code>Geometry</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04413" href="chap15.html#VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04413"></a> <span class="vuid">VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04413</span><br>

The variable decorated with <code>ViewportMaskPerViewNV</code> <strong class="purple">must</strong> be declared
using the <code>Output</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04414" href="chap15.html#VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04414"></a> <span class="vuid">VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04414</span><br>

The variable decorated with <code>ViewportMaskPerViewNV</code> <strong class="purple">must</strong> be declared
as an array of 32-bit integer values</p>
</li>
<li>
<p><a id="VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04415" href="chap15.html#VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04415"></a> <span class="vuid">VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04415</span><br>

The array decorated with <code>ViewportMaskPerViewNV</code> <strong class="purple">must</strong> be a size less
than or equal to 32</p>
</li>
<li>
<p><a id="VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04416" href="chap15.html#VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04416"></a> <span class="vuid">VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04416</span><br>

The array decorated with <code>ViewportMaskPerViewNV</code> <strong class="purple">must</strong> be a size
greater than the maximum view in the subpass’s view mask</p>
</li>
<li>
<p><a id="VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04417" href="chap15.html#VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04417"></a> <span class="vuid">VUID-ViewportMaskPerViewNV-ViewportMaskPerViewNV-04417</span><br>

The array variable decorated with <code>ViewportMaskPerViewNV</code> <strong class="purple">must</strong> only
be indexed by a constant or specialization constant</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-warpspersmnv" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>WarpsPerSMNV</code></dt>
<dd>
<p>Decorating a variable with the <code>WarpsPerSMNV</code> built-in decoration will
make that variable contain the maximum number of warps executing on a SM.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-WarpsPerSMNV-WarpsPerSMNV-04418" href="chap15.html#VUID-WarpsPerSMNV-WarpsPerSMNV-04418"></a> <span class="vuid">VUID-WarpsPerSMNV-WarpsPerSMNV-04418</span><br>

The variable decorated with <code>WarpsPerSMNV</code> <strong class="purple">must</strong> be declared using
the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-WarpsPerSMNV-WarpsPerSMNV-04419" href="chap15.html#VUID-WarpsPerSMNV-WarpsPerSMNV-04419"></a> <span class="vuid">VUID-WarpsPerSMNV-WarpsPerSMNV-04419</span><br>

The variable decorated with <code>WarpsPerSMNV</code> <strong class="purple">must</strong> be declared as a
scalar 32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-warpidnv" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>WarpIDNV</code></dt>
<dd>
<p>Decorating a variable with the <code>WarpIDNV</code> built-in decoration will make
that variable contain the ID of the warp on a SM on which the current shader
invocation is running.
This variable is in the range <span class="eq">[0, <code>WarpsPerSMNV</code>-1]</span>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-WarpIDNV-WarpIDNV-04420" href="chap15.html#VUID-WarpIDNV-WarpIDNV-04420"></a> <span class="vuid">VUID-WarpIDNV-WarpIDNV-04420</span><br>

The variable decorated with <code>WarpIDNV</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-WarpIDNV-WarpIDNV-04421" href="chap15.html#VUID-WarpIDNV-WarpIDNV-04421"></a> <span class="vuid">VUID-WarpIDNV-WarpIDNV-04421</span><br>

The variable decorated with <code>WarpIDNV</code> <strong class="purple">must</strong> be declared as a scalar
32-bit integer value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>WorkgroupId</code></dt>
<dd>
<p>Decorating a variable with the <code>WorkgroupId</code> built-in decoration will
make that variable contain the global workgroup that the current invocation
is a member of.
Each component ranges from a base value to a <span class="eq">base +  count</span> value,
based on the parameters passed into the dispatching commands.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-WorkgroupId-WorkgroupId-04422" href="chap15.html#VUID-WorkgroupId-WorkgroupId-04422"></a> <span class="vuid">VUID-WorkgroupId-WorkgroupId-04422</span><br>

The <code>WorkgroupId</code> decoration <strong class="purple">must</strong> be used only within the
<code>GLCompute</code>, <code>MeshNV</code>, or <code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-WorkgroupId-WorkgroupId-04423" href="chap15.html#VUID-WorkgroupId-WorkgroupId-04423"></a> <span class="vuid">VUID-WorkgroupId-WorkgroupId-04423</span><br>

The variable decorated with <code>WorkgroupId</code> <strong class="purple">must</strong> be declared using the
<code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-WorkgroupId-WorkgroupId-04424" href="chap15.html#VUID-WorkgroupId-WorkgroupId-04424"></a> <span class="vuid">VUID-WorkgroupId-WorkgroupId-04424</span><br>

The variable decorated with <code>WorkgroupId</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>WorkgroupSize</code></dt>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>SPIR-V 1.6 deprecated <code>WorkgroupSize</code> in favor of using the
<code>LocalSizeId</code> Execution Mode instead.
Support for <code>LocalSizeId</code> was added with <code><a href="chap50.html#VK_KHR_maintenance4">VK_KHR_maintenance4</a></code> and
promoted to core in Version 1.3.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Decorating an object with the <code>WorkgroupSize</code> built-in decoration will
make that object contain the dimensions of a local workgroup.
If an object is decorated with the <code>WorkgroupSize</code> decoration, this takes
precedence over any <code>LocalSize</code>
or <code>LocalSizeId</code>
execution mode.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-WorkgroupSize-WorkgroupSize-04425" href="chap15.html#VUID-WorkgroupSize-WorkgroupSize-04425"></a> <span class="vuid">VUID-WorkgroupSize-WorkgroupSize-04425</span><br>

The <code>WorkgroupSize</code> decoration <strong class="purple">must</strong> be used only within the
<code>GLCompute</code>, <code>MeshNV</code>, or <code>TaskNV</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-WorkgroupSize-WorkgroupSize-04426" href="chap15.html#VUID-WorkgroupSize-WorkgroupSize-04426"></a> <span class="vuid">VUID-WorkgroupSize-WorkgroupSize-04426</span><br>

The variable decorated with <code>WorkgroupSize</code> <strong class="purple">must</strong> be a specialization
constant or a constant</p>
</li>
<li>
<p><a id="VUID-WorkgroupSize-WorkgroupSize-04427" href="chap15.html#VUID-WorkgroupSize-WorkgroupSize-04427"></a> <span class="vuid">VUID-WorkgroupSize-WorkgroupSize-04427</span><br>

The variable decorated with <code>WorkgroupSize</code> <strong class="purple">must</strong> be declared as a
three-component vector of 32-bit integer values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-worldraydirection" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>WorldRayDirectionKHR</code></dt>
<dd>
<p>A variable decorated with the <code>WorldRayDirectionKHR</code> decoration will
specify the direction of the ray being processed, in world space.
The value is the parameter passed into <code>OpTraceRayKHR</code>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-WorldRayDirectionKHR-WorldRayDirectionKHR-04428" href="chap15.html#VUID-WorldRayDirectionKHR-WorldRayDirectionKHR-04428"></a> <span class="vuid">VUID-WorldRayDirectionKHR-WorldRayDirectionKHR-04428</span><br>

The <code>WorldRayDirectionKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, <code>ClosestHitKHR</code>, or
<code>MissKHR</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-WorldRayDirectionKHR-WorldRayDirectionKHR-04429" href="chap15.html#VUID-WorldRayDirectionKHR-WorldRayDirectionKHR-04429"></a> <span class="vuid">VUID-WorldRayDirectionKHR-WorldRayDirectionKHR-04429</span><br>

The variable decorated with <code>WorldRayDirectionKHR</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-WorldRayDirectionKHR-WorldRayDirectionKHR-04430" href="chap15.html#VUID-WorldRayDirectionKHR-WorldRayDirectionKHR-04430"></a> <span class="vuid">VUID-WorldRayDirectionKHR-WorldRayDirectionKHR-04430</span><br>

The variable decorated with <code>WorldRayDirectionKHR</code> <strong class="purple">must</strong> be declared
as a three-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-worldrayorigin" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>WorldRayOriginKHR</code></dt>
<dd>
<p>A variable decorated with the <code>WorldRayOriginKHR</code> decoration will specify
the origin of the ray being processed, in world space.
The value is the parameter passed into <code>OpTraceRayKHR</code>.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-WorldRayOriginKHR-WorldRayOriginKHR-04431" href="chap15.html#VUID-WorldRayOriginKHR-WorldRayOriginKHR-04431"></a> <span class="vuid">VUID-WorldRayOriginKHR-WorldRayOriginKHR-04431</span><br>

The <code>WorldRayOriginKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, <code>ClosestHitKHR</code>, or
<code>MissKHR</code> <code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-WorldRayOriginKHR-WorldRayOriginKHR-04432" href="chap15.html#VUID-WorldRayOriginKHR-WorldRayOriginKHR-04432"></a> <span class="vuid">VUID-WorldRayOriginKHR-WorldRayOriginKHR-04432</span><br>

The variable decorated with <code>WorldRayOriginKHR</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-WorldRayOriginKHR-WorldRayOriginKHR-04433" href="chap15.html#VUID-WorldRayOriginKHR-WorldRayOriginKHR-04433"></a> <span class="vuid">VUID-WorldRayOriginKHR-WorldRayOriginKHR-04433</span><br>

The variable decorated with <code>WorldRayOriginKHR</code> <strong class="purple">must</strong> be declared as
a three-component vector of 32-bit floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="interfaces-builtin-variables-worldtoobject" class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>WorldToObjectKHR</code></dt>
<dd>
<p>A variable decorated with the <code>WorldToObjectKHR</code> decoration will contain
the current world-to-object transformation matrix, which is determined by
the instance of the current intersection.</p>
</dd>
</dl>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-WorldToObjectKHR-WorldToObjectKHR-04434" href="chap15.html#VUID-WorldToObjectKHR-WorldToObjectKHR-04434"></a> <span class="vuid">VUID-WorldToObjectKHR-WorldToObjectKHR-04434</span><br>

The <code>WorldToObjectKHR</code> decoration <strong class="purple">must</strong> be used only within the
<code>IntersectionKHR</code>, <code>AnyHitKHR</code>, or <code>ClosestHitKHR</code>
<code>Execution</code> <code>Model</code></p>
</li>
<li>
<p><a id="VUID-WorldToObjectKHR-WorldToObjectKHR-04435" href="chap15.html#VUID-WorldToObjectKHR-WorldToObjectKHR-04435"></a> <span class="vuid">VUID-WorldToObjectKHR-WorldToObjectKHR-04435</span><br>

The variable decorated with <code>WorldToObjectKHR</code> <strong class="purple">must</strong> be declared
using the <code>Input</code> <code>Storage</code> <code>Class</code></p>
</li>
<li>
<p><a id="VUID-WorldToObjectKHR-WorldToObjectKHR-04436" href="chap15.html#VUID-WorldToObjectKHR-WorldToObjectKHR-04436"></a> <span class="vuid">VUID-WorldToObjectKHR-WorldToObjectKHR-04436</span><br>

The variable decorated with <code>WorldToObjectKHR</code> <strong class="purple">must</strong> be declared as a
matrix with four columns of three-component vectors of 32-bit
floating-point values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap14.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap16.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer">
<div id="footer-text">
Version 1.2.224<br>
Last updated 2022-06-15 23:17:00 -0700
</div>
</div>



</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>