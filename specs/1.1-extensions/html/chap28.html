<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="The Khronos® Vulkan  Working Group">
<title>Vulkan® 1.1.263 - A Specification (with all registered Vulkan extensions)</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="style2.css" type="text/css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<link rel="stylesheet" href="style3.css" type="text/css">
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div style="text-align: center;">
    <span class="image"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgdmlld0JveD0iMCAwIDExNTAgMzI2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTsiPgogICAgPGcgaWQ9IkFydGJvYXJkMSIgdHJhbnNmb3JtPSJtYXRyaXgoMC45NTUxNSwwLDAsMC44ODgyODMsLTQwLjExNjMsLTMwLjIwMTYpIj4KICAgICAgICA8cmVjdCB4PSI0MiIgeT0iMzQiIHdpZHRoPSIxMjA0IiBoZWlnaHQ9IjM2NyIgc3R5bGU9ImZpbGw6bm9uZTsiLz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLjA0Njk2LDAsMCwxLjEyNTc3LC00Ni45OTEzLC01MC40MzI1KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik03MjQuMSwzODUuMDZMNjgzLjUzLDM4NS4wNkM2ODMuNTMsMzg1LjA2IDY4My41MywyODYuMDkgNjgzLjUzLDI1NS40QzY5Ni40OSwyNjIuNjIgNzEzLjYyLDI3NS45NCA3MjQuMSwyODguNzJMNzI0LjEsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxnPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM4MS43NSwzODUuMDZMMzMxLjE3LDM4NS4wNkwyNjUuMTYsMTgxLjAzTDMxMS4xNywxODEuMDNMMzU2LjYxLDMyNC40OEwzNTcuMTgsMzI0LjQ4TDQwMy4xOCwxODEuMDNMNDQ5LjQ3LDE4MS4wM0wzODEuNzUsMzg1LjA2WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTg1LjUxLDM4NS4wNkw1NDYuOTMsMzg1LjA2TDU0Ni45MywzNjQuNDlMNTQ2LjA4LDM2NC40OUM1NDAuOTMsMzczLjA3IDUzNC4yNywzNzkuMjYgNTI2LjA3LDM4My4wN0M1MTcuODgsMzg2Ljg4IDUwOS41LDM4OC43OCA1MDAuOTIsMzg4Ljc4QzQ5MC4wNiwzODguNzggNDgxLjE2LDM4Ny4zNSA0NzQuMiwzODQuNUM0NjcuMjUsMzgxLjY1IDQ2MS43NywzNzcuNTkgNDU3Ljc3LDM3Mi4zNkM0NTMuNzYsMzY3LjEyIDQ1MC45NSwzNjAuNzQgNDQ5LjMzLDM1My4yMUM0NDcuNzIsMzQ1LjY5IDQ0Ni45MSwzMzcuMzUgNDQ2LjkxLDMyOC4yMUw0NDYuOTEsMjM3LjMzTDQ4Ny40OSwyMzcuMzNMNDg3LjQ5LDMyMC43N0M0ODcuNDksMzMyLjk2IDQ4OS40LDM0Mi4wNiA0OTMuMjEsMzQ4LjA2QzQ5Ny4wMiwzNTQuMDcgNTAzLjc4LDM1Ny4wNiA1MTMuNSwzNTcuMDZDNTI0LjU1LDM1Ny4wNiA1MzIuNTUsMzUzLjc4IDUzNy41LDM0Ny4yQzU0Mi40NiwzNDAuNjIgNTQ0LjkzLDMyOS44MSA1NDQuOTMsMzE0Ljc2TDU0NC45MywyMzcuMzJMNTg1LjUyLDIzNy4zMkw1ODUuNTIsMzg1LjA2TDU4NS41MSwzODUuMDZaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNNzMwLjg0LDI5Ni4xOUw3MzAuNzQsMjkwLjQ3TDc4MS44OSwyMzcuMzNMODI5LjkxLDIzNy4zM0w3NzQuMTgsMjkxLjYyTDgzNi4xOSwzODUuMDZMNzg3LjA0LDM4NS4wNkw3MzAuODQsMjk2LjE5WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04NDMuNjIsMjgyLjc2Qzg0NC4xOSwyNzMuMjQgODQ2LjU4LDI2NS4zMyA4NTAuNzcsMjU5LjA0Qzg1NC45NiwyNTIuNzUgODYwLjI5LDI0Ny43MSA4NjYuNzcsMjQzLjlDODczLjI1LDI0MC4wOSA4ODAuNTQsMjM3LjM3IDg4OC42NCwyMzUuNzZDODk2LjczLDIzNC4xNCA5MDQuODgsMjMzLjMzIDkxMy4wNywyMzMuMzNDOTIwLjUsMjMzLjMzIDkyOC4wMiwyMzMuODUgOTM1LjY0LDIzNC45Qzk0My4yNywyMzUuOTUgOTUwLjIxLDIzOCA5NTYuNSwyNDEuMDVDOTYyLjc4LDI0NC4xIDk2Ny45MywyNDguMzQgOTcxLjk0LDI1My43NkM5NzUuOTQsMjU5LjE5IDk3Ny45NCwyNjYuMzggOTc3Ljk0LDI3NS4zNEw5NzcuOTQsMzUyLjIxQzk3Ny45NCwzNTguODggOTc4LjMyLDM2NS4yNyA5NzkuMDgsMzcxLjM2Qzk3OS44NCwzNzcuNDYgOTgxLjE4LDM4Mi4wMyA5ODMuMDksMzg1LjA4TDk0MS45NCwzODUuMDhDOTQxLjE4LDM4Mi44IDk0MC41NiwzODAuNDYgOTQwLjA4LDM3OC4wOEM5MzkuNjEsMzc1LjcgOTM5LjI3LDM3My4yOCA5MzkuMDgsMzcwLjc5QzkzMi42LDM3Ny40NyA5MjQuOTcsMzgyLjEzIDkxNi4yMSwzODQuOEM5MDcuNDUsMzg3LjQ2IDg5OC40OSwzODguOCA4ODkuMzUsMzg4LjhDODgyLjMsMzg4LjggODc1LjcyLDM4Ny45NCA4NjkuNjQsMzg2LjIzQzg2My41NCwzODQuNTIgODU4LjIsMzgxLjg1IDg1My42NCwzNzguMjNDODQ5LjA2LDM3NC42MSA4NDUuNDgsMzcwLjA0IDg0Mi45MiwzNjQuNTFDODQwLjM1LDM1OC45OSA4MzkuMDYsMzUyLjQyIDgzOS4wNiwzNDQuOEM4MzkuMDYsMzM2LjQyIDg0MC41NCwzMjkuNTEgODQzLjQ5LDMyNC4wOEM4NDYuNDUsMzE4LjY1IDg1MC4yNSwzMTQuMzIgODU0LjkzLDMxMS4wOEM4NTkuNiwzMDcuODQgODY0LjkzLDMwNS40MSA4NzAuOTMsMzAzLjc5Qzg3Ni45MywzMDIuMTcgODgyLjk4LDMwMC44OCA4ODkuMDcsMjk5LjkzQzg5NS4xNywyOTguOTkgOTAxLjE3LDI5OC4yMiA5MDcuMDgsMjk3LjY1QzkxMi45OSwyOTcuMDggOTE4LjIyLDI5Ni4yMiA5MjIuNzksMjk1LjA4QzkyNy4zNywyOTMuOTMgOTMwLjk4LDI5Mi4yNyA5MzMuNjUsMjkwLjA3QzkzNi4zMiwyODcuODggOTM3LjU2LDI4NC42OSA5MzcuMzcsMjgwLjVDOTM3LjM3LDI3Ni4xMiA5MzYuNjUsMjcyLjY0IDkzNS4yMiwyNzAuMDdDOTMzLjc5LDI2Ny41IDkzMS44OSwyNjUuNSA5MjkuNTEsMjY0LjA3QzkyNy4xMywyNjIuNjQgOTI0LjM3LDI2MS42OSA5MjEuMjIsMjYxLjIxQzkxOC4wNywyNjAuNzMgOTE0LjcsMjYwLjQ5IDkxMS4wOCwyNjAuNDlDOTAzLjA4LDI2MC40OSA4OTYuNzksMjYyLjIgODkyLjIyLDI2NS42NEM4ODcuNjUsMjY5LjA3IDg4NC45OCwyNzQuNzggODg0LjIyLDI4Mi43OUw4NDMuNjIsMjgyLjc5TDg0My42MiwyODIuNzZaTTkzNy4zNSwzMTIuNzdDOTM1LjYzLDMxNC4zIDkzMy40OSwzMTUuNDggOTMwLjkyLDMxNi4zNEM5MjguMzUsMzE3LjIxIDkyNS41OSwzMTcuOTIgOTIyLjYzLDMxOC40OUM5MTkuNjgsMzE5LjA2IDkxNi41OCwzMTkuNTQgOTEzLjM1LDMxOS45MkM5MTAuMTEsMzIwLjMgOTA2Ljg3LDMyMC43NyA5MDMuNjMsMzIxLjM1QzkwMC41OCwzMjEuOTIgODk3LjU4LDMyMi42OSA4OTQuNjMsMzIzLjYzQzg5MS42OCwzMjQuNTkgODg5LjEsMzI1Ljg3IDg4Ni45MSwzMjcuNDlDODg0LjcyLDMyOS4xMSA4ODIuOTYsMzMxLjE2IDg4MS42MiwzMzMuNjNDODgwLjI5LDMzNi4xMSA4NzkuNjIsMzM5LjI1IDg3OS42MiwzNDMuMDZDODc5LjYyLDM0Ni42OCA4ODAuMjksMzQ5LjczIDg4MS42MiwzNTIuMkM4ODIuOTYsMzU0LjY4IDg4NC43NywzNTYuNjMgODg3LjA1LDM1OC4wNkM4ODkuMzQsMzU5LjQ5IDg5MiwzNjAuNDkgODk1LjA1LDM2MS4wNkM4OTguMSwzNjEuNjMgOTAxLjI0LDM2MS45MSA5MDQuNDgsMzYxLjkxQzkxMi40OCwzNjEuOTEgOTE4LjY4LDM2MC41OCA5MjMuMDYsMzU3LjkyQzkyNy40NCwzNTUuMjUgOTMwLjY5LDM1Mi4wNiA5MzIuNzcsMzQ4LjM0QzkzNC44NiwzNDQuNjMgOTM2LjE2LDM0MC44NyA5MzYuNjIsMzM3LjA2QzkzNy4xLDMzMy4yNSA5MzcuMzMsMzMwLjIgOTM3LjM0LDMyNy45Mkw5MzcuMzQsMzEyLjc3TDkzNy4zNSwzMTIuNzdaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTEwMDQuMjEsMjM3LjMzTDEwNDIuOCwyMzcuMzNMMTA0Mi44LDI1Ny45TDEwNDMuNjUsMjU3LjlDMTA0OC43OSwyNDkuMzMgMTA1NS40NiwyNDMuMDkgMTA2My42NSwyMzkuMTlDMTA3MS44NCwyMzUuMjggMTA4MC4yMywyMzMuMzMgMTA4OC43OSwyMzMuMzNDMTA5OS42NiwyMzMuMzMgMTEwOC41NiwyMzQuODEgMTExNS41MiwyMzcuNzZDMTEyMi40NywyNDAuNzIgMTEyNy45NCwyNDQuODEgMTEzMS45NSwyNTAuMDVDMTEzNS45NSwyNTUuMjkgMTEzOC43NiwyNjEuNjcgMTE0MC4zOCwyNjkuMTlDMTE0MiwyNzYuNzIgMTE0Mi44MSwyODUuMDUgMTE0Mi44MSwyOTQuMkwxMTQyLjgxLDM4NS4wN0wxMTAyLjI0LDM4NS4wN0wxMTAyLjI0LDMwMS42M0MxMTAyLjI0LDI4OS40MyAxMTAwLjMzLDI4MC4zNCAxMDk2LjUzLDI3NC4zNEMxMDkyLjcxLDI2OC4zNCAxMDg1Ljk1LDI2NS4zNCAxMDc2LjIzLDI2NS4zNEMxMDY1LjE4LDI2NS4zNCAxMDU3LjE5LDI2OC42MyAxMDUyLjIzLDI3NS4yQzEwNDcuMjcsMjgxLjc2IDEwNDQuOCwyOTIuNTggMTA0NC44LDMwNy42M0wxMDQ0LjgsMzg1LjA3TDEwMDQuMjIsMzg1LjA3TDEwMDQuMjIsMjM3LjMzTDEwMDQuMjEsMjM3LjMzWiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik02MTIuMzcsMjExLjg0TDYxMi4zNywzODUuMDdMNjUyLjk1LDM4NS4wN0w2NTIuOTUsMjM0LjIxQzYzOS45MywyMjYuMjMgNjI2LjM2LDIxOC43NCA2MTIuMzcsMjExLjg0WiIgc3R5bGU9ImZpbGw6cmdiKDE3MiwyMiw0NCk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOTguNDMsMjE5LjIxQzIyMS45NSwxNTAuMzIgMzYyLjU4LDEyNS4wNSA1MTIuNTgsMTYyLjc4QzYwMi41NSwxODUuNCA2NzYuMDcsMjI5LjI4IDcyNC4wOSwyNzIuNjdDNzAyLjMsMjE1LjEyIDU5Ni42NSwxMzMuMDggNDUxLjE4LDEwNC45NkMyODYuNyw3My4xNiAxMjQuNDcsMTAxLjExIDEwNC4zOSwxNzQuMUM4OS44OSwyMjYuODMgMTUzLjU3LDI4OC42IDI1Mi4wNSwzMzAuODRDMjA3LjgxLDI5NS4wMiAxODYuMjksMjU0Ljc4IDE5OC40MywyMTkuMjFaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTcyNC4xNiwyNDcuNjJMNzI0LjE2LDE4MS4wM0w2ODMuNTcsMTgxLjAzTDY4My41NywyMDEuMjVDNzAwLjg4LDIxNi43MSA3MTQuNjEsMjMyLjQ1IDcyNC4xNiwyNDcuNjJaIiBzdHlsZT0iZmlsbDpyZ2IoMTcyLDIyLDQ0KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNDY5NiwwLDAsMS4xMjU3NywtNDYuOTkxMywtNTAuNDMyNSkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTIxNC45OCwzNjMuNDNDMTIxNC45OCwzNzUuNjkgMTIwNS4zNSwzODUuMzIgMTE5Mi44MywzODUuMzJDMTE4MC40MywzODUuMzIgMTE3MC41NCwzNzUuNjkgMTE3MC41NCwzNjMuNDNDMTE3MC41NCwzNTEuNDMgMTE4MC40MywzNDEuOCAxMTkyLjgzLDM0MS44QzEyMDUuMzUsMzQxLjggMTIxNC45OCwzNTEuNDMgMTIxNC45OCwzNjMuNDNaTTExNzYuMDgsMzYzLjQzQzExNzYuMDgsMzczLjA2IDExODMuMiwzODAuNyAxMTkyLjk2LDM4MC43QzEyMDIuNDUsMzgwLjcgMTIwOS40NCwzNzMuMDUgMTIwOS40NCwzNjMuNTZDMTIwOS40NCwzNTMuOTMgMTIwMi40NSwzNDYuMTUgMTE5Mi44MiwzNDYuMTVDMTE4My4yLDM0Ni4xNiAxMTc2LjA4LDM1My45NCAxMTc2LjA4LDM2My40M1pNMTE4OS4zOSwzNzQuNzdMMTE4NC4zOCwzNzQuNzdMMTE4NC4zOCwzNTMuMTRDMTE4Ni4zNiwzNTIuNzQgMTE4OS4xMywzNTIuNDggMTE5Mi42OSwzNTIuNDhDMTE5Ni43OCwzNTIuNDggMTE5OC42MiwzNTMuMTQgMTIwMC4yMSwzNTQuMDZDMTIwMS40LDM1NC45OCAxMjAyLjMyLDM1Ni43IDEyMDIuMzIsMzU4LjgxQzEyMDIuMzIsMzYxLjE4IDEyMDAuNDcsMzYzLjAzIDExOTcuODQsMzYzLjgyTDExOTcuODQsMzY0LjA4QzExOTkuOTUsMzY0Ljg3IDEyMDEuMTQsMzY2LjQ1IDEyMDEuOCwzNjkuMzVDMTIwMi40NiwzNzIuNjUgMTIwMi44NSwzNzMuOTcgMTIwMy4zOCwzNzQuNzZMMTE5Ny45NywzNzQuNzZDMTE5Ny4zMSwzNzMuOTcgMTE5Ni45MiwzNzEuOTkgMTE5Ni4yNiwzNjkuNDlDMTE5NS44NiwzNjcuMTIgMTE5NC41NSwzNjYuMDYgMTE5MS43OCwzNjYuMDZMMTE4OS40MSwzNjYuMDZMMTE4OS40MSwzNzQuNzdMMTE4OS4zOSwzNzQuNzdaTTExODkuNTMsMzYyLjUxTDExOTEuOSwzNjIuNTFDMTE5NC42NywzNjIuNTEgMTE5Ni45MSwzNjEuNTkgMTE5Ni45MSwzNTkuMzRDMTE5Ni45MSwzNTcuMzYgMTE5NS40NiwzNTYuMDQgMTE5Mi4yOSwzNTYuMDRDMTE5MC45NywzNTYuMDQgMTE5MC4wNSwzNTYuMTcgMTE4OS41MiwzNTYuM0wxMTg5LjUyLDM2Mi41MUwxMTg5LjUzLDM2Mi41MVoiIHN0eWxlPSJmaWxsOnJnYigxNzIsMjIsNDQpO2ZpbGwtcnVsZTpub256ZXJvOyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg==" alt="Vulkan Logo" width="50%">
    </span>
</div>
<div id="header">
<h1>Vulkan<sup>®</sup> 1.1.263 - A Specification (with all registered Vulkan extensions)</h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan  Working Group</span><br>
<span id="revnumber">version 1.1.263,</span>
<span id="revdate">2023-09-02 09:51:25Z</span>
<br><span id="revremark">from git branch: github-main commit: 4e32929f96e5af77fe5202b959f18c4ad7a06bbc</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="chap1.html">1. Preamble</a></li>
<li><a href="chap2.html">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">2.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">3.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">3.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">3.3. Object Model</a></li>
<li><a href="chap3.html#fundamentals-abi">3.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">3.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">3.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-validusage">3.7. Valid Usage</a></li>
<li><a href="chap3.html#fundamentals-returncodes">3.8. <code>VkResult</code> Return Codes</a></li>
<li><a href="chap3.html#fundamentals-numerics">3.9. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">3.10. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-common-objects">3.11. Common Object Types</a></li>
<li><a href="chap3.html#fundamentals-api-name-aliases">3.12. API Name Aliases</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">4.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">4.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">5.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">5.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">5.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">6.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">6.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">6.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">6.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">6.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">6.6. Queue Forward Progress</a></li>
<li><a href="chap6.html#commandbuffers-secondary">6.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap6.html#commandbuffers-devicemask">6.8. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">7.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">7.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">7.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">7.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">7.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">7.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">7.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">7.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">7.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap7.html#synchronization-device-group">7.10. Synchronization and Multiple Physical Devices</a></li>
<li><a href="chap7.html#calibrated-timestamps">7.11. Calibrated timestamps</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#_render_pass_objects">8.1. Render Pass Objects</a></li>
<li><a href="chap8.html#renderpass-creation">8.2. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">8.3. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">8.4. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-load-operations">8.5. Render Pass Load Operations</a></li>
<li><a href="chap8.html#renderpass-store-operations">8.6. Render Pass Store Operations</a></li>
<li><a href="chap8.html#renderpass-resolve-operations">8.7. Render Pass Multisample Resolve Operations</a></li>
<li><a href="chap8.html#renderpass-commands">8.8. Render Pass Commands</a></li>
<li><a href="chap8.html#renderpass-creation-feedback">8.9. Render Pass Creation Feedback</a></li>
<li><a href="chap8.html#_common_render_pass_data_races_informative">8.10. Common Render Pass Data Races (Informative)</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap9.html#shaders-objects">9.1. Shader Objects</a></li>
<li><a href="chap9.html#shader-modules">9.2. Shader Modules</a></li>
<li><a href="chap9.html#shaders-identifiers">9.3. Shader Module Identifiers</a></li>
<li><a href="chap9.html#shaders-binding">9.4. Binding Shaders</a></li>
<li><a href="chap9.html#shaders-execution">9.5. Shader Execution</a></li>
<li><a href="chap9.html#shaders-execution-memory-ordering">9.6. Shader Memory Access Ordering</a></li>
<li><a href="chap9.html#shaders-inputs">9.7. Shader Inputs and Outputs</a></li>
<li><a href="chap9.html#shaders-task">9.8. Task Shaders</a></li>
<li><a href="chap9.html#shaders-mesh">9.9. Mesh Shaders</a></li>
<li><a href="chap9.html#shaders-cluster-culling">9.10. Cluster Culling Shaders</a></li>
<li><a href="chap9.html#shaders-vertex">9.11. Vertex Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-control">9.12. Tessellation Control Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-evaluation">9.13. Tessellation Evaluation Shaders</a></li>
<li><a href="chap9.html#shaders-geometry">9.14. Geometry Shaders</a></li>
<li><a href="chap9.html#shaders-fragment">9.15. Fragment Shaders</a></li>
<li><a href="chap9.html#shaders-compute">9.16. Compute Shaders</a></li>
<li><a href="chap9.html#shaders-ray-generation">9.17. Ray Generation Shaders</a></li>
<li><a href="chap9.html#shaders-intersection">9.18. Intersection Shaders</a></li>
<li><a href="chap9.html#shaders-any-hit">9.19. Any-Hit Shaders</a></li>
<li><a href="chap9.html#shaders-closest-hit">9.20. Closest Hit Shaders</a></li>
<li><a href="chap9.html#shaders-miss">9.21. Miss Shaders</a></li>
<li><a href="chap9.html#shaders-callable">9.22. Callable Shaders</a></li>
<li><a href="chap9.html#shaders-interpolation-decorations">9.23. Interpolation decorations</a></li>
<li><a href="chap9.html#shaders-staticuse">9.24. Static Use</a></li>
<li><a href="chap9.html#shaders-scope">9.25. Scope</a></li>
<li><a href="chap9.html#shaders-group-operations">9.26. Group Operations</a></li>
<li><a href="chap9.html#shaders-quad-operations">9.27. Quad Group Operations</a></li>
<li><a href="chap9.html#shaders-derivative-operations">9.28. Derivative Operations</a></li>
<li><a href="chap9.html#shaders-helper-invocations">9.29. Helper Invocations</a></li>
<li><a href="chap9.html#_cooperative_matrices">9.30. Cooperative Matrices</a></li>
<li><a href="chap9.html#shaders-validation-cache">9.31. Validation Cache</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-compute">10.1. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">10.2. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-ray-tracing">10.3. Ray Tracing Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">10.4. Pipeline Destruction</a></li>
<li><a href="chap10.html#pipelines-multiple">10.5. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">10.6. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">10.7. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">10.8. Specialization Constants</a></li>
<li><a href="chap10.html#pipelines-library">10.9. Pipeline Libraries</a></li>
<li><a href="chap10.html#pipelines-binding">10.10. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">10.11. Dynamic State</a></li>
<li><a href="chap10.html#pipelines-shader-information">10.12. Pipeline Properties and Shader Information</a></li>
<li><a href="chap10.html#pipelines-compiler-control">10.13. Pipeline Compiler Control</a></li>
<li><a href="chap10.html#pipelines-creation-feedback">10.14. Pipeline Creation Feedback</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">11.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">11.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">12.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">12.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">12.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">12.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">12.5. Image Views</a></li>
<li><a href="chap12.html#resources-acceleration-structures">12.6. Acceleration Structures</a></li>
<li><a href="chap12.html#resources-micromaps">12.7. Micromaps</a></li>
<li><a href="chap12.html#resources-association">12.8. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">12.9. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">12.10. Memory Aliasing</a></li>
<li><a href="chap12.html#resources-buffer-collection-fuchsia">12.11. Buffer Collections</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap13.html#samplers-YCbCr-conversion">13.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap14.html#descriptorsets-types">14.1. Descriptor Types</a></li>
<li><a href="chap14.html#descriptorsets-sets">14.2. Descriptor Sets</a></li>
<li><a href="chap14.html#descriptorsets-physical-storage-buffer">14.3. Physical Storage Buffer Access</a></li>
<li><a href="chap14.html#descriptorbuffers">14.4. Descriptor Buffers</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#interfaces-iointerfaces">15.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap15.html#interfaces-vertexinput">15.2. Vertex Input Interface</a></li>
<li><a href="chap15.html#interfaces-fragmentoutput">15.3. Fragment Output Interface</a></li>
<li><a href="chap15.html#interfaces-legacy-dithering">15.4. Legacy Dithering</a></li>
<li><a href="chap15.html#interfaces-fragmenttileimage">15.5. Fragment Tile Image Interface</a></li>
<li><a href="chap15.html#interfaces-inputattachment">15.6. Fragment Input Attachment Interface</a></li>
<li><a href="chap15.html#interfaces-raypipeline">15.7. Ray Tracing Pipeline Interface</a></li>
<li><a href="chap15.html#interfaces-resources">15.8. Shader Resource Interface</a></li>
<li><a href="chap15.html#interfaces-builtin-variables">15.9. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">16.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">16.2. Conversion Formulas</a></li>
<li><a href="chap16.html#_texel_input_operations">16.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">16.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">16.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">16.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">16.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">16.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-footprint">16.9. Texel Footprint Evaluation</a></li>
<li><a href="chap16.html#textures-weightimage">16.10. Weight Image Sampling</a></li>
<li><a href="chap16.html#textures-blockmatch">16.11. Block Matching</a></li>
<li><a href="chap16.html#textures-boxfilter">16.12. Box Filter Sampling</a></li>
<li><a href="chap16.html#textures-instructions">16.13. Image Operation Steps</a></li>
<li><a href="chap16.html#textures-queries">16.14. Image Query Instructions</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Fragment Density Map Operations</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_fragment_density_map_operations_overview">17.1. Fragment Density Map Operations Overview</a></li>
<li><a href="chap17.html#fragmentdensitymap-fetch-density-value">17.2. Fetch Density Value</a></li>
<li><a href="chap17.html#fragmentdensitymap-conversion-to-fragment-area">17.3. Fragment Area Conversion</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Queries</a>
<ul class="sectlevel2">
<li><a href="chap18.html#queries-pools">18.1. Query Pools</a></li>
<li><a href="chap18.html#queries-operation">18.2. Query Operation</a></li>
<li><a href="chap18.html#queries-occlusion">18.3. Occlusion Queries</a></li>
<li><a href="chap18.html#queries-pipestats">18.4. Pipeline Statistics Queries</a></li>
<li><a href="chap18.html#queries-timestamps">18.5. Timestamp Queries</a></li>
<li><a href="chap18.html#queries-performance">18.6. Performance Queries</a></li>
<li><a href="chap18.html#queries-transform-feedback">18.7. Transform Feedback Queries</a></li>
<li><a href="chap18.html#queries-primitives-generated">18.8. Primitives Generated Queries</a></li>
<li><a href="chap18.html#queries-mesh-shader">18.9. Mesh Shader Queries</a></li>
<li><a href="chap18.html#queries-performance-intel">18.10. Intel performance queries</a></li>
<li><a href="chap18.html#queries-result-status-only">18.11. Result Status Queries</a></li>
<li><a href="chap18.html#queries-video-encode-feedback">18.12. Video Encode Feedback Queries</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#clears-outside">19.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-inside">19.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-values">19.3. Clear Values</a></li>
<li><a href="chap19.html#clears-filling-buffers">19.4. Filling Buffers</a></li>
<li><a href="chap19.html#clears-updating-buffers">19.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap20.html">20. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#copies-buffers">20.1. Copying Data Between Buffers</a></li>
<li><a href="chap20.html#copies-images">20.2. Copying Data Between Images</a></li>
<li><a href="chap20.html#copies-buffers-images">20.3. Copying Data Between Buffers and Images</a></li>
<li><a href="chap20.html#indirect-copies">20.4. Indirect Copies</a></li>
<li><a href="chap20.html#copies-imagescaling">20.5. Image Copies with Scaling</a></li>
<li><a href="chap20.html#copies-resolve">20.6. Resolving Multisample Images</a></li>
<li><a href="chap20.html#copies-buffer-markers">20.7. Buffer Markers</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap21.html#drawing-primitive-topologies">21.1. Primitive Topologies</a></li>
<li><a href="chap21.html#drawing-primitive-order">21.2. Primitive Order</a></li>
<li><a href="chap21.html#drawing-primitive-shading">21.3. Programmable Primitive Shading</a></li>
<li><a href="chap21.html#drawing-conditional-rendering">21.4. Conditional Rendering</a></li>
<li><a href="chap21.html#drawing-mesh-shading">21.5. Programmable Mesh Shading</a></li>
<li><a href="chap21.html#drawing-cluster-culling-shading">21.6. Programmable Cluster Culling Shading</a></li>
</ul>
</li>
<li><a href="chap22.html">22. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap22.html#fxvertex-attrib">22.1. Vertex Attributes</a></li>
<li><a href="chap22.html#fxvertex-input">22.2. Vertex Input Description</a></li>
<li><a href="chap22.html#fxvertex-attribute_divisor">22.3. Vertex Attribute Divisor in Instanced Rendering</a></li>
<li><a href="chap22.html#fxvertex-input-address-calculation">22.4. Vertex Input Address Calculation</a></li>
</ul>
</li>
<li><a href="chap23.html">23. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap23.html#_tessellator">23.1. Tessellator</a></li>
<li><a href="chap23.html#_tessellator_patch_discard">23.2. Tessellator Patch Discard</a></li>
<li><a href="chap23.html#tessellation-tessellator-spacing">23.3. Tessellator Spacing</a></li>
<li><a href="chap23.html#tessellation-primitive-order">23.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap23.html#tessellation-vertex-winding-order">23.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap23.html#tessellation-triangle-tessellation">23.6. Triangle Tessellation</a></li>
<li><a href="chap23.html#tessellation-quad-tessellation">23.7. Quad Tessellation</a></li>
<li><a href="chap23.html#tessellation-isoline-tessellation">23.8. Isoline Tessellation</a></li>
<li><a href="chap23.html#tessellation-point-mode">23.9. Tessellation Point Mode</a></li>
<li><a href="chap23.html#_tessellation_pipeline_state">23.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap24.html">24. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap24.html#geometry-input">24.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap24.html#geometry-output">24.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap24.html#geometry-invocations">24.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap24.html#geometry-ordering">24.4. Geometry Shader Primitive Ordering</a></li>
<li><a href="chap24.html#geometry-passthrough">24.5. Geometry Shader Passthrough</a></li>
</ul>
</li>
<li><a href="chap25.html">25. Mesh Shading</a>
<ul class="sectlevel2">
<li><a href="chap25.html#mesh-task-input">25.1. Task Shader Input</a></li>
<li><a href="chap25.html#mesh-task-output">25.2. Task Shader Output</a></li>
<li><a href="chap25.html#mesh-generation">25.3. Mesh Generation</a></li>
<li><a href="chap25.html#mesh-input">25.4. Mesh Shader Input</a></li>
<li><a href="chap25.html#mesh-output">25.5. Mesh Shader Output</a></li>
<li><a href="chap25.html#mesh-output-perview">25.6. Mesh Shader Per-View Outputs</a></li>
<li><a href="chap25.html#mesh-ordering">25.7. Mesh Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap26.html">26. Cluster Culling Shading</a>
<ul class="sectlevel2">
<li><a href="chap26.html#cluster-culling-input">26.1. Cluster Culling Shader Input</a></li>
<li><a href="chap26.html#cluster-culling-output">26.2. Cluster Culling Shader Output</a></li>
<li><a href="chap26.html#cluster-culling-cluster-ordering">26.3. Cluster Culling Shader Cluster Ordering</a></li>
<li><a href="chap26.html#cluster-culling-primitive-ordering">26.4. Cluster Culling Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap27.html">27. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap27.html#vertexpostproc-transform-feedback">27.1. Transform Feedback</a></li>
<li><a href="chap27.html#vertexpostproc-viewport-swizzle">27.2. Viewport Swizzle</a></li>
<li><a href="chap27.html#vertexpostproc-flatshading">27.3. Flat Shading</a></li>
<li><a href="chap27.html#vertexpostproc-clipping">27.4. Primitive Clipping</a></li>
<li><a href="chap27.html#vertexpostproc-clipping-shader-outputs">27.5. Clipping Shader Outputs</a></li>
<li><a href="chap27.html#vertexpostproc-viewportwscaling">27.6. Controlling Viewport W Scaling</a></li>
<li><a href="chap27.html#vertexpostproc-coord-transform">27.7. Coordinate Transformations</a></li>
<li><a href="chap27.html#vertexpostproc-renderpass-transform">27.8. Render Pass Transform</a></li>
<li><a href="chap27.html#vertexpostproc-viewport">27.9. Controlling the Viewport</a></li>
</ul>
</li>
<li class="current"><a href="chap28.html">28. Rasterization</a>
<ul class="sectlevel2">
<li class="current"><a href="chap28.html#primsrast-discard">28.1. Discarding Primitives Before Rasterization</a></li>
<li class="current"><a href="chap28.html#primsrast-stream">28.2. Controlling the Vertex Stream Used for Rasterization</a></li>
<li class="current"><a href="chap28.html#primsrast-order">28.3. Rasterization Order</a></li>
<li class="current"><a href="chap28.html#primsrast-multisampling">28.4. Multisampling</a></li>
<li class="current"><a href="chap28.html#primsrast-samplelocations">28.5. Custom Sample Locations</a></li>
<li class="current"><a href="chap28.html#primsrast-fragment-shading-rate">28.6. Fragment Shading Rates</a></li>
<li class="current"><a href="chap28.html#primsrast-shading-rate-image">28.7. Shading Rate Image</a></li>
<li class="current"><a href="chap28.html#primsrast-sampleshading">28.8. Sample Shading</a></li>
<li class="current"><a href="chap28.html#primsrast-barycentric">28.9. Barycentric Interpolation</a></li>
<li class="current"><a href="chap28.html#primsrast-points">28.10. Points</a></li>
<li class="current"><a href="chap28.html#primsrast-lines">28.11. Line Segments</a></li>
<li class="current"><a href="chap28.html#primsrast-polygons">28.12. Polygons</a></li>
</ul>
</li>
<li><a href="chap29.html">29. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap29.html#fragops-discard-rectangles">29.1. Discard Rectangles Test</a></li>
<li><a href="chap29.html#fragops-scissor">29.2. Scissor Test</a></li>
<li><a href="chap29.html#fragops-exclusive-scissor">29.3. Exclusive Scissor Test</a></li>
<li><a href="chap29.html#fragops-samplemask">29.4. Sample Mask Test</a></li>
<li><a href="chap29.html#fragops-shader">29.5. Fragment Shading</a></li>
<li><a href="chap29.html#fragops-covg">29.6. Multisample Coverage</a></li>
<li><a href="chap29.html#fragops-ds-state">29.7. Depth and Stencil Operations</a></li>
<li><a href="chap29.html#fragops-dbt">29.8. Depth Bounds Test</a></li>
<li><a href="chap29.html#fragops-stencil">29.9. Stencil Test</a></li>
<li><a href="chap29.html#fragops-depth">29.10. Depth Test</a></li>
<li><a href="chap29.html#fragops-rep-frag-test">29.11. Representative Fragment Test</a></li>
<li><a href="chap29.html#fragops-samplecount">29.12. Sample Counting</a></li>
<li><a href="chap29.html#fragops-coverage-to-color">29.13. Fragment Coverage To Color</a></li>
<li><a href="chap29.html#fragops-coverage-reduction">29.14. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap30.html">30. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap30.html#framebuffer-blending">30.1. Blending</a></li>
<li><a href="chap30.html#framebuffer-logicop">30.2. Logical Operations</a></li>
<li><a href="chap30.html#framebuffer-color-write-mask">30.3. Color Write Mask</a></li>
<li><a href="chap30.html#framebuffer-color-write-enable">30.4. Color Write Enable</a></li>
<li><a href="chap30.html#framebuffer-queries">30.5. Framebuffer Query Instructions</a></li>
</ul>
</li>
<li><a href="chap31.html">31. Dispatching Commands</a></li>
<li><a href="chap32.html">32. Device-Generated Commands</a>
<ul class="sectlevel2">
<li><a href="chap32.html#indirectmdslayout">32.1. Indirect Commands Layout</a></li>
<li><a href="chap32.html#_indirect_commands_generation_and_execution">32.2. Indirect Commands Generation And Execution</a></li>
</ul>
</li>
<li><a href="chap33.html">33. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap33.html#sparsememory-sparseresourcefeatures">33.1. Sparse Resource Features</a></li>
<li><a href="chap33.html#sparsememory-fully-resident">33.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap33.html#sparsememory-partially-resident-buffers">33.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap33.html#sparsememory-partially-resident-images">33.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap33.html#sparsememory-sparse-memory-aliasing">33.5. Sparse Memory Aliasing</a></li>
<li><a href="chap33.html#_sparse_resource_implementation_guidelines_informative">33.6. Sparse Resource Implementation Guidelines (Informative)</a></li>
<li><a href="chap33.html#sparsememory-resourceapi">33.7. Sparse Resource API</a></li>
</ul>
</li>
<li><a href="chap34.html">34. Window System Integration (WSI)</a>
<ul class="sectlevel2">
<li><a href="chap34.html#_wsi_platform">34.1. WSI Platform</a></li>
<li><a href="chap34.html#_wsi_surface">34.2. WSI Surface</a></li>
<li><a href="chap34.html#display">34.3. Presenting Directly to Display Devices</a></li>
<li><a href="chap34.html#_querying_for_wsi_support">34.4. Querying for WSI Support</a></li>
<li><a href="chap34.html#_surface_queries">34.5. Surface Queries</a></li>
<li><a href="chap34.html#_full_screen_exclusive_control">34.6. Full Screen Exclusive Control</a></li>
<li><a href="chap34.html#_device_group_queries">34.7. Device Group Queries</a></li>
<li><a href="chap34.html#_display_timing_queries">34.8. Display Timing Queries</a></li>
<li><a href="chap34.html#present-wait">34.9. Present Wait</a></li>
<li><a href="chap34.html#_wsi_swapchain">34.10. WSI Swapchain</a></li>
<li><a href="chap34.html#_hdr_metadata">34.11. Hdr Metadata</a></li>
<li><a href="chap34.html#present-barrier">34.12. Present Barrier</a></li>
</ul>
</li>
<li><a href="chap35.html">35. Deferred Host Operations</a>
<ul class="sectlevel2">
<li><a href="chap35.html#deferred-host-operations-requesting">35.1. Requesting Deferral</a></li>
<li><a href="chap35.html#_deferred_host_operations_api">35.2. Deferred Host Operations API</a></li>
</ul>
</li>
<li><a href="chap36.html">36. Private Data</a></li>
<li><a href="chap37.html">37. Acceleration Structures</a>
<ul class="sectlevel2">
<li><a href="chap37.html#acceleration-structure-def">37.1. Acceleration Structures</a></li>
<li><a href="chap37.html#host-acceleration-structure">37.2. Host Acceleration Structure Operations</a></li>
</ul>
</li>
<li><a href="chap38.html">38. Micromap</a>
<ul class="sectlevel2">
<li><a href="chap38.html#micromap-def">38.1. Micromaps</a></li>
<li><a href="chap38.html#host-micromap">38.2. Host Micromap Operations</a></li>
</ul>
</li>
<li><a href="chap39.html">39. Ray Traversal</a>
<ul class="sectlevel2">
<li><a href="chap39.html#ray-intersection-candidate-determination">39.1. Ray Intersection Candidate Determination</a></li>
<li><a href="chap39.html#ray-intersection-culling">39.2. Ray Intersection Culling</a></li>
<li><a href="chap39.html#ray-intersection-confirmation">39.3. Ray Intersection Confirmation</a></li>
<li><a href="chap39.html#ray-closest-hit-determination">39.4. Ray Closest Hit Determination</a></li>
<li><a href="chap39.html#ray-result-determination">39.5. Ray Result Determination</a></li>
</ul>
</li>
<li><a href="chap40.html">40. Ray Tracing</a>
<ul class="sectlevel2">
<li><a href="chap40.html#ray-tracing-shader-call">40.1. Shader Call Instructions</a></li>
<li><a href="chap40.html#ray-tracing-commands">40.2. Ray Tracing Commands</a></li>
<li><a href="chap40.html#shader-binding-table">40.3. Shader Binding Table</a></li>
<li><a href="chap40.html#ray-tracing-pipeline-stack">40.4. Ray Tracing Pipeline Stack</a></li>
<li><a href="chap40.html#ray-tracing-capture-replay">40.5. Ray Tracing Capture Replay</a></li>
</ul>
</li>
<li><a href="chap41.html">41. Memory Decompression</a></li>
<li><a href="chap42.html">42. Video Coding</a>
<ul class="sectlevel2">
<li><a href="chap42.html#video-picture-resources">42.1. Video Picture Resources</a></li>
<li><a href="chap42.html#dpb">42.2. Decoded Picture Buffer</a></li>
<li><a href="chap42.html#video-profiles">42.3. Video Profiles</a></li>
<li><a href="chap42.html#video-capabilities">42.4. Video Capabilities</a></li>
<li><a href="chap42.html#video-session">42.5. Video Sessions</a></li>
<li><a href="chap42.html#video-profile-compatibility">42.6. Video Profile Compatibility</a></li>
<li><a href="chap42.html#video-session-parameters">42.7. Video Session Parameters</a></li>
<li><a href="chap42.html#video-coding-scope">42.8. Video Coding Scope</a></li>
<li><a href="chap42.html#video-coding-control">42.9. Video Coding Control</a></li>
<li><a href="chap42.html#video-decode-operations">42.10. Video Decode Operations</a></li>
<li><a href="chap42.html#decode-h264">42.11. H.264 Decode Operations</a></li>
<li><a href="chap42.html#decode-h265">42.12. H.265 Decode Operations</a></li>
<li><a href="chap42.html#video-encode-operations">42.13. Video Encode Operations</a></li>
<li><a href="chap42.html#encode-h264">42.14. Encode H.264</a></li>
<li><a href="chap42.html#encode-h265">42.15. Encode H.265</a></li>
</ul>
</li>
<li><a href="chap43.html">43. Optical Flow</a>
<ul class="sectlevel2">
<li><a href="chap43.html#_optical_flow_queues">43.1. Optical Flow Queues</a></li>
<li><a href="chap43.html#opticalflow-formats">43.2. Optical Flow Image Formats</a></li>
<li><a href="chap43.html#opticalflow-session">43.3. Optical Flow Session</a></li>
</ul>
</li>
<li><a href="chap44.html">44. Execution Graphs</a>
<ul class="sectlevel2">
<li><a href="chap44.html#_pipeline_creation">44.1. Pipeline Creation</a></li>
<li><a href="chap44.html#_initializing_scratch_memory">44.2. Initializing Scratch Memory</a></li>
<li><a href="chap44.html#_dispatching_a_graph">44.3. Dispatching a Graph</a></li>
<li><a href="chap44.html#_shader_enqueue">44.4. Shader Enqueue</a></li>
</ul>
</li>
<li><a href="chap45.html">45. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap45.html#extendingvulkan-instanceanddevicefunctionality">45.1. Instance and Device Functionality</a></li>
<li><a href="chap45.html#extendingvulkan-coreversions">45.2. Core Versions</a></li>
<li><a href="chap45.html#extendingvulkan-layers">45.3. Layers</a></li>
<li><a href="chap45.html#extendingvulkan-extensions">45.4. Extensions</a></li>
<li><a href="chap45.html#extendingvulkan-extensions-extensiondependencies">45.5. Extension Dependencies</a></li>
<li><a href="chap45.html#_compatibility_guarantees_informative">45.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap46.html">46. Features</a>
<ul class="sectlevel2">
<li><a href="chap46.html#features-requirements">46.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="chap47.html">47. Limits</a>
<ul class="sectlevel2">
<li><a href="chap47.html#limits-minmax">47.1. Limit Requirements</a></li>
<li><a href="chap47.html#limits-multisample">47.2. Additional Multisampling Capabilities</a></li>
</ul>
</li>
<li><a href="chap48.html">48. Formats</a>
<ul class="sectlevel2">
<li><a href="chap48.html#formats-definition">48.1. Format Definition</a></li>
<li><a href="chap48.html#formats-properties">48.2. Format Properties</a></li>
<li><a href="chap48.html#features-required-format-support">48.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap49.html">49. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap49.html#capabilities-image">49.1. Additional Image Capabilities</a></li>
<li><a href="chap49.html#capabilities-buffer">49.2. Additional Buffer Capabilities</a></li>
<li><a href="chap49.html#capabilities-semaphore">49.3. Optional Semaphore Capabilities</a></li>
<li><a href="chap49.html#capabilities-fence">49.4. Optional Fence Capabilities</a></li>
<li><a href="chap49.html#features-timestamp-calibration">49.5. Timestamp Calibration Capabilities</a></li>
</ul>
</li>
<li><a href="chap50.html">50. Debugging</a>
<ul class="sectlevel2">
<li><a href="chap50.html#debugging-debug-utils">50.1. Debug Utilities</a></li>
<li><a href="chap50.html#debugging-debug-markers">50.2. Debug Markers</a></li>
<li><a href="chap50.html#debugging-debug-report-callbacks">50.3. Debug Report Callbacks</a></li>
<li><a href="chap50.html#_device_loss_debugging">50.4. Device Loss Debugging</a></li>
<li><a href="chap50.html#debugging-tooling-info">50.5. Active Tooling Information</a></li>
</ul>
</li>
<li><a href="chap51.html">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap51.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap51.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap51.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap51.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap51.html#spirvenv-image-signedness">Signedness of SPIR-V Image Accesses</a></li>
<li><a href="chap51.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap51.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
<li><a href="chap51.html#spirenv-ray-query-precision-operation">Ray Query Precision and Operation</a></li>
</ul>
</li>
<li><a href="chap52.html">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap52.html#memory-model-agent">Agent</a></li>
<li><a href="chap52.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap52.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap52.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap52.html#memory-model-references">Reference</a></li>
<li><a href="chap52.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap52.html#shader-call-related">Shader Call Related</a></li>
<li><a href="chap52.html#shader-call-order">Shader Call Order</a></li>
<li><a href="chap52.html#memory-model-scope">Scope</a></li>
<li><a href="chap52.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap52.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap52.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap52.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap52.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap52.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap52.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap52.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap52.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap52.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap52.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap52.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap52.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap52.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap52.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap52.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap52.html#memory-model-acyclicity">Acyclicity</a></li>
<li><a href="chap52.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap52.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap52.html#memory-model-informative-descriptions">Descriptions (Informative)</a></li>
<li><a href="chap52.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
<li><a href="chap52.html#memory-model-cooperative-matrix">Cooperative Matrix Memory Access</a></li>
</ul>
</li>
<li><a href="chap53.html">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap53.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap53.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap53.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
<li><a href="chap53.html#appendix-compressedtex-pvrtc">PVRTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap54.html">Appendix D: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap54.html#versions-1.1">Version 1.1</a></li>
<li><a href="chap54.html#versions-1.0">Version 1.0</a></li>
</ul>
</li>
<li><a href="chap55.html">Appendix E: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap55.html#_extension_dependencies">Extension Dependencies</a></li>
<li><a href="chap55.html#extension-appendices-list">List of Current Extensions</a></li>
<li><a href="chap55.html#provisional-extension-appendices-list">List of Provisional Extensions</a></li>
<li><a href="chap55.html#deprecated-extension-appendices-list">List of Deprecated Extensions</a></li>
</ul>
</li>
<li><a href="chap56.html">Appendix F: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap56.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap56.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap56.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
<li><a href="chap56.html#boilerplate-video-std-headers">Video Std Headers</a></li>
</ul>
</li>
<li><a href="chap57.html">Appendix G: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap57.html#_repeatability">Repeatability</a></li>
<li><a href="chap57.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap57.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap57.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap58.html">Appendix H: Lexicon</a>
<ul class="sectlevel2">
<li><a href="chap58.html#glossary">Glossary</a></li>
<li><a href="chap58.html#lexicon-common-abbreviations">Common Abbreviations</a></li>
<li><a href="chap58.html#lexicon-video-abbreviations">Video-Specific Abbreviations</a></li>
<li><a href="chap58.html#lexicon-prefixes">Prefixes</a></li>
</ul>
</li>
<li><a href="chap59.html">Appendix I: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap59.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap59.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
<div id="content" class="loadable"><div class="sect1">
<h2 id="primsrast"><a class="anchor" href="chap28.html"></a>28. Rasterization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Rasterization is the process by which a primitive is converted to a
two-dimensional image.
Each discrete location of this image contains associated data such as depth,
color, or other attributes.</p>
</div>
<div class="paragraph">
<p>Rasterizing a primitive begins by determining which squares of an integer
grid in framebuffer coordinates are occupied by the primitive, and assigning
one or more depth values to each such square.
This process is described below for points, lines, and polygons.</p>
</div>
<div class="paragraph">
<p>A grid square, including its <span class="eq">(x,y)</span> framebuffer coordinates, <span class="eq">z</span>
(depth), and associated data added by fragment shaders, is called a
fragment.
A fragment is located by its upper left corner, which lies on integer grid
coordinates.</p>
</div>
<div class="paragraph">
<p>Rasterization operations also refer to a fragment’s sample locations, which
are offset by fractional values from its upper left corner.
The rasterization rules for points, lines, and triangles involve testing
whether each sample location is inside the primitive.
Fragments need not actually be square, and rasterization rules are not
affected by the aspect ratio of fragments.
Display of non-square grids, however, will cause rasterized points and line
segments to appear fatter in one direction than the other.</p>
</div>
<div class="paragraph">
<p>We assume that fragments are square, since it simplifies antialiasing and
texturing.
After rasterization, fragments are processed by <a href="chap29.html">fragment
operations</a>.</p>
</div>
<div class="paragraph">
<p>Several factors affect rasterization, including the members of
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a> and
<a href="chap28.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineRasterizationStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineRasterizationStateCreateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineRasterizationStateCreateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                            <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkPipelineRasterizationStateCreateFlags</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">VkBool32</span>                                   <span class="n">depthClampEnable</span><span class="p">;</span>
    <span class="n">VkBool32</span>                                   <span class="n">rasterizerDiscardEnable</span><span class="p">;</span>
    <span class="n">VkPolygonMode</span>                              <span class="n">polygonMode</span><span class="p">;</span>
    <span class="n">VkCullModeFlags</span>                            <span class="n">cullMode</span><span class="p">;</span>
    <span class="n">VkFrontFace</span>                                <span class="n">frontFace</span><span class="p">;</span>
    <span class="n">VkBool32</span>                                   <span class="n">depthBiasEnable</span><span class="p">;</span>
    <span class="kt">float</span>                                      <span class="n">depthBiasConstantFactor</span><span class="p">;</span>
    <span class="kt">float</span>                                      <span class="n">depthBiasClamp</span><span class="p">;</span>
    <span class="kt">float</span>                                      <span class="n">depthBiasSlopeFactor</span><span class="p">;</span>
    <span class="kt">float</span>                                      <span class="n">lineWidth</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPipelineRasterizationStateCreateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>depthClampEnable</code> controls whether to clamp the fragment’s depth
values as described in <a href="chap29.html#fragops-depth">Depth Test</a>.
If the pipeline is not created with
<a href="chap28.html#VkPipelineRasterizationDepthClipStateCreateInfoEXT">VkPipelineRasterizationDepthClipStateCreateInfoEXT</a> present then
enabling depth clamp will also disable clipping primitives to the z
planes of the frustrum as described in <a href="chap27.html#vertexpostproc-clipping">Primitive Clipping</a>.
Otherwise depth clipping is controlled by the state set in
<a href="chap28.html#VkPipelineRasterizationDepthClipStateCreateInfoEXT">VkPipelineRasterizationDepthClipStateCreateInfoEXT</a>.</p>
</li>
<li>
<p><code>rasterizerDiscardEnable</code> controls whether primitives are discarded
immediately before the rasterization stage.</p>
</li>
<li>
<p><code>polygonMode</code> is the triangle rendering mode.
See <a href="chap28.html#VkPolygonMode">VkPolygonMode</a>.</p>
</li>
<li>
<p><code>cullMode</code> is the triangle facing direction used for primitive
culling.
See <a href="chap28.html#VkCullModeFlagBits">VkCullModeFlagBits</a>.</p>
</li>
<li>
<p><code>frontFace</code> is a <a href="chap28.html#VkFrontFace">VkFrontFace</a> value specifying the front-facing
triangle orientation to be used for culling.</p>
</li>
<li>
<p><code>depthBiasEnable</code> controls whether to bias fragment depth values.</p>
</li>
<li>
<p><code>depthBiasConstantFactor</code> is a scalar factor controlling the
constant depth value added to each fragment.</p>
</li>
<li>
<p><code>depthBiasClamp</code> is the maximum (or minimum) depth bias of a
fragment.</p>
</li>
<li>
<p><code>depthBiasSlopeFactor</code> is a scalar factor applied to a fragment’s
slope in depth bias calculations.</p>
</li>
<li>
<p><code>lineWidth</code> is the width of rasterized line segments.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The application <strong class="purple">can</strong> also add a
<code>VkPipelineRasterizationStateRasterizationOrderAMD</code> structure to the
<code>pNext</code> chain of a <a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>
structure.
This structure enables selecting the rasterization order to use when
rendering with the corresponding graphics pipeline as described in
<a href="chap28.html#primsrast-order">Rasterization Order</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-depthClampEnable-00782" href="chap28.html#VUID-VkPipelineRasterizationStateCreateInfo-depthClampEnable-00782"></a> <span class="vuid">VUID-VkPipelineRasterizationStateCreateInfo-depthClampEnable-00782</span><br>

If the <a href="chap46.html#features-depthClamp"><code>depthClamp</code></a> feature is not enabled,
<code>depthClampEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-01507" href="chap28.html#VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-01507"></a> <span class="vuid">VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-01507</span><br>

If the <a href="chap46.html#features-fillModeNonSolid"><code>fillModeNonSolid</code></a> feature is
not enabled, <code>polygonMode</code> <strong class="purple">must</strong> be <code>VK_POLYGON_MODE_FILL</code> or
<code>VK_POLYGON_MODE_FILL_RECTANGLE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-01414" href="chap28.html#VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-01414"></a> <span class="vuid">VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-01414</span><br>

If the <code><a href="chap55.html#VK_NV_fill_rectangle">VK_NV_fill_rectangle</a></code> extension is not enabled,
<code>polygonMode</code> <strong class="purple">must</strong> not be <code>VK_POLYGON_MODE_FILL_RECTANGLE_NV</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-pointPolygons-04458" href="chap28.html#VUID-VkPipelineRasterizationStateCreateInfo-pointPolygons-04458"></a> <span class="vuid">VUID-VkPipelineRasterizationStateCreateInfo-pointPolygons-04458</span><br>

If the <code><a href="chap55.html#VK_KHR_portability_subset">VK_KHR_portability_subset</a></code> extension is enabled, and
<a href="chap46.html#VkPhysicalDevicePortabilitySubsetFeaturesKHR">VkPhysicalDevicePortabilitySubsetFeaturesKHR</a>::<code>pointPolygons</code>
is <code>VK_FALSE</code>, and <code>rasterizerDiscardEnable</code> is <code>VK_FALSE</code>,
<code>polygonMode</code> <strong class="purple">must</strong> not be <code>VK_POLYGON_MODE_POINT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-sType-sType" href="chap28.html#VUID-VkPipelineRasterizationStateCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineRasterizationStateCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-pNext-pNext" href="chap28.html#VUID-VkPipelineRasterizationStateCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineRasterizationStateCreateInfo-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong class="purple">must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="chap28.html#VkDepthBiasRepresentationInfoEXT">VkDepthBiasRepresentationInfoEXT</a>, <a href="chap28.html#VkPipelineRasterizationConservativeStateCreateInfoEXT">VkPipelineRasterizationConservativeStateCreateInfoEXT</a>, <a href="chap28.html#VkPipelineRasterizationDepthClipStateCreateInfoEXT">VkPipelineRasterizationDepthClipStateCreateInfoEXT</a>, <a href="chap28.html#VkPipelineRasterizationLineStateCreateInfoEXT">VkPipelineRasterizationLineStateCreateInfoEXT</a>, <a href="chap27.html#VkPipelineRasterizationProvokingVertexStateCreateInfoEXT">VkPipelineRasterizationProvokingVertexStateCreateInfoEXT</a>, <a href="chap28.html#VkPipelineRasterizationStateRasterizationOrderAMD">VkPipelineRasterizationStateRasterizationOrderAMD</a>, or <a href="chap28.html#VkPipelineRasterizationStateStreamCreateInfoEXT">VkPipelineRasterizationStateStreamCreateInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-sType-unique" href="chap28.html#VUID-VkPipelineRasterizationStateCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkPipelineRasterizationStateCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-flags-zerobitmask" href="chap28.html#VUID-VkPipelineRasterizationStateCreateInfo-flags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineRasterizationStateCreateInfo-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-parameter" href="chap28.html#VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-parameter"></a> <span class="vuid">VUID-VkPipelineRasterizationStateCreateInfo-polygonMode-parameter</span><br>
 <code>polygonMode</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkPolygonMode">VkPolygonMode</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-cullMode-parameter" href="chap28.html#VUID-VkPipelineRasterizationStateCreateInfo-cullMode-parameter"></a> <span class="vuid">VUID-VkPipelineRasterizationStateCreateInfo-cullMode-parameter</span><br>
 <code>cullMode</code> <strong class="purple">must</strong> be a valid combination of <a href="chap28.html#VkCullModeFlagBits">VkCullModeFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateCreateInfo-frontFace-parameter" href="chap28.html#VUID-VkPipelineRasterizationStateCreateInfo-frontFace-parameter"></a> <span class="vuid">VUID-VkPipelineRasterizationStateCreateInfo-frontFace-parameter</span><br>
 <code>frontFace</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkFrontFace">VkFrontFace</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineRasterizationStateCreateFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkPipelineRasterizationStateCreateFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineRasterizationStateCreateFlags</code> is a bitmask type for setting
a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>
includes a <code>VkPipelineRasterizationDepthClipStateCreateInfoEXT</code>
structure, then that structure controls whether depth clipping is enabled or
disabled.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineRasterizationDepthClipStateCreateInfoEXT</code> structure is
defined as:</p>
</div>
<div id="VkPipelineRasterizationDepthClipStateCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_depth_clip_enable</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineRasterizationDepthClipStateCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                                        <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                            <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkPipelineRasterizationDepthClipStateCreateFlagsEXT</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">VkBool32</span>                                               <span class="n">depthClipEnable</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPipelineRasterizationDepthClipStateCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>depthClipEnable</code> controls whether depth clipping is enabled as
described in <a href="chap27.html#vertexpostproc-clipping">Primitive Clipping</a>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationDepthClipStateCreateInfoEXT-sType-sType" href="chap28.html#VUID-VkPipelineRasterizationDepthClipStateCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkPipelineRasterizationDepthClipStateCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_DEPTH_CLIP_STATE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationDepthClipStateCreateInfoEXT-flags-zerobitmask" href="chap28.html#VUID-VkPipelineRasterizationDepthClipStateCreateInfoEXT-flags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineRasterizationDepthClipStateCreateInfoEXT-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineRasterizationDepthClipStateCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_depth_clip_enable</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkPipelineRasterizationDepthClipStateCreateFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineRasterizationDepthClipStateCreateFlagsEXT</code> is a bitmask type
for setting a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineMultisampleStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineMultisampleStateCreateInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineMultisampleStateCreateInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                          <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                              <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkPipelineMultisampleStateCreateFlags</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">VkSampleCountFlagBits</span>                    <span class="n">rasterizationSamples</span><span class="p">;</span>
    <span class="n">VkBool32</span>                                 <span class="n">sampleShadingEnable</span><span class="p">;</span>
    <span class="kt">float</span>                                    <span class="n">minSampleShading</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkSampleMask</span><span class="o">*</span>                      <span class="n">pSampleMask</span><span class="p">;</span>
    <span class="n">VkBool32</span>                                 <span class="n">alphaToCoverageEnable</span><span class="p">;</span>
    <span class="n">VkBool32</span>                                 <span class="n">alphaToOneEnable</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPipelineMultisampleStateCreateInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>rasterizationSamples</code> is a <a href="chap47.html#VkSampleCountFlagBits">VkSampleCountFlagBits</a> value
specifying the number of samples used in rasterization.
This value is ignored for the purposes of setting the number of samples
used in rasterization if the pipeline is created with the
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> dynamic state set, but
if <code>VK_DYNAMIC_STATE_SAMPLE_MASK_EXT</code> dynamic state is not set, it
is still used to define the size of the <code>pSampleMask</code> array as
described below.</p>
</li>
<li>
<p><code>sampleShadingEnable</code> <strong class="purple">can</strong> be used to enable
<a href="chap28.html#primsrast-sampleshading">Sample Shading</a>.</p>
</li>
<li>
<p><code>minSampleShading</code> specifies a minimum fraction of sample shading if
<code>sampleShadingEnable</code> is set to <code>VK_TRUE</code>.</p>
</li>
<li>
<p><code>pSampleMask</code> is a pointer to an array of <a href="chap28.html#VkSampleMask">VkSampleMask</a>
values used in the <a href="chap29.html#fragops-samplemask">sample mask test</a>.</p>
</li>
<li>
<p><code>alphaToCoverageEnable</code> controls whether a temporary coverage value
is generated based on the alpha component of the fragment’s first color
output as specified in the <a href="chap29.html#fragops-covg">Multisample Coverage</a>
section.</p>
</li>
<li>
<p><code>alphaToOneEnable</code> controls whether the alpha component of the
fragment’s first color output is replaced with one as described in
<a href="chap29.html#fragops-covg">Multisample Coverage</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each bit in the sample mask is associated with a unique
<a href="chap28.html#primsrast-multisampling-coverage-mask">sample index</a> as defined for the
<a href="chap28.html#primsrast-multisampling-coverage-mask">coverage mask</a>.
Each bit <span class="eq">b</span> for mask word <span class="eq">w</span> in the sample mask corresponds to
sample index <span class="eq">i</span>, where <span class="eq">i = 32 × w +  b</span>.
<code>pSampleMask</code> has a length equal to <span class="eq">⌈
<code>rasterizationSamples</code> / 32 ⌉</span> words.</p>
</div>
<div class="paragraph">
<p>If <code>pSampleMask</code> is <code>NULL</code>, it is treated as if the mask has all bits
set to <code>1</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-sampleShadingEnable-00784" href="chap28.html#VUID-VkPipelineMultisampleStateCreateInfo-sampleShadingEnable-00784"></a> <span class="vuid">VUID-VkPipelineMultisampleStateCreateInfo-sampleShadingEnable-00784</span><br>

If the <a href="chap46.html#features-sampleRateShading"><code>sampleRateShading</code></a> feature
is not enabled, <code>sampleShadingEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-alphaToOneEnable-00785" href="chap28.html#VUID-VkPipelineMultisampleStateCreateInfo-alphaToOneEnable-00785"></a> <span class="vuid">VUID-VkPipelineMultisampleStateCreateInfo-alphaToOneEnable-00785</span><br>

If the <a href="chap46.html#features-alphaToOne"><code>alphaToOne</code></a> feature is not enabled,
<code>alphaToOneEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-minSampleShading-00786" href="chap28.html#VUID-VkPipelineMultisampleStateCreateInfo-minSampleShading-00786"></a> <span class="vuid">VUID-VkPipelineMultisampleStateCreateInfo-minSampleShading-00786</span><br>

<code>minSampleShading</code> <strong class="purple">must</strong> be in the range <span class="eq">[0,1]</span></p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-rasterizationSamples-01415" href="chap28.html#VUID-VkPipelineMultisampleStateCreateInfo-rasterizationSamples-01415"></a> <span class="vuid">VUID-VkPipelineMultisampleStateCreateInfo-rasterizationSamples-01415</span><br>

If the <code><a href="chap55.html#VK_NV_framebuffer_mixed_samples">VK_NV_framebuffer_mixed_samples</a></code> extension is enabled,
and if the subpass has any color attachments and
<code>rasterizationSamples</code> is greater than the number of color samples,
then <code>sampleShadingEnable</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-sType-sType" href="chap28.html#VUID-VkPipelineMultisampleStateCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineMultisampleStateCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-pNext-pNext" href="chap28.html#VUID-VkPipelineMultisampleStateCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineMultisampleStateCreateInfo-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong class="purple">must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="chap29.html#VkPipelineCoverageModulationStateCreateInfoNV">VkPipelineCoverageModulationStateCreateInfoNV</a>, <a href="chap29.html#VkPipelineCoverageReductionStateCreateInfoNV">VkPipelineCoverageReductionStateCreateInfoNV</a>, <a href="chap29.html#VkPipelineCoverageToColorStateCreateInfoNV">VkPipelineCoverageToColorStateCreateInfoNV</a>, or <a href="chap28.html#VkPipelineSampleLocationsStateCreateInfoEXT">VkPipelineSampleLocationsStateCreateInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-sType-unique" href="chap28.html#VUID-VkPipelineMultisampleStateCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkPipelineMultisampleStateCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-flags-zerobitmask" href="chap28.html#VUID-VkPipelineMultisampleStateCreateInfo-flags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineMultisampleStateCreateInfo-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-rasterizationSamples-parameter" href="chap28.html#VUID-VkPipelineMultisampleStateCreateInfo-rasterizationSamples-parameter"></a> <span class="vuid">VUID-VkPipelineMultisampleStateCreateInfo-rasterizationSamples-parameter</span><br>
 <code>rasterizationSamples</code> <strong class="purple">must</strong> be a valid <a href="chap47.html#VkSampleCountFlagBits">VkSampleCountFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineMultisampleStateCreateInfo-pSampleMask-parameter" href="chap28.html#VUID-VkPipelineMultisampleStateCreateInfo-pSampleMask-parameter"></a> <span class="vuid">VUID-VkPipelineMultisampleStateCreateInfo-pSampleMask-parameter</span><br>
 If <code>pSampleMask</code> is not <code>NULL</code>, <code>pSampleMask</code> <strong class="purple">must</strong> be a valid pointer to an array of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.277216em;vertical-align:-0.345em;"></span><span class="mopen">⌈</span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathit mtight">r</span><span class="mord mathit mtight">a</span><span class="mord mathit mtight">s</span><span class="mord mathit mtight">t</span><span class="mord mathit mtight">e</span><span class="mord mathit mtight">r</span><span class="mord mathit mtight">i</span><span class="mord mathit mtight">z</span><span class="mord mathit mtight">a</span><span class="mord mathit mtight">t</span><span class="mord mathit mtight">i</span><span class="mord mathit mtight">o</span><span class="mord mathit mtight">n</span><span class="mord mathit mtight">S</span><span class="mord mathit mtight">a</span><span class="mord mathit mtight">m</span><span class="mord mathit mtight">p</span><span class="mord mathit mtight">l</span><span class="mord mathit mtight">e</span><span class="mord mathit mtight">s</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mclose">⌉</span></span></span></span> <a href="chap28.html#VkSampleMask">VkSampleMask</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineMultisampleStateCreateFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkPipelineMultisampleStateCreateFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineMultisampleStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The elements of the sample mask array are of type <a href="chap28.html#VkSampleMask">VkSampleMask</a>,
each representing 32 bits of coverage information:</p>
</div>
<div id="VkSampleMask" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="kt">uint32_t</span> <span class="n">VkSampleMask</span><span class="p">;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Rasterization only generates fragments which cover one or more pixels inside
the framebuffer.
Pixels outside the framebuffer are never considered covered in the fragment.
Fragments which would be produced by application of any of the primitive
rasterization rules described below but which lie outside the framebuffer
are not produced, nor are they processed by any later stage of the pipeline,
including any of the <a href="chap29.html">fragment operations</a>.</p>
</div>
<div class="paragraph">
<p>Surviving fragments are processed by fragment shaders.
Fragment shaders determine associated data for fragments, and <strong class="purple">can</strong> also
modify or replace their assigned depth values.</p>
</div>
<div class="sect2">
<h3 id="primsrast-discard"><a class="anchor" href="chap28.html#primsrast-discard"></a>28.1. Discarding Primitives Before Rasterization</h3>
<div class="paragraph">
<p>Primitives are discarded before rasterization if the
<code>rasterizerDiscardEnable</code> member of
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a> is enabled.
When enabled, primitives are discarded after they are processed by the last
active shader stage in the pipeline before rasterization.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically enable</a> whether primitives are
discarded before the rasterization stage, call:</p>
</div>
<div id="vkCmdSetRasterizerDiscardEnableEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state2, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetRasterizerDiscardEnableEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkBool32</span>                                    <span class="n">rasterizerDiscardEnable</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>rasterizerDiscardEnable</code> controls whether primitives are discarded
immediately before the rasterization stage.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the discard enable for subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>rasterizerDiscardEnable</code>
value used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetRasterizerDiscardEnable-None-08970" href="chap28.html#VUID-vkCmdSetRasterizerDiscardEnable-None-08970"></a> <span class="vuid">VUID-vkCmdSetRasterizerDiscardEnable-None-08970</span><br>

At least one of the following <strong class="purple">must</strong> be true:</p>
<div class="ulist">
<ul>
<li>
<p>the <a href="chap46.html#features-extendedDynamicState2"><code>extendedDynamicState2</code></a>
feature is enabled</p>
</li>
<li>
<p>the <a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature is enabled</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetRasterizerDiscardEnable-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetRasterizerDiscardEnable-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetRasterizerDiscardEnable-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizerDiscardEnable-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetRasterizerDiscardEnable-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetRasterizerDiscardEnable-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizerDiscardEnable-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetRasterizerDiscardEnable-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetRasterizerDiscardEnable-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizerDiscardEnable-videocoding" href="chap28.html#VUID-vkCmdSetRasterizerDiscardEnable-videocoding"></a> <span class="vuid">VUID-vkCmdSetRasterizerDiscardEnable-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-stream"><a class="anchor" href="chap28.html#primsrast-stream"></a>28.2. Controlling the Vertex Stream Used for Rasterization</h3>
<div class="paragraph">
<p>By default vertex data output from the last
<a href="chap10.html#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> are directed to vertex stream zero.
Geometry shaders <strong class="purple">can</strong> emit primitives to multiple independent vertex
streams.
Each vertex emitted by the geometry shader is directed at one of the vertex
streams.
As vertices are received on each vertex stream, they are arranged into
primitives of the type specified by the geometry shader output primitive
type.
The shading language instructions <code>OpEndPrimitive</code> and
<code>OpEndStreamPrimitive</code> <strong class="purple">can</strong> be used to end the primitive being assembled
on a given vertex stream and start a new empty primitive of the same type.
An implementation supports up to
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>maxTransformFeedbackStreams</code>
streams, which is at least 1.
The individual streams are numbered 0 through
<code>maxTransformFeedbackStreams</code> minus 1.
There is no requirement on the order of the streams to which vertices are
emitted, and the number of vertices emitted to each vertex stream <strong class="purple">can</strong> be
completely independent, subject only to the
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>maxTransformFeedbackStreamDataSize</code>
and
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>maxTransformFeedbackBufferDataSize</code>
limits.
The primitives output from all vertex streams are passed to the transform
feedback stage to be captured to transform feedback buffers in the manner
specified by the last
<a href="chap10.html#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> shader’s <code>XfbBuffer</code>, <code>XfbStride</code>, and <code>Offsets</code>
decorations on the output interface variables in the graphics pipeline.
To use a vertex stream other than zero, or to use multiple streams, the
<code>GeometryStreams</code> capability <strong class="purple">must</strong> be specified.</p>
</div>
<div class="paragraph">
<p>By default, the primitives output from vertex stream zero are rasterized.
If the implementation supports the
<a href="chap47.html#VkPhysicalDeviceTransformFeedbackPropertiesEXT">VkPhysicalDeviceTransformFeedbackPropertiesEXT</a>::<code>transformFeedbackRasterizationStreamSelect</code>
property it is possible to rasterize a vertex stream other than zero.</p>
</div>
<div class="paragraph">
<p>By default, geometry shaders that emit vertices to multiple vertex streams
are limited to using only the <code>OutputPoints</code> output primitive type.
If the implementation supports the
<a href="chap47.html#VkPhysicalDeviceTransformFeedbackPropertiesEXT">VkPhysicalDeviceTransformFeedbackPropertiesEXT</a>::<code>transformFeedbackStreamsLinesTriangles</code>
property it is possible to emit <code>OutputLineStrip</code> or
<code>OutputTriangleStrip</code> in addition to <code>OutputPoints</code>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The vertex stream used for rasterization is specified by adding a
<code>VkPipelineRasterizationStateStreamCreateInfoEXT</code> structure to the
<code>pNext</code> chain of a <a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>
structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineRasterizationStateStreamCreateInfoEXT</code> structure is
defined as:</p>
</div>
<div id="VkPipelineRasterizationStateStreamCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_transform_feedback</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineRasterizationStateStreamCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                                     <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                         <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkPipelineRasterizationStateStreamCreateFlagsEXT</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                                            <span class="n">rasterizationStream</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPipelineRasterizationStateStreamCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>rasterizationStream</code> is the vertex stream selected for
rasterization.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this structure is not present, <code>rasterizationStream</code> is assumed to be
zero.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-geometryStreams-02324" href="chap28.html#VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-geometryStreams-02324"></a> <span class="vuid">VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-geometryStreams-02324</span><br>

<code>VkPhysicalDeviceTransformFeedbackFeaturesEXT</code>::<code>geometryStreams</code>
<strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-rasterizationStream-02325" href="chap28.html#VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-rasterizationStream-02325"></a> <span class="vuid">VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-rasterizationStream-02325</span><br>

<code>rasterizationStream</code> <strong class="purple">must</strong> be less than
<a href="chap47.html#VkPhysicalDeviceTransformFeedbackPropertiesEXT">VkPhysicalDeviceTransformFeedbackPropertiesEXT</a>::<code>maxTransformFeedbackStreams</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-rasterizationStream-02326" href="chap28.html#VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-rasterizationStream-02326"></a> <span class="vuid">VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-rasterizationStream-02326</span><br>

<code>rasterizationStream</code> <strong class="purple">must</strong> be zero if
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>transformFeedbackRasterizationStreamSelect</code>
is <code>VK_FALSE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-sType-sType" href="chap28.html#VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_STREAM_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-flags-zerobitmask" href="chap28.html#VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-flags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineRasterizationStateStreamCreateInfoEXT-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineRasterizationStateStreamCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_transform_feedback</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkPipelineRasterizationStateStreamCreateFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineRasterizationStateStreamCreateFlagsEXT</code> is a bitmask type for
setting a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the
<code>rasterizationStream</code> state, call:</p>
</div>
<div id="vkCmdSetRasterizationStreamEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state3, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetRasterizationStreamEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">rasterizationStream</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>rasterizationStream</code> specifies the <code>rasterizationStream</code> state.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the <code>rasterizationStream</code> state for subsequent drawing
commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationStateStreamCreateInfoEXT">VkPipelineRasterizationStateStreamCreateInfoEXT</a>::<code>rasterizationStream</code>
value used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetRasterizationStreamEXT-None-08550" href="chap28.html#VUID-vkCmdSetRasterizationStreamEXT-None-08550"></a> <span class="vuid">VUID-vkCmdSetRasterizationStreamEXT-None-08550</span><br>

Either the <a href="chap46.html#features-extendedDynamicState3RasterizationStream"><code>extendedDynamicState3RasterizationStream</code></a> feature or the
<a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature or both <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizationStreamEXT-transformFeedback-07411" href="chap28.html#VUID-vkCmdSetRasterizationStreamEXT-transformFeedback-07411"></a> <span class="vuid">VUID-vkCmdSetRasterizationStreamEXT-transformFeedback-07411</span><br>

The <a href="chap46.html#features-transformFeedback"><code>transformFeedback</code></a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizationStreamEXT-rasterizationStream-07412" href="chap28.html#VUID-vkCmdSetRasterizationStreamEXT-rasterizationStream-07412"></a> <span class="vuid">VUID-vkCmdSetRasterizationStreamEXT-rasterizationStream-07412</span><br>

<code>rasterizationStream</code> <strong class="purple">must</strong> be less than
<a href="chap47.html#VkPhysicalDeviceTransformFeedbackPropertiesEXT">VkPhysicalDeviceTransformFeedbackPropertiesEXT</a>::<code>maxTransformFeedbackStreams</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizationStreamEXT-rasterizationStream-07413" href="chap28.html#VUID-vkCmdSetRasterizationStreamEXT-rasterizationStream-07413"></a> <span class="vuid">VUID-vkCmdSetRasterizationStreamEXT-rasterizationStream-07413</span><br>

<code>rasterizationStream</code> <strong class="purple">must</strong> be zero if
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>transformFeedbackRasterizationStreamSelect</code>
is <code>VK_FALSE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetRasterizationStreamEXT-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetRasterizationStreamEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetRasterizationStreamEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizationStreamEXT-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetRasterizationStreamEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetRasterizationStreamEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizationStreamEXT-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetRasterizationStreamEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetRasterizationStreamEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizationStreamEXT-videocoding" href="chap28.html#VUID-vkCmdSetRasterizationStreamEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetRasterizationStreamEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-order"><a class="anchor" href="chap28.html#primsrast-order"></a>28.3. Rasterization Order</h3>
<div class="paragraph">
<p>Within a subpass of a <a href="chap8.html">render pass instance</a>, for a given
(x,y,layer,sample) sample location, the following operations are guaranteed
to execute in <em>rasterization order</em>, for each separate primitive that
includes that sample location:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="chap29.html">Fragment operations</a>, in the order defined</p>
</li>
<li>
<p><a href="chap30.html#framebuffer-blending">Blending</a>, <a href="chap30.html#framebuffer-logicop">logic
operations</a>, and color writes</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Execution of these operations for each primitive in a subpass occurs in
an order determined by the application.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The rasterization order to use for a graphics pipeline is specified by
adding a <code>VkPipelineRasterizationStateRasterizationOrderAMD</code> structure
to the <code>pNext</code> chain of a <a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>
structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineRasterizationStateRasterizationOrderAMD</code> structure is
defined as:</p>
</div>
<div id="VkPipelineRasterizationStateRasterizationOrderAMD" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_AMD_rasterization_order</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineRasterizationStateRasterizationOrderAMD</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>            <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkRasterizationOrderAMD</span>    <span class="n">rasterizationOrder</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPipelineRasterizationStateRasterizationOrderAMD</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>rasterizationOrder</code> is a <a href="chap28.html#VkRasterizationOrderAMD">VkRasterizationOrderAMD</a> value
specifying the primitive rasterization order to use.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationStateRasterizationOrderAMD-sType-sType" href="chap28.html#VUID-VkPipelineRasterizationStateRasterizationOrderAMD-sType-sType"></a> <span class="vuid">VUID-VkPipelineRasterizationStateRasterizationOrderAMD-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_RASTERIZATION_ORDER_AMD</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationStateRasterizationOrderAMD-rasterizationOrder-parameter" href="chap28.html#VUID-VkPipelineRasterizationStateRasterizationOrderAMD-rasterizationOrder-parameter"></a> <span class="vuid">VUID-VkPipelineRasterizationStateRasterizationOrderAMD-rasterizationOrder-parameter</span><br>
 <code>rasterizationOrder</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkRasterizationOrderAMD">VkRasterizationOrderAMD</a> value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>If the <code><a href="chap55.html#VK_AMD_rasterization_order">VK_AMD_rasterization_order</a></code> device extension is not enabled
or the application does not request a particular rasterization order through
specifying a <code>VkPipelineRasterizationStateRasterizationOrderAMD</code>
structure then the rasterization order used by the graphics pipeline
defaults to <code>VK_RASTERIZATION_ORDER_STRICT_AMD</code>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="chap28.html#VkPipelineRasterizationStateRasterizationOrderAMD">VkPipelineRasterizationStateRasterizationOrderAMD</a>::<code>rasterizationOrder</code>,
specifying the primitive rasterization order, are:</p>
</div>
<div id="VkRasterizationOrderAMD" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_AMD_rasterization_order</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkRasterizationOrderAMD</span> <span class="p">{</span>
    <span class="n">VK_RASTERIZATION_ORDER_STRICT_AMD</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_RASTERIZATION_ORDER_RELAXED_AMD</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkRasterizationOrderAMD</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_RASTERIZATION_ORDER_STRICT_AMD</code> specifies that operations for
each primitive in a subpass <strong class="purple">must</strong> occur in <a href="chap21.html#drawing-primitive-order">primitive order</a>.</p>
</li>
<li>
<p><code>VK_RASTERIZATION_ORDER_RELAXED_AMD</code> specifies that operations for
each primitive in a subpass <strong class="purple">may</strong> not occur in <a href="chap21.html#drawing-primitive-order">primitive order</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-multisampling"><a class="anchor" href="chap28.html#primsrast-multisampling"></a>28.4. Multisampling</h3>
<div class="paragraph">
<p>Multisampling is a mechanism to antialias all Vulkan primitives: points,
lines, and polygons.
The technique is to sample all primitives multiple times at each pixel.
Each sample in each framebuffer attachment has storage for a color, depth,
and/or stencil value, such that per-fragment operations apply to each sample
independently.
The color sample values <strong class="purple">can</strong> be later <em>resolved</em> to a single color (see
<a href="chap20.html#copies-resolve">Resolving Multisample Images</a> and the <a href="chap8.html">Render
Pass</a> chapter for more details on how to resolve multisample images to
non-multisample images).</p>
</div>
<div class="paragraph">
<p>Vulkan defines rasterization rules for single-sample modes in a way that is
equivalent to a multisample mode with a single sample in the center of each
fragment.</p>
</div>
<div class="paragraph">
<p>Each fragment includes a <a href="chap28.html#primsrast-multisampling-coverage-mask">coverage
mask</a> with a single bit for each sample in the fragment, and a number of
depth values and associated data for each sample.</p>
</div>
<div class="paragraph">
<p>It is understood that each pixel has <code>rasterizationSamples</code> locations
associated with it.
These locations are exact positions, rather than regions or areas, and each
is referred to as a sample point.
The sample points associated with a pixel <strong class="purple">must</strong> be located inside or on the
boundary of the unit square that is considered to bound the pixel.
Furthermore, the relative locations of sample points <strong class="purple">may</strong> be identical for
each pixel in the framebuffer, or they <strong class="purple">may</strong> differ.</p>
</div>
<div class="paragraph">
<p>If the render pass has a fragment density map attachment, each fragment only
has <code>rasterizationSamples</code> locations associated with it regardless of
how many pixels are covered in the fragment area.
Fragment sample locations are defined as if the fragment had an area of
<span class="eq">(1,1)</span> and its sample points <strong class="purple">must</strong> be located within these bounds.
Their actual location in the framebuffer is calculated by scaling the sample
location by the fragment area.
Attachments with storage for multiple samples per pixel are located at the
pixel sample locations.
Otherwise, the fragment’s sample locations are generally used for evaluation
of associated data and fragment operations.</p>
</div>
<div class="paragraph">
<p>If the current pipeline includes a fragment shader with one or more
variables in its interface decorated with <code>Sample</code> and <code>Input</code>, the
data associated with those variables will be assigned independently for each
sample.
The values for each sample <strong class="purple">must</strong> be evaluated at the location of the sample.
The data associated with any other variables not decorated with <code>Sample</code>
and <code>Input</code> need not be evaluated independently for each sample.</p>
</div>
<div id="primsrast-multisampling-coverage-mask" class="paragraph">
<p>A <em>coverage mask</em> is generated for each fragment, based on which samples
within that fragment are determined to be within the area of the primitive
that generated the fragment.</p>
</div>
<div class="paragraph">
<p>Single pixel fragments
and multi-pixel fragments defined by a
<a href="chap8.html#renderpass-fragmentdensitymapattachment">fragment density map</a>
have one set of samples.
Multi-pixel fragments defined by a <a href="chap28.html#primsrast-shading-rate-image">shading
rate image</a> have one set of samples per pixel.
Multi-pixel fragments defined by setting the
<a href="chap28.html#primsrast-fragment-shading-rate">fragment shading rate</a> have one set of
samples per pixel.
Each set of samples has a number of samples determined by
<a href="chap28.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::<code>rasterizationSamples</code>.
Each sample in a set is assigned a unique <em>sample index</em> <span class="eq">i</span> in the
range <span class="eq">[0, <code>rasterizationSamples</code>)</span>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the
<code>rasterizationSamples</code>, call:</p>
</div>
<div id="vkCmdSetRasterizationSamplesEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state3, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetRasterizationSamplesEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkSampleCountFlagBits</span>                       <span class="n">rasterizationSamples</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>rasterizationSamples</code> specifies <code>rasterizationSamples</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the <code>rasterizationSamples</code> for subsequent drawing
commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::<code>rasterizationSamples</code> value
used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetRasterizationSamplesEXT-None-08552" href="chap28.html#VUID-vkCmdSetRasterizationSamplesEXT-None-08552"></a> <span class="vuid">VUID-vkCmdSetRasterizationSamplesEXT-None-08552</span><br>

Either the <a href="chap46.html#features-extendedDynamicState3RasterizationSamples"><code>extendedDynamicState3RasterizationSamples</code></a> feature or the
<a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature or both <strong class="purple">must</strong> be
enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetRasterizationSamplesEXT-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetRasterizationSamplesEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetRasterizationSamplesEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizationSamplesEXT-rasterizationSamples-parameter" href="chap28.html#VUID-vkCmdSetRasterizationSamplesEXT-rasterizationSamples-parameter"></a> <span class="vuid">VUID-vkCmdSetRasterizationSamplesEXT-rasterizationSamples-parameter</span><br>
 <code>rasterizationSamples</code> <strong class="purple">must</strong> be a valid <a href="chap47.html#VkSampleCountFlagBits">VkSampleCountFlagBits</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizationSamplesEXT-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetRasterizationSamplesEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetRasterizationSamplesEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizationSamplesEXT-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetRasterizationSamplesEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetRasterizationSamplesEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetRasterizationSamplesEXT-videocoding" href="chap28.html#VUID-vkCmdSetRasterizationSamplesEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetRasterizationSamplesEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="primsrast-multisampling-coverageindex" class="paragraph">
<p>Each sample in a fragment is also assigned a unique <em>coverage index</em> <span class="eq">j</span>
in the range <span class="eq">[0, n × <code>rasterizationSamples</code>)</span>, where <span class="eq">n</span>
is the number of sets in the fragment.
If the fragment contains a single set of samples, the <em>coverage index</em> is
always equal to the <em>sample index</em>.
If a <a href="chap28.html#primsrast-shading-rate-image">shading rate image</a> is used and a
fragment covers multiple pixels, the coverage index is determined as defined
by <a href="chap28.html#VkPipelineViewportCoarseSampleOrderStateCreateInfoNV">VkPipelineViewportCoarseSampleOrderStateCreateInfoNV</a> or
<a href="chap28.html#vkCmdSetCoarseSampleOrderNV">vkCmdSetCoarseSampleOrderNV</a>.</p>
</div>
<div id="primsrast-multisampling-coverage-mask-vrfs" class="paragraph">
<p>If the <a href="chap28.html#primsrast-fragment-shading-rate">fragment shading rate</a> is set,
the coverage index <span class="eq">j</span> is determined as a function of the <em>pixel index</em>
<span class="eq">p</span>, the <em>sample index</em> <span class="eq">i</span>, and the number of rasterization samples
<span class="eq">r</span> as:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">j = i + r × ((f<sub>w</sub> × f<sub>h</sub>) - 1 - p)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where the pixel index <span class="eq">p</span> is determined as a function of the pixel’s
framebuffer location <span class="eq">(x,y)</span> and the fragment size <span class="eq">(f<sub>w</sub>,f<sub>h</sub>)</span>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>x</sub> = x % f<sub>w</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>y</sub> = y % f<sub>h</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p = p<sub>x</sub> + (p<sub>y</sub> × f<sub>w</sub>)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The table below illustrates the pixel index for multi-pixel fragments:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 35. Pixel indices - 1 wide</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">1x1</th>
<th class="tableblock halign-left valign-top">1x2</th>
<th class="tableblock halign-left valign-top">1x4</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-bottom"><p class="tableblock"><span class="image"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" sodipodi:docname="pixel_index_1x1.svg" inkscape:version="1.0 (4035a4fb49, 2020-05-01)" id="svg8" version="1.1" viewBox="0 0 27.77969 26.901191" height="101.67381" width="104.99409">
  <defs id="defs2">
    <marker inkscape:stockid="Arrow1Lend" orient="auto" refY="0" refX="0" id="marker1483" style="overflow:visible" inkscape:isstock="true">
      <path inkscape:connector-curvature="0" id="path1481" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" transform="matrix(-0.8,0,0,-0.8,-10,0)"></path>
    </marker>
    <marker inkscape:collect="always" inkscape:isstock="true" style="overflow:visible" id="Arrow1Lend" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Lend">
      <path inkscape:connector-curvature="0" transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path977"></path>
    </marker>
  </defs>
  <sodipodi:namedview inkscape:document-rotation="0" inkscape:snap-center="true" units="px" fit-margin-left="1" fit-margin-bottom="1" fit-margin-right="1" fit-margin-top="1" inkscape:window-maximized="0" inkscape:window-y="0" inkscape:window-x="0" inkscape:window-height="1018" inkscape:window-width="960" inkscape:snap-text-baseline="true" inkscape:snap-object-midpoints="true" showgrid="true" inkscape:current-layer="layer1" inkscape:document-units="px" inkscape:cy="13.121973" inkscape:cx="4.4991286" inkscape:zoom="2.0930361" inkscape:pageshadow="2" inkscape:pageopacity="0.0" borderopacity="1.0" bordercolor="#666666" pagecolor="#ffffff" id="base">
    <inkscape:grid dotted="false" originy="-89.436898" originx="-20.366723" id="grid12" type="xygrid"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata5">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g transform="translate(-28.116567,-11.729621)" id="layer1" inkscape:groupmode="layer" inkscape:label="Layer 1">
    <path sodipodi:nodetypes="ccccc" inkscape:connector-curvature="0" id="path1171" d="m 36.854018,12.251027 18.520828,1.8e-5 v 18.520833 l -18.520817,-0.001 -1.1e-5,-18.519799" style="fill:none;stroke:#808080;stroke-width:0.264583;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></path>
    <g id="g271" transform="translate(-22.751249,-5.5676023)">
      <text id="text121-3-7-8-0" y="43.525604" x="69.692329" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82223px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan id="tspan265" sodipodi:role="line" x="69.692329" y="43.525604">x</tspan></text>
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="67.711052" y="42.973698" id="text121-3-7-8-9-1"><tspan style="stroke-width:0.264583" sodipodi:role="line" id="tspan239-0" x="67.711052" y="42.973698">f</tspan></text>
    </g>
    <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path972" d="m 36.854018,36.062494 6.614579,10e-4 m 5.291666,0 6.614583,-9.1e-5" style="fill:none;stroke:#000000;stroke-width:0.132291px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend)"></path>
    <path sodipodi:nodetypes="cccc" style="fill:none;stroke:#000000;stroke-width:0.132291px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483)" d="m 31.562353,30.77186 -2e-6,-6.614583 m 0,-5.291666 3e-6,-6.614582" id="path1473" inkscape:connector-curvature="0"></path>
    <g transform="translate(0.83905268,0.28766514)" id="g545">
      <g transform="translate(-3.7341421,26.933758)" id="g277">
        <text id="text121-3-7-8" y="-4.0993972" x="35.296494" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.264583" y="-4.0993972" x="35.296494" id="tspan119-1-8-3" sodipodi:role="line">y</tspan></text>
        <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="33.31522" y="-4.6513033" id="text121-3-7-8-9"><tspan sodipodi:role="line" id="tspan239" x="33.31522" y="-4.6513033">f</tspan></text>
      </g>
    </g>
    <text transform="scale(0.98828059,1.0118584)" style="stroke-width:0.00380337" id="text23" font-size="4.18372px" fill="#ff0000" y="22.779236" x="45.329342">0</text>
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-bottom"><p class="tableblock"><span class="image"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" sodipodi:docname="pixel_index_1x2.svg" inkscape:version="1.0 (4035a4fb49, 2020-05-01)" id="svg8" version="1.1" viewBox="0 0 27.779696 45.528409" height="172.07588" width="104.99412">
  <defs id="defs2">
    <marker inkscape:stockid="Arrow1Lend" orient="auto" refY="0" refX="0" id="marker1483" style="overflow:visible" inkscape:isstock="true">
      <path inkscape:connector-curvature="0" id="path1481" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" transform="matrix(-0.8,0,0,-0.8,-10,0)"></path>
    </marker>
    <marker inkscape:collect="always" inkscape:isstock="true" style="overflow:visible" id="Arrow1Lend" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Lend">
      <path inkscape:connector-curvature="0" transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path977"></path>
    </marker>
  </defs>
  <sodipodi:namedview showguides="false" inkscape:document-rotation="0" inkscape:snap-center="true" units="px" fit-margin-left="1" fit-margin-bottom="1" fit-margin-right="1" fit-margin-top="1" inkscape:window-maximized="0" inkscape:window-y="0" inkscape:window-x="954" inkscape:window-height="1010" inkscape:window-width="958" inkscape:snap-text-baseline="true" inkscape:snap-object-midpoints="true" showgrid="true" inkscape:current-layer="layer1" inkscape:document-units="px" inkscape:cy="-15.114603" inkscape:cx="29.873733" inkscape:zoom="1.48" inkscape:pageshadow="2" inkscape:pageopacity="0.0" borderopacity="1.0" bordercolor="#666666" pagecolor="#ffffff" id="base">
    <inkscape:grid dotted="false" originy="-70.809709" originx="-20.366718" id="grid12" type="xygrid"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata5">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g transform="translate(-28.116567,6.8975958)" id="layer1" inkscape:groupmode="layer" inkscape:label="Layer 1">
    <path sodipodi:nodetypes="ccccccc" inkscape:connector-curvature="0" id="path1171" d="m 36.854017,-6.2698068 h 18.520834 l 10e-7,37.0416328 -18.520823,-0.001 -1.2e-5,-37.0406328 m 18.520835,18.5208318 -18.520823,-10e-4" style="fill:none;stroke:#808080;stroke-width:0.264583;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></path>
    <g id="g271" transform="translate(-22.751244,-5.5676207)">
      <text id="text121-3-7-8-0" y="43.525604" x="69.692329" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82223px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan id="tspan265" sodipodi:role="line" x="69.692329" y="43.525604">x</tspan></text>
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="67.711052" y="42.973698" id="text121-3-7-8-9-1"><tspan style="stroke-width:0.264583" sodipodi:role="line" id="tspan239-0" x="67.711052" y="42.973698">f</tspan></text>
    </g>
    <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path972" d="m 36.854018,36.062494 6.614584,10e-4 m 5.291667,0 6.614583,-6.3e-5" style="fill:none;stroke:#000000;stroke-width:0.132291px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend)"></path>
    <path sodipodi:nodetypes="cccc" style="fill:none;stroke:#000000;stroke-width:0.187088px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483)" d="m 31.562353,30.77186 -3e-6,-15.875 m 0,-5.2916663 4e-6,-15.8750005" id="path1473" inkscape:connector-curvature="0"></path>
    <g id="g277" transform="translate(-2.8950905,17.961006)">
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="35.296494" y="-4.0993972" id="text121-3-7-8"><tspan sodipodi:role="line" id="tspan119-1-8-3" x="35.296494" y="-4.0993972" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.264583">y</tspan></text>
      <text id="text121-3-7-8-9" y="-4.6513033" x="33.31522" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan y="-4.6513033" x="33.31522" id="tspan239" sodipodi:role="line">f</tspan></text>
    </g>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23" font-size="4.18372px" fill="#ff0000" y="22.674101" x="45.329342">0</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-7" font-size="4.18372px" fill="#ff0000" y="4.4754329" x="45.329346">1</text>
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-bottom"><p class="tableblock"><span class="image"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" sodipodi:docname="pixel_index_1x4.svg" inkscape:version="1.0 (4035a4fb49, 2020-05-01)" id="svg8" version="1.1" viewBox="0 0 27.779696 82.720522" height="312.6445" width="104.99412">
  <defs id="defs2">
    <marker inkscape:stockid="Arrow1Lend" orient="auto" refY="0" refX="0" id="marker1483" style="overflow:visible" inkscape:isstock="true">
      <path inkscape:connector-curvature="0" id="path1481" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" transform="matrix(-0.8,0,0,-0.8,-10,0)"></path>
    </marker>
    <marker inkscape:collect="always" inkscape:isstock="true" style="overflow:visible" id="Arrow1Lend" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Lend">
      <path inkscape:connector-curvature="0" transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path977"></path>
    </marker>
  </defs>
  <sodipodi:namedview inkscape:document-rotation="0" inkscape:snap-center="true" units="px" fit-margin-left="1" fit-margin-bottom="1" fit-margin-right="1" fit-margin-top="1" inkscape:window-maximized="0" inkscape:window-y="0" inkscape:window-x="954" inkscape:window-height="1010" inkscape:window-width="958" inkscape:snap-text-baseline="true" inkscape:snap-object-midpoints="true" showgrid="true" inkscape:current-layer="layer1" inkscape:document-units="px" inkscape:cy="285.32692" inkscape:cx="152.58531" inkscape:zoom="1.48" inkscape:pageshadow="2" inkscape:pageopacity="0.0" borderopacity="1.0" bordercolor="#666666" pagecolor="#ffffff" id="base">
    <inkscape:grid dotted="false" originy="-33.617598" originx="-20.366717" id="grid12" type="xygrid"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata5">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g transform="translate(-28.116567,44.089711)" id="layer1" inkscape:groupmode="layer" inkscape:label="Layer 1">
    <path sodipodi:nodetypes="ccccccccccc" inkscape:connector-curvature="0" id="path1171" d="m 36.85402,-43.312509 18.520832,10e-4 v 74.083335 l -18.520823,-0.001 -9e-6,-74.083337 m 18.520832,55.563536 -18.520823,-10e-4 m -7e-6,-18.5208395 18.52083,0.00101 m 0,-18.5208335 -18.52083,-9.73e-4" style="fill:none;stroke:#808080;stroke-width:0.264583;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></path>
    <g id="g271" transform="translate(-22.751244,-5.5676207)">
      <text id="text121-3-7-8-0" y="43.525604" x="69.692329" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82223px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan id="tspan265" sodipodi:role="line" x="69.692329" y="43.525604">x</tspan></text>
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="67.711052" y="42.973698" id="text121-3-7-8-9-1"><tspan style="stroke-width:0.264583" sodipodi:role="line" id="tspan239-0" x="67.711052" y="42.973698">f</tspan></text>
    </g>
    <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path972" d="m 36.854018,36.062494 6.614584,10e-4 m 5.291667,0 6.614583,-6.3e-5" style="fill:none;stroke:#000000;stroke-width:0.132291px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend)"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483)" d="M 31.562353,30.77186 V -3.6239751 m 10e-7,-5.2916661 V -43.311476" id="path1473" inkscape:connector-curvature="0"></path>
    <g id="g277" transform="translate(-2.9074896,-0.27595285)">
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="35.296494" y="-4.0993972" id="text121-3-7-8"><tspan sodipodi:role="line" id="tspan119-1-8-3" x="35.296494" y="-4.0993972" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.264583">y</tspan></text>
      <text id="text121-3-7-8-9" y="-4.6513033" x="33.31522" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan y="-4.6513033" x="33.31522" id="tspan239" sodipodi:role="line">f</tspan></text>
    </g>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23" font-size="4.18372px" fill="#ff0000" y="22.525417" x="45.329342">0</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-7" font-size="4.18372px" fill="#ff0000" y="4.3267488" x="45.329346">1</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-2" font-size="4.18372px" fill="#ff0000" y="-13.977032" x="45.32935">2</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-8" font-size="4.18372px" fill="#ff0000" y="-32.385925" x="45.329346">3</text>
  </g>
</svg></span></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 36. Pixel indices - 2 wide</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">2x1</th>
<th class="tableblock halign-left valign-top">2x2</th>
<th class="tableblock halign-left valign-top">2x4</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-bottom"><p class="tableblock"><span class="image"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" sodipodi:docname="pixel_index_2x1.svg" inkscape:version="1.0 (4035a4fb49, 2020-05-01)" id="svg8" version="1.1" viewBox="0 0 46.406909 26.901191" height="101.67381" width="175.39618">
  <defs id="defs2">
    <marker inkscape:stockid="Arrow1Lend" orient="auto" refY="0" refX="0" id="marker1483" style="overflow:visible" inkscape:isstock="true">
      <path inkscape:connector-curvature="0" id="path1481" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" transform="matrix(-0.8,0,0,-0.8,-10,0)"></path>
    </marker>
    <marker inkscape:collect="always" inkscape:isstock="true" style="overflow:visible" id="Arrow1Lend" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Lend">
      <path inkscape:connector-curvature="0" transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path977"></path>
    </marker>
  </defs>
  <sodipodi:namedview inkscape:document-rotation="0" inkscape:snap-center="true" units="px" fit-margin-left="1" fit-margin-bottom="1" fit-margin-right="1" fit-margin-top="1" inkscape:window-maximized="0" inkscape:window-y="0" inkscape:window-x="0" inkscape:window-height="1018" inkscape:window-width="960" inkscape:snap-text-baseline="true" inkscape:snap-object-midpoints="true" showgrid="true" inkscape:current-layer="layer1" inkscape:document-units="px" inkscape:cy="-37.066166" inkscape:cx="161.67627" inkscape:zoom="1.48" inkscape:pageshadow="2" inkscape:pageopacity="0.0" borderopacity="1.0" bordercolor="#666666" pagecolor="#ffffff" id="base">
    <inkscape:grid dotted="false" originy="-89.436907" originx="-20.366719" id="grid12" type="xygrid"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata5">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g transform="translate(-28.116567,-11.729621)" id="layer1" inkscape:groupmode="layer" inkscape:label="Layer 1">
    <path sodipodi:nodetypes="ccccccc" inkscape:connector-curvature="0" id="path1171" d="m 36.854018,12.251027 37.041663,9e-6 v 18.520833 l -37.041652,-10e-4 -1.1e-5,-18.519799 m 18.520834,0 1.1e-5,18.519799" style="fill:none;stroke:#808080;stroke-width:0.264583;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></path>
    <g id="g271" transform="translate(-13.49083,-5.5676114)">
      <text id="text121-3-7-8-0" y="43.525604" x="69.692329" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82223px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan id="tspan265" sodipodi:role="line" x="69.692329" y="43.525604">x</tspan></text>
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="67.711052" y="42.973698" id="text121-3-7-8-9-1"><tspan style="stroke-width:0.264583" sodipodi:role="line" id="tspan239-0" x="67.711052" y="42.973698">f</tspan></text>
    </g>
    <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path972" d="m 36.854018,36.062494 15.874997,10e-4 m 5.291667,0 15.874999,-4.1e-5" style="fill:none;stroke:#000000;stroke-width:0.187088px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend)"></path>
    <path sodipodi:nodetypes="cccc" style="fill:none;stroke:#000000;stroke-width:0.132291px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483)" d="m 31.562353,30.77186 -2e-6,-6.614583 m 0,-5.291666 3e-6,-6.614582" id="path1473" inkscape:connector-curvature="0"></path>
    <g transform="translate(0.83905268,0.28766514)" id="g545">
      <g transform="translate(-3.7341421,26.933758)" id="g277">
        <text id="text121-3-7-8" y="-4.0993972" x="35.296494" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.264583" y="-4.0993972" x="35.296494" id="tspan119-1-8-3" sodipodi:role="line">y</tspan></text>
        <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="33.31522" y="-4.6513033" id="text121-3-7-8-9"><tspan sodipodi:role="line" id="tspan239" x="33.31522" y="-4.6513033">f</tspan></text>
      </g>
    </g>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23" font-size="4.18372px" fill="#ff0000" y="22.779236" x="45.329342">0</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-7" font-size="4.18372px" fill="#ff0000" y="22.884348" x="64.069801">1</text>
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-bottom"><p class="tableblock"><span class="image"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="175.39619" height="172.07588" viewBox="0 0 46.406913 45.528409" version="1.1" id="svg8" inkscape:version="1.0 (4035a4fb49, 2020-05-01)" sodipodi:docname="pixel_index_2x2.svg">
  <defs id="defs2">
    <marker inkscape:isstock="true" style="overflow:visible" id="marker1483" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Lend">
      <path transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path1481" inkscape:connector-curvature="0"></path>
    </marker>
    <marker inkscape:stockid="Arrow1Lend" orient="auto" refY="0" refX="0" id="Arrow1Lend" style="overflow:visible" inkscape:isstock="true" inkscape:collect="always">
      <path id="path977" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" transform="matrix(-0.8,0,0,-0.8,-10,0)" inkscape:connector-curvature="0"></path>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.48" inkscape:cx="169.6136" inkscape:cy="69.828393" inkscape:document-units="px" inkscape:current-layer="layer1" showgrid="true" inkscape:snap-object-midpoints="true" inkscape:snap-text-baseline="true" inkscape:window-width="1920" inkscape:window-height="1018" inkscape:window-x="-1926" inkscape:window-y="-6" inkscape:window-maximized="1" fit-margin-top="1" fit-margin-right="1" fit-margin-bottom="1" fit-margin-left="1" units="px" inkscape:snap-center="true" inkscape:document-rotation="0">
    <inkscape:grid type="xygrid" id="grid12" originx="-20.366717" originy="-70.809709" dotted="false"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata5">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(-28.116567,6.8975975)">
    <path style="fill:none;stroke:#808080;stroke-width:0.264583;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 36.854018,-6.2698085 h 37.041668 l 10e-7,37.0416345 -37.041658,-0.001 -1.1e-5,-37.0406345 m 18.520834,0 1.1e-5,37.0406345 m 18.520824,-18.519802 -37.041658,-10e-4" id="path1171" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccccccc"></path>
    <g transform="translate(-13.490826,-5.5676219)" id="g271">
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82223px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="69.692329" y="43.525604" id="text121-3-7-8-0"><tspan y="43.525604" x="69.692329" sodipodi:role="line" id="tspan265">x</tspan></text>
      <text id="text121-3-7-8-9-1" y="42.973698" x="67.711052" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan y="42.973698" x="67.711052" id="tspan239-0" sodipodi:role="line" style="stroke-width:0.264583">f</tspan></text>
    </g>
    <path style="fill:none;stroke:#000000;stroke-width:0.187088px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend)" d="m 36.854018,36.062494 15.875002,10e-4 m 5.291666,0 15.875001,-3.1e-5" id="path972" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"></path>
    <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path1473" d="m 31.562353,30.77186 -1e-6,-15.875001 m 0,-5.2916671 2e-6,-15.8750004" style="fill:none;stroke:#000000;stroke-width:0.187088px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483)"></path>
    <g transform="translate(-2.8950893,17.961004)" id="g277">
      <text id="text121-3-7-8" y="-4.0993972" x="35.296494" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.264583" y="-4.0993972" x="35.296494" id="tspan119-1-8-3" sodipodi:role="line">y</tspan></text>
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="33.31522" y="-4.6513033" id="text121-3-7-8-9"><tspan sodipodi:role="line" id="tspan239" x="33.31522" y="-4.6513033">f</tspan></text>
    </g>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23" font-size="4.18372px" fill="#ff0000" y="22.674099" x="45.329342">0</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-7" font-size="4.18372px" fill="#ff0000" y="22.779211" x="64.069809">1</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-2" font-size="4.18372px" fill="#ff0000" y="4.4754314" x="45.32935">2</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-8" font-size="4.18372px" fill="#ff0000" y="4.3703194" x="64.069809">3</text>
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-bottom"><p class="tableblock"><span class="image"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" sodipodi:docname="pixel_index_2x4.svg" inkscape:version="1.0 (4035a4fb49, 2020-05-01)" id="svg8" version="1.1" viewBox="0 0 46.406913 82.720522" height="312.6445" width="175.39619">
  <defs id="defs2">
    <marker inkscape:stockid="Arrow1Lend" orient="auto" refY="0" refX="0" id="marker1483" style="overflow:visible" inkscape:isstock="true">
      <path inkscape:connector-curvature="0" id="path1481" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" transform="matrix(-0.8,0,0,-0.8,-10,0)"></path>
    </marker>
    <marker inkscape:collect="always" inkscape:isstock="true" style="overflow:visible" id="Arrow1Lend" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Lend">
      <path inkscape:connector-curvature="0" transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path977"></path>
    </marker>
  </defs>
  <sodipodi:namedview inkscape:document-rotation="0" inkscape:snap-center="true" units="px" fit-margin-left="1" fit-margin-bottom="1" fit-margin-right="1" fit-margin-top="1" inkscape:window-maximized="1" inkscape:window-y="-6" inkscape:window-x="-1926" inkscape:window-height="1018" inkscape:window-width="1920" inkscape:snap-text-baseline="true" inkscape:snap-object-midpoints="true" showgrid="true" inkscape:current-layer="layer1" inkscape:document-units="px" inkscape:cy="208.74124" inkscape:cx="196.91567" inkscape:zoom="1.48" inkscape:pageshadow="2" inkscape:pageopacity="0.0" borderopacity="1.0" bordercolor="#666666" pagecolor="#ffffff" id="base">
    <inkscape:grid dotted="false" originy="-33.617599" originx="-20.366716" id="grid12" type="xygrid"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata5">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g transform="translate(-28.116567,44.089711)" id="layer1" inkscape:groupmode="layer" inkscape:label="Layer 1">
    <path sodipodi:nodetypes="ccccccccccccc" inkscape:connector-curvature="0" id="path1171" d="m 36.85402,-43.312509 37.041667,10e-4 v 74.083335 l -37.041658,-0.001 -9e-6,-74.083337 m 18.520836,0 7e-6,74.083337 m 18.520824,-18.519802 -37.041658,-10e-4 m -7e-6,-18.5208395 37.041665,0.00101 m 0,-18.5208335 -37.041665,-9.76e-4" style="fill:none;stroke:#808080;stroke-width:0.264583;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></path>
    <g id="g271" transform="translate(-13.490826,-5.5676219)">
      <text id="text121-3-7-8-0" y="43.525604" x="69.692329" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82223px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan id="tspan265" sodipodi:role="line" x="69.692329" y="43.525604">x</tspan></text>
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="67.711052" y="42.973698" id="text121-3-7-8-9-1"><tspan style="stroke-width:0.264583" sodipodi:role="line" id="tspan239-0" x="67.711052" y="42.973698">f</tspan></text>
    </g>
    <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path972" d="m 36.854018,36.062494 15.875002,10e-4 m 5.291666,0 15.875001,-3.1e-5" style="fill:none;stroke:#000000;stroke-width:0.187088px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend)"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483)" d="M 31.562353,30.77186 V -3.6239751 m 10e-7,-5.2916661 V -43.311476" id="path1473" inkscape:connector-curvature="0"></path>
    <g id="g277" transform="translate(-2.9074896,-0.27595285)">
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="35.296494" y="-4.0993972" id="text121-3-7-8"><tspan sodipodi:role="line" id="tspan119-1-8-3" x="35.296494" y="-4.0993972" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.264583">y</tspan></text>
      <text id="text121-3-7-8-9" y="-4.6513033" x="33.31522" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan y="-4.6513033" x="33.31522" id="tspan239" sodipodi:role="line">f</tspan></text>
    </g>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23" font-size="4.18372px" fill="#ff0000" y="22.525415" x="45.329342">0</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-7" font-size="4.18372px" fill="#ff0000" y="22.630529" x="64.069809">1</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-2" font-size="4.18372px" fill="#ff0000" y="4.3267484" x="45.32935">2</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-8" font-size="4.18372px" fill="#ff0000" y="4.2216382" x="64.069809">3</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-1" font-size="4.18372px" fill="#ff0000" y="-14.082145" x="64.069801">5</text>
    <text transform="scale(0.98828058,1.0118584)" style="letter-spacing:0px;stroke-width:0.00380336" id="text23-11" font-size="4.18372px" fill="#ff0000" y="-14.082145" x="45.329342">4</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-27" font-size="4.18372px" fill="#ff0000" y="-32.385925" x="64.069809">7</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-77" font-size="4.18372px" fill="#ff0000" y="-32.385925" x="45.329342">6</text>
  </g>
</svg></span></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 37. Pixel indices - 4 wide</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">4x1</th>
<th class="tableblock halign-left valign-top">4x2</th>
<th class="tableblock halign-left valign-top">4x4</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-bottom"><p class="tableblock"><span class="image"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" sodipodi:docname="pixel_index_4x1.svg" inkscape:version="1.0 (4035a4fb49, 2020-05-01)" id="svg8" version="1.1" viewBox="0 0 83.599029 26.901193" height="101.67381" width="315.96481">
  <defs id="defs2">
    <marker inkscape:stockid="Arrow1Lend" orient="auto" refY="0" refX="0" id="marker1483" style="overflow:visible" inkscape:isstock="true">
      <path inkscape:connector-curvature="0" id="path1481" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" transform="matrix(-0.8,0,0,-0.8,-10,0)"></path>
    </marker>
    <marker inkscape:collect="always" inkscape:isstock="true" style="overflow:visible" id="Arrow1Lend" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Lend">
      <path inkscape:connector-curvature="0" transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path977"></path>
    </marker>
  </defs>
  <sodipodi:namedview inkscape:document-rotation="0" inkscape:snap-center="true" units="px" fit-margin-left="1" fit-margin-bottom="1" fit-margin-right="1" fit-margin-top="1" inkscape:window-maximized="0" inkscape:window-y="0" inkscape:window-x="0" inkscape:window-height="1018" inkscape:window-width="960" inkscape:snap-text-baseline="true" inkscape:snap-object-midpoints="true" showgrid="true" inkscape:current-layer="layer1" inkscape:document-units="px" inkscape:cy="-24.670431" inkscape:cx="169.31763" inkscape:zoom="2.0930361" inkscape:pageshadow="2" inkscape:pageopacity="0.0" borderopacity="1.0" bordercolor="#666666" pagecolor="#ffffff" id="base">
    <inkscape:grid dotted="false" originy="-89.436916" originx="-20.366717" id="grid12" type="xygrid"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata5">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g transform="translate(-28.116567,-11.729621)" id="layer1" inkscape:groupmode="layer" inkscape:label="Layer 1">
    <path sodipodi:nodetypes="ccccccccccc" inkscape:connector-curvature="0" id="path1171" d="m 36.854018,12.251027 h 74.083332 l 1e-5,18.520799 -74.083331,-0.001 -1.1e-5,-18.519799 m 18.520834,0 1.1e-5,18.519799 m 18.520832,0 -1e-5,-18.519799 m 18.520834,0 1.5e-5,18.519799" style="fill:none;stroke:#808080;stroke-width:0.264583;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></path>
    <g id="g271" transform="translate(5.0424113,-5.8514966)">
      <text id="text121-3-7-8-0" y="43.525604" x="69.692329" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82223px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan id="tspan265" sodipodi:role="line" x="69.692329" y="43.525604">x</tspan></text>
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="67.711052" y="42.973698" id="text121-3-7-8-9-1"><tspan style="stroke-width:0.264583" sodipodi:role="line" id="tspan239-0" x="67.711052" y="42.973698">f</tspan></text>
    </g>
    <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path972" d="m 36.854018,36.062494 34.395836,10e-4 m 5.291669,0 h 34.395837" style="fill:none;stroke:#000000;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend)"></path>
    <path sodipodi:nodetypes="cccc" style="fill:none;stroke:#000000;stroke-width:0.132291px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483)" d="m 31.562353,30.77186 -2e-6,-6.614583 m 0,-5.291666 3e-6,-6.614582" id="path1473" inkscape:connector-curvature="0"></path>
    <g transform="translate(0.83905268,0.28766514)" id="g545">
      <g transform="translate(-3.7341421,26.933758)" id="g277">
        <text id="text121-3-7-8" y="-4.0993972" x="35.296494" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.264583" y="-4.0993972" x="35.296494" id="tspan119-1-8-3" sodipodi:role="line">y</tspan></text>
        <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="33.31522" y="-4.6513033" id="text121-3-7-8-9"><tspan sodipodi:role="line" id="tspan239" x="33.31522" y="-4.6513033">f</tspan></text>
      </g>
    </g>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23" font-size="4.18372px" fill="#ff0000" y="22.779238" x="45.329342">0</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-7" font-size="4.18372px" fill="#ff0000" y="22.88435" x="64.069809">1</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-2" font-size="4.18372px" fill="#ff0000" y="22.88435" x="82.810272">2</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-8" font-size="4.18372px" fill="#ff0000" y="22.779238" x="101.55073">3</text>
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-bottom"><p class="tableblock"><span class="image"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" sodipodi:docname="pixel_index_4x2.svg" inkscape:version="1.0 (4035a4fb49, 2020-05-01)" id="svg8" version="1.1" viewBox="0 0 83.599029 45.528413" height="172.0759" width="315.96481">
  <defs id="defs2">
    <marker inkscape:stockid="Arrow1Lend" orient="auto" refY="0" refX="0" id="marker1483" style="overflow:visible" inkscape:isstock="true">
      <path inkscape:connector-curvature="0" id="path1481" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" transform="matrix(-0.8,0,0,-0.8,-10,0)"></path>
    </marker>
    <marker inkscape:collect="always" inkscape:isstock="true" style="overflow:visible" id="Arrow1Lend" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Lend">
      <path inkscape:connector-curvature="0" transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path977"></path>
    </marker>
  </defs>
  <sodipodi:namedview inkscape:document-rotation="0" inkscape:snap-center="true" units="px" fit-margin-left="1" fit-margin-bottom="1" fit-margin-right="1" fit-margin-top="1" inkscape:window-maximized="0" inkscape:window-y="0" inkscape:window-x="0" inkscape:window-height="1018" inkscape:window-width="960" inkscape:snap-text-baseline="true" inkscape:snap-object-midpoints="true" showgrid="true" inkscape:current-layer="layer1" inkscape:document-units="px" inkscape:cy="106.05324" inkscape:cx="172.63552" inkscape:zoom="1.7437838" inkscape:pageshadow="2" inkscape:pageopacity="0.0" borderopacity="1.0" bordercolor="#666666" pagecolor="#ffffff" id="base">
    <inkscape:grid dotted="false" originy="-70.809709" originx="-20.366716" id="grid12" type="xygrid"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata5">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g transform="translate(-28.116567,6.8975986)" id="layer1" inkscape:groupmode="layer" inkscape:label="Layer 1">
    <path sodipodi:nodetypes="ccccccccccccc" inkscape:connector-curvature="0" id="path1171" d="m 36.854019,-6.2698096 h 74.083331 l 1e-5,37.0416356 -74.083331,-0.001 -10e-6,-37.0406356 m 18.520834,0 10e-6,37.0406356 m 18.520832,0 -8e-6,-37.0406356 m 18.520833,0 1.4e-5,37.0406356 m 18.520826,-18.519802 -74.083331,-10e-4" style="fill:none;stroke:#808080;stroke-width:0.264583;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></path>
    <g id="g271" transform="translate(5.0424113,-5.8514966)">
      <text id="text121-3-7-8-0" y="43.525604" x="69.692329" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82223px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan id="tspan265" sodipodi:role="line" x="69.692329" y="43.525604">x</tspan></text>
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="67.711052" y="42.973698" id="text121-3-7-8-9-1"><tspan style="stroke-width:0.264583" sodipodi:role="line" id="tspan239-0" x="67.711052" y="42.973698">f</tspan></text>
    </g>
    <path sodipodi:nodetypes="cccc" inkscape:connector-curvature="0" id="path972" d="m 36.854018,36.062494 34.395836,10e-4 m 5.291669,0 h 34.395837" style="fill:none;stroke:#000000;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend)"></path>
    <path sodipodi:nodetypes="cccc" style="fill:none;stroke:#000000;stroke-width:0.187088px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483)" d="m 31.562353,30.77186 -1e-6,-15.875002 m 0,-5.2916673 2e-6,-15.8750003" id="path1473" inkscape:connector-curvature="0"></path>
    <g id="g277" transform="translate(-2.9074907,18.244879)">
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="35.296494" y="-4.0993972" id="text121-3-7-8"><tspan sodipodi:role="line" id="tspan119-1-8-3" x="35.296494" y="-4.0993972" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.264583">y</tspan></text>
      <text id="text121-3-7-8-9" y="-4.6513033" x="33.31522" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan y="-4.6513033" x="33.31522" id="tspan239" sodipodi:role="line">f</tspan></text>
    </g>
    <text x="45.329342" y="22.674097" fill="#ff0000" font-size="4.18372px" id="text23" style="stroke-width:0.00380336" transform="scale(0.98828058,1.0118584)">0</text>
    <text x="64.069809" y="22.779209" fill="#ff0000" font-size="4.18372px" id="text23-7" style="stroke-width:0.00380336" transform="scale(0.98828058,1.0118584)">1</text>
    <text x="82.810272" y="22.779209" fill="#ff0000" font-size="4.18372px" id="text23-2" style="stroke-width:0.00380336" transform="scale(0.98828058,1.0118584)">2</text>
    <text x="101.55073" y="22.674097" fill="#ff0000" font-size="4.18372px" id="text23-8" style="stroke-width:0.00380336" transform="scale(0.98828058,1.0118584)">3</text>
    <text x="101.55073" y="4.370317" fill="#ff0000" font-size="4.18372px" id="text23-27" style="stroke-width:0.00380336" transform="scale(0.98828058,1.0118584)">7</text>
    <text x="82.810265" y="4.370317" fill="#ff0000" font-size="4.18372px" id="text23-77" style="stroke-width:0.00380336" transform="scale(0.98828058,1.0118584)">6</text>
    <text x="64.069801" y="4.370317" fill="#ff0000" font-size="4.18372px" id="text23-1" style="stroke-width:0.00380336" transform="scale(0.98828058,1.0118584)">5</text>
    <text x="45.329342" y="4.370317" fill="#ff0000" font-size="4.18372px" id="text23-11" style="letter-spacing:0px;stroke-width:0.00380336" transform="scale(0.98828058,1.0118584)">4</text>
  </g>
</svg></span></p></td>
<td class="tableblock halign-left valign-bottom"><p class="tableblock"><span class="image"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="315.96481" height="312.6445" viewBox="0 0 83.599029 82.720522" version="1.1" id="svg8" inkscape:version="1.0 (4035a4fb49, 2020-05-01)" sodipodi:docname="pixel_index_4x4.svg">
  <defs id="defs2">
    <marker inkscape:isstock="true" style="overflow:visible" id="marker1483" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Lend">
      <path transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path1481" inkscape:connector-curvature="0"></path>
    </marker>
    <marker inkscape:stockid="Arrow1Lend" orient="auto" refY="0" refX="0" id="Arrow1Lend" style="overflow:visible" inkscape:isstock="true" inkscape:collect="always">
      <path id="path977" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1" transform="matrix(-0.8,0,0,-0.8,-10,0)" inkscape:connector-curvature="0"></path>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="2.0930361" inkscape:cx="170.48768" inkscape:cy="152.56606" inkscape:document-units="px" inkscape:current-layer="layer1" showgrid="true" inkscape:snap-object-midpoints="true" inkscape:snap-text-baseline="true" inkscape:window-width="960" inkscape:window-height="1018" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="0" fit-margin-top="1" fit-margin-right="1" fit-margin-bottom="1" fit-margin-left="1" units="px" inkscape:snap-center="true" inkscape:document-rotation="0">
    <inkscape:grid type="xygrid" id="grid12" originx="-20.366714" originy="-33.617597" dotted="false"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata5">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(-28.116566,44.089714)">
    <path style="fill:none;stroke:#808080;stroke-width:0.264583;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 36.85402,-43.312509 74.08334,10e-4 v 74.083335 l -74.083331,-0.001 -9e-6,-74.083337 m 18.520836,0 7e-6,74.083337 m 18.520832,0 -7e-6,-74.083337 m 18.520832,0 1.4e-5,74.083337 m 18.520826,-18.519802 -74.083331,-10e-4 m -7e-6,-18.5208395 74.083338,0.00103 m 0,-18.5208335 -74.083338,-0.001" id="path1171" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccccccccccccccc"></path>
    <g transform="translate(5.0424113,-5.8514966)" id="g271">
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82223px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="69.692329" y="43.525604" id="text121-3-7-8-0"><tspan y="43.525604" x="69.692329" sodipodi:role="line" id="tspan265">x</tspan></text>
      <text id="text121-3-7-8-9-1" y="42.973698" x="67.711052" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan y="42.973698" x="67.711052" id="tspan239-0" sodipodi:role="line" style="stroke-width:0.264583">f</tspan></text>
    </g>
    <path style="fill:none;stroke:#000000;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow1Lend)" d="m 36.854018,36.062494 34.395836,10e-4 m 5.291669,0 h 34.395837" id="path972" inkscape:connector-curvature="0" sodipodi:nodetypes="cccc"></path>
    <path inkscape:connector-curvature="0" id="path1473" d="M 31.562353,30.77186 V -3.6239751 m 10e-7,-5.2916661 V -43.311476" style="fill:none;stroke:#000000;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1483)"></path>
    <g transform="translate(-2.9074896,-0.27595285)" id="g277">
      <text id="text121-3-7-8" y="-4.0993972" x="35.296494" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" xml:space="preserve"><tspan style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.264583" y="-4.0993972" x="35.296494" id="tspan119-1-8-3" sodipodi:role="line">y</tspan></text>
      <text xml:space="preserve" style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583" x="33.31522" y="-4.6513033" id="text121-3-7-8-9"><tspan sodipodi:role="line" id="tspan239" x="33.31522" y="-4.6513033">f</tspan></text>
    </g>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23" font-size="4.18372px" fill="#ff0000" y="22.777164" x="45.30484">0</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-7" font-size="4.18372px" fill="#ff0000" y="22.882277" x="64.045311">1</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-2" font-size="4.18372px" fill="#ff0000" y="22.882277" x="82.785767">2</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-8" font-size="4.18372px" fill="#ff0000" y="22.777164" x="101.52623">3</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-27" font-size="4.18372px" fill="#ff0000" y="4.4733834" x="101.52623">7</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-77" font-size="4.18372px" fill="#ff0000" y="4.4733834" x="82.785759">6</text>
    <text transform="scale(0.98828058,1.0118584)" style="stroke-width:0.00380336" id="text23-1" font-size="4.18372px" fill="#ff0000" y="4.4733834" x="64.045296">5</text>
    <text transform="scale(0.98828058,1.0118584)" style="letter-spacing:0px;stroke-width:0.00380336" id="text23-11" font-size="4.18372px" fill="#ff0000" y="4.4733834" x="45.30484">4</text>
    <text transform="scale(0.98828058,1.0118584)" style="letter-spacing:0px;stroke-width:0.00380336" id="text23-86" font-size="4.18372px" fill="#ff0000" y="-13.858997" x="45.288502">8</text>
    <text transform="scale(0.98828058,1.0118584)" style="letter-spacing:0px;stroke-width:0.00380336" id="text23-7-0" font-size="4.18372px" fill="#ff0000" y="-13.753885" x="64.028969">9</text>
    <text transform="scale(0.98828058,1.0118584)" style="letter-spacing:0px;stroke-width:0.00380336" id="text23-2-7" font-size="4.18372px" fill="#ff0000" y="-13.828354" x="81.334328">10</text>
    <text transform="scale(0.98828058,1.0118584)" style="letter-spacing:0px;stroke-width:0.00380336" id="text23-8-8" font-size="4.18372px" fill="#ff0000" y="-13.822226" x="100.15957">11</text>
    <text transform="scale(0.98828058,1.0118584)" style="letter-spacing:0px;stroke-width:0.00380336" id="text23-27-2" font-size="4.18372px" fill="#ff0000" y="-32.157669" x="100.08501">15</text>
    <text transform="scale(0.98828058,1.0118584)" style="letter-spacing:0px;stroke-width:0.00380336" id="text23-77-7" font-size="4.18372px" fill="#ff0000" y="-32.126007" x="81.297562">14</text>
    <text transform="scale(0.98828058,1.0118584)" style="letter-spacing:0px;stroke-width:0.00380336" id="text23-1-9" font-size="4.18372px" fill="#ff0000" y="-32.131111" x="62.613274">13</text>
    <text transform="scale(0.98828058,1.0118584)" style="letter-spacing:0px;stroke-width:0.00380336" id="text23-11-4" font-size="4.18372px" fill="#ff0000" y="-32.099449" x="43.851364">12</text>
  </g>
</svg></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The coverage mask includes <span class="eq">B</span> bits packed into <span class="eq">W</span> words, defined
as:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">B = n × <code>rasterizationSamples</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">W = ⌈B/32⌉</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Bit <span class="eq">b</span> in coverage mask word <span class="eq">w</span> is <code>1</code> if the sample with coverage
index <span class="eq">j = 32×w + b</span> is covered, and <code>0</code> otherwise.</p>
</div>
<div class="paragraph">
<p>If the <code>standardSampleLocations</code> member of <a href="chap47.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>
is <code>VK_TRUE</code>, then the sample counts <code>VK_SAMPLE_COUNT_1_BIT</code>,
<code>VK_SAMPLE_COUNT_2_BIT</code>, <code>VK_SAMPLE_COUNT_4_BIT</code>,
<code>VK_SAMPLE_COUNT_8_BIT</code>, and <code>VK_SAMPLE_COUNT_16_BIT</code> have sample
locations as listed in the following table, with the <span class="eq">i</span>th entry in
the table corresponding to sample index <span class="eq">i</span>.
<code>VK_SAMPLE_COUNT_32_BIT</code> and <code>VK_SAMPLE_COUNT_64_BIT</code> do not have
standard sample locations.
Locations are defined relative to an origin in the upper left corner of the
fragment.</p>
</div>
<div style="page-break-after: always;"></div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 38. Standard sample locations</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Sample count</th>
<th class="tableblock halign-left valign-top" colspan="2">Sample Locations</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(0.5,0.5)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><svg width="160" height="160" viewBox="-500 -500 11000 11000" xmlns="http://www.w3.org/2000/svg" version="1.1">
	<desc>VK_SAMPLE_COUNT_1_BIT</desc>
	<defs>
		<marker id="Triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="8" orient="auto">
			<path d="M 0 0 L 10 5 L 0 10 z"></path>
		</marker>
	</defs>
	<g>
		<!-- Axes -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)"></line>
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)"></line>
		<!-- Helper-lines -->
		<line x1="00000" x2="10000" y1="10000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="10000" x2="10000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Helper-lines horizontal -->
		<line x1="00000" x2="10000" y1="05000" y2="05000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Helper-lines vertical -->
		<line x1="05000" x2="05000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Dots -->
		<circle cx="05000" cy="05000" r="00200" fill="black"></circle><text x="05000" y="05000" fill="red" font-size="01100" transform="translate(00200 -00200)">0</text>
	</g>
</svg></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_2_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(0.75,0.75)</span><br>
      <span class="eq">(0.25,0.25)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><svg width="160" height="160" viewBox="-500 -500 11000 11000" xmlns="http://www.w3.org/2000/svg" version="1.1">
	<desc>VK_SAMPLE_COUNT_2_BIT</desc>
	<defs>
		<marker id="Triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="8" orient="auto">
			<path d="M 0 0 L 10 5 L 0 10 z"></path>
		</marker>
	</defs>
	<g>
		<!-- Axes -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)"></line>
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)"></line>
		<!-- Helper-lines -->
		<line x1="00000" x2="10000" y1="10000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="10000" x2="10000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Helper-lines horizontal -->
		<line x1="00000" x2="10000" y1="02500" y2="02500" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="07500" y2="07500" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Helper-lines vertical -->
		<line x1="02500" x2="02500" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="07500" x2="07500" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Dots -->
		<circle cx="07500" cy="07500" r="00200" fill="black"></circle><text x="07500" y="07500" fill="red" font-size="01100" transform="translate(00200 -00200)">0</text>
		<circle cx="02500" cy="02500" r="00200" fill="black"></circle><text x="02500" y="02500" fill="red" font-size="01100" transform="translate(00200 -00200)">1</text>
	</g>
</svg></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_4_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(0.375, 0.125)</span><br>
      <span class="eq">(0.875, 0.375)</span><br>
      <span class="eq">(0.125, 0.625)</span><br>
      <span class="eq">(0.625, 0.875)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><svg width="160" height="160" viewBox="-500 -500 11000 11000" xmlns="http://www.w3.org/2000/svg" version="1.1">
	<desc>VK_SAMPLE_COUNT_4_BIT</desc>
	<defs>
		<marker id="Triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="8" orient="auto">
			<path d="M 0 0 L 10 5 L 0 10 z"></path>
		</marker>
	</defs>
	<g>
		<!-- Axes -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)"></line>
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)"></line>
		<!-- Helper-lines -->
		<line x1="00000" x2="10000" y1="10000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="10000" x2="10000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Helper-lines horizontal -->
		<line x1="00000" x2="10000" y1="01250" y2="01250" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="03750" y2="03750" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="06250" y2="06250" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="08750" y2="08750" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Helper-lines vertical -->
		<line x1="01250" x2="01250" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="03750" x2="03750" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="06250" x2="06250" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="08750" x2="08750" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Dots -->
		<circle cx="03750" cy="01250" r="00200" fill="black"></circle><text x="03750" y="01250" fill="red" font-size="01100" transform="translate(00200 -00200)">0</text>
		<circle cx="08750" cy="03750" r="00200" fill="black"></circle><text x="08750" y="03750" fill="red" font-size="01100" transform="translate(00200 -00200)">1</text>
		<circle cx="01250" cy="06250" r="00200" fill="black"></circle><text x="01250" y="06250" fill="red" font-size="01100" transform="translate(00200 -00200)">2</text>
		<circle cx="06250" cy="08750" r="00200" fill="black"></circle><text x="06250" y="08750" fill="red" font-size="01100" transform="translate(00200 -00200)">3</text>
	</g>
</svg></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_8_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(0.5625, 0.3125)</span><br>
      <span class="eq">(0.4375, 0.6875)</span><br>
      <span class="eq">(0.8125, 0.5625)</span><br>
      <span class="eq">(0.3125, 0.1875)</span><br>
      <span class="eq">(0.1875, 0.8125)</span><br>
      <span class="eq">(0.0625, 0.4375)</span><br>
      <span class="eq">(0.6875, 0.9375)</span><br>
      <span class="eq">(0.9375, 0.0625)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><svg width="160" height="160" viewBox="-500 -500 11000 11000" xmlns="http://www.w3.org/2000/svg" version="1.1">
	<desc>VK_SAMPLE_COUNT_8_BIT</desc>
	<defs>
		<marker id="Triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="8" orient="auto">
			<path d="M 0 0 L 10 5 L 0 10 z"></path>
		</marker>
	</defs>
	<g>
		<!-- Axes -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)"></line>
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)"></line>
		<!-- Helper-lines -->
		<line x1="00000" x2="10000" y1="10000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="10000" x2="10000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Helper-lines horizontal -->
		<line x1="00000" x2="10000" y1="00625" y2="00625" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="01875" y2="01875" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="03125" y2="03125" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="04375" y2="04375" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="05625" y2="05625" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="06875" y2="06875" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="08125" y2="08125" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="09375" y2="09375" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Helper-lines vertical -->
		<line x1="00625" x2="00625" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="01875" x2="01875" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="03125" x2="03125" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="04375" x2="04375" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="05625" x2="05625" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="06875" x2="06875" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="08125" x2="08125" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="09375" x2="09375" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Dots -->
		<circle cx="05625" cy="03125" r="00200" fill="black"></circle><text x="05625" y="03125" fill="red" font-size="01100" transform="translate(00200 -00200)">0</text>
		<circle cx="04375" cy="06875" r="00200" fill="black"></circle><text x="04375" y="06875" fill="red" font-size="01100" transform="translate(00200 -00200)">1</text>
		<circle cx="08125" cy="05625" r="00200" fill="black"></circle><text x="08125" y="05625" fill="red" font-size="01100" transform="translate(00200 -00200)">2</text>
		<circle cx="03125" cy="01875" r="00200" fill="black"></circle><text x="03125" y="01875" fill="red" font-size="01100" transform="translate(00200 -00200)">3</text>
		<circle cx="01875" cy="08125" r="00200" fill="black"></circle><text x="01875" y="08125" fill="red" font-size="01100" transform="translate(00200 -00200)">4</text>
		<circle cx="00625" cy="04375" r="00200" fill="black"></circle><text x="00625" y="04375" fill="red" font-size="01100" transform="translate(00200 -00200)">5</text>
		<circle cx="06875" cy="09375" r="00200" fill="black"></circle><text x="06875" y="09375" fill="red" font-size="01100" transform="translate(00200 -00200)">6</text>
		<circle cx="09375" cy="00625" r="00200" fill="black"></circle><text x="09375" y="00625" fill="red" font-size="01100" transform="translate(00200  00700)">7</text>
	</g>
</svg></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_16_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="eq">(0.5625, 0.5625)</span><br>
      <span class="eq">(0.4375, 0.3125)</span><br>
      <span class="eq">(0.3125, 0.625)</span><br>
      <span class="eq">(0.75,   0.4375)</span><br>
      <span class="eq">(0.1875, 0.375)</span><br>
      <span class="eq">(0.625,  0.8125)</span><br>
      <span class="eq">(0.8125, 0.6875)</span><br>
      <span class="eq">(0.6875, 0.1875)</span><br>
      <span class="eq">(0.375,  0.875)</span><br>
      <span class="eq">(0.5,    0.0625)</span><br>
      <span class="eq">(0.25,   0.125)</span><br>
      <span class="eq">(0.125,  0.75)</span><br>
      <span class="eq">(0.0,    0.5)</span><br>
      <span class="eq">(0.9375, 0.25)</span><br>
      <span class="eq">(0.875,  0.9375)</span><br>
      <span class="eq">(0.0625, 0.0)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><svg width="160" height="160" viewBox="-500 -500 11000 11000" xmlns="http://www.w3.org/2000/svg" version="1.1">
	<desc>VK_SAMPLE_COUNT_16_BIT</desc>
	<defs>
		<marker id="Triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="8" orient="auto">
			<path d="M 0 0 L 10 5 L 0 10 z"></path>
		</marker>
	</defs>
	<g>
		<!-- Axes -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)"></line>
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00050" stroke="black" marker-end="url(#Triangle)"></line>
		<!-- Helper-lines -->
		<line x1="00000" x2="10000" y1="10000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="10000" x2="10000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Helper-lines horizontal -->
		<line x1="00000" x2="10000" y1="00000" y2="00000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="00625" y2="00625" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="01250" y2="01250" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="01875" y2="01875" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="02500" y2="02500" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="03125" y2="03125" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="03750" y2="03750" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="04375" y2="04375" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="05000" y2="05000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="05625" y2="05625" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="06250" y2="06250" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="06875" y2="06875" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="07500" y2="07500" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="08125" y2="08125" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="08750" y2="08750" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00000" x2="10000" y1="09375" y2="09375" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Helper-lines vertical -->
		<line x1="00000" x2="00000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="00625" x2="00625" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="01250" x2="01250" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="01875" x2="01875" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="02500" x2="02500" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="03125" x2="03125" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="03750" x2="03750" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="04375" x2="04375" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="05000" x2="05000" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="05625" x2="05625" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="06250" x2="06250" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="06875" x2="06875" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="07500" x2="07500" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="08125" x2="08125" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="08750" x2="08750" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<line x1="09375" x2="09375" y1="00000" y2="10000" stroke-width="00010" stroke="black" stroke-dasharray="00100"></line>
		<!-- Dots -->
		<circle cx="05625" cy="05625" r="00200" fill="black"></circle><text x="05625" y="05625" fill="red" font-size="01100" transform="translate(00200 -00200)">0</text>
		<circle cx="04375" cy="03125" r="00200" fill="black"></circle><text x="04375" y="03125" fill="red" font-size="01100" transform="translate(00200 -00200)">1</text>
		<circle cx="03125" cy="06250" r="00200" fill="black"></circle><text x="03125" y="06250" fill="red" font-size="01100" transform="translate(00200 -00200)">2</text>
		<circle cx="07500" cy="04375" r="00200" fill="black"></circle><text x="07500" y="04375" fill="red" font-size="01100" transform="translate(00200 -00200)">3</text>
		<circle cx="01875" cy="03750" r="00200" fill="black"></circle><text x="01875" y="03750" fill="red" font-size="01100" transform="translate(00200 -00200)">4</text>
		<circle cx="06250" cy="08125" r="00200" fill="black"></circle><text x="06250" y="08125" fill="red" font-size="01100" transform="translate(00200 -00200)">5</text>
		<circle cx="08125" cy="06875" r="00200" fill="black"></circle><text x="08125" y="06875" fill="red" font-size="01100" transform="translate(00200 -00200)">6</text>
		<circle cx="06875" cy="01875" r="00200" fill="black"></circle><text x="06875" y="01875" fill="red" font-size="01100" transform="translate(00200 -00200)">7</text>
		<circle cx="03750" cy="08750" r="00200" fill="black"></circle><text x="03750" y="08750" fill="red" font-size="01100" transform="translate(00200 -00200)">8</text>
		<circle cx="05000" cy="00625" r="00200" fill="black"></circle><text x="05000" y="00625" fill="red" font-size="01100" transform="translate(00400  00400)">9</text>
		<circle cx="02500" cy="01250" r="00200" fill="black"></circle><text x="02500" y="01250" fill="red" font-size="01100" transform="translate(00200 -00200)">10</text>
		<circle cx="01250" cy="07500" r="00200" fill="black"></circle><text x="01250" y="07500" fill="red" font-size="01100" transform="translate(00200 -00200)">11</text>
		<circle cx="00000" cy="05000" r="00200" fill="black"></circle><text x="00000" y="05000" fill="red" font-size="01100" transform="translate(00200 -00200)">12</text>
		<circle cx="09375" cy="02500" r="00200" fill="black"></circle><text x="09375" y="02500" fill="red" font-size="01100" transform="translate(00000 -00400)">13</text>
		<circle cx="08750" cy="09375" r="00200" fill="black"></circle><text x="08750" y="09375" fill="red" font-size="01100" transform="translate(00200 -00200)">14</text>
		<circle cx="00625" cy="00000" r="00200" fill="black"></circle><text x="00625" y="00000" fill="red" font-size="01100" transform="translate(00200  00800)">15</text>
	</g>
</svg></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Color images created with multiple samples per pixel use a compression
technique where there are two arrays of data associated with each pixel.
The first array contains one element per sample where each element stores an
index to the second array defining the <em>fragment mask</em> of the pixel.
The second array contains one element per <em>color fragment</em> and each element
stores a unique color value in the format of the image.
With this compression technique it is not always necessary to actually use
unique storage locations for each color sample: when multiple samples share
the same color value the fragment mask <strong class="purple">may</strong> have two samples referring to
the same color fragment.
The number of color fragments is determined by the <code>samples</code> member of
the <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a> structure used to create the image.
The <code><a href="chap55.html#VK_AMD_shader_fragment_mask">VK_AMD_shader_fragment_mask</a></code> device extension provides shader
instructions enabling the application to get direct access to the fragment
mask and the individual color fragment values.</p>
</div>
<div id="vk-amd-shader-fragment-mask-diagram" class="imageblock text-center">
<div class="content">
<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="113.50448mm" height="43.381195mm" viewBox="0 0 113.50448 43.381195" version="1.1" id="svg2745" inkscape:version="0.92.2 (5c3e80d, 2017-08-06)" sodipodi:docname="fragment_mask.svg">
  <defs id="defs2739"></defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.979899" inkscape:cx="268.47568" inkscape:cy="27.580632" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:snap-text-baseline="true" inkscape:snap-object-midpoints="true" inkscape:measure-start="465,840" inkscape:measure-end="525,730" fit-margin-left="1" fit-margin-top="1" fit-margin-right="1" fit-margin-bottom="1" inkscape:window-width="1680" inkscape:window-height="987" inkscape:window-x="1672" inkscape:window-y="-8" inkscape:window-maximized="0">
    <inkscape:grid type="xygrid" id="grid3290" originx="-75.481983" originy="-197.30522"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata2742">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(-75.481984,-56.313591)">
    <rect style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" id="rect4980" width="15.875" height="6.614583" x="171.97917" y="72.104164"></rect>
    <rect style="fill:#808080;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" id="rect4982" width="15.875" height="6.614583" x="171.97917" y="78.71875"></rect>
    <path style="fill:#ff0000;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 108.47917,66.8125 C 87.312504,98.562495 87.312504,98.562495 87.312504,98.562495 h 42.333336 z" id="path4959" inkscape:connector-curvature="0"></path>
    <path style="fill:#808080;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 97.895833,57.552083 C 76.729173,89.302078 76.729173,89.302078 76.729173,89.302078 H 119.06251 Z" id="path4959-2" inkscape:connector-curvature="0"></path>
    <g transform="translate(-68.791667,6.6145833)" id="g4020-9" style="stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none">
      <circle r="0.52778977" cy="70.78125" cx="178.59375" id="path4517-78-7-8-8-9-0-5" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="76.072914" cx="189.17708" id="path4517-78-7-8-8-9-0-3-0" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="81.364586" cx="173.30208" id="path4517-78-7-8-8-9-0-4-3" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="86.65625" cx="183.88542" id="path4517-78-7-8-8-9-0-7-9" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
    </g>
    <rect style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" id="rect4722" width="21.148586" height="40.992329" x="134.9375" y="57.552082" ry="1.2710052e-006"></rect>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="145.52083" y="62.84375" id="text4726"><tspan sodipodi:role="line" x="145.52083" y="62.84375" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4728">Color</tspan><tspan sodipodi:role="line" x="145.52083" y="68.135414" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732">Samples</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 134.9375,72.104167 h 21.16666" id="path4734" inkscape:connector-curvature="0"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 145.52083,72.104167 V 98.5625" id="path4736" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="140.22917" y="77.395836" id="text4726-8"><tspan sodipodi:role="line" x="140.22917" y="77.395836" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2">0</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 134.9375,78.71875 h 21.16666" id="path4801" inkscape:connector-curvature="0"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 134.9375,85.333333 h 21.16666" id="path4803" inkscape:connector-curvature="0"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 134.9375,91.947917 h 21.16666" id="path4805" inkscape:connector-curvature="0"></path>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="150.8125" y="97.239586" id="text4726-8-3"><tspan sodipodi:role="line" x="150.8125" y="97.239586" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-5">0</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="140.22917" y="84.010414" id="text4726-8-2"><tspan sodipodi:role="line" x="140.22917" y="84.010414" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-3">1</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="150.8125" y="77.395836" id="text4726-8-2-1"><tspan sodipodi:role="line" x="150.8125" y="77.395836" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-3-2">1</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="150.8125" y="90.625" id="text4726-8-2-9"><tspan sodipodi:role="line" x="150.8125" y="90.625" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-3-3">1</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="140.22917" y="90.625" id="text4726-8-2-0"><tspan sodipodi:role="line" x="140.22917" y="90.625" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-3-0">2</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="150.8125" y="84.010414" id="text4726-8-2-0-2"><tspan sodipodi:role="line" x="150.8125" y="84.010414" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-3-0-7">2</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="140.22917" y="97.239586" id="text4726-8-2-0-0"><tspan sodipodi:role="line" x="140.22917" y="97.239586" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-3-0-6">3</tspan></text>
    <rect style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" id="rect4722-1" width="26.458307" height="40.992329" x="161.39584" y="57.552086" ry="1.2710052e-006"></rect>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="174.625" y="62.84375" id="text4726-6"><tspan sodipodi:role="line" x="174.625" y="62.84375" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4728-4">Color</tspan><tspan sodipodi:role="line" x="174.625" y="68.135414" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-0">Fragments</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 161.39584,72.104167 h 26.45833" id="path4734-1" inkscape:connector-curvature="0"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 171.97917,72.104167 V 98.5625" id="path4736-8" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="166.68752" y="77.395836" id="text4726-8-0"><tspan sodipodi:role="line" x="166.68752" y="77.395836" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-0">0</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 161.39584,78.71875 h 26.45833" id="path4801-3" inkscape:connector-curvature="0"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 161.39584,85.333333 h 26.45833" id="path4803-2" inkscape:connector-curvature="0"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 161.39584,91.947916 h 26.45833" id="path4805-4" inkscape:connector-curvature="0"></path>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="166.68752" y="84.010414" id="text4726-8-2-4"><tspan sodipodi:role="line" x="166.68752" y="84.010414" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-3-9">1</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="166.68752" y="90.625" id="text4726-8-2-0-4"><tspan sodipodi:role="line" x="166.68752" y="90.625" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-3-0-3">2</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" x="166.68752" y="97.239594" id="text4726-8-2-0-0-7"><tspan sodipodi:role="line" x="166.68752" y="97.239594" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-3-0-6-4">3</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332" x="179.91667" y="90.625008" id="text4986"><tspan sodipodi:role="line" id="tspan4984" x="179.91667" y="90.625008" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Unused</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332" x="179.91667" y="97.239586" id="text4986-3"><tspan sodipodi:role="line" id="tspan4984-2" x="179.91667" y="97.239586" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.26458332">Unused</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none" x="101.86459" y="87.979172" id="text4726-8-7"><tspan sodipodi:role="line" x="101.86459" y="87.979172" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-7">0</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none" x="123.03125" y="82.687508" id="text4726-8-7-5"><tspan sodipodi:role="line" x="123.03125" y="82.687508" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-7-8">1</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none" x="107.15625" y="77.395836" id="text4726-8-7-1"><tspan sodipodi:role="line" x="107.15625" y="77.395836" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-7-1">2</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none" x="117.73959" y="93.270836" id="text4726-8-7-4"><tspan sodipodi:role="line" x="117.73959" y="93.270836" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.39687496;stroke-miterlimit:4;stroke-dasharray:none" id="tspan4732-2-7-7">3</tspan></text>
  </g>
</svg>
</div>
<div class="title">Figure 19. Fragment Mask</div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-samplelocations"><a class="anchor" href="chap28.html#primsrast-samplelocations"></a>28.5. Custom Sample Locations</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Applications <strong class="purple">can</strong> also control the sample locations used for rasterization.</p>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of the <a href="chap28.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>
structure specified at pipeline creation time includes a
<code>VkPipelineSampleLocationsStateCreateInfoEXT</code> structure, then that
structure controls the sample locations used when rasterizing primitives
with the pipeline.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineSampleLocationsStateCreateInfoEXT</code> structure is defined
as:</p>
</div>
<div id="VkPipelineSampleLocationsStateCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_sample_locations</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineSampleLocationsStateCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>             <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                 <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkBool32</span>                    <span class="n">sampleLocationsEnable</span><span class="p">;</span>
    <span class="n">VkSampleLocationsInfoEXT</span>    <span class="n">sampleLocationsInfo</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPipelineSampleLocationsStateCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>sampleLocationsEnable</code> controls whether custom sample locations are
used.
If <code>sampleLocationsEnable</code> is <code>VK_FALSE</code>, the default sample
locations are used and the values specified in <code>sampleLocationsInfo</code>
are ignored.</p>
</li>
<li>
<p><code>sampleLocationsInfo</code> is the sample locations to use during
rasterization if <code>sampleLocationsEnable</code> is <code>VK_TRUE</code> and the
graphics pipeline is not created with
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineSampleLocationsStateCreateInfoEXT-sType-sType" href="chap28.html#VUID-VkPipelineSampleLocationsStateCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkPipelineSampleLocationsStateCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_SAMPLE_LOCATIONS_STATE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineSampleLocationsStateCreateInfoEXT-sampleLocationsInfo-parameter" href="chap28.html#VUID-VkPipelineSampleLocationsStateCreateInfoEXT-sampleLocationsInfo-parameter"></a> <span class="vuid">VUID-VkPipelineSampleLocationsStateCreateInfoEXT-sampleLocationsInfo-parameter</span><br>
 <code>sampleLocationsInfo</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkSampleLocationsInfoEXT">VkSampleLocationsInfoEXT</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSampleLocationsInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkSampleLocationsInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_sample_locations</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSampleLocationsInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>               <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                   <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkSampleCountFlagBits</span>         <span class="n">sampleLocationsPerPixel</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                    <span class="n">sampleLocationGridSize</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                      <span class="n">sampleLocationsCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkSampleLocationEXT</span><span class="o">*</span>    <span class="n">pSampleLocations</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSampleLocationsInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>sampleLocationsPerPixel</code> is a <a href="chap47.html#VkSampleCountFlagBits">VkSampleCountFlagBits</a> value
specifying the number of sample locations per pixel.</p>
</li>
<li>
<p><code>sampleLocationGridSize</code> is the size of the sample location grid to
select custom sample locations for.</p>
</li>
<li>
<p><code>sampleLocationsCount</code> is the number of sample locations in
<code>pSampleLocations</code>.</p>
</li>
<li>
<p><code>pSampleLocations</code> is a pointer to an array of
<code>sampleLocationsCount</code> <a href="chap28.html#VkSampleLocationEXT">VkSampleLocationEXT</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This structure <strong class="purple">can</strong> be used either to specify the sample locations to be
used for rendering or to specify the set of sample locations an image
subresource has been last rendered with for the purposes of layout
transitions of depth/stencil images created with
<code>VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT</code>.</p>
</div>
<div class="paragraph">
<p>The sample locations in <code>pSampleLocations</code> specify
<code>sampleLocationsPerPixel</code> number of sample locations for each pixel in
the grid of the size specified in <code>sampleLocationGridSize</code>.
The sample location for sample <span class="eq">i</span> at the pixel grid location
<span class="eq">(x,y)</span> is taken from <span class="eq"><code>pSampleLocations</code>[(x +  y ×
<code>sampleLocationGridSize.width</code>) × <code>sampleLocationsPerPixel</code>
+  i]</span>.</p>
</div>
<div class="paragraph">
<p>If the render pass has a fragment density map, the implementation will
choose the sample locations for the fragment and the contents of
<code>pSampleLocations</code> <strong class="purple">may</strong> be ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSampleLocationsInfoEXT-sampleLocationsPerPixel-01526" href="chap28.html#VUID-VkSampleLocationsInfoEXT-sampleLocationsPerPixel-01526"></a> <span class="vuid">VUID-VkSampleLocationsInfoEXT-sampleLocationsPerPixel-01526</span><br>

<code>sampleLocationsPerPixel</code> <strong class="purple">must</strong> be a bit value that is set in
<a href="chap47.html#VkPhysicalDeviceSampleLocationsPropertiesEXT">VkPhysicalDeviceSampleLocationsPropertiesEXT</a>::<code>sampleLocationSampleCounts</code></p>
</li>
<li>
<p><a id="VUID-VkSampleLocationsInfoEXT-sampleLocationsCount-01527" href="chap28.html#VUID-VkSampleLocationsInfoEXT-sampleLocationsCount-01527"></a> <span class="vuid">VUID-VkSampleLocationsInfoEXT-sampleLocationsCount-01527</span><br>

<code>sampleLocationsCount</code> <strong class="purple">must</strong> equal
<span class="eq"><code>sampleLocationsPerPixel</code> ×
<code>sampleLocationGridSize.width</code> ×
<code>sampleLocationGridSize.height</code></span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSampleLocationsInfoEXT-sType-sType" href="chap28.html#VUID-VkSampleLocationsInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkSampleLocationsInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SAMPLE_LOCATIONS_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkSampleLocationsInfoEXT-pSampleLocations-parameter" href="chap28.html#VUID-VkSampleLocationsInfoEXT-pSampleLocations-parameter"></a> <span class="vuid">VUID-VkSampleLocationsInfoEXT-pSampleLocations-parameter</span><br>
 If <code>sampleLocationsCount</code> is not <code>0</code>, <code>pSampleLocations</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>sampleLocationsCount</code> <a href="chap28.html#VkSampleLocationEXT">VkSampleLocationEXT</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkSampleLocationEXT</code> structure is defined as:</p>
</div>
<div id="VkSampleLocationEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_sample_locations</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSampleLocationEXT</span> <span class="p">{</span>
    <span class="kt">float</span>    <span class="n">x</span><span class="p">;</span>
    <span class="kt">float</span>    <span class="n">y</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSampleLocationEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> is the horizontal coordinate of the sample’s location.</p>
</li>
<li>
<p><code>y</code> is the vertical coordinate of the sample’s location.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The domain space of the sample location coordinates has an upper-left origin
within the pixel in framebuffer space.</p>
</div>
<div class="paragraph">
<p>The values specified in a <code>VkSampleLocationEXT</code> structure are always
clamped to the implementation-dependent sample location coordinate range
<span class="eq">[<code>sampleLocationCoordinateRange</code>[0],<code>sampleLocationCoordinateRange</code>[1]]</span>
that <strong class="purple">can</strong> be queried using
<a href="chap47.html#VkPhysicalDeviceSampleLocationsPropertiesEXT">VkPhysicalDeviceSampleLocationsPropertiesEXT</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the
<code>sampleLocationsEnable</code> state, call:</p>
</div>
<div id="vkCmdSetSampleLocationsEnableEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state3, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetSampleLocationsEnableEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkBool32</span>                                    <span class="n">sampleLocationsEnable</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>sampleLocationsEnable</code> specifies the <code>sampleLocationsEnable</code>
state.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the <code>sampleLocationsEnable</code> state for subsequent
drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineSampleLocationsStateCreateInfoEXT">VkPipelineSampleLocationsStateCreateInfoEXT</a>::<code>sampleLocationsEnable</code>
value used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetSampleLocationsEnableEXT-None-08554" href="chap28.html#VUID-vkCmdSetSampleLocationsEnableEXT-None-08554"></a> <span class="vuid">VUID-vkCmdSetSampleLocationsEnableEXT-None-08554</span><br>

Either the <a href="chap46.html#features-extendedDynamicState3SampleLocationsEnable"><code>extendedDynamicState3SampleLocationsEnable</code></a> feature or the
<a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature or both <strong class="purple">must</strong> be
enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetSampleLocationsEnableEXT-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetSampleLocationsEnableEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetSampleLocationsEnableEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetSampleLocationsEnableEXT-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetSampleLocationsEnableEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetSampleLocationsEnableEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetSampleLocationsEnableEXT-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetSampleLocationsEnableEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetSampleLocationsEnableEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetSampleLocationsEnableEXT-videocoding" href="chap28.html#VUID-vkCmdSetSampleLocationsEnableEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetSampleLocationsEnableEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the sample locations used
for rasterization, call:</p>
</div>
<div id="vkCmdSetSampleLocationsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_sample_locations</span>
<span class="kt">void</span> <span class="nf">vkCmdSetSampleLocationsEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkSampleLocationsInfoEXT</span><span class="o">*</span>             <span class="n">pSampleLocationsInfo</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>pSampleLocationsInfo</code> is the sample locations state to set.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the custom sample locations for subsequent drawing
commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>, and when the
<a href="chap28.html#VkPipelineSampleLocationsStateCreateInfoEXT">VkPipelineSampleLocationsStateCreateInfoEXT</a>::<code>sampleLocationsEnable</code>
property of the bound graphics pipeline is <code>VK_TRUE</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineSampleLocationsStateCreateInfoEXT">VkPipelineSampleLocationsStateCreateInfoEXT</a>::<code>sampleLocationsInfo</code>
values used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetSampleLocationsEXT-variableSampleLocations-01530" href="chap28.html#VUID-vkCmdSetSampleLocationsEXT-variableSampleLocations-01530"></a> <span class="vuid">VUID-vkCmdSetSampleLocationsEXT-variableSampleLocations-01530</span><br>

If
<a href="chap47.html#VkPhysicalDeviceSampleLocationsPropertiesEXT">VkPhysicalDeviceSampleLocationsPropertiesEXT</a>::<code>variableSampleLocations</code>
is <code>VK_FALSE</code> then the current render pass <strong class="purple">must</strong> have been begun by
specifying a <a href="chap8.html#VkRenderPassSampleLocationsBeginInfoEXT">VkRenderPassSampleLocationsBeginInfoEXT</a> structure
whose <code>pPostSubpassSampleLocations</code> member contains an element with
a <code>subpassIndex</code> matching the current subpass index and the
<code>sampleLocationsInfo</code> member of that element <strong class="purple">must</strong> match the sample
locations state pointed to by <code>pSampleLocationsInfo</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetSampleLocationsEXT-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetSampleLocationsEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetSampleLocationsEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetSampleLocationsEXT-pSampleLocationsInfo-parameter" href="chap28.html#VUID-vkCmdSetSampleLocationsEXT-pSampleLocationsInfo-parameter"></a> <span class="vuid">VUID-vkCmdSetSampleLocationsEXT-pSampleLocationsInfo-parameter</span><br>
 <code>pSampleLocationsInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap28.html#VkSampleLocationsInfoEXT">VkSampleLocationsInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCmdSetSampleLocationsEXT-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetSampleLocationsEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetSampleLocationsEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetSampleLocationsEXT-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetSampleLocationsEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetSampleLocationsEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetSampleLocationsEXT-videocoding" href="chap28.html#VUID-vkCmdSetSampleLocationsEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetSampleLocationsEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-fragment-shading-rate"><a class="anchor" href="chap28.html#primsrast-fragment-shading-rate"></a>28.6. Fragment Shading Rates</h3>
<div class="paragraph">
<p>The features advertised by
<a href="chap46.html#VkPhysicalDeviceFragmentShadingRateFeaturesKHR">VkPhysicalDeviceFragmentShadingRateFeaturesKHR</a> allow an application to
control the <a href="chap58.html#glossary-shading-rate">shading rate</a> of a given fragment
shader invocation.</p>
</div>
<div class="paragraph">
<p>The fragment shading rate strongly interacts with <a href="chap28.html#primsrast-multisampling">Multisampling</a>, and the set of available rates for an implementation <strong class="purple">may</strong>
be restricted by sample rate.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query available shading rates, call:</p>
</div>
<div id="vkGetPhysicalDeviceFragmentShadingRatesKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_fragment_shading_rate</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceFragmentShadingRatesKHR</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span>                                   <span class="n">pFragmentShadingRateCount</span><span class="p">,</span>
    <span class="n">VkPhysicalDeviceFragmentShadingRateKHR</span><span class="o">*</span>     <span class="n">pFragmentShadingRates</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the handle to the physical device whose
properties will be queried.</p>
</li>
<li>
<p><code>pFragmentShadingRateCount</code> is a pointer to an integer related to
the number of fragment shading rates available or queried, as described
below.</p>
</li>
<li>
<p><code>pFragmentShadingRates</code> is either <code>NULL</code> or a pointer to an array of
<a href="chap28.html#VkPhysicalDeviceFragmentShadingRateKHR">VkPhysicalDeviceFragmentShadingRateKHR</a> structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pFragmentShadingRates</code> is <code>NULL</code>, then the number of fragment
shading rates available is returned in <code>pFragmentShadingRateCount</code>.
Otherwise, <code>pFragmentShadingRateCount</code> <strong class="purple">must</strong> point to a variable set by
the user to the number of elements in the <code>pFragmentShadingRates</code> array,
and on return the variable is overwritten with the number of structures
actually written to <code>pFragmentShadingRates</code>.
If <code>pFragmentShadingRateCount</code> is less than the number of fragment
shading rates available, at most <code>pFragmentShadingRateCount</code> structures
will be written, and <code>VK_INCOMPLETE</code> will be returned instead of
<code>VK_SUCCESS</code>, to indicate that not all the available fragment shading
rates were returned.</p>
</div>
<div class="paragraph">
<p>The returned array of fragment shading rates <strong class="purple">must</strong> be ordered from largest
<code>fragmentSize.width</code> value to smallest, and each set of fragment shading
rates with the same <code>fragmentSize.width</code> value <strong class="purple">must</strong> be ordered from
largest <code>fragmentSize.height</code> to smallest.
Any two entries in the array <strong class="purple">must</strong> not have the same <code>fragmentSize</code>
values.</p>
</div>
<div class="paragraph">
<p>For any entry in the array, the following rules also apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The value of <code>fragmentSize.width</code> <strong class="purple">must</strong> be less than or equal to
<a href="chap47.html#limits-maxFragmentSize"><code>maxFragmentSize.width</code></a>.</p>
</li>
<li>
<p>The value of <code>fragmentSize.width</code> <strong class="purple">must</strong> be greater than or equal to
<code>1</code>.</p>
</li>
<li>
<p>The value of <code>fragmentSize.width</code> <strong class="purple">must</strong> be a power-of-two.</p>
</li>
<li>
<p>The value of <code>fragmentSize.height</code> <strong class="purple">must</strong> be less than or equal to
<a href="chap47.html#limits-maxFragmentSize"><code>maxFragmentSize.height</code></a>.</p>
</li>
<li>
<p>The value of <code>fragmentSize.height</code> <strong class="purple">must</strong> be greater than or equal to
<code>1</code>.</p>
</li>
<li>
<p>The value of <code>fragmentSize.height</code> <strong class="purple">must</strong> be a power-of-two.</p>
</li>
<li>
<p>The highest sample count in <code>sampleCounts</code> <strong class="purple">must</strong> be less than or
equal to <a href="chap47.html#limits-maxFragmentShadingRateRasterizationSamples"><code>maxFragmentShadingRateRasterizationSamples</code></a>.</p>
</li>
<li>
<p>The product of <code>fragmentSize.width</code>, <code>fragmentSize.height</code>, and
the highest sample count in <code>sampleCounts</code> <strong class="purple">must</strong> be less than or
equal to <a href="chap47.html#limits-maxFragmentShadingRateCoverageSamples"><code>maxFragmentShadingRateCoverageSamples</code></a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Implementations <strong class="purple">must</strong> support at least the following shading rates:</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>sampleCounts</code></th>
<th class="tableblock halign-left valign-top"><code>fragmentSize</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{2,2}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SAMPLE_COUNT_1_BIT</code> | <code>VK_SAMPLE_COUNT_4_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{2,1}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">~0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{1,1}</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If <a href="chap47.html#limits-framebufferColorSampleCounts"><code>framebufferColorSampleCounts</code></a>, includes <code>VK_SAMPLE_COUNT_2_BIT</code>,
the required rates <strong class="purple">must</strong> also include <code>VK_SAMPLE_COUNT_2_BIT</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Including the {1,1} fragment size is done for completeness; it has no actual
effect on the support of rendering without setting the fragment size.
All sample counts
and render pass transforms
are supported for this rate.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The returned set of fragment shading rates <strong class="purple">must</strong> be returned in the native
(rotated) coordinate system.
For rasterization using render pass <code>transform</code> not equal to
<code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code>, the application <strong class="purple">must</strong> transform
the returned fragment shading rates into the current (unrotated) coordinate
system to get the supported rates for that transform.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>For example, consider an implementation returning support for 4x2, but not
2x4 in the set of supported fragment shading rates.
This means that for transforms <code>VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR</code>
and <code>VK_SURFACE_TRANSFORM_ROTATE_270_BIT_KHR</code>, 2x4 is a supported rate,
but 4x2 is an unsupported rate.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceFragmentShadingRatesKHR-physicalDevice-parameter" href="chap28.html#VUID-vkGetPhysicalDeviceFragmentShadingRatesKHR-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceFragmentShadingRatesKHR-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceFragmentShadingRatesKHR-pFragmentShadingRateCount-parameter" href="chap28.html#VUID-vkGetPhysicalDeviceFragmentShadingRatesKHR-pFragmentShadingRateCount-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceFragmentShadingRatesKHR-pFragmentShadingRateCount-parameter</span><br>
 <code>pFragmentShadingRateCount</code> <strong class="purple">must</strong> be a valid pointer to a <code>uint32_t</code> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceFragmentShadingRatesKHR-pFragmentShadingRates-parameter" href="chap28.html#VUID-vkGetPhysicalDeviceFragmentShadingRatesKHR-pFragmentShadingRates-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceFragmentShadingRatesKHR-pFragmentShadingRates-parameter</span><br>
 If the value referenced by <code>pFragmentShadingRateCount</code> is not <code>0</code>, and <code>pFragmentShadingRates</code> is not <code>NULL</code>, <code>pFragmentShadingRates</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>pFragmentShadingRateCount</code> <a href="chap28.html#VkPhysicalDeviceFragmentShadingRateKHR">VkPhysicalDeviceFragmentShadingRateKHR</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
<li>
<p><code>VK_INCOMPLETE</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceFragmentShadingRateKHR</code> structure is defined as</p>
</div>
<div id="VkPhysicalDeviceFragmentShadingRateKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_fragment_shading_rate</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPhysicalDeviceFragmentShadingRateKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>       <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                 <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkSampleCountFlags</span>    <span class="n">sampleCounts</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>            <span class="n">fragmentSize</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPhysicalDeviceFragmentShadingRateKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>sampleCounts</code> is a bitmask of sample counts for which the shading
rate described by <code>fragmentSize</code> is supported.</p>
</li>
<li>
<p><code>fragmentSize</code> is a <a href="chap3.html#VkExtent2D">VkExtent2D</a> describing the width and height
of a supported shading rate.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceFragmentShadingRateKHR-sType-sType" href="chap28.html#VUID-VkPhysicalDeviceFragmentShadingRateKHR-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceFragmentShadingRateKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FRAGMENT_SHADING_RATE_KHR</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceFragmentShadingRateKHR-pNext-pNext" href="chap28.html#VUID-VkPhysicalDeviceFragmentShadingRateKHR-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceFragmentShadingRateKHR-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Fragment shading rates <strong class="purple">can</strong> be set at three points, with the three rates
combined to determine the final shading rate.</p>
</div>
<div class="sect3">
<h4 id="primsrast-fragment-shading-rate-pipeline"><a class="anchor" href="chap28.html#primsrast-fragment-shading-rate-pipeline"></a>28.6.1. Pipeline Fragment Shading Rate</h4>
<div class="paragraph">
<p>The <em>pipeline fragment shading rate</em> <strong class="purple">can</strong> be set on a per-draw basis by
either setting the rate in a graphics pipeline, or dynamically via
<a href="chap28.html#vkCmdSetFragmentShadingRateKHR">vkCmdSetFragmentShadingRateKHR</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineFragmentShadingRateStateCreateInfoKHR</code> structure is
defined as:</p>
</div>
<div id="VkPipelineFragmentShadingRateStateCreateInfoKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_fragment_shading_rate</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineFragmentShadingRateStateCreateInfoKHR</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                       <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                           <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkExtent2D</span>                            <span class="n">fragmentSize</span><span class="p">;</span>
    <span class="n">VkFragmentShadingRateCombinerOpKHR</span>    <span class="n">combinerOps</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">VkPipelineFragmentShadingRateStateCreateInfoKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>fragmentSize</code> specifies a <a href="chap3.html#VkExtent2D">VkExtent2D</a> structure containing the
fragment size used to define the pipeline fragment shading rate for
drawing commands using this pipeline.</p>
</li>
<li>
<p><code>combinerOps</code> specifies a <a href="chap28.html#VkFragmentShadingRateCombinerOpKHR">VkFragmentShadingRateCombinerOpKHR</a>
value determining how the
<a href="chap28.html#primsrast-fragment-shading-rate-pipeline">pipeline</a>,
<a href="chap28.html#primsrast-fragment-shading-rate-primitive">primitive</a>, and
<a href="chap28.html#primsrast-fragment-shading-rate-attachment">attachment shading rates</a>
are <a href="chap28.html#primsrast-fragment-shading-rate-combining">combined</a> for fragments
generated by drawing commands using the created pipeline.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> includes a
<code>VkPipelineFragmentShadingRateStateCreateInfoKHR</code> structure, then that
structure includes parameters controlling the pipeline fragment shading
rate.</p>
</div>
<div class="paragraph">
<p>If this structure is not present, <code>fragmentSize</code> is considered to be
equal to <span class="eq">(1,1)</span>, and both elements of <code>combinerOps</code> are considered
to be equal to <code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineFragmentShadingRateStateCreateInfoKHR-sType-sType" href="chap28.html#VUID-VkPipelineFragmentShadingRateStateCreateInfoKHR-sType-sType"></a> <span class="vuid">VUID-VkPipelineFragmentShadingRateStateCreateInfoKHR-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_FRAGMENT_SHADING_RATE_STATE_CREATE_INFO_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the pipeline fragment
shading rate and combiner operation, call:</p>
</div>
<div id="vkCmdSetFragmentShadingRateKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_fragment_shading_rate</span>
<span class="kt">void</span> <span class="nf">vkCmdSetFragmentShadingRateKHR</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkExtent2D</span><span class="o">*</span>                           <span class="n">pFragmentSize</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkFragmentShadingRateCombinerOpKHR</span>    <span class="n">combinerOps</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>pFragmentSize</code> specifies the pipeline fragment shading rate for
subsequent drawing commands.</p>
</li>
<li>
<p><code>combinerOps</code> specifies a <a href="chap28.html#VkFragmentShadingRateCombinerOpKHR">VkFragmentShadingRateCombinerOpKHR</a>
determining how the
<a href="chap28.html#primsrast-fragment-shading-rate-pipeline">pipeline</a>,
<a href="chap28.html#primsrast-fragment-shading-rate-primitive">primitive</a>, and
<a href="chap28.html#primsrast-fragment-shading-rate-attachment">attachment shading rates</a>
are <a href="chap28.html#primsrast-fragment-shading-rate-combining">combined</a> for fragments
generated by subsequent drawing commands.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the pipeline fragment shading rate and combiner operation
for subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineFragmentShadingRateStateCreateInfoKHR">VkPipelineFragmentShadingRateStateCreateInfoKHR</a> values used to create
the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-pipelineFragmentShadingRate-04507" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-pipelineFragmentShadingRate-04507"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-pipelineFragmentShadingRate-04507</span><br>

If <a href="chap46.html#features-pipelineFragmentShadingRate"><code>pipelineFragmentShadingRate</code></a> is not enabled,
<code>pFragmentSize-&gt;width</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-pipelineFragmentShadingRate-04508" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-pipelineFragmentShadingRate-04508"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-pipelineFragmentShadingRate-04508</span><br>

If <a href="chap46.html#features-pipelineFragmentShadingRate"><code>pipelineFragmentShadingRate</code></a> is not enabled,
<code>pFragmentSize-&gt;height</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-pipelineFragmentShadingRate-04509" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-pipelineFragmentShadingRate-04509"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-pipelineFragmentShadingRate-04509</span><br>

One of <a href="chap46.html#features-pipelineFragmentShadingRate"><code>pipelineFragmentShadingRate</code></a>,
<a href="chap46.html#features-primitiveFragmentShadingRate"><code>primitiveFragmentShadingRate</code></a>, or
<a href="chap46.html#features-attachmentFragmentShadingRate"><code>attachmentFragmentShadingRate</code></a> <strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-primitiveFragmentShadingRate-04510" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-primitiveFragmentShadingRate-04510"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-primitiveFragmentShadingRate-04510</span><br>

If the <a href="chap46.html#features-primitiveFragmentShadingRate"><code>primitiveFragmentShadingRate</code></a> feature is not enabled,
<code>combinerOps</code>[0] <strong class="purple">must</strong> be
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-attachmentFragmentShadingRate-04511" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-attachmentFragmentShadingRate-04511"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-attachmentFragmentShadingRate-04511</span><br>

If the <a href="chap46.html#features-attachmentFragmentShadingRate"><code>attachmentFragmentShadingRate</code></a> feature is not enabled,
<code>combinerOps</code>[1] <strong class="purple">must</strong> be
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-fragmentSizeNonTrivialCombinerOps-04512" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-fragmentSizeNonTrivialCombinerOps-04512"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-fragmentSizeNonTrivialCombinerOps-04512</span><br>

If the <a href="chap47.html#limits-fragmentShadingRateNonTrivialCombinerOps"><code>fragmentSizeNonTrivialCombinerOps</code></a> limit is not supported,
elements of <code>combinerOps</code> <strong class="purple">must</strong> be either
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code> or
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_REPLACE_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04513" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04513"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04513</span><br>

<code>pFragmentSize-&gt;width</code> <strong class="purple">must</strong> be greater than or equal to <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04514" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04514"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04514</span><br>

<code>pFragmentSize-&gt;height</code> <strong class="purple">must</strong> be greater than or equal to <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04515" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04515"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04515</span><br>

<code>pFragmentSize-&gt;width</code> <strong class="purple">must</strong> be a power-of-two value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04516" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04516"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04516</span><br>

<code>pFragmentSize-&gt;height</code> <strong class="purple">must</strong> be a power-of-two value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04517" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04517"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04517</span><br>

<code>pFragmentSize-&gt;width</code> <strong class="purple">must</strong> be less than or equal to <code>4</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04518" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04518"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-04518</span><br>

<code>pFragmentSize-&gt;height</code> <strong class="purple">must</strong> be less than or equal to <code>4</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-parameter" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-parameter"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-pFragmentSize-parameter</span><br>
 <code>pFragmentSize</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap3.html#VkExtent2D">VkExtent2D</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-combinerOps-parameter" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-combinerOps-parameter"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-combinerOps-parameter</span><br>
 Each element of <code>combinerOps</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkFragmentShadingRateCombinerOpKHR">VkFragmentShadingRateCombinerOpKHR</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateKHR-videocoding" href="chap28.html#VUID-vkCmdSetFragmentShadingRateKHR-videocoding"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateKHR-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-fragment-shading-rate-primitive"><a class="anchor" href="chap28.html#primsrast-fragment-shading-rate-primitive"></a>28.6.2. Primitive Fragment Shading Rate</h4>
<div class="paragraph">
<p>The <em>primitive fragment shading rate</em> <strong class="purple">can</strong> be set via the
<a href="chap15.html#interfaces-builtin-variables-primitiveshadingrate"><code>PrimitiveShadingRateKHR</code></a> built-in in the last active
<a href="chap10.html#pipelines-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a>.
If the last <a href="chap10.html#pipelines-graphics-subsets-pre-rasterization">pre-rasterization
shader stage</a> is using the <code>MeshEXT</code> <code>Execution</code> <code>Model</code>, the rate
associated with a given primitive is sourced from the value written to the
per-primitive <code>PrimitiveShadingRateKHR</code>.
Otherwise the
rate associated with a given primitive is sourced from the value written to
<code>PrimitiveShadingRateKHR</code> by that primitive’s
<a href="chap27.html#vertexpostproc-flatshading">provoking vertex</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-fragment-shading-rate-attachment"><a class="anchor" href="chap28.html#primsrast-fragment-shading-rate-attachment"></a>28.6.3. Attachment Fragment Shading Rate</h4>
<div class="paragraph">
<p>The <em>attachment shading rate</em> <strong class="purple">can</strong> be set by including
<a href="chap8.html#VkFragmentShadingRateAttachmentInfoKHR">VkFragmentShadingRateAttachmentInfoKHR</a> in a subpass to define a
<em>fragment shading rate attachment</em>.
Each pixel in the framebuffer is assigned an attachment fragment shading
rate by the corresponding texel in the fragment shading rate attachment,
according to:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">x' = floor(x / region<sub>x</sub>)</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">y' = floor(y / region<sub>y</sub>)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">x'</span> and <span class="eq">y'</span> are the coordinates of a texel in the fragment
shading rate attachment, <span class="eq">x</span> and <span class="eq">y</span> are the coordinates of the
pixel in the framebuffer, and <span class="eq">region<sub>x</sub></span> and <span class="eq">region<sub>y</sub></span> are the
size of the region each texel corresponds to, as defined by the
<code>shadingRateAttachmentTexelSize</code> member of
<a href="chap8.html#VkFragmentShadingRateAttachmentInfoKHR">VkFragmentShadingRateAttachmentInfoKHR</a>.</p>
</div>
<div class="paragraph">
<p>If <a href="chap8.html#VkRenderPassMultiviewCreateInfo">multiview is enabled</a> and the shading
rate attachment has multiple layers, the shading rate attachment texel is
selected from the layer determined by the
<a href="chap15.html#interfaces-builtin-variables-viewindex"><code>ViewIndex</code></a> built-in.
If <a href="chap8.html#VkRenderPassMultiviewCreateInfo">multiview is disabled</a>, and both the
shading rate attachment and the framebuffer have multiple layers, the
shading rate attachment texel is selected from the layer determined by the
<a href="chap15.html#interfaces-builtin-variables-layer"><code>Layer</code></a> built-in.
Otherwise, the texel is unconditionally selected from the first layer of the
attachment.</p>
</div>
<div class="paragraph">
<p>The fragment size is encoded into the first component of the identified
texel as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">size<sub>w</sub> = 2^((texel / 4) &amp; 3)^</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">size<sub>h</sub> = 2^(texel &amp; 3)^</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">texel</span> is the value in the first component of the identified
texel, and <span class="eq">size<sub>w</sub></span> and <span class="eq">size<sub>h</sub></span> are the width and height of the
fragment size, decoded from the texel.</p>
</div>
<div class="paragraph">
<p>If no fragment shading rate attachment is specified, this size is calculated
as <span class="eq">size<sub>w</sub> = size<sub>h</sub> = 1</span>.
Applications <strong class="purple">must</strong> not specify a width or height greater than 4 by this
method.</p>
</div>
<div class="paragraph">
<p>The <em>Fragment Shading Rate</em> enumeration in SPIR-V adheres to the above
encoding.</p>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-fragment-shading-rate-combining"><a class="anchor" href="chap28.html#primsrast-fragment-shading-rate-combining"></a>28.6.4. Combining the Fragment Shading Rates</h4>
<div class="paragraph">
<p>The final rate (<span class="eq">C<sub>xy</sub>'</span>) used for fragment shading <strong class="purple">must</strong> be one of the
rates returned by <a href="chap28.html#vkGetPhysicalDeviceFragmentShadingRatesKHR">vkGetPhysicalDeviceFragmentShadingRatesKHR</a> for the
sample count
and render pass transform
used by rasterization.</p>
</div>
<div class="paragraph">
<p>If any of the following conditions are met, <span class="eq">C<sub>xy</sub>'</span> <strong class="purple">must</strong> be set to
<span class="eq">{1,1}</span>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <a href="chap28.html#primsrast-sampleshading">Sample Shading</a> is enabled.</p>
</li>
<li>
<p>The <a href="chap47.html#limits-fragmentShadingRateWithSampleMask"><code>fragmentShadingRateWithSampleMask</code></a> limit is not supported, and
<a href="chap28.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::<code>pSampleMask</code> contains a
zero value in any bit used by fragment operations.</p>
</li>
<li>
<p>The <a href="chap47.html#limits-fragmentShadingRateWithShaderSampleMask"><code>fragmentShadingRateWithShaderSampleMask</code></a> is not supported, and
the fragment shader has <code>SampleMask</code> in the input or output
interface.</p>
</li>
<li>
<p>The <a href="chap47.html#limits-fragmentShadingRateWithShaderDepthStencilWrites"><code>fragmentShadingRateWithShaderDepthStencilWrites</code></a> limit is not
supported, and the fragment shader declares the <code>FragDepth</code>
or <code>FragStencilRefEXT</code>
built-in.</p>
</li>
<li>
<p>The <a href="chap47.html#limits-fragmentShadingRateWithConservativeRasterization"><code>fragmentShadingRateWithConservativeRasterization</code></a> limit is not
supported, and
<a href="chap28.html#VkPipelineRasterizationConservativeStateCreateInfoEXT">VkPipelineRasterizationConservativeStateCreateInfoEXT</a>::<code>conservativeRasterizationMode</code>
is not <code>VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT</code>.</p>
</li>
<li>
<p>The <a href="chap47.html#limits-fragmentShadingRateWithFragmentShaderInterlock"><code>fragmentShadingRateWithFragmentShaderInterlock</code></a> limit is not
supported, and the fragment shader declares any of the
<a href="chap29.html#fragops-shader-interlock">fragment shader interlock</a> execution modes.</p>
</li>
<li>
<p>The <a href="chap47.html#limits-fragmentShadingRateWithCustomSampleLocations"><code>fragmentShadingRateWithCustomSampleLocations</code></a> limit is not
supported, and
<a href="chap28.html#VkPipelineSampleLocationsStateCreateInfoEXT">VkPipelineSampleLocationsStateCreateInfoEXT</a>::<code>sampleLocationsEnable</code>
is <code>VK_TRUE</code>.</p>
</li>
<li>
<p>The fragment shader declares any of the
<code>TileImageColorReadAccessEXT</code>, <code>TileImageDepthReadAccessEXT</code>, or
<code>TileImageStencilReadAccessEXT</code> capabilities.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Otherwise, each of the specified shading rates are combined and then used to
derive the value of <span class="eq">C<sub>xy</sub>'</span>.
As there are three ways to specify shading rates, two combiner operations
are specified - between the
<a href="chap28.html#primsrast-fragment-shading-rate-pipeline">pipeline</a> and
<a href="chap28.html#primsrast-fragment-shading-rate-primitive">primitive</a> shading rates, and
between the result of that and the
<a href="chap28.html#primsrast-fragment-shading-rate-attachment">attachment shading rate</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The equation used for each combiner operation is defined by
<code>VkFragmentShadingRateCombinerOpKHR</code>:</p>
</div>
<div id="VkFragmentShadingRateCombinerOpKHR" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_KHR_fragment_shading_rate</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkFragmentShadingRateCombinerOpKHR</span> <span class="p">{</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_COMBINER_OP_REPLACE_KHR</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MIN_KHR</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MAX_KHR</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MUL_KHR</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkFragmentShadingRateCombinerOpKHR</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code> specifies a combiner
operation of <span class="eq">combine(A<sub>xy</sub>,B<sub>xy</sub>) = A<sub>xy</sub></span>.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_REPLACE_KHR</code> specifies a
combiner operation of <span class="eq">combine(A<sub>xy</sub>,B<sub>xy</sub>) = B<sub>xy</sub></span>.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MIN_KHR</code> specifies a combiner
operation of <span class="eq">combine(A<sub>xy</sub>,B<sub>xy</sub>) = min(A<sub>xy</sub>,B<sub>xy</sub>)</span>.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MAX_KHR</code> specifies a combiner
operation of <span class="eq">combine(A<sub>xy</sub>,B<sub>xy</sub>) = max(A<sub>xy</sub>,B<sub>xy</sub>)</span>.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MUL_KHR</code> specifies a combiner
operation of <span class="eq">combine(A<sub>xy</sub>,B<sub>xy</sub>) = A<sub>xy</sub>*B<sub>xy</sub></span>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where <span class="eq">combine(A<sub>xy</sub>,B<sub>xy</sub>)</span> is the combine operation, and <span class="eq">A<sub>xy</sub></span>
and <span class="eq">B<sub>xy</sub></span> are the inputs to the operation.</p>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#limits-fragmentShadingRateStrictMultiplyCombiner"><code>fragmentShadingRateStrictMultiplyCombiner</code></a> is <code>VK_FALSE</code>, using
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MUL_KHR</code> with values of 1 for both
A and B in the same dimension results in the value 2 being produced for that
dimension.
See the definition of <a href="chap47.html#limits-fragmentShadingRateStrictMultiplyCombiner"><code>fragmentShadingRateStrictMultiplyCombiner</code></a> for more information.</p>
</div>
<div class="paragraph">
<p>These operations are performed in a component-wise fashion.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>This is used to generate a combined fragment area using the equation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">C<sub>xy</sub> = combine(A<sub>xy</sub>,B<sub>xy</sub>)</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">C<sub>xy</sub></span> is the combined fragment area result, and <span class="eq">A<sub>xy</sub></span> and
<span class="eq">B<sub>xy</sub></span> are the fragment areas of the fragment shading rates being
combined.</p>
</div>
<div class="paragraph">
<p>Two combine operations are performed, first with <span class="eq">A<sub>xy</sub></span> equal to the
<a href="chap28.html#primsrast-fragment-shading-rate-pipeline">pipeline fragment shading rate</a>
and <span class="eq">B<sub>xy</sub></span> equal to the <a href="chap28.html#primsrast-fragment-shading-rate-primitive">primitive fragment shading rate</a>, with the <span class="eq">combine()</span> operation
selected by combinerOps[0].
A second combination is then performed, with <span class="eq">A<sub>xy</sub></span> equal to the result
of the first combination and <span class="eq">B<sub>xy</sub></span> equal to the
<a href="chap28.html#primsrast-fragment-shading-rate-attachment">attachment fragment shading
rate</a>, with the <span class="eq">combine()</span> operation selected by combinerOps[1].
The result of the second combination is used as the final fragment shading
rate, reported via the <a href="chap15.html#interfaces-builtin-variables-primitiveshadingrate"><code>ShadingRateKHR</code> built-in</a>.</p>
</div>
<div class="paragraph">
<p>Implementations <strong class="purple">should</strong> clamp the inputs to the combiner operations
<span class="eq">A<sub>xy</sub></span> and <span class="eq">B<sub>xy</sub></span>, and <strong class="purple">must</strong> clamp the result of the second
combiner operation.</p>
</div>
<div class="paragraph">
<p>A fragment shading rate <span class="eq">R<sub>xy</sub></span> representing any of <span class="eq">A<sub>xy</sub></span>,
<span class="eq">B<sub>xy</sub></span> or <span class="eq">C<sub>xy</sub></span> is clamped as follows.
If <span class="eq">R<sub>xy</sub></span> is one of the rates returned by
<a href="chap28.html#vkGetPhysicalDeviceFragmentShadingRatesKHR">vkGetPhysicalDeviceFragmentShadingRatesKHR</a> for the sample count
and render pass transform
used by rasterization, the clamped shading rate <span class="eq">R<sub>xy</sub>'</span> is <span class="eq">R<sub>xy</sub></span>.
Otherwise, the clamped shading rate is selected from the rates returned by
<a href="chap28.html#vkGetPhysicalDeviceFragmentShadingRatesKHR">vkGetPhysicalDeviceFragmentShadingRatesKHR</a> for the sample count
and render pass transform
used by rasterization.
From this list of supported rates, the following steps are applied in order,
to select a single value:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Keep only rates where <span class="eq">R<sub>x</sub>' ≤ R<sub>x</sub></span> and <span class="eq">R<sub>y</sub>' ≤ R<sub>y</sub></span>.</p>
<div class="ulist">
<ul>
<li>
<p>Implementations <strong class="purple">may</strong> also keep rates where <span class="eq">R<sub>x</sub>' ≤ R<sub>y</sub></span> and
<span class="eq">R<sub>y</sub>' ≤ R<sub>x</sub></span>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Keep only rates with the highest area (<span class="eq">R<sub>x</sub>' × R<sub>y</sub>'</span>).</p>
</li>
<li>
<p>Keep only rates with the lowest aspect ratio (<span class="eq">R<sub>x</sub>' +  R<sub>y</sub>'</span>).</p>
</li>
<li>
<p>In cases where a wide (e.g. 4x1) and tall (e.g. 1x4) rate remain, the
implementation <strong class="purple">may</strong> choose either rate.
However, it <strong class="purple">must</strong> choose this rate consistently for the same shading
rates,
render pass transform,
and combiner operations for the lifetime of the <a href="chap5.html#VkDevice">VkDevice</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_extended_fragment_shading_rates"><a class="anchor" href="chap28.html#_extended_fragment_shading_rates"></a>28.6.5. Extended Fragment Shading Rates</h4>
<div class="paragraph">
<p>The features advertised by
<a href="chap46.html#VkPhysicalDeviceFragmentShadingRateEnumsFeaturesNV">VkPhysicalDeviceFragmentShadingRateEnumsFeaturesNV</a> provide support for
additional fragment shading rates beyond those specifying one fragment
shader invocation covering all pixels in a fragment whose size is indicated
by the fragment shading rate.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>fragmentShadingRateEnums</code> feature is enabled, fragment shading
rates may be specified using the <a href="chap28.html#VkFragmentShadingRateNV">VkFragmentShadingRateNV</a> enumerated
type defined as:</p>
</div>
<div id="VkFragmentShadingRateNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_fragment_shading_rate_enums</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkFragmentShadingRateNV</span> <span class="p">{</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_PIXEL_NV</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_1X2_PIXELS_NV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_2X1_PIXELS_NV</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_2X2_PIXELS_NV</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_2X4_PIXELS_NV</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_4X2_PIXELS_NV</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_4X4_PIXELS_NV</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_2_INVOCATIONS_PER_PIXEL_NV</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_4_INVOCATIONS_PER_PIXEL_NV</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_8_INVOCATIONS_PER_PIXEL_NV</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_16_INVOCATIONS_PER_PIXEL_NV</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_NO_INVOCATIONS_NV</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkFragmentShadingRateNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_PIXEL_NV</code> specifies a
fragment size of 1x1 pixels.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_1X2_PIXELS_NV</code> specifies
a fragment size of 1x2 pixels.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_2X1_PIXELS_NV</code> specifies
a fragment size of 2x1 pixels.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_2X2_PIXELS_NV</code> specifies
a fragment size of 2x2 pixels.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_2X4_PIXELS_NV</code> specifies
a fragment size of 2x4 pixels.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_4X2_PIXELS_NV</code> specifies
a fragment size of 4x2 pixels.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_4X4_PIXELS_NV</code> specifies
a fragment size of 4x4 pixels.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_2_INVOCATIONS_PER_PIXEL_NV</code> specifies a
fragment size of 1x1 pixels, with two fragment shader invocations per
fragment.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_4_INVOCATIONS_PER_PIXEL_NV</code> specifies a
fragment size of 1x1 pixels, with four fragment shader invocations per
fragment.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_8_INVOCATIONS_PER_PIXEL_NV</code> specifies a
fragment size of 1x1 pixels, with eight fragment shader invocations per
fragment.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_16_INVOCATIONS_PER_PIXEL_NV</code> specifies a
fragment size of 1x1 pixels, with sixteen fragment shader invocations
per fragment.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_NO_INVOCATIONS_NV</code> specifies that any
portions of a primitive that use that shading rate should be discarded
without invoking any fragment shader.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To use the shading rates
<code>VK_FRAGMENT_SHADING_RATE_2_INVOCATIONS_PER_PIXEL_NV</code>,
<code>VK_FRAGMENT_SHADING_RATE_4_INVOCATIONS_PER_PIXEL_NV</code>,
<code>VK_FRAGMENT_SHADING_RATE_8_INVOCATIONS_PER_PIXEL_NV</code>, and
<code>VK_FRAGMENT_SHADING_RATE_16_INVOCATIONS_PER_PIXEL_NV</code> as a pipeline,
primitive, or attachment shading rate, the
<code>supersampleFragmentShadingRates</code> feature <strong class="purple">must</strong> be enabled.
To use the shading rate <code>VK_FRAGMENT_SHADING_RATE_NO_INVOCATIONS_NV</code> as
a pipeline, primitive, or attachment shading rate, the
<code>noInvocationFragmentShadingRates</code> feature <strong class="purple">must</strong> be enabled.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>When using fragment shading rate enums, the pipeline fragment shading rate
<strong class="purple">can</strong> be set on a per-draw basis by either setting the rate in a graphics
pipeline, or dynamically via <a href="chap28.html#vkCmdSetFragmentShadingRateEnumNV">vkCmdSetFragmentShadingRateEnumNV</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineFragmentShadingRateEnumStateCreateInfoNV</code> structure is
defined as:</p>
</div>
<div id="VkPipelineFragmentShadingRateEnumStateCreateInfoNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_fragment_shading_rate_enums</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                       <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                           <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkFragmentShadingRateTypeNV</span>           <span class="n">shadingRateType</span><span class="p">;</span>
    <span class="n">VkFragmentShadingRateNV</span>               <span class="n">shadingRate</span><span class="p">;</span>
    <span class="n">VkFragmentShadingRateCombinerOpKHR</span>    <span class="n">combinerOps</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>shadingRateType</code> specifies a <a href="chap28.html#VkFragmentShadingRateTypeNV">VkFragmentShadingRateTypeNV</a>
value indicating whether fragment shading rates are specified using
fragment sizes or <a href="chap28.html#VkFragmentShadingRateNV">VkFragmentShadingRateNV</a> enums.</p>
</li>
<li>
<p><code>shadingRate</code> specifies a <a href="chap28.html#VkFragmentShadingRateNV">VkFragmentShadingRateNV</a> value
indicating the pipeline fragment shading rate.</p>
</li>
<li>
<p><code>combinerOps</code> specifies <a href="chap28.html#VkFragmentShadingRateCombinerOpKHR">VkFragmentShadingRateCombinerOpKHR</a>
values determining how the
<a href="chap28.html#primsrast-fragment-shading-rate-pipeline">pipeline</a>,
<a href="chap28.html#primsrast-fragment-shading-rate-primitive">primitive</a>, and
<a href="chap28.html#primsrast-fragment-shading-rate-attachment">attachment shading rates</a>
are <a href="chap28.html#primsrast-fragment-shading-rate-combining">combined</a> for fragments
generated by drawing commands using the created pipeline.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap10.html#VkGraphicsPipelineCreateInfo">VkGraphicsPipelineCreateInfo</a> includes a
<code>VkPipelineFragmentShadingRateEnumStateCreateInfoNV</code> structure, then
that structure includes parameters controlling the pipeline fragment shading
rate.</p>
</div>
<div class="paragraph">
<p>If this structure is not present, <code>shadingRateType</code> is considered to be
equal to <code>VK_FRAGMENT_SHADING_RATE_TYPE_FRAGMENT_SIZE_NV</code>,
<code>shadingRate</code> is considered to be equal to
<code>VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_PIXEL_NV</code>, and both elements
of <code>combinerOps</code> are considered to be equal to
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineFragmentShadingRateEnumStateCreateInfoNV-sType-sType" href="chap28.html#VUID-VkPipelineFragmentShadingRateEnumStateCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkPipelineFragmentShadingRateEnumStateCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_FRAGMENT_SHADING_RATE_ENUM_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <a href="chap28.html#VkFragmentShadingRateTypeNV">VkFragmentShadingRateTypeNV</a> enumerated type specifies whether a
graphics pipeline gets its pipeline fragment shading rates and combiners
from the <a href="chap28.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a> structure
or the <a href="chap28.html#VkPipelineFragmentShadingRateStateCreateInfoKHR">VkPipelineFragmentShadingRateStateCreateInfoKHR</a> structure.</p>
</div>
<div id="VkFragmentShadingRateTypeNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_fragment_shading_rate_enums</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkFragmentShadingRateTypeNV</span> <span class="p">{</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_TYPE_FRAGMENT_SIZE_NV</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_FRAGMENT_SHADING_RATE_TYPE_ENUMS_NV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkFragmentShadingRateTypeNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_TYPE_FRAGMENT_SIZE_NV</code> specifies that a
graphics pipeline should obtain its pipeline fragment shading rate and
shading rate combiner state from the
<a href="chap28.html#VkPipelineFragmentShadingRateStateCreateInfoKHR">VkPipelineFragmentShadingRateStateCreateInfoKHR</a> structure and that
any state specified by the
<a href="chap28.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a> structure
should be ignored.</p>
</li>
<li>
<p><code>VK_FRAGMENT_SHADING_RATE_TYPE_ENUMS_NV</code> specifies that a graphics
pipeline should obtain its pipeline fragment shading rate and shading
rate combiner state from the
<a href="chap28.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a> structure and
that any state specified by the
<a href="chap28.html#VkPipelineFragmentShadingRateStateCreateInfoKHR">VkPipelineFragmentShadingRateStateCreateInfoKHR</a> structure should
be ignored.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the pipeline fragment
shading rate and combiner operation, call:</p>
</div>
<div id="vkCmdSetFragmentShadingRateEnumNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_fragment_shading_rate_enums</span>
<span class="kt">void</span> <span class="nf">vkCmdSetFragmentShadingRateEnumNV</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkFragmentShadingRateNV</span>                     <span class="n">shadingRate</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkFragmentShadingRateCombinerOpKHR</span>    <span class="n">combinerOps</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>shadingRate</code> specifies a <a href="chap28.html#VkFragmentShadingRateNV">VkFragmentShadingRateNV</a> enum
indicating the pipeline fragment shading rate for subsequent drawing
commands.</p>
</li>
<li>
<p><code>combinerOps</code> specifies a <a href="chap28.html#VkFragmentShadingRateCombinerOpKHR">VkFragmentShadingRateCombinerOpKHR</a>
determining how the
<a href="chap28.html#primsrast-fragment-shading-rate-pipeline">pipeline</a>,
<a href="chap28.html#primsrast-fragment-shading-rate-primitive">primitive</a>, and
<a href="chap28.html#primsrast-fragment-shading-rate-attachment">attachment shading rates</a>
are <a href="chap28.html#primsrast-fragment-shading-rate-combining">combined</a> for fragments
generated by subsequent drawing commands.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the pipeline fragment shading rate and combiner operation
for subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineFragmentShadingRateEnumStateCreateInfoNV">VkPipelineFragmentShadingRateEnumStateCreateInfoNV</a> values used to
create the currently active pipeline.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This command allows specifying additional shading rates beyond those
supported by <a href="chap28.html#vkCmdSetFragmentShadingRateKHR">vkCmdSetFragmentShadingRateKHR</a>.
For more information, refer to the
<code><a href="chap55.html#VK_NV_fragment_shading_rate_enums">VK_NV_fragment_shading_rate_enums</a></code> appendix.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-pipelineFragmentShadingRate-04576" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-pipelineFragmentShadingRate-04576"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-pipelineFragmentShadingRate-04576</span><br>

If <a href="chap46.html#features-pipelineFragmentShadingRate"><code>pipelineFragmentShadingRate</code></a> is not enabled, <code>shadingRate</code>
<strong class="purple">must</strong> be <code>VK_FRAGMENT_SHADING_RATE_1_INVOCATION_PER_PIXEL_NV</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-supersampleFragmentShadingRates-04577" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-supersampleFragmentShadingRates-04577"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-supersampleFragmentShadingRates-04577</span><br>

If <a href="chap46.html#features-supersampleFragmentShadingRates"><code>supersampleFragmentShadingRates</code></a> is not enabled,
<code>shadingRate</code> <strong class="purple">must</strong> not be
<code>VK_FRAGMENT_SHADING_RATE_2_INVOCATIONS_PER_PIXEL_NV</code>,
<code>VK_FRAGMENT_SHADING_RATE_4_INVOCATIONS_PER_PIXEL_NV</code>,
<code>VK_FRAGMENT_SHADING_RATE_8_INVOCATIONS_PER_PIXEL_NV</code>, or
<code>VK_FRAGMENT_SHADING_RATE_16_INVOCATIONS_PER_PIXEL_NV</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-noInvocationFragmentShadingRates-04578" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-noInvocationFragmentShadingRates-04578"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-noInvocationFragmentShadingRates-04578</span><br>

If <a href="chap46.html#features-noInvocationFragmentShadingRates"><code>noInvocationFragmentShadingRates</code></a> is not enabled,
<code>shadingRate</code> <strong class="purple">must</strong> not be
<code>VK_FRAGMENT_SHADING_RATE_NO_INVOCATIONS_NV</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-fragmentShadingRateEnums-04579" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-fragmentShadingRateEnums-04579"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-fragmentShadingRateEnums-04579</span><br>

The <a href="chap46.html#features-fragmentShadingRateEnums"><code>fragmentShadingRateEnums</code></a> feature <strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-pipelineFragmentShadingRate-04580" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-pipelineFragmentShadingRate-04580"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-pipelineFragmentShadingRate-04580</span><br>

One of the <a href="chap46.html#features-pipelineFragmentShadingRate"><code>pipelineFragmentShadingRate</code></a>,
<a href="chap46.html#features-primitiveFragmentShadingRate"><code>primitiveFragmentShadingRate</code></a>, or
<a href="chap46.html#features-attachmentFragmentShadingRate"><code>attachmentFragmentShadingRate</code></a> features <strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-primitiveFragmentShadingRate-04581" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-primitiveFragmentShadingRate-04581"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-primitiveFragmentShadingRate-04581</span><br>

If the <a href="chap46.html#features-primitiveFragmentShadingRate"><code>primitiveFragmentShadingRate</code></a> feature is not enabled,
<code>combinerOps</code>[0] <strong class="purple">must</strong> be
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-attachmentFragmentShadingRate-04582" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-attachmentFragmentShadingRate-04582"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-attachmentFragmentShadingRate-04582</span><br>

If the <a href="chap46.html#features-attachmentFragmentShadingRate"><code>attachmentFragmentShadingRate</code></a> feature is not enabled,
<code>combinerOps</code>[1] <strong class="purple">must</strong> be
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-fragmentSizeNonTrivialCombinerOps-04583" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-fragmentSizeNonTrivialCombinerOps-04583"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-fragmentSizeNonTrivialCombinerOps-04583</span><br>

If the <a href="chap47.html#limits-fragmentShadingRateNonTrivialCombinerOps"><code>fragmentSizeNonTrivialCombinerOps</code></a> limit is not supported,
elements of <code>combinerOps</code> <strong class="purple">must</strong> be either
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_KEEP_KHR</code> or
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_REPLACE_KHR</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-shadingRate-parameter" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-shadingRate-parameter"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-shadingRate-parameter</span><br>
 <code>shadingRate</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkFragmentShadingRateNV">VkFragmentShadingRateNV</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-combinerOps-parameter" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-combinerOps-parameter"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-combinerOps-parameter</span><br>
 Each element of <code>combinerOps</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkFragmentShadingRateCombinerOpKHR">VkFragmentShadingRateCombinerOpKHR</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFragmentShadingRateEnumNV-videocoding" href="chap28.html#VUID-vkCmdSetFragmentShadingRateEnumNV-videocoding"></a> <span class="vuid">VUID-vkCmdSetFragmentShadingRateEnumNV-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>When the <a href="chap46.html#features-supersampleFragmentShadingRates"><code>supersampleFragmentShadingRates</code></a> or
<a href="chap46.html#features-noInvocationFragmentShadingRates"><code>noInvocationFragmentShadingRates</code></a> features are enabled, the behavior
of the <a href="chap28.html#primsrast-fragment-shading-rate-combining">shading rate combiner
operations</a> is extended to support the shading rates enabled by those
features.
Primitive and attachment shading rate values are interpreted as
<a href="chap28.html#VkFragmentShadingRateNV">VkFragmentShadingRateNV</a> values and the behavior of the combiners is
modified as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For <code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MIN_KHR</code>,
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MAX_KHR</code>, and
<code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MUL_KHR</code>, if either
<span class="eq">A<sub>xy</sub></span> or <span class="eq">B<sub>xy</sub></span> is
<code>VK_FRAGMENT_SHADING_RATE_NO_INVOCATIONS_NV</code>,
<span class="eq">combine(A<sub>xy</sub>,B<sub>xy</sub>)</span> produces a shading rate of
<code>VK_FRAGMENT_SHADING_RATE_NO_INVOCATIONS_NV</code>, regardless of the
other input shading rate.</p>
</li>
<li>
<p>For <code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MIN_KHR</code>,
<span class="eq">combine(A<sub>xy</sub>,B<sub>xy</sub>)</span> produces a shading rate whose fragment size
is the smaller of the fragment sizes of <span class="eq">A<sub>xy</sub></span> and <span class="eq">B<sub>xy</sub></span> and
whose invocation count is the larger of the invocation counts of
<span class="eq">A<sub>xy</sub></span> and <span class="eq">B<sub>xy</sub></span>.</p>
</li>
<li>
<p>For <code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MAX_KHR</code>,
<span class="eq">combine(A<sub>xy</sub>,B<sub>xy</sub>)</span> produces a shading rate whose fragment size
is the larger of the fragment sizes of <span class="eq">A<sub>xy</sub></span> and <span class="eq">B<sub>xy</sub></span> and
whose invocation count is the smaller of the invocation counts of
<span class="eq">A<sub>xy</sub></span> and <span class="eq">B<sub>xy</sub></span>.</p>
</li>
<li>
<p>For <code>VK_FRAGMENT_SHADING_RATE_COMBINER_OP_MUL_KHR</code>,
<span class="eq">combine(A<sub>xy</sub>,B<sub>xy</sub>)</span> produces a shading rate whose fragment size
and invocation count is the product of the fragment sizes and invocation
counts, respectively, of <span class="eq">A<sub>xy</sub></span> and <span class="eq">B<sub>xy</sub></span>.
If the resulting shading rate has both multiple pixels and multiple
invocations per fragment, an implementation <strong class="purple">may</strong> adjust the shading rate
by reducing both the pixel and invocation counts.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the final shading rate from the combiners is
<code>VK_FRAGMENT_SHADING_RATE_NO_INVOCATIONS_NV</code>, no fragments will be
generated for any portion of a primitive using that shading rate.</p>
</div>
<div class="paragraph">
<p>If the final shading rate from the combiners specifies multiple fragment
shader invocations per fragment, the fragment will be processed with
multiple unique samples as in <a href="chap28.html#primsrast-sampleshading">sample shading</a>,
where the total number the total number of invocations is taken from the
shading rate and then clamped to <code>rasterizationSamples</code> and
<a href="chap47.html#limits-maxFragmentShadingRateInvocationCount"><code>maxFragmentShadingRateInvocationCount</code></a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-shading-rate-image"><a class="anchor" href="chap28.html#primsrast-shading-rate-image"></a>28.7. Shading Rate Image</h3>
<div class="paragraph">
<p>The <a href="chap46.html#features-shadingRateImage"><code>shadingRateImage</code></a> feature allows
pipelines to use a <a href="chap58.html#glossary-shading-rate-image">shading rate image</a> to
control the <a href="chap58.html#glossary-fragment-area">fragment area</a> and the minimum number
of fragment shader invocations launched for each fragment.
When the shading rate image is enabled, the rasterizer determines a base
<a href="chap58.html#glossary-shading-rate">shading rate</a> for each region of the framebuffer
covered by a primitive by fetching a value from the shading rate image and
translating it to a shading rate using a per-viewport shading rate palette.
This base shading rate is then adjusted to derive a final shading rate.
The final shading rate specifies the fragment area and fragment shader
invocation count to use for fragments generated in the region.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap27.html#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a> includes
a <code>VkPipelineViewportShadingRateImageStateCreateInfoNV</code> structure, then
that structure includes parameters controlling the shading rate.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineViewportShadingRateImageStateCreateInfoNV</code> structure is
defined as:</p>
</div>
<div id="VkPipelineViewportShadingRateImageStateCreateInfoNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_shading_rate_image</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineViewportShadingRateImageStateCreateInfoNV</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                  <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                      <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkBool32</span>                         <span class="n">shadingRateImageEnable</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                         <span class="n">viewportCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkShadingRatePaletteNV</span><span class="o">*</span>    <span class="n">pShadingRatePalettes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPipelineViewportShadingRateImageStateCreateInfoNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>shadingRateImageEnable</code> specifies whether shading rate image and
palettes are used during rasterization.</p>
</li>
<li>
<p><code>viewportCount</code> specifies the number of per-viewport palettes used
to translate values stored in shading rate images.</p>
</li>
<li>
<p><code>pShadingRatePalettes</code> is a pointer to an array of
<a href="chap28.html#VkShadingRatePaletteNV">VkShadingRatePaletteNV</a> structures defining the palette for each
viewport.
If the shading rate palette state is dynamic, this member is ignored.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this structure is not present, <code>shadingRateImageEnable</code> is considered
to be <code>VK_FALSE</code>, and the shading rate image and palettes are not used.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-viewportCount-02054" href="chap28.html#VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-viewportCount-02054"></a> <span class="vuid">VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-viewportCount-02054</span><br>

If the <a href="chap46.html#features-multiViewport"><code>multiViewport</code></a> feature is not
enabled, <code>viewportCount</code> <strong class="purple">must</strong> be <code>0</code> or <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-viewportCount-02055" href="chap28.html#VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-viewportCount-02055"></a> <span class="vuid">VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-viewportCount-02055</span><br>

<code>viewportCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-shadingRateImageEnable-02056" href="chap28.html#VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-shadingRateImageEnable-02056"></a> <span class="vuid">VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-shadingRateImageEnable-02056</span><br>

If <code>shadingRateImageEnable</code> is <code>VK_TRUE</code>, <code>viewportCount</code>
<strong class="purple">must</strong> be greater or equal to the <code>viewportCount</code> member of
<a href="chap27.html#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-sType-sType" href="chap28.html#VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkPipelineViewportShadingRateImageStateCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_SHADING_RATE_IMAGE_STATE_CREATE_INFO_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When shading rate image usage is enabled in the bound pipeline, the pipeline
uses a shading rate image specified by the command:</p>
</div>
<div id="vkCmdBindShadingRateImageNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_shading_rate_image</span>
<span class="kt">void</span> <span class="nf">vkCmdBindShadingRateImageNV</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkImageView</span>                                 <span class="n">imageView</span><span class="p">,</span>
    <span class="n">VkImageLayout</span>                               <span class="n">imageLayout</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>imageView</code> is an image view handle specifying the shading rate
image.
<code>imageView</code> <strong class="purple">may</strong> be set to <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, which is equivalent
to specifying a view of an image filled with zero values.</p>
</li>
<li>
<p><code>imageLayout</code> is the layout that the image subresources accessible
from <code>imageView</code> will be in when the shading rate image is accessed.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-None-02058" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-None-02058"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-None-02058</span><br>

The <a href="chap46.html#features-shadingRateImage"><code>shadingRateImage</code></a> feature <strong class="purple">must</strong>
be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-imageView-02059" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-imageView-02059"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-imageView-02059</span><br>

If <code>imageView</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, it <strong class="purple">must</strong> be a valid
<a href="chap12.html#VkImageView">VkImageView</a> handle of type <code>VK_IMAGE_VIEW_TYPE_2D</code> or
<code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-imageView-02060" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-imageView-02060"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-imageView-02060</span><br>

If <code>imageView</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, it <strong class="purple">must</strong> have a format
of <code>VK_FORMAT_R8_UINT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-imageView-02061" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-imageView-02061"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-imageView-02061</span><br>

If <code>imageView</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, it <strong class="purple">must</strong> have been
created with a <code>usage</code> value including
<code>VK_IMAGE_USAGE_SHADING_RATE_IMAGE_BIT_NV</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-imageView-02062" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-imageView-02062"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-imageView-02062</span><br>

If <code>imageView</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>imageLayout</code> <strong class="purple">must</strong>
match the actual <a href="chap12.html#VkImageLayout">VkImageLayout</a> of each subresource accessible from
<code>imageView</code> at the time the subresource is accessed</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-imageLayout-02063" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-imageLayout-02063"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-imageLayout-02063</span><br>

If <code>imageView</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>imageLayout</code> <strong class="purple">must</strong>
be <code>VK_IMAGE_LAYOUT_SHADING_RATE_OPTIMAL_NV</code> or
<code>VK_IMAGE_LAYOUT_GENERAL</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-commandBuffer-parameter" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-imageView-parameter" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-imageView-parameter"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-imageView-parameter</span><br>
 If <code>imageView</code> is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, <code>imageView</code> <strong class="purple">must</strong> be a valid <a href="chap12.html#VkImageView">VkImageView</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-imageLayout-parameter" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-imageLayout-parameter"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-imageLayout-parameter</span><br>
 <code>imageLayout</code> <strong class="purple">must</strong> be a valid <a href="chap12.html#VkImageLayout">VkImageLayout</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-commandBuffer-recording" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-videocoding" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-videocoding"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdBindShadingRateImageNV-commonparent" href="chap28.html#VUID-vkCmdBindShadingRateImageNV-commonparent"></a> <span class="vuid">VUID-vkCmdBindShadingRateImageNV-commonparent</span><br>
 Both of <code>commandBuffer</code>, and <code>imageView</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>When the shading rate image is enabled in the current pipeline, rasterizing
a primitive covering the pixel with coordinates (<em>x</em>,<em>y</em>) will fetch a
shading rate index value from the shading rate image bound by
<code>vkCmdBindShadingRateImageNV</code>.
If the shading rate image view has a type of <code>VK_IMAGE_VIEW_TYPE_2D</code>,
the lookup will use texel coordinates (<em>u</em>,<em>v</em>) where <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">h</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">⌋</span></span></span></span></span></span>, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7475em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">h</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mathdefault mtight">h</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">⌋</span></span></span></span></span></span>, and <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span></span></span></span> and
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span></span></span></span> are the width and height of the implementation-dependent
<a href="chap47.html#limits-shadingRateTexelSize">shading rate texel size</a>.
If the shading rate image view has a type of
<code>VK_IMAGE_VIEW_TYPE_2D_ARRAY</code>, the lookup will use texel coordinates
(<em>u</em>,<em>v</em>) to extract a texel from the layer <em>l</em>, where <em>l</em> is the layer of
the framebuffer being rendered to.
If <em>l</em> is greater than or equal to the number of layers in the image view,
layer zero will be used.</p>
</div>
<div class="paragraph">
<p>If the bound shading rate image view is not <a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> and
contains a texel with coordinates (<em>u</em>,<em>v</em>) in layer <em>l</em> (if applicable),
the single unsigned integer component for that texel will be used as the
shading rate index.
If the (<em>u</em>,<em>v</em>) coordinate is outside the extents of the subresource used
by the shading rate image view, or if the image view is
<a href="chap56.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>, the shading rate index is zero.
If the shading rate image view has multiple mipmap levels, the base level
identified by <code>VkImageSubresourceRange</code>::<code>baseMipLevel</code> will be
used.</p>
</div>
<div class="paragraph">
<p>A shading rate index is mapped to a base shading rate using a lookup table
called the shading rate image palette.
There is a separate palette for each viewport.
The number of entries in each palette is given by the
implementation-dependent <a href="chap47.html#limits-shadingRatePaletteSize">shading rate image
palette size</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the
<code>shadingRateImageEnable</code> state, call:</p>
</div>
<div id="vkCmdSetShadingRateImageEnableNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state3 with VK_NV_shading_rate_image, VK_EXT_shader_object with VK_NV_shading_rate_image</span>
<span class="kt">void</span> <span class="nf">vkCmdSetShadingRateImageEnableNV</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkBool32</span>                                    <span class="n">shadingRateImageEnable</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>shadingRateImageEnable</code> specifies the <code>shadingRateImageEnable</code>
state.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the <code>shadingRateImageEnable</code> state for subsequent
drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineViewportShadingRateImageStateCreateInfoNV">VkPipelineViewportShadingRateImageStateCreateInfoNV</a>::<code>shadingRateImageEnable</code>
value used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetShadingRateImageEnableNV-None-08556" href="chap28.html#VUID-vkCmdSetShadingRateImageEnableNV-None-08556"></a> <span class="vuid">VUID-vkCmdSetShadingRateImageEnableNV-None-08556</span><br>

Either the <a href="chap46.html#features-extendedDynamicState3ShadingRateImageEnable"><code>extendedDynamicState3ShadingRateImageEnable</code></a> feature or the
<a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature or both <strong class="purple">must</strong> be
enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetShadingRateImageEnableNV-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetShadingRateImageEnableNV-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetShadingRateImageEnableNV-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetShadingRateImageEnableNV-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetShadingRateImageEnableNV-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetShadingRateImageEnableNV-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetShadingRateImageEnableNV-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetShadingRateImageEnableNV-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetShadingRateImageEnableNV-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetShadingRateImageEnableNV-videocoding" href="chap28.html#VUID-vkCmdSetShadingRateImageEnableNV-videocoding"></a> <span class="vuid">VUID-vkCmdSetShadingRateImageEnableNV-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the per-viewport shading
rate image palettes, call:</p>
</div>
<div id="vkCmdSetViewportShadingRatePaletteNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_shading_rate_image</span>
<span class="kt">void</span> <span class="nf">vkCmdSetViewportShadingRatePaletteNV</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">firstViewport</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">viewportCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkShadingRatePaletteNV</span><span class="o">*</span>               <span class="n">pShadingRatePalettes</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>firstViewport</code> is the index of the first viewport whose shading
rate palette is updated by the command.</p>
</li>
<li>
<p><code>viewportCount</code> is the number of viewports whose shading rate
palettes are updated by the command.</p>
</li>
<li>
<p><code>pShadingRatePalettes</code> is a pointer to an array of
<a href="chap28.html#VkShadingRatePaletteNV">VkShadingRatePaletteNV</a> structures defining the palette for each
viewport.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the per-viewport shading rate image palettes for
subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineViewportShadingRateImageStateCreateInfoNV">VkPipelineViewportShadingRateImageStateCreateInfoNV</a>::<code>pShadingRatePalettes</code>
values used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewportShadingRatePaletteNV-None-02064" href="chap28.html#VUID-vkCmdSetViewportShadingRatePaletteNV-None-02064"></a> <span class="vuid">VUID-vkCmdSetViewportShadingRatePaletteNV-None-02064</span><br>

The <a href="chap46.html#features-shadingRateImage"><code>shadingRateImage</code></a> feature <strong class="purple">must</strong>
be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportShadingRatePaletteNV-firstViewport-02067" href="chap28.html#VUID-vkCmdSetViewportShadingRatePaletteNV-firstViewport-02067"></a> <span class="vuid">VUID-vkCmdSetViewportShadingRatePaletteNV-firstViewport-02067</span><br>

The sum of <code>firstViewport</code> and <code>viewportCount</code> <strong class="purple">must</strong> be between
<code>1</code> and <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportShadingRatePaletteNV-firstViewport-02068" href="chap28.html#VUID-vkCmdSetViewportShadingRatePaletteNV-firstViewport-02068"></a> <span class="vuid">VUID-vkCmdSetViewportShadingRatePaletteNV-firstViewport-02068</span><br>

If the <a href="chap46.html#features-multiViewport"><code>multiViewport</code></a> feature is not
enabled, <code>firstViewport</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportShadingRatePaletteNV-viewportCount-02069" href="chap28.html#VUID-vkCmdSetViewportShadingRatePaletteNV-viewportCount-02069"></a> <span class="vuid">VUID-vkCmdSetViewportShadingRatePaletteNV-viewportCount-02069</span><br>

If the <a href="chap46.html#features-multiViewport"><code>multiViewport</code></a> feature is not
enabled, <code>viewportCount</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewportShadingRatePaletteNV-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetViewportShadingRatePaletteNV-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetViewportShadingRatePaletteNV-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportShadingRatePaletteNV-pShadingRatePalettes-parameter" href="chap28.html#VUID-vkCmdSetViewportShadingRatePaletteNV-pShadingRatePalettes-parameter"></a> <span class="vuid">VUID-vkCmdSetViewportShadingRatePaletteNV-pShadingRatePalettes-parameter</span><br>
 <code>pShadingRatePalettes</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>viewportCount</code> valid <a href="chap28.html#VkShadingRatePaletteNV">VkShadingRatePaletteNV</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportShadingRatePaletteNV-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetViewportShadingRatePaletteNV-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetViewportShadingRatePaletteNV-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportShadingRatePaletteNV-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetViewportShadingRatePaletteNV-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetViewportShadingRatePaletteNV-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportShadingRatePaletteNV-videocoding" href="chap28.html#VUID-vkCmdSetViewportShadingRatePaletteNV-videocoding"></a> <span class="vuid">VUID-vkCmdSetViewportShadingRatePaletteNV-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportShadingRatePaletteNV-viewportCount-arraylength" href="chap28.html#VUID-vkCmdSetViewportShadingRatePaletteNV-viewportCount-arraylength"></a> <span class="vuid">VUID-vkCmdSetViewportShadingRatePaletteNV-viewportCount-arraylength</span><br>
 <code>viewportCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkShadingRatePaletteNV</code> structure specifies to contents of a single
shading rate image palette and is defined as:</p>
</div>
<div id="VkShadingRatePaletteNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_shading_rate_image</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkShadingRatePaletteNV</span> <span class="p">{</span>
    <span class="kt">uint32_t</span>                              <span class="n">shadingRatePaletteEntryCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkShadingRatePaletteEntryNV</span><span class="o">*</span>    <span class="n">pShadingRatePaletteEntries</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkShadingRatePaletteNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>shadingRatePaletteEntryCount</code> specifies the number of entries in
the shading rate image palette.</p>
</li>
<li>
<p><code>pShadingRatePaletteEntries</code> is a pointer to an array of
<a href="chap28.html#VkShadingRatePaletteEntryNV">VkShadingRatePaletteEntryNV</a> enums defining the shading rate for
each palette entry.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShadingRatePaletteNV-shadingRatePaletteEntryCount-02071" href="chap28.html#VUID-VkShadingRatePaletteNV-shadingRatePaletteEntryCount-02071"></a> <span class="vuid">VUID-VkShadingRatePaletteNV-shadingRatePaletteEntryCount-02071</span><br>

<code>shadingRatePaletteEntryCount</code> <strong class="purple">must</strong> be between <code>1</code> and
<code>VkPhysicalDeviceShadingRateImagePropertiesNV</code>::<code>shadingRatePaletteSize</code>,
inclusive</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkShadingRatePaletteNV-pShadingRatePaletteEntries-parameter" href="chap28.html#VUID-VkShadingRatePaletteNV-pShadingRatePaletteEntries-parameter"></a> <span class="vuid">VUID-VkShadingRatePaletteNV-pShadingRatePaletteEntries-parameter</span><br>
 <code>pShadingRatePaletteEntries</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>shadingRatePaletteEntryCount</code> valid <a href="chap28.html#VkShadingRatePaletteEntryNV">VkShadingRatePaletteEntryNV</a> values</p>
</li>
<li>
<p><a id="VUID-VkShadingRatePaletteNV-shadingRatePaletteEntryCount-arraylength" href="chap28.html#VUID-VkShadingRatePaletteNV-shadingRatePaletteEntryCount-arraylength"></a> <span class="vuid">VUID-VkShadingRatePaletteNV-shadingRatePaletteEntryCount-arraylength</span><br>
 <code>shadingRatePaletteEntryCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>To determine the base shading rate image, a shading rate index <em>i</em> is mapped
to array element <em>i</em> in the array <code>pShadingRatePaletteEntries</code> for the
palette corresponding to the viewport used for the fragment.
If <em>i</em> is greater than or equal to the palette size
<code>shadingRatePaletteEntryCount</code>, the base shading rate is undefined.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The supported shading rate image palette entries are defined by
<a href="chap28.html#VkShadingRatePaletteEntryNV">VkShadingRatePaletteEntryNV</a>:</p>
</div>
<div id="VkShadingRatePaletteEntryNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_shading_rate_image</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkShadingRatePaletteEntryNV</span> <span class="p">{</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_NO_INVOCATIONS_NV</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_16_INVOCATIONS_PER_PIXEL_NV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_8_INVOCATIONS_PER_PIXEL_NV</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_4_INVOCATIONS_PER_PIXEL_NV</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_2_INVOCATIONS_PER_PIXEL_NV</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_PIXEL_NV</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_2X1_PIXELS_NV</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_1X2_PIXELS_NV</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_2X2_PIXELS_NV</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_4X2_PIXELS_NV</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_2X4_PIXELS_NV</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_4X4_PIXELS_NV</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkShadingRatePaletteEntryNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following table indicates the width and height (in pixels) of each
fragment generated using the indicated shading rate, as well as the maximum
number of fragment shader invocations launched for each fragment.
When processing regions of a primitive that have a shading rate of
<code>VK_SHADING_RATE_PALETTE_ENTRY_NO_INVOCATIONS_NV</code>, no fragments will be
generated in that region.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Shading Rate</th>
<th class="tableblock halign-left valign-top">Width</th>
<th class="tableblock halign-left valign-top">Height</th>
<th class="tableblock halign-left valign-top">Invocations</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_NO_INVOCATIONS_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_16_INVOCATIONS_PER_PIXEL_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_8_INVOCATIONS_PER_PIXEL_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_4_INVOCATIONS_PER_PIXEL_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_2_INVOCATIONS_PER_PIXEL_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_PIXEL_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_2X1_PIXELS_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_1X2_PIXELS_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_2X2_PIXELS_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_4X2_PIXELS_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_2X4_PIXELS_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_4X4_PIXELS_NV</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="paragraph">
<p>When the shading rate image is disabled, a shading rate of
<code>VK_SHADING_RATE_PALETTE_ENTRY_1_INVOCATION_PER_PIXEL_NV</code> will be used
as the base shading rate.</p>
</div>
<div class="paragraph">
<p>Once a base shading rate has been established, it is adjusted to produce a
final shading rate.
First, if the base shading rate uses multiple pixels for each fragment, the
implementation <strong class="purple">may</strong> reduce the fragment area to ensure that the total number
of coverage samples for all pixels in a fragment does not exceed
<a href="chap47.html#limits-shadingRateMaxCoarseSamples">an implementation-dependent maximum</a>.</p>
</div>
<div class="paragraph">
<p>If <a href="chap28.html#primsrast-sampleshading">sample shading</a> is active in the current
pipeline and would result in processing <em>n</em> (<em>n</em> &gt; 1) unique samples per
fragment when the shading rate image is disabled, the shading rate is
adjusted in an implementation-dependent manner to increase the number of
fragment shader invocations spawned by the primitive.
If the shading rate indicates <em>fs</em> pixels per fragment and <em>fs</em> is greater
than <em>n</em>, the fragment area is adjusted so each fragment has approximately
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.277216em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> pixels.
Otherwise, if the shading rate indicates <em>ipf</em> invocations per fragment, the
fragment area will be adjusted to a single pixel with approximately
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4133239999999998em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">s</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> invocations per fragment.</p>
</div>
<div class="paragraph">
<p>If sample shading occurs due to the use of a fragment shader input variable
decorated with <code>SampleId</code> or <code>SamplePosition</code>, the shading rate is
ignored.
Each fragment will have a single pixel and will spawn up to
<code>rasterizationSamples</code> fragment shader invocations, as when using
<a href="chap28.html#primsrast-sampleshading">sample shading</a> without a shading rate image.</p>
</div>
<div class="paragraph">
<p>Finally, if the shading rate specifies multiple fragment shader invocations
per fragment, the total number of invocations in the shading rate is clamped
to be no larger than <code>rasterizationSamples</code>.</p>
</div>
<div class="paragraph">
<p>When the final shading rate for a primitive covering pixel (<em>x</em>,<em>y</em>) has a
fragment area of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">h</span></span></span></span>, the fragment for that pixel will
cover all pixels with coordinates (<em>x</em>',<em>y</em>') that satisfy the equations:</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.70003em;vertical-align:-1.1000150000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6000149999999997em;"><span style="top:-3.6000150000000004em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">⌋</span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.428892em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">⌋</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1000150000000002em;"><span></span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.70003em;vertical-align:-1.1000150000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6000149999999997em;"><span style="top:-3.6000150000000004em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">h</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">⌋</span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4288919999999998em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">h</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">⌋</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1000150000000002em;"><span></span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>This combined fragment is considered to have multiple coverage samples; the
total number of samples in this fragment is given by <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">h</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">s</span></span></span></span> where <em>rs</em> indicates the value of
<code>VkPipelineMultisampleStateCreateInfo</code>::<code>rasterizationSamples</code>
specified at pipeline creation time.
The set of coverage samples in the fragment is the union of the per-pixel
coverage samples in each of the fragment’s pixels The location and order of
coverage samples within each pixel in the combined fragment are assigned as
described in
<a href="chap28.html#primsrast-multisampling">Multisampling</a> and <a href="chap28.html#primsrast-samplelocations">Custom Sample Locations</a>.
Each coverage sample in the set of pixels belonging to the combined fragment
is assigned a unique <a href="chap28.html#primsrast-multisampling-coverage-mask">coverage
index</a> in the range [0,<em>samples</em>-1].
If the <a href="chap46.html#features-shadingRateCoarseSampleOrder"><code>shadingRateCoarseSampleOrder</code></a> feature is supported, the order of
coverage samples <strong class="purple">can</strong> be specified for each combination of fragment area and
coverage sample count.
If this feature is not supported, the sample order is
implementation-dependent.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap27.html#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a> includes
a <code>VkPipelineViewportCoarseSampleOrderStateCreateInfoNV</code> structure, then
that structure includes parameters controlling the order of coverage samples
in fragments larger than one pixel.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineViewportCoarseSampleOrderStateCreateInfoNV</code> structure is
defined as:</p>
</div>
<div id="VkPipelineViewportCoarseSampleOrderStateCreateInfoNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_shading_rate_image</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineViewportCoarseSampleOrderStateCreateInfoNV</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                       <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                           <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkCoarseSampleOrderTypeNV</span>             <span class="n">sampleOrderType</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                              <span class="n">customSampleOrderCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkCoarseSampleOrderCustomNV</span><span class="o">*</span>    <span class="n">pCustomSampleOrders</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPipelineViewportCoarseSampleOrderStateCreateInfoNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>sampleOrderType</code> specifies the mechanism used to order coverage
samples in fragments larger than one pixel.</p>
</li>
<li>
<p><code>customSampleOrderCount</code> specifies the number of custom sample
orderings to use when ordering coverage samples.</p>
</li>
<li>
<p><code>pCustomSampleOrders</code> is a pointer to an array of
<code>customSampleOrderCount</code> <a href="chap28.html#VkCoarseSampleOrderCustomNV">VkCoarseSampleOrderCustomNV</a>
structures, each structure specifying the coverage sample order for a
single combination of fragment area and coverage sample count.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this structure is not present, <code>sampleOrderType</code> is considered to be
<code>VK_COARSE_SAMPLE_ORDER_TYPE_DEFAULT_NV</code>.</p>
</div>
<div class="paragraph">
<p>If <code>sampleOrderType</code> is <code>VK_COARSE_SAMPLE_ORDER_TYPE_CUSTOM_NV</code>, the
coverage sample order used for any combination of fragment area and coverage
sample count not enumerated in <code>pCustomSampleOrders</code> will be identical
to that used for <code>VK_COARSE_SAMPLE_ORDER_TYPE_DEFAULT_NV</code>.</p>
</div>
<div class="paragraph">
<p>If the pipeline was created with
<code>VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV</code>, the contents of this
structure (if present) are ignored, and the coverage sample order is instead
specified by <a href="chap28.html#vkCmdSetCoarseSampleOrderNV">vkCmdSetCoarseSampleOrderNV</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-sampleOrderType-02072" href="chap28.html#VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-sampleOrderType-02072"></a> <span class="vuid">VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-sampleOrderType-02072</span><br>

If <code>sampleOrderType</code> is not
<code>VK_COARSE_SAMPLE_ORDER_TYPE_CUSTOM_NV</code>,
<code>customSamplerOrderCount</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-pCustomSampleOrders-02234" href="chap28.html#VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-pCustomSampleOrders-02234"></a> <span class="vuid">VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-pCustomSampleOrders-02234</span><br>

The array <code>pCustomSampleOrders</code> <strong class="purple">must</strong> not contain two structures
with matching values for both the <code>shadingRate</code> and
<code>sampleCount</code> members</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-sType-sType" href="chap28.html#VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_COARSE_SAMPLE_ORDER_STATE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-sampleOrderType-parameter" href="chap28.html#VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-sampleOrderType-parameter"></a> <span class="vuid">VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-sampleOrderType-parameter</span><br>
 <code>sampleOrderType</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkCoarseSampleOrderTypeNV">VkCoarseSampleOrderTypeNV</a> value</p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-pCustomSampleOrders-parameter" href="chap28.html#VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-pCustomSampleOrders-parameter"></a> <span class="vuid">VUID-VkPipelineViewportCoarseSampleOrderStateCreateInfoNV-pCustomSampleOrders-parameter</span><br>
 If <code>customSampleOrderCount</code> is not <code>0</code>, <code>pCustomSampleOrders</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>customSampleOrderCount</code> valid <a href="chap28.html#VkCoarseSampleOrderCustomNV">VkCoarseSampleOrderCustomNV</a> structures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The type <a href="chap28.html#VkCoarseSampleOrderTypeNV">VkCoarseSampleOrderTypeNV</a> specifies the technique used to
order coverage samples in fragments larger than one pixel, and is defined
as:</p>
</div>
<div id="VkCoarseSampleOrderTypeNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_shading_rate_image</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkCoarseSampleOrderTypeNV</span> <span class="p">{</span>
    <span class="n">VK_COARSE_SAMPLE_ORDER_TYPE_DEFAULT_NV</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_COARSE_SAMPLE_ORDER_TYPE_CUSTOM_NV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_COARSE_SAMPLE_ORDER_TYPE_PIXEL_MAJOR_NV</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">VK_COARSE_SAMPLE_ORDER_TYPE_SAMPLE_MAJOR_NV</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkCoarseSampleOrderTypeNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_COARSE_SAMPLE_ORDER_TYPE_DEFAULT_NV</code> specifies that coverage
samples will be ordered in an implementation-dependent manner.</p>
</li>
<li>
<p><code>VK_COARSE_SAMPLE_ORDER_TYPE_CUSTOM_NV</code> specifies that coverage
samples will be ordered according to the array of custom orderings
provided in either the <code>pCustomSampleOrders</code> member of
<code>VkPipelineViewportCoarseSampleOrderStateCreateInfoNV</code> or the
<code>pCustomSampleOrders</code> member of <a href="chap28.html#vkCmdSetCoarseSampleOrderNV">vkCmdSetCoarseSampleOrderNV</a>.</p>
</li>
<li>
<p><code>VK_COARSE_SAMPLE_ORDER_TYPE_PIXEL_MAJOR_NV</code> specifies that coverage
samples will be ordered sequentially, sorted first by pixel coordinate
(in row-major order) and then by
<a href="chap28.html#primsrast-multisampling-coverage-mask">sample index</a>.</p>
</li>
<li>
<p><code>VK_COARSE_SAMPLE_ORDER_TYPE_SAMPLE_MAJOR_NV</code> specifies that
coverage samples will be ordered sequentially, sorted first by
<a href="chap28.html#primsrast-multisampling-coverage-mask">sample index</a> and then by
pixel coordinate (in row-major order).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>When using a coarse sample order of
<code>VK_COARSE_SAMPLE_ORDER_TYPE_PIXEL_MAJOR_NV</code> for a fragment with an
upper-left corner of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> with a width of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">h</span></span></span></span> and <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">s</span><span class="mord mathdefault">c</span></span></span></span> samples per pixel,
<a href="chap28.html#primsrast-multisampling-coverage-mask">coverage index</a> <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">s</span></span></span></span> of
the fragment will be assigned to <a href="chap28.html#primsrast-multisampling-coverage-mask">sample index</a> <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">s</span></span></span></span> of pixel <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> as follows:</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.90006em;vertical-align:-3.2000300000000004em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.7000299999999995em;"><span style="top:-5.70003em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span><span style="top:-0.90997em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.2000300000000004em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.7000299999999995em;"><span style="top:-5.70003em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">s</span><span class="mord mathdefault">c</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">⌋</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord">&nbsp;%&nbsp;</span></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">s</span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">⌋</span></span></span></span></span><span style="top:-0.90997em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">s</span><span class="mord text"><span class="mord">&nbsp;%&nbsp;</span></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">s</span><span class="mord mathdefault">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.2000300000000004em;"><span></span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>When using a coarse sample order of
<code>VK_COARSE_SAMPLE_ORDER_TYPE_SAMPLE_MAJOR_NV</code>,
<a href="chap28.html#primsrast-multisampling-coverage-mask">coverage index</a> <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">s</span></span></span></span>
will be assigned as follows:</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.900060000000001em;vertical-align:-3.200030000000001em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.70003em;"><span style="top:-6.31003em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span><span style="top:-4.20003em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span><span style="top:-1.4999999999999996em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.200030000000001em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.70003em;"><span style="top:-6.31003em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">s</span><span class="mord text"><span class="mord">&nbsp;%&nbsp;</span></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span><span style="top:-4.20003em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">⌋</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord">&nbsp;%&nbsp;</span></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">h</span><span class="mclose">)</span></span></span><span style="top:-1.4999999999999996em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">h</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">⌋</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.200030000000001em;"><span></span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkCoarseSampleOrderCustomNV</code> structure is defined as:</p>
</div>
<div id="VkCoarseSampleOrderCustomNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_shading_rate_image</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkCoarseSampleOrderCustomNV</span> <span class="p">{</span>
    <span class="n">VkShadingRatePaletteEntryNV</span>        <span class="n">shadingRate</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                           <span class="n">sampleCount</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                           <span class="n">sampleLocationCount</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">VkCoarseSampleLocationNV</span><span class="o">*</span>    <span class="n">pSampleLocations</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkCoarseSampleOrderCustomNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>shadingRate</code> is a shading rate palette entry that identifies the
fragment width and height for the combination of fragment area and
per-pixel coverage sample count to control.</p>
</li>
<li>
<p><code>sampleCount</code> identifies the per-pixel coverage sample count for the
combination of fragment area and coverage sample count to control.</p>
</li>
<li>
<p><code>sampleLocationCount</code> specifies the number of sample locations in
the custom ordering.</p>
</li>
<li>
<p><code>pSampleLocations</code> is a pointer to an array of
<a href="chap28.html#VkCoarseSampleLocationNV">VkCoarseSampleLocationNV</a> structures specifying the location of
each sample in the custom ordering.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>VkCoarseSampleOrderCustomNV</code> structure is used with a coverage
sample ordering type of <code>VK_COARSE_SAMPLE_ORDER_TYPE_CUSTOM_NV</code> to
specify the order of coverage samples for one combination of fragment width,
fragment height, and coverage sample count.</p>
</div>
<div class="paragraph">
<p>When using a custom sample ordering, element <em>j</em> in <code>pSampleLocations</code>
specifies a specific pixel location and
<a href="chap28.html#primsrast-multisampling-coverage-mask">sample index</a> that corresponds to
<a href="chap28.html#primsrast-multisampling-coverage-mask">coverage index</a> <em>j</em> in the
multi-pixel fragment.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCoarseSampleOrderCustomNV-shadingRate-02073" href="chap28.html#VUID-VkCoarseSampleOrderCustomNV-shadingRate-02073"></a> <span class="vuid">VUID-VkCoarseSampleOrderCustomNV-shadingRate-02073</span><br>

<code>shadingRate</code> <strong class="purple">must</strong> be a shading rate that generates fragments with
more than one pixel</p>
</li>
<li>
<p><a id="VUID-VkCoarseSampleOrderCustomNV-sampleCount-02074" href="chap28.html#VUID-VkCoarseSampleOrderCustomNV-sampleCount-02074"></a> <span class="vuid">VUID-VkCoarseSampleOrderCustomNV-sampleCount-02074</span><br>

<code>sampleCount</code> <strong class="purple">must</strong> correspond to a sample count enumerated in
<a href="chap47.html#VkSampleCountFlags">VkSampleCountFlags</a> whose corresponding bit is set in
<a href="chap47.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>framebufferNoAttachmentsSampleCounts</code></p>
</li>
<li>
<p><a id="VUID-VkCoarseSampleOrderCustomNV-sampleLocationCount-02075" href="chap28.html#VUID-VkCoarseSampleOrderCustomNV-sampleLocationCount-02075"></a> <span class="vuid">VUID-VkCoarseSampleOrderCustomNV-sampleLocationCount-02075</span><br>

<code>sampleLocationCount</code> <strong class="purple">must</strong> be equal to the product of
<code>sampleCount</code>, the fragment width for <code>shadingRate</code>, and the
fragment height for <code>shadingRate</code></p>
</li>
<li>
<p><a id="VUID-VkCoarseSampleOrderCustomNV-sampleLocationCount-02076" href="chap28.html#VUID-VkCoarseSampleOrderCustomNV-sampleLocationCount-02076"></a> <span class="vuid">VUID-VkCoarseSampleOrderCustomNV-sampleLocationCount-02076</span><br>

<code>sampleLocationCount</code> <strong class="purple">must</strong> be less than or equal to the value of
<code>VkPhysicalDeviceShadingRateImagePropertiesNV</code>::<code>shadingRateMaxCoarseSamples</code></p>
</li>
<li>
<p><a id="VUID-VkCoarseSampleOrderCustomNV-pSampleLocations-02077" href="chap28.html#VUID-VkCoarseSampleOrderCustomNV-pSampleLocations-02077"></a> <span class="vuid">VUID-VkCoarseSampleOrderCustomNV-pSampleLocations-02077</span><br>

The array <code>pSampleLocations</code> <strong class="purple">must</strong> contain exactly one entry for
every combination of valid values for <code>pixelX</code>, <code>pixelY</code>, and
<code>sample</code> in the structure <a href="chap28.html#VkCoarseSampleOrderCustomNV">VkCoarseSampleOrderCustomNV</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCoarseSampleOrderCustomNV-shadingRate-parameter" href="chap28.html#VUID-VkCoarseSampleOrderCustomNV-shadingRate-parameter"></a> <span class="vuid">VUID-VkCoarseSampleOrderCustomNV-shadingRate-parameter</span><br>
 <code>shadingRate</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkShadingRatePaletteEntryNV">VkShadingRatePaletteEntryNV</a> value</p>
</li>
<li>
<p><a id="VUID-VkCoarseSampleOrderCustomNV-pSampleLocations-parameter" href="chap28.html#VUID-VkCoarseSampleOrderCustomNV-pSampleLocations-parameter"></a> <span class="vuid">VUID-VkCoarseSampleOrderCustomNV-pSampleLocations-parameter</span><br>
 <code>pSampleLocations</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>sampleLocationCount</code> <a href="chap28.html#VkCoarseSampleLocationNV">VkCoarseSampleLocationNV</a> structures</p>
</li>
<li>
<p><a id="VUID-VkCoarseSampleOrderCustomNV-sampleLocationCount-arraylength" href="chap28.html#VUID-VkCoarseSampleOrderCustomNV-sampleLocationCount-arraylength"></a> <span class="vuid">VUID-VkCoarseSampleOrderCustomNV-sampleLocationCount-arraylength</span><br>
 <code>sampleLocationCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkCoarseSampleLocationNV</code> structure identifies a specific pixel and
<a href="chap28.html#primsrast-multisampling-coverage-mask">sample index</a> for one of the
coverage samples in a fragment that is larger than one pixel.
This structure is defined as:</p>
</div>
<div id="VkCoarseSampleLocationNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_shading_rate_image</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkCoarseSampleLocationNV</span> <span class="p">{</span>
    <span class="kt">uint32_t</span>    <span class="n">pixelX</span><span class="p">;</span>
    <span class="kt">uint32_t</span>    <span class="n">pixelY</span><span class="p">;</span>
    <span class="kt">uint32_t</span>    <span class="n">sample</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkCoarseSampleLocationNV</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pixelX</code> is added to the x coordinate of the upper-leftmost pixel of
each fragment to identify the pixel containing the coverage sample.</p>
</li>
<li>
<p><code>pixelY</code> is added to the y coordinate of the upper-leftmost pixel of
each fragment to identify the pixel containing the coverage sample.</p>
</li>
<li>
<p><code>sample</code> is the number of the coverage sample in the pixel
identified by <code>pixelX</code> and <code>pixelY</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkCoarseSampleLocationNV-pixelX-02078" href="chap28.html#VUID-VkCoarseSampleLocationNV-pixelX-02078"></a> <span class="vuid">VUID-VkCoarseSampleLocationNV-pixelX-02078</span><br>

<code>pixelX</code> <strong class="purple">must</strong> be less than the width (in pixels) of the fragment</p>
</li>
<li>
<p><a id="VUID-VkCoarseSampleLocationNV-pixelY-02079" href="chap28.html#VUID-VkCoarseSampleLocationNV-pixelY-02079"></a> <span class="vuid">VUID-VkCoarseSampleLocationNV-pixelY-02079</span><br>

<code>pixelY</code> <strong class="purple">must</strong> be less than the height (in pixels) of the fragment</p>
</li>
<li>
<p><a id="VUID-VkCoarseSampleLocationNV-sample-02080" href="chap28.html#VUID-VkCoarseSampleLocationNV-sample-02080"></a> <span class="vuid">VUID-VkCoarseSampleLocationNV-sample-02080</span><br>

<code>sample</code> <strong class="purple">must</strong> be less than the number of coverage samples in each
pixel belonging to the fragment</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the order of coverage
samples in fragments larger than one pixel, call:</p>
</div>
<div id="vkCmdSetCoarseSampleOrderNV" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_NV_shading_rate_image</span>
<span class="kt">void</span> <span class="nf">vkCmdSetCoarseSampleOrderNV</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkCoarseSampleOrderTypeNV</span>                   <span class="n">sampleOrderType</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">customSampleOrderCount</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkCoarseSampleOrderCustomNV</span><span class="o">*</span>          <span class="n">pCustomSampleOrders</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>sampleOrderType</code> specifies the mechanism used to order coverage
samples in fragments larger than one pixel.</p>
</li>
<li>
<p><code>customSampleOrderCount</code> specifies the number of custom sample
orderings to use when ordering coverage samples.</p>
</li>
<li>
<p><code>pCustomSampleOrders</code> is a pointer to an array of
<a href="chap28.html#VkCoarseSampleOrderCustomNV">VkCoarseSampleOrderCustomNV</a> structures, each structure specifying
the coverage sample order for a single combination of fragment area and
coverage sample count.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>sampleOrderType</code> is <code>VK_COARSE_SAMPLE_ORDER_TYPE_CUSTOM_NV</code>, the
coverage sample order used for any combination of fragment area and coverage
sample count not enumerated in <code>pCustomSampleOrders</code> will be identical
to that used for <code>VK_COARSE_SAMPLE_ORDER_TYPE_DEFAULT_NV</code>.</p>
</div>
<div class="paragraph">
<p>This command sets the order of coverage samples for subsequent drawing
commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineViewportCoarseSampleOrderStateCreateInfoNV">VkPipelineViewportCoarseSampleOrderStateCreateInfoNV</a> values used to
create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetCoarseSampleOrderNV-sampleOrderType-02081" href="chap28.html#VUID-vkCmdSetCoarseSampleOrderNV-sampleOrderType-02081"></a> <span class="vuid">VUID-vkCmdSetCoarseSampleOrderNV-sampleOrderType-02081</span><br>

If <code>sampleOrderType</code> is not
<code>VK_COARSE_SAMPLE_ORDER_TYPE_CUSTOM_NV</code>,
<code>customSamplerOrderCount</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetCoarseSampleOrderNV-pCustomSampleOrders-02235" href="chap28.html#VUID-vkCmdSetCoarseSampleOrderNV-pCustomSampleOrders-02235"></a> <span class="vuid">VUID-vkCmdSetCoarseSampleOrderNV-pCustomSampleOrders-02235</span><br>

The array <code>pCustomSampleOrders</code> <strong class="purple">must</strong> not contain two structures
with matching values for both the <code>shadingRate</code> and
<code>sampleCount</code> members</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetCoarseSampleOrderNV-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetCoarseSampleOrderNV-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetCoarseSampleOrderNV-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetCoarseSampleOrderNV-sampleOrderType-parameter" href="chap28.html#VUID-vkCmdSetCoarseSampleOrderNV-sampleOrderType-parameter"></a> <span class="vuid">VUID-vkCmdSetCoarseSampleOrderNV-sampleOrderType-parameter</span><br>
 <code>sampleOrderType</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkCoarseSampleOrderTypeNV">VkCoarseSampleOrderTypeNV</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetCoarseSampleOrderNV-pCustomSampleOrders-parameter" href="chap28.html#VUID-vkCmdSetCoarseSampleOrderNV-pCustomSampleOrders-parameter"></a> <span class="vuid">VUID-vkCmdSetCoarseSampleOrderNV-pCustomSampleOrders-parameter</span><br>
 If <code>customSampleOrderCount</code> is not <code>0</code>, <code>pCustomSampleOrders</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>customSampleOrderCount</code> valid <a href="chap28.html#VkCoarseSampleOrderCustomNV">VkCoarseSampleOrderCustomNV</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetCoarseSampleOrderNV-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetCoarseSampleOrderNV-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetCoarseSampleOrderNV-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetCoarseSampleOrderNV-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetCoarseSampleOrderNV-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetCoarseSampleOrderNV-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetCoarseSampleOrderNV-videocoding" href="chap28.html#VUID-vkCmdSetCoarseSampleOrderNV-videocoding"></a> <span class="vuid">VUID-vkCmdSetCoarseSampleOrderNV-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If the final shading rate for a primitive covering pixel (<em>x</em>,<em>y</em>) results
in <em>n</em> invocations per pixel (<em>n</em> &gt; 1), <em>n</em> separate fragment shader
invocations will be generated for the fragment.
Each coverage sample in the fragment will be assigned to one of the <em>n</em>
fragment shader invocations in an implementation-dependent manner.
The outputs from the <a href="chap15.html#interfaces-fragmentoutput">fragment output
interface</a> of each shader invocation will be broadcast to all of the
framebuffer samples associated with the invocation.
If none of the coverage samples associated with a fragment shader invocation
is covered by a primitive, the implementation <strong class="purple">may</strong> discard the fragment
shader invocation for those samples.</p>
</div>
<div class="paragraph">
<p>If the final shading rate for a primitive covering pixel (<em>x</em>,<em>y</em>) results
in a fragment containing multiple pixels, a single set of fragment shader
invocations will be generated for all pixels in the combined fragment.
Outputs from the <a href="chap15.html#interfaces-fragmentoutput">fragment output interface</a>
will be broadcast to all covered framebuffer samples belonging to the
fragment.
If the fragment shader executes code discarding the fragment, none of the
samples of the fragment will be updated.</p>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-sampleshading"><a class="anchor" href="chap28.html#primsrast-sampleshading"></a>28.8. Sample Shading</h3>
<div class="paragraph">
<p>Sample shading <strong class="purple">can</strong> be used to specify a minimum number of unique samples to
process for each fragment.
If sample shading is enabled, an implementation <strong class="purple">must</strong> invoke the fragment
shader at least <span class="eq">max(⌈
<a href="chap28.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::<code>minSampleShading</code> ×
<a href="chap28.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::<code>rasterizationSamples</code>
⌉, 1)</span> times per fragment.
If <a href="chap28.html#VkPipelineMultisampleStateCreateInfo">VkPipelineMultisampleStateCreateInfo</a>::<code>sampleShadingEnable</code> is
set to <code>VK_TRUE</code>, sample shading is enabled.</p>
</div>
<div class="paragraph">
<p>If a fragment shader entry point <a href="chap9.html#shaders-staticuse">statically uses</a> an
input variable decorated with a <code>BuiltIn</code> of <code>SampleId</code> or
<code>SamplePosition</code>, sample shading is enabled and a value of <code>1.0</code> is used
instead of <code>minSampleShading</code>.
If a fragment shader entry point <a href="chap9.html#shaders-staticuse">statically uses</a> an
input variable decorated with <code>Sample</code>, sample shading <strong class="purple">may</strong> be enabled
and a value of <code>1.0</code> will be used instead of <code>minSampleShading</code> if it
is.
If the <code><a href="chap55.html#VK_AMD_mixed_attachment_samples">VK_AMD_mixed_attachment_samples</a></code> extension is enabled and the
subpass uses color attachments, the <code>samples</code> value used to create each
color attachment is used instead of <code>rasterizationSamples</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If a shader decorates an input variable with <code>Sample</code> and that value
meaningfully impacts the output of a shader, sample shading will be enabled
to ensure that the input is in fact interpolated per-sample.
This is inherent to the specification and not spelled out here - if an
application simply declares such a variable it is implementation-defined
whether sample shading is enabled or not.
It is possible to see the effects of this by using atomics in the shader or
using a pipeline statistics query to query the number of fragment
invocations, even if the shader itself does not use any per-sample
variables.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If there are fewer fragment invocations than <a href="chap29.html">covered samples</a>,
implementations <strong class="purple">may</strong> include those samples in fragment shader invocations in
any manner as long as covered samples are all shaded at least once, and each
invocation that is not a <a href="chap9.html#shaders-helper-invocations">helper invocation</a>
covers at least one sample.</p>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-barycentric"><a class="anchor" href="chap28.html#primsrast-barycentric"></a>28.9. Barycentric Interpolation</h3>
<div class="paragraph">
<p>When the <code>fragmentShaderBarycentric</code> feature is enabled, the
<code>PerVertexKHR</code> <a href="chap9.html#shaders-interpolation-decorations">interpolation
decoration</a> <strong class="purple">can</strong> be used with fragment shader inputs to indicate that the
decorated inputs do not have associated data in the fragment.
Such inputs <strong class="purple">can</strong> only be accessed in a fragment shader using an array index
whose value (0, 1, or 2) identifies one of the vertices of the primitive
that produced the fragment.
Reads of per-vertex values for missing vertices, such as the third vertex of
a line primitive, will return values from the valid vertex with the highest
index.
This means that the per-vertex values of indices 1 and 2 for point
primitives will be equal to those of index 0, and the per-vertex values of
index 2 for line primitives will be equal to those of index 1.</p>
</div>
<div class="paragraph">
<p>When <a href="chap23.html">tessellation</a>, <a href="chap24.html">geometry shading</a>, and
<a href="chap25.html">mesh shading</a>
are not active, fragment shader inputs decorated with <code>PerVertexKHR</code> will
take values from one of the vertices of the primitive that produced the
fragment, identified by the extra index provided in SPIR-V code accessing
the input.
If the <em>n</em> vertices passed to a draw call are numbered 0 through <em>n</em>-1, and
the point, line, and triangle primitives produced by the draw call are
numbered with consecutive integers beginning with zero, the following table
indicates the original vertex numbers used
when the <a href="chap27.html#vertexpostproc-flatshading">provoking vertex mode</a> is
<code>VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT</code>
for index values of 0, 1, and 2.
If an input decorated with <code>PerVertexKHR</code> is accessed with any other
vertex index value, or is accessed while rasterizing a polygon when the
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>polygonMode</code> property of
the currently active pipeline is not <code>VK_POLYGON_MODE_FILL</code>, an
undefined value is returned.</p>
</div>
<table id="primsrast-barycentric-order-table" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Primitive Topology</th>
<th class="tableblock halign-left valign-top">Vertex 0</th>
<th class="tableblock halign-left valign-top">Vertex 1</th>
<th class="tableblock halign-left valign-top">Vertex 2</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_POINT_LIST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i+1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3i+2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code> (even)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code> (odd)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4i+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4i+2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6i+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6i+4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code> (even)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i+4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code> (odd)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i+4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i+2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When the provoking vertex mode is
<code>VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT</code>, the original vertex numbers
used are the same as above except as indicated in the table below.</p>
</div>
<table id="primsrast-barycentric-order-table-last-vertex" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Primitive Topology</th>
<th class="tableblock halign-left valign-top">Vertex 0</th>
<th class="tableblock halign-left valign-top">Vertex 1</th>
<th class="tableblock halign-left valign-top">Vertex 2</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code> (odd, and
<code>triStripVertexOrderIndependentOfProvokingVertex</code> of
<a href="chap47.html#VkPhysicalDeviceFragmentShaderBarycentricPropertiesKHR">VkPhysicalDeviceFragmentShaderBarycentricPropertiesKHR</a> is <code>VK_FALSE</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i+2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY</code> (odd)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2i+4</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When geometry
or mesh
shading is active, primitives processed by fragment shaders are assembled
from the vertices emitted by the geometry
or mesh
shader.
In this case, the vertices used for fragment shader inputs decorated with
<code>PerVertexKHR</code> are derived by treating the primitives produced by the
shader as though they were specified by a draw call and consulting
<a href="chap28.html#primsrast-barycentric-order-table">the table above</a>.</p>
</div>
<div class="paragraph">
<p>When using tessellation without geometry shading, the tessellator produces
primitives in an implementation-dependent manner.
While there is no defined vertex ordering for inputs decorated with
<code>PerVertexKHR</code>, the vertex ordering used in this case will be consistent
with the ordering used to derive the values of inputs decorated with
<code>BaryCoordKHR</code> or <code>BaryCoordNoPerspKHR</code>.</p>
</div>
<div class="paragraph">
<p>Fragment shader inputs decorated with <code>BaryCoordKHR</code> or
<code>BaryCoordNoPerspKHR</code> hold three-component vectors with barycentric
weights that indicate the location of the fragment relative to the
screen-space locations of vertices of its primitive.
For point primitives, such variables are always assigned the value
<span class="eq">(1,0,0)</span>.
For <a href="chap28.html#primsrast-lines-basic">line</a> primitives, the built-ins are obtained
by interpolating an attribute whose values for the vertices numbered 0 and 1
are <span class="eq">(1,0,0)</span> and <span class="eq">(0,1,0)</span>, respectively.
For <a href="chap28.html#primsrast-polygons-basic">polygon</a> primitives, the built-ins are
obtained by interpolating an attribute whose values for the vertices
numbered 0, 1, and 2 are <span class="eq">(1,0,0)</span>, <span class="eq">(0,1,0)</span>, and <span class="eq">(0,0,1)</span>,
respectively.
For <code>BaryCoordKHR</code>, the values are obtained using perspective
interpolation.
For <code>BaryCoordNoPerspKHR</code>, the values are obtained using linear
interpolation.
The values of <code>BaryCoordKHR</code> and <code>BaryCoordNoPerspKHR</code> are undefined
while rasterizing a polygon when the
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>polygonMode</code> property of
the currently active pipeline is not <code>VK_POLYGON_MODE_FILL</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-points"><a class="anchor" href="chap28.html#primsrast-points"></a>28.10. Points</h3>
<div class="paragraph">
<p>A point is drawn by generating a set of fragments in the shape of a square
centered around the vertex of the point.
Each vertex has an associated point size controlling the width/height of
that square.
The point size is taken from the (potentially clipped) shader built-in
<code>PointSize</code> written by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the geometry shader, if active;</p>
</li>
<li>
<p>the tessellation evaluation shader, if active and no geometry shader is
active;</p>
</li>
<li>
<p>the vertex shader, otherwise</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>and clamped to the implementation-dependent point size range
<span class="eq">[<code>pointSizeRange</code>[0],<code>pointSizeRange</code>[1]]</span>.
The value written to <code>PointSize</code> <strong class="purple">must</strong> be greater than zero.
If <a href="chap46.html#features-maintenance5"><code>maintenance5</code></a> is enabled, and a value is
not written to <code>PointSize</code>, the point size takes a default value of 1.0.</p>
</div>
<div class="paragraph">
<p>Not all point sizes need be supported, but the size 1.0 <strong class="purple">must</strong> be supported.
The range of supported sizes and the size of evenly-spaced gradations within
that range are implementation-dependent.
The range and gradations are obtained from the <code>pointSizeRange</code> and
<code>pointSizeGranularity</code> members of <a href="chap47.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.
If, for instance, the size range is from 0.1 to 2.0 and the gradation size
is 0.1, then the sizes 0.1, 0.2, …​, 1.9, 2.0 are supported.
Additional point sizes <strong class="purple">may</strong> also be supported.
There is no requirement that these sizes be equally spaced.
If an unsupported size is requested, the nearest supported size is used
instead.</p>
</div>
<div class="paragraph">
<p>Further, if the render pass has a fragment density map attachment, point
size <strong class="purple">may</strong> be rounded by the implementation to a multiple of the fragment’s
width or height.</p>
</div>
<div class="sect3">
<h4 id="primsrast-points-basic"><a class="anchor" href="chap28.html#primsrast-points-basic"></a>28.10.1. Basic Point Rasterization</h4>
<div class="paragraph">
<p>Point rasterization produces a fragment for each fragment area group of
framebuffer pixels with one or more sample points that intersect a region
centered at the point’s <span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span>.
This region is a square with side equal to the current point size.
Coverage bits that correspond to sample points that intersect the region are
1, other coverage bits are 0.
All fragments produced in rasterizing a point are assigned the same
associated data, which are those of the vertex corresponding to the point.
However, the fragment shader built-in <code>PointCoord</code> contains point sprite
texture coordinates.
The <span class="eq">s</span> and <span class="eq">t</span> point sprite texture coordinates vary from zero to
one across the point horizontally left-to-right and vertically
top-to-bottom, respectively.
The following formulas are used to evaluate <span class="eq">s</span> and <span class="eq">t</span>:</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">size</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span>
</div>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">size</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>where size is the point’s size; <span class="eq">(x<sub>p</sub>,y<sub>p</sub>)</span> is the location at which
the point sprite coordinates are evaluated - this <strong class="purple">may</strong> be the framebuffer
coordinates of the fragment center, or the location of a sample; and
<span class="eq">(x<sub>f</sub>,y<sub>f</sub>)</span> is the exact, unrounded framebuffer coordinate of the
vertex for the point.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-lines"><a class="anchor" href="chap28.html#primsrast-lines"></a>28.11. Line Segments</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Line segment rasterization options are controlled by the
<a href="chap28.html#VkPipelineRasterizationLineStateCreateInfoEXT">VkPipelineRasterizationLineStateCreateInfoEXT</a> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineRasterizationLineStateCreateInfoEXT</code> structure is defined
as:</p>
</div>
<div id="VkPipelineRasterizationLineStateCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_line_rasterization</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineRasterizationLineStateCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>               <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                   <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkLineRasterizationModeEXT</span>    <span class="n">lineRasterizationMode</span><span class="p">;</span>
    <span class="n">VkBool32</span>                      <span class="n">stippledLineEnable</span><span class="p">;</span>
    <span class="kt">uint32_t</span>                      <span class="n">lineStippleFactor</span><span class="p">;</span>
    <span class="kt">uint16_t</span>                      <span class="n">lineStipplePattern</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPipelineRasterizationLineStateCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>lineRasterizationMode</code> is a <a href="chap28.html#VkLineRasterizationModeEXT">VkLineRasterizationModeEXT</a> value
selecting the style of line rasterization.</p>
</li>
<li>
<p><code>stippledLineEnable</code> enables <a href="chap28.html#primsrast-lines-stipple">stippled
line rasterization</a>.</p>
</li>
<li>
<p><code>lineStippleFactor</code> is the repeat factor used in stippled line
rasterization.</p>
</li>
<li>
<p><code>lineStipplePattern</code> is the bit pattern used in stippled line
rasterization.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>stippledLineEnable</code> is <code>VK_FALSE</code>, the values of
<code>lineStippleFactor</code> and <code>lineStipplePattern</code> are ignored.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02768" href="chap28.html#VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02768"></a> <span class="vuid">VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02768</span><br>

If <code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_EXT</code>, then the
<a href="chap46.html#features-rectangularLines"><code>rectangularLines</code></a> feature <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02769" href="chap28.html#VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02769"></a> <span class="vuid">VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02769</span><br>

If <code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_BRESENHAM_EXT</code>, then the
<a href="chap46.html#features-bresenhamLines"><code>bresenhamLines</code></a> feature <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02770" href="chap28.html#VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02770"></a> <span class="vuid">VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02770</span><br>

If <code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH_EXT</code>, then the
<a href="chap46.html#features-smoothLines"><code>smoothLines</code></a> feature <strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02771" href="chap28.html#VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02771"></a> <span class="vuid">VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02771</span><br>

If <code>stippledLineEnable</code> is <code>VK_TRUE</code> and
<code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_EXT</code>, then the
<a href="chap46.html#features-stippledRectangularLines"><code>stippledRectangularLines</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02772" href="chap28.html#VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02772"></a> <span class="vuid">VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02772</span><br>

If <code>stippledLineEnable</code> is <code>VK_TRUE</code> and
<code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_BRESENHAM_EXT</code>, then the
<a href="chap46.html#features-stippledBresenhamLines"><code>stippledBresenhamLines</code></a>
feature <strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02773" href="chap28.html#VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02773"></a> <span class="vuid">VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02773</span><br>

If <code>stippledLineEnable</code> is <code>VK_TRUE</code> and
<code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH_EXT</code>, then the
<a href="chap46.html#features-stippledSmoothLines"><code>stippledSmoothLines</code></a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02774" href="chap28.html#VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02774"></a> <span class="vuid">VUID-VkPipelineRasterizationLineStateCreateInfoEXT-stippledLineEnable-02774</span><br>

If <code>stippledLineEnable</code> is <code>VK_TRUE</code> and
<code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_DEFAULT_EXT</code>, then the
<a href="chap46.html#features-stippledRectangularLines"><code>stippledRectangularLines</code></a>
feature <strong class="purple">must</strong> be enabled and
<a href="chap47.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>strictLines</code> <strong class="purple">must</strong> be <code>VK_TRUE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationLineStateCreateInfoEXT-sType-sType" href="chap28.html#VUID-VkPipelineRasterizationLineStateCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkPipelineRasterizationLineStateCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_LINE_STATE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-parameter" href="chap28.html#VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-parameter"></a> <span class="vuid">VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-parameter</span><br>
 <code>lineRasterizationMode</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkLineRasterizationModeEXT">VkLineRasterizationModeEXT</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="chap28.html#VkPipelineRasterizationLineStateCreateInfoEXT">VkPipelineRasterizationLineStateCreateInfoEXT</a>::<code>lineRasterizationMode</code>
are:</p>
</div>
<div id="VkLineRasterizationModeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_line_rasterization</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkLineRasterizationModeEXT</span> <span class="p">{</span>
    <span class="n">VK_LINE_RASTERIZATION_MODE_DEFAULT_EXT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_LINE_RASTERIZATION_MODE_RECTANGULAR_EXT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_LINE_RASTERIZATION_MODE_BRESENHAM_EXT</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH_EXT</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkLineRasterizationModeEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_LINE_RASTERIZATION_MODE_DEFAULT_EXT</code> is equivalent to
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_EXT</code> if
<a href="chap47.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>strictLines</code> is <code>VK_TRUE</code>,
otherwise lines are drawn as non-<code>strictLines</code> parallelograms.
Both of these modes are defined in <a href="chap28.html#primsrast-lines-basic">Basic Line
Segment Rasterization</a>.</p>
</li>
<li>
<p><code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_EXT</code> specifies lines drawn
as if they were rectangles extruded from the line</p>
</li>
<li>
<p><code>VK_LINE_RASTERIZATION_MODE_BRESENHAM_EXT</code> specifies lines drawn by
determining which pixel diamonds the line intersects and exits, as
defined in <a href="chap28.html#primsrast-lines-bresenham">Bresenham Line Segment
Rasterization</a>.</p>
</li>
<li>
<p><code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH_EXT</code> specifies lines
drawn if they were rectangles extruded from the line, with alpha
falloff, as defined in <a href="chap28.html#primsrast-lines-smooth">Smooth Lines</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the
<code>lineRasterizationMode</code> state, call:</p>
</div>
<div id="vkCmdSetLineRasterizationModeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state3, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetLineRasterizationModeEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkLineRasterizationModeEXT</span>                  <span class="n">lineRasterizationMode</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>lineRasterizationMode</code> specifies the <code>lineRasterizationMode</code>
state.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the <code>lineRasterizationMode</code> state for subsequent
drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationLineStateCreateInfoEXT">VkPipelineRasterizationLineStateCreateInfoEXT</a>::<code>lineRasterizationMode</code>
value used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetLineRasterizationModeEXT-None-08558" href="chap28.html#VUID-vkCmdSetLineRasterizationModeEXT-None-08558"></a> <span class="vuid">VUID-vkCmdSetLineRasterizationModeEXT-None-08558</span><br>

Either the <a href="chap46.html#features-extendedDynamicState3LineRasterizationMode"><code>extendedDynamicState3LineRasterizationMode</code></a> feature or the
<a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature or both <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-07418" href="chap28.html#VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-07418"></a> <span class="vuid">VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-07418</span><br>

If <code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_EXT</code>, then the
<a href="chap46.html#features-rectangularLines"><code>rectangularLines</code></a> feature <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-07419" href="chap28.html#VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-07419"></a> <span class="vuid">VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-07419</span><br>

If <code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_BRESENHAM_EXT</code>, then the
<a href="chap46.html#features-bresenhamLines"><code>bresenhamLines</code></a> feature <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-07420" href="chap28.html#VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-07420"></a> <span class="vuid">VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-07420</span><br>

If <code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH_EXT</code>, then the
<a href="chap46.html#features-smoothLines"><code>smoothLines</code></a> feature <strong class="purple">must</strong> be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetLineRasterizationModeEXT-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetLineRasterizationModeEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetLineRasterizationModeEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-parameter" href="chap28.html#VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-parameter"></a> <span class="vuid">VUID-vkCmdSetLineRasterizationModeEXT-lineRasterizationMode-parameter</span><br>
 <code>lineRasterizationMode</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkLineRasterizationModeEXT">VkLineRasterizationModeEXT</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineRasterizationModeEXT-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetLineRasterizationModeEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetLineRasterizationModeEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineRasterizationModeEXT-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetLineRasterizationModeEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetLineRasterizationModeEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineRasterizationModeEXT-videocoding" href="chap28.html#VUID-vkCmdSetLineRasterizationModeEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetLineRasterizationModeEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the <code>stippledLineEnable</code>
state, call:</p>
</div>
<div id="vkCmdSetLineStippleEnableEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state3, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetLineStippleEnableEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkBool32</span>                                    <span class="n">stippledLineEnable</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>stippledLineEnable</code> specifies the <code>stippledLineEnable</code> state.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the <code>stippledLineEnable</code> state for subsequent drawing
commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationLineStateCreateInfoEXT">VkPipelineRasterizationLineStateCreateInfoEXT</a>::<code>stippledLineEnable</code>
value used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetLineStippleEnableEXT-None-08560" href="chap28.html#VUID-vkCmdSetLineStippleEnableEXT-None-08560"></a> <span class="vuid">VUID-vkCmdSetLineStippleEnableEXT-None-08560</span><br>

Either the <a href="chap46.html#features-extendedDynamicState3LineStippleEnable"><code>extendedDynamicState3LineStippleEnable</code></a> feature or the
<a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature or both <strong class="purple">must</strong> be
enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetLineStippleEnableEXT-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetLineStippleEnableEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetLineStippleEnableEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineStippleEnableEXT-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetLineStippleEnableEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetLineStippleEnableEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineStippleEnableEXT-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetLineStippleEnableEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetLineStippleEnableEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineStippleEnableEXT-videocoding" href="chap28.html#VUID-vkCmdSetLineStippleEnableEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetLineStippleEnableEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the line width, call:</p>
</div>
<div id="vkCmdSetLineWidth" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="kt">void</span> <span class="nf">vkCmdSetLineWidth</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="kt">float</span>                                       <span class="n">lineWidth</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>lineWidth</code> is the width of rasterized line segments.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the line width for subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with <code>VK_DYNAMIC_STATE_LINE_WIDTH</code>
set in <a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>lineWidth</code> value used to
create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetLineWidth-lineWidth-00788" href="chap28.html#VUID-vkCmdSetLineWidth-lineWidth-00788"></a> <span class="vuid">VUID-vkCmdSetLineWidth-lineWidth-00788</span><br>

If the <a href="chap46.html#features-wideLines"><code>wideLines</code></a> feature is not enabled,
<code>lineWidth</code> <strong class="purple">must</strong> be <code>1.0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetLineWidth-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetLineWidth-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetLineWidth-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineWidth-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetLineWidth-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetLineWidth-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineWidth-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetLineWidth-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetLineWidth-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineWidth-videocoding" href="chap28.html#VUID-vkCmdSetLineWidth-videocoding"></a> <span class="vuid">VUID-vkCmdSetLineWidth-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Not all line widths need be supported for line segment rasterization, but
width 1.0 antialiased segments <strong class="purple">must</strong> be provided.
The range and gradations are obtained from the <code>lineWidthRange</code> and
<code>lineWidthGranularity</code> members of <a href="chap47.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>.
If, for instance, the size range is from 0.1 to 2.0 and the gradation size
is 0.1, then the sizes 0.1, 0.2, …​, 1.9, 2.0 are supported.
Additional line widths <strong class="purple">may</strong> also be supported.
There is no requirement that these widths be equally spaced.
If an unsupported width is requested, the nearest supported width is used
instead.</p>
</div>
<div class="paragraph">
<p>Further, if the render pass has a fragment density map attachment, line
width <strong class="purple">may</strong> be rounded by the implementation to a multiple of the fragment’s
width or height.</p>
</div>
<div class="sect3">
<h4 id="primsrast-lines-basic"><a class="anchor" href="chap28.html#primsrast-lines-basic"></a>28.11.1. Basic Line Segment Rasterization</h4>
<div class="paragraph">
<p>If the <code>lineRasterizationMode</code> member of
<a href="chap28.html#VkPipelineRasterizationLineStateCreateInfoEXT">VkPipelineRasterizationLineStateCreateInfoEXT</a> is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_EXT</code>, rasterized
line segments produce fragments which intersect a rectangle centered on the
line segment.
Two of the edges are parallel to the specified line segment; each is at a
distance of one-half the current width from that segment in directions
perpendicular to the direction of the line.
The other two edges pass through the line endpoints and are perpendicular to
the direction of the specified line segment.
Coverage bits that correspond to sample points that intersect the rectangle
are 1, other coverage bits are 0.</p>
</div>
<div class="paragraph">
<p>Next we specify how the data associated with each rasterized fragment are
obtained.
Let <span class="eq"><strong>p</strong><sub>r</sub> = (x<sub>d</sub>, y<sub>d</sub>)</span> be the framebuffer coordinates at which
associated data are evaluated.
This <strong class="purple">may</strong> be the center of a fragment or the location of a sample within the
fragment.
When <code>rasterizationSamples</code> is <code>VK_SAMPLE_COUNT_1_BIT</code>, the fragment
center <strong class="purple">must</strong> be used.
Let <span class="eq"><strong>p</strong><sub>a</sub> = (x<sub>a</sub>, y<sub>a</sub>)</span> and <span class="eq"><strong>p</strong><sub>b</sub> = (x<sub>b</sub>,y<sub>b</sub>)</span> be
initial and final endpoints of the line segment, respectively.
Set</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∥</span><span class="mord"><span class="mord"><span class="mord mathbf">p</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">p</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathbf">p</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">p</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathbf">p</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">p</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>(Note that <span class="eq">t = 0</span> at <span class="eq"><strong>p</strong><sub>a</sub></span> and <span class="eq">t = 1</span> at <span class="eq"><strong>p</strong><sub>b</sub></span>.
Also note that this calculation projects the vector from <span class="eq"><strong>p</strong><sub>a</sub></span> to
<span class="eq"><strong>p</strong><sub>r</sub></span> onto the line, and thus computes the normalized distance of
the fragment along the line.)</p>
</div>
<div class="paragraph">
<p>If <a href="chap47.html#limits-strictLines"><code>strictLines</code></a> is <code>VK_TRUE</code>, line segments
are rasterized using perspective or linear interpolation.</p>
</div>
<div id="line_perspective_interpolation" class="paragraph">
<p><em>Perspective interpolation</em> for a line segment interpolates two values in a
manner that is correct when taking the perspective of the viewport into
consideration, by way of the line segment’s clip coordinates.
An interpolated value <span class="eq">f</span> can be determined by</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">t</span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>where <span class="eq">f<sub>a</sub></span> and <span class="eq">f<sub>b</sub></span> are the data associated with the starting
and ending endpoints of the segment, respectively; <span class="eq">w<sub>a</sub></span> and <span class="eq">w<sub>b</sub></span>
are the clip <span class="eq">w</span> coordinates of the starting and ending endpoints of the
segment, respectively.</p>
</div>
<div id="line_linear_interpolation" class="paragraph">
<p><em>Linear interpolation</em> for a line segment directly interpolates two values,
and an interpolated value <span class="eq">f</span> can be determined by</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">f = (1 - t) f<sub>a</sub> +  t f<sub>b</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">f<sub>a</sub></span> and <span class="eq">f<sub>b</sub></span> are the data associated with the starting
and ending endpoints of the segment, respectively.</p>
</div>
<div class="paragraph">
<p>The clip coordinate <span class="eq">w</span> for a sample is determined using perspective
interpolation.
The depth value <span class="eq">z</span> for a sample is determined using linear
interpolation.
Interpolation of fragment shader input values are determined by
<a href="chap9.html#shaders-interpolation-decorations">Interpolation decorations</a>.</p>
</div>
<div class="paragraph">
<p>The above description documents the preferred method of line rasterization,
and <strong class="purple">must</strong> be used when
<code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_EXT</code>.</p>
</div>
<div class="paragraph">
<p>By default, when
<code>strictLines</code> is <code>VK_FALSE</code>,
and when the <code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_DEFAULT_EXT</code>,
the edges of the lines are generated as a parallelogram surrounding the
original line.
The major axis is chosen by noting the axis in which there is the greatest
distance between the line start and end points.
If the difference is equal in both directions then the X axis is chosen as
the major axis.
Edges 2 and 3 are aligned to the minor axis and are centered on the
endpoints of the line as in <a href="chap28.html#fig-non-strict-lines">Non strict lines</a>, and each is
<code>lineWidth</code> long.
Edges 0 and 1 are parallel to the line and connect the endpoints of edges 2
and 3.
Coverage bits that correspond to sample points that intersect the
parallelogram are 1, other coverage bits are 0.</p>
</div>
<div class="paragraph">
<p>Samples that fall exactly on the edge of the parallelogram follow the
polygon rasterization rules.</p>
</div>
<div class="paragraph">
<p>Interpolation occurs as if the parallelogram was decomposed into two
triangles where each pair of vertices at each end of the line has identical
attributes.</p>
</div>
<div id="fig-non-strict-lines" class="imageblock text-center">
<div class="content">
<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="152.70503mm" height="83.873383mm" viewBox="0 0 152.70503 83.873383" version="1.1" id="svg8" inkscape:version="0.92.2 (5c3e80d, 2017-08-06)" sodipodi:docname="non_strict_lines.svg">
  <defs id="defs2">
    <marker inkscape:isstock="true" style="overflow:visible" id="marker2639" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Mend">
      <path transform="matrix(-0.4,0,0,-0.4,-4,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path2637" inkscape:connector-curvature="0"></path>
    </marker>
    <marker inkscape:stockid="Arrow1Mstart" orient="auto" refY="0" refX="0" id="Arrow1Mstart" style="overflow:visible" inkscape:isstock="true">
      <path id="path2320" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" transform="matrix(0.4,0,0,0.4,4,0)" inkscape:connector-curvature="0"></path>
    </marker>
    <marker inkscape:stockid="Arrow1Mend" orient="auto" refY="0" refX="0" id="Arrow1Mend" style="overflow:visible" inkscape:isstock="true" inkscape:collect="always">
      <path id="path2323" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" transform="matrix(-0.4,0,0,-0.4,-4,0)" inkscape:connector-curvature="0"></path>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1" inkscape:cx="88.14801" inkscape:cy="136.35995" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="true" inkscape:snap-text-baseline="true" inkscape:snap-object-midpoints="true" inkscape:window-width="1680" inkscape:window-height="987" inkscape:window-x="1672" inkscape:window-y="-8" inkscape:window-maximized="0" fit-margin-left="1" fit-margin-top="1" fit-margin-right="1" fit-margin-bottom="1">
    <inkscape:grid type="xygrid" id="grid815" originx="-7.219306" originy="-184.92629"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata5">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(-7.2193063,-28.200331)">
    <path style="fill:none;stroke:#ff0000;stroke-width:0.52916664px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 32.980582,89.448147 133.52226,31.239815 V 52.406479 L 32.980582,110.61481 Z" id="path817" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.52999997;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Arrow1Mend)" d="M 32.980582,100.03148 133.52226,41.823147" id="path819" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664" x="76.729164" y="61.520836" id="text2799"><tspan sodipodi:role="line" id="tspan2797" x="76.729164" y="61.520836" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;writing-mode:lr-tb;text-anchor:end;stroke-width:0.52916664">Edge 0</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664" x="89.958336" y="82.687508" id="text2799-6"><tspan sodipodi:role="line" id="tspan2797-0" x="89.958336" y="82.687508" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664">Edge 1</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664" x="134.9375" y="32.416672" id="text2799-4"><tspan sodipodi:role="line" id="tspan2797-02" x="134.9375" y="32.416672" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664">Edge 3</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664" x="31.75" y="109.14584" id="text2799-38"><tspan sodipodi:role="line" id="tspan2797-4" x="31.75" y="109.14584" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;writing-mode:lr-tb;text-anchor:end;stroke-width:0.52916664">Edge 2</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664" x="27.599689" y="101.60439" id="text2799-67" transform="rotate(-30.47281)"><tspan sodipodi:role="line" id="tspan2797-1" x="27.599689" y="101.60439" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664">Original</tspan><tspan sodipodi:role="line" x="27.599689" y="106.89606" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664" id="tspan1613">Line</tspan></text>
    <circle style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.21111594;stroke-opacity:1" id="path4517-78-7-8-8-9" cx="133.52223" cy="41.823147" r="1.0555795"></circle>
    <circle style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.21111594;stroke-opacity:1" id="path4517-78-7-8-8-9-0" cx="32.980579" cy="100.03149" r="1.0555795"></circle>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664" x="136.16811" y="41.823147" id="text2799-3"><tspan sodipodi:role="line" id="tspan2797-9" x="136.16811" y="41.823147" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664">(Xb,Yb,Zb)</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664" x="30.334751" y="100.03149" id="text2799-3-5"><tspan sodipodi:role="line" id="tspan2797-9-1" x="30.334751" y="100.03149" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;writing-mode:lr-tb;text-anchor:end;stroke-width:0.52916664">(Xa,Ya,Za)</tspan></text>
    <path style="fill:none;stroke:#000000;stroke-width:0.52899997;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.58699992,1.58699992;stroke-dashoffset:0;stroke-opacity:1;marker-start:url(#Arrow1Mstart);marker-end:url(#marker2639)" d="M 115.00141,41.823147 V 62.989813" id="path2597" inkscape:connector-curvature="0"></path>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52916664" x="104.41809" y="33.885647" id="text2799-7"><tspan sodipodi:role="line" id="tspan2797-7" x="104.41809" y="33.885647" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664">Line</tspan><tspan sodipodi:role="line" x="104.41809" y="39.177315" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.52916664" id="tspan2695">Width</tspan></text>
  </g>
</svg>
</div>
<div class="title">Figure 20. Non strict lines</div>
</div>
<div class="paragraph">
<p>Only when <code>strictLines</code> is <code>VK_FALSE</code> implementations <strong class="purple">may</strong> deviate
from the non-strict line algorithm described above in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Implementations <strong class="purple">may</strong> instead interpolate each fragment according to the
formula in <a href="chap28.html#primsrast-lines-basic">Basic Line Segment Rasterization</a>
using the original line segment endpoints.</p>
</li>
<li>
<p>Rasterization of non-antialiased non-strict line segments <strong class="purple">may</strong> be
performed using the rules defined in
<a href="chap28.html#primsrast-lines-bresenham">Bresenham Line Segment Rasterization</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If
<code>VkPhysicalDeviceMaintenance5PropertiesKHR</code>::<code>nonStrictSinglePixelWideLinesUseParallelogram</code>
is <code>VK_TRUE</code>,
the <code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_DEFAULT_EXT</code>,
and <code>strictLines</code> is <code>VK_FALSE</code>, non-strict lines of width 1.0 are
rasterized as parallelograms, otherwise they are rasterized using
Bresenham’s algorithm.</p>
</div>
<div class="paragraph">
<p>If
<code>VkPhysicalDeviceMaintenance5PropertiesKHR</code>::<code>nonStrictWideLinesUseParallelogram</code>
is <code>VK_TRUE</code>,
the <code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_DEFAULT_EXT</code>,
and <code>strictLines</code> is <code>VK_FALSE</code>, non-strict lines of width greater
than 1.0 are rasterized as parallelograms, otherwise they are rasterized
using Bresenham’s algorithm.</p>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-lines-bresenham"><a class="anchor" href="chap28.html#primsrast-lines-bresenham"></a>28.11.2. Bresenham Line Segment Rasterization</h4>
<div class="paragraph">
<p>If <code>lineRasterizationMode</code> is
<code>VK_LINE_RASTERIZATION_MODE_BRESENHAM_EXT</code>, then the following rules
replace the line rasterization rules defined in <a href="chap28.html#primsrast-lines-basic">Basic Line Segment Rasterization</a>.</p>
</div>
<div class="paragraph">
<p>Non-strict lines <strong class="purple">may</strong> also follow these rasterization rules for
non-antialiased lines.</p>
</div>
<div class="paragraph">
<p>Line segment rasterization begins by characterizing the segment as either
<em>x-major</em> or <em>y-major</em>.
x-major line segments have slope in the closed interval <span class="eq">[-1,1]</span>; all
other line segments are y-major (slope is determined by the segment’s
endpoints).
We specify rasterization only for x-major segments except in cases where the
modifications for y-major segments are not self-evident.</p>
</div>
<div class="paragraph">
<p>Ideally, Vulkan uses a <em>diamond-exit</em> rule to determine those fragments that
are produced by rasterizing a line segment.
For each fragment <span class="eq">f</span> with center at framebuffer coordinates <span class="eq">x<sub>f</sub></span>
and <span class="eq">y<sub>f</sub></span>, define a diamond-shaped region that is the intersection of
four half planes:</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">}</span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>Essentially, a line segment starting at <span class="eq">p<sub>a</sub></span> and ending at <span class="eq">p<sub>b</sub></span>
produces those fragments <span class="eq">f</span> for which the segment intersects
<span class="eq">R<sub>f</sub></span>, except if <span class="eq">p<sub>b</sub></span> is contained in <span class="eq">R<sub>f</sub></span>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="391.00003" height="321.00003" viewBox="0 0 103.4521 84.931256" version="1.1" id="svg8" inkscape:version="0.92.4 (5da689c313, 2019-01-14)" sodipodi:docname="bresenham.svg">
  <defs id="defs2">
    <marker inkscape:stockid="Arrow2Mend" orient="auto" refY="0" refX="0" id="Arrow2Mend" style="overflow:visible" inkscape:isstock="true">
      <path id="path2950" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.625;stroke-linejoin:round;stroke-opacity:1" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="scale(-0.6)" inkscape:connector-curvature="0"></path>
    </marker>
    <marker inkscape:isstock="true" style="overflow:visible" id="marker1483" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Lend">
      <path transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path1481" inkscape:connector-curvature="0"></path>
    </marker>
    <marker inkscape:stockid="Arrow1Lend" orient="auto" refY="0" refX="0" id="Arrow1Lend-0" style="overflow:visible" inkscape:isstock="true">
      <path inkscape:connector-curvature="0" id="path977-6" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" transform="matrix(-0.8,0,0,-0.8,-10,0)"></path>
    </marker>
    <marker inkscape:isstock="true" style="overflow:visible" id="marker1483-7" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Lend">
      <path inkscape:connector-curvature="0" transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path1481-0"></path>
    </marker>
    <marker inkscape:stockid="Arrow1Mstart" orient="auto" refY="0" refX="0" id="Arrow1Mstart" style="overflow:visible" inkscape:isstock="true">
      <path id="path2320" d="M 0,0 5,-5 -12.5,0 5,5 Z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" transform="matrix(0.4,0,0,0.4,4,0)" inkscape:connector-curvature="0"></path>
    </marker>
    <marker inkscape:isstock="true" style="overflow:visible" id="marker2639" refX="0" refY="0" orient="auto" inkscape:stockid="Arrow1Mend">
      <path transform="matrix(-0.4,0,0,-0.4,-4,0)" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1" d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path2637" inkscape:connector-curvature="0"></path>
    </marker>
  </defs>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1.48" inkscape:cx="208.25234" inkscape:cy="168.34984" inkscape:document-units="px" inkscape:current-layer="layer1" showgrid="true" inkscape:snap-object-midpoints="true" inkscape:snap-text-baseline="true" inkscape:window-width="1920" inkscape:window-height="935" inkscape:window-x="-8" inkscape:window-y="-8" inkscape:window-maximized="0" fit-margin-top="20" fit-margin-right="20" fit-margin-bottom="20" fit-margin-left="20" units="px" inkscape:snap-center="true">
    <inkscape:grid type="xygrid" id="grid12" originx="-23.680211" originy="-47.4927" dotted="false"></inkscape:grid>
  </sodipodi:namedview>
  <metadata id="metadata5">
    <rdf:rdf>
      <cc:work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type>
        <dc:title></dc:title>
      </cc:work>
    </rdf:rdf>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(-31.430062,48.736474)">
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 101.67694,-43.312516 36.85402,21.510402" id="path2597" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <g id="g1463" transform="matrix(1.7500001,0,0,1.7500001,-27.968899,-72.260452)" style="stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none">
      <circle r="0.52778977" cy="21.833345" cx="42.333332" id="path4517" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="21.833345" cx="52.916668" id="path4517-7" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="21.833345" cx="63.5" id="path4517-78" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="21.833345" cx="74.083336" id="path4517-7-9" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="21.833345" cx="84.666664" id="path4517-0" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <path sodipodi:nodetypes="ccccccccccccccccccccc" inkscape:connector-curvature="0" id="path1171" d="m 37.041666,16.541677 h 52.916665 v 42.333331 l -52.91666,4e-6 -5e-6,-42.333333 m 10.583334,0 4e-6,42.333333 m 10.583332,0 -4e-6,-42.333333 m 10.583332,0 8e-6,42.333333 m 10.583336,0 -8e-6,-42.333333 m 10.583336,0 v 42.333333 m -5e-6,-10.583337 H 37.041666 m 10e-7,-10.58333 52.916664,-2e-6 m 0,-10.583333 -52.916664,3e-6" style="fill:none;stroke:#808080;stroke-width:0.15119047;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></path>
      <circle r="0.52778977" cy="32.416679" cx="42.333332" id="path4517-6" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="32.416679" cx="52.916668" id="path4517-7-3" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="32.416679" cx="63.5" id="path4517-78-9" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="32.416679" cx="74.083336" id="path4517-7-9-1" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="32.416679" cx="84.666664" id="path4517-0-6" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="43.000011" cx="42.333332" id="path4517-4" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="43.000011" cx="52.916668" id="path4517-7-2" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="43.000011" cx="63.5" id="path4517-78-3" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="43.000011" cx="74.083336" id="path4517-7-9-0" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="43.000011" cx="84.666664" id="path4517-0-9" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="53.583344" cx="42.333332" id="path4517-14" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="53.583344" cx="52.916668" id="path4517-7-4" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="53.583344" cx="63.5" id="path4517-78-7" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="53.583344" cx="74.083336" id="path4517-7-9-8" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
      <circle r="0.52778977" cy="53.583344" cx="84.666664" id="path4517-0-7" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.15119047;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle>
    </g>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 120.19778,-43.312516 46.114437,30.770819" id="path2597-8" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 83.156105,-43.312516 36.85402,2.9895682" id="path2597-1" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 64.635271,-43.312516 36.85402,-15.531266" id="path2597-1-9" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="m 46.114437,-43.312516 -9.260417,9.260417" id="path2597-1-9-6" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 129.45819,-34.052099 64.635271,30.770819" id="path2597-1-6" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 129.45819,-15.531266 83.156105,30.770819" id="path2597-1-8" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 129.45819,2.9895688 101.67694,30.770819" id="path2597-1-9-68" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="m 129.45819,21.510402 -9.26042,9.260417" id="path2597-1-9-68-7" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 64.635271,-43.312516 36.85402,-15.531265" id="path2597-1-9-4" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="m 36.85402,-34.052099 64.82292,64.822918" id="path2597-1-9-2" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 36.85402,-15.531266 83.156105,30.770819" id="path2597-1-9-2-0" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 36.85402,2.9895681 64.635271,30.770819" id="path2597-1-9-2-0-7" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="m 36.85402,21.510402 9.260417,9.260417" id="path2597-1-9-2-0-7-9" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="m 36.85402,-34.052099 64.82292,64.822918" id="path2597-1-9-2-9" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 46.114437,-43.312516 120.19777,30.770819" id="path2597-1-9-2-8" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 64.635271,-43.312516 129.45819,21.510402" id="path2597-1-9-2-8-2" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="M 83.156105,-43.312516 129.45819,2.9895681" id="path2597-1-9-2-8-2-4" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="m 101.67694,-43.312516 27.78125,27.78125" id="path2597-1-9-2-8-2-4-0" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.3321186;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99635576, 0.99635576;stroke-dashoffset:0;stroke-opacity:1" d="m 120.19777,-43.312516 9.26042,9.260417" id="path2597-1-9-2-8-2-4-0-3" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <path style="fill:none;stroke:#000000;stroke-width:0.52999997;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Arrow2Mend)" d="M 42.145687,20.187485 118.87486,-39.343766" id="path819" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path>
    <g id="g3490" transform="translate(11.90625,10.583333)" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-opacity:1">
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path2597-1-9-2-0-7-9-3" d="m 32.88527,9.6041515 2.645834,2.6458335" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-width:0.33205208;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"></path>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path2597-1-9-2-0-7-9-3-2" d="M 35.531104,9.6041515 32.88527,12.249985" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-width:0.33205208;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"></path>
    </g>
    <g id="g3490-6" transform="translate(30.427084,-7.9375001)" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-opacity:1">
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path2597-1-9-2-0-7-9-3-1" d="m 32.88527,9.6041515 2.645834,2.6458335" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-width:0.33205208;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"></path>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path2597-1-9-2-0-7-9-3-2-0" d="M 35.531104,9.6041515 32.88527,12.249985" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-width:0.33205208;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"></path>
    </g>
    <g id="g3490-6-5" transform="translate(48.947918,-26.458334)" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-opacity:1">
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path2597-1-9-2-0-7-9-3-1-3" d="m 32.88527,9.6041515 2.645834,2.6458335" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-width:0.33205208;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"></path>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path2597-1-9-2-0-7-9-3-2-0-8" d="M 35.531104,9.6041515 32.88527,12.249985" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-width:0.33205208;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"></path>
    </g>
    <g id="g3490-6-5-0" transform="translate(67.468751,-44.979168)" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-opacity:1">
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path2597-1-9-2-0-7-9-3-1-3-9" d="m 32.88527,9.6041515 2.645834,2.6458335" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-width:0.33205208;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"></path>
      <path sodipodi:nodetypes="cc" inkscape:connector-curvature="0" id="path2597-1-9-2-0-7-9-3-2-0-8-0" d="M 35.531104,9.6041515 32.88527,12.249985" style="fill:#ff0000;fill-opacity:1;stroke:#ff0000;stroke-width:0.33205208;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"></path>
    </g>
  </g>
</svg>
</div>
<div class="title">Figure 21. Visualization of Bresenham’s algorithm</div>
</div>
<div class="paragraph">
<p>To avoid difficulties when an endpoint lies on a boundary of <span class="eq">R<sub>f</sub></span> we
(in principle) perturb the supplied endpoints by a tiny amount.
Let <span class="eq">p<sub>a</sub></span> and <span class="eq">p<sub>b</sub></span> have framebuffer coordinates <span class="eq">(x<sub>a</sub>,
y<sub>a</sub>)</span> and <span class="eq">(x<sub>b</sub>, y<sub>b</sub>)</span>, respectively.
Obtain the perturbed endpoints <span class="eq">p<sub>a</sub>'</span> given by <span class="eq">(x<sub>a</sub>, y<sub>a</sub>) -
(ε, ε<sup>2</sup>)</span> and <span class="eq">p<sub>b</sub>'</span> given by <span class="eq">(x<sub>b</sub>, y<sub>b</sub>) -
(ε, ε<sup>2</sup>)</span>.
Rasterizing the line segment starting at <span class="eq">p<sub>a</sub></span> and ending at <span class="eq">p<sub>b</sub></span>
produces those fragments <span class="eq">f</span> for which the segment starting at
<span class="eq">p<sub>a</sub>'</span> and ending on <span class="eq">p<sub>b</sub>'</span> intersects <span class="eq">R<sub>f</sub></span>, except if
<span class="eq">p<sub>b</sub>'</span> is contained in <span class="eq">R<sub>f</sub></span>.
<span class="eq">ε</span> is chosen to be so small that rasterizing the line segment
produces the same fragments when <span class="eq">δ</span> is substituted for
<span class="eq">ε</span> for any <span class="eq">0 &lt; δ ≤ ε</span>.</p>
</div>
<div class="paragraph">
<p>When <span class="eq">p<sub>a</sub></span> and <span class="eq">p<sub>b</sub></span> lie on fragment centers, this
characterization of fragments reduces to Bresenham’s algorithm with one
modification: lines produced in this description are “half-open”, meaning
that the final fragment (corresponding to <span class="eq">p<sub>b</sub></span>) is not drawn.
This means that when rasterizing a series of connected line segments, shared
endpoints will be produced only once rather than twice (as would occur with
Bresenham’s algorithm).</p>
</div>
<div class="paragraph">
<p>Implementations <strong class="purple">may</strong> use other line segment rasterization algorithms,
subject to the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The coordinates of a fragment produced by the algorithm <strong class="purple">must</strong> not
deviate by more than one unit in either x or y framebuffer coordinates
from a corresponding fragment produced by the diamond-exit rule.</p>
</li>
<li>
<p>The total number of fragments produced by the algorithm <strong class="purple">must</strong> not differ
from that produced by the diamond-exit rule by no more than one.</p>
</li>
<li>
<p>For an x-major line, two fragments that lie in the same
framebuffer-coordinate column <strong class="purple">must</strong> not be produced (for a y-major line,
two fragments that lie in the same framebuffer-coordinate row <strong class="purple">must</strong> not
be produced).</p>
</li>
<li>
<p>If two line segments share a common endpoint, and both segments are
either x-major (both left-to-right or both right-to-left) or y-major
(both bottom-to-top or both top-to-bottom), then rasterizing both
segments <strong class="purple">must</strong> not produce duplicate fragments.
Fragments also <strong class="purple">must</strong> not be omitted so as to interrupt continuity of the
connected segments.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The actual width <span class="eq">w</span> of Bresenham lines is determined by rounding the
line width to the nearest integer, clamping it to the
implementation-dependent <code>lineWidthRange</code> (with both values rounded to
the nearest integer), then clamping it to be no less than 1.</p>
</div>
<div class="paragraph">
<p>Bresenham line segments of width other than one are rasterized by offsetting
them in the minor direction (for an x-major line, the minor direction is y,
and for a y-major line, the minor direction is x) and producing a row or
column of fragments in the minor direction.
If the line segment has endpoints given by <span class="eq">(x<sub>0</sub>, y<sub>0</sub>)</span> and
<span class="eq">(x<sub>1</sub>, y<sub>1</sub>)</span> in framebuffer coordinates, the segment with endpoints
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span> and <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span> is rasterized, but instead of a single fragment, a column of
fragments of height w (a row of fragments of length w for a y-major segment)
is produced at each x (y for y-major) location.
The lowest fragment of this column is the fragment that would be produced by
rasterizing the segment of width 1 with the modified coordinates.</p>
</div>
<div class="paragraph">
<p>The preferred method of attribute interpolation for a wide line is to
generate the same attribute values for all fragments in the row or column
described above, as if the adjusted line was used for interpolation and
those values replicated to the other fragments, except for <code>FragCoord</code>
which is interpolated as usual.
Implementations <strong class="purple">may</strong> instead interpolate each fragment according to the
formula in <a href="chap28.html#primsrast-lines-basic">Basic Line Segment Rasterization</a>, using
the original line segment endpoints.</p>
</div>
<div class="paragraph">
<p>When Bresenham lines are being rasterized, sample locations <strong class="purple">may</strong> all be
treated as being at the pixel center (this <strong class="purple">may</strong> affect attribute and depth
interpolation).</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The sample locations described above are <strong>not</strong> used for determining
coverage, they are only used for things like attribute interpolation.
The rasterization rules that determine coverage are defined in terms of
whether the line intersects <strong>pixels</strong>, as opposed to the point sampling rules
used for other primitive types.
So these rules are independent of the sample locations.
One consequence of this is that Bresenham lines cover the same pixels
regardless of the number of rasterization samples, and cover all samples in
those pixels (unless masked out or killed).</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-lines-stipple"><a class="anchor" href="chap28.html#primsrast-lines-stipple"></a>28.11.3. Line Stipple</h4>
<div class="paragraph">
<p>If the <code>stippledLineEnable</code> member of
<a href="chap28.html#VkPipelineRasterizationLineStateCreateInfoEXT">VkPipelineRasterizationLineStateCreateInfoEXT</a> is <code>VK_TRUE</code>, then
lines are rasterized with a <em>line stipple</em> determined by
<code>lineStippleFactor</code> and <code>lineStipplePattern</code>.
<code>lineStipplePattern</code> is an unsigned 16-bit integer that determines which
fragments are to be drawn or discarded when the line is rasterized.
<code>lineStippleFactor</code> is a count that is used to modify the effective line
stipple by causing each bit in <code>lineStipplePattern</code> to be used
<code>lineStippleFactor</code> times.</p>
</div>
<div class="paragraph">
<p>Line stippling discards certain fragments that are produced by
rasterization.
The masking is achieved using three parameters: the 16-bit line stipple
pattern <em>p</em>, the line stipple factor <em>r</em>, and an integer stipple counter
<em>s</em>.
Let</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.8359999999999999em;vertical-align:-0.686em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">⌋</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">6</span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>Then a fragment is produced if the <em>b</em>'th bit of <em>p</em> is 1, and discarded
otherwise.
The bits of <em>p</em> are numbered with 0 being the least significant and 15 being
the most significant.</p>
</div>
<div class="paragraph">
<p>The initial value of <em>s</em> is zero.
For <code>VK_LINE_RASTERIZATION_MODE_BRESENHAM_EXT</code> lines, <em>s</em> is incremented
after production of each fragment of a line segment (fragments are produced
in order, beginning at the starting point and working towards the ending
point).
For <code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_EXT</code> and
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH_EXT</code> lines, the
rectangular region is subdivided into adjacent unit-length rectangles, and s
is incremented once for each rectangle.
Rectangles with a value of <em>s</em> such that the <em>b</em>'th bit of <em>p</em> is zero are
discarded.
If the last rectangle in a line segment is shorter than unit-length, then
the remainder <strong class="purple">may</strong> carry over to the next line segment in the line strip
using the same value of <em>s</em> (this is the preferred behavior, for the stipple
pattern to appear more consistent through the strip).</p>
</div>
<div class="paragraph">
<p><em>s</em> is reset to 0 at the start of each strip (for line strips), and before
every line segment in a group of independent segments.</p>
</div>
<div class="paragraph">
<p>If the line segment has been clipped, then the value of <em>s</em> at the beginning
of the line segment is implementation-dependent.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the line stipple state,
call:</p>
</div>
<div id="vkCmdSetLineStippleEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_line_rasterization</span>
<span class="kt">void</span> <span class="nf">vkCmdSetLineStippleEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="kt">uint32_t</span>                                    <span class="n">lineStippleFactor</span><span class="p">,</span>
    <span class="kt">uint16_t</span>                                    <span class="n">lineStipplePattern</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>lineStippleFactor</code> is the repeat factor used in stippled line
rasterization.</p>
</li>
<li>
<p><code>lineStipplePattern</code> is the bit pattern used in stippled line
rasterization.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the line stipple state for subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_LINE_STIPPLE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationLineStateCreateInfoEXT">VkPipelineRasterizationLineStateCreateInfoEXT</a>::<code>lineStippleFactor</code>
and
<a href="chap28.html#VkPipelineRasterizationLineStateCreateInfoEXT">VkPipelineRasterizationLineStateCreateInfoEXT</a>::<code>lineStipplePattern</code>
values used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetLineStippleEXT-lineStippleFactor-02776" href="chap28.html#VUID-vkCmdSetLineStippleEXT-lineStippleFactor-02776"></a> <span class="vuid">VUID-vkCmdSetLineStippleEXT-lineStippleFactor-02776</span><br>

<code>lineStippleFactor</code> <strong class="purple">must</strong> be in the range <span class="eq">[1,256]</span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetLineStippleEXT-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetLineStippleEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetLineStippleEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineStippleEXT-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetLineStippleEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetLineStippleEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineStippleEXT-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetLineStippleEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetLineStippleEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetLineStippleEXT-videocoding" href="chap28.html#VUID-vkCmdSetLineStippleEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetLineStippleEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-lines-smooth"><a class="anchor" href="chap28.html#primsrast-lines-smooth"></a>28.11.4. Smooth Lines</h4>
<div class="paragraph">
<p>If the <code>lineRasterizationMode</code> member of
<a href="chap28.html#VkPipelineRasterizationLineStateCreateInfoEXT">VkPipelineRasterizationLineStateCreateInfoEXT</a> is
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH_EXT</code>, then lines are
considered to be rectangles using the same geometry as for
<code>VK_LINE_RASTERIZATION_MODE_RECTANGULAR_EXT</code> lines.
The rules for determining which pixels are covered are
implementation-dependent, and <strong class="purple">may</strong> include nearby pixels where no sample
locations are covered or where the rectangle does not intersect the pixel at
all.
For each pixel that is considered covered, the fragment computes a coverage
value that approximates the area of the intersection of the rectangle with
the pixel square, and this coverage value is multiplied into the color
location 0’s alpha value after fragment shading, as described in
<a href="chap29.html#fragops-covg">Multisample Coverage</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The details of the rasterization rules and area calculation are left
intentionally vague, to allow implementations to generate coverage and
values that are aesthetically pleasing.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="primsrast-polygons"><a class="anchor" href="chap28.html#primsrast-polygons"></a>28.12. Polygons</h3>
<div class="paragraph">
<p>A polygon results from the decomposition of a triangle strip, triangle fan
or a series of independent triangles.
Like points and line segments, polygon rasterization is controlled by
several variables in the <a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>
structure.</p>
</div>
<div class="sect3">
<h4 id="primsrast-polygons-basic"><a class="anchor" href="chap28.html#primsrast-polygons-basic"></a>28.12.1. Basic Polygon Rasterization</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The first step of polygon rasterization is to determine whether the triangle
is <em>back-facing</em> or <em>front-facing</em>.
This determination is made based on the sign of the (clipped or unclipped)
polygon’s area computed in framebuffer coordinates.
One way to compute this area is:</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0787820000000004em;vertical-align:-1.277669em;"></span><span class="mord">−</span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8011130000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.874664em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.383108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.874664em;"><span style="top:-2.4085610000000006em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">⊕</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4275469999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.3022109999999998em;vertical-align:-0.4275469999999999em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.874664em;"><span style="top:-2.4085610000000006em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">⊕</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4275469999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.874664em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.383108em;"><span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>where <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2438799999999999em;vertical-align:-0.4192159999999999em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.4168920000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4192159999999999em;"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2438799999999999em;vertical-align:-0.4192159999999999em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.4168920000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4192159999999999em;"><span></span></span></span></span></span></span></span></span></span> are the <span class="eq">x</span> and <span class="eq">y</span>
framebuffer coordinates of the <span class="eq">i</span>th vertex of the <span class="eq">n</span>-vertex
polygon (vertices are numbered starting at zero for the purposes of this
computation) and <span class="eq">i ⊕ 1</span> is <span class="eq">(i +  1) mod n</span>.</p>
</div>
<div class="paragraph">
<p>The interpretation of the sign of <span class="eq">a</span> is determined by the
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>frontFace</code> property of
the currently active pipeline.
Possible values are:</p>
</div>
<div id="VkFrontFace" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkFrontFace</span> <span class="p">{</span>
    <span class="n">VK_FRONT_FACE_COUNTER_CLOCKWISE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_FRONT_FACE_CLOCKWISE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkFrontFace</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_FRONT_FACE_COUNTER_CLOCKWISE</code> specifies that a triangle with
positive area is considered front-facing.</p>
</li>
<li>
<p><code>VK_FRONT_FACE_CLOCKWISE</code> specifies that a triangle with negative
area is considered front-facing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any triangle which is not front-facing is back-facing, including zero-area
triangles.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the front face orientation,
call:</p>
</div>
<div id="vkCmdSetFrontFaceEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetFrontFaceEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkFrontFace</span>                                 <span class="n">frontFace</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>frontFace</code> is a <a href="chap28.html#VkFrontFace">VkFrontFace</a> value specifying the front-facing
triangle orientation to be used for culling.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the front face orientation for subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with <code>VK_DYNAMIC_STATE_FRONT_FACE</code>
set in <a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>frontFace</code> value used to
create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetFrontFace-None-08971" href="chap28.html#VUID-vkCmdSetFrontFace-None-08971"></a> <span class="vuid">VUID-vkCmdSetFrontFace-None-08971</span><br>

At least one of the following <strong class="purple">must</strong> be true:</p>
<div class="ulist">
<ul>
<li>
<p>the <a href="chap46.html#features-extendedDynamicState"><code>extendedDynamicState</code></a>
feature is enabled</p>
</li>
<li>
<p>the <a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature is enabled</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetFrontFace-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetFrontFace-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetFrontFace-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFrontFace-frontFace-parameter" href="chap28.html#VUID-vkCmdSetFrontFace-frontFace-parameter"></a> <span class="vuid">VUID-vkCmdSetFrontFace-frontFace-parameter</span><br>
 <code>frontFace</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkFrontFace">VkFrontFace</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFrontFace-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetFrontFace-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetFrontFace-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetFrontFace-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetFrontFace-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetFrontFace-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetFrontFace-videocoding" href="chap28.html#VUID-vkCmdSetFrontFace-videocoding"></a> <span class="vuid">VUID-vkCmdSetFrontFace-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Once the orientation of triangles is determined, they are culled according
to the <a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>cullMode</code> property
of the currently active pipeline.
Possible values are:</p>
</div>
<div id="VkCullModeFlagBits" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkCullModeFlagBits</span> <span class="p">{</span>
    <span class="n">VK_CULL_MODE_NONE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_CULL_MODE_FRONT_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_CULL_MODE_BACK_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_CULL_MODE_FRONT_AND_BACK</span> <span class="o">=</span> <span class="mh">0x00000003</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkCullModeFlagBits</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_CULL_MODE_NONE</code> specifies that no triangles are discarded</p>
</li>
<li>
<p><code>VK_CULL_MODE_FRONT_BIT</code> specifies that front-facing triangles are
discarded</p>
</li>
<li>
<p><code>VK_CULL_MODE_BACK_BIT</code> specifies that back-facing triangles are
discarded</p>
</li>
<li>
<p><code>VK_CULL_MODE_FRONT_AND_BACK</code> specifies that all triangles are
discarded.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Following culling, fragments are produced for any triangles which have not
been discarded.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkCullModeFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkCullModeFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkCullModeFlags</code> is a bitmask type for setting a mask of zero or more
<a href="chap28.html#VkCullModeFlagBits">VkCullModeFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the cull mode, call:</p>
</div>
<div id="vkCmdSetCullModeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetCullModeEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkCullModeFlags</span>                             <span class="n">cullMode</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>cullMode</code> specifies the cull mode property to use for drawing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the cull mode for subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with <code>VK_DYNAMIC_STATE_CULL_MODE</code>
set in <a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>cullMode</code> value used to
create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetCullMode-None-08971" href="chap28.html#VUID-vkCmdSetCullMode-None-08971"></a> <span class="vuid">VUID-vkCmdSetCullMode-None-08971</span><br>

At least one of the following <strong class="purple">must</strong> be true:</p>
<div class="ulist">
<ul>
<li>
<p>the <a href="chap46.html#features-extendedDynamicState"><code>extendedDynamicState</code></a>
feature is enabled</p>
</li>
<li>
<p>the <a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature is enabled</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetCullMode-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetCullMode-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetCullMode-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetCullMode-cullMode-parameter" href="chap28.html#VUID-vkCmdSetCullMode-cullMode-parameter"></a> <span class="vuid">VUID-vkCmdSetCullMode-cullMode-parameter</span><br>
 <code>cullMode</code> <strong class="purple">must</strong> be a valid combination of <a href="chap28.html#VkCullModeFlagBits">VkCullModeFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkCmdSetCullMode-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetCullMode-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetCullMode-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetCullMode-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetCullMode-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetCullMode-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetCullMode-videocoding" href="chap28.html#VUID-vkCmdSetCullMode-videocoding"></a> <span class="vuid">VUID-vkCmdSetCullMode-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The rule for determining which fragments are produced by polygon
rasterization is called <em>point sampling</em>.
The two-dimensional projection obtained by taking the x and y framebuffer
coordinates of the polygon’s vertices is formed.
Fragments are produced for any fragment area groups of pixels for which any
sample points lie inside of this polygon.
Coverage bits that correspond to sample points that satisfy the point
sampling criteria are 1, other coverage bits are 0.
Special treatment is given to a sample whose sample location lies on a
polygon edge.
In such a case, if two polygons lie on either side of a common edge (with
identical endpoints) on which a sample point lies, then exactly one of the
polygons <strong class="purple">must</strong> result in a covered sample for that fragment during
rasterization.
As for the data associated with each fragment produced by rasterizing a
polygon, we begin by specifying how these values are produced for fragments
in a triangle.</p>
</div>
<div id="primsrast-polygon-barycentrics" class="paragraph">
<p><em>Barycentric coordinates</em> are a set of three numbers, <span class="eq">a</span>, <span class="eq">b</span>, and
<span class="eq">c</span>, each in the range <span class="eq">[0,1]</span>, with <span class="eq">a +  b +  c = 1</span>.
These coordinates uniquely specify any point <span class="eq">p</span> within the triangle or
on the triangle’s boundary as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p = a p<sub>a</sub> +  b p<sub>b</sub> +  c p<sub>c</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, and <span class="eq">p<sub>c</sub></span> are the vertices of the
triangle.
<span class="eq">a</span>, <span class="eq">b</span>, and <span class="eq">c</span> are determined by:</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">A</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">A</span></span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">A</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">A</span></span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">A</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">A</span></span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mpunct">,</span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>where <span class="eq">A(lmn)</span> denotes the area in framebuffer coordinates of the
triangle with vertices <span class="eq">l</span>, <span class="eq">m</span>, and <span class="eq">n</span>.</p>
</div>
<div class="paragraph">
<p>Denote an associated datum at <span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, or <span class="eq">p<sub>c</sub></span> as
<span class="eq">f<sub>a</sub></span>, <span class="eq">f<sub>b</sub></span>, or <span class="eq">f<sub>c</sub></span>, respectively.</p>
</div>
<div id="triangle_perspective_interpolation" class="paragraph">
<p><em>Perspective interpolation</em> for a triangle interpolates three values in a
manner that is correct when taking the perspective of the viewport into
consideration, by way of the triangle’s clip coordinates.
An interpolated value <span class="eq">f</span> can be determined by</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">b</span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>where <span class="eq">w<sub>a</sub></span>, <span class="eq">w<sub>b</sub></span>, and <span class="eq">w<sub>c</sub></span> are the clip <span class="eq">w</span>
coordinates of <span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, and <span class="eq">p<sub>c</sub></span>, respectively.
<span class="eq">a</span>, <span class="eq">b</span>, and <span class="eq">c</span> are the barycentric coordinates of the
location at which the data are produced.</p>
</div>
<div id="triangle_linear_interpolation" class="paragraph">
<p><em>Linear interpolation</em> for a triangle directly interpolates three values,
and an interpolated value <span class="eq">f</span> can be determined by</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">f = a f<sub>a</sub> +  b f<sub>b</sub> +  c f<sub>c</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">f<sub>a</sub></span>, <span class="eq">f<sub>b</sub></span>, and <span class="eq">f<sub>c</sub></span> are the data associated with
<span class="eq">p<sub>a</sub></span>, <span class="eq">p<sub>b</sub></span>, and <span class="eq">p<sub>c</sub></span>, respectively.</p>
</div>
<div class="paragraph">
<p>The clip coordinate <span class="eq">w</span> for a sample is determined using perspective
interpolation.
The depth value <span class="eq">z</span> for a sample is determined using linear
interpolation.
Interpolation of fragment shader input values are determined by
<a href="chap9.html#shaders-interpolation-decorations">Interpolation decorations</a>.</p>
</div>
<div class="paragraph">
<p>For a polygon with more than three edges, such as are produced by clipping a
triangle, a convex combination of the values of the datum at the polygon’s
vertices <strong class="purple">must</strong> be used to obtain the value assigned to each fragment
produced by the rasterization algorithm.
That is, it <strong class="purple">must</strong> be the case that at every fragment</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>where <span class="eq">n</span> is the number of vertices in the polygon and <span class="eq">f<sub>i</sub></span> is the
value of <span class="eq">f</span> at vertex <span class="eq">i</span>.
For each <span class="eq">i</span>, <span class="eq">0 ≤ a<sub>i</sub> ≤ 1</span> and
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>.
The values of <span class="eq">a<sub>i</sub></span> <strong class="purple">may</strong> differ from fragment to fragment, but at
vertex <span class="eq">i</span>, <span class="eq">a<sub>i</sub> = 1</span> and <span class="eq">a<sub>j</sub> = 0</span> for <span class="eq">j ≠ i</span>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>One algorithm that achieves the required behavior is to triangulate a
polygon (without adding any vertices) and then treat each triangle
individually as already discussed.
A scan-line rasterizer that linearly interpolates data along each edge and
then linearly interpolates data across each horizontal span from edge to
edge also satisfies the restrictions (in this case the numerator and
denominator of <a href="chap28.html#triangle_perspective_interpolation">perspective
interpolation</a> are iterated independently, and a division is performed for
each fragment).</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-polygonmode"><a class="anchor" href="chap28.html#primsrast-polygonmode"></a>28.12.2. Polygon Mode</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>polygonMode</code> property of
the currently active pipeline, specifying the method of rasterization for
polygons, are:</p>
</div>
<div id="VkPolygonMode" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkPolygonMode</span> <span class="p">{</span>
    <span class="n">VK_POLYGON_MODE_FILL</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_POLYGON_MODE_LINE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_POLYGON_MODE_POINT</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
  <span class="c1">// Provided by VK_NV_fill_rectangle</span>
    <span class="n">VK_POLYGON_MODE_FILL_RECTANGLE_NV</span> <span class="o">=</span> <span class="mi">1000153000</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkPolygonMode</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_POLYGON_MODE_POINT</code> specifies that polygon vertices are drawn as
points.</p>
</li>
<li>
<p><code>VK_POLYGON_MODE_LINE</code> specifies that polygon edges are drawn as
line segments.</p>
</li>
<li>
<p><code>VK_POLYGON_MODE_FILL</code> specifies that polygons are rendered using
the polygon rasterization rules in this section.</p>
</li>
<li>
<p><code>VK_POLYGON_MODE_FILL_RECTANGLE_NV</code> specifies that polygons are
rendered using polygon rasterization rules, modified to consider a
sample within the primitive if the sample location is inside the
axis-aligned bounding box of the triangle after projection.
Note that the barycentric weights used in attribute interpolation <strong class="purple">can</strong>
extend outside the range <span class="eq">[0,1]</span> when these primitives are shaded.
Special treatment is given to a sample position on the boundary edge of
the bounding box.
In such a case, if two rectangles lie on either side of a common edge
(with identical endpoints) on which a sample position lies, then exactly
one of the triangles <strong class="purple">must</strong> produce a fragment that covers that sample
during rasterization.</p>
<div class="paragraph">
<p>Polygons rendered in <code>VK_POLYGON_MODE_FILL_RECTANGLE_NV</code> mode <strong class="purple">may</strong> be
clipped by the frustum or by user clip planes.
If clipping is applied, the triangle is culled rather than clipped.</p>
</div>
<div class="paragraph">
<p>Area calculation and facingness are determined for
<code>VK_POLYGON_MODE_FILL_RECTANGLE_NV</code> mode using the triangle’s vertices.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>These modes affect only the final rasterization of polygons: in particular,
a polygon’s vertices are shaded and the polygon is clipped and possibly
culled before these modes are applied.</p>
</div>
<div class="paragraph">
<p>If
<code>VkPhysicalDeviceMaintenance5PropertiesKHR</code>::<code>polygonModePointSize</code>
is set to <code>VK_TRUE</code>, the point size of the final rasterization of
polygons is taken from <code>PointSize</code> when <a href="chap28.html#primsrast-polygonmode">polygon
mode</a> is <code>VK_POLYGON_MODE_POINT</code>.</p>
</div>
<div class="paragraph">
<p>Otherwise, if
<code>VkPhysicalDeviceMaintenance5PropertiesKHR</code>::<code>polygonModePointSize</code>
is set to <code>VK_FALSE</code>, the point size of the final rasterization of
polygons is 1.0 when <a href="chap28.html#primsrast-polygonmode">polygon mode</a> is
<code>VK_POLYGON_MODE_POINT</code>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the polygon mode, call:</p>
</div>
<div id="vkCmdSetPolygonModeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state3, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetPolygonModeEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkPolygonMode</span>                               <span class="n">polygonMode</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>polygonMode</code> specifies polygon mode.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the polygon mode for subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_POLYGON_MODE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>polygonMode</code> value used
to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetPolygonModeEXT-None-08566" href="chap28.html#VUID-vkCmdSetPolygonModeEXT-None-08566"></a> <span class="vuid">VUID-vkCmdSetPolygonModeEXT-None-08566</span><br>

Either the <a href="chap46.html#features-extendedDynamicState3PolygonMode"><code>extendedDynamicState3PolygonMode</code></a> feature or the
<a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature or both <strong class="purple">must</strong> be
enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetPolygonModeEXT-fillModeNonSolid-07424" href="chap28.html#VUID-vkCmdSetPolygonModeEXT-fillModeNonSolid-07424"></a> <span class="vuid">VUID-vkCmdSetPolygonModeEXT-fillModeNonSolid-07424</span><br>

If the <a href="chap46.html#features-fillModeNonSolid"><code>fillModeNonSolid</code></a> feature is
not enabled, <code>polygonMode</code> <strong class="purple">must</strong> be <code>VK_POLYGON_MODE_FILL</code> or
<code>VK_POLYGON_MODE_FILL_RECTANGLE_NV</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetPolygonModeEXT-polygonMode-07425" href="chap28.html#VUID-vkCmdSetPolygonModeEXT-polygonMode-07425"></a> <span class="vuid">VUID-vkCmdSetPolygonModeEXT-polygonMode-07425</span><br>

If the <code><a href="chap55.html#VK_NV_fill_rectangle">VK_NV_fill_rectangle</a></code> extension is not enabled,
<code>polygonMode</code> <strong class="purple">must</strong> not be <code>VK_POLYGON_MODE_FILL_RECTANGLE_NV</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetPolygonModeEXT-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetPolygonModeEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetPolygonModeEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetPolygonModeEXT-polygonMode-parameter" href="chap28.html#VUID-vkCmdSetPolygonModeEXT-polygonMode-parameter"></a> <span class="vuid">VUID-vkCmdSetPolygonModeEXT-polygonMode-parameter</span><br>
 <code>polygonMode</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkPolygonMode">VkPolygonMode</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetPolygonModeEXT-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetPolygonModeEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetPolygonModeEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetPolygonModeEXT-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetPolygonModeEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetPolygonModeEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetPolygonModeEXT-videocoding" href="chap28.html#VUID-vkCmdSetPolygonModeEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetPolygonModeEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-depthbias"><a class="anchor" href="chap28.html#primsrast-depthbias"></a>28.12.3. Depth Bias</h4>
<div class="paragraph">
<p>The depth values of all fragments generated by the rasterization of a
polygon <strong class="purple">can</strong> be biased (offset) by a single depth bias value <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">o</span></span></span></span>
that is computed for that polygon.</p>
</div>
<div class="sect4">
<h5 id="primsrast-depthbias-enable"><a class="anchor" href="chap28.html#primsrast-depthbias-enable"></a>Depth Bias Enable</h5>
<div class="paragraph">
<p>The depth bias computation is enabled by the
<code>depthBiasEnable</code> set with <a href="chap28.html#vkCmdSetDepthBiasEnableEXT">vkCmdSetDepthBiasEnableEXT</a>
and <code>vkCmdSetDepthBiasEnableEXT</code>,
or the corresponding
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>depthBiasEnable</code> value
used to create the currently active pipeline.
If the depth bias enable is <code>VK_FALSE</code>, no bias is applied and the
fragment’s depth values are unchanged.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically enable</a> whether to bias fragment
depth values, call:</p>
</div>
<div id="vkCmdSetDepthBiasEnableEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state2, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetDepthBiasEnableEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkBool32</span>                                    <span class="n">depthBiasEnable</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>depthBiasEnable</code> controls whether to bias fragment depth values.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the depth bias enable for subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>depthBiasEnable</code> value
used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBiasEnable-None-08970" href="chap28.html#VUID-vkCmdSetDepthBiasEnable-None-08970"></a> <span class="vuid">VUID-vkCmdSetDepthBiasEnable-None-08970</span><br>

At least one of the following <strong class="purple">must</strong> be true:</p>
<div class="ulist">
<ul>
<li>
<p>the <a href="chap46.html#features-extendedDynamicState2"><code>extendedDynamicState2</code></a>
feature is enabled</p>
</li>
<li>
<p>the <a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature is enabled</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBiasEnable-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetDepthBiasEnable-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetDepthBiasEnable-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBiasEnable-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetDepthBiasEnable-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetDepthBiasEnable-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBiasEnable-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetDepthBiasEnable-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetDepthBiasEnable-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBiasEnable-videocoding" href="chap28.html#VUID-vkCmdSetDepthBiasEnable-videocoding"></a> <span class="vuid">VUID-vkCmdSetDepthBiasEnable-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="primsrast-depthbias-computation"><a class="anchor" href="chap28.html#primsrast-depthbias-computation"></a>Depth Bias Computation</h5>
<div class="paragraph">
<p>The depth bias depends on three parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>depthBiasSlopeFactor</code> scales the maximum depth slope <span class="eq">m</span> of the
polygon</p>
</li>
<li>
<p><code>depthBiasConstantFactor</code> scales the parameter <span class="eq">r</span> of the depth
attachment</p>
</li>
<li>
<p>the scaled terms are summed to produce a value which is then clamped to
a minimum or maximum value specified by <code>depthBiasClamp</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>depthBiasSlopeFactor</code>, <code>depthBiasConstantFactor</code>, and
<code>depthBiasClamp</code> <strong class="purple">can</strong> each be positive, negative, or zero.
These parameters are set as described for <a href="chap28.html#vkCmdSetDepthBias">vkCmdSetDepthBias</a>
and <a href="chap28.html#vkCmdSetDepthBias2EXT">vkCmdSetDepthBias2EXT</a>
below.</p>
</div>
<div class="paragraph">
<p>The maximum depth slope <span class="eq">m</span> of a triangle is</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.04em;vertical-align:-1.065175em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.974825em;"><span class="svg-align" style="top:-5em;"><span class="pstrut" style="height:5em;"></span><span class="mord" style="padding-left:1em;"><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.972108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.6540080000000001em;"><span style="top:-3.9029000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.972108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.6540080000000001em;"><span style="top:-3.9029000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.934825em;"><span class="pstrut" style="height:5em;"></span><span class="hide-tail" style="min-width:1.02em;height:3.08em;"><svg width="400em" height="3.08em" viewBox="0 0 400000 3240" preserveAspectRatio="xMinYMin slice"><path d="M473,2793
c339.3,-1799.3,509.3,-2700,510,-2702 l0 -0
c3.3,-7.3,9.3,-11,18,-11 H400000v40H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM1001 80h400000v40H1017.7z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.065175em;"><span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>where <span class="eq">(x<sub>f</sub>, y<sub>f</sub>, z<sub>f</sub>)</span> is a point on the triangle.
<span class="eq">m</span> <strong class="purple">may</strong> be approximated as</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.452078em;vertical-align:-0.972108em;"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.972108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.972108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4799700000000002em;"><span style="top:-1.65598em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.25698em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.85798em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87897em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.47997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500199999999999em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>In a pipeline with a depth bias representation of
<code>VK_DEPTH_BIAS_REPRESENTATION_FLOAT_EXT</code>, <span class="eq">r</span>, for the given
primitive is defined as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">r = 1</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Otherwise
<span class="eq">r</span> is the minimum resolvable difference that depends on the depth
attachment representation.
If <code>VkDepthBiasRepresentationInfoEXT</code>::<code>depthBiasExact</code> is
<code>VK_FALSE</code> it
is the smallest difference in framebuffer coordinate <span class="eq">z</span> values that is
guaranteed to remain distinct throughout polygon rasterization and in the
depth attachment.
All pairs of fragments generated by the rasterization of two polygons with
otherwise identical vertices, but <span class="eq"><code>z</code><sub>f</sub></span> values that differ by
<span class="eq">r</span>, will have distinct depth values.</p>
</div>
<div class="paragraph">
<p>For fixed-point depth attachment representations,
or in a pipeline with a depth bias representation of
<code>VK_DEPTH_BIAS_REPRESENTATION_LEAST_REPRESENTABLE_VALUE_FORCE_UNORM_EXT</code>,
<span class="eq">r</span> is constant throughout the range of the entire depth attachment.
If <code>VkDepthBiasRepresentationInfoEXT</code>::<code>depthBiasExact</code> is
<code>VK_TRUE</code>, then its value <strong class="purple">must</strong> be</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">r = 2<sup>-n</sup></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Otherwise its value is implementation-dependent but <strong class="purple">must</strong> be at most</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">r = 2 × 2<sup>-n</sup></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">n</span> is the number of bits used for the depth
aspect when using a fixed-point attachment, or the number of mantissa bits
plus one when using a floating-point attachment.</p>
</div>
<div class="paragraph">
<p>Otherwise for
floating-point depth attachment, there is no single minimum resolvable
difference.
In this case, the minimum resolvable difference for a given polygon is
dependent on the maximum exponent, <span class="eq">e</span>, in the range of <span class="eq">z</span> values
spanned by the primitive.
If <span class="eq">n</span> is the number of bits in the floating-point mantissa, the minimum
resolvable difference, <span class="eq">r</span>, for the given primitive is defined as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">r = 2<sup>e-n</sup></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If a triangle is rasterized using the
<code>VK_POLYGON_MODE_FILL_RECTANGLE_NV</code> polygon mode, then this minimum
resolvable difference <strong class="purple">may</strong> not be resolvable for samples outside of the
triangle, where the depth is extrapolated.</p>
</div>
<div class="paragraph">
<p>If no depth attachment is present, <span class="eq">r</span> is undefined.</p>
</div>
<div class="paragraph">
<p>The bias value <span class="eq">o</span> for a polygon is</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.119999999999999em;vertical-align:-2.8099999999999996em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.3099999999999996em;"><span style="top:-6.88em;"><span class="pstrut" style="height:4.41em;"></span><span class="mord"><span class="mord mathdefault">o</span></span></span><span style="top:-3.8100000000000005em;"><span class="pstrut" style="height:4.41em;"></span><span class="mord"><span class="mord text"><span class="mord">where</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.8099999999999996em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.3099999999999996em;"><span style="top:-6.88em;"><span class="pstrut" style="height:4.41em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span><span class="mord mathrm">b</span><span class="mord mathrm">c</span><span class="mord mathrm">l</span><span class="mord mathrm">a</span><span class="mord mathrm">m</span><span class="mord mathrm">p</span></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathtt">d</span><span class="mord mathtt">e</span><span class="mord mathtt">p</span><span class="mord mathtt">t</span><span class="mord mathtt">h</span><span class="mord mathtt">B</span><span class="mord mathtt">i</span><span class="mord mathtt">a</span><span class="mord mathtt">s</span><span class="mord mathtt">S</span><span class="mord mathtt">l</span><span class="mord mathtt">o</span><span class="mord mathtt">p</span><span class="mord mathtt">e</span><span class="mord mathtt">F</span><span class="mord mathtt">a</span><span class="mord mathtt">c</span><span class="mord mathtt">t</span><span class="mord mathtt">o</span><span class="mord mathtt">r</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathtt">d</span><span class="mord mathtt">e</span><span class="mord mathtt">p</span><span class="mord mathtt">t</span><span class="mord mathtt">h</span><span class="mord mathtt">B</span><span class="mord mathtt">i</span><span class="mord mathtt">a</span><span class="mord mathtt">s</span><span class="mord mathtt">C</span><span class="mord mathtt">o</span><span class="mord mathtt">n</span><span class="mord mathtt">s</span><span class="mord mathtt">t</span><span class="mord mathtt">a</span><span class="mord mathtt">n</span><span class="mord mathtt">t</span><span class="mord mathtt">F</span><span class="mord mathtt">a</span><span class="mord mathtt">c</span><span class="mord mathtt">t</span><span class="mord mathtt">o</span><span class="mord mathtt">r</span></span><span class="mclose">)</span></span></span><span style="top:-3.8100000000000005em;"><span class="pstrut" style="height:4.41em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord mathrm">d</span><span class="mord mathrm">b</span><span class="mord mathrm">c</span><span class="mord mathrm">l</span><span class="mord mathrm">a</span><span class="mord mathrm">m</span><span class="mord mathrm">p</span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35002em;"><span style="top:-2.19999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.19499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.2950099999999996em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.60002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.8500199999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault">x</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mop">min</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathtt">d</span><span class="mord mathtt">e</span><span class="mord mathtt">p</span><span class="mord mathtt">t</span><span class="mord mathtt">h</span><span class="mord mathtt">B</span><span class="mord mathtt">i</span><span class="mord mathtt">a</span><span class="mord mathtt">s</span><span class="mord mathtt">C</span><span class="mord mathtt">l</span><span class="mord mathtt">a</span><span class="mord mathtt">m</span><span class="mord mathtt">p</span></span><span class="mclose">)</span></span></span><span style="top:-1.5300000000000002em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mop">max</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathtt">d</span><span class="mord mathtt">e</span><span class="mord mathtt">p</span><span class="mord mathtt">t</span><span class="mord mathtt">h</span><span class="mord mathtt">B</span><span class="mord mathtt">i</span><span class="mord mathtt">a</span><span class="mord mathtt">s</span><span class="mord mathtt">C</span><span class="mord mathtt">l</span><span class="mord mathtt">a</span><span class="mord mathtt">m</span><span class="mord mathtt">p</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.9099999999999997em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathtt">d</span><span class="mord mathtt">e</span><span class="mord mathtt">p</span><span class="mord mathtt">t</span><span class="mord mathtt">h</span><span class="mord mathtt">B</span><span class="mord mathtt">i</span><span class="mord mathtt">a</span><span class="mord mathtt">s</span><span class="mord mathtt">C</span><span class="mord mathtt">l</span><span class="mord mathtt">a</span><span class="mord mathtt">m</span><span class="mord mathtt">p</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mspace">&nbsp;</span><span class="mord text"><span class="mord">or</span></span><span class="mspace">&nbsp;</span><span class="mord text"><span class="mord texttt">NaN</span></span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathtt">d</span><span class="mord mathtt">e</span><span class="mord mathtt">p</span><span class="mord mathtt">t</span><span class="mord mathtt">h</span><span class="mord mathtt">B</span><span class="mord mathtt">i</span><span class="mord mathtt">a</span><span class="mord mathtt">s</span><span class="mord mathtt">C</span><span class="mord mathtt">l</span><span class="mord mathtt">a</span><span class="mord mathtt">m</span><span class="mord mathtt">p</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-1.5300000000000002em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathtt">d</span><span class="mord mathtt">e</span><span class="mord mathtt">p</span><span class="mord mathtt">t</span><span class="mord mathtt">h</span><span class="mord mathtt">B</span><span class="mord mathtt">i</span><span class="mord mathtt">a</span><span class="mord mathtt">s</span><span class="mord mathtt">C</span><span class="mord mathtt">l</span><span class="mord mathtt">a</span><span class="mord mathtt">m</span><span class="mord mathtt">p</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.9099999999999997em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.8099999999999996em;"><span></span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p><span class="eq">m</span> is computed as described above.
If the depth attachment uses a fixed-point representation, <span class="eq">m</span> is a
function of depth values in the range <span class="eq">[0,1]</span>, and <span class="eq">o</span> is applied to
depth values in the same range.</p>
</div>
<div class="paragraph">
<p>Depth bias is applied to triangle topology primitives received by the
rasterizer regardless of <a href="chap28.html#primsrast-polygonmode">polygon mode</a>.
Depth bias <strong class="purple">may</strong> also be applied to line and point topology primitives
received by the rasterizer.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the depth bias parameters,
call:</p>
</div>
<div id="vkCmdSetDepthBias" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="kt">void</span> <span class="nf">vkCmdSetDepthBias</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="kt">float</span>                                       <span class="n">depthBiasConstantFactor</span><span class="p">,</span>
    <span class="kt">float</span>                                       <span class="n">depthBiasClamp</span><span class="p">,</span>
    <span class="kt">float</span>                                       <span class="n">depthBiasSlopeFactor</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>depthBiasConstantFactor</code> is a scalar factor controlling the
constant depth value added to each fragment.</p>
</li>
<li>
<p><code>depthBiasClamp</code> is the maximum (or minimum) depth bias of a
fragment.</p>
</li>
<li>
<p><code>depthBiasSlopeFactor</code> is a scalar factor applied to a fragment’s
slope in depth bias calculations.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the depth bias parameters for subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with <code>VK_DYNAMIC_STATE_DEPTH_BIAS</code>
set in <a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the corresponding
<a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>depthBiasConstantFactor</code>,
<code>depthBiasClamp</code>, and <code>depthBiasSlopeFactor</code> values used to create
the currently active pipeline.</p>
</div>
<div class="paragraph">
<p>Calling this function is equivalent to calling <code>vkCmdSetDepthBias2EXT</code>
without a <code>VkDepthBiasRepresentationInfoEXT</code> in the pNext chain of
<code>VkDepthBiasInfoEXT</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBias-depthBiasClamp-00790" href="chap28.html#VUID-vkCmdSetDepthBias-depthBiasClamp-00790"></a> <span class="vuid">VUID-vkCmdSetDepthBias-depthBiasClamp-00790</span><br>

If the <a href="chap46.html#features-depthBiasClamp"><code>depthBiasClamp</code></a> feature is not
enabled, <code>depthBiasClamp</code> <strong class="purple">must</strong> be <code>0.0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBias-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetDepthBias-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetDepthBias-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBias-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetDepthBias-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetDepthBias-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBias-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetDepthBias-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetDepthBias-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBias-videocoding" href="chap28.html#VUID-vkCmdSetDepthBias-videocoding"></a> <span class="vuid">VUID-vkCmdSetDepthBias-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDepthBiasRepresentationInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkDepthBiasRepresentationInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_depth_bias_control</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDepthBiasRepresentationInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                 <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                     <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkDepthBiasRepresentationEXT</span>    <span class="n">depthBiasRepresentation</span><span class="p">;</span>
    <span class="n">VkBool32</span>                        <span class="n">depthBiasExact</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDepthBiasRepresentationInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>depthBiasRepresentation</code> is a <a href="chap28.html#VkDepthBiasRepresentationEXT">VkDepthBiasRepresentationEXT</a>
value specifying the depth bias representation.</p>
</li>
<li>
<p><code>depthBiasExact</code> specifies that the implementation is not allowed to
scale the depth bias value to ensure a minimum resolvable distance.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDepthBiasRepresentationInfoEXT-leastRepresentableValueForceUnormRepresentation-08947" href="chap28.html#VUID-VkDepthBiasRepresentationInfoEXT-leastRepresentableValueForceUnormRepresentation-08947"></a> <span class="vuid">VUID-VkDepthBiasRepresentationInfoEXT-leastRepresentableValueForceUnormRepresentation-08947</span><br>

If the <a href="chap46.html#features-leastRepresentableValueForceUnormRepresentation"><code>leastRepresentableValueForceUnormRepresentation</code></a> feature is not
enabled, <code>depthBiasRepresentation</code> <strong class="purple">must</strong> not be
<code>VK_DEPTH_BIAS_REPRESENTATION_LEAST_REPRESENTABLE_VALUE_FORCE_UNORM_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDepthBiasRepresentationInfoEXT-floatRepresentation-08948" href="chap28.html#VUID-VkDepthBiasRepresentationInfoEXT-floatRepresentation-08948"></a> <span class="vuid">VUID-VkDepthBiasRepresentationInfoEXT-floatRepresentation-08948</span><br>

If the <a href="chap46.html#features-floatRepresentation"><code>floatRepresentation</code></a>
feature is not enabled, <code>depthBiasRepresentation</code> <strong class="purple">must</strong> not be
<code>VK_DEPTH_BIAS_REPRESENTATION_FLOAT_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDepthBiasRepresentationInfoEXT-depthBiasExact-08949" href="chap28.html#VUID-VkDepthBiasRepresentationInfoEXT-depthBiasExact-08949"></a> <span class="vuid">VUID-VkDepthBiasRepresentationInfoEXT-depthBiasExact-08949</span><br>

If the <a href="chap46.html#features-depthBiasExact"><code>depthBiasExact</code></a> feature is not
enabled, <code>depthBiasExact</code> <strong class="purple">must</strong> be <code>VK_FALSE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDepthBiasRepresentationInfoEXT-sType-sType" href="chap28.html#VUID-VkDepthBiasRepresentationInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkDepthBiasRepresentationInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DEPTH_BIAS_REPRESENTATION_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDepthBiasRepresentationInfoEXT-depthBiasRepresentation-parameter" href="chap28.html#VUID-VkDepthBiasRepresentationInfoEXT-depthBiasRepresentation-parameter"></a> <span class="vuid">VUID-VkDepthBiasRepresentationInfoEXT-depthBiasRepresentation-parameter</span><br>
 <code>depthBiasRepresentation</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkDepthBiasRepresentationEXT">VkDepthBiasRepresentationEXT</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="chap28.html#VkDepthBiasRepresentationInfoEXT">VkDepthBiasRepresentationInfoEXT</a>::<code>depthBiasRepresentation</code>,
specifying the depth bias representation are:</p>
</div>
<div id="VkDepthBiasRepresentationEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_depth_bias_control</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkDepthBiasRepresentationEXT</span> <span class="p">{</span>
    <span class="n">VK_DEPTH_BIAS_REPRESENTATION_LEAST_REPRESENTABLE_VALUE_FORMAT_EXT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_DEPTH_BIAS_REPRESENTATION_LEAST_REPRESENTABLE_VALUE_FORCE_UNORM_EXT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_DEPTH_BIAS_REPRESENTATION_FLOAT_EXT</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkDepthBiasRepresentationEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEPTH_BIAS_REPRESENTATION_LEAST_REPRESENTABLE_VALUE_FORMAT_EXT</code>
specifies that the depth bias representation is a factor of the format’s
<span class="eq">r</span> as described in <a href="chap28.html#primsrast-depthbias-computation">Depth Bias Computation</a>.</p>
</li>
<li>
<p><code>VK_DEPTH_BIAS_REPRESENTATION_LEAST_REPRESENTABLE_VALUE_FORCE_UNORM_EXT</code>
specifies that the depth bias representation is a factor of a constant
<span class="eq">r</span> defined by the bit-size or mantissa of the format as described
in <a href="chap28.html#primsrast-depthbias-computation">Depth Bias Computation</a>.</p>
</li>
<li>
<p><code>VK_DEPTH_BIAS_REPRESENTATION_FLOAT_EXT</code> specifies that the depth
bias representation is a factor of constant <span class="eq">r</span> equal to 1.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkDepthBiasInfoEXT</code> structure is defined as:</p>
</div>
<div id="VkDepthBiasInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_depth_bias_control</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkDepthBiasInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>        <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">float</span>              <span class="n">depthBiasConstantFactor</span><span class="p">;</span>
    <span class="kt">float</span>              <span class="n">depthBiasClamp</span><span class="p">;</span>
    <span class="kt">float</span>              <span class="n">depthBiasSlopeFactor</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkDepthBiasInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>depthBiasConstantFactor</code> is a scalar factor controlling the
constant depth value added to each fragment.</p>
</li>
<li>
<p><code>depthBiasClamp</code> is the maximum (or minimum) depth bias of a
fragment.</p>
</li>
<li>
<p><code>depthBiasSlopeFactor</code> is a scalar factor applied to a fragment’s
slope in depth bias calculations.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>pNext</code> does not contain a <a href="chap28.html#VkDepthBiasRepresentationInfoEXT">VkDepthBiasRepresentationInfoEXT</a>
structure, then this command is equivalent to including a
<a href="chap28.html#VkDepthBiasRepresentationInfoEXT">VkDepthBiasRepresentationInfoEXT</a> with <code>depthBiasExact</code> set to
<code>VK_FALSE</code> and <code>depthBiasRepresentation</code> set to
<code>VK_DEPTH_BIAS_REPRESENTATION_LEAST_REPRESENTABLE_VALUE_FORMAT_EXT</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDepthBiasInfoEXT-depthBiasClamp-08950" href="chap28.html#VUID-VkDepthBiasInfoEXT-depthBiasClamp-08950"></a> <span class="vuid">VUID-VkDepthBiasInfoEXT-depthBiasClamp-08950</span><br>

If the <a href="chap46.html#features-depthBiasClamp"><code>depthBiasClamp</code></a> feature is not
enabled, <code>depthBiasClamp</code> <strong class="purple">must</strong> be <code>0.0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkDepthBiasInfoEXT-sType-sType" href="chap28.html#VUID-VkDepthBiasInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkDepthBiasInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_DEPTH_BIAS_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkDepthBiasInfoEXT-pNext-pNext" href="chap28.html#VUID-VkDepthBiasInfoEXT-pNext-pNext"></a> <span class="vuid">VUID-VkDepthBiasInfoEXT-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="chap28.html#VkDepthBiasRepresentationInfoEXT">VkDepthBiasRepresentationInfoEXT</a></p>
</li>
<li>
<p><a id="VUID-VkDepthBiasInfoEXT-sType-unique" href="chap28.html#VUID-VkDepthBiasInfoEXT-sType-unique"></a> <span class="vuid">VUID-VkDepthBiasInfoEXT-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the depth bias parameters,
call:</p>
</div>
<div id="vkCmdSetDepthBias2EXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_depth_bias_control</span>
<span class="kt">void</span> <span class="nf">vkCmdSetDepthBias2EXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkDepthBiasInfoEXT</span><span class="o">*</span>                   <span class="n">pDepthBiasInfo</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>pDepthBiasInfo</code> is a pointer to a <a href="chap28.html#VkDepthBiasInfoEXT">VkDepthBiasInfoEXT</a>
structure specifying depth bias parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command is functionally identical to <a href="chap28.html#vkCmdSetDepthBias">vkCmdSetDepthBias</a>, but
includes extensible sub-structures that include <code>sType</code> and <code>pNext</code>
parameters, allowing them to be more easily extended.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetDepthBias2EXT-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetDepthBias2EXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetDepthBias2EXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBias2EXT-pDepthBiasInfo-parameter" href="chap28.html#VUID-vkCmdSetDepthBias2EXT-pDepthBiasInfo-parameter"></a> <span class="vuid">VUID-vkCmdSetDepthBias2EXT-pDepthBiasInfo-parameter</span><br>
 <code>pDepthBiasInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap28.html#VkDepthBiasInfoEXT">VkDepthBiasInfoEXT</a> structure</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBias2EXT-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetDepthBias2EXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetDepthBias2EXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBias2EXT-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetDepthBias2EXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetDepthBias2EXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetDepthBias2EXT-videocoding" href="chap28.html#VUID-vkCmdSetDepthBias2EXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetDepthBias2EXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="primsrast-conservativeraster"><a class="anchor" href="chap28.html#primsrast-conservativeraster"></a>28.12.4. Conservative Rasterization</h4>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <code>pNext</code> chain of <a href="chap28.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>
includes a <code>VkPipelineRasterizationConservativeStateCreateInfoEXT</code>
structure, then that structure includes parameters controlling conservative
rasterization.</p>
</div>
<div class="paragraph">
<p><code>VkPipelineRasterizationConservativeStateCreateInfoEXT</code> is defined as:</p>
</div>
<div id="VkPipelineRasterizationConservativeStateCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_conservative_rasterization</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPipelineRasterizationConservativeStateCreateInfoEXT</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                                           <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                                               <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkPipelineRasterizationConservativeStateCreateFlagsEXT</span>    <span class="n">flags</span><span class="p">;</span>
    <span class="n">VkConservativeRasterizationModeEXT</span>                        <span class="n">conservativeRasterizationMode</span><span class="p">;</span>
    <span class="kt">float</span>                                                     <span class="n">extraPrimitiveOverestimationSize</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPipelineRasterizationConservativeStateCreateInfoEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is a <a href="chap3.html#VkStructureType">VkStructureType</a> value identifying this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>conservativeRasterizationMode</code> is the conservative rasterization
mode to use.</p>
</li>
<li>
<p><code>extraPrimitiveOverestimationSize</code> is the extra size in pixels to
increase the generating primitive during conservative rasterization at
each of its edges in <code>X</code> and <code>Y</code> equally in screen space beyond the base
overestimation specified in
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>primitiveOverestimationSize</code>.
If <code>conservativeRasterizationMode</code> is not
<code>VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT</code>, this value is
ignored.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this structure is not included in the <code>pNext</code> chain,
<code>conservativeRasterizationMode</code> is considered to be
<code>VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT</code>, and and conservative
rasterization is disabled.</p>
</div>
<div class="paragraph">
<p>Polygon rasterization <strong class="purple">can</strong> be made conservative by setting
<code>conservativeRasterizationMode</code> to
<code>VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT</code> or
<code>VK_CONSERVATIVE_RASTERIZATION_MODE_UNDERESTIMATE_EXT</code> in
<code>VkPipelineRasterizationConservativeStateCreateInfoEXT</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>If <a href="chap47.html#limits-conservativePointAndLineRasterization"><code>conservativePointAndLineRasterization</code></a> is supported, conservative
rasterization can be applied to line and point primitives, otherwise it must
be disabled.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-extraPrimitiveOverestimationSize-01769" href="chap28.html#VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-extraPrimitiveOverestimationSize-01769"></a> <span class="vuid">VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-extraPrimitiveOverestimationSize-01769</span><br>

<code>extraPrimitiveOverestimationSize</code> <strong class="purple">must</strong> be in the range of <code>0.0</code> to
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>maxExtraPrimitiveOverestimationSize</code>
inclusive</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-sType-sType" href="chap28.html#VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_CONSERVATIVE_STATE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-flags-zerobitmask" href="chap28.html#VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-flags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-conservativeRasterizationMode-parameter" href="chap28.html#VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-conservativeRasterizationMode-parameter"></a> <span class="vuid">VUID-VkPipelineRasterizationConservativeStateCreateInfoEXT-conservativeRasterizationMode-parameter</span><br>
 <code>conservativeRasterizationMode</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkConservativeRasterizationModeEXT">VkConservativeRasterizationModeEXT</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineRasterizationConservativeStateCreateFlagsEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_conservative_rasterization</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkPipelineRasterizationConservativeStateCreateFlagsEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineRasterizationConservativeStateCreateFlagsEXT</code> is a bitmask
type for setting a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="chap28.html#VkPipelineRasterizationConservativeStateCreateInfoEXT">VkPipelineRasterizationConservativeStateCreateInfoEXT</a>::<code>conservativeRasterizationMode</code>,
specifying the conservative rasterization mode are:</p>
</div>
<div id="VkConservativeRasterizationModeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_conservative_rasterization</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkConservativeRasterizationModeEXT</span> <span class="p">{</span>
    <span class="n">VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">VK_CONSERVATIVE_RASTERIZATION_MODE_UNDERESTIMATE_EXT</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkConservativeRasterizationModeEXT</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT</code> specifies that
conservative rasterization is disabled and rasterization proceeds as
normal.</p>
</li>
<li>
<p><code>VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT</code> specifies that
conservative rasterization is enabled in overestimation mode.</p>
</li>
<li>
<p><code>VK_CONSERVATIVE_RASTERIZATION_MODE_UNDERESTIMATE_EXT</code> specifies
that conservative rasterization is enabled in underestimation mode.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the
<code>conservativeRasterizationMode</code>, call:</p>
</div>
<div id="vkCmdSetConservativeRasterizationModeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state3, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetConservativeRasterizationModeEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="n">VkConservativeRasterizationModeEXT</span>          <span class="n">conservativeRasterizationMode</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>conservativeRasterizationMode</code> specifies the
<code>conservativeRasterizationMode</code> state.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the <code>conservativeRasterizationMode</code> state for
subsequent drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationConservativeStateCreateInfoEXT">VkPipelineRasterizationConservativeStateCreateInfoEXT</a>::<code>conservativeRasterizationMode</code>
value used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetConservativeRasterizationModeEXT-None-08570" href="chap28.html#VUID-vkCmdSetConservativeRasterizationModeEXT-None-08570"></a> <span class="vuid">VUID-vkCmdSetConservativeRasterizationModeEXT-None-08570</span><br>

Either the
<a href="chap46.html#features-extendedDynamicState3ConservativeRasterizationMode"><code>extendedDynamicState3ConservativeRasterizationMode</code></a> feature or
the <a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature or both <strong class="purple">must</strong>
be enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetConservativeRasterizationModeEXT-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetConservativeRasterizationModeEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetConservativeRasterizationModeEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetConservativeRasterizationModeEXT-conservativeRasterizationMode-parameter" href="chap28.html#VUID-vkCmdSetConservativeRasterizationModeEXT-conservativeRasterizationMode-parameter"></a> <span class="vuid">VUID-vkCmdSetConservativeRasterizationModeEXT-conservativeRasterizationMode-parameter</span><br>
 <code>conservativeRasterizationMode</code> <strong class="purple">must</strong> be a valid <a href="chap28.html#VkConservativeRasterizationModeEXT">VkConservativeRasterizationModeEXT</a> value</p>
</li>
<li>
<p><a id="VUID-vkCmdSetConservativeRasterizationModeEXT-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetConservativeRasterizationModeEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetConservativeRasterizationModeEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetConservativeRasterizationModeEXT-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetConservativeRasterizationModeEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetConservativeRasterizationModeEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetConservativeRasterizationModeEXT-videocoding" href="chap28.html#VUID-vkCmdSetConservativeRasterizationModeEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetConservativeRasterizationModeEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To <a href="chap10.html#pipelines-dynamic-state">dynamically set</a> the
<code>extraPrimitiveOverestimationSize</code>, call:</p>
</div>
<div id="vkCmdSetExtraPrimitiveOverestimationSizeEXT" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_EXT_extended_dynamic_state3, VK_EXT_shader_object</span>
<span class="kt">void</span> <span class="nf">vkCmdSetExtraPrimitiveOverestimationSizeEXT</span><span class="p">(</span>
    <span class="n">VkCommandBuffer</span>                             <span class="n">commandBuffer</span><span class="p">,</span>
    <span class="kt">float</span>                                       <span class="n">extraPrimitiveOverestimationSize</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>extraPrimitiveOverestimationSize</code> specifies the
<code>extraPrimitiveOverestimationSize</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command sets the <code>extraPrimitiveOverestimationSize</code> for subsequent
drawing commands
when drawing using <a href="chap9.html#shaders-objects">shader objects</a>, or
when the graphics pipeline is created with
<code>VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT</code> set in
<a href="chap10.html#VkPipelineDynamicStateCreateInfo">VkPipelineDynamicStateCreateInfo</a>::<code>pDynamicStates</code>.
Otherwise, this state is specified by the
<a href="chap28.html#VkPipelineRasterizationConservativeStateCreateInfoEXT">VkPipelineRasterizationConservativeStateCreateInfoEXT</a>::<code>extraPrimitiveOverestimationSize</code>
value used to create the currently active pipeline.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-None-08572" href="chap28.html#VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-None-08572"></a> <span class="vuid">VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-None-08572</span><br>

Either the
<a href="chap46.html#features-extendedDynamicState3ExtraPrimitiveOverestimationSize"><code>extendedDynamicState3ExtraPrimitiveOverestimationSize</code></a> feature or
the <a href="chap46.html#features-shaderObject"><code>shaderObject</code></a> feature or both <strong class="purple">must</strong>
be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-extraPrimitiveOverestimationSize-07428" href="chap28.html#VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-extraPrimitiveOverestimationSize-07428"></a> <span class="vuid">VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-extraPrimitiveOverestimationSize-07428</span><br>

<code>extraPrimitiveOverestimationSize</code> <strong class="purple">must</strong> be in the range of <code>0.0</code> to
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>maxExtraPrimitiveOverestimationSize</code>
inclusive</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-commandBuffer-parameter" href="chap28.html#VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-commandBuffer-recording" href="chap28.html#VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-commandBuffer-cmdpool" href="chap28.html#VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-videocoding" href="chap28.html#VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-videocoding"></a> <span class="vuid">VUID-vkCmdSetExtraPrimitiveOverestimationSizeEXT-videocoding</span><br>
 This command <strong class="purple">must</strong> only be called outside of a video coding scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap42.html#vkCmdBeginVideoCodingKHR">Video Coding Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
<th class="tableblock halign-left valign-top"><a href="chap3.html#fundamentals-queueoperation-command-types">Command Type</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>When overestimate conservative rasterization is enabled, rather than
evaluating coverage at individual sample locations, a determination is made
whether any portion of the pixel (including its edges and corners) is
covered by the primitive.
If any portion of the pixel is covered, then all bits of the
<a href="chap28.html#primsrast-multisampling-coverage-mask">coverage mask</a> for the fragment
corresponding to that pixel are enabled.
If the render pass has a fragment density map attachment and any bit of the
<a href="chap28.html#primsrast-multisampling-coverage-mask">coverage mask</a> for the fragment is
enabled, then all bits of the <a href="chap28.html#primsrast-multisampling-coverage-mask">coverage mask</a> for the fragment are enabled.</p>
</div>
<div class="paragraph">
<p>For the purposes of evaluating which pixels are covered by the primitive,
implementations <strong class="purple">can</strong> increase the size of the primitive by up to
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>primitiveOverestimationSize</code>
pixels at each of the primitive edges.
This <strong class="purple">may</strong> increase the number of fragments generated by this primitive and
represents an overestimation of the pixel coverage.</p>
</div>
<div class="paragraph">
<p>This overestimation size can be increased further by setting the
<code>extraPrimitiveOverestimationSize</code> value above <code>0.0</code> in steps of
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>extraPrimitiveOverestimationSizeGranularity</code>
up to and including
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>extraPrimitiveOverestimationSize</code>.
This <strong class="purple">may</strong> further increase the number of fragments generated by this
primitive.</p>
</div>
<div class="paragraph">
<p>The actual precision of the overestimation size used for conservative
rasterization <strong class="purple">may</strong> vary between implementations and produce results that
only approximate the <code>primitiveOverestimationSize</code> and
<code>extraPrimitiveOverestimationSizeGranularity</code> properties.
Implementations <strong class="purple">may</strong> especially vary these approximations when the render
pass has a fragment density map and the fragment area covers multiple
pixels.</p>
</div>
<div class="paragraph">
<p>For triangles if <code>VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT</code>
is enabled, fragments will be generated if the primitive area covers any
portion of any pixel inside the fragment area, including their edges or
corners.
The tie-breaking rule described in <a href="chap28.html#primsrast-polygons-basic">Basic Polygon
Rasterization</a> does not apply during conservative rasterization and
coverage is set for all fragments generated from shared edges of polygons.
Degenerate triangles that evaluate to zero area after rasterization, even
for pixels containing a vertex or edge of the zero-area polygon, will be
culled if
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>degenerateTrianglesRasterized</code>
is <code>VK_FALSE</code> or will generate fragments if
<code>degenerateTrianglesRasterized</code> is <code>VK_TRUE</code>.
The fragment input values for these degenerate triangles take their
attribute and depth values from the provoking vertex.
Degenerate triangles are considered backfacing and the application <strong class="purple">can</strong>
enable backface culling if desired.
Triangles that are zero area before rasterization <strong class="purple">may</strong> be culled regardless.</p>
</div>
<div class="paragraph">
<p>For lines if <code>VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT</code> is
enabled, and the implementation sets
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>conservativePointAndLineRasterization</code>
to <code>VK_TRUE</code>, fragments will be generated if the line covers any portion
of any pixel inside the fragment area, including their edges or corners.
Degenerate lines that evaluate to zero length after rasterization will be
culled if
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>degenerateLinesRasterized</code>
is <code>VK_FALSE</code> or will generate fragments if
<code>degenerateLinesRasterized</code> is <code>VK_TRUE</code>.
The fragments input values for these degenerate lines take their attribute
and depth values from the provoking vertex.
Lines that are zero length before rasterization <strong class="purple">may</strong> be culled regardless.</p>
</div>
<div class="paragraph">
<p>For points if <code>VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT</code> is
enabled, and the implementation sets
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>conservativePointAndLineRasterization</code>
to <code>VK_TRUE</code>, fragments will be generated if the point square covers any
portion of any pixel inside the fragment area, including their edges or
corners.</p>
</div>
<div class="paragraph">
<p>When underestimate conservative rasterization is enabled, rather than
evaluating coverage at individual sample locations, a determination is made
whether all of the pixel (including its edges and corners) is covered by the
primitive.
If the entire pixel is covered, then a fragment is generated with all bits
of its <a href="chap28.html#primsrast-multisampling-coverage-mask">coverage mask</a>
corresponding to the pixel enabled, otherwise the pixel is not considered
covered even if some portion of the pixel is covered.
The fragment is discarded if no pixels inside the fragment area are
considered covered.
If the render pass has a fragment density map attachment and any pixel
inside the fragment area is not considered covered, then the fragment is
discarded even if some pixels are considered covered.</p>
</div>
<div class="paragraph">
<p>For triangles, if <code>VK_CONSERVATIVE_RASTERIZATION_MODE_UNDERESTIMATE_EXT</code>
is enabled, fragments will only be generated if any pixel inside the
fragment area is fully covered by the generating primitive, including its
edges and corners.</p>
</div>
<div class="paragraph">
<p>For lines, if <code>VK_CONSERVATIVE_RASTERIZATION_MODE_UNDERESTIMATE_EXT</code> is
enabled, fragments will be generated if any pixel inside the fragment area,
including its edges and corners, are entirely covered by the line.</p>
</div>
<div class="paragraph">
<p>For points, if <code>VK_CONSERVATIVE_RASTERIZATION_MODE_UNDERESTIMATE_EXT</code> is
enabled, fragments will only be generated if the point square covers the
entirety of any pixel square inside the fragment area, including its edges
or corners.</p>
</div>
<div class="paragraph">
<p>If the render pass has a fragment density map and
<code>VK_CONSERVATIVE_RASTERIZATION_MODE_UNDERESTIMATE_EXT</code> is enabled,
fragments will only be generated if the entirety of all pixels inside the
fragment area are covered by the generating primitive, line, or point.</p>
</div>
<div class="paragraph">
<p>For both overestimate and underestimate conservative rasterization modes a
fragment has all of its pixel squares fully covered by the generating
primitive <strong class="purple">must</strong> set <code>FullyCoveredEXT</code> to <code>VK_TRUE</code> if the
implementation enables the
<code>VkPhysicalDeviceConservativeRasterizationPropertiesEXT</code>::<code>fullyCoveredFragmentShaderInputVariable</code>
feature.</p>
</div>
<div class="paragraph">
<p>When
the use of a <a href="chap28.html#primsrast-shading-rate-image">shading rate image</a>
or
setting the <a href="chap28.html#primsrast-fragment-shading-rate">fragment shading rate</a>
results in fragments covering multiple pixels, coverage for conservative
rasterization is still evaluated on a per-pixel basis and may result in
fragments with partial coverage.
For fragment shader inputs decorated with <code>FullyCoveredEXT</code>, a fragment
is considered fully covered if and only if all pixels in the fragment are
fully covered by the generating primitive.</p>
</div>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap27.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap29.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer">
<div id="footer-text">
Version 1.1.263<br>
Last updated 2023-08-25 00:26:25 -0700
</div>
</div>



</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>