<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<meta name="author" content="The Khronos® Vulkan Working Group">
<title>Vulkan® 1.1.183 - A Specification (with all registered Vulkan extensions)</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<link rel="stylesheet" href="style2.css" type="text/css">
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div id="header" style="max-width: 100%;">
<h1>Vulkan<sup>®</sup> 1.1.183 - A Specification (with all registered Vulkan extensions)</h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan Working Group</span><br>
<span id="revnumber">version 1.1.183,</span>
<span id="revdate">2021-06-27 14:19:32Z</span>
<br><span id="revremark">from git branch: github-main commit: 1934d6f0eee2ca4a2794fed548521b11a33343a6</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="chap1.html">1. Preamble</a></li>
<li><a href="chap2.html">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">2.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">3.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">3.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">3.3. Object Model</a></li>
<li><a href="chap3.html#fundamentals-abi">3.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">3.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">3.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-validusage">3.7. Valid Usage</a></li>
<li><a href="chap3.html#fundamentals-returncodes">3.8. <code>VkResult</code> Return Codes</a></li>
<li><a href="chap3.html#fundamentals-numerics">3.9. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">3.10. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-common-objects">3.11. Common Object Types</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">4.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">4.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">5.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">5.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">5.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">6.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">6.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">6.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">6.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">6.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">6.6. Queue Forward Progress</a></li>
<li><a href="chap6.html#commandbuffers-secondary">6.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap6.html#commandbuffers-devicemask">6.8. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">7.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">7.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">7.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">7.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">7.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">7.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">7.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">7.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">7.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap7.html#synchronization-device-group">7.10. Synchronization and Multiple Physical Devices</a></li>
<li><a href="chap7.html#calibrated-timestamps">7.11. Calibrated timestamps</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#renderpass-creation">8.1. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">8.2. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">8.3. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-commands">8.4. Render Pass Commands</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap9.html#shader-modules">9.1. Shader Modules</a></li>
<li><a href="chap9.html#shaders-execution">9.2. Shader Execution</a></li>
<li><a href="chap9.html#shaders-execution-memory-ordering">9.3. Shader Memory Access Ordering</a></li>
<li><a href="chap9.html#shaders-inputs">9.4. Shader Inputs and Outputs</a></li>
<li><a href="chap9.html#shaders-task">9.5. Task Shaders</a></li>
<li><a href="chap9.html#shaders-mesh">9.6. Mesh Shaders</a></li>
<li><a href="chap9.html#shaders-vertex">9.7. Vertex Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-control">9.8. Tessellation Control Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-evaluation">9.9. Tessellation Evaluation Shaders</a></li>
<li><a href="chap9.html#shaders-geometry">9.10. Geometry Shaders</a></li>
<li><a href="chap9.html#shaders-fragment">9.11. Fragment Shaders</a></li>
<li><a href="chap9.html#shaders-compute">9.12. Compute Shaders</a></li>
<li><a href="chap9.html#shaders-ray-generation">9.13. Ray Generation Shaders</a></li>
<li><a href="chap9.html#shaders-intersection">9.14. Intersection Shaders</a></li>
<li><a href="chap9.html#shaders-any-hit">9.15. Any-Hit Shaders</a></li>
<li><a href="chap9.html#shaders-closest-hit">9.16. Closest Hit Shaders</a></li>
<li><a href="chap9.html#shaders-miss">9.17. Miss Shaders</a></li>
<li><a href="chap9.html#shaders-callable">9.18. Callable Shaders</a></li>
<li><a href="chap9.html#shaders-interpolation-decorations">9.19. Interpolation Decorations</a></li>
<li><a href="chap9.html#shaders-staticuse">9.20. Static Use</a></li>
<li><a href="chap9.html#shaders-scope">9.21. Scope</a></li>
<li><a href="chap9.html#shaders-group-operations">9.22. Group Operations</a></li>
<li><a href="chap9.html#shaders-quad-operations">9.23. Quad Group Operations</a></li>
<li><a href="chap9.html#shaders-derivative-operations">9.24. Derivative Operations</a></li>
<li><a href="chap9.html#shaders-helper-invocations">9.25. Helper Invocations</a></li>
<li><a href="chap9.html#_cooperative_matrices">9.26. Cooperative Matrices</a></li>
<li><a href="chap9.html#shaders-validation-cache">9.27. Validation Cache</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-compute">10.1. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">10.2. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-ray-tracing">10.3. Ray Tracing Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">10.4. Pipeline Destruction</a></li>
<li><a href="chap10.html#pipelines-multiple">10.5. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">10.6. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">10.7. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">10.8. Specialization Constants</a></li>
<li><a href="chap10.html#pipeline-library">10.9. Pipeline Libraries</a></li>
<li><a href="chap10.html#pipelines-binding">10.10. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">10.11. Dynamic State</a></li>
<li><a href="chap10.html#pipelines-shader-information">10.12. Pipeline Shader Information</a></li>
<li><a href="chap10.html#pipelines-compiler-control">10.13. Pipeline Compiler Control</a></li>
<li><a href="chap10.html#pipelines-creation-feedback">10.14. Pipeline Creation Feedback</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">11.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">11.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">12.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">12.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">12.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">12.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">12.5. Image Views</a></li>
<li><a href="chap12.html#resources-acceleration-structures">12.6. Acceleration Structures</a></li>
<li><a href="chap12.html#resources-association">12.7. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">12.8. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">12.9. Memory Aliasing</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap13.html#samplers-YCbCr-conversion">13.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap14.html#descriptorsets-types">14.1. Descriptor Types</a></li>
<li><a href="chap14.html#descriptorsets-sets">14.2. Descriptor Sets</a></li>
<li><a href="chap14.html#descriptorsets-physical-storage-buffer">14.3. Physical Storage Buffer Access</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#interfaces-iointerfaces">15.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap15.html#interfaces-vertexinput">15.2. Vertex Input Interface</a></li>
<li><a href="chap15.html#interfaces-fragmentoutput">15.3. Fragment Output Interface</a></li>
<li><a href="chap15.html#interfaces-inputattachment">15.4. Fragment Input Attachment Interface</a></li>
<li><a href="chap15.html#interfaces-raypipeline">15.5. Ray Tracing Pipeline Interface</a></li>
<li><a href="chap15.html#interfaces-resources">15.6. Shader Resource Interface</a></li>
<li><a href="chap15.html#interfaces-builtin-variables">15.7. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">16.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">16.2. Conversion Formulas</a></li>
<li><a href="chap16.html#_texel_input_operations">16.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">16.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">16.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">16.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">16.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">16.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-footprint">16.9. Texel Footprint Evaluation</a></li>
<li><a href="chap16.html#textures-instructions">16.10. Image Operation Steps</a></li>
<li><a href="chap16.html#textures-queries">16.11. Image Query Instructions</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Fragment Density Map Operations</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_fragment_density_map_operations_overview">17.1. Fragment Density Map Operations Overview</a></li>
<li><a href="chap17.html#fragmentdensitymap-fetch-density-value">17.2. Fetch Density Value</a></li>
<li><a href="chap17.html#fragmentdensitymap-conversion-to-fragment-area">17.3. Fragment Area Conversion</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Queries</a>
<ul class="sectlevel2">
<li><a href="chap18.html#queries-pools">18.1. Query Pools</a></li>
<li><a href="chap18.html#queries-operation">18.2. Query Operation</a></li>
<li><a href="chap18.html#queries-occlusion">18.3. Occlusion Queries</a></li>
<li><a href="chap18.html#queries-pipestats">18.4. Pipeline Statistics Queries</a></li>
<li><a href="chap18.html#queries-timestamps">18.5. Timestamp Queries</a></li>
<li><a href="chap18.html#queries-performance">18.6. Performance Queries</a></li>
<li><a href="chap18.html#queries-transform-feedback">18.7. Transform Feedback Queries</a></li>
<li><a href="chap18.html#queries-performance-intel">18.8. Intel performance queries</a></li>
<li><a href="chap18.html#queries-result-status-only">18.9. Result Status Queries</a></li>
<li><a href="chap18.html#queries-video-encode-bitstream-buffer-range">18.10. Video Encode Bitstream Buffer Range</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#clears-outside">19.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-inside">19.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap19.html#clears-values">19.3. Clear Values</a></li>
<li><a href="chap19.html#clears-filling-buffers">19.4. Filling Buffers</a></li>
<li><a href="chap19.html#clears-updating-buffers">19.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap20.html">20. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#_common_operation">20.1. Common Operation</a></li>
<li><a href="chap20.html#copies-buffers">20.2. Copying Data Between Buffers</a></li>
<li><a href="chap20.html#copies-images">20.3. Copying Data Between Images</a></li>
<li><a href="chap20.html#copies-buffers-images">20.4. Copying Data Between Buffers and Images</a></li>
<li><a href="chap20.html#copies-imagescaling">20.5. Image Copies with Scaling</a></li>
<li><a href="chap20.html#copies-resolve">20.6. Resolving Multisample Images</a></li>
<li><a href="chap20.html#copies-buffer-markers">20.7. Buffer Markers</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap21.html#drawing-primitive-topologies">21.1. Primitive Topologies</a></li>
<li><a href="chap21.html#drawing-primitive-order">21.2. Primitive Order</a></li>
<li><a href="chap21.html#drawing-primitive-shading">21.3. Programmable Primitive Shading</a></li>
<li><a href="chap21.html#drawing-conditional-rendering">21.4. Conditional Rendering</a></li>
<li><a href="chap21.html#drawing-mesh-shading">21.5. Programmable Mesh Shading</a></li>
</ul>
</li>
<li><a href="chap22.html">22. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap22.html#fxvertex-attrib">22.1. Vertex Attributes</a></li>
<li><a href="chap22.html#fxvertex-input">22.2. Vertex Input Description</a></li>
<li><a href="chap22.html#_vertex_attribute_divisor_in_instanced_rendering">22.3. Vertex Attribute Divisor in Instanced Rendering</a></li>
</ul>
</li>
<li><a href="chap23.html">23. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap23.html#_tessellator">23.1. Tessellator</a></li>
<li><a href="chap23.html#_tessellator_patch_discard">23.2. Tessellator Patch Discard</a></li>
<li><a href="chap23.html#tessellation-tessellator-spacing">23.3. Tessellator Spacing</a></li>
<li><a href="chap23.html#tessellation-primitive-order">23.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap23.html#tessellation-vertex-winding-order">23.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap23.html#tessellation-triangle-tessellation">23.6. Triangle Tessellation</a></li>
<li><a href="chap23.html#tessellation-quad-tessellation">23.7. Quad Tessellation</a></li>
<li><a href="chap23.html#tessellation-isoline-tessellation">23.8. Isoline Tessellation</a></li>
<li><a href="chap23.html#tessellation-point-mode">23.9. Tessellation Point Mode</a></li>
<li><a href="chap23.html#_tessellation_pipeline_state">23.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap24.html">24. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap24.html#geometry-input">24.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap24.html#geometry-output">24.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap24.html#geometry-invocations">24.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap24.html#geometry-ordering">24.4. Geometry Shader Primitive Ordering</a></li>
<li><a href="chap24.html#geometry-passthrough">24.5. Geometry Shader Passthrough</a></li>
</ul>
</li>
<li><a href="chap25.html">25. Mesh Shading</a>
<ul class="sectlevel2">
<li><a href="chap25.html#mesh-task-input">25.1. Task Shader Input</a></li>
<li><a href="chap25.html#mesh-task-output">25.2. Task Shader Output</a></li>
<li><a href="chap25.html#mesh-generation">25.3. Mesh Generation</a></li>
<li><a href="chap25.html#mesh-input">25.4. Mesh Shader Input</a></li>
<li><a href="chap25.html#mesh-output">25.5. Mesh Shader Output Primitives</a></li>
<li><a href="chap25.html#mesh-output-perview">25.6. Mesh Shader Per-View Outputs</a></li>
<li><a href="chap25.html#mesh-ordering">25.7. Mesh Shader Primitive Ordering</a></li>
</ul>
</li>
<li class="current"><a href="chap26.html">26. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li class="current"><a href="chap26.html#vertexpostproc-transform-feedback">26.1. Transform Feedback</a></li>
<li class="current"><a href="chap26.html#vertexpostproc-viewport-swizzle">26.2. Viewport Swizzle</a></li>
<li class="current"><a href="chap26.html#vertexpostproc-flatshading">26.3. Flat Shading</a></li>
<li class="current"><a href="chap26.html#vertexpostproc-clipping">26.4. Primitive Clipping</a></li>
<li class="current"><a href="chap26.html#vertexpostproc-clipping-shader-outputs">26.5. Clipping Shader Outputs</a></li>
<li class="current"><a href="chap26.html#vertexpostproc-viewportwscaling">26.6. Controlling Viewport W Scaling</a></li>
<li class="current"><a href="chap26.html#vertexpostproc-coord-transform">26.7. Coordinate Transformations</a></li>
<li class="current"><a href="chap26.html#vertexpostproc-renderpass-transform">26.8. Render Pass Transform</a></li>
<li class="current"><a href="chap26.html#vertexpostproc-viewport">26.9. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap27.html">27. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap27.html#primsrast-discard">27.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap27.html#primsrast-stream">27.2. Controlling the Vertex Stream Used for Rasterization</a></li>
<li><a href="chap27.html#primrast-order">27.3. Rasterization Order</a></li>
<li><a href="chap27.html#primsrast-multisampling">27.4. Multisampling</a></li>
<li><a href="chap27.html#primrast-samplelocations">27.5. Custom Sample Locations</a></li>
<li><a href="chap27.html#primsrast-fragment-shading-rate">27.6. Fragment Shading Rates</a></li>
<li><a href="chap27.html#primsrast-shading-rate-image">27.7. Shading Rate Image</a></li>
<li><a href="chap27.html#primsrast-sampleshading">27.8. Sample Shading</a></li>
<li><a href="chap27.html#primsrast-barycentric">27.9. Barycentric Interpolation</a></li>
<li><a href="chap27.html#primsrast-points">27.10. Points</a></li>
<li><a href="chap27.html#primsrast-lines">27.11. Line Segments</a></li>
<li><a href="chap27.html#primsrast-polygons">27.12. Polygons</a></li>
</ul>
</li>
<li><a href="chap28.html">28. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap28.html#fragops-discard-rectangles">28.1. Discard Rectangles Test</a></li>
<li><a href="chap28.html#fragops-scissor">28.2. Scissor Test</a></li>
<li><a href="chap28.html#fragops-exclusive-scissor">28.3. Exclusive Scissor Test</a></li>
<li><a href="chap28.html#fragops-samplemask">28.4. Sample Mask Test</a></li>
<li><a href="chap28.html#fragops-covg">28.5. Multisample Coverage</a></li>
<li><a href="chap28.html#fragops-ds-state">28.6. Depth and Stencil Operations</a></li>
<li><a href="chap28.html#fragops-dbt">28.7. Depth Bounds Test</a></li>
<li><a href="chap28.html#fragops-stencil">28.8. Stencil Test</a></li>
<li><a href="chap28.html#fragops-depth">28.9. Depth Test</a></li>
<li><a href="chap28.html#fragops-rep-frag-test">28.10. Representative Fragment Test</a></li>
<li><a href="chap28.html#fragops-samplecount">28.11. Sample Counting</a></li>
<li><a href="chap28.html#fragops-coverage-to-color">28.12. Fragment Coverage To Color</a></li>
<li><a href="chap28.html#fragops-coverage-reduction">28.13. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap29.html">29. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap29.html#framebuffer-blending">29.1. Blending</a></li>
<li><a href="chap29.html#framebuffer-logicop">29.2. Logical Operations</a></li>
<li><a href="chap29.html#framebuffer-color-write-mask">29.3. Color Write Mask</a></li>
<li><a href="chap29.html#framebuffer-color-write-enable">29.4. Color Write Enable</a></li>
</ul>
</li>
<li><a href="chap30.html">30. Dispatching Commands</a></li>
<li><a href="chap31.html">31. Device-Generated Commands</a>
<ul class="sectlevel2">
<li><a href="chap31.html#indirectmdslayout">31.1. Indirect Commands Layout</a></li>
<li><a href="chap31.html#_indirect_commands_generation_and_execution">31.2. Indirect Commands Generation And Execution</a></li>
</ul>
</li>
<li><a href="chap32.html">32. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap32.html#sparsememory-sparseresourcefeatures">32.1. Sparse Resource Features</a></li>
<li><a href="chap32.html#sparsememory-fully-resident">32.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap32.html#sparsememory-partially-resident-buffers">32.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap32.html#sparsememory-partially-resident-images">32.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap32.html#sparsememory-sparse-memory-aliasing">32.5. Sparse Memory Aliasing</a></li>
<li><a href="chap32.html#_sparse_resource_implementation_guidelines_informative">32.6. Sparse Resource Implementation Guidelines (Informative)</a></li>
<li><a href="chap32.html#sparsememory-resourceapi">32.7. Sparse Resource API</a></li>
</ul>
</li>
<li><a href="chap33.html">33. Window System Integration (WSI)</a>
<ul class="sectlevel2">
<li><a href="chap33.html#_wsi_platform">33.1. WSI Platform</a></li>
<li><a href="chap33.html#_wsi_surface">33.2. WSI Surface</a></li>
<li><a href="chap33.html#display">33.3. Presenting Directly to Display Devices</a></li>
<li><a href="chap33.html#_querying_for_wsi_support">33.4. Querying for WSI Support</a></li>
<li><a href="chap33.html#_surface_queries">33.5. Surface Queries</a></li>
<li><a href="chap33.html#_full_screen_exclusive_control">33.6. Full Screen Exclusive Control</a></li>
<li><a href="chap33.html#_device_group_queries">33.7. Device Group Queries</a></li>
<li><a href="chap33.html#_display_timing_queries">33.8. Display Timing Queries</a></li>
<li><a href="chap33.html#_wsi_swapchain">33.9. WSI Swapchain</a></li>
<li><a href="chap33.html#_hdr_metadata">33.10. Hdr Metadata</a></li>
</ul>
</li>
<li><a href="chap34.html">34. Deferred Host Operations</a>
<ul class="sectlevel2">
<li><a href="chap34.html#deferred-host-operations-requesting">34.1. Requesting Deferral</a></li>
<li><a href="chap34.html#_deferred_host_operations_api">34.2. Deferred Host Operations API</a></li>
</ul>
</li>
<li><a href="chap35.html">35. Private Data</a></li>
<li><a href="chap36.html">36. Acceleration Structures</a>
<ul class="sectlevel2">
<li><a href="chap36.html#acceleration-structure-def">36.1. Acceleration Structures</a></li>
<li><a href="chap36.html#host-acceleration-structure">36.2. Host Acceleration Structure Operations</a></li>
</ul>
</li>
<li><a href="chap37.html">37. Ray Traversal</a>
<ul class="sectlevel2">
<li><a href="chap37.html#ray-intersection-candidate-determination">37.1. Ray Intersection Candidate Determination</a></li>
<li><a href="chap37.html#ray-intersection-culling">37.2. Ray Intersection Culling</a></li>
<li><a href="chap37.html#ray-intersection-confirmation">37.3. Ray Intersection Confirmation</a></li>
<li><a href="chap37.html#ray-closest-hit-determination">37.4. Ray Closest Hit Determination</a></li>
<li><a href="chap37.html#ray-result-determination">37.5. Ray Result Determination</a></li>
</ul>
</li>
<li><a href="chap38.html">38. Ray Tracing</a>
<ul class="sectlevel2">
<li><a href="chap38.html#ray-tracing-shader-call">38.1. Shader Call Instructions</a></li>
<li><a href="chap38.html#ray-tracing-commands">38.2. Ray Tracing Commands</a></li>
<li><a href="chap38.html#shader-binding-table">38.3. Shader Binding Table</a></li>
<li><a href="chap38.html#ray-tracing-pipeline-stack">38.4. Ray Tracing Pipeline Stack</a></li>
</ul>
</li>
<li><a href="chap39.html">39. Video Decode and Encode Operations</a>
<ul class="sectlevel2">
<li><a href="chap39.html#_technical_terminology_and_semantics">39.1. Technical Terminology and Semantics</a></li>
<li><a href="chap39.html#_introduction">39.2. Introduction</a></li>
<li><a href="chap39.html#video-physical-device-capabilities">39.3. Video Physical Device Capabilities</a></li>
<li><a href="chap39.html#video-session-objects">39.4. Video Session Objects</a></li>
<li><a href="chap39.html#video-decode-operations">39.5. Video Decode Operations</a></li>
<li><a href="chap39.html#decode-h264">39.6. Video Decode of AVC (ITU-T H.264)</a></li>
<li><a href="chap39.html#decode-h265">39.7. Video Decode of HEVC (ITU-T H.265)</a></li>
<li><a href="chap39.html#video-encode-operations">39.8. Video Encode Operations</a></li>
<li><a href="chap39.html#encode-h264">39.9. Encode H.264</a></li>
</ul>
</li>
<li><a href="chap40.html">40. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap40.html#extendingvulkan-instanceanddevicefunctionality">40.1. Instance and Device Functionality</a></li>
<li><a href="chap40.html#extendingvulkan-coreversions">40.2. Core Versions</a></li>
<li><a href="chap40.html#extendingvulkan-layers">40.3. Layers</a></li>
<li><a href="chap40.html#extendingvulkan-extensions">40.4. Extensions</a></li>
<li><a href="chap40.html#extendingvulkan-extensions-extensiondependencies">40.5. Extension Dependencies</a></li>
<li><a href="chap40.html#_compatibility_guarantees_informative">40.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap41.html">41. Features</a>
<ul class="sectlevel2">
<li><a href="chap41.html#features-requirements">41.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="chap42.html">42. Limits</a>
<ul class="sectlevel2">
<li><a href="chap42.html#limits-minmax">42.1. Limit Requirements</a></li>
<li><a href="chap42.html#limits-multisample">42.2. Additional Multisampling Capabilities</a></li>
</ul>
</li>
<li><a href="chap43.html">43. Formats</a>
<ul class="sectlevel2">
<li><a href="chap43.html#formats-definition">43.1. Format Definition</a></li>
<li><a href="chap43.html#formats-properties">43.2. Format Properties</a></li>
<li><a href="chap43.html#features-required-format-support">43.3. Required Format Support</a></li>
</ul>
</li>
<li><a href="chap44.html">44. Additional Capabilities</a>
<ul class="sectlevel2">
<li><a href="chap44.html#capabilities-image">44.1. Additional Image Capabilities</a></li>
<li><a href="chap44.html#capabilities-buffer">44.2. Additional Buffer Capabilities</a></li>
<li><a href="chap44.html#capabilities-semaphore">44.3. Optional Semaphore Capabilities</a></li>
<li><a href="chap44.html#capabilities-fence">44.4. Optional Fence Capabilities</a></li>
<li><a href="chap44.html#features-timestamp-calibration">44.5. Timestamp Calibration Capabilities</a></li>
</ul>
</li>
<li><a href="chap45.html">45. Debugging</a>
<ul class="sectlevel2">
<li><a href="chap45.html#debugging-debug-utils">45.1. Debug Utilities</a></li>
<li><a href="chap45.html#debugging-debug-markers">45.2. Debug Markers</a></li>
<li><a href="chap45.html#debugging-debug-report-callbacks">45.3. Debug Report Callbacks</a></li>
<li><a href="chap45.html#_device_loss_debugging">45.4. Device Loss Debugging</a></li>
<li><a href="chap45.html#debugging-tooling-info">45.5. Active Tooling Information</a></li>
</ul>
</li>
<li><a href="chap46.html">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap46.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap46.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap46.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap46.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap46.html#spirvenv-image-signedness">Signedness of SPIR-V Image Accesses</a></li>
<li><a href="chap46.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap46.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
</ul>
</li>
<li><a href="chap47.html">Appendix B: Memory Model</a>
<ul class="sectlevel2">
<li><a href="chap47.html#memory-model-agent">Agent</a></li>
<li><a href="chap47.html#memory-model-memory-location">Memory Location</a></li>
<li><a href="chap47.html#memory-model-allocation">Allocation</a></li>
<li><a href="chap47.html#memory-model-memory-operation">Memory Operation</a></li>
<li><a href="chap47.html#memory-model-references">Reference</a></li>
<li><a href="chap47.html#memory-model-program-order">Program-Order</a></li>
<li><a href="chap47.html#shader-call-related">Shader Call Related</a></li>
<li><a href="chap47.html#shader-call-order">Shader Call Order</a></li>
<li><a href="chap47.html#memory-model-scope">Scope</a></li>
<li><a href="chap47.html#memory-model-atomic-operation">Atomic Operation</a></li>
<li><a href="chap47.html#memory-model-scoped-modification-order">Scoped Modification Order</a></li>
<li><a href="chap47.html#memory-model-memory-semantics">Memory Semantics</a></li>
<li><a href="chap47.html#memory-model-release-sequence">Release Sequence</a></li>
<li><a href="chap47.html#memory-model-synchronizes-with">Synchronizes-With</a></li>
<li><a href="chap47.html#memory-model-system-synchronizes-with">System-Synchronizes-With</a></li>
<li><a href="chap47.html#memory-model-non-private">Private vs. Non-Private</a></li>
<li><a href="chap47.html#memory-model-inter-thread-happens-before">Inter-Thread-Happens-Before</a></li>
<li><a href="chap47.html#memory-model-happens-before">Happens-Before</a></li>
<li><a href="chap47.html#memory-model-availability-visibility">Availability and Visibility</a></li>
<li><a href="chap47.html#memory-model-vulkan-availability-visibility">Availability, Visibility, and Domain Operations</a></li>
<li><a href="chap47.html#memory-model-availability-visibility-semantics">Availability and Visibility Semantics</a></li>
<li><a href="chap47.html#memory-model-instruction-av-vis">Per-Instruction Availability and Visibility Semantics</a></li>
<li><a href="chap47.html#memory-model-location-ordered">Location-Ordered</a></li>
<li><a href="chap47.html#memory-model-access-data-race">Data Race</a></li>
<li><a href="chap47.html#memory-model-visible-to">Visible-To</a></li>
<li><a href="chap47.html#memory-model-acyclicity">Acyclicity</a></li>
<li><a href="chap47.html#memory-model-shader-io">Shader I/O</a></li>
<li><a href="chap47.html#memory-model-deallocation">Deallocation</a></li>
<li><a href="chap47.html#memory-model-informative-descriptions">Descriptions (Informative)</a></li>
<li><a href="chap47.html#memory-model-tessellation-output-ordering">Tessellation Output Ordering</a></li>
<li><a href="chap47.html#memory-model-cooperative-matrix">Cooperative Matrix Memory Access</a></li>
</ul>
</li>
<li><a href="chap48.html">Appendix C: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap48.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap48.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap48.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
<li><a href="chap48.html#appendix-compressedtex-pvrtc">PVRTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap49.html">Appendix D: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap49.html#versions-1.1">Version 1.1</a></li>
</ul>
</li>
<li><a href="chap50.html">Appendix E: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap50.html#extension-appendices-list">List of Current Extensions</a></li>
<li><a href="chap50.html#provisional-extension-appendices-list">List of Provisional Extensions</a></li>
<li><a href="chap50.html#deprecated-extension-appendices-list">List of Deprecated Extensions</a></li>
</ul>
</li>
<li><a href="chap51.html">Appendix F: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap51.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap51.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap51.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
</ul>
</li>
<li><a href="chap52.html">Appendix G: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap52.html#_repeatability">Repeatability</a></li>
<li><a href="chap52.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap52.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap52.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap53.html">Appendix H: Lexicon</a>
<ul class="sectlevel2">
<li><a href="chap53.html#glossary">Glossary</a></li>
<li><a href="chap53.html#lexicon-common-abbreviations">Common Abbreviations</a></li>
<li><a href="chap53.html#lexicon-prefixes">Prefixes</a></li>
</ul>
</li>
<li><a href="chap54.html">Appendix I: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap54.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap54.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
<div id="content" class="loadable" style="max-width: 100%;"><div class="sect1">
<h2 id="vertexpostproc"><a class="anchor" href="chap26.html"></a>26. Fixed-Function Vertex Post-Processing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After <a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stages</a>, the following fixed-function operations are applied to vertices of
the resulting primitives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Transform feedback (see <a href="chap26.html#vertexpostproc-transform-feedback">Transform
Feedback</a>)</p>
</li>
<li>
<p>Viewport swizzle (see <a href="chap26.html#vertexpostproc-viewport-swizzle">Viewport
Swizzle</a>)</p>
</li>
<li>
<p>Flat shading (see <a href="chap26.html#vertexpostproc-flatshading">Flat Shading</a>).</p>
</li>
<li>
<p>Primitive clipping, including client-defined half-spaces (see
<a href="chap26.html#vertexpostproc-clipping">Primitive Clipping</a>).</p>
</li>
<li>
<p>Shader output attribute clipping (see
<a href="chap26.html#vertexpostproc-clipping-shader-outputs">Clipping Shader Outputs</a>).</p>
</li>
<li>
<p>Clip space W scaling (see <a href="chap26.html#vertexpostproc-viewportwscaling">Controlling
Viewport W Scaling</a>).</p>
</li>
<li>
<p>Perspective division on clip coordinates (see
<a href="chap26.html#vertexpostproc-coord-transform">Coordinate Transformations</a>).</p>
</li>
<li>
<p>Viewport mapping, including depth range scaling (see
<a href="chap26.html#vertexpostproc-viewport">Controlling the Viewport</a>).</p>
</li>
<li>
<p>Front face determination for polygon primitives (see
<a href="chap27.html#primsrast-polygons-basic">Basic Polygon Rasterization</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Next, rasterization is performed on primitives as described in chapter
<a href="chap27.html">Rasterization</a>.</p>
</div>
<div class="sect2">
<h3 id="vertexpostproc-transform-feedback"><a class="anchor" href="chap26.html#vertexpostproc-transform-feedback"></a>26.1. Transform Feedback</h3>
<div class="paragraph">
<p>Before any other fixed-function vertex post-processing, vertex outputs from
the last shader in the
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> <strong class="purple">can</strong> be written out to one or more transform feedback buffers bound
to the command buffer.
To capture vertex outputs the last
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> shader <strong class="purple">must</strong> be declared with the <code>Xfb</code> execution mode.
Outputs decorated with <code>XfbBuffer</code> will be written out to the
corresponding transform feedback buffers bound to the command buffer when
transform feedback is active.
Transform feedback buffers are bound to the command buffer by using
<a href="chap26.html#vkCmdBindTransformFeedbackBuffersEXT">vkCmdBindTransformFeedbackBuffersEXT</a>.
Transform feedback is made active by calling
<a href="chap26.html#vkCmdBeginTransformFeedbackEXT">vkCmdBeginTransformFeedbackEXT</a> and made inactive by calling
<a href="chap26.html#vkCmdEndTransformFeedbackEXT">vkCmdEndTransformFeedbackEXT</a>.
After vertex data is written it is possible to use
<a href="chap21.html#vkCmdDrawIndirectByteCountEXT">vkCmdDrawIndirectByteCountEXT</a> to start a new draw where the
<code>vertexCount</code> is derived from the number of bytes written by a previous
transform feedback.</p>
</div>
<div class="paragraph">
<p>When an individual point, line, or triangle primitive reaches the transform
feedback stage while transform feedback is active, the values of the
specified output variables are assembled into primitives and appended to the
bound transform feedback buffers.
After activating transform feedback, the values of the first assembled
primitive are written at the starting offsets of the bound transform
feedback buffers, and subsequent primitives are appended to the buffer.
If the optional <code>pCounterBuffers</code> and <code>pCounterBufferOffsets</code>
parameters are specified, the starting points within the transform feedback
buffers are adjusted so data is appended to the previously written values
indicated by the value stored by the implementation in the counter buffer.</p>
</div>
<div class="paragraph">
<p>For multi-vertex primitives, all values for a given vertex are written
before writing values for any other vertex.
When
<a href="chap41.html#features-transformFeedbackPreservesProvokingVertex">transformFeedbackPreservesProvokingVertex</a>
is not enabled, implementations
<strong class="purple">may</strong> write out any vertex within the primitive first, but all subsequent
vertices for that primitive <strong class="purple">must</strong> be written out in a consistent winding
order defined as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If neither <a href="chap24.html">geometry</a> or <a href="chap23.html">tessellation
shading</a> is active, vertices within a primitive are appended according
to the winding order described by the <a href="chap21.html#drawing-primitive-topologies">primitive topology</a> defined by the
<a href="chap21.html#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a>:<code>topology</code> used to
execute the <a href="chap21.html">drawing command</a>.</p>
</li>
<li>
<p>If <a href="chap24.html">geometry shading</a> is active, vertices within a primitive
are appended according to the winding order described by the
<a href="chap21.html#drawing-primitive-topologies">primitive topology</a> defined by the
<a href="chap21.html#drawing-point-lists"><code>OutputPoints</code></a>, <a href="chap21.html#drawing-line-strips"><code>OutputLineStrips</code></a>, or <a href="chap21.html#drawing-triangle-strips"><code>OutputTriangleStrips</code></a> execution mode.</p>
</li>
<li>
<p>If <a href="chap23.html">tessellation shading</a> is active but
<a href="chap24.html">geometry shading</a> is not, vertices within a primitive are
appended according to the winding order defined by
<a href="chap23.html#tessellation-triangle-tessellation">triangle tessellation</a>,
<a href="chap23.html#tessellation-quad-tessellation">quad tessellation</a>, and
<a href="chap23.html#tessellation-isoline-tessellation">isoline tessellation</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When
<a href="chap41.html#features-transformFeedbackPreservesProvokingVertex">transformFeedbackPreservesProvokingVertex</a>
is enabled, then in addition to writing vertices with a consistent winding
order, the vertex order <strong class="purple">must</strong> preserve the <a href="chap26.html#vertexpostproc-flatshading">provoking vertex</a> of each primitive:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When the
<a href="chap26.html#VkPipelineRasterizationProvokingVertexStateCreateInfoEXT">pipeline’s
provoking vertex mode</a> is
<code>VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT</code>, the primitive’s
provoking vertex must be the first vertex written.</p>
</li>
<li>
<p>When the
<a href="chap26.html#VkPipelineRasterizationProvokingVertexStateCreateInfoEXT">pipeline’s
provoking vertex mode</a> is
<code>VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT</code>, the primitive’s
provoking vertex must be the last vertex written.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If
<a href="chap42.html#limits-transformFeedbackPreservesTriangleFanProvokingVertex"><code>transformFeedbackPreservesTriangleFanProvokingVertex</code></a>
is <code>VK_FALSE</code>, neither <a href="chap24.html">geometry</a> nor
<a href="chap23.html">tessellation</a> shading is active, and the
<a href="chap21.html#drawing-primitive-topologies">primitive topology</a> is
<code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN</code>, then the first vertex written from
each primitive is implementation-defined even when
<a href="chap41.html#features-transformFeedbackPreservesProvokingVertex">transformFeedbackPreservesProvokingVertex</a>
is enabled.</p>
</div>
<div class="paragraph">
<p>When capturing vertices, the stride associated with each transform feedback
buffer, as indicated by the <code>XfbStride</code> decoration, indicates the number
of bytes of storage reserved for each vertex in the transform feedback
buffer.
For every vertex captured, each output attribute with a <code>Offset</code>
decoration will be written to the storage reserved for the vertex at the
associated transform feedback buffer.
When writing output variables that are arrays or structures, individual
array elements or structure members are written tightly packed in order.
For vector types, individual components are written in order.
For matrix types, outputs are written as an array of column vectors.</p>
</div>
<div class="paragraph">
<p>If any component of an output with an assigned transform feedback offset was
not written to by its shader, the value recorded for that component is
undefined.
All components of an output variable <strong class="purple">must</strong> be written at an offset aligned
to the size of the component.
The size of each component of an output variable <strong class="purple">must</strong> be at least 32-bits.
When capturing a vertex, any portion of the reserved storage not associated
with an output variable with an assigned transform feedback offset will be
unmodified.</p>
</div>
<div class="paragraph">
<p>When transform feedback is inactive, no vertices are recorded.
If there is a valid counter buffer handle and counter buffer offset in the
<code>pCounterBuffers</code> and <code>pCounterBufferOffsets</code> arrays, writes to the
corresponding transform feedback buffer will start at the byte offset
represented by the value stored in the counter buffer location.</p>
</div>
<div class="paragraph">
<p>Individual lines or triangles of a strip or fan primitive will be extracted
and recorded separately.
Incomplete primitives are not recorded.</p>
</div>
<div class="paragraph">
<p>When using a geometry shader that emits vertices to multiple vertex streams,
a primitive will be assembled and output for each stream when there are
enough vertices emitted for the output primitive type.
All outputs assigned to a given transform feedback buffer are required to
come from a single vertex stream.</p>
</div>
<div class="paragraph">
<p>The sizes of the transform feedback buffers are defined by the
<a href="chap26.html#vkCmdBindTransformFeedbackBuffersEXT">vkCmdBindTransformFeedbackBuffersEXT</a> <code>pSizes</code> parameter for each
of the bound buffers, or the size of the bound buffer, whichever is the
lesser.
If there is less space remaining in any of the transform feedback buffers
than the size of the all the vertex data for that primitive based on the
<code>XfbStride</code> for that <code>XfbBuffer</code> then no vertex data of that primitive
is recorded in any transform feedback buffer, and the value for the number
of primitives written in the corresponding
<code>VK_QUERY_TYPE_TRANSFORM_FEEDBACK_STREAM_EXT</code> query for all transform
feedback buffers is no longer incremented.</p>
</div>
<div class="paragraph">
<p>Any outputs made to a <code>XfbBuffer</code> that is not bound to a transform
feedback buffer is ignored.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To bind transform feedback buffers to a command buffer for use in subsequent
drawing commands, call:</p>
</div>
<div id="vkCmdBindTransformFeedbackBuffersEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_transform_feedback</span>
<span class="directive">void</span> vkCmdBindTransformFeedbackBuffersEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstBinding,
    uint32_t                                    bindingCount,
    <span class="directive">const</span> VkBuffer*                             pBuffers,
    <span class="directive">const</span> VkDeviceSize*                         pOffsets,
    <span class="directive">const</span> VkDeviceSize*                         pSizes);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>firstBinding</code> is the index of the first transform feedback binding
whose state is updated by the command.</p>
</li>
<li>
<p><code>bindingCount</code> is the number of transform feedback bindings whose
state is updated by the command.</p>
</li>
<li>
<p><code>pBuffers</code> is a pointer to an array of buffer handles.</p>
</li>
<li>
<p><code>pOffsets</code> is a pointer to an array of buffer offsets.</p>
</li>
<li>
<p><code>pSizes</code> is <code>NULL</code> or a pointer to an array of <code>VkDeviceSize</code>
buffer sizes, specifying the maximum number of bytes to capture to the
corresponding transform feedback buffer.
If <code>pSizes</code> is <code>NULL</code>, or the value of the <code>pSizes</code> array
element is <code>VK_WHOLE_SIZE</code>, then the maximum number of bytes
captured will be the size of the corresponding buffer minus the buffer
offset.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The values taken from elements <span class="eq">i</span> of <code>pBuffers</code>, <code>pOffsets</code> and
<code>pSizes</code> replace the current state for the transform feedback binding
<span class="eq"><code>firstBinding</code> +  i</span>, for <span class="eq">i</span> in <span class="eq">[0,
<code>bindingCount</code>)</span>.
The transform feedback binding is updated to start at the offset indicated
by <code>pOffsets</code>[i] from the start of the buffer <code>pBuffers</code>[i].</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-transformFeedback-02355" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-transformFeedback-02355"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-transformFeedback-02355</span><br>

<code>VkPhysicalDeviceTransformFeedbackFeaturesEXT</code>::<code>transformFeedback</code>
<strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-firstBinding-02356" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-firstBinding-02356"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-firstBinding-02356</span><br>

<code>firstBinding</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>maxTransformFeedbackBuffers</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-firstBinding-02357" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-firstBinding-02357"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-firstBinding-02357</span><br>

The sum of <code>firstBinding</code> and <code>bindingCount</code> <strong class="purple">must</strong> be less than
or equal to
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>maxTransformFeedbackBuffers</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-02358" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-02358"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-02358</span><br>

All elements of <code>pOffsets</code> <strong class="purple">must</strong> be less than the size of the
corresponding element in <code>pBuffers</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-02359" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-02359"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-02359</span><br>

All elements of <code>pOffsets</code> <strong class="purple">must</strong> be a multiple of 4</p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-pBuffers-02360" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-pBuffers-02360"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-pBuffers-02360</span><br>

All elements of <code>pBuffers</code> <strong class="purple">must</strong> have been created with the
<code>VK_BUFFER_USAGE_TRANSFORM_FEEDBACK_BUFFER_BIT_EXT</code> flag</p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-pSize-02361" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-pSize-02361"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-pSize-02361</span><br>

If the optional <code>pSize</code> array is specified, each element of
<code>pSizes</code> <strong class="purple">must</strong> either be <code>VK_WHOLE_SIZE</code>, or be less than or
equal to
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>maxTransformFeedbackBufferSize</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-pSizes-02362" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-pSizes-02362"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-pSizes-02362</span><br>

All elements of <code>pSizes</code> <strong class="purple">must</strong> be either <code>VK_WHOLE_SIZE</code>, or
less than or equal to the size of the corresponding buffer in
<code>pBuffers</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-02363" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-02363"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-02363</span><br>

All elements of <code>pOffsets</code> plus <code>pSizes</code>, where the
<code>pSizes</code>, element is not <code>VK_WHOLE_SIZE</code>, <strong class="purple">must</strong> be less than or
equal to the size of the corresponding buffer in <code>pBuffers</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-pBuffers-02364" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-pBuffers-02364"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-pBuffers-02364</span><br>

Each element of <code>pBuffers</code> that is non-sparse <strong class="purple">must</strong> be bound
completely and contiguously to a single <code>VkDeviceMemory</code> object</p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-None-02365" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-None-02365"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-None-02365</span><br>

Transform feedback <strong class="purple">must</strong> not be active when the
<code>vkCmdBindTransformFeedbackBuffersEXT</code> command is recorded</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-commandBuffer-parameter" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-pBuffers-parameter" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-pBuffers-parameter"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-pBuffers-parameter</span><br>
 <code>pBuffers</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bindingCount</code> valid <a href="chap12.html#VkBuffer">VkBuffer</a> handles</p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-parameter" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-parameter"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-pOffsets-parameter</span><br>
 <code>pOffsets</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>bindingCount</code> <code>VkDeviceSize</code> values</p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-commandBuffer-recording" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-commandBuffer-cmdpool" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-bindingCount-arraylength" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-bindingCount-arraylength"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-bindingCount-arraylength</span><br>
 <code>bindingCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBindTransformFeedbackBuffersEXT-commonparent" href="chap26.html#VUID-vkCmdBindTransformFeedbackBuffersEXT-commonparent"></a> <span class="vuid">VUID-vkCmdBindTransformFeedbackBuffersEXT-commonparent</span><br>
 Both of <code>commandBuffer</code>, and the elements of <code>pBuffers</code> <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Transform feedback for specific transform feedback buffers is made active by
calling:</p>
</div>
<div id="vkCmdBeginTransformFeedbackEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_transform_feedback</span>
<span class="directive">void</span> vkCmdBeginTransformFeedbackEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstCounterBuffer,
    uint32_t                                    counterBufferCount,
    <span class="directive">const</span> VkBuffer*                             pCounterBuffers,
    <span class="directive">const</span> VkDeviceSize*                         pCounterBufferOffsets);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>firstCounterBuffer</code> is the index of the first transform feedback
buffer corresponding to <code>pCounterBuffers</code>[0] and
<code>pCounterBufferOffsets</code>[0].</p>
</li>
<li>
<p><code>counterBufferCount</code> is the size of the <code>pCounterBuffers</code> and
<code>pCounterBufferOffsets</code> arrays.</p>
</li>
<li>
<p><code>pCounterBuffers</code> is <code>NULL</code> or a pointer to an array of
<a href="chap12.html#VkBuffer">VkBuffer</a> handles to counter buffers.
Each buffer contains a 4 byte integer value representing the byte offset
from the start of the corresponding transform feedback buffer from where
to start capturing vertex data.
If the byte offset stored to the counter buffer location was done using
<a href="chap26.html#vkCmdEndTransformFeedbackEXT">vkCmdEndTransformFeedbackEXT</a> it can be used to resume transform
feedback from the previous location.
If <code>pCounterBuffers</code> is <code>NULL</code>, then transform feedback will start
capturing vertex data to byte offset zero in all bound transform
feedback buffers.
For each element of <code>pCounterBuffers</code> that is <a href="chap51.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>,
transform feedback will start capturing vertex data to byte zero in the
corresponding bound transform feedback buffer.</p>
</li>
<li>
<p><code>pCounterBufferOffsets</code> is <code>NULL</code> or a pointer to an array of
<code>VkDeviceSize</code> values specifying offsets within each of the
<code>pCounterBuffers</code> where the counter values were previously written.
The location in each counter buffer at these offsets <strong class="purple">must</strong> be large
enough to contain 4 bytes of data.
This data is the number of bytes captured by the previous transform
feedback to this buffer.
If <code>pCounterBufferOffsets</code> is <code>NULL</code>, then it is assumed the offsets
are zero.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The active transform feedback buffers will capture primitives emitted from
the corresponding <code>XfbBuffer</code> in the bound graphics pipeline.
Any <code>XfbBuffer</code> emitted that does not output to an active transform
feedback buffer will not be captured.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-transformFeedback-02366" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-transformFeedback-02366"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-transformFeedback-02366</span><br>

<code>VkPhysicalDeviceTransformFeedbackFeaturesEXT</code>::<code>transformFeedback</code>
<strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-None-02367" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-None-02367"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-None-02367</span><br>

Transform feedback <strong class="purple">must</strong> not be active</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-firstCounterBuffer-02368" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-firstCounterBuffer-02368"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-firstCounterBuffer-02368</span><br>

<code>firstCounterBuffer</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>maxTransformFeedbackBuffers</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-firstCounterBuffer-02369" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-firstCounterBuffer-02369"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-firstCounterBuffer-02369</span><br>

The sum of <code>firstCounterBuffer</code> and <code>counterBufferCount</code> <strong class="purple">must</strong>
be less than or equal to
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>maxTransformFeedbackBuffers</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-counterBufferCount-02607" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-counterBufferCount-02607"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-counterBufferCount-02607</span><br>

If <code>counterBufferCount</code> is not <code>0</code>, and <code>pCounterBuffers</code> is not
<code>NULL</code>, <code>pCounterBuffers</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>counterBufferCount</code> <code>VkBuffer</code> handles that are either valid or
<a href="chap51.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-pCounterBufferOffsets-02370" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-pCounterBufferOffsets-02370"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-pCounterBufferOffsets-02370</span><br>

For each buffer handle in the array, if it is not <a href="chap51.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>
it <strong class="purple">must</strong> reference a buffer large enough to hold 4 bytes at the
corresponding offset from the <code>pCounterBufferOffsets</code> array</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-pCounterBuffer-02371" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-pCounterBuffer-02371"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-pCounterBuffer-02371</span><br>

If <code>pCounterBuffer</code> is <code>NULL</code>, then <code>pCounterBufferOffsets</code>
<strong class="purple">must</strong> also be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-pCounterBuffers-02372" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-pCounterBuffers-02372"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-pCounterBuffers-02372</span><br>

For each buffer handle in the <code>pCounterBuffers</code> array that is not
<a href="chap51.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> it <strong class="purple">must</strong> have been created with a <code>usage</code> value
containing
<code>VK_BUFFER_USAGE_TRANSFORM_FEEDBACK_COUNTER_BUFFER_BIT_EXT</code></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-None-04128" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-None-04128"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-None-04128</span><br>

The last <a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization
shader stage</a> of the bound graphics pipeline <strong class="purple">must</strong> have been declared
with the <code>Xfb</code> execution mode</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-None-02373" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-None-02373"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-None-02373</span><br>

Transform feedback <strong class="purple">must</strong> not be made active in a render pass instance
with multiview enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-commandBuffer-parameter" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-pCounterBufferOffsets-parameter" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-pCounterBufferOffsets-parameter"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-pCounterBufferOffsets-parameter</span><br>
 If <code>counterBufferCount</code> is not <code>0</code>, and <code>pCounterBufferOffsets</code> is not <code>NULL</code>, <code>pCounterBufferOffsets</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>counterBufferCount</code> <code>VkDeviceSize</code> values</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-commandBuffer-recording" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-commandBuffer-cmdpool" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-renderpass" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-renderpass"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-renderpass</span><br>
 This command <strong class="purple">must</strong> only be called inside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdBeginTransformFeedbackEXT-commonparent" href="chap26.html#VUID-vkCmdBeginTransformFeedbackEXT-commonparent"></a> <span class="vuid">VUID-vkCmdBeginTransformFeedbackEXT-commonparent</span><br>
 Both of <code>commandBuffer</code>, and the elements of <code>pCounterBuffers</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Transform feedback for specific transform feedback buffers is made inactive
by calling:</p>
</div>
<div id="vkCmdEndTransformFeedbackEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_transform_feedback</span>
<span class="directive">void</span> vkCmdEndTransformFeedbackEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstCounterBuffer,
    uint32_t                                    counterBufferCount,
    <span class="directive">const</span> VkBuffer*                             pCounterBuffers,
    <span class="directive">const</span> VkDeviceSize*                         pCounterBufferOffsets);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command is
recorded.</p>
</li>
<li>
<p><code>firstCounterBuffer</code> is the index of the first transform feedback
buffer corresponding to <code>pCounterBuffers</code>[0] and
<code>pCounterBufferOffsets</code>[0].</p>
</li>
<li>
<p><code>counterBufferCount</code> is the size of the <code>pCounterBuffers</code> and
<code>pCounterBufferOffsets</code> arrays.</p>
</li>
<li>
<p><code>pCounterBuffers</code> is <code>NULL</code> or a pointer to an array of
<a href="chap12.html#VkBuffer">VkBuffer</a> handles to counter buffers.
The counter buffers are used to record the current byte positions of
each transform feedback buffer where the next vertex output data would
be captured.
This <strong class="purple">can</strong> be used by a subsequent <a href="chap26.html#vkCmdBeginTransformFeedbackEXT">vkCmdBeginTransformFeedbackEXT</a>
call to resume transform feedback capture from this position.
It can also be used by <a href="chap21.html#vkCmdDrawIndirectByteCountEXT">vkCmdDrawIndirectByteCountEXT</a> to determine
the vertex count of the draw call.</p>
</li>
<li>
<p><code>pCounterBufferOffsets</code> is <code>NULL</code> or a pointer to an array of
<code>VkDeviceSize</code> values specifying offsets within each of the
<code>pCounterBuffers</code> where the counter values can be written.
The location in each counter buffer at these offsets <strong class="purple">must</strong> be large
enough to contain 4 bytes of data.
The data stored at this location is the byte offset from the start of
the transform feedback buffer binding where the next vertex data would
be written.
If <code>pCounterBufferOffsets</code> is <code>NULL</code>, then it is assumed the offsets
are zero.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-transformFeedback-02374" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-transformFeedback-02374"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-transformFeedback-02374</span><br>

<code>VkPhysicalDeviceTransformFeedbackFeaturesEXT</code>::<code>transformFeedback</code>
<strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-None-02375" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-None-02375"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-None-02375</span><br>

Transform feedback <strong class="purple">must</strong> be active</p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-firstCounterBuffer-02376" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-firstCounterBuffer-02376"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-firstCounterBuffer-02376</span><br>

<code>firstCounterBuffer</code> <strong class="purple">must</strong> be less than
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>maxTransformFeedbackBuffers</code></p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-firstCounterBuffer-02377" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-firstCounterBuffer-02377"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-firstCounterBuffer-02377</span><br>

The sum of <code>firstCounterBuffer</code> and <code>counterBufferCount</code> <strong class="purple">must</strong>
be less than or equal to
<code>VkPhysicalDeviceTransformFeedbackPropertiesEXT</code>::<code>maxTransformFeedbackBuffers</code></p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-counterBufferCount-02608" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-counterBufferCount-02608"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-counterBufferCount-02608</span><br>

If <code>counterBufferCount</code> is not <code>0</code>, and <code>pCounterBuffers</code> is not
<code>NULL</code>, <code>pCounterBuffers</code> <strong class="purple">must</strong> be a valid pointer to an array of
<code>counterBufferCount</code> <code>VkBuffer</code> handles that are either valid or
<a href="chap51.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a></p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-pCounterBufferOffsets-02378" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-pCounterBufferOffsets-02378"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-pCounterBufferOffsets-02378</span><br>

For each buffer handle in the array, if it is not <a href="chap51.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a>
it <strong class="purple">must</strong> reference a buffer large enough to hold 4 bytes at the
corresponding offset from the <code>pCounterBufferOffsets</code> array</p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-pCounterBuffer-02379" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-pCounterBuffer-02379"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-pCounterBuffer-02379</span><br>

If <code>pCounterBuffer</code> is <code>NULL</code>, then <code>pCounterBufferOffsets</code>
<strong class="purple">must</strong> also be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-pCounterBuffers-02380" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-pCounterBuffers-02380"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-pCounterBuffers-02380</span><br>

For each buffer handle in the <code>pCounterBuffers</code> array that is not
<a href="chap51.html#VK_NULL_HANDLE">VK_NULL_HANDLE</a> it <strong class="purple">must</strong> have been created with a <code>usage</code> value
containing
<code>VK_BUFFER_USAGE_TRANSFORM_FEEDBACK_COUNTER_BUFFER_BIT_EXT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-commandBuffer-parameter" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-pCounterBufferOffsets-parameter" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-pCounterBufferOffsets-parameter"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-pCounterBufferOffsets-parameter</span><br>
 If <code>counterBufferCount</code> is not <code>0</code>, and <code>pCounterBufferOffsets</code> is not <code>NULL</code>, <code>pCounterBufferOffsets</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>counterBufferCount</code> <code>VkDeviceSize</code> values</p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-commandBuffer-recording" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-commandBuffer-cmdpool" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-renderpass" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-renderpass"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-renderpass</span><br>
 This command <strong class="purple">must</strong> only be called inside of a render pass instance</p>
</li>
<li>
<p><a id="VUID-vkCmdEndTransformFeedbackEXT-commonparent" href="chap26.html#VUID-vkCmdEndTransformFeedbackEXT-commonparent"></a> <span class="vuid">VUID-vkCmdEndTransformFeedbackEXT-commonparent</span><br>
 Both of <code>commandBuffer</code>, and the elements of <code>pCounterBuffers</code> that are valid handles of non-ignored parameters <strong class="purple">must</strong> have been created, allocated, or retrieved from the same <a href="chap5.html#VkDevice">VkDevice</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inside</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-viewport-swizzle"><a class="anchor" href="chap26.html#vertexpostproc-viewport-swizzle"></a>26.2. Viewport Swizzle</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Each primitive sent to a given viewport has a swizzle and <strong class="purple">optional</strong> negation
applied to its clip coordinates.
The swizzle that is applied depends on the viewport index, and is controlled
by the <code>VkPipelineViewportSwizzleStateCreateInfoNV</code> pipeline state:</p>
</div>
<div id="VkPipelineViewportSwizzleStateCreateInfoNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_viewport_swizzle</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineViewportSwizzleStateCreateInfoNV {
    VkStructureType                                sType;
    <span class="directive">const</span> <span class="directive">void</span>*                                    pNext;
    VkPipelineViewportSwizzleStateCreateFlagsNV    flags;
    uint32_t                                       viewportCount;
    <span class="directive">const</span> VkViewportSwizzleNV*                     pViewportSwizzles;
} VkPipelineViewportSwizzleStateCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>viewportCount</code> is the number of viewport swizzles used by the
pipeline.</p>
</li>
<li>
<p><code>pViewportSwizzles</code> is a pointer to an array of
<a href="chap26.html#VkViewportSwizzleNV">VkViewportSwizzleNV</a> structures, defining the viewport swizzles.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportSwizzleStateCreateInfoNV-viewportCount-01215" href="chap26.html#VUID-VkPipelineViewportSwizzleStateCreateInfoNV-viewportCount-01215"></a> <span class="vuid">VUID-VkPipelineViewportSwizzleStateCreateInfoNV-viewportCount-01215</span><br>

<code>viewportCount</code> <strong class="purple">must</strong> be greater than or equal to the
<code>viewportCount</code> set in <code>VkPipelineViewportStateCreateInfo</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportSwizzleStateCreateInfoNV-sType-sType" href="chap26.html#VUID-VkPipelineViewportSwizzleStateCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkPipelineViewportSwizzleStateCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_SWIZZLE_STATE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportSwizzleStateCreateInfoNV-flags-zerobitmask" href="chap26.html#VUID-VkPipelineViewportSwizzleStateCreateInfoNV-flags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineViewportSwizzleStateCreateInfoNV-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportSwizzleStateCreateInfoNV-pViewportSwizzles-parameter" href="chap26.html#VUID-VkPipelineViewportSwizzleStateCreateInfoNV-pViewportSwizzles-parameter"></a> <span class="vuid">VUID-VkPipelineViewportSwizzleStateCreateInfoNV-pViewportSwizzles-parameter</span><br>
 <code>pViewportSwizzles</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>viewportCount</code> valid <a href="chap26.html#VkViewportSwizzleNV">VkViewportSwizzleNV</a> structures</p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportSwizzleStateCreateInfoNV-viewportCount-arraylength" href="chap26.html#VUID-VkPipelineViewportSwizzleStateCreateInfoNV-viewportCount-arraylength"></a> <span class="vuid">VUID-VkPipelineViewportSwizzleStateCreateInfoNV-viewportCount-arraylength</span><br>
 <code>viewportCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineViewportSwizzleStateCreateFlagsNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_viewport_swizzle</span>
<span class="keyword">typedef</span> VkFlags VkPipelineViewportSwizzleStateCreateFlagsNV;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineViewportSwizzleStateCreateFlagsNV</code> is a bitmask type for
setting a mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>VkPipelineViewportSwizzleStateCreateInfoNV</code> state is set by adding
this structure to the <code>pNext</code> chain of a
<code>VkPipelineViewportStateCreateInfo</code> structure and setting the graphics
pipeline state with <a href="chap10.html#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a>.</p>
</div>
<div class="paragraph">
<p>Each viewport specified from 0 to <code>viewportCount</code> - 1 has its x,y,z,w
swizzle state set to the corresponding <code>x</code>, <code>y</code>, <code>z</code> and <code>w</code>
in the <a href="chap26.html#VkViewportSwizzleNV">VkViewportSwizzleNV</a> structure.
Each component is of type <a href="chap26.html#VkViewportCoordinateSwizzleNV">VkViewportCoordinateSwizzleNV</a>, which
determines the type of swizzle for that component.
The value of <code>x</code> computes the new x component of the position as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c"><span class="keyword">if</span> (x == VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_X_NV) x<span class="char">' </span>= x;
<span class="keyword">if</span> (x == VK_VIEWPORT_COORDINATE_SWIZZLE_NEGATIVE_X_NV) x<span class="char">' </span>= -x;
<span class="keyword">if</span> (x == VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_Y_NV) x<span class="char">' </span>= y;
<span class="keyword">if</span> (x == VK_VIEWPORT_COORDINATE_SWIZZLE_NEGATIVE_Y_NV) x<span class="char">' </span>= -y;
<span class="keyword">if</span> (x == VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_Z_NV) x<span class="char">' </span>= z;
<span class="keyword">if</span> (x == VK_VIEWPORT_COORDINATE_SWIZZLE_NEGATIVE_Z_NV) x<span class="char">' </span>= -z;
<span class="keyword">if</span> (x == VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_W_NV) x<span class="char">' </span>= w;
<span class="keyword">if</span> (x == VK_VIEWPORT_COORDINATE_SWIZZLE_NEGATIVE_W_NV) x<span class="char">' </span>= -w;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similar selections are performed for the <code>y</code>, <code>z</code>, and <code>w</code>
coordinates.
This swizzling is applied before clipping and perspective divide.
If the swizzle for an active viewport index is not specified, the swizzle
for <code>x</code> is <code>VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_X_NV</code>, <code>y</code>
is <code>VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_Y_NV</code>, <code>z</code> is
<code>VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_Z_NV</code> and <code>w</code> is
<code>VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_W_NV</code>.</p>
</div>
<div class="paragraph">
<p>Viewport swizzle parameters are specified by setting the <code>pNext</code> pointer
of <code>VkGraphicsPipelineCreateInfo</code> to point to a
<code>VkPipelineViewportSwizzleStateCreateInfoNV</code> structure.
<a href="chap26.html#VkPipelineViewportSwizzleStateCreateInfoNV">VkPipelineViewportSwizzleStateCreateInfoNV</a> uses
<code>VkViewportSwizzleNV</code> to set the viewport swizzle parameters.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkViewportSwizzleNV</code> structure is defined as:</p>
</div>
<div id="VkViewportSwizzleNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_viewport_swizzle</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkViewportSwizzleNV {
    VkViewportCoordinateSwizzleNV    x;
    VkViewportCoordinateSwizzleNV    y;
    VkViewportCoordinateSwizzleNV    z;
    VkViewportCoordinateSwizzleNV    w;
} VkViewportSwizzleNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> is a <a href="chap26.html#VkViewportCoordinateSwizzleNV">VkViewportCoordinateSwizzleNV</a> value specifying the
swizzle operation to apply to the x component of the primitive</p>
</li>
<li>
<p><code>y</code> is a <a href="chap26.html#VkViewportCoordinateSwizzleNV">VkViewportCoordinateSwizzleNV</a> value specifying the
swizzle operation to apply to the y component of the primitive</p>
</li>
<li>
<p><code>z</code> is a <a href="chap26.html#VkViewportCoordinateSwizzleNV">VkViewportCoordinateSwizzleNV</a> value specifying the
swizzle operation to apply to the z component of the primitive</p>
</li>
<li>
<p><code>w</code> is a <a href="chap26.html#VkViewportCoordinateSwizzleNV">VkViewportCoordinateSwizzleNV</a> value specifying the
swizzle operation to apply to the w component of the primitive</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkViewportSwizzleNV-x-parameter" href="chap26.html#VUID-VkViewportSwizzleNV-x-parameter"></a> <span class="vuid">VUID-VkViewportSwizzleNV-x-parameter</span><br>
 <code>x</code> <strong class="purple">must</strong> be a valid <a href="chap26.html#VkViewportCoordinateSwizzleNV">VkViewportCoordinateSwizzleNV</a> value</p>
</li>
<li>
<p><a id="VUID-VkViewportSwizzleNV-y-parameter" href="chap26.html#VUID-VkViewportSwizzleNV-y-parameter"></a> <span class="vuid">VUID-VkViewportSwizzleNV-y-parameter</span><br>
 <code>y</code> <strong class="purple">must</strong> be a valid <a href="chap26.html#VkViewportCoordinateSwizzleNV">VkViewportCoordinateSwizzleNV</a> value</p>
</li>
<li>
<p><a id="VUID-VkViewportSwizzleNV-z-parameter" href="chap26.html#VUID-VkViewportSwizzleNV-z-parameter"></a> <span class="vuid">VUID-VkViewportSwizzleNV-z-parameter</span><br>
 <code>z</code> <strong class="purple">must</strong> be a valid <a href="chap26.html#VkViewportCoordinateSwizzleNV">VkViewportCoordinateSwizzleNV</a> value</p>
</li>
<li>
<p><a id="VUID-VkViewportSwizzleNV-w-parameter" href="chap26.html#VUID-VkViewportSwizzleNV-w-parameter"></a> <span class="vuid">VUID-VkViewportSwizzleNV-w-parameter</span><br>
 <code>w</code> <strong class="purple">must</strong> be a valid <a href="chap26.html#VkViewportCoordinateSwizzleNV">VkViewportCoordinateSwizzleNV</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of the <a href="chap26.html#VkViewportSwizzleNV">VkViewportSwizzleNV</a>::<code>x</code>, <code>y</code>, <code>z</code>,
and <code>w</code> members, specifying swizzling of the corresponding components of
primitives, are:</p>
</div>
<div id="VkViewportCoordinateSwizzleNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_viewport_swizzle</span>
<span class="keyword">typedef</span> <span class="keyword">enum</span> VkViewportCoordinateSwizzleNV {
    VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_X_NV = <span class="integer">0</span>,
    VK_VIEWPORT_COORDINATE_SWIZZLE_NEGATIVE_X_NV = <span class="integer">1</span>,
    VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_Y_NV = <span class="integer">2</span>,
    VK_VIEWPORT_COORDINATE_SWIZZLE_NEGATIVE_Y_NV = <span class="integer">3</span>,
    VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_Z_NV = <span class="integer">4</span>,
    VK_VIEWPORT_COORDINATE_SWIZZLE_NEGATIVE_Z_NV = <span class="integer">5</span>,
    VK_VIEWPORT_COORDINATE_SWIZZLE_POSITIVE_W_NV = <span class="integer">6</span>,
    VK_VIEWPORT_COORDINATE_SWIZZLE_NEGATIVE_W_NV = <span class="integer">7</span>,
} VkViewportCoordinateSwizzleNV;</code></pre>
</div>
</div>
<div class="paragraph">
<p>These values are described in detail in <a href="chap26.html#vertexpostproc-viewport-swizzle">Viewport Swizzle</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-flatshading"><a class="anchor" href="chap26.html#vertexpostproc-flatshading"></a>26.3. Flat Shading</h3>
<div class="paragraph">
<p><em>Flat shading</em> a vertex output attribute means to assign all vertices of the
primitive the same value for that output.
The output values assigned are those of the <em>provoking vertex</em> of the
primitive.
Flat shading is applied to those vertex attributes that
<a href="chap15.html#interfaces-iointerfaces-matching">match</a> fragment input attributes which
are decorated as <code>Flat</code>.</p>
</div>
<div class="paragraph">
<p>If neither <a href="chap24.html">geometry</a> nor <a href="chap23.html">tessellation shading</a>
is active, the provoking vertex is determined by the
<a href="chap21.html#drawing-primitive-topologies">primitive topology</a> defined by
<a href="chap21.html#VkPipelineInputAssemblyStateCreateInfo">VkPipelineInputAssemblyStateCreateInfo</a>:<code>topology</code> used to execute
the <a href="chap21.html">drawing command</a>.</p>
</div>
<div class="paragraph">
<p>If <a href="chap24.html">geometry shading</a> is active, the provoking vertex is
determined by the <a href="chap21.html#drawing-primitive-topologies">primitive topology</a>
defined by the <a href="chap21.html#drawing-point-lists"><code>OutputPoints</code></a>,
<a href="chap21.html#drawing-line-strips"><code>OutputLineStrips</code></a>, or
<a href="chap21.html#drawing-triangle-strips"><code>OutputTriangleStrips</code></a> execution mode.</p>
</div>
<div class="paragraph">
<p>If <a href="chap23.html">tessellation shading</a> is active but <a href="chap24.html">geometry
shading</a> is not, the provoking vertex <strong class="purple">may</strong> be any of the vertices in each
primitive.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>For a given primitive topology, the pipeline’s provoking vertex mode
determines which vertex is the provoking vertex.
To specify the provoking vertex mode, attach an instance of
<code>VkPipelineRasterizationProvokingVertexStateCreateInfoEXT</code> to
<a href="chap27.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>pNext</code> when creating the
pipeline.</p>
</div>
<div class="paragraph">
<p>The <code>VkPipelineRasterizationProvokingVertexStateCreateInfoEXT</code> structure
is defined as:</p>
</div>
<div id="VkPipelineRasterizationProvokingVertexStateCreateInfoEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_provoking_vertex</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineRasterizationProvokingVertexStateCreateInfoEXT {
    VkStructureType             sType;
    <span class="directive">const</span> <span class="directive">void</span>*                 pNext;
    VkProvokingVertexModeEXT    provokingVertexMode;
} VkPipelineRasterizationProvokingVertexStateCreateInfoEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>provokingVertexMode</code> is a <a href="chap26.html#VkProvokingVertexModeEXT">VkProvokingVertexModeEXT</a> value
selecting the provoking vertex mode.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this struct is not provided when creating the pipeline, the pipeline will
use the <code>VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT</code> mode.</p>
</div>
<div class="paragraph">
<p>If the
<a href="chap42.html#limits-provokingVertexModePerPipeline">provokingVertexModePerPipeline</a>
limit is <code>VK_FALSE</code>, then the all pipelines bound within a renderpass
instance <strong class="purple">must</strong> have the same <code>provokingVertexMode</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationProvokingVertexStateCreateInfoEXT-provokingVertexMode-04883" href="chap26.html#VUID-VkPipelineRasterizationProvokingVertexStateCreateInfoEXT-provokingVertexMode-04883"></a> <span class="vuid">VUID-VkPipelineRasterizationProvokingVertexStateCreateInfoEXT-provokingVertexMode-04883</span><br>

If <code>provokingVertexMode</code> is
<code>VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT</code>, then the
<a href="chap41.html#features-provokingVertexLast">provokingVertexLast</a> feature <strong class="purple">must</strong> be
enabled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineRasterizationProvokingVertexStateCreateInfoEXT-sType-sType" href="chap26.html#VUID-VkPipelineRasterizationProvokingVertexStateCreateInfoEXT-sType-sType"></a> <span class="vuid">VUID-VkPipelineRasterizationProvokingVertexStateCreateInfoEXT-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_PROVOKING_VERTEX_STATE_CREATE_INFO_EXT</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineRasterizationProvokingVertexStateCreateInfoEXT-provokingVertexMode-parameter" href="chap26.html#VUID-VkPipelineRasterizationProvokingVertexStateCreateInfoEXT-provokingVertexMode-parameter"></a> <span class="vuid">VUID-VkPipelineRasterizationProvokingVertexStateCreateInfoEXT-provokingVertexMode-parameter</span><br>
 <code>provokingVertexMode</code> <strong class="purple">must</strong> be a valid <a href="chap26.html#VkProvokingVertexModeEXT">VkProvokingVertexModeEXT</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="chap26.html#VkPipelineRasterizationProvokingVertexStateCreateInfoEXT">VkPipelineRasterizationProvokingVertexStateCreateInfoEXT</a>::<code>provokingVertexMode</code>
are:</p>
</div>
<div id="VkProvokingVertexModeEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_provoking_vertex</span>
<span class="keyword">typedef</span> <span class="keyword">enum</span> VkProvokingVertexModeEXT {
    VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT = <span class="integer">0</span>,
    VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT = <span class="integer">1</span>,
} VkProvokingVertexModeEXT;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT</code> specifies that the
provoking vertex is the first non-adjacency vertex in the list of
vertices used by a primitive.</p>
</li>
<li>
<p><code>VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT</code> specifies that the
provoking vertex is the last non-adjacency vertex in the list of
vertices used by a primitive.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These modes are described more precisely in
<a href="chap21.html#drawing-primitive-topologies">Primitive Topologies</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-clipping"><a class="anchor" href="chap26.html#vertexpostproc-clipping"></a>26.4. Primitive Clipping</h3>
<div class="paragraph">
<p>Primitives are culled against the <em>cull volume</em> and then clipped to the
<em>clip volume</em>.
In clip coordinates, the <em>view volume</em> is defined by:</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6000000000000005em;vertical-align:-1.5500000000000007em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>This view volume <strong class="purple">can</strong> be further restricted by as many as
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code> client-defined
half-spaces.</p>
</div>
<div class="paragraph">
<p>The cull volume is the intersection of up to
<code>VkPhysicalDeviceLimits</code>::<code>maxCullDistances</code> client-defined
half-spaces (if no client-defined cull half-spaces are enabled, culling
against the cull volume is skipped).</p>
</div>
<div class="paragraph">
<p>A shader <strong class="purple">must</strong> write a single cull distance for each enabled cull half-space
to elements of the <code>CullDistance</code> array.
If the cull distance for any enabled cull half-space is negative for all of
the vertices of the primitive under consideration, the primitive is
discarded.
Otherwise the primitive is clipped against the clip volume as defined below.</p>
</div>
<div class="paragraph">
<p>The clip volume is the intersection of up to
<code>VkPhysicalDeviceLimits</code>::<code>maxClipDistances</code> client-defined
half-spaces with the view volume (if no client-defined clip half-spaces are
enabled, the clip volume is the view volume).</p>
</div>
<div class="paragraph">
<p>A shader <strong class="purple">must</strong> write a single clip distance for each enabled clip half-space
to elements of the <code>ClipDistance</code> array.
Clip half-space <span class="eq">i</span> is then given by the set of points satisfying the
inequality</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">c<sub>i</sub>(<strong>P</strong>) ≥ 0</span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <span class="eq">c<sub>i</sub>(<strong>P</strong>)</span> is the clip distance <span class="eq">i</span> at point <span class="eq"><strong>P</strong></span>.
For point primitives, <span class="eq">c<sub>i</sub>(<strong>P</strong>)</span> is simply the clip distance for the
vertex in question.
For line and triangle primitives, per-vertex clip distances are interpolated
using a weighted mean, with weights derived according to the algorithms
described in sections <a href="chap27.html#primsrast-lines-basic">Basic Line Segment
Rasterization</a> and <a href="chap27.html#primsrast-polygons-basic">Basic Polygon
Rasterization</a>, using the perspective interpolation equations.</p>
</div>
<div class="paragraph">
<p>The number of client-defined clip and cull half-spaces that are enabled is
determined by the explicit size of the built-in arrays <code>ClipDistance</code> and
<code>CullDistance</code>, respectively, declared as an output in the interface of
the entry point of the final shader stage before clipping.</p>
</div>
<div class="paragraph">
<p>If <a href="chap27.html#VkPipelineRasterizationDepthClipStateCreateInfoEXT">VkPipelineRasterizationDepthClipStateCreateInfoEXT</a> is present in
the graphics pipeline state then depth clipping is disabled if
<a href="chap27.html#VkPipelineRasterizationDepthClipStateCreateInfoEXT">VkPipelineRasterizationDepthClipStateCreateInfoEXT</a>::<code>depthClipEnable</code>
is <code>VK_FALSE</code>.
Otherwise, if <a href="chap27.html#VkPipelineRasterizationDepthClipStateCreateInfoEXT">VkPipelineRasterizationDepthClipStateCreateInfoEXT</a> is
not present, depth clipping is disabled when
<a href="chap27.html#VkPipelineRasterizationStateCreateInfo">VkPipelineRasterizationStateCreateInfo</a>::<code>depthClampEnable</code> is
<code>VK_TRUE</code>.
When depth clipping is disabled, the plane equation</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">0 ≤ z<sub>c</sub> ≤ w<sub>c</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>(see the clip volume definition above) is ignored by view volume clipping
(effectively, there is no near or far plane clipping).</p>
</div>
<div class="paragraph">
<p>If the primitive under consideration is a point or line segment, then
clipping passes it unchanged if its vertices lie entirely within the clip
volume.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="chap42.html#VkPhysicalDevicePointClippingProperties">VkPhysicalDevicePointClippingProperties</a>::<code>pointClippingBehavior</code>,
specifying clipping behavior of a point primitive whose vertex lies outside
the clip volume, are:</p>
</div>
<div id="VkPointClippingBehavior" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_1</span>
<span class="keyword">typedef</span> <span class="keyword">enum</span> VkPointClippingBehavior {
    VK_POINT_CLIPPING_BEHAVIOR_ALL_CLIP_PLANES = <span class="integer">0</span>,
    VK_POINT_CLIPPING_BEHAVIOR_USER_CLIP_PLANES_ONLY = <span class="integer">1</span>,
  <span class="comment">// Provided by VK_KHR_maintenance2</span>
    VK_POINT_CLIPPING_BEHAVIOR_ALL_CLIP_PLANES_KHR = VK_POINT_CLIPPING_BEHAVIOR_ALL_CLIP_PLANES,
  <span class="comment">// Provided by VK_KHR_maintenance2</span>
    VK_POINT_CLIPPING_BEHAVIOR_USER_CLIP_PLANES_ONLY_KHR = VK_POINT_CLIPPING_BEHAVIOR_USER_CLIP_PLANES_ONLY,
} VkPointClippingBehavior;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the equivalent</p>
</div>
<div id="VkPointClippingBehaviorKHR" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_KHR_maintenance2</span>
<span class="keyword">typedef</span> VkPointClippingBehavior VkPointClippingBehaviorKHR;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_ALL_CLIP_PLANES</code> specifies that the
primitive is discarded if the vertex lies outside any clip plane,
including the planes bounding the view volume.</p>
</li>
<li>
<p><code>VK_POINT_CLIPPING_BEHAVIOR_USER_CLIP_PLANES_ONLY</code> specifies that
the primitive is discarded only if the vertex lies outside any user clip
plane.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>If either of a line segment’s vertices lie outside of the clip volume, the
line segment <strong class="purple">may</strong> be clipped, with new vertex coordinates computed for each
vertex that lies outside the clip volume.
A clipped line segment endpoint lies on both the original line segment and
the boundary of the clip volume.</p>
</div>
<div class="paragraph">
<p>This clipping produces a value, <span class="eq">0 ≤ t ≤ 1</span>, for each clipped
vertex.
If the coordinates of a clipped vertex are <span class="eq"><strong>P</strong></span> and the unclipped
line segment’s vertex coordinates are <span class="eq"><strong>P</strong><sub>1</sub></span> and <span class="eq"><strong>P</strong><sub>2</sub></span>,
then <span class="eq">t</span> satisfies the following equation</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><strong>P</strong> = t <strong>P</strong><sub>1</sub> +  (1-t) <strong>P</strong><sub>2</sub></span>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="eq">t</span> is used to clip vertex output attributes as described in
<a href="chap26.html#vertexpostproc-clipping-shader-outputs">Clipping Shader Outputs</a>.</p>
</div>
<div class="paragraph">
<p>If the primitive is a polygon, it passes unchanged if every one of its edges
lies entirely inside the clip volume, and is either clipped or discarded
otherwise.
If the edges of the polygon intersect the boundary of the clip volume, the
intersecting edges are reconnected by new edges that lie along the boundary
of the clip volume - in some cases requiring the introduction of new
vertices into a polygon.</p>
</div>
<div class="paragraph">
<p>If a polygon intersects an edge of the clip volume’s boundary, the clipped
polygon <strong class="purple">must</strong> include a point on this boundary edge.</p>
</div>
<div class="paragraph">
<p>Primitives rendered with user-defined half-spaces <strong class="purple">must</strong> satisfy a
complementarity criterion.
Suppose a series of primitives is drawn where each vertex <span class="eq">i</span> has a
single specified clip distance <span class="eq">d<sub>i</sub></span> (or a number of similarly
specified clip distances, if multiple half-spaces are enabled).
Next, suppose that the same series of primitives are drawn again with each
such clip distance replaced by <span class="eq">-d<sub>i</sub></span> (and the graphics pipeline is
otherwise the same).
In this case, primitives <strong class="purple">must</strong> not be missing any pixels, and pixels <strong class="purple">must</strong>
not be drawn twice in regions where those primitives are cut by the clip
planes.</p>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-clipping-shader-outputs"><a class="anchor" href="chap26.html#vertexpostproc-clipping-shader-outputs"></a>26.5. Clipping Shader Outputs</h3>
<div class="paragraph">
<p>Next, vertex output attributes are clipped.
The output values associated with a vertex that lies within the clip volume
are unaffected by clipping.
If a primitive is clipped, however, the output values assigned to vertices
produced by clipping are clipped.</p>
</div>
<div class="paragraph">
<p>Let the output values assigned to the two vertices <span class="eq"><strong>P</strong><sub>1</sub></span> and
<span class="eq"><strong>P</strong><sub>2</sub></span> of an unclipped edge be <span class="eq"><strong>c</strong><sub>1</sub></span> and <span class="eq"><strong>c</strong><sub>2</sub></span>.
The value of <span class="eq">t</span> (see <a href="chap26.html#vertexpostproc-clipping">Primitive Clipping</a>)
for a clipped point <span class="eq"><strong>P</strong></span> is used to obtain the output value
associated with <span class="eq"><strong>P</strong></span> as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq"><strong>c</strong> = t <strong>c</strong><sub>1</sub> +  (1-t) <strong>c</strong><sub>2</sub></span>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>(Multiplying an output value by a scalar means multiplying each of <em>x</em>, <em>y</em>,
<em>z</em>, and <em>w</em> by the scalar.)</p>
</div>
<div class="paragraph">
<p>Since this computation is performed in clip space before division by
<span class="eq">w<sub>c</sub></span>, clipped output values are perspective-correct.</p>
</div>
<div class="paragraph">
<p>Polygon clipping creates a clipped vertex along an edge of the clip volume’s
boundary.
This situation is handled by noting that polygon clipping proceeds by
clipping against one half-space at a time.
Output value clipping is done in the same way, so that clipped points always
occur at the intersection of polygon edges (possibly already clipped) with
the clip volume’s boundary.</p>
</div>
<div class="paragraph">
<p>For vertex output attributes whose matching fragment input attributes are
decorated with <code>NoPerspective</code>, the value of <span class="eq">t</span> used to obtain the
output value associated with <span class="eq"><strong>P</strong></span> will be adjusted to produce results
that vary linearly in framebuffer space.</p>
</div>
<div class="paragraph">
<p>Output attributes of integer or unsigned integer type <strong class="purple">must</strong> always be flat
shaded.
Flat shaded attributes are constant over the primitive being rasterized (see
<a href="chap27.html#primsrast-lines-basic">Basic Line Segment Rasterization</a> and
<a href="chap27.html#primsrast-polygons-basic">Basic Polygon Rasterization</a>), and no
interpolation is performed.
The output value <span class="eq"><strong>c</strong></span> is taken from either <span class="eq"><strong>c</strong><sub>1</sub></span> or
<span class="eq"><strong>c</strong><sub>2</sub></span>, since flat shading has already occurred and the two values
are identical.</p>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-viewportwscaling"><a class="anchor" href="chap26.html#vertexpostproc-viewportwscaling"></a>26.6. Controlling Viewport W Scaling</h3>
<div class="paragraph">
<p>If viewport <strong>W</strong> scaling is enabled, the <strong>W</strong> component of the clip coordinate
is modified by the provided coefficients from the corresponding viewport as
follows.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">w<sub>c</sub>' = x<sub>coeff</sub> x<sub>c</sub> +  y<sub>coeff</sub> y<sub>c</sub> +  w<sub>c</sub></span></p>
</dd>
</dl>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineViewportWScalingStateCreateInfoNV</code> structure is defined
as:</p>
</div>
<div id="VkPipelineViewportWScalingStateCreateInfoNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_clip_space_w_scaling</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineViewportWScalingStateCreateInfoNV {
    VkStructureType                sType;
    <span class="directive">const</span> <span class="directive">void</span>*                    pNext;
    VkBool32                       viewportWScalingEnable;
    uint32_t                       viewportCount;
    <span class="directive">const</span> VkViewportWScalingNV*    pViewportWScalings;
} VkPipelineViewportWScalingStateCreateInfoNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>viewportWScalingEnable</code> controls whether viewport <strong>W</strong> scaling is
enabled.</p>
</li>
<li>
<p><code>viewportCount</code> is the number of viewports used by <strong>W</strong> scaling, and
<strong class="purple">must</strong> match the number of viewports in the pipeline if viewport <strong>W</strong>
scaling is enabled.</p>
</li>
<li>
<p><code>pViewportWScalings</code> is a pointer to an array of
<code>VkViewportWScalingNV</code> structures defining the <strong>W</strong> scaling
parameters for the corresponding viewports.
If the viewport <strong>W</strong> scaling state is dynamic, this member is ignored.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportWScalingStateCreateInfoNV-sType-sType" href="chap26.html#VUID-VkPipelineViewportWScalingStateCreateInfoNV-sType-sType"></a> <span class="vuid">VUID-VkPipelineViewportWScalingStateCreateInfoNV-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_W_SCALING_STATE_CREATE_INFO_NV</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportWScalingStateCreateInfoNV-viewportCount-arraylength" href="chap26.html#VUID-VkPipelineViewportWScalingStateCreateInfoNV-viewportCount-arraylength"></a> <span class="vuid">VUID-VkPipelineViewportWScalingStateCreateInfoNV-viewportCount-arraylength</span><br>
 <code>viewportCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>VkPipelineViewportWScalingStateCreateInfoNV</code> state is set by adding
this structure to the <code>pNext</code> chain of a
<code>VkPipelineViewportStateCreateInfo</code> structure and setting the graphics
pipeline state with <a href="chap10.html#vkCreateGraphicsPipelines">vkCreateGraphicsPipelines</a>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the bound pipeline state object was not created with the
<code>VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV</code> dynamic state enabled, viewport
<strong>W</strong> scaling parameters are specified using the <code>pViewportWScalings</code>
member of <a href="chap26.html#VkPipelineViewportWScalingStateCreateInfoNV">VkPipelineViewportWScalingStateCreateInfoNV</a> in the pipeline
state object.
If the pipeline state object was created with the
<code>VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV</code> dynamic state enabled, the
viewport transformation parameters are dynamically set and changed with the
command:</p>
</div>
<div id="vkCmdSetViewportWScalingNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_clip_space_w_scaling</span>
<span class="directive">void</span> vkCmdSetViewportWScalingNV(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstViewport,
    uint32_t                                    viewportCount,
    <span class="directive">const</span> VkViewportWScalingNV*                 pViewportWScalings);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>firstViewport</code> is the index of the first viewport whose parameters
are updated by the command.</p>
</li>
<li>
<p><code>viewportCount</code> is the number of viewports whose parameters are
updated by the command.</p>
</li>
<li>
<p><code>pViewportWScalings</code> is a pointer to an array of
<a href="chap26.html#VkViewportWScalingNV">VkViewportWScalingNV</a> structures specifying viewport parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The viewport parameters taken from element <span class="eq">i</span> of
<code>pViewportWScalings</code> replace the current state for the viewport index
<span class="eq"><code>firstViewport</code> +  i</span>, for <span class="eq">i</span> in <span class="eq">[0,
<code>viewportCount</code>)</span>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewportWScalingNV-firstViewport-01324" href="chap26.html#VUID-vkCmdSetViewportWScalingNV-firstViewport-01324"></a> <span class="vuid">VUID-vkCmdSetViewportWScalingNV-firstViewport-01324</span><br>

The sum of <code>firstViewport</code> and <code>viewportCount</code> <strong class="purple">must</strong> be between
<code>1</code> and <a href="chap42.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxViewports</code>, inclusive</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewportWScalingNV-commandBuffer-parameter" href="chap26.html#VUID-vkCmdSetViewportWScalingNV-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetViewportWScalingNV-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWScalingNV-pViewportWScalings-parameter" href="chap26.html#VUID-vkCmdSetViewportWScalingNV-pViewportWScalings-parameter"></a> <span class="vuid">VUID-vkCmdSetViewportWScalingNV-pViewportWScalings-parameter</span><br>
 <code>pViewportWScalings</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>viewportCount</code> <a href="chap26.html#VkViewportWScalingNV">VkViewportWScalingNV</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWScalingNV-commandBuffer-recording" href="chap26.html#VUID-vkCmdSetViewportWScalingNV-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetViewportWScalingNV-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWScalingNV-commandBuffer-cmdpool" href="chap26.html#VUID-vkCmdSetViewportWScalingNV-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetViewportWScalingNV-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWScalingNV-viewportCount-arraylength" href="chap26.html#VUID-vkCmdSetViewportWScalingNV-viewportCount-arraylength"></a> <span class="vuid">VUID-vkCmdSetViewportWScalingNV-viewportCount-arraylength</span><br>
 <code>viewportCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Both <a href="chap26.html#VkPipelineViewportWScalingStateCreateInfoNV">VkPipelineViewportWScalingStateCreateInfoNV</a> and
<a href="chap26.html#vkCmdSetViewportWScalingNV">vkCmdSetViewportWScalingNV</a> use <code>VkViewportWScalingNV</code> to set the
viewport transformation parameters.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkViewportWScalingNV</code> structure is defined as:</p>
</div>
<div id="VkViewportWScalingNV" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_NV_clip_space_w_scaling</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkViewportWScalingNV {
    <span class="predefined-type">float</span>    xcoeff;
    <span class="predefined-type">float</span>    ycoeff;
} VkViewportWScalingNV;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>xcoeff</code> and <code>ycoeff</code> are the viewport’s W scaling factor for x
and y respectively.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-coord-transform"><a class="anchor" href="chap26.html#vertexpostproc-coord-transform"></a>26.7. Coordinate Transformations</h3>
<div class="paragraph">
<p><em>Clip coordinates</em> for a vertex result from shader execution, which yields a
vertex coordinate <code>Position</code>.</p>
</div>
<div class="paragraph">
<p>Perspective division on clip coordinates yields <em>normalized device
coordinates</em>, followed by a <em>viewport</em> transformation (see
<a href="chap26.html#vertexpostproc-viewport">Controlling the Viewport</a>) to convert these
coordinates into <em>framebuffer coordinates</em>.</p>
</div>
<div class="paragraph">
<p>If a vertex in clip coordinates has a position given by</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.80006em;vertical-align:-2.15003em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500299999999997em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-2.8000000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-3.39501em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-3.41001em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-4.65003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500299999999997em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-2.8000000000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-3.39501em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-3.41001em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-4.65003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>then the vertex’s normalized device coordinates are</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.8552999999999997em;vertical-align:-1.6776499999999999em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.17765em;"><span style="top:-4.33765em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7114919999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.02691em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.05255em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7475em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.02691em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-1.7674500000000002em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7114919999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.02691em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6776499999999999em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-renderpass-transform"><a class="anchor" href="chap26.html#vertexpostproc-renderpass-transform"></a>26.8. Render Pass Transform</h3>
<div class="paragraph">
<p>A <em>render pass transform</em> <strong class="purple">can</strong> be enabled for render pass instances.
The clip coordinates <span class="eq">(x<sub>c</sub>, y<sub>c</sub>)</span> that result from vertex shader
execution are transformed by a rotation of 0, 90, 180, or 270 degrees in the
XY plane, centered at the origin.</p>
</div>
<div class="paragraph">
<p>When <em>Render pass transform</em> is enabled, the transform applies to all
primitives for all subpasses of the render pass.
The transformed vertex in clip coordinates has a position given by</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em><span class="eq">θ</span></em> is 0 degrees for
<code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code></p>
</li>
<li>
<p><em><span class="eq">θ</span></em> is 90 degrees for
<code>VK_SURFACE_TRANSFORM_ROTATE_90_BIT_KHR</code></p>
</li>
<li>
<p><em><span class="eq">θ</span></em> is 180 degrees for
<code>VK_SURFACE_TRANSFORM_ROTATE_180_BIT_KHR</code></p>
</li>
<li>
<p><em><span class="eq">θ</span></em> is 270 degrees for
<code>VK_SURFACE_TRANSFORM_ROTATE_270_BIT_KHR</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The transformed vertex’s normalized device coordinates are</p>
</div>
<div class="stemblock">
<div class="content">
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.875196em;vertical-align:-1.6875979999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎜</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.187598em;"><span style="top:-4.340966em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8466319999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.02691em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.54524em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645428571428572em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.61508em;"></span><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27027999999999996em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.33605714285714283em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.0492340000000007em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8466319999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.02691em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.54524em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645428571428572em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.61508em;"></span><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27027999999999996em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.33605714285714283em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-1.7575020000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8466319999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.02691em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.54524em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645428571428572em;"><span style="top:-2.357em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.61508em;"></span><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27027999999999996em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.33605714285714283em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6875979999999997em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-2.8100000000000005em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎟</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></span>
</div>
</div>
<div class="paragraph">
<p>When render pass transform is enabled for a renderpass instance, the
following additional features are enabled:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each <a href="chap26.html#VkViewport">VkViewport</a> specified by either
<a href="chap26.html#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a>::<code>pViewports</code> or
<a href="chap26.html#vkCmdSetViewport">vkCmdSetViewport</a> will have its width/height <span class="eq">(p<sub>x</sub>, p<sub>y</sub>)</span> and
its center <span class="eq">(o<sub>x</sub>, o<sub>y</sub>)</span> similarly transformed by the
implementation.</p>
</li>
<li>
<p>Each scissor specified by
<a href="chap26.html#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a>::<code>pScissors</code> or
<a href="chap28.html#vkCmdSetScissor">vkCmdSetScissor</a> will have its <span class="eq">(offset<sub>x</sub>, offset<sub>y</sub>)</span> and
<span class="eq">(extent<sub>x</sub>, extent<sub>y</sub>)</span> similarly transformed by the
implementation.</p>
</li>
<li>
<p>The <code>renderArea</code> specified in
<a href="chap6.html#VkCommandBufferInheritanceRenderPassTransformInfoQCOM">VkCommandBufferInheritanceRenderPassTransformInfoQCOM</a> and
<a href="chap8.html#VkRenderPassBeginInfo">VkRenderPassBeginInfo</a> will be similarly transformed by the
implementation.</p>
</li>
<li>
<p>The <span class="eq">(x, y)</span> components of shader variables with built-in
decorations <code>FragCoord</code>, <code>SamplePosition</code>, or <code>PointCoord</code> will
be similarly transformed by the implementation.</p>
</li>
<li>
<p>The <span class="eq">(x,y)</span> components of the <code>offset</code> operand of the
<code>InterpolateAtOffset</code> extended instruction will be similarly
transformed by the implementation.</p>
</li>
<li>
<p>The values returned by SPIR-V <a href="chap9.html#shaders-derivative-operations">derivative instructions</a> <code>OpDPdx</code>, <code>OpDPdy</code>, <code>OpDPdxCourse</code>,
<code>OpDPdyCourse</code>, <code>OpDPdxFine</code>, <code>OpDPdyFine</code> will be similarly
transformed by the implementation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The net result of the above, is that applications <strong class="purple">can</strong> act as if rendering
to a framebuffer oriented with the
<a href="chap33.html#VkSurfaceCapabilitiesKHR">VkSurfaceCapabilitiesKHR</a>::<code>currentTransform</code>.
In other words, applications <strong class="purple">can</strong> act as if the presentation engine will be
performing the transformation of the swapchain image after rendering and
prior to presentation to the user.
In fact, the transformation of the various items cited above are being
handled by the implementation as the rendering takes place.</p>
</div>
</div>
<div class="sect2">
<h3 id="vertexpostproc-viewport"><a class="anchor" href="chap26.html#vertexpostproc-viewport"></a>26.9. Controlling the Viewport</h3>
<div class="paragraph">
<p>The viewport transformation is determined by the selected viewport’s width
and height in pixels, <span class="eq">p<sub>x</sub></span> and <span class="eq">p<sub>y</sub></span>, respectively, and its
center <span class="eq">(o<sub>x</sub>, o<sub>y</sub>)</span> (also in pixels), as well as its depth range min
and max determining a depth range scale value <span class="eq">p<sub>z</sub></span> and a depth range
bias value <span class="eq">o<sub>z</sub></span> (defined below).
The vertex’s framebuffer coordinates <span class="eq">(x<sub>f</sub>, y<sub>f</sub>, z<sub>f</sub>)</span> are given by</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">x<sub>f</sub> = (p<sub>x</sub> / 2) x<sub>d</sub> +  o<sub>x</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">y<sub>f</sub> = (p<sub>y</sub> / 2) y<sub>d</sub> +  o<sub>y</sub></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">z<sub>f</sub> = p<sub>z</sub> × z<sub>d</sub> +  o<sub>z</sub></span></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Multiple viewports are available, numbered zero up to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code> minus one.
The number of viewports used by a pipeline is controlled by the
<code>viewportCount</code> member of the <code>VkPipelineViewportStateCreateInfo</code>
structure used in pipeline creation.</p>
</div>
<div class="paragraph">
<p><span class="eq">x<sub>f</sub></span> and <span class="eq">y<sub>f</sub></span> have limited precision, where the number of
fractional bits retained is specified by
<code>VkPhysicalDeviceLimits</code>::<code>subPixelPrecisionBits</code>.
When rasterizing <a href="chap27.html#primsrast-lines">line segments</a>, the number of fractional
bits is specified by
<code>VkPhysicalDeviceLineRasterizationPropertiesEXT</code>::<code>lineSubPixelPrecisionBits</code>.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPipelineViewportStateCreateInfo</code> structure is defined as:</p>
</div>
<div id="VkPipelineViewportStateCreateInfo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkPipelineViewportStateCreateInfo {
    VkStructureType                       sType;
    <span class="directive">const</span> <span class="directive">void</span>*                           pNext;
    VkPipelineViewportStateCreateFlags    flags;
    uint32_t                              viewportCount;
    <span class="directive">const</span> VkViewport*                     pViewports;
    uint32_t                              scissorCount;
    <span class="directive">const</span> VkRect2D*                       pScissors;
} VkPipelineViewportStateCreateInfo;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is reserved for future use.</p>
</li>
<li>
<p><code>viewportCount</code> is the number of viewports used by the pipeline.</p>
</li>
<li>
<p><code>pViewports</code> is a pointer to an array of <a href="chap26.html#VkViewport">VkViewport</a>
structures, defining the viewport transforms.
If the viewport state is dynamic, this member is ignored.</p>
</li>
<li>
<p><code>scissorCount</code> is the number of <a href="chap28.html#fragops-scissor">scissors</a> and
<strong class="purple">must</strong> match the number of viewports.</p>
</li>
<li>
<p><code>pScissors</code> is a pointer to an array of <a href="chap3.html#VkRect2D">VkRect2D</a> structures
defining the rectangular bounds of the scissor for the corresponding
viewport.
If the scissor state is dynamic, this member is ignored.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-viewportCount-01216" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-viewportCount-01216"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-viewportCount-01216</span><br>

If the <a href="chap41.html#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>viewportCount</code> <strong class="purple">must</strong> not be greater than <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-01217" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-scissorCount-01217"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-scissorCount-01217</span><br>

If the <a href="chap41.html#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>scissorCount</code> <strong class="purple">must</strong> not be greater than <code>1</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-viewportCount-01218" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-viewportCount-01218"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-viewportCount-01218</span><br>

<code>viewportCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-01219" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-scissorCount-01219"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-scissorCount-01219</span><br>

<code>scissorCount</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-x-02821" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-x-02821"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-x-02821</span><br>

The <code>x</code> and <code>y</code> members of <code>offset</code> member of any element of
<code>pScissors</code> <strong class="purple">must</strong> be greater than or equal to <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-offset-02822" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-offset-02822"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-offset-02822</span><br>

Evaluation of <span class="eq">(<code>offset.x</code> +  <code>extent.width</code>)</span> <strong class="purple">must</strong> not
cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-offset-02823" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-offset-02823"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-offset-02823</span><br>

Evaluation of <span class="eq">(<code>offset.y</code> +  <code>extent.height</code>)</span> <strong class="purple">must</strong>
not cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-04134" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-scissorCount-04134"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-scissorCount-04134</span><br>

If the graphics pipeline is being created without
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT_EXT</code> and
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT_EXT</code> set then
<code>scissorCount</code> and <code>viewportCount</code> <strong class="purple">must</strong> be identical</p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-viewportCount-04135" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-viewportCount-04135"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-viewportCount-04135</span><br>

If the graphics pipeline is being created with
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT_EXT</code> set then
<code>viewportCount</code> <strong class="purple">must</strong> be <code>0</code>, otherwise it <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-scissorCount-04136" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-scissorCount-04136"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-scissorCount-04136</span><br>

If the graphics pipeline is being created with
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT_EXT</code> set then
<code>scissorCount</code> <strong class="purple">must</strong> be <code>0</code>, otherwise it <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-viewportWScalingEnable-01726" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-viewportWScalingEnable-01726"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-viewportWScalingEnable-01726</span><br>

If the <code>viewportWScalingEnable</code> member of a
<a href="chap26.html#VkPipelineViewportWScalingStateCreateInfoNV">VkPipelineViewportWScalingStateCreateInfoNV</a> structure included in
the <code>pNext</code> chain is <code>VK_TRUE</code>, the <code>viewportCount</code> member
of the <a href="chap26.html#VkPipelineViewportWScalingStateCreateInfoNV">VkPipelineViewportWScalingStateCreateInfoNV</a> structure <strong class="purple">must</strong>
be greater than or equal to
<a href="chap26.html#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a>::<code>viewportCount</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-sType-sType" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-sType-sType"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-pNext-pNext" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong class="purple">must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="chap27.html#VkPipelineViewportCoarseSampleOrderStateCreateInfoNV">VkPipelineViewportCoarseSampleOrderStateCreateInfoNV</a>, <a href="chap28.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV">VkPipelineViewportExclusiveScissorStateCreateInfoNV</a>, <a href="chap27.html#VkPipelineViewportShadingRateImageStateCreateInfoNV">VkPipelineViewportShadingRateImageStateCreateInfoNV</a>, <a href="chap26.html#VkPipelineViewportSwizzleStateCreateInfoNV">VkPipelineViewportSwizzleStateCreateInfoNV</a>, or <a href="chap26.html#VkPipelineViewportWScalingStateCreateInfoNV">VkPipelineViewportWScalingStateCreateInfoNV</a></p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-sType-unique" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-sType-unique"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPipelineViewportStateCreateInfo-flags-zerobitmask" href="chap26.html#VUID-VkPipelineViewportStateCreateInfo-flags-zerobitmask"></a> <span class="vuid">VUID-VkPipelineViewportStateCreateInfo-flags-zerobitmask</span><br>
 <code>flags</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT_EXT</code> dynamic state enabled then
the viewport count and viewport transformation parameters are set
dynamically by calling:</p>
</div>
<div id="vkCmdSetViewportWithCountEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_extended_dynamic_state</span>
<span class="directive">void</span> vkCmdSetViewportWithCountEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    viewportCount,
    <span class="directive">const</span> VkViewport*                           pViewports);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>viewportCount</code> specifies the viewport count.</p>
</li>
<li>
<p><code>pViewports</code> specifies the viewports to use for drawing.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewportWithCountEXT-None-03393" href="chap26.html#VUID-vkCmdSetViewportWithCountEXT-None-03393"></a> <span class="vuid">VUID-vkCmdSetViewportWithCountEXT-None-03393</span><br>

The <a href="chap41.html#features-extendedDynamicState">extendedDynamicState</a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCountEXT-viewportCount-03394" href="chap26.html#VUID-vkCmdSetViewportWithCountEXT-viewportCount-03394"></a> <span class="vuid">VUID-vkCmdSetViewportWithCountEXT-viewportCount-03394</span><br>

<code>viewportCount</code> <strong class="purple">must</strong> be between <code>1</code> and
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCountEXT-viewportCount-03395" href="chap26.html#VUID-vkCmdSetViewportWithCountEXT-viewportCount-03395"></a> <span class="vuid">VUID-vkCmdSetViewportWithCountEXT-viewportCount-03395</span><br>

If the <a href="chap41.html#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>viewportCount</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCountEXT-commandBuffer-04819" href="chap26.html#VUID-vkCmdSetViewportWithCountEXT-commandBuffer-04819"></a> <span class="vuid">VUID-vkCmdSetViewportWithCountEXT-commandBuffer-04819</span><br>

<code>commandBuffer</code> <strong class="purple">must</strong> not have
<a href="chap6.html#VkCommandBufferInheritanceViewportScissorInfoNV">VkCommandBufferInheritanceViewportScissorInfoNV</a>::<code>viewportScissor2D</code>
enabled.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewportWithCountEXT-commandBuffer-parameter" href="chap26.html#VUID-vkCmdSetViewportWithCountEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetViewportWithCountEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCountEXT-pViewports-parameter" href="chap26.html#VUID-vkCmdSetViewportWithCountEXT-pViewports-parameter"></a> <span class="vuid">VUID-vkCmdSetViewportWithCountEXT-pViewports-parameter</span><br>
 <code>pViewports</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>viewportCount</code> valid <a href="chap26.html#VkViewport">VkViewport</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCountEXT-commandBuffer-recording" href="chap26.html#VUID-vkCmdSetViewportWithCountEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetViewportWithCountEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCountEXT-commandBuffer-cmdpool" href="chap26.html#VUID-vkCmdSetViewportWithCountEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetViewportWithCountEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewportWithCountEXT-viewportCount-arraylength" href="chap26.html#VUID-vkCmdSetViewportWithCountEXT-viewportCount-arraylength"></a> <span class="vuid">VUID-vkCmdSetViewportWithCountEXT-viewportCount-arraylength</span><br>
 <code>viewportCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the bound graphics pipeline state was created with the
<code>VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT_EXT</code> dynamic state enabled then the
scissor count and scissor rectangular bounds are set dynamically by calling:</p>
</div>
<div id="vkCmdSetScissorWithCountEXT" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_EXT_extended_dynamic_state</span>
<span class="directive">void</span> vkCmdSetScissorWithCountEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    scissorCount,
    <span class="directive">const</span> VkRect2D*                             pScissors);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>scissorCount</code> specifies the scissor count.</p>
</li>
<li>
<p><code>pScissors</code> specifies the scissors to use for drawing.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-None-03396" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-None-03396"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-None-03396</span><br>

The <a href="chap41.html#features-extendedDynamicState">extendedDynamicState</a> feature
<strong class="purple">must</strong> be enabled</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-scissorCount-03397" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-scissorCount-03397"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-scissorCount-03397</span><br>

<code>scissorCount</code> <strong class="purple">must</strong> be between <code>1</code> and
<code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-scissorCount-03398" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-scissorCount-03398"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-scissorCount-03398</span><br>

If the <a href="chap41.html#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>scissorCount</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-x-03399" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-x-03399"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-x-03399</span><br>

The <code>x</code> and <code>y</code> members of <code>offset</code> member of any element of
<code>pScissors</code> <strong class="purple">must</strong> be greater than or equal to <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-offset-03400" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-offset-03400"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-offset-03400</span><br>

Evaluation of <span class="eq">(<code>offset.x</code> +  <code>extent.width</code>)</span> <strong class="purple">must</strong> not
cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-offset-03401" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-offset-03401"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-offset-03401</span><br>

Evaluation of <span class="eq">(<code>offset.y</code> +  <code>extent.height</code>)</span> <strong class="purple">must</strong>
not cause a signed integer addition overflow for any element of
<code>pScissors</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-commandBuffer-04820" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-commandBuffer-04820"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-commandBuffer-04820</span><br>

<code>commandBuffer</code> <strong class="purple">must</strong> not have
<a href="chap6.html#VkCommandBufferInheritanceViewportScissorInfoNV">VkCommandBufferInheritanceViewportScissorInfoNV</a>::<code>viewportScissor2D</code>
enabled.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-commandBuffer-parameter" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-pScissors-parameter" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-pScissors-parameter"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-pScissors-parameter</span><br>
 <code>pScissors</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>scissorCount</code> <a href="chap3.html#VkRect2D">VkRect2D</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-commandBuffer-recording" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-commandBuffer-cmdpool" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetScissorWithCountEXT-scissorCount-arraylength" href="chap26.html#VUID-vkCmdSetScissorWithCountEXT-scissorCount-arraylength"></a> <span class="vuid">VUID-vkCmdSetScissorWithCountEXT-scissorCount-arraylength</span><br>
 <code>scissorCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkPipelineViewportStateCreateFlags" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="keyword">typedef</span> VkFlags VkPipelineViewportStateCreateFlags;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkPipelineViewportStateCreateFlags</code> is a bitmask type for setting a
mask, but is currently reserved for future use.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>A <em><a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a></em> <strong class="purple">can</strong> direct each primitive to zero or more viewports.
The destination viewports for a primitive are selected by the last active
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a> that has an output variable decorated with <code>ViewportIndex</code>
(selecting a single viewport) or <code>ViewportMaskNV</code> (selecting multiple
viewports).
The viewport transform uses the viewport corresponding to either the value
assigned to <code>ViewportIndex</code> or one of the bits set in
<code>ViewportMaskNV</code>, and taken from an implementation-dependent vertex of
each primitive.
If <code>ViewportIndex</code> or any of the bits in <code>ViewportMaskNV</code> are outside
the range zero to <code>viewportCount</code> minus one for a primitive, or if the
last active <a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization
shader stage</a> did not assign a value to either <code>ViewportIndex</code> or
<code>ViewportMaskNV</code> for all vertices of a primitive due to flow control, the
values resulting from the viewport transformation of the vertices of such
primitives are undefined.
If the last <a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization
shader stage</a> does not have an output decorated with <code>ViewportIndex</code> or
<code>ViewportMaskNV</code>, the viewport numbered zero is used by the viewport
transformation.</p>
</div>
<div class="paragraph">
<p>A single vertex <strong class="purple">can</strong> be used in more than one individual primitive, in
primitives such as <code>VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP</code>.
In this case, the viewport transformation is applied separately for each
primitive.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the bound pipeline state object was not created with the
<code>VK_DYNAMIC_STATE_VIEWPORT</code> dynamic state enabled, viewport
transformation parameters are specified using the <code>pViewports</code> member of
<code>VkPipelineViewportStateCreateInfo</code> in the pipeline state object.
If the pipeline state object was created with the
<code>VK_DYNAMIC_STATE_VIEWPORT</code> dynamic state enabled, the viewport
transformation parameters are dynamically set and changed with the command:</p>
</div>
<div id="vkCmdSetViewport" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="directive">void</span> vkCmdSetViewport(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    firstViewport,
    uint32_t                                    viewportCount,
    <span class="directive">const</span> VkViewport*                           pViewports);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>commandBuffer</code> is the command buffer into which the command will be
recorded.</p>
</li>
<li>
<p><code>firstViewport</code> is the index of the first viewport whose parameters
are updated by the command.</p>
</li>
<li>
<p><code>viewportCount</code> is the number of viewports whose parameters are
updated by the command.</p>
</li>
<li>
<p><code>pViewports</code> is a pointer to an array of <a href="chap26.html#VkViewport">VkViewport</a> structures
specifying viewport parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The viewport parameters taken from element <span class="eq">i</span> of <code>pViewports</code>
replace the current state for the viewport index <span class="eq"><code>firstViewport</code>
+  i</span>, for <span class="eq">i</span> in <span class="eq">[0, <code>viewportCount</code>)</span>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewport-firstViewport-01223" href="chap26.html#VUID-vkCmdSetViewport-firstViewport-01223"></a> <span class="vuid">VUID-vkCmdSetViewport-firstViewport-01223</span><br>

The sum of <code>firstViewport</code> and <code>viewportCount</code> <strong class="purple">must</strong> be between
<code>1</code> and <code>VkPhysicalDeviceLimits</code>::<code>maxViewports</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-firstViewport-01224" href="chap26.html#VUID-vkCmdSetViewport-firstViewport-01224"></a> <span class="vuid">VUID-vkCmdSetViewport-firstViewport-01224</span><br>

If the <a href="chap41.html#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>firstViewport</code> <strong class="purple">must</strong> be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-viewportCount-01225" href="chap26.html#VUID-vkCmdSetViewport-viewportCount-01225"></a> <span class="vuid">VUID-vkCmdSetViewport-viewportCount-01225</span><br>

If the <a href="chap41.html#features-multiViewport">multiple viewports</a> feature is not
enabled, <code>viewportCount</code> <strong class="purple">must</strong> be <code>1</code></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-commandBuffer-04821" href="chap26.html#VUID-vkCmdSetViewport-commandBuffer-04821"></a> <span class="vuid">VUID-vkCmdSetViewport-commandBuffer-04821</span><br>

<code>commandBuffer</code> <strong class="purple">must</strong> not have
<a href="chap6.html#VkCommandBufferInheritanceViewportScissorInfoNV">VkCommandBufferInheritanceViewportScissorInfoNV</a>::<code>viewportScissor2D</code>
enabled.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkCmdSetViewport-commandBuffer-parameter" href="chap26.html#VUID-vkCmdSetViewport-commandBuffer-parameter"></a> <span class="vuid">VUID-vkCmdSetViewport-commandBuffer-parameter</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be a valid <a href="chap6.html#VkCommandBuffer">VkCommandBuffer</a> handle</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-pViewports-parameter" href="chap26.html#VUID-vkCmdSetViewport-pViewports-parameter"></a> <span class="vuid">VUID-vkCmdSetViewport-pViewports-parameter</span><br>
 <code>pViewports</code> <strong class="purple">must</strong> be a valid pointer to an array of <code>viewportCount</code> valid <a href="chap26.html#VkViewport">VkViewport</a> structures</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-commandBuffer-recording" href="chap26.html#VUID-vkCmdSetViewport-commandBuffer-recording"></a> <span class="vuid">VUID-vkCmdSetViewport-commandBuffer-recording</span><br>
 <code>commandBuffer</code> <strong class="purple">must</strong> be in the <a href="chap6.html#commandbuffers-lifecycle">recording state</a></p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-commandBuffer-cmdpool" href="chap26.html#VUID-vkCmdSetViewport-commandBuffer-cmdpool"></a> <span class="vuid">VUID-vkCmdSetViewport-commandBuffer-cmdpool</span><br>
 The <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> support graphics operations</p>
</li>
<li>
<p><a id="VUID-vkCmdSetViewport-viewportCount-arraylength" href="chap26.html#VUID-vkCmdSetViewport-viewportCount-arraylength"></a> <span class="vuid">VUID-vkCmdSetViewport-viewportCount-arraylength</span><br>
 <code>viewportCount</code> <strong class="purple">must</strong> be greater than <code>0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Host Synchronization</div>
<div class="ulist">
<ul>
<li>
<p>Host access to <code>commandBuffer</code> <strong class="purple">must</strong> be externally synchronized</p>
</li>
<li>
<p>Host access to the <code>VkCommandPool</code> that <code>commandBuffer</code> was allocated from <strong class="purple">must</strong> be externally synchronized</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Command Properties</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="chap6.html#VkCommandBufferLevel">Command Buffer Levels</a></th>
<th class="tableblock halign-left valign-top"><a href="chap8.html#vkCmdBeginRenderPass">Render Pass Scope</a></th>
<th class="tableblock halign-left valign-top"><a href="chap5.html#VkQueueFlagBits">Supported Queue Types</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary<br>
Secondary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphics</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Both <a href="chap26.html#VkPipelineViewportStateCreateInfo">VkPipelineViewportStateCreateInfo</a> and <a href="chap26.html#vkCmdSetViewport">vkCmdSetViewport</a> use
<code>VkViewport</code> to set the viewport transformation parameters.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkViewport</code> structure is defined as:</p>
</div>
<div id="VkViewport" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="c++"><span class="comment">// Provided by VK_VERSION_1_0</span>
<span class="keyword">typedef</span> <span class="keyword">struct</span> VkViewport {
    <span class="predefined-type">float</span>    x;
    <span class="predefined-type">float</span>    y;
    <span class="predefined-type">float</span>    width;
    <span class="predefined-type">float</span>    height;
    <span class="predefined-type">float</span>    minDepth;
    <span class="predefined-type">float</span>    maxDepth;
} VkViewport;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> and <code>y</code> are the viewport’s upper left corner <span class="eq">(x,y)</span>.</p>
</li>
<li>
<p><code>width</code> and <code>height</code> are the viewport’s width and height,
respectively.</p>
</li>
<li>
<p><code>minDepth</code> and <code>maxDepth</code> are the depth range for the viewport.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Despite their names, <code>minDepth</code> <strong class="purple">can</strong> be less than, equal to, or greater
than <code>maxDepth</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The framebuffer depth coordinate <span class="eq"><code>z</code><sub>f</sub></span> <strong class="purple">may</strong> be represented using
either a fixed-point or floating-point representation.
However, a floating-point representation <strong class="purple">must</strong> be used if the depth/stencil
attachment has a floating-point depth component.
If an <span class="eq">m</span>-bit fixed-point representation is used, we assume that it
represents each value <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.283439em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935428571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>, where <span class="eq">k ∈ {
0, 1, …​, 2<sup>m</sup>-1 }</span>, as <span class="eq">k</span> (e.g. 1.0 is represented in binary as a
string of all ones).</p>
</div>
<div class="paragraph">
<p>The viewport parameters shown in the above equations are found from these
values as</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">o<sub>x</sub> = <code>x</code> +  <code>width</code> / 2</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">o<sub>y</sub> = <code>y</code> +  <code>height</code> / 2</span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">o<sub>z</sub> = <code>minDepth</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>x</sub> = <code>width</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>y</sub> = <code>height</code></span></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><span class="eq">p<sub>z</sub> = <code>maxDepth</code> - <code>minDepth</code></span>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If a render pass transform is enabled, the values <span class="eq">(p<sub>x</sub>,p<sub>y</sub>)</span> and
<span class="eq">(o<sub>x</sub>, o<sub>y</sub>)</span> defining the viewport are transformed as described in
<a href="chap26.html#vertexpostproc-renderpass-transform">render pass transform</a> before
participating in the viewport transform.</p>
</div>
<div class="paragraph">
<p>The application <strong class="purple">can</strong> specify a negative term for <code>height</code>, which has the
effect of negating the y coordinate in clip space before performing the
transform.
When using a negative <code>height</code>, the application <strong class="purple">should</strong> also adjust the
<code>y</code> value to point to the lower left corner of the viewport instead of
the upper left corner.
Using the negative <code>height</code> allows the application to avoid having to
negate the y component of the <code>Position</code> output from the last
<a href="chap10.html#pipeline-graphics-subsets-pre-rasterization">pre-rasterization shader
stage</a>.</p>
</div>
<div class="paragraph">
<p>The width and height of the <a href="chap42.html#limits-maxViewportDimensions">implementation-dependent maximum viewport dimensions</a> <strong class="purple">must</strong> be greater than
or equal to the width and height of the largest image which <strong class="purple">can</strong> be created
and attached to a framebuffer.</p>
</div>
<div class="paragraph">
<p>The floating-point viewport bounds are represented with an
<a href="chap42.html#limits-viewportSubPixelBits">implementation-dependent precision</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkViewport-width-01770" href="chap26.html#VUID-VkViewport-width-01770"></a> <span class="vuid">VUID-VkViewport-width-01770</span><br>

<code>width</code> <strong class="purple">must</strong> be greater than <code>0.0</code></p>
</li>
<li>
<p><a id="VUID-VkViewport-width-01771" href="chap26.html#VUID-VkViewport-width-01771"></a> <span class="vuid">VUID-VkViewport-width-01771</span><br>

<code>width</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewportDimensions</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkViewport-height-01773" href="chap26.html#VUID-VkViewport-height-01773"></a> <span class="vuid">VUID-VkViewport-height-01773</span><br>

The absolute value of <code>height</code> <strong class="purple">must</strong> be less than or equal to
<code>VkPhysicalDeviceLimits</code>::<code>maxViewportDimensions</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkViewport-x-01774" href="chap26.html#VUID-VkViewport-x-01774"></a> <span class="vuid">VUID-VkViewport-x-01774</span><br>

<code>x</code> <strong class="purple">must</strong> be greater than or equal to <code>viewportBoundsRange</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkViewport-x-01232" href="chap26.html#VUID-VkViewport-x-01232"></a> <span class="vuid">VUID-VkViewport-x-01232</span><br>

<span class="eq">(<code>x</code> +  <code>width</code>)</span> <strong class="purple">must</strong> be less than or equal to
<code>viewportBoundsRange</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkViewport-y-01775" href="chap26.html#VUID-VkViewport-y-01775"></a> <span class="vuid">VUID-VkViewport-y-01775</span><br>

<code>y</code> <strong class="purple">must</strong> be greater than or equal to <code>viewportBoundsRange</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkViewport-y-01776" href="chap26.html#VUID-VkViewport-y-01776"></a> <span class="vuid">VUID-VkViewport-y-01776</span><br>

<code>y</code> <strong class="purple">must</strong> be less than or equal to <code>viewportBoundsRange</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkViewport-y-01777" href="chap26.html#VUID-VkViewport-y-01777"></a> <span class="vuid">VUID-VkViewport-y-01777</span><br>

<span class="eq">(<code>y</code> +  <code>height</code>)</span> <strong class="purple">must</strong> be greater than or equal to
<code>viewportBoundsRange</code>[0]</p>
</li>
<li>
<p><a id="VUID-VkViewport-y-01233" href="chap26.html#VUID-VkViewport-y-01233"></a> <span class="vuid">VUID-VkViewport-y-01233</span><br>

<span class="eq">(<code>y</code> +  <code>height</code>)</span> <strong class="purple">must</strong> be less than or equal to
<code>viewportBoundsRange</code>[1]</p>
</li>
<li>
<p><a id="VUID-VkViewport-minDepth-01234" href="chap26.html#VUID-VkViewport-minDepth-01234"></a> <span class="vuid">VUID-VkViewport-minDepth-01234</span><br>

Unless <code><a href="chap50.html#VK_EXT_depth_range_unrestricted">VK_EXT_depth_range_unrestricted</a></code> extension is enabled
<code>minDepth</code> <strong class="purple">must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
<li>
<p><a id="VUID-VkViewport-maxDepth-01235" href="chap26.html#VUID-VkViewport-maxDepth-01235"></a> <span class="vuid">VUID-VkViewport-maxDepth-01235</span><br>

Unless <code><a href="chap50.html#VK_EXT_depth_range_unrestricted">VK_EXT_depth_range_unrestricted</a></code> extension is enabled
<code>maxDepth</code> <strong class="purple">must</strong> be between <code>0.0</code> and <code>1.0</code>, inclusive</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap25.html" class="nav nav-prev" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap27.html" class="nav nav-next" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer" style="max-width: 100%;">
<div id="footer-text">
Version 1.1.183<br>
Last updated 2021-04-13 01:33:51 -0700
</div>
</div>



</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }
  </script>
  </html>