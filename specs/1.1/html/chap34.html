<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<meta name="author" content="The Khronos® Vulkan Working Group">
<title>Vulkan® 1.1.218 - A Specification</title>
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="style2.css" type="text/css">

<!-- dragged in by font-awesome css included by asciidoctor, but preloaded in this extension for convenience -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" crossorigin="">

<!-- Note: Chrome needs crossorigin="" even for same-origin fonts -->
<link rel="preload" href="../katex/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="../katex/fonts/KaTeX_Typewriter-Regular.woff2" as="font" type="font/woff2" crossorigin=""><link rel="stylesheet" href="../katex/katex.min.css">
<!--ChunkedSearchJSMarker-->
<link href="chunked.css?4" rel="stylesheet">
<script>var searchindexurl = 'search.index.js?4' + (document.title.replace(/[^0-9.]/g, ''));</script>
<script src="chunked.js?4"></script>
<link rel="stylesheet" href="style3.css" type="text/css">
<script>
    function hideElement(e){
        e.setAttribute("hidden", "");
        e.classList.add("hidden");
    }

    function unhideElement(e){
        e.classList.remove("hidden");
        e.removeAttribute("hidden");
    }

    function hideLoadableContent(){
        unhideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) hideElement(loadable);
    }

    function unhideLoadableContent(){
        hideElement( document.getElementById("loading_msg") );
        for( var loadable of document.getElementsByClassName("loadable") ) unhideElement(loadable);
    }

    window.addEventListener("load", unhideLoadableContent);
</script>
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Vulkan<sup>®</sup> 1.1.218 - A Specification </h1>
<div class="details">
<span id="author" class="author">The Khronos<sup>®</sup> Vulkan Working Group</span><br>
<span id="revnumber">version 1.1.218,</span>
<span id="revdate">2022-06-16 09:36:32Z</span>
<br><span id="revremark">from git branch: github-main commit: 067a92d083e6a7ec97ef3bcc34e5b75fa71eec79</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="chap1.html">1. Preamble</a></li>
<li><a href="chap2.html">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="chap2.html#introduction-conventions">2.1. Document Conventions</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Fundamentals</a>
<ul class="sectlevel2">
<li><a href="chap3.html#fundamentals-host-environment">3.1. Host and Device Environment</a></li>
<li><a href="chap3.html#fundamentals-execmodel">3.2. Execution Model</a></li>
<li><a href="chap3.html#fundamentals-objectmodel-overview">3.3. Object Model</a></li>
<li><a href="chap3.html#fundamentals-abi">3.4. Application Binary Interface</a></li>
<li><a href="chap3.html#fundamentals-commandsyntax">3.5. Command Syntax and Duration</a></li>
<li><a href="chap3.html#fundamentals-threadingbehavior">3.6. Threading Behavior</a></li>
<li><a href="chap3.html#fundamentals-validusage">3.7. Valid Usage</a></li>
<li><a href="chap3.html#fundamentals-returncodes">3.8. <code>VkResult</code> Return Codes</a></li>
<li><a href="chap3.html#fundamentals-numerics">3.9. Numeric Representation and Computation</a></li>
<li><a href="chap3.html#fundamentals-fixedconv">3.10. Fixed-Point Data Conversions</a></li>
<li><a href="chap3.html#fundamentals-common-objects">3.11. Common Object Types</a></li>
<li><a href="chap3.html#fundamentals-api-name-aliases">3.12. API Name Aliases</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Initialization</a>
<ul class="sectlevel2">
<li><a href="chap4.html#initialization-functionpointers">4.1. Command Function Pointers</a></li>
<li><a href="chap4.html#initialization-instances">4.2. Instances</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Devices and Queues</a>
<ul class="sectlevel2">
<li><a href="chap5.html#devsandqueues-physical-device-enumeration">5.1. Physical Devices</a></li>
<li><a href="chap5.html#devsandqueues-devices">5.2. Devices</a></li>
<li><a href="chap5.html#devsandqueues-queues">5.3. Queues</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Command Buffers</a>
<ul class="sectlevel2">
<li><a href="chap6.html#commandbuffers-lifecycle">6.1. Command Buffer Lifecycle</a></li>
<li><a href="chap6.html#commandbuffers-pools">6.2. Command Pools</a></li>
<li><a href="chap6.html#commandbuffer-allocation">6.3. Command Buffer Allocation and Management</a></li>
<li><a href="chap6.html#commandbuffers-recording">6.4. Command Buffer Recording</a></li>
<li><a href="chap6.html#commandbuffers-submission">6.5. Command Buffer Submission</a></li>
<li><a href="chap6.html#commandbuffers-submission-progress">6.6. Queue Forward Progress</a></li>
<li><a href="chap6.html#commandbuffers-secondary">6.7. Secondary Command Buffer Execution</a></li>
<li><a href="chap6.html#commandbuffers-devicemask">6.8. Command Buffer Device Mask</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Synchronization and Cache Control</a>
<ul class="sectlevel2">
<li><a href="chap7.html#synchronization-dependencies">7.1. Execution and Memory Dependencies</a></li>
<li><a href="chap7.html#synchronization-implicit">7.2. Implicit Synchronization Guarantees</a></li>
<li><a href="chap7.html#synchronization-fences">7.3. Fences</a></li>
<li><a href="chap7.html#synchronization-semaphores">7.4. Semaphores</a></li>
<li><a href="chap7.html#synchronization-events">7.5. Events</a></li>
<li><a href="chap7.html#synchronization-pipeline-barriers">7.6. Pipeline Barriers</a></li>
<li><a href="chap7.html#synchronization-memory-barriers">7.7. Memory Barriers</a></li>
<li><a href="chap7.html#synchronization-wait-idle">7.8. Wait Idle Operations</a></li>
<li><a href="chap7.html#synchronization-submission-host-writes">7.9. Host Write Ordering Guarantees</a></li>
<li><a href="chap7.html#synchronization-device-group">7.10. Synchronization and Multiple Physical Devices</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Render Pass</a>
<ul class="sectlevel2">
<li><a href="chap8.html#renderpass-creation">8.1. Render Pass Creation</a></li>
<li><a href="chap8.html#renderpass-compatibility">8.2. Render Pass Compatibility</a></li>
<li><a href="chap8.html#_framebuffers">8.3. Framebuffers</a></li>
<li><a href="chap8.html#renderpass-commands">8.4. Render Pass Commands</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Shaders</a>
<ul class="sectlevel2">
<li><a href="chap9.html#shader-modules">9.1. Shader Modules</a></li>
<li><a href="chap9.html#shaders-execution">9.2. Shader Execution</a></li>
<li><a href="chap9.html#shaders-execution-memory-ordering">9.3. Shader Memory Access Ordering</a></li>
<li><a href="chap9.html#shaders-inputs">9.4. Shader Inputs and Outputs</a></li>
<li><a href="chap9.html#shaders-vertex">9.5. Vertex Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-control">9.6. Tessellation Control Shaders</a></li>
<li><a href="chap9.html#shaders-tessellation-evaluation">9.7. Tessellation Evaluation Shaders</a></li>
<li><a href="chap9.html#shaders-geometry">9.8. Geometry Shaders</a></li>
<li><a href="chap9.html#shaders-fragment">9.9. Fragment Shaders</a></li>
<li><a href="chap9.html#shaders-compute">9.10. Compute Shaders</a></li>
<li><a href="chap9.html#shaders-interpolation-decorations">9.11. Interpolation Decorations</a></li>
<li><a href="chap9.html#shaders-staticuse">9.12. Static Use</a></li>
<li><a href="chap9.html#shaders-scope">9.13. Scope</a></li>
<li><a href="chap9.html#shaders-group-operations">9.14. Group Operations</a></li>
<li><a href="chap9.html#shaders-quad-operations">9.15. Quad Group Operations</a></li>
<li><a href="chap9.html#shaders-derivative-operations">9.16. Derivative Operations</a></li>
<li><a href="chap9.html#shaders-helper-invocations">9.17. Helper Invocations</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Pipelines</a>
<ul class="sectlevel2">
<li><a href="chap10.html#pipelines-compute">10.1. Compute Pipelines</a></li>
<li><a href="chap10.html#pipelines-graphics">10.2. Graphics Pipelines</a></li>
<li><a href="chap10.html#pipelines-destruction">10.3. Pipeline Destruction</a></li>
<li><a href="chap10.html#pipelines-multiple">10.4. Multiple Pipeline Creation</a></li>
<li><a href="chap10.html#pipelines-pipeline-derivatives">10.5. Pipeline Derivatives</a></li>
<li><a href="chap10.html#pipelines-cache">10.6. Pipeline Cache</a></li>
<li><a href="chap10.html#pipelines-specialization-constants">10.7. Specialization Constants</a></li>
<li><a href="chap10.html#pipelines-binding">10.8. Pipeline Binding</a></li>
<li><a href="chap10.html#pipelines-dynamic-state">10.9. Dynamic State</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Memory Allocation</a>
<ul class="sectlevel2">
<li><a href="chap11.html#memory-host">11.1. Host Memory</a></li>
<li><a href="chap11.html#memory-device">11.2. Device Memory</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Resource Creation</a>
<ul class="sectlevel2">
<li><a href="chap12.html#resources-buffers">12.1. Buffers</a></li>
<li><a href="chap12.html#resources-buffer-views">12.2. Buffer Views</a></li>
<li><a href="chap12.html#resources-images">12.3. Images</a></li>
<li><a href="chap12.html#resources-image-layouts">12.4. Image Layouts</a></li>
<li><a href="chap12.html#resources-image-views">12.5. Image Views</a></li>
<li><a href="chap12.html#resources-association">12.6. Resource Memory Association</a></li>
<li><a href="chap12.html#resources-sharing">12.7. Resource Sharing Mode</a></li>
<li><a href="chap12.html#resources-memory-aliasing">12.8. Memory Aliasing</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Samplers</a>
<ul class="sectlevel2">
<li><a href="chap13.html#samplers-YCbCr-conversion">13.1. Sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Resource Descriptors</a>
<ul class="sectlevel2">
<li><a href="chap14.html#descriptorsets-types">14.1. Descriptor Types</a></li>
<li><a href="chap14.html#descriptorsets-sets">14.2. Descriptor Sets</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Shader Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#interfaces-iointerfaces">15.1. Shader Input and Output Interfaces</a></li>
<li><a href="chap15.html#interfaces-vertexinput">15.2. Vertex Input Interface</a></li>
<li><a href="chap15.html#interfaces-fragmentoutput">15.3. Fragment Output Interface</a></li>
<li><a href="chap15.html#interfaces-inputattachment">15.4. Fragment Input Attachment Interface</a></li>
<li><a href="chap15.html#interfaces-resources">15.5. Shader Resource Interface</a></li>
<li><a href="chap15.html#interfaces-builtin-variables">15.6. Built-In Variables</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Image Operations</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_image_operations_overview">16.1. Image Operations Overview</a></li>
<li><a href="chap16.html#_conversion_formulas">16.2. Conversion Formulas</a></li>
<li><a href="chap16.html#_texel_input_operations">16.3. Texel Input Operations</a></li>
<li><a href="chap16.html#_texel_output_operations">16.4. Texel Output Operations</a></li>
<li><a href="chap16.html#textures-normalized-operations">16.5. Normalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#_unnormalized_texel_coordinate_operations">16.6. Unnormalized Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-integer-coordinate-operations">16.7. Integer Texel Coordinate Operations</a></li>
<li><a href="chap16.html#textures-sample-operations">16.8. Image Sample Operations</a></li>
<li><a href="chap16.html#textures-instructions">16.9. Image Operation Steps</a></li>
<li><a href="chap16.html#textures-queries">16.10. Image Query Instructions</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Queries</a>
<ul class="sectlevel2">
<li><a href="chap17.html#queries-pools">17.1. Query Pools</a></li>
<li><a href="chap17.html#queries-operation">17.2. Query Operation</a></li>
<li><a href="chap17.html#queries-occlusion">17.3. Occlusion Queries</a></li>
<li><a href="chap17.html#queries-pipestats">17.4. Pipeline Statistics Queries</a></li>
<li><a href="chap17.html#queries-timestamps">17.5. Timestamp Queries</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Clear Commands</a>
<ul class="sectlevel2">
<li><a href="chap18.html#clears-outside">18.1. Clearing Images Outside A Render Pass Instance</a></li>
<li><a href="chap18.html#clears-inside">18.2. Clearing Images Inside A Render Pass Instance</a></li>
<li><a href="chap18.html#clears-values">18.3. Clear Values</a></li>
<li><a href="chap18.html#clears-filling-buffers">18.4. Filling Buffers</a></li>
<li><a href="chap18.html#clears-updating-buffers">18.5. Updating Buffers</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Copy Commands</a>
<ul class="sectlevel2">
<li><a href="chap19.html#copies-buffers">19.1. Copying Data Between Buffers</a></li>
<li><a href="chap19.html#copies-images">19.2. Copying Data Between Images</a></li>
<li><a href="chap19.html#copies-buffers-images">19.3. Copying Data Between Buffers and Images</a></li>
<li><a href="chap19.html#copies-imagescaling">19.4. Image Copies with Scaling</a></li>
<li><a href="chap19.html#copies-resolve">19.5. Resolving Multisample Images</a></li>
</ul>
</li>
<li><a href="chap20.html">20. Drawing Commands</a>
<ul class="sectlevel2">
<li><a href="chap20.html#drawing-primitive-topologies">20.1. Primitive Topologies</a></li>
<li><a href="chap20.html#drawing-primitive-order">20.2. Primitive Order</a></li>
<li><a href="chap20.html#drawing-primitive-shading">20.3. Programmable Primitive Shading</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Fixed-Function Vertex Processing</a>
<ul class="sectlevel2">
<li><a href="chap21.html#fxvertex-attrib">21.1. Vertex Attributes</a></li>
<li><a href="chap21.html#fxvertex-input">21.2. Vertex Input Description</a></li>
<li><a href="chap21.html#fxvertex-input-address-calculation">21.3. Vertex Input Address Calculation</a></li>
</ul>
</li>
<li><a href="chap22.html">22. Tessellation</a>
<ul class="sectlevel2">
<li><a href="chap22.html#_tessellator">22.1. Tessellator</a></li>
<li><a href="chap22.html#_tessellator_patch_discard">22.2. Tessellator Patch Discard</a></li>
<li><a href="chap22.html#tessellation-tessellator-spacing">22.3. Tessellator Spacing</a></li>
<li><a href="chap22.html#tessellation-primitive-order">22.4. Tessellation Primitive Ordering</a></li>
<li><a href="chap22.html#tessellation-vertex-winding-order">22.5. Tessellator Vertex Winding Order</a></li>
<li><a href="chap22.html#tessellation-triangle-tessellation">22.6. Triangle Tessellation</a></li>
<li><a href="chap22.html#tessellation-quad-tessellation">22.7. Quad Tessellation</a></li>
<li><a href="chap22.html#tessellation-isoline-tessellation">22.8. Isoline Tessellation</a></li>
<li><a href="chap22.html#tessellation-point-mode">22.9. Tessellation Point Mode</a></li>
<li><a href="chap22.html#_tessellation_pipeline_state">22.10. Tessellation Pipeline State</a></li>
</ul>
</li>
<li><a href="chap23.html">23. Geometry Shading</a>
<ul class="sectlevel2">
<li><a href="chap23.html#geometry-input">23.1. Geometry Shader Input Primitives</a></li>
<li><a href="chap23.html#geometry-output">23.2. Geometry Shader Output Primitives</a></li>
<li><a href="chap23.html#geometry-invocations">23.3. Multiple Invocations of Geometry Shaders</a></li>
<li><a href="chap23.html#geometry-ordering">23.4. Geometry Shader Primitive Ordering</a></li>
</ul>
</li>
<li><a href="chap24.html">24. Fixed-Function Vertex Post-Processing</a>
<ul class="sectlevel2">
<li><a href="chap24.html#vertexpostproc-flatshading">24.1. Flat Shading</a></li>
<li><a href="chap24.html#vertexpostproc-clipping">24.2. Primitive Clipping</a></li>
<li><a href="chap24.html#vertexpostproc-clipping-shader-outputs">24.3. Clipping Shader Outputs</a></li>
<li><a href="chap24.html#vertexpostproc-coord-transform">24.4. Coordinate Transformations</a></li>
<li><a href="chap24.html#vertexpostproc-viewport">24.5. Controlling the Viewport</a></li>
</ul>
</li>
<li><a href="chap25.html">25. Rasterization</a>
<ul class="sectlevel2">
<li><a href="chap25.html#primsrast-discard">25.1. Discarding Primitives Before Rasterization</a></li>
<li><a href="chap25.html#primsrast-order">25.2. Rasterization Order</a></li>
<li><a href="chap25.html#primsrast-multisampling">25.3. Multisampling</a></li>
<li><a href="chap25.html#primsrast-sampleshading">25.4. Sample Shading</a></li>
<li><a href="chap25.html#primsrast-points">25.5. Points</a></li>
<li><a href="chap25.html#primsrast-lines">25.6. Line Segments</a></li>
<li><a href="chap25.html#primsrast-polygons">25.7. Polygons</a></li>
</ul>
</li>
<li><a href="chap26.html">26. Fragment Operations</a>
<ul class="sectlevel2">
<li><a href="chap26.html#fragops-scissor">26.1. Scissor Test</a></li>
<li><a href="chap26.html#fragops-samplemask">26.2. Sample Mask Test</a></li>
<li><a href="chap26.html#fragops-shader">26.3. Fragment Shading</a></li>
<li><a href="chap26.html#fragops-covg">26.4. Multisample Coverage</a></li>
<li><a href="chap26.html#fragops-ds-state">26.5. Depth and Stencil Operations</a></li>
<li><a href="chap26.html#fragops-dbt">26.6. Depth Bounds Test</a></li>
<li><a href="chap26.html#fragops-stencil">26.7. Stencil Test</a></li>
<li><a href="chap26.html#fragops-depth">26.8. Depth Test</a></li>
<li><a href="chap26.html#fragops-samplecount">26.9. Sample Counting</a></li>
<li><a href="chap26.html#fragops-coverage-reduction">26.10. Coverage Reduction</a></li>
</ul>
</li>
<li><a href="chap27.html">27. The Framebuffer</a>
<ul class="sectlevel2">
<li><a href="chap27.html#framebuffer-blending">27.1. Blending</a></li>
<li><a href="chap27.html#framebuffer-logicop">27.2. Logical Operations</a></li>
<li><a href="chap27.html#framebuffer-color-write-mask">27.3. Color Write Mask</a></li>
</ul>
</li>
<li><a href="chap28.html">28. Dispatching Commands</a></li>
<li><a href="chap29.html">29. Sparse Resources</a>
<ul class="sectlevel2">
<li><a href="chap29.html#sparsememory-sparseresourcefeatures">29.1. Sparse Resource Features</a></li>
<li><a href="chap29.html#sparsememory-fully-resident">29.2. Sparse Buffers and Fully-Resident Images</a></li>
<li><a href="chap29.html#sparsememory-partially-resident-buffers">29.3. Sparse Partially-Resident Buffers</a></li>
<li><a href="chap29.html#sparsememory-partially-resident-images">29.4. Sparse Partially-Resident Images</a></li>
<li><a href="chap29.html#sparsememory-sparse-memory-aliasing">29.5. Sparse Memory Aliasing</a></li>
<li><a href="chap29.html#_sparse_resource_implementation_guidelines_informative">29.6. Sparse Resource Implementation Guidelines (Informative)</a></li>
<li><a href="chap29.html#sparsememory-resourceapi">29.7. Sparse Resource API</a></li>
</ul>
</li>
<li><a href="chap30.html">30. Extending Vulkan</a>
<ul class="sectlevel2">
<li><a href="chap30.html#extendingvulkan-instanceanddevicefunctionality">30.1. Instance and Device Functionality</a></li>
<li><a href="chap30.html#extendingvulkan-coreversions">30.2. Core Versions</a></li>
<li><a href="chap30.html#extendingvulkan-layers">30.3. Layers</a></li>
<li><a href="chap30.html#extendingvulkan-extensions">30.4. Extensions</a></li>
<li><a href="chap30.html#extendingvulkan-extensions-extensiondependencies">30.5. Extension Dependencies</a></li>
<li><a href="chap30.html#_compatibility_guarantees_informative">30.6. Compatibility Guarantees (Informative)</a></li>
</ul>
</li>
<li><a href="chap31.html">31. Features</a>
<ul class="sectlevel2">
<li><a href="chap31.html#features-requirements">31.1. Feature Requirements</a></li>
</ul>
</li>
<li><a href="chap32.html">32. Limits</a>
<ul class="sectlevel2">
<li><a href="chap32.html#limits-minmax">32.1. Limit Requirements</a></li>
</ul>
</li>
<li><a href="chap33.html">33. Formats</a>
<ul class="sectlevel2">
<li><a href="chap33.html#formats-definition">33.1. Format Definition</a></li>
<li><a href="chap33.html#formats-properties">33.2. Format Properties</a></li>
<li><a href="chap33.html#features-required-format-support">33.3. Required Format Support</a></li>
</ul>
</li>
<li class="current"><a href="chap34.html">34. Additional Capabilities</a>
<ul class="sectlevel2">
<li class="current"><a href="chap34.html#capabilities-image">34.1. Additional Image Capabilities</a></li>
<li class="current"><a href="chap34.html#capabilities-buffer">34.2. Additional Buffer Capabilities</a></li>
<li class="current"><a href="chap34.html#capabilities-semaphore">34.3. Optional Semaphore Capabilities</a></li>
<li class="current"><a href="chap34.html#capabilities-fence">34.4. Optional Fence Capabilities</a></li>
</ul>
</li>
<li><a href="chap35.html">35. Debugging</a></li>
<li><a href="chap36.html">Appendix A: Vulkan Environment for SPIR-V</a>
<ul class="sectlevel2">
<li><a href="chap36.html#_versions_and_formats">Versions and Formats</a></li>
<li><a href="chap36.html#spirvenv-capabilities">Capabilities</a></li>
<li><a href="chap36.html#spirvenv-module-validation">Validation Rules within a Module</a></li>
<li><a href="chap36.html#spirvenv-precision-operation">Precision and Operation of SPIR-V Instructions</a></li>
<li><a href="chap36.html#spirvenv-image-signedness">Signedness of SPIR-V Image Accesses</a></li>
<li><a href="chap36.html#spirvenv-format-type-matching">Image Format and Type Matching</a></li>
<li><a href="chap36.html#spirvenv-image-formats">Compatibility Between SPIR-V Image Formats And Vulkan Formats</a></li>
</ul>
</li>
<li><a href="chap37.html">Appendix B: Compressed Image Formats</a>
<ul class="sectlevel2">
<li><a href="chap37.html#appendix-compressedtex-bc">Block-Compressed Image Formats</a></li>
<li><a href="chap37.html#appendix-compressedtex-etc2">ETC Compressed Image Formats</a></li>
<li><a href="chap37.html#appendix-compressedtex-astc">ASTC Compressed Image Formats</a></li>
</ul>
</li>
<li><a href="chap38.html">Appendix C: Core Revisions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap38.html#versions-1.1">Version 1.1</a></li>
<li><a href="chap38.html#versions-1.0">Version 1.0</a></li>
</ul>
</li>
<li><a href="chap39.html">Appendix D: Layers &amp; Extensions (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap39.html#extension-appendices-list">List of Extensions</a></li>
</ul>
</li>
<li><a href="chap40.html">Appendix E: API Boilerplate</a>
<ul class="sectlevel2">
<li><a href="chap40.html#boilerplate-headers">Vulkan Header Files</a></li>
<li><a href="chap40.html#boilerplate-wsi-header">Window System-Specific Header Control (Informative)</a></li>
<li><a href="chap40.html#boilerplate-provisional-header">Provisional Extension Header Control (Informative)</a></li>
</ul>
</li>
<li><a href="chap41.html">Appendix F: Invariance</a>
<ul class="sectlevel2">
<li><a href="chap41.html#_repeatability">Repeatability</a></li>
<li><a href="chap41.html#_multi_pass_algorithms">Multi-pass Algorithms</a></li>
<li><a href="chap41.html#_invariance_rules">Invariance Rules</a></li>
<li><a href="chap41.html#_tessellation_invariance">Tessellation Invariance</a></li>
</ul>
</li>
<li><a href="chap42.html">Appendix G: Lexicon</a>
<ul class="sectlevel2">
<li><a href="chap42.html#glossary">Glossary</a></li>
<li><a href="chap42.html#lexicon-common-abbreviations">Common Abbreviations</a></li>
<li><a href="chap42.html#lexicon-prefixes">Prefixes</a></li>
</ul>
</li>
<li><a href="chap43.html">Appendix H: Credits (Informative)</a>
<ul class="sectlevel2">
<li><a href="chap43.html#_working_group_contributors_to_vulkan">Working Group Contributors to Vulkan</a></li>
<li><a href="chap43.html#_other_credits">Other Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="loading_msg" class="hidden" hidden=""><p>Loading… please wait.</p></div>
<!--ChunkedSearchboxMarker-->
<div class="searchbox"><label for="searchbox">Search: </label><input id="searchbox" type="text" disabled="disabled" value="Loading Search Data"><div id="resultsdiv"><ol id="results"></ol></div></div>
<div id="content" class="loadable"><div class="sect1">
<h2 id="capabilities"><a class="anchor" href="chap34.html"></a>34. Additional Capabilities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes additional capabilities beyond the minimum
capabilities described in the <a href="chap32.html">Limits</a> and <a href="chap33.html">Formats</a>
chapters, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#capabilities-image">Additional Image Capabilities</a></p>
</li>
<li>
<p><a href="chap34.html#capabilities-buffer">Additional Buffer Capabilities</a></p>
</li>
<li>
<p><a href="chap34.html#capabilities-semaphore">Optional Semaphore Capabilities</a></p>
</li>
<li>
<p><a href="chap34.html#capabilities-fence">Optional Fence Capabilities</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="capabilities-image"><a class="anchor" href="chap34.html#capabilities-image"></a>34.1. Additional Image Capabilities</h3>
<div class="paragraph">
<p>Additional image capabilities, such as larger dimensions or additional
sample counts for certain image types, or additional capabilities for
<em>linear</em> tiling format images, are described in this section.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query additional capabilities specific to image types, call:</p>
</div>
<div id="vkGetPhysicalDeviceImageFormatProperties" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceImageFormatProperties</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="n">VkFormat</span>                                    <span class="n">format</span><span class="p">,</span>
    <span class="n">VkImageType</span>                                 <span class="n">type</span><span class="p">,</span>
    <span class="n">VkImageTiling</span>                               <span class="n">tiling</span><span class="p">,</span>
    <span class="n">VkImageUsageFlags</span>                           <span class="n">usage</span><span class="p">,</span>
    <span class="n">VkImageCreateFlags</span>                          <span class="n">flags</span><span class="p">,</span>
    <span class="n">VkImageFormatProperties</span><span class="o">*</span>                    <span class="n">pImageFormatProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
image capabilities.</p>
</li>
<li>
<p><code>format</code> is a <a href="chap33.html#VkFormat">VkFormat</a> value specifying the image format,
corresponding to <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p><code>type</code> is a <a href="chap12.html#VkImageType">VkImageType</a> value specifying the image type,
corresponding to <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>::<code>imageType</code>.</p>
</li>
<li>
<p><code>tiling</code> is a <a href="chap12.html#VkImageTiling">VkImageTiling</a> value specifying the image tiling,
corresponding to <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>::<code>tiling</code>.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a> specifying the
intended usage of the image, corresponding to
<a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>::<code>usage</code>.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="chap12.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a> specifying
additional parameters of the image, corresponding to
<a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>::<code>flags</code>.</p>
</li>
<li>
<p><code>pImageFormatProperties</code> is a pointer to a
<a href="chap34.html#VkImageFormatProperties">VkImageFormatProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code>
parameters correspond to parameters that would be consumed by
<a href="chap12.html#vkCreateImage">vkCreateImage</a> (as members of <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>).</p>
</div>
<div class="paragraph">
<p>If <code>format</code> is not a supported image format, or if the combination of
<code>format</code>, <code>type</code>, <code>tiling</code>, <code>usage</code>, and <code>flags</code> is not
supported for images, then <code>vkGetPhysicalDeviceImageFormatProperties</code>
returns <code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>.</p>
</div>
<div class="paragraph">
<p>The limitations on an image format that are reported by
<code>vkGetPhysicalDeviceImageFormatProperties</code> have the following property:
if <code>usage1</code> and <code>usage2</code> of type <a href="chap12.html#VkImageUsageFlags">VkImageUsageFlags</a> are such that
the bits set in <code>usage1</code> are a subset of the bits set in <code>usage2</code>, and
<code>flags1</code> and <code>flags2</code> of type <a href="chap12.html#VkImageCreateFlags">VkImageCreateFlags</a> are such that
the bits set in <code>flags1</code> are a subset of the bits set in <code>flags2</code>,
then the limitations for <code>usage1</code> and <code>flags1</code> <strong class="purple">must</strong> be no more strict
than the limitations for <code>usage2</code> and <code>flags2</code>, for all values of
<code>format</code>, <code>type</code>, and <code>tiling</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceImageFormatProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-format-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceImageFormatProperties-format-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-format-parameter</span><br>
 <code>format</code> <strong class="purple">must</strong> be a valid <a href="chap33.html#VkFormat">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-type-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceImageFormatProperties-type-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-type-parameter</span><br>
 <code>type</code> <strong class="purple">must</strong> be a valid <a href="chap12.html#VkImageType">VkImageType</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-tiling-parameter</span><br>
 <code>tiling</code> <strong class="purple">must</strong> be a valid <a href="chap12.html#VkImageTiling">VkImageTiling</a> value</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-usage-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceImageFormatProperties-usage-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-usage-parameter</span><br>
 <code>usage</code> <strong class="purple">must</strong> be a valid combination of <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-usage-requiredbitmask" href="chap34.html#VUID-vkGetPhysicalDeviceImageFormatProperties-usage-requiredbitmask"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-usage-requiredbitmask</span><br>
 <code>usage</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-flags-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceImageFormatProperties-flags-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-flags-parameter</span><br>
 <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="chap12.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties-pImageFormatProperties-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceImageFormatProperties-pImageFormatProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties-pImageFormatProperties-parameter</span><br>
 <code>pImageFormatProperties</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkImageFormatProperties">VkImageFormatProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FORMAT_NOT_SUPPORTED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageFormatProperties</code> structure is defined as:</p>
</div>
<div id="VkImageFormatProperties" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_0</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkImageFormatProperties</span> <span class="p">{</span>
    <span class="n">VkExtent3D</span>            <span class="n">maxExtent</span><span class="p">;</span>
    <span class="kt">uint32_t</span>              <span class="n">maxMipLevels</span><span class="p">;</span>
    <span class="kt">uint32_t</span>              <span class="n">maxArrayLayers</span><span class="p">;</span>
    <span class="n">VkSampleCountFlags</span>    <span class="n">sampleCounts</span><span class="p">;</span>
    <span class="n">VkDeviceSize</span>          <span class="n">maxResourceSize</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkImageFormatProperties</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>maxExtent</code> are the maximum image dimensions.
See the <a href="chap34.html#features-extentperimagetype">Allowed Extent Values</a> section
below for how these values are constrained by <code>type</code>.</p>
</li>
<li>
<p><code>maxMipLevels</code> is the maximum number of mipmap levels.
<code>maxMipLevels</code> <strong class="purple">must</strong> be equal to the number of levels in the
complete mipmap chain based on the <span class="eq"><code>maxExtent.width</code></span>,
<span class="eq"><code>maxExtent.height</code></span>, and <span class="eq"><code>maxExtent.depth</code></span>, except
when one of the following conditions is true, in which case it <strong class="purple">may</strong>
instead be <code>1</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>vkGetPhysicalDeviceImageFormatProperties</code>::<code>tiling</code> was
<code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p>the <a href="chap34.html#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>::<code>pNext</code> chain included
a <a href="chap34.html#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a> structure with a handle
type included in the <code>handleTypes</code> member for which mipmap image
support is not required</p>
</li>
<li>
<p>image <code>format</code> is one of the
<a href="chap33.html#formats-requiring-sampler-ycbcr-conversion">formats that require a
sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>maxArrayLayers</code> is the maximum number of array layers.
<code>maxArrayLayers</code> <strong class="purple">must</strong> be no less than
<a href="chap32.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxImageArrayLayers</code>, except when one
of the following conditions is true, in which case it <strong class="purple">may</strong> instead be
<code>1</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_OPTIMAL</code> and <code>type</code> is
<code>VK_IMAGE_TYPE_3D</code></p>
</li>
<li>
<p><code>format</code> is one of the
<a href="chap33.html#formats-requiring-sampler-ycbcr-conversion">formats that require a
sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>sampleCounts</code> is a bitmask of <a href="chap32.html#VkSampleCountFlagBits">VkSampleCountFlagBits</a>
specifying all the supported sample counts for this image as described
<a href="chap34.html#features-supported-sample-counts">below</a>.</p>
</li>
<li>
<p><code>maxResourceSize</code> is an upper bound on the total image size in
bytes, inclusive of all image subresources.
Implementations <strong class="purple">may</strong> have an address space limit on total size of a
resource, which is advertised by this property.
<code>maxResourceSize</code> <strong class="purple">must</strong> be at least 2<sup>31</sup>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There is no mechanism to query the size of an image before creating it, to
compare that size against <code>maxResourceSize</code>.
If an application attempts to create an image that exceeds this limit, the
creation will fail and <a href="chap12.html#vkCreateImage">vkCreateImage</a> will return
<code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code>.
While the advertised limit <strong class="purple">must</strong> be at least 2<sup>31</sup>, it <strong class="purple">may</strong> not be possible
to create an image that approaches that size, particularly for
<code>VK_IMAGE_TYPE_1D</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If the combination of parameters to
<code>vkGetPhysicalDeviceImageFormatProperties</code> is not supported by the
implementation for use in <a href="chap12.html#vkCreateImage">vkCreateImage</a>, then all members of
<code>VkImageFormatProperties</code> will be filled with zero.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Filling <code>VkImageFormatProperties</code> with zero for unsupported formats is
an exception to the usual rule that output structures have undefined
contents on error.
This exception was unintentional, but is preserved for backwards
compatibility.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query additional capabilities specific to image types, call:</p>
</div>
<div id="vkGetPhysicalDeviceImageFormatProperties2" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="n">VkResult</span> <span class="nf">vkGetPhysicalDeviceImageFormatProperties2</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkPhysicalDeviceImageFormatInfo2</span><span class="o">*</span>     <span class="n">pImageFormatInfo</span><span class="p">,</span>
    <span class="n">VkImageFormatProperties2</span><span class="o">*</span>                   <span class="n">pImageFormatProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
image capabilities.</p>
</li>
<li>
<p><code>pImageFormatInfo</code> is a pointer to a
<a href="chap34.html#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a> structure describing the
parameters that would be consumed by <a href="chap12.html#vkCreateImage">vkCreateImage</a>.</p>
</li>
<li>
<p><code>pImageFormatProperties</code> is a pointer to a
<a href="chap34.html#VkImageFormatProperties2">VkImageFormatProperties2</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceImageFormatProperties2</code> behaves similarly to
<a href="chap34.html#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a>, with the ability to return
extended information in a <code>pNext</code> chain of output structures.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties2-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceImageFormatProperties2-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties2-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatInfo-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatInfo-parameter</span><br>
 <code>pImageFormatInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatProperties-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceImageFormatProperties2-pImageFormatProperties-parameter</span><br>
 <code>pImageFormatProperties</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkImageFormatProperties2">VkImageFormatProperties2</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Return Codes</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="chap3.html#fundamentals-successcodes">Success</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_SUCCESS</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><a href="chap3.html#fundamentals-errorcodes">Failure</a></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>VK_ERROR_OUT_OF_HOST_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_OUT_OF_DEVICE_MEMORY</code></p>
</li>
<li>
<p><code>VK_ERROR_FORMAT_NOT_SUPPORTED</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceImageFormatInfo2</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceImageFormatInfo2" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPhysicalDeviceImageFormatInfo2</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>       <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>           <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkFormat</span>              <span class="n">format</span><span class="p">;</span>
    <span class="n">VkImageType</span>           <span class="n">type</span><span class="p">;</span>
    <span class="n">VkImageTiling</span>         <span class="n">tiling</span><span class="p">;</span>
    <span class="n">VkImageUsageFlags</span>     <span class="n">usage</span><span class="p">;</span>
    <span class="n">VkImageCreateFlags</span>    <span class="n">flags</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPhysicalDeviceImageFormatInfo2</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.
The <code>pNext</code> chain of <code>VkPhysicalDeviceImageFormatInfo2</code> is used
to provide additional image parameters to
<code>vkGetPhysicalDeviceImageFormatProperties2</code>.</p>
</li>
<li>
<p><code>format</code> is a <a href="chap33.html#VkFormat">VkFormat</a> value indicating the image format,
corresponding to <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>::<code>format</code>.</p>
</li>
<li>
<p><code>type</code> is a <a href="chap12.html#VkImageType">VkImageType</a> value indicating the image type,
corresponding to <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>::<code>imageType</code>.</p>
</li>
<li>
<p><code>tiling</code> is a <a href="chap12.html#VkImageTiling">VkImageTiling</a> value indicating the image tiling,
corresponding to <a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>::<code>tiling</code>.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a> indicating the
intended usage of the image, corresponding to
<a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>::<code>usage</code>.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="chap12.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a> indicating
additional parameters of the image, corresponding to
<a href="chap12.html#VkImageCreateInfo">VkImageCreateInfo</a>::<code>flags</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The members of <code>VkPhysicalDeviceImageFormatInfo2</code> correspond to the
arguments to <a href="chap34.html#vkGetPhysicalDeviceImageFormatProperties">vkGetPhysicalDeviceImageFormatProperties</a>, with
<code>sType</code> and <code>pNext</code> added for extensibility.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-sType-sType" href="chap34.html#VUID-VkPhysicalDeviceImageFormatInfo2-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_IMAGE_FORMAT_INFO_2</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-pNext-pNext" href="chap34.html#VUID-VkPhysicalDeviceImageFormatInfo2-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code> or a pointer to a valid instance of <a href="chap34.html#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-sType-unique" href="chap34.html#VUID-VkPhysicalDeviceImageFormatInfo2-sType-unique"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-format-parameter" href="chap34.html#VUID-VkPhysicalDeviceImageFormatInfo2-format-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-format-parameter</span><br>
 <code>format</code> <strong class="purple">must</strong> be a valid <a href="chap33.html#VkFormat">VkFormat</a> value</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-type-parameter" href="chap34.html#VUID-VkPhysicalDeviceImageFormatInfo2-type-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-type-parameter</span><br>
 <code>type</code> <strong class="purple">must</strong> be a valid <a href="chap12.html#VkImageType">VkImageType</a> value</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-tiling-parameter" href="chap34.html#VUID-VkPhysicalDeviceImageFormatInfo2-tiling-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-tiling-parameter</span><br>
 <code>tiling</code> <strong class="purple">must</strong> be a valid <a href="chap12.html#VkImageTiling">VkImageTiling</a> value</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-usage-parameter" href="chap34.html#VUID-VkPhysicalDeviceImageFormatInfo2-usage-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-usage-parameter</span><br>
 <code>usage</code> <strong class="purple">must</strong> be a valid combination of <a href="chap12.html#VkImageUsageFlagBits">VkImageUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-usage-requiredbitmask" href="chap34.html#VUID-VkPhysicalDeviceImageFormatInfo2-usage-requiredbitmask"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-usage-requiredbitmask</span><br>
 <code>usage</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceImageFormatInfo2-flags-parameter" href="chap34.html#VUID-VkPhysicalDeviceImageFormatInfo2-flags-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceImageFormatInfo2-flags-parameter</span><br>
 <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="chap12.html#VkImageCreateFlagBits">VkImageCreateFlagBits</a> values</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkImageFormatProperties2</code> structure is defined as:</p>
</div>
<div id="VkImageFormatProperties2" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkImageFormatProperties2</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>            <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                      <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkImageFormatProperties</span>    <span class="n">imageFormatProperties</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkImageFormatProperties2</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.
The <code>pNext</code> chain of <code>VkImageFormatProperties2</code> is used to allow
the specification of additional capabilities to be returned from
<code>vkGetPhysicalDeviceImageFormatProperties2</code>.</p>
</li>
<li>
<p><code>imageFormatProperties</code> is a <a href="chap34.html#VkImageFormatProperties">VkImageFormatProperties</a> structure
in which capabilities are returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the combination of parameters to
<code>vkGetPhysicalDeviceImageFormatProperties2</code> is not supported by the
implementation for use in <a href="chap12.html#vkCreateImage">vkCreateImage</a>, then all members of
<code>imageFormatProperties</code> will be filled with zero.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Filling <code>imageFormatProperties</code> with zero for unsupported formats is an
exception to the usual rule that output structures have undefined contents
on error.
This exception was unintentional, but is preserved for backwards
compatibility.
This exeption only applies to <code>imageFormatProperties</code>, not <code>sType</code>,
<code>pNext</code>, or any structures chained from <code>pNext</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkImageFormatProperties2-sType-sType" href="chap34.html#VUID-VkImageFormatProperties2-sType-sType"></a> <span class="vuid">VUID-VkImageFormatProperties2-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_IMAGE_FORMAT_PROPERTIES_2</code></p>
</li>
<li>
<p><a id="VUID-VkImageFormatProperties2-pNext-pNext" href="chap34.html#VUID-VkImageFormatProperties2-pNext-pNext"></a> <span class="vuid">VUID-VkImageFormatProperties2-pNext-pNext</span><br>
 Each <code>pNext</code> member of any structure (including this one) in the <code>pNext</code> chain <strong class="purple">must</strong> be either <code>NULL</code> or a pointer to a valid instance of <a href="chap34.html#VkExternalImageFormatProperties">VkExternalImageFormatProperties</a> or <a href="chap34.html#VkSamplerYcbcrConversionImageFormatProperties">VkSamplerYcbcrConversionImageFormatProperties</a></p>
</li>
<li>
<p><a id="VUID-VkImageFormatProperties2-sType-unique" href="chap34.html#VUID-VkImageFormatProperties2-sType-unique"></a> <span class="vuid">VUID-VkImageFormatProperties2-sType-unique</span><br>
 The <code>sType</code> value of each struct in the <code>pNext</code> chain <strong class="purple">must</strong> be unique</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the image capabilities compatible with an external memory
handle type, add a <a href="chap34.html#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a> structure
to the <code>pNext</code> chain of the <a href="chap34.html#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>
structure and a <code>VkExternalImageFormatProperties</code> structure to the
<code>pNext</code> chain of the <a href="chap34.html#VkImageFormatProperties2">VkImageFormatProperties2</a> structure.</p>
</div>
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalImageFormatInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalImageFormatInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPhysicalDeviceExternalImageFormatInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                       <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                           <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkExternalMemoryHandleTypeFlagBits</span>    <span class="n">handleType</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPhysicalDeviceExternalImageFormatInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="chap34.html#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value
specifying the memory handle type that will be used with the memory
associated with the image.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is 0, <a href="chap34.html#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a>
will behave as if <a href="chap34.html#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a> was not
present, and <a href="chap34.html#VkExternalImageFormatProperties">VkExternalImageFormatProperties</a> will be ignored.</p>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is not compatible with the <code>format</code>, <code>type</code>,
<code>tiling</code>, <code>usage</code>, and <code>flags</code> specified in
<a href="chap34.html#VkPhysicalDeviceImageFormatInfo2">VkPhysicalDeviceImageFormatInfo2</a>, then
<a href="chap34.html#vkGetPhysicalDeviceImageFormatProperties2">vkGetPhysicalDeviceImageFormatProperties2</a> returns
<code>VK_ERROR_FORMAT_NOT_SUPPORTED</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalImageFormatInfo-sType-sType" href="chap34.html#VUID-VkPhysicalDeviceExternalImageFormatInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalImageFormatInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_IMAGE_FORMAT_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalImageFormatInfo-handleType-parameter" href="chap34.html#VUID-VkPhysicalDeviceExternalImageFormatInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalImageFormatInfo-handleType-parameter</span><br>
 If <code>handleType</code> is not <code>0</code>, <code>handleType</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Possible values of
<a href="chap34.html#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a>::<code>handleType</code>, specifying
an external memory handle type, are:</p>
</div>
<div id="VkExternalMemoryHandleTypeFlagBits" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkExternalMemoryHandleTypeFlagBits</span> <span class="p">{</span>
    <span class="n">VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT</span> <span class="o">=</span> <span class="mh">0x00000010</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT</span> <span class="o">=</span> <span class="mh">0x00000020</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT</span> <span class="o">=</span> <span class="mh">0x00000040</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkExternalMemoryHandleTypeFlagBits</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT</code> specifies a POSIX
file descriptor handle that has only limited valid usage outside of
Vulkan and other compatible APIs.
It <strong class="purple">must</strong> be compatible with the POSIX system calls <code>dup</code>, <code>dup2</code>,
<code>close</code>, and the non-standard system call <code>dup3</code>.
Additionally, it <strong class="purple">must</strong> be transportable over a socket using an
<code>SCM_RIGHTS</code> control message.
It owns a reference to the underlying memory resource represented by its
Vulkan memory object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT</code> specifies an NT
handle that has only limited valid usage outside of Vulkan and other
compatible APIs.
It <strong class="purple">must</strong> be compatible with the functions <code>DuplicateHandle</code>,
<code>CloseHandle</code>, <code>CompareObjectHandles</code>, <code>GetHandleInformation</code>,
and <code>SetHandleInformation</code>.
It owns a reference to the underlying memory resource represented by its
Vulkan memory object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code> specifies a
global share handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It is not compatible with any native APIs.
It does not own a reference to the underlying memory resource
represented by its Vulkan memory object, and will therefore become
invalid when all Vulkan memory objects associated with it are destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT</code> specifies an NT
handle returned by <code>IDXGIResource1</code>::<code>CreateSharedHandle</code>
referring to a Direct3D 10 or 11 texture resource.
It owns a reference to the memory used by the Direct3D resource.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT</code> specifies a
global share handle returned by <code>IDXGIResource</code>::<code>GetSharedHandle</code>
referring to a Direct3D 10 or 11 texture resource.
It does not own a reference to the underlying Direct3D resource, and
will therefore become invalid when all Vulkan memory objects and
Direct3D resources associated with it are destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT</code> specifies an NT
handle returned by <code>ID3D12Device</code>::<code>CreateSharedHandle</code> referring
to a Direct3D 12 heap resource.
It owns a reference to the resources used by the Direct3D heap.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT</code> specifies an NT
handle returned by <code>ID3D12Device</code>::<code>CreateSharedHandle</code> referring
to a Direct3D 12 committed resource.
It owns a reference to the memory used by the Direct3D resource.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Some external memory handle types can only be shared within the same
underlying physical device and/or the same driver version, as defined in the
following table:</p>
</div>
<table id="external-memory-handle-types-compatibility" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 55. External memory handle types compatibility</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>driverUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>deviceUUID</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_HEAP_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalMemoryHandleTypeFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkExternalMemoryHandleTypeFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalMemoryHandleTypeFlags</code> is a bitmask type for setting a mask
of zero or more <a href="chap34.html#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalImageFormatProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalImageFormatProperties" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkExternalImageFormatProperties</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>               <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                         <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkExternalMemoryProperties</span>    <span class="n">externalMemoryProperties</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkExternalImageFormatProperties</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>externalMemoryProperties</code> is a <a href="chap34.html#VkExternalMemoryProperties">VkExternalMemoryProperties</a>
structure specifying various capabilities of the external handle type
when used with the specified image creation parameters.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalImageFormatProperties-sType-sType" href="chap34.html#VUID-VkExternalImageFormatProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalImageFormatProperties-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_IMAGE_FORMAT_PROPERTIES</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalMemoryProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalMemoryProperties" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkExternalMemoryProperties</span> <span class="p">{</span>
    <span class="n">VkExternalMemoryFeatureFlags</span>       <span class="n">externalMemoryFeatures</span><span class="p">;</span>
    <span class="n">VkExternalMemoryHandleTypeFlags</span>    <span class="n">exportFromImportedHandleTypes</span><span class="p">;</span>
    <span class="n">VkExternalMemoryHandleTypeFlags</span>    <span class="n">compatibleHandleTypes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkExternalMemoryProperties</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>externalMemoryFeatures</code> is a bitmask of
<a href="chap34.html#VkExternalMemoryFeatureFlagBits">VkExternalMemoryFeatureFlagBits</a> specifying the features of
<code>handleType</code>.</p>
</li>
<li>
<p><code>exportFromImportedHandleTypes</code> is a bitmask of
<a href="chap34.html#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> specifying which types of
imported handle <code>handleType</code> <strong class="purple">can</strong> be exported from.</p>
</li>
<li>
<p><code>compatibleHandleTypes</code> is a bitmask of
<a href="chap34.html#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> specifying handle types which
<strong class="purple">can</strong> be specified at the same time as <code>handleType</code> when creating an
image compatible with external memory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>compatibleHandleTypes</code> <strong class="purple">must</strong> include at least <code>handleType</code>.
Inclusion of a handle type in <code>compatibleHandleTypes</code> does not imply the
values returned in <a href="chap34.html#VkImageFormatProperties2">VkImageFormatProperties2</a> will be the same when
<a href="chap34.html#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a>::<code>handleType</code> is set to
that type.
The application is responsible for querying the capabilities of all handle
types intended for concurrent use in a single image and intersecting them to
obtain the compatible set of capabilities.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in
<a href="chap34.html#VkExternalMemoryProperties">VkExternalMemoryProperties</a>::<code>externalMemoryFeatures</code>, specifying
features of an external memory handle type, are:</p>
</div>
<div id="VkExternalMemoryFeatureFlagBits" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkExternalMemoryFeatureFlagBits</span> <span class="p">{</span>
    <span class="n">VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkExternalMemoryFeatureFlagBits</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT</code> specifies that
images or buffers created with the specified parameters and handle type
<strong class="purple">must</strong> use the mechanisms defined by <a href="chap12.html#VkMemoryDedicatedRequirements">VkMemoryDedicatedRequirements</a>
and <a href="chap11.html#VkMemoryDedicatedAllocateInfo">VkMemoryDedicatedAllocateInfo</a> to create (or import) a
dedicated allocation for the image or buffer.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_EXPORTABLE_BIT</code> specifies that handles
of this type <strong class="purple">can</strong> be exported from Vulkan memory objects.</p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_FEATURE_IMPORTABLE_BIT</code> specifies that handles
of this type <strong class="purple">can</strong> be imported as Vulkan memory objects.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Because their semantics in external APIs roughly align with that of an image
or buffer with a dedicated allocation in Vulkan, implementations are
<strong class="purple">required</strong> to report <code>VK_EXTERNAL_MEMORY_FEATURE_DEDICATED_ONLY_BIT</code> for
the following external handle types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_BIT</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D11_TEXTURE_KMT_BIT</code></p>
</li>
<li>
<p><code>VK_EXTERNAL_MEMORY_HANDLE_TYPE_D3D12_RESOURCE_BIT</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalMemoryFeatureFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkExternalMemoryFeatureFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalMemoryFeatureFlags</code> is a bitmask type for setting a mask of
zero or more <a href="chap34.html#VkExternalMemoryFeatureFlagBits">VkExternalMemoryFeatureFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To determine the number of combined image samplers required to support a
multi-planar format, add <a href="chap34.html#VkSamplerYcbcrConversionImageFormatProperties">VkSamplerYcbcrConversionImageFormatProperties</a>
to the <code>pNext</code> chain of the <a href="chap34.html#VkImageFormatProperties2">VkImageFormatProperties2</a> structure in
a call to <code>vkGetPhysicalDeviceImageFormatProperties2</code>.</p>
</div>
<div class="paragraph">
<p>The <code>VkSamplerYcbcrConversionImageFormatProperties</code> structure is defined
as:</p>
</div>
<div id="VkSamplerYcbcrConversionImageFormatProperties" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkSamplerYcbcrConversionImageFormatProperties</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>    <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>              <span class="n">pNext</span><span class="p">;</span>
    <span class="kt">uint32_t</span>           <span class="n">combinedImageSamplerDescriptorCount</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkSamplerYcbcrConversionImageFormatProperties</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>combinedImageSamplerDescriptorCount</code> is the number of combined
image sampler descriptors that the implementation uses to access the
format.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkSamplerYcbcrConversionImageFormatProperties-sType-sType" href="chap34.html#VUID-VkSamplerYcbcrConversionImageFormatProperties-sType-sType"></a> <span class="vuid">VUID-VkSamplerYcbcrConversionImageFormatProperties-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_SAMPLER_YCBCR_CONVERSION_IMAGE_FORMAT_PROPERTIES</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><code>combinedImageSamplerDescriptorCount</code> is a number between 1 and the
number of planes in the format.
A descriptor set layout binding with immutable Y′C<sub>B</sub>C<sub>R</sub> conversion samplers
will have a maximum <code>combinedImageSamplerDescriptorCount</code> which is the
maximum across all formats supported by its samplers of the
<code>combinedImageSamplerDescriptorCount</code> for each format.
Descriptor sets with that layout will internally use that maximum
<code>combinedImageSamplerDescriptorCount</code> descriptors for each descriptor in
the binding.
This expanded number of descriptors will be consumed from the descriptor
pool when a descriptor set is allocated, and counts towards the
<code>maxDescriptorSetSamplers</code>, <code>maxDescriptorSetSampledImages</code>,
<code>maxPerStageDescriptorSamplers</code>, and
<code>maxPerStageDescriptorSampledImages</code> limits.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>All descriptors in a binding use the same maximum
<code>combinedImageSamplerDescriptorCount</code> descriptors to allow
implementations to use a uniform stride for dynamic indexing of the
descriptors in the binding.</p>
</div>
<div class="paragraph">
<p>For example, consider a descriptor set layout binding with two descriptors
and immutable samplers for multi-planar formats that have
<code>VkSamplerYcbcrConversionImageFormatProperties</code>::<code>combinedImageSamplerDescriptorCount</code>
values of <code>2</code> and <code>3</code> respectively.
There are two descriptors in the binding and the maximum
<code>combinedImageSamplerDescriptorCount</code> is <code>3</code>, so descriptor sets with
this layout consume <code>6</code> descriptors from the descriptor pool.
To create a descriptor pool that allows allocating four descriptor sets with
this layout, <code>descriptorCount</code> must be at least <code>24</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="features-supported-sample-counts"><a class="anchor" href="chap34.html#features-supported-sample-counts"></a>34.1.1. Supported Sample Counts</h4>
<div class="paragraph">
<p><code>vkGetPhysicalDeviceImageFormatProperties</code> returns a bitmask of
<a href="chap32.html#VkSampleCountFlagBits">VkSampleCountFlagBits</a> in <code>sampleCounts</code> specifying the supported
sample counts for the image parameters.</p>
</div>
<div class="paragraph">
<p><code>sampleCounts</code> will be set to <code>VK_SAMPLE_COUNT_1_BIT</code> if at least
one of the following conditions is true:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tiling</code> is <code>VK_IMAGE_TILING_LINEAR</code></p>
</li>
<li>
<p><code>type</code> is not <code>VK_IMAGE_TYPE_2D</code></p>
</li>
<li>
<p><code>flags</code> contains <code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code></p>
</li>
<li>
<p>Neither the <code>VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BIT</code> flag nor the
<code>VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</code> flag in
<code>VkFormatProperties</code>::<code>optimalTilingFeatures</code> returned by
<a href="chap33.html#vkGetPhysicalDeviceFormatProperties">vkGetPhysicalDeviceFormatProperties</a> is set</p>
</li>
<li>
<p><a href="chap34.html#VkPhysicalDeviceExternalImageFormatInfo">VkPhysicalDeviceExternalImageFormatInfo</a>::<code>handleType</code> is an
external handle type for which multisampled image support is not
required.</p>
</li>
<li>
<p><code>format</code> is one of the <a href="chap33.html#formats-requiring-sampler-ycbcr-conversion">formats that require a sampler Y′C<sub>B</sub>C<sub>R</sub> conversion</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Otherwise, the bits set in <code>sampleCounts</code> will be the sample counts
supported for the specified values of <code>usage</code> and <code>format</code>.
For each bit set in <code>usage</code>, the supported sample counts relate to the
limits in <code>VkPhysicalDeviceLimits</code> as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> and
<code>format</code> is a floating- or fixed-point color format, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferColorSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <code>format</code>
includes a depth aspect, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferDepthSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes
<code>VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</code>, and <code>format</code>
includes a stencil aspect, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>framebufferStencilSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> includes a color aspect, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageColorSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> includes a depth aspect, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageDepthSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_SAMPLED_BIT</code>, and
<code>format</code> is an integer format, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>sampledImageIntegerSampleCounts</code></p>
</li>
<li>
<p>If <code>usage</code> includes <code>VK_IMAGE_USAGE_STORAGE_BIT</code>, a superset of
<code>VkPhysicalDeviceLimits</code>::<code>storageImageSampleCounts</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If multiple bits are set in <code>usage</code>, <code>sampleCounts</code> will be the
intersection of the per-usage values described above.</p>
</div>
<div class="paragraph">
<p>If none of the bits described above are set in <code>usage</code>, then there is no
corresponding limit in <code>VkPhysicalDeviceLimits</code>.
In this case, <code>sampleCounts</code> <strong class="purple">must</strong> include at least
<code>VK_SAMPLE_COUNT_1_BIT</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="features-extentperimagetype"><a class="anchor" href="chap34.html#features-extentperimagetype"></a>34.1.2. Allowed Extent Values Based On Image Type</h4>
<div class="paragraph">
<p>Implementations <strong class="purple">may</strong> support extent values larger than the <a href="chap32.html#limits-minmax">required minimum/maximum values</a> for certain types of images.
<a href="chap34.html#VkImageFormatProperties">VkImageFormatProperties</a>::<code>maxExtent</code> for each type is subject to
the constraints below.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Implementations <strong class="purple">must</strong> support images with dimensions up to the
<a href="chap32.html#limits-minmax">required minimum/maximum values</a> for all types of images.
It follows that the query for additional capabilities <strong class="purple">must</strong> return extent
values that are at least as large as the required values.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_1D</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="chap32.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxImageDimension1D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> = 1</span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_2D</code> when <code>flags</code> does not contain
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="chap32.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxImageDimension2D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> ≥
<a href="chap32.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxImageDimension2D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_2D</code> when <code>flags</code> contains
<code>VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="chap32.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxImageDimensionCube</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> ≥
<a href="chap32.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxImageDimensionCube</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> = 1</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code>VK_IMAGE_TYPE_3D</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="eq"><code>maxExtent.width</code> ≥
<a href="chap32.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxImageDimension3D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.height</code> ≥
<a href="chap32.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxImageDimension3D</code></span></p>
</li>
<li>
<p><span class="eq"><code>maxExtent.depth</code> ≥
<a href="chap32.html#VkPhysicalDeviceLimits">VkPhysicalDeviceLimits</a>::<code>maxImageDimension3D</code></span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="capabilities-buffer"><a class="anchor" href="chap34.html#capabilities-buffer"></a>34.2. Additional Buffer Capabilities</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To query the external handle types supported by buffers, call:</p>
</div>
<div id="vkGetPhysicalDeviceExternalBufferProperties" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="kt">void</span> <span class="nf">vkGetPhysicalDeviceExternalBufferProperties</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkPhysicalDeviceExternalBufferInfo</span><span class="o">*</span>   <span class="n">pExternalBufferInfo</span><span class="p">,</span>
    <span class="n">VkExternalBufferProperties</span><span class="o">*</span>                 <span class="n">pExternalBufferProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
buffer capabilities.</p>
</li>
<li>
<p><code>pExternalBufferInfo</code> is a pointer to a
<a href="chap34.html#VkPhysicalDeviceExternalBufferInfo">VkPhysicalDeviceExternalBufferInfo</a> structure describing the
parameters that would be consumed by <a href="chap12.html#vkCreateBuffer">vkCreateBuffer</a>.</p>
</li>
<li>
<p><code>pExternalBufferProperties</code> is a pointer to a
<a href="chap34.html#VkExternalBufferProperties">VkExternalBufferProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalBufferProperties-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceExternalBufferProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalBufferProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferInfo-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferInfo-parameter</span><br>
 <code>pExternalBufferInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkPhysicalDeviceExternalBufferInfo">VkPhysicalDeviceExternalBufferInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferProperties-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalBufferProperties-pExternalBufferProperties-parameter</span><br>
 <code>pExternalBufferProperties</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkExternalBufferProperties">VkExternalBufferProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalBufferInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalBufferInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPhysicalDeviceExternalBufferInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                       <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                           <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkBufferCreateFlags</span>                   <span class="n">flags</span><span class="p">;</span>
    <span class="n">VkBufferUsageFlags</span>                    <span class="n">usage</span><span class="p">;</span>
    <span class="n">VkExternalMemoryHandleTypeFlagBits</span>    <span class="n">handleType</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPhysicalDeviceExternalBufferInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>flags</code> is a bitmask of <a href="chap12.html#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a> describing
additional parameters of the buffer, corresponding to
<a href="chap12.html#VkBufferCreateInfo">VkBufferCreateInfo</a>::<code>flags</code>.</p>
</li>
<li>
<p><code>usage</code> is a bitmask of <a href="chap12.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a> describing the
intended usage of the buffer, corresponding to
<a href="chap12.html#VkBufferCreateInfo">VkBufferCreateInfo</a>::<code>usage</code>.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="chap34.html#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value
specifying the memory handle type that will be used with the memory
associated with the buffer.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-sType-sType" href="chap34.html#VUID-VkPhysicalDeviceExternalBufferInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_BUFFER_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-pNext-pNext" href="chap34.html#VUID-VkPhysicalDeviceExternalBufferInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-flags-parameter" href="chap34.html#VUID-VkPhysicalDeviceExternalBufferInfo-flags-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-flags-parameter</span><br>
 <code>flags</code> <strong class="purple">must</strong> be a valid combination of <a href="chap12.html#VkBufferCreateFlagBits">VkBufferCreateFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-usage-parameter" href="chap34.html#VUID-VkPhysicalDeviceExternalBufferInfo-usage-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-usage-parameter</span><br>
 <code>usage</code> <strong class="purple">must</strong> be a valid combination of <a href="chap12.html#VkBufferUsageFlagBits">VkBufferUsageFlagBits</a> values</p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-usage-requiredbitmask" href="chap34.html#VUID-VkPhysicalDeviceExternalBufferInfo-usage-requiredbitmask"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-usage-requiredbitmask</span><br>
 <code>usage</code> <strong class="purple">must</strong> not be <code>0</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalBufferInfo-handleType-parameter" href="chap34.html#VUID-VkPhysicalDeviceExternalBufferInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalBufferInfo-handleType-parameter</span><br>
 <code>handleType</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkExternalMemoryHandleTypeFlagBits">VkExternalMemoryHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalBufferProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalBufferProperties" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkExternalBufferProperties</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>               <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                         <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkExternalMemoryProperties</span>    <span class="n">externalMemoryProperties</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkExternalBufferProperties</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>externalMemoryProperties</code> is a <a href="chap34.html#VkExternalMemoryProperties">VkExternalMemoryProperties</a>
structure specifying various capabilities of the external handle type
when used with the specified buffer creation parameters.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalBufferProperties-sType-sType" href="chap34.html#VUID-VkExternalBufferProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalBufferProperties-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_BUFFER_PROPERTIES</code></p>
</li>
<li>
<p><a id="VUID-VkExternalBufferProperties-pNext-pNext" href="chap34.html#VUID-VkExternalBufferProperties-pNext-pNext"></a> <span class="vuid">VUID-VkExternalBufferProperties-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="capabilities-semaphore"><a class="anchor" href="chap34.html#capabilities-semaphore"></a>34.3. Optional Semaphore Capabilities</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Semaphores <strong class="purple">may</strong> support import and export of their
<a href="chap7.html#synchronization-semaphores-payloads">payload</a> to external handles.
To query the external handle types supported by semaphores, call:</p>
</div>
<div id="vkGetPhysicalDeviceExternalSemaphoreProperties" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="kt">void</span> <span class="nf">vkGetPhysicalDeviceExternalSemaphoreProperties</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkPhysicalDeviceExternalSemaphoreInfo</span><span class="o">*</span> <span class="n">pExternalSemaphoreInfo</span><span class="p">,</span>
    <span class="n">VkExternalSemaphoreProperties</span><span class="o">*</span>              <span class="n">pExternalSemaphoreProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
semaphore capabilities.</p>
</li>
<li>
<p><code>pExternalSemaphoreInfo</code> is a pointer to a
<a href="chap34.html#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a> structure describing the
parameters that would be consumed by <a href="chap7.html#vkCreateSemaphore">vkCreateSemaphore</a>.</p>
</li>
<li>
<p><code>pExternalSemaphoreProperties</code> is a pointer to a
<a href="chap34.html#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreInfo-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreInfo-parameter</span><br>
 <code>pExternalSemaphoreInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreProperties-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalSemaphoreProperties-pExternalSemaphoreProperties-parameter</span><br>
 <code>pExternalSemaphoreProperties</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalSemaphoreInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalSemaphoreInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPhysicalDeviceExternalSemaphoreInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                          <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                              <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkExternalSemaphoreHandleTypeFlagBits</span>    <span class="n">handleType</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPhysicalDeviceExternalSemaphoreInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="chap34.html#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> value
specifying the external semaphore handle type for which capabilities
will be returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-sType" href="chap34.html#VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalSemaphoreInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_SEMAPHORE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalSemaphoreInfo-pNext-pNext" href="chap34.html#VUID-VkPhysicalDeviceExternalSemaphoreInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalSemaphoreInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalSemaphoreInfo-handleType-parameter" href="chap34.html#VUID-VkPhysicalDeviceExternalSemaphoreInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalSemaphoreInfo-handleType-parameter</span><br>
 <code>handleType</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in
<a href="chap34.html#VkPhysicalDeviceExternalSemaphoreInfo">VkPhysicalDeviceExternalSemaphoreInfo</a>::<code>handleType</code>, specifying an
external semaphore handle type, are:</p>
</div>
<div id="VkExternalSemaphoreHandleTypeFlagBits" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkExternalSemaphoreHandleTypeFlagBits</span> <span class="p">{</span>
    <span class="n">VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT</span> <span class="o">=</span> <span class="mh">0x00000010</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D11_FENCE_BIT</span> <span class="o">=</span> <span class="n">VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkExternalSemaphoreHandleTypeFlagBits</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT</code> specifies a POSIX
file descriptor handle that has only limited valid usage outside of
Vulkan and other compatible APIs.
It <strong class="purple">must</strong> be compatible with the POSIX system calls <code>dup</code>, <code>dup2</code>,
<code>close</code>, and the non-standard system call <code>dup3</code>.
Additionally, it <strong class="purple">must</strong> be transportable over a socket using an
<code>SCM_RIGHTS</code> control message.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan semaphore object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code> specifies an NT
handle that has only limited valid usage outside of Vulkan and other
compatible APIs.
It <strong class="purple">must</strong> be compatible with the functions <code>DuplicateHandle</code>,
<code>CloseHandle</code>, <code>CompareObjectHandles</code>, <code>GetHandleInformation</code>,
and <code>SetHandleInformation</code>.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan semaphore object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code> specifies a
global share handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It is not compatible with any native APIs.
It does not own a reference to the underlying synchronization primitive
represented by its Vulkan semaphore object, and will therefore become
invalid when all Vulkan semaphore objects associated with it are
destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT</code> specifies an NT
handle returned by <code>ID3D12Device</code>::<code>CreateSharedHandle</code> referring
to a Direct3D 12 fence, or <code>ID3D11Device5</code>::<code>CreateFence</code>
referring to a Direct3D 11 fence.
It owns a reference to the underlying synchronization primitive
associated with the Direct3D fence.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D11_FENCE_BIT</code> is an alias of
<code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT</code> with the same
meaning.
It is provided for convenience and code clarity when interacting with
D3D11 fences.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT</code> specifies a POSIX
file descriptor handle to a Linux Sync File or Android Fence object.
It can be used with any native API accepting a valid sync file or fence
as input.
It owns a reference to the underlying synchronization primitive
associated with the file descriptor.
Implementations which support importing this handle type <strong class="purple">must</strong> accept
any type of sync or fence FD supported by the native system they are
running on.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Handles of type <code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT</code>
generated by the implementation may represent either Linux Sync Files or
Android Fences at the implementation’s discretion.
Applications <strong class="purple">should</strong> only use operations defined for both types of file
descriptors, unless they know via means external to Vulkan the type of the
file descriptor, or are prepared to deal with the system-defined operation
failures resulting from using the wrong type.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Some external semaphore handle types can only be shared within the same
underlying physical device and/or the same driver version, as defined in the
following table:</p>
</div>
<table id="external-semaphore-handle-types-compatibility" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 56. External semaphore handle types compatibility</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>driverUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>deviceUUID</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_D3D12_FENCE_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_SYNC_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_SEMAPHORE_HANDLE_TYPE_ZIRCON_EVENT_BIT_FUCHSIA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalSemaphoreHandleTypeFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkExternalSemaphoreHandleTypeFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalSemaphoreHandleTypeFlags</code> is a bitmask type for setting a
mask of zero or more <a href="chap34.html#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalSemaphoreProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalSemaphoreProperties" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkExternalSemaphoreProperties</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                       <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                                 <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkExternalSemaphoreHandleTypeFlags</span>    <span class="n">exportFromImportedHandleTypes</span><span class="p">;</span>
    <span class="n">VkExternalSemaphoreHandleTypeFlags</span>    <span class="n">compatibleHandleTypes</span><span class="p">;</span>
    <span class="n">VkExternalSemaphoreFeatureFlags</span>       <span class="n">externalSemaphoreFeatures</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkExternalSemaphoreProperties</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>exportFromImportedHandleTypes</code> is a bitmask of
<a href="chap34.html#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> specifying which types of
imported handle <code>handleType</code> <strong class="purple">can</strong> be exported from.</p>
</li>
<li>
<p><code>compatibleHandleTypes</code> is a bitmask of
<a href="chap34.html#VkExternalSemaphoreHandleTypeFlagBits">VkExternalSemaphoreHandleTypeFlagBits</a> specifying handle types
which <strong class="purple">can</strong> be specified at the same time as <code>handleType</code> when
creating a semaphore.</p>
</li>
<li>
<p><code>externalSemaphoreFeatures</code> is a bitmask of
<a href="chap34.html#VkExternalSemaphoreFeatureFlagBits">VkExternalSemaphoreFeatureFlagBits</a> describing the features of
<code>handleType</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is not supported by the implementation, then
<a href="chap34.html#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a>::<code>externalSemaphoreFeatures</code> will be
set to zero.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalSemaphoreProperties-sType-sType" href="chap34.html#VUID-VkExternalSemaphoreProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalSemaphoreProperties-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_SEMAPHORE_PROPERTIES</code></p>
</li>
<li>
<p><a id="VUID-VkExternalSemaphoreProperties-pNext-pNext" href="chap34.html#VUID-VkExternalSemaphoreProperties-pNext-pNext"></a> <span class="vuid">VUID-VkExternalSemaphoreProperties-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in
<a href="chap34.html#VkExternalSemaphoreProperties">VkExternalSemaphoreProperties</a>::<code>externalSemaphoreFeatures</code>,
specifying the features of an external semaphore handle type, are:</p>
</div>
<div id="VkExternalSemaphoreFeatureFlagBits" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkExternalSemaphoreFeatureFlagBits</span> <span class="p">{</span>
    <span class="n">VK_EXTERNAL_SEMAPHORE_FEATURE_EXPORTABLE_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_SEMAPHORE_FEATURE_IMPORTABLE_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkExternalSemaphoreFeatureFlagBits</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_FEATURE_EXPORTABLE_BIT</code> specifies that
handles of this type <strong class="purple">can</strong> be exported from Vulkan semaphore objects.</p>
</li>
<li>
<p><code>VK_EXTERNAL_SEMAPHORE_FEATURE_IMPORTABLE_BIT</code> specifies that
handles of this type <strong class="purple">can</strong> be imported as Vulkan semaphore objects.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalSemaphoreFeatureFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkExternalSemaphoreFeatureFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalSemaphoreFeatureFlags</code> is a bitmask type for setting a mask
of zero or more <a href="chap34.html#VkExternalSemaphoreFeatureFlagBits">VkExternalSemaphoreFeatureFlagBits</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="capabilities-fence"><a class="anchor" href="chap34.html#capabilities-fence"></a>34.4. Optional Fence Capabilities</h3>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Fences <strong class="purple">may</strong> support import and export of their
<a href="chap7.html#synchronization-fences-payloads">payload</a> to external handles.
To query the external handle types supported by fences, call:</p>
</div>
<div id="vkGetPhysicalDeviceExternalFenceProperties" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="kt">void</span> <span class="nf">vkGetPhysicalDeviceExternalFenceProperties</span><span class="p">(</span>
    <span class="n">VkPhysicalDevice</span>                            <span class="n">physicalDevice</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">VkPhysicalDeviceExternalFenceInfo</span><span class="o">*</span>    <span class="n">pExternalFenceInfo</span><span class="p">,</span>
    <span class="n">VkExternalFenceProperties</span><span class="o">*</span>                  <span class="n">pExternalFenceProperties</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>physicalDevice</code> is the physical device from which to query the
fence capabilities.</p>
</li>
<li>
<p><code>pExternalFenceInfo</code> is a pointer to a
<a href="chap34.html#VkPhysicalDeviceExternalFenceInfo">VkPhysicalDeviceExternalFenceInfo</a> structure describing the
parameters that would be consumed by <a href="chap7.html#vkCreateFence">vkCreateFence</a>.</p>
</li>
<li>
<p><code>pExternalFenceProperties</code> is a pointer to a
<a href="chap34.html#VkExternalFenceProperties">VkExternalFenceProperties</a> structure in which capabilities are
returned.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalFenceProperties-physicalDevice-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceExternalFenceProperties-physicalDevice-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalFenceProperties-physicalDevice-parameter</span><br>
 <code>physicalDevice</code> <strong class="purple">must</strong> be a valid <a href="chap5.html#VkPhysicalDevice">VkPhysicalDevice</a> handle</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceInfo-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceInfo-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceInfo-parameter</span><br>
 <code>pExternalFenceInfo</code> <strong class="purple">must</strong> be a valid pointer to a valid <a href="chap34.html#VkPhysicalDeviceExternalFenceInfo">VkPhysicalDeviceExternalFenceInfo</a> structure</p>
</li>
<li>
<p><a id="VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceProperties-parameter" href="chap34.html#VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceProperties-parameter"></a> <span class="vuid">VUID-vkGetPhysicalDeviceExternalFenceProperties-pExternalFenceProperties-parameter</span><br>
 <code>pExternalFenceProperties</code> <strong class="purple">must</strong> be a valid pointer to a <a href="chap34.html#VkExternalFenceProperties">VkExternalFenceProperties</a> structure</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkPhysicalDeviceExternalFenceInfo</code> structure is defined as:</p>
</div>
<div id="VkPhysicalDeviceExternalFenceInfo" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkPhysicalDeviceExternalFenceInfo</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                      <span class="n">sType</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">void</span><span class="o">*</span>                          <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkExternalFenceHandleTypeFlagBits</span>    <span class="n">handleType</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkPhysicalDeviceExternalFenceInfo</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sType</code> is the type of this structure.</p>
</li>
<li>
<p><code>pNext</code> is <code>NULL</code> or a pointer to a structure extending this
structure.</p>
</li>
<li>
<p><code>handleType</code> is a <a href="chap34.html#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> value
specifying an external fence handle type for which capabilities will be
returned.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Handles of type <code>VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT</code> generated by
the implementation may represent either Linux Sync Files or Android Fences
at the implementation’s discretion.
Applications <strong class="purple">should</strong> only use operations defined for both types of file
descriptors, unless they know via means external to Vulkan the type of the
file descriptor, or are prepared to deal with the system-defined operation
failures resulting from using the wrong type.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalFenceInfo-sType-sType" href="chap34.html#VUID-VkPhysicalDeviceExternalFenceInfo-sType-sType"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalFenceInfo-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_EXTERNAL_FENCE_INFO</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalFenceInfo-pNext-pNext" href="chap34.html#VUID-VkPhysicalDeviceExternalFenceInfo-pNext-pNext"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalFenceInfo-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
<li>
<p><a id="VUID-VkPhysicalDeviceExternalFenceInfo-handleType-parameter" href="chap34.html#VUID-VkPhysicalDeviceExternalFenceInfo-handleType-parameter"></a> <span class="vuid">VUID-VkPhysicalDeviceExternalFenceInfo-handleType-parameter</span><br>
 <code>handleType</code> <strong class="purple">must</strong> be a valid <a href="chap34.html#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> value</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="chap34.html#VkPhysicalDeviceExternalFenceInfo">VkPhysicalDeviceExternalFenceInfo</a>::<code>handleType</code></p>
</li>
<li>
<p><a href="chap34.html#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>exportFromImportedHandleTypes</code></p>
</li>
<li>
<p><a href="chap34.html#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>compatibleHandleTypes</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>indicate external fence handle types, and are:</p>
</div>
<div id="VkExternalFenceHandleTypeFlagBits" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkExternalFenceHandleTypeFlagBits</span> <span class="p">{</span>
    <span class="n">VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkExternalFenceHandleTypeFlagBits</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT</code> specifies a POSIX file
descriptor handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It <strong class="purple">must</strong> be compatible with the POSIX system calls <code>dup</code>, <code>dup2</code>,
<code>close</code>, and the non-standard system call <code>dup3</code>.
Additionally, it <strong class="purple">must</strong> be transportable over a socket using an
<code>SCM_RIGHTS</code> control message.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan fence object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code> specifies an NT
handle that has only limited valid usage outside of Vulkan and other
compatible APIs.
It <strong class="purple">must</strong> be compatible with the functions <code>DuplicateHandle</code>,
<code>CloseHandle</code>, <code>CompareObjectHandles</code>, <code>GetHandleInformation</code>,
and <code>SetHandleInformation</code>.
It owns a reference to the underlying synchronization primitive
represented by its Vulkan fence object.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code> specifies a
global share handle that has only limited valid usage outside of Vulkan
and other compatible APIs.
It is not compatible with any native APIs.
It does not own a reference to the underlying synchronization primitive
represented by its Vulkan fence object, and will therefore become
invalid when all Vulkan fence objects associated with it are destroyed.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT</code> specifies a POSIX file
descriptor handle to a Linux Sync File or Android Fence.
It can be used with any native API accepting a valid sync file or fence
as input.
It owns a reference to the underlying synchronization primitive
associated with the file descriptor.
Implementations which support importing this handle type <strong class="purple">must</strong> accept
any type of sync or fence FD supported by the native system they are
running on.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Some external fence handle types can only be shared within the same
underlying physical device and/or the same driver version, as defined in the
following table:</p>
</div>
<table id="external-fence-handle-types-compatibility" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 57. External fence handle types compatibility</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>driverUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VkPhysicalDeviceIDProperties</code><wbr>::<code>deviceUUID</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_OPAQUE_WIN32_KMT_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VK_EXTERNAL_FENCE_HANDLE_TYPE_SYNC_FD_BIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No restriction</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalFenceHandleTypeFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkExternalFenceHandleTypeFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalFenceHandleTypeFlags</code> is a bitmask type for setting a mask of
zero or more <a href="chap34.html#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a>.</p>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <code>VkExternalFenceProperties</code> structure is defined as:</p>
</div>
<div id="VkExternalFenceProperties" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">VkExternalFenceProperties</span> <span class="p">{</span>
    <span class="n">VkStructureType</span>                   <span class="n">sType</span><span class="p">;</span>
    <span class="kt">void</span><span class="o">*</span>                             <span class="n">pNext</span><span class="p">;</span>
    <span class="n">VkExternalFenceHandleTypeFlags</span>    <span class="n">exportFromImportedHandleTypes</span><span class="p">;</span>
    <span class="n">VkExternalFenceHandleTypeFlags</span>    <span class="n">compatibleHandleTypes</span><span class="p">;</span>
    <span class="n">VkExternalFenceFeatureFlags</span>       <span class="n">externalFenceFeatures</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VkExternalFenceProperties</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>exportFromImportedHandleTypes</code> is a bitmask of
<a href="chap34.html#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> indicating which types of
imported handle <code>handleType</code> <strong class="purple">can</strong> be exported from.</p>
</li>
<li>
<p><code>compatibleHandleTypes</code> is a bitmask of
<a href="chap34.html#VkExternalFenceHandleTypeFlagBits">VkExternalFenceHandleTypeFlagBits</a> specifying handle types which
<strong class="purple">can</strong> be specified at the same time as <code>handleType</code> when creating a
fence.</p>
</li>
<li>
<p><code>externalFenceFeatures</code> is a bitmask of
<a href="chap34.html#VkExternalFenceFeatureFlagBits">VkExternalFenceFeatureFlagBits</a> indicating the features of
<code>handleType</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>handleType</code> is not supported by the implementation, then
<a href="chap34.html#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>externalFenceFeatures</code> will be set to
zero.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Valid Usage (Implicit)</div>
<div class="ulist">
<ul>
<li>
<p><a id="VUID-VkExternalFenceProperties-sType-sType" href="chap34.html#VUID-VkExternalFenceProperties-sType-sType"></a> <span class="vuid">VUID-VkExternalFenceProperties-sType-sType</span><br>
 <code>sType</code> <strong class="purple">must</strong> be <code>VK_STRUCTURE_TYPE_EXTERNAL_FENCE_PROPERTIES</code></p>
</li>
<li>
<p><a id="VUID-VkExternalFenceProperties-pNext-pNext" href="chap34.html#VUID-VkExternalFenceProperties-pNext-pNext"></a> <span class="vuid">VUID-VkExternalFenceProperties-pNext-pNext</span><br>
 <code>pNext</code> <strong class="purple">must</strong> be <code>NULL</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Bits which <strong class="purple">may</strong> be set in
<a href="chap34.html#VkExternalFenceProperties">VkExternalFenceProperties</a>::<code>externalFenceFeatures</code>, indicating
features of a fence external handle type, are:</p>
</div>
<div id="VkExternalFenceFeatureFlagBits" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">VkExternalFenceFeatureFlagBits</span> <span class="p">{</span>
    <span class="n">VK_EXTERNAL_FENCE_FEATURE_EXPORTABLE_BIT</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
    <span class="n">VK_EXTERNAL_FENCE_FEATURE_IMPORTABLE_BIT</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
<span class="p">}</span> <span class="n">VkExternalFenceFeatureFlagBits</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_EXTERNAL_FENCE_FEATURE_EXPORTABLE_BIT</code> specifies handles of this
type <strong class="purple">can</strong> be exported from Vulkan fence objects.</p>
</li>
<li>
<p><code>VK_EXTERNAL_FENCE_FEATURE_IMPORTABLE_BIT</code> specifies handles of this
type <strong class="purple">can</strong> be imported to Vulkan fence objects.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="openblock">
<div class="content">
<div id="VkExternalFenceFeatureFlags" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c++"><span class="c1">// Provided by VK_VERSION_1_1</span>
<span class="k">typedef</span> <span class="n">VkFlags</span> <span class="n">VkExternalFenceFeatureFlags</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>VkExternalFenceFeatureFlags</code> is a bitmask type for setting a mask of
zero or more <a href="chap34.html#VkExternalFenceFeatureFlagBits">VkExternalFenceFeatureFlagBits</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap33.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap35.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer">
<div id="footer-text">
Version 1.1.218<br>
Last updated 2022-06-15 23:17:00 -0700
</div>
</div>



</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>